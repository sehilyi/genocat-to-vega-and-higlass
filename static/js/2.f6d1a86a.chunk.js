/*! For license information please see 2.f6d1a86a.chunk.js.LICENSE.txt */
(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[2],[function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"h",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"w",(function(){return p})),n.d(t,"x",(function(){return m})),n.d(t,"kb",(function(){return v})),n.d(t,"O",(function(){return g})),n.d(t,"gb",(function(){return y})),n.d(t,"r",(function(){return b})),n.d(t,"K",(function(){return k})),n.d(t,"d",(function(){return x})),n.d(t,"b",(function(){return w})),n.d(t,"e",(function(){return E})),n.d(t,"c",(function(){return T})),n.d(t,"a",(function(){return S})),n.d(t,"N",(function(){return C})),n.d(t,"jb",(function(){return A})),n.d(t,"Q",(function(){return B})),n.d(t,"R",(function(){return z})),n.d(t,"S",(function(){return H})),n.d(t,"T",(function(){return U})),n.d(t,"lb",(function(){return G})),n.d(t,"mb",(function(){return W})),n.d(t,"nb",(function(){return q})),n.d(t,"ob",(function(){return Y})),n.d(t,"V",(function(){return X})),n.d(t,"hb",(function(){return $})),n.d(t,"i",(function(){return K})),n.d(t,"j",(function(){return Z})),n.d(t,"k",(function(){return J})),n.d(t,"l",(function(){return ee})),n.d(t,"m",(function(){return te})),n.d(t,"n",(function(){return a})),n.d(t,"o",(function(){return ne})),n.d(t,"p",(function(){return re})),n.d(t,"q",(function(){return ie})),n.d(t,"s",(function(){return le})),n.d(t,"t",(function(){return d})),n.d(t,"u",(function(){return ue})),n.d(t,"v",(function(){return ae})),n.d(t,"y",(function(){return ce})),n.d(t,"z",(function(){return fe})),n.d(t,"A",(function(){return l})),n.d(t,"B",(function(){return de})),n.d(t,"C",(function(){return he})),n.d(t,"D",(function(){return Q})),n.d(t,"E",(function(){return pe})),n.d(t,"F",(function(){return u})),n.d(t,"G",(function(){return me})),n.d(t,"H",(function(){return c})),n.d(t,"I",(function(){return ve})),n.d(t,"J",(function(){return ge})),n.d(t,"L",(function(){return ye})),n.d(t,"M",(function(){return be})),n.d(t,"P",(function(){return xe})),n.d(t,"U",(function(){return P})),n.d(t,"W",(function(){return _e})),n.d(t,"X",(function(){return we})),n.d(t,"Y",(function(){return s})),n.d(t,"Z",(function(){return f})),n.d(t,"ab",(function(){return Ee})),n.d(t,"bb",(function(){return Se})),n.d(t,"cb",(function(){return I})),n.d(t,"eb",(function(){return ke})),n.d(t,"db",(function(){return Oe})),n.d(t,"fb",(function(){return Ce})),n.d(t,"ib",(function(){return Ae}));var r=function(e,t,n){return e.fields=t||[],e.fname=n,e};function i(e){return null==e?null:e.fname}function o(e){return null==e?null:e.fields}var a=function(e){throw Error(e)},s=function(e){var t,n,r,i=[],o=null,s=0,l=e.length,u="";function c(){i.push(u+e.substring(t,n)),u="",t=n+1}for(e+="",t=n=0;n<l;++n)if("\\"===(r=e[n]))u+=e.substring(t,n),u+=e.substring(++n,++n),t=n;else if(r===o)c(),o=null,s=-1;else{if(o)continue;t===s&&'"'===r||t===s&&"'"===r?(t=n+1,o=r):"."!==r||s?"["===r?(n>t&&c(),s=t=n+1):"]"===r&&(s||a("Access path missing open bracket: "+e),s>0&&c(),s=0,t=n+1):n>t?c():t=n+1}return s&&a("Access path missing closing bracket: "+e),o&&a("Access path missing closing quote: "+e),n>t&&(n++,c()),i},l=Array.isArray,u=function(e){return e===Object(e)},c=function(e){return"string"===typeof e};function f(e){return l(e)?"["+e.map(f)+"]":u(e)||c(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}var d=function(e,t){var n=s(e),i="return _["+n.map(f).join("][")+"];";return r(Function("_",i),[e=1===n.length?n[0]:e],t||e)},h=[],p=d("id"),m=r((function(e){return e}),h,"identity"),v=r((function(){return 0}),h,"zero"),g=r((function(){return 1}),h,"one"),y=r((function(){return!0}),h,"true"),b=r((function(){return!1}),h,"false");function _(e,t,n){var r=[t].concat([].slice.call(n));console[e].apply(console,r)}var x=0,w=1,E=2,T=3,S=4,k=function(e,t){var n=e||x;return{level:function(e){return arguments.length?(n=+e,this):n},error:function(){return n>=w&&_(t||"error","ERROR",arguments),this},warn:function(){return n>=E&&_(t||"warn","WARN",arguments),this},info:function(){return n>=T&&_(t||"log","INFO",arguments),this},debug:function(){return n>=S&&_(t||"log","DEBUG",arguments),this}}},O=function(e){return"__proto__"!==e};function C(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){for(var n in t)if("signals"===n)e.signals=M(e.signals,t.signals);else{var r="legend"===n?{layout:1}:"style"===n||null;A(e,n,t[n],r)}return e}),{})}function A(e,t,n,r){var i,o;if(O(t))if(u(n)&&!l(n))for(i in o=u(e[t])?e[t]:e[t]={},n)r&&(!0===r||r[i])?A(o,i,n[i]):O(i)&&(o[i]=n[i]);else e[t]=n}function M(e,t){if(null==e)return t;var n={},r=[];function i(e){n[e.name]||(n[e.name]=1,r.push(e))}return t.forEach(i),e.forEach(i),r}var P=function(e){return e[e.length-1]},I=function(e){return null==e||""===e?null:+e};function D(e){return function(t){return e*Math.exp(t)}}function N(e){return function(t){return Math.log(e*t)}}function R(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function L(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function j(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function F(e,t,n,r){var i=n(e[0]),o=n(P(e)),a=(o-i)*t;return[r(i-a),r(o-a)]}function B(e,t){return F(e,t,I,m)}function z(e,t){var n=Math.sign(e[0]);return F(e,t,N(n),D(n))}function H(e,t,n){return F(e,t,j(n),j(1/n))}function U(e,t,n){return F(e,t,R(n),L(n))}function V(e,t,n,r,i){var o=r(e[0]),a=r(P(e)),s=null!=t?r(t):(o+a)/2;return[i(s+(o-s)*n),i(s+(a-s)*n)]}function G(e,t,n){return V(e,t,n,I,m)}function W(e,t,n){var r=Math.sign(e[0]);return V(e,t,n,N(r),D(r))}function q(e,t,n,r){return V(e,t,n,j(r),j(1/r))}function Y(e,t,n,r){return V(e,t,n,R(r),L(r))}function X(e){return 1+~~(new Date(e).getMonth()/3)}function $(e){return 1+~~(new Date(e).getUTCMonth()/3)}var K=function(e){return null!=e?l(e)?e:[e]:[]},Z=function(e,t,n){var r,i=e[0],o=e[1];return o<i&&(r=o,o=i,i=r),(r=o-i)>=n-t?[t,n]:[i=Math.min(Math.max(i,t),n-r),i+r]},Q=function(e){return"function"===typeof e},J=function(e,t){var n,i,a,l,u,c,d,h,p,m=[],v=(e=K(e)).map((function(e,t){return null==e?null:(m.push(t),Q(e)?e:s(e).map(f).join("]["))})),g=m.length-1,y=K(t),b="var u,v;return ";if(g<0)return null;for(i=0;i<=g;++i)a=v[n=m[i]],Q(a)?(l="(u=this."+(c="f"+n)+"(a))",u="(v=this."+c+"(b))",(d=d||{})[c]=a):(l="(u=a["+a+"])",u="(v=b["+a+"])"),c="((v=v instanceof Date?+v:v),(u=u instanceof Date?+u:u))","descending"!==y[n]?(p=1,h=-1):(p=-1,h=1),b+="("+l+"<"+u+"||u==null)&&v!=null?"+h+":(u>v||v==null)&&u!=null?"+p+":"+c+"!==u&&v===v?"+h+":v!==v&&u===u?"+p+(n<g?":":":0");return a=Function("a","b",b+";"),d&&(a=a.bind(d)),e=e.reduce((function(e,t){return Q(t)?(o(t)||[]).forEach((function(t){e[t]=1})):null!=t&&(e[t+""]=1),e}),{}),r(a,Object.keys(e))},ee=function(e){return Q(e)?e:function(){return e}},te=function(e,t){var n,r;function i(){t(r),n=r=null}return function(t){r=t,n&&clearTimeout(n),n=setTimeout(i,e)}},ne=function(e){for(var t,n,r=1,i=arguments.length;r<i;++r)for(n in t=arguments[r])e[n]=t[n];return e},re=function(e,t){var n,r,i,o,a=0;if(e&&(n=e.length))if(null==t){for(r=e[a];a<n&&(null==r||r!==r);r=e[++a]);for(i=o=r;a<n;++a)null!=(r=e[a])&&(r<i&&(i=r),r>o&&(o=r))}else{for(r=t(e[a]);a<n&&(null==r||r!==r);r=t(e[++a]));for(i=o=r;a<n;++a)null!=(r=t(e[a]))&&(r<i&&(i=r),r>o&&(o=r))}return[i,o]},ie=function(e,t){var n,r,i,o,a,s=-1,l=e.length;if(null==t){for(;++s<l;)if(null!=(r=e[s])&&r>=r){n=i=r;break}if(s===l)return[-1,-1];for(o=a=s;++s<l;)null!=(r=e[s])&&(n>r&&(n=r,o=s),i<r&&(i=r,a=s))}else{for(;++s<l;)if(null!=(r=t(e[s],s,e))&&r>=r){n=i=r;break}if(s===l)return[-1,-1];for(o=a=s;++s<l;)null!=(r=t(e[s],s,e))&&(n>r&&(n=r,o=s),i<r&&(i=r,a=s))}return[o,a]},oe=Object.prototype.hasOwnProperty,ae=function(e,t){return oe.call(e,t)},se={},le=function(e){var t,n,r={};function i(e){return ae(r,e)&&r[e]!==se}return t={size:0,empty:0,object:r,has:i,get:function(e){return i(e)?r[e]:void 0},set:function(e,n){return i(e)||(++t.size,r[e]===se&&--t.empty),r[e]=n,this},delete:function(e){return i(e)&&(--t.size,++t.empty,r[e]=se),this},clear:function(){t.size=t.empty=0,t.object=r={}},test:function(e){return arguments.length?(n=e,t):n},clean:function(){var e,i,o={},a=0;for(e in r)(i=r[e])===se||n&&n(i)||(o[e]=i,++a);t.size=a,t.empty=0,t.object=r=o}},e&&Object.keys(e).forEach((function(n){t.set(n,e[n])})),t},ue=function(e,t,n,r,i,o){if(!n&&0!==n)return o;var a,s,l=e[0],u=P(e),c=+n;return u<l&&(a=l,l=u,u=a),(a=Math.abs(t-l))<(s=Math.abs(u-t))&&a<=c?r:s<=c?i:o},ce=function(e,t){var n=e.prototype=Object.create(t.prototype);return n.constructor=e,n},fe=function(e,t,n,r){var i,o=t[0],a=t[t.length-1];return o>a&&(i=o,o=a,a=i),r=void 0===r||r,((n=void 0===n||n)?o<=e:o<e)&&(r?e<=a:e<a)},de=function(e){return"boolean"===typeof e},he=function(e){return"[object Date]"===Object.prototype.toString.call(e)},pe=function(e){return"number"===typeof e},me=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},ve=function(e,t){e&&(e=t?K(e).map((function(e){return e.replace(/\\(.)/g,"$1")})):K(e));var n=e&&e.length?Function("_","return ''+"+e.map((function(e){return"_["+(t?f(e):s(e).map(f).join("]["))+"]"})).join("+'|'+")+";"):function(){return""};return r(n,e,"key")},ge=function(e,t){var n=e[0],r=P(e),i=+t;return i?1===i?r:n+i*(r-n):n},ye=function(e){var t,n,r;e=+e||1e4;var i=function(){t={},n={},r=0},o=function(i,o){return++r>e&&(n=t,t={},r=1),t[i]=o};return i(),{clear:i,has:function(e){return ae(t,e)||ae(n,e)},get:function(e){return ae(t,e)?t[e]:ae(n,e)?o(e,n[e]):void 0},set:function(e,n){return ae(t,e)?t[e]=n:o(e,n)}}},be=function(e,t,n,r){var i=t.length,o=n.length;if(!o)return t;if(!i)return n;for(var a=r||new t.constructor(i+o),s=0,l=0,u=0;s<i&&l<o;++u)a[u]=e(t[s],n[l])>0?n[l++]:t[s++];for(;s<i;++s,++u)a[u]=t[s];for(;l<o;++l,++u)a[u]=n[l];return a},_e=function(e,t){for(var n="";--t>=0;)n+=e;return n},xe=function(e,t,n,r){var i=n||" ",o=e+"",a=t-o.length;return a<=0?o:"left"===r?_e(i,a)+o:"center"===r?_e(i,~~(a/2))+o+_e(i,Math.ceil(a/2)):o+_e(i,a)},we=function(e){return e&&P(e)-e[0]||0},Ee=function(e){return null==e||""===e?null:!(!e||"false"===e||"0"===e)&&!!e};function Te(e){return pe(e)||he(e)?e:Date.parse(e)}var Se=function(e,t){return t=t||Te,null==e||""===e?null:t(e)},ke=function(e){return null==e||""===e?null:e+""},Oe=function(e){for(var t={},n=0,r=e.length;n<r;++n)t[e[n]]=!0;return t},Ce=function(e,t,n,r){var i=null!=r?r:"\u2026",o=e+"",a=o.length,s=Math.max(0,t-i.length);return a<=t?o:"left"===n?i+o.slice(a-s):"center"===n?o.slice(0,Math.ceil(s/2))+i+o.slice(a-~~(s/2)):o.slice(0,s)+i},Ae=function(e,t,n){if(e){var r,i=0,o=e.length;if(t)for(;i<o;++i)(r=t(e[i]))&&n(r,i,e);else e.forEach(n)}}},function(e,t,n){e.exports=n(210)()},function(e,t,n){"use strict";e.exports=n(158)},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(106),o=(r=i)&&r.__esModule?r:{default:r};t.default=o.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(75),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"===typeof t?"undefined":(0,o.default)(t))&&"function"!==typeof t?e:t}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(203)),i=a(n(207)),o=a(n(75));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof t?"undefined":(0,o.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var a=i.apply(null,r);a&&e.push(a)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){e.exports=n(257)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(2)),i=n(218),o=a(n(48));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.default)((function(e,t,n,o,a){var s=e[t];return r.default.isValidElement(s)?new Error("Invalid "+o+" `"+a+"` of type ReactElement supplied to `"+n+"`,expected an element type (a string , component class, or function component)."):(0,i.isValidElementType)(s)?null:new Error("Invalid "+o+" `"+a+"` of value `"+s+"` supplied to `"+n+"`, expected an element type (a string , component class, or function component).")})),e.exports=t.default},,function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}}(),e.exports=n(159)},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){var r=n(97),i=n(98),o=n(70),a=n(69),s=a.MAX_LENGTH,l=a.MAX_SAFE_INTEGER,u=n(44),c=u.re,f=u.t,d=n(99).compareIdentifiers,h=function(){"use strict";function e(t,n){if(r(this,e),n&&"object"===typeof n||(n={loose:!!n,includePrerelease:!1}),t instanceof e){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if("string"!==typeof t)throw new TypeError("Invalid Version: ".concat(t));if(t.length>s)throw new TypeError("version is longer than ".concat(s," characters"));o("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;var i=t.trim().match(n.loose?c[f.LOOSE]:c[f.FULL]);if(!i)throw new TypeError("Invalid Version: ".concat(t));if(this.raw=t,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>l||this.major<0)throw new TypeError("Invalid major version");if(this.minor>l||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>l||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<l)return t}return e})):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}return i(e,[{key:"format",value:function(){return this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch),this.prerelease.length&&(this.version+="-".concat(this.prerelease.join("."))),this.version}},{key:"toString",value:function(){return this.version}},{key:"compare",value:function(t){if(o("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if("string"===typeof t&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}},{key:"compareMain",value:function(t){return t instanceof e||(t=new e(t,this.options)),d(this.major,t.major)||d(this.minor,t.minor)||d(this.patch,t.patch)}},{key:"comparePre",value:function(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var n=0;do{var r=this.prerelease[n],i=t.prerelease[n];if(o("prerelease compare",n,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return d(r,i)}while(++n)}},{key:"compareBuild",value:function(t){t instanceof e||(t=new e(t,this.options));var n=0;do{var r=this.build[n],i=t.build[n];if(o("prerelease compare",n,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return d(r,i)}while(++n)}},{key:"inc",value:function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"===typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: ".concat(e))}return this.format(),this.raw=this.version,this}}]),e}();e.exports=h},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(212),o=(r=i)&&r.__esModule?r:{default:r};t.default=(0,o.default)({shouldComponentUpdate:function(){return!this._notifying}},(function(e,t,n,r,i){n&&(e._notifying=!0,n.call.apply(n,[e,r].concat(i)),e._notifying=!1),e._values[t]=r,e.unmounted||e.forceUpdate()})),e.exports=t.default},function(e,t){function n(e){if(e&&"object"===typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"===typeof e)return a[e];var n,o=String(e);return(n=r[o.toLowerCase()])?n:(n=i[o.toLowerCase()])||(1===o.length?o.charCodeAt(0):void 0)}n.isEventKey=function(e,t){if(e&&"object"===typeof e){var n=e.which||e.keyCode||e.charCode;if(null===n||void 0===n)return!1;if("string"===typeof t){var o;if(o=r[t.toLowerCase()])return o===n;if(o=i[t.toLowerCase()])return o===n}else if("number"===typeof t)return t===n;return!1}};var r=(t=e.exports=n).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},i=t.aliases={windows:91,"\u21e7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(o=97;o<123;o++)r[String.fromCharCode(o)]=o-32;for(var o=48;o<58;o++)r[o-48]=o;for(o=1;o<13;o++)r["f"+o]=o+111;for(o=0;o<10;o++)r["numpad "+o]=o+96;var a=t.names=t.title={};for(o in r)a[r[o]]=o;for(var s in i)r[s]=i[s]},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){e.exports={default:n(216),__esModule:!0}},function(e,t){var n=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(14);e.exports=function(e,t,n){return new r(e,n).compare(new r(t,n))}},function(e,t,n){var r=n(97),i=n(98),o=function(){"use strict";function e(t,n){var i=this;if(r(this,e),n&&"object"===typeof n||(n={loose:!!n,includePrerelease:!1}),t instanceof e)return t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease?t:new e(t.raw,n);if(t instanceof a)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map((function(e){return i.parseRange(e.trim())})).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: ".concat(t));this.format()}return i(e,[{key:"format",value:function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range}},{key:"toString",value:function(){return this.range}},{key:"parseRange",value:function(e){var t=this,n=this.options.loose;e=e.trim();var r=n?c[f.HYPHENRANGELOOSE]:c[f.HYPHENRANGE];e=e.replace(r,k(this.options.includePrerelease)),s("hyphen replace",e),e=e.replace(c[f.COMPARATORTRIM],d),s("comparator trim",e,c[f.COMPARATORTRIM]),e=(e=(e=e.replace(c[f.TILDETRIM],h)).replace(c[f.CARETTRIM],p)).split(/\s+/).join(" ");var i=n?c[f.COMPARATORLOOSE]:c[f.COMPARATOR];return e.split(" ").map((function(e){return v(e,t.options)})).join(" ").split(/\s+/).map((function(e){return S(e,t.options)})).filter(this.options.loose?function(e){return!!e.match(i)}:function(){return!0}).map((function(e){return new a(e,t.options)}))}},{key:"intersects",value:function(t,n){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some((function(e){return m(e,n)&&t.set.some((function(t){return m(t,n)&&e.every((function(e){return t.every((function(t){return e.intersects(t,n)}))}))}))}))}},{key:"test",value:function(e){if(!e)return!1;if("string"===typeof e)try{e=new l(e,this.options)}catch(n){return!1}for(var t=0;t<this.set.length;t++)if(O(this.set[t],e,this.options))return!0;return!1}}]),e}();e.exports=o;var a=n(72),s=n(70),l=n(14),u=n(44),c=u.re,f=u.t,d=u.comparatorTrimReplace,h=u.tildeTrimReplace,p=u.caretTrimReplace,m=function(e,t){for(var n=!0,r=e.slice(),i=r.pop();n&&r.length;)n=r.every((function(e){return i.intersects(e,t)})),i=r.pop();return n},v=function(e,t){return s("comp",e,t),e=_(e,t),s("caret",e),e=y(e,t),s("tildes",e),e=w(e,t),s("xrange",e),e=T(e,t),s("stars",e),e},g=function(e){return!e||"x"===e.toLowerCase()||"*"===e},y=function(e,t){return e.trim().split(/\s+/).map((function(e){return b(e,t)})).join(" ")},b=function(e,t){var n=t.loose?c[f.TILDELOOSE]:c[f.TILDE];return e.replace(n,(function(t,n,r,i,o){var a;return s("tilde",e,t,n,r,i,o),g(n)?a="":g(r)?a=">=".concat(n,".0.0 <").concat(+n+1,".0.0-0"):g(i)?a=">=".concat(n,".").concat(r,".0 <").concat(n,".").concat(+r+1,".0-0"):o?(s("replaceTilde pr",o),a=">=".concat(n,".").concat(r,".").concat(i,"-").concat(o," <").concat(n,".").concat(+r+1,".0-0")):a=">=".concat(n,".").concat(r,".").concat(i," <").concat(n,".").concat(+r+1,".0-0"),s("tilde return",a),a}))},_=function(e,t){return e.trim().split(/\s+/).map((function(e){return x(e,t)})).join(" ")},x=function(e,t){s("caret",e,t);var n=t.loose?c[f.CARETLOOSE]:c[f.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,(function(t,n,i,o,a){var l;return s("caret",e,t,n,i,o,a),g(n)?l="":g(i)?l=">=".concat(n,".0.0").concat(r," <").concat(+n+1,".0.0-0"):g(o)?l="0"===n?">=".concat(n,".").concat(i,".0").concat(r," <").concat(n,".").concat(+i+1,".0-0"):">=".concat(n,".").concat(i,".0").concat(r," <").concat(+n+1,".0.0-0"):a?(s("replaceCaret pr",a),l="0"===n?"0"===i?">=".concat(n,".").concat(i,".").concat(o,"-").concat(a," <").concat(n,".").concat(i,".").concat(+o+1,"-0"):">=".concat(n,".").concat(i,".").concat(o,"-").concat(a," <").concat(n,".").concat(+i+1,".0-0"):">=".concat(n,".").concat(i,".").concat(o,"-").concat(a," <").concat(+n+1,".0.0-0")):(s("no pr"),l="0"===n?"0"===i?">=".concat(n,".").concat(i,".").concat(o).concat(r," <").concat(n,".").concat(i,".").concat(+o+1,"-0"):">=".concat(n,".").concat(i,".").concat(o).concat(r," <").concat(n,".").concat(+i+1,".0-0"):">=".concat(n,".").concat(i,".").concat(o," <").concat(+n+1,".0.0-0")),s("caret return",l),l}))},w=function(e,t){return s("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return E(e,t)})).join(" ")},E=function(e,t){e=e.trim();var n=t.loose?c[f.XRANGELOOSE]:c[f.XRANGE];return e.replace(n,(function(n,r,i,o,a,l){s("xRange",e,n,r,i,o,a,l);var u=g(i),c=u||g(o),f=c||g(a),d=f;return"="===r&&d&&(r=""),l=t.includePrerelease?"-0":"",u?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&d?(c&&(o=0),a=0,">"===r?(r=">=",c?(i=+i+1,o=0,a=0):(o=+o+1,a=0)):"<="===r&&(r="<",c?i=+i+1:o=+o+1),"<"===r&&(l="-0"),n="".concat(r+i,".").concat(o,".").concat(a).concat(l)):c?n=">=".concat(i,".0.0").concat(l," <").concat(+i+1,".0.0-0"):f&&(n=">=".concat(i,".").concat(o,".0").concat(l," <").concat(i,".").concat(+o+1,".0-0")),s("xRange return",n),n}))},T=function(e,t){return s("replaceStars",e,t),e.trim().replace(c[f.STAR],"")},S=function(e,t){return s("replaceGTE0",e,t),e.trim().replace(c[t.includePrerelease?f.GTE0PRE:f.GTE0],"")},k=function(e){return function(t,n,r,i,o,a,s,l,u,c,f,d,h){return n=g(r)?"":g(i)?">=".concat(r,".0.0").concat(e?"-0":""):g(o)?">=".concat(r,".").concat(i,".0").concat(e?"-0":""):a?">=".concat(n):">=".concat(n).concat(e?"-0":""),l=g(u)?"":g(c)?"<".concat(+u+1,".0.0-0"):g(f)?"<".concat(u,".").concat(+c+1,".0-0"):d?"<=".concat(u,".").concat(c,".").concat(f,"-").concat(d):e?"<".concat(u,".").concat(c,".").concat(+f+1,"-0"):"<=".concat(l),"".concat(n," ").concat(l).trim()}},O=function(e,t,n){for(var r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(var i=0;i<e.length;i++)if(s(e[i].semver),e[i].semver!==a.ANY&&e[i].semver.prerelease.length>0){var o=e[i].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}},function(e,t,n){var r=n(87)("wks"),i=n(64),o=n(28).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1)),i=s(n(2)),o=s(n(12)),a=n(227);n(228);function s(e){return e&&e.__esModule?e:{default:e}}t.UNMOUNTED="unmounted";t.EXITED="exited";t.ENTERING="entering";t.ENTERED="entered";t.EXITING="exiting";var l=function(e){var t,n;function r(t,n){var r;r=e.call(this,t,n)||this;var i,o=n.transitionGroup,a=o&&!o.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i="exited",r.appearStatus="entering"):i="entered":i=t.unmountOnExit||t.mountOnEnter?"unmounted":"exited",r.state={status:i},r.nextCallback=null,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getChildContext=function(){return{transitionGroup:null}},r.getDerivedStateFromProps=function(e,t){return e.in&&"unmounted"===t.status?{status:"exited"}:null},a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?"entering"!==n&&"entered"!==n&&(t="entering"):"entering"!==n&&"entered"!==n||(t="exiting")}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=o.default.findDOMNode(this);"entering"===t?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},a.performEnter=function(e,t){var n=this,r=this.props.enter,i=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,o=this.getTimeouts(),a=i?o.appear:o.enter;t||r?(this.props.onEnter(e,i),this.safeSetState({status:"entering"},(function(){n.props.onEntering(e,i),n.onTransitionEnd(e,a,(function(){n.safeSetState({status:"entered"},(function(){n.props.onEntered(e,i)}))}))}))):this.safeSetState({status:"entered"},(function(){n.props.onEntered(e)}))},a.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:"exiting"},(function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,(function(){t.safeSetState({status:"exited"},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:"exited"},(function(){t.props.onExited(e)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if("unmounted"===e)return null;var t=this.props,n=t.children,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"===typeof n)return n(e,r);var o=i.default.Children.only(n);return i.default.cloneElement(o,r)},r}(i.default.Component);function u(){}l.contextTypes={transitionGroup:r.object},l.childContextTypes={transitionGroup:function(){}},l.propTypes={},l.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:u,onEntering:u,onEntered:u,onExit:u,onExiting:u,onExited:u},l.UNMOUNTED=0,l.EXITED=1,l.ENTERING=2,l.ENTERED=3,l.EXITING=4;var c=(0,a.polyfill)(l);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(t,n,r){void 0===n&&(n=!1),i(this,e),this._fn=t,this._once=n,this._thisArg=r,this._next=this._prev=this._owner=null}return r(e,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),e}();function a(e,t){return e._head?(e._tail._next=t,t._prev=e._tail,e._tail=t):(e._head=t,e._tail=t),t._owner=e,t}var s=function(){function e(){i(this,e),this._head=this._tail=void 0}return r(e,[{key:"handlers",value:function(){var e=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],t=this._head;if(e)return!!t;for(var n=[];t;)n.push(t),t=t._next;return n}},{key:"has",value:function(e){if(!(e instanceof o))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return e._owner===this}},{key:"dispatch",value:function(){var e=this._head;if(!e)return!1;for(;e;)e._once&&this.detach(e),e._fn.apply(e._thisArg,arguments),e=e._next;return!0}},{key:"add",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!==typeof e)throw new Error("MiniSignal#add(): First arg must be a Function.");return a(this,new o(e,!1,t))}},{key:"once",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!==typeof e)throw new Error("MiniSignal#once(): First arg must be a Function.");return a(this,new o(e,!0,t))}},{key:"detach",value:function(e){if(!(e instanceof o))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return e._owner!==this||(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,null===e._next&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null),this}},{key:"detachAll",value:function(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this}}]),e}();s.MiniSignalBinding=o,t.default=s,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=!("undefined"===typeof window||!window.document||!window.document.createElement);t.default=r,e.exports=t.default},,function(e,t,n){var r=n(28),i=n(19),o=n(81),a=n(40),s=n(34),l=function e(t,n,l){var u,c,f,d=t&e.F,h=t&e.G,p=t&e.S,m=t&e.P,v=t&e.B,g=t&e.W,y=h?i:i[n]||(i[n]={}),b=y.prototype,_=h?r:p?r[n]:(r[n]||{}).prototype;for(u in h&&(l=n),l)(c=!d&&_&&void 0!==_[u])&&s(y,u)||(f=c?_[u]:l[u],y[u]=h&&"function"!=typeof _[u]?l[u]:v&&c?o(f,r):g&&_[u]==f?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(f):m&&"function"==typeof f?o(Function.call,f):f,m&&((y.virtual||(y.virtual={}))[u]=f,t&e.R&&b&&!b[u]&&a(b,u,f)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){e.exports=!n(54)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){"use strict";var r=n(13);t.__esModule=!0,t.default=void 0;var i=r(n(25)).default?function(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):o(e,t)}:o;function o(e,t){if(t)do{if(t===e)return!0}while(t=t.parentNode);return!1}t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}return(0,o.default)(r)};var r,i=n(48),o=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n,r,i,o){var a=r||"<<anonymous>>",s=o||n;if(null==t[n])return new Error("The "+i+" `"+s+"` is required to make `"+a+"` accessible for users of assistive technologies such as screen readers.");for(var l=arguments.length,u=Array(l>5?l-5:0),c=5;c<l;c++)u[c-5]=arguments[c];return e.apply(void 0,[t,n,r,i,o].concat(u))}},e.exports=t.default},function(e,t,n){var r=n(41),i=n(121),o=n(82),a=Object.defineProperty;t.f=n(29)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(124),i=n(84);e.exports=function(e){return r(i(e))}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return e&&e.ownerDocument||document},e.exports=t.default},function(e,t,n){"use strict";var r=n(13);t.__esModule=!0,t.default=function(e,t,n){var r="",c="",f=t;if("string"===typeof t){if(void 0===n)return e.style[(0,i.default)(t)]||(0,a.default)(e).getPropertyValue((0,o.default)(t));(f={})[t]=n}Object.keys(f).forEach((function(t){var n=f[t];n||0===n?(0,u.default)(t)?c+=t+"("+n+") ":r+=(0,o.default)(t)+": "+n+";":(0,s.default)(e,(0,o.default)(t))})),c&&(r+=l.transform+": "+c+";");e.style.cssText+=";"+r};var i=r(n(132)),o=r(n(222)),a=r(n(224)),s=r(n(225)),l=n(94),u=r(n(226));e.exports=t.default},function(e,t,n){"use strict";e.exports=function(e,t){t||(t={}),"function"===typeof t&&(t={cmp:t});var n,r="boolean"===typeof t.cycles&&t.cycles,i=t.cmp&&(n=t.cmp,function(e){return function(t,r){var i={key:t,value:e[t]},o={key:r,value:e[r]};return n(i,o)}}),o=[];return function e(t){if(t&&t.toJSON&&"function"===typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!==typeof t)return JSON.stringify(t);var n,a;if(Array.isArray(t)){for(a="[",n=0;n<t.length;n++)n&&(a+=","),a+=e(t[n])||"null";return a+"]"}if(null===t)return"null";if(-1!==o.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=o.push(t)-1,l=Object.keys(t).sort(i&&i(t));for(a="",n=0;n<l.length;n++){var u=l[n],c=e(t[u]);c&&(a&&(a+=","),a+=JSON.stringify(u)+":"+c)}return o.splice(s,1),"{"+a+"}"}}(e)}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(33),i=n(55);e.exports=n(29)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(42);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return(0,i.default)(r.default.findDOMNode(e))};var r=o(n(12)),i=o(n(36));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){var r=n(69).MAX_SAFE_COMPONENT_LENGTH,i=n(70),o=(t=e.exports={}).re=[],a=t.src=[],s=t.t={},l=0,u=function(e,t,n){var r=l++;i(r,t),s[e]=r,a[r]=t,o[r]=new RegExp(t,n?"g":void 0)};u("NUMERICIDENTIFIER","0|[1-9]\\d*"),u("NUMERICIDENTIFIERLOOSE","[0-9]+"),u("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),u("MAINVERSION","(".concat(a[s.NUMERICIDENTIFIER],")\\.")+"(".concat(a[s.NUMERICIDENTIFIER],")\\.")+"(".concat(a[s.NUMERICIDENTIFIER],")")),u("MAINVERSIONLOOSE","(".concat(a[s.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(a[s.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(a[s.NUMERICIDENTIFIERLOOSE],")")),u("PRERELEASEIDENTIFIER","(?:".concat(a[s.NUMERICIDENTIFIER],"|").concat(a[s.NONNUMERICIDENTIFIER],")")),u("PRERELEASEIDENTIFIERLOOSE","(?:".concat(a[s.NUMERICIDENTIFIERLOOSE],"|").concat(a[s.NONNUMERICIDENTIFIER],")")),u("PRERELEASE","(?:-(".concat(a[s.PRERELEASEIDENTIFIER],"(?:\\.").concat(a[s.PRERELEASEIDENTIFIER],")*))")),u("PRERELEASELOOSE","(?:-?(".concat(a[s.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(a[s.PRERELEASEIDENTIFIERLOOSE],")*))")),u("BUILDIDENTIFIER","[0-9A-Za-z-]+"),u("BUILD","(?:\\+(".concat(a[s.BUILDIDENTIFIER],"(?:\\.").concat(a[s.BUILDIDENTIFIER],")*))")),u("FULLPLAIN","v?".concat(a[s.MAINVERSION]).concat(a[s.PRERELEASE],"?").concat(a[s.BUILD],"?")),u("FULL","^".concat(a[s.FULLPLAIN],"$")),u("LOOSEPLAIN","[v=\\s]*".concat(a[s.MAINVERSIONLOOSE]).concat(a[s.PRERELEASELOOSE],"?").concat(a[s.BUILD],"?")),u("LOOSE","^".concat(a[s.LOOSEPLAIN],"$")),u("GTLT","((?:<|>)?=?)"),u("XRANGEIDENTIFIERLOOSE","".concat(a[s.NUMERICIDENTIFIERLOOSE],"|x|X|\\*")),u("XRANGEIDENTIFIER","".concat(a[s.NUMERICIDENTIFIER],"|x|X|\\*")),u("XRANGEPLAIN","[v=\\s]*(".concat(a[s.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(a[s.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(a[s.XRANGEIDENTIFIER],")")+"(?:".concat(a[s.PRERELEASE],")?").concat(a[s.BUILD],"?")+")?)?"),u("XRANGEPLAINLOOSE","[v=\\s]*(".concat(a[s.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(a[s.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(a[s.XRANGEIDENTIFIERLOOSE],")")+"(?:".concat(a[s.PRERELEASELOOSE],")?").concat(a[s.BUILD],"?")+")?)?"),u("XRANGE","^".concat(a[s.GTLT],"\\s*").concat(a[s.XRANGEPLAIN],"$")),u("XRANGELOOSE","^".concat(a[s.GTLT],"\\s*").concat(a[s.XRANGEPLAINLOOSE],"$")),u("COERCE","".concat("(^|[^\\d])(\\d{1,").concat(r,"})")+"(?:\\.(\\d{1,".concat(r,"}))?")+"(?:\\.(\\d{1,".concat(r,"}))?")+"(?:$|[^\\d])"),u("COERCERTL",a[s.COERCE],!0),u("LONETILDE","(?:~>?)"),u("TILDETRIM","(\\s*)".concat(a[s.LONETILDE],"\\s+"),!0),t.tildeTrimReplace="$1~",u("TILDE","^".concat(a[s.LONETILDE]).concat(a[s.XRANGEPLAIN],"$")),u("TILDELOOSE","^".concat(a[s.LONETILDE]).concat(a[s.XRANGEPLAINLOOSE],"$")),u("LONECARET","(?:\\^)"),u("CARETTRIM","(\\s*)".concat(a[s.LONECARET],"\\s+"),!0),t.caretTrimReplace="$1^",u("CARET","^".concat(a[s.LONECARET]).concat(a[s.XRANGEPLAIN],"$")),u("CARETLOOSE","^".concat(a[s.LONECARET]).concat(a[s.XRANGEPLAINLOOSE],"$")),u("COMPARATORLOOSE","^".concat(a[s.GTLT],"\\s*(").concat(a[s.LOOSEPLAIN],")$|^$")),u("COMPARATOR","^".concat(a[s.GTLT],"\\s*(").concat(a[s.FULLPLAIN],")$|^$")),u("COMPARATORTRIM","(\\s*)".concat(a[s.GTLT],"\\s*(").concat(a[s.LOOSEPLAIN],"|").concat(a[s.XRANGEPLAIN],")"),!0),t.comparatorTrimReplace="$1$2$3",u("HYPHENRANGE","^\\s*(".concat(a[s.XRANGEPLAIN],")")+"\\s+-\\s+"+"(".concat(a[s.XRANGEPLAIN],")")+"\\s*$"),u("HYPHENRANGELOOSE","^\\s*(".concat(a[s.XRANGEPLAINLOOSE],")")+"\\s+-\\s+"+"(".concat(a[s.XRANGEPLAINLOOSE],")")+"\\s*$"),u("STAR","(<|>)?=?\\s*\\*"),u("GTE0","^\\s*>=\\s*0.0.0\\s*$"),u("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")},function(e,t,n){var r=n(69).MAX_LENGTH,i=n(44),o=i.re,a=i.t,s=n(14);e.exports=function(e,t){if(t&&"object"===typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof s)return e;if("string"!==typeof e)return null;if(e.length>r)return null;if(!(t.loose?o[a.LOOSE]:o[a.FULL]).test(e))return null;try{return new s(e,t)}catch(n){return null}}},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,l=a(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))i.call(n,c)&&(l[c]=n[c]);if(r){s=r(n);for(var f=0;f<s.length;f++)o.call(n,s[f])&&(l[s[f]]=n[s[f]])}}return l}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],c=0;(l=new Error(t.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,o,a){var s=i||"<<anonymous>>",l=a||r;if(null==n[r])return t?new Error("Required "+o+" `"+l+"` was not specified in `"+s+"`."):null;for(var u=arguments.length,c=Array(u>6?u-6:0),f=6;f<u;f++)c[f-6]=arguments[f];return e.apply(void 0,[n,r,s,o,l].concat(c))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},i=a(n(2)),o=a(n(256));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.default)((function(e,t,n,o,a){var s=e[t],l="undefined"===typeof s?"undefined":r(s);return i.default.isValidElement(s)?new Error("Invalid "+o+" `"+a+"` of type ReactElement supplied to `"+n+"`, expected an element type (a string or a ReactClass)."):"function"!==l&&"string"!==l?new Error("Invalid "+o+" `"+a+"` of value `"+s+"` supplied to `"+n+"`, expected an element type (a string or a ReactClass)."):null}))},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=w(n(107)),o=w(n(30)),a=w(n(25)),s=w(n(1)),l=w(n(66)),u=w(n(240)),c=w(n(10)),f=n(2),d=w(f),h=w(n(12)),p=w(n(17)),m=w(n(242)),v=w(n(135)),g=w(n(248)),y=w(n(133)),b=w(n(249)),_=w(n(68)),x=w(n(43));function w(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var S=new m.default,k=function(e){function t(){var n,r;E(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=T(this,e.call.apply(e,[this].concat(o))),O.call(r),T(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.omitProps=function(e,t){var n=Object.keys(e),r={};return n.map((function(n){Object.prototype.hasOwnProperty.call(t,n)||(r[n]=e[n])})),r},t.prototype.render=function(){var e=this.props,n=e.show,i=e.container,o=e.children,a=e.transition,s=e.backdrop,l=e.className,u=e.style,c=e.onExit,h=e.onExiting,p=e.onEnter,m=e.onEntering,y=e.onEntered,b=d.default.Children.only(o),_=this.omitProps(this.props,t.propTypes);if(!(n||a&&!this.state.exited))return null;var x=b.props,w=x.role,E=x.tabIndex;return void 0!==w&&void 0!==E||(b=(0,f.cloneElement)(b,{role:void 0===w?"document":w,tabIndex:null==E?"-1":E})),a&&(b=d.default.createElement(a,{appear:!0,unmountOnExit:!0,in:n,onExit:c,onExiting:h,onExited:this.handleHidden,onEnter:p,onEntering:m,onEntered:y},b)),d.default.createElement(v.default,{ref:this.setMountNode,container:i,onRendered:this.onPortalRendered},d.default.createElement("div",r({ref:this.setModalNodeRef,role:w||"dialog"},_,{style:u,className:l}),s&&this.renderBackdrop(),d.default.createElement(g.default,{ref:this.setDialogRef},b)))},t.prototype.componentWillReceiveProps=function(e){e.show?this.setState({exited:!1}):e.transition||this.setState({exited:!0})},t.prototype.componentWillUpdate=function(e){!this.props.show&&e.show&&this.checkForFocus()},t.prototype.componentDidMount=function(){this._isMounted=!0,this.props.show&&this.onShow()},t.prototype.componentDidUpdate=function(e){var t=this.props.transition;!e.show||this.props.show||t?!e.show&&this.props.show&&this.onShow():this.onHide()},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.show,n=e.transition;this._isMounted=!1,(t||n&&!this.state.exited)&&this.onHide()},t.prototype.autoFocus=function(){if(this.props.autoFocus){var e=this.getDialogElement(),t=(0,i.default)((0,x.default)(this));e&&!(0,o.default)(e,t)&&(this.lastFocus=t,e.hasAttribute("tabIndex")||((0,p.default)(!1,'The modal content node does not accept focus. For the benefit of assistive technologies, the tabIndex of the node is being set to "-1".'),e.setAttribute("tabIndex",-1)),e.focus())}},t.prototype.restoreLastFocus=function(){this.lastFocus&&this.lastFocus.focus&&(this.lastFocus.focus(),this.lastFocus=null)},t.prototype.getDialogElement=function(){return h.default.findDOMNode(this.dialog)},t.prototype.isTopModal=function(){return this.props.manager.isTopModal(this)},t}(d.default.Component);k.propTypes=r({},v.default.propTypes,{show:s.default.bool,container:s.default.oneOfType([l.default,s.default.func]),onShow:s.default.func,onHide:s.default.func,backdrop:s.default.oneOfType([s.default.bool,s.default.oneOf(["static"])]),renderBackdrop:s.default.func,onEscapeKeyDown:s.default.func,onEscapeKeyUp:(0,u.default)(s.default.func,"Please use onEscapeKeyDown instead for consistency"),onBackdropClick:s.default.func,backdropStyle:s.default.object,backdropClassName:s.default.string,containerClassName:s.default.string,keyboard:s.default.bool,transition:c.default,backdropTransition:c.default,autoFocus:s.default.bool,enforceFocus:s.default.bool,restoreFocus:s.default.bool,onEnter:s.default.func,onEntering:s.default.func,onEntered:s.default.func,onExit:s.default.func,onExiting:s.default.func,onExited:s.default.func,manager:s.default.object.isRequired}),k.defaultProps={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,onHide:function(){},manager:S,renderBackdrop:function(e){return d.default.createElement("div",e)}};var O=function(){var e=this;this.state={exited:!this.props.show},this.renderBackdrop=function(){var t=e.props,n=t.backdropStyle,r=t.backdropClassName,i=t.renderBackdrop,o=t.backdropTransition,a=i({ref:function(t){return e.backdrop=t},style:n,className:r,onClick:e.handleBackdropClick});return o&&(a=d.default.createElement(o,{appear:!0,in:e.props.show},a)),a},this.onPortalRendered=function(){e.autoFocus(),e.props.onShow&&e.props.onShow()},this.onShow=function(){var t=(0,x.default)(e),n=(0,_.default)(e.props.container,t.body);e.props.manager.add(e,n,e.props.containerClassName),e._onDocumentKeydownListener=(0,y.default)(t,"keydown",e.handleDocumentKeyDown),e._onDocumentKeyupListener=(0,y.default)(t,"keyup",e.handleDocumentKeyUp),e._onFocusinListener=(0,b.default)(e.enforceFocus)},this.onHide=function(){e.props.manager.remove(e),e._onDocumentKeydownListener.remove(),e._onDocumentKeyupListener.remove(),e._onFocusinListener.remove(),e.props.restoreFocus&&e.restoreLastFocus()},this.setMountNode=function(t){e.mountNode=t?t.getMountNode():t},this.setModalNodeRef=function(t){e.modalNode=t},this.setDialogRef=function(t){e.dialog=t},this.handleHidden=function(){var t;(e.setState({exited:!0}),e.onHide(),e.props.onExited)&&(t=e.props).onExited.apply(t,arguments)},this.handleBackdropClick=function(t){t.target===t.currentTarget&&(e.props.onBackdropClick&&e.props.onBackdropClick(t),!0===e.props.backdrop&&e.props.onHide())},this.handleDocumentKeyDown=function(t){e.props.keyboard&&27===t.keyCode&&e.isTopModal()&&(e.props.onEscapeKeyDown&&e.props.onEscapeKeyDown(t),e.props.onHide())},this.handleDocumentKeyUp=function(t){e.props.keyboard&&27===t.keyCode&&e.isTopModal()&&e.props.onEscapeKeyUp&&e.props.onEscapeKeyUp(t)},this.checkForFocus=function(){a.default&&(e.lastFocus=(0,i.default)())},this.enforceFocus=function(){if(e.props.enforceFocus&&e._isMounted&&e.isTopModal()){var t=e.getDialogElement(),n=(0,i.default)((0,x.default)(e));t&&!(0,o.default)(t,n)&&t.focus()}}};k.Manager=m.default,t.default=k,e.exports=t.default},,,,function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(123),i=n(88);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t){e.exports={}},function(e,t,n){e.exports={default:n(214),__esModule:!0}},,,,function(e,t){e.exports=!0},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(84);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=a(n(2)),o=a(n(48));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.default)((function(e,t,n,o,a){var s=e[t],l="undefined"===typeof s?"undefined":r(s);return i.default.isValidElement(s)?new Error("Invalid "+o+" `"+a+"` of type ReactElement supplied to `"+n+"`, expected a ReactComponent or a DOMElement. You can usually obtain a ReactComponent or DOMElement from a ReactElement by attaching a ref to it."):"object"===l&&"function"===typeof s.render||1===s.nodeType?null:new Error("Invalid "+o+" `"+a+"` of value `"+s+"` supplied to `"+n+"`, expected a ReactComponent or a DOMElement.")})),e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return e===e.window?e:9===e.nodeType&&(e.defaultView||e.parentWindow)},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return e="function"===typeof e?e():e,o.default.findDOMNode(e)||t};var r,i=n(12),o=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t){var n=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:n,MAX_SAFE_COMPONENT_LENGTH:16}},function(e,t,n){(function(t){var n="object"===typeof t&&Object({NODE_ENV:"production",PUBLIC_URL:"/genocat-to-vega-and-higlass",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0})&&Object({NODE_ENV:"production",PUBLIC_URL:"/genocat-to-vega-and-higlass",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).NODE_DEBUG&&/\bsemver\b/i.test(Object({NODE_ENV:"production",PUBLIC_URL:"/genocat-to-vega-and-higlass",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).NODE_DEBUG)?function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).error.apply(e,["SEMVER"].concat(n))}:function(){};e.exports=n}).call(this,n(118))},function(e,t,n){var r=n(20);e.exports=function(e,t,n){return r(e,t,n)>0}},function(e,t,n){var r=n(97),i=n(98),o=Symbol("SemVer ANY"),a=function(){"use strict";function e(t,n){if(r(this,e),n&&"object"===typeof n||(n={loose:!!n,includePrerelease:!1}),t instanceof e){if(t.loose===!!n.loose)return t;t=t.value}f("comparator",t,n),this.options=n,this.loose=!!n.loose,this.parse(t),this.semver===o?this.value="":this.value=this.operator+this.semver.version,f("comp",this)}return i(e,null,[{key:"ANY",get:function(){return o}}]),i(e,[{key:"parse",value:function(e){var t=this.options.loose?l[u.COMPARATORLOOSE]:l[u.COMPARATOR],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: ".concat(e));this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new d(n[2],this.options.loose):this.semver=o}},{key:"toString",value:function(){return this.value}},{key:"test",value:function(e){if(f("Comparator.test",e,this.options.loose),this.semver===o||e===o)return!0;if("string"===typeof e)try{e=new d(e,this.options)}catch(t){return!1}return c(e,this.operator,this.semver,this.options)}},{key:"intersects",value:function(t,n){if(!(t instanceof e))throw new TypeError("a Comparator is required");if(n&&"object"===typeof n||(n={loose:!!n,includePrerelease:!1}),""===this.operator)return""===this.value||new h(t.value,n).test(this.value);if(""===t.operator)return""===t.value||new h(this.value,n).test(t.semver);var r=(">="===this.operator||">"===this.operator)&&(">="===t.operator||">"===t.operator),i=("<="===this.operator||"<"===this.operator)&&("<="===t.operator||"<"===t.operator),o=this.semver.version===t.semver.version,a=(">="===this.operator||"<="===this.operator)&&(">="===t.operator||"<="===t.operator),s=c(this.semver,"<",t.semver,n)&&(">="===this.operator||">"===this.operator)&&("<="===t.operator||"<"===t.operator),l=c(this.semver,">",t.semver,n)&&("<="===this.operator||"<"===this.operator)&&(">="===t.operator||">"===t.operator);return r||i||o&&a||s||l}}]),e}();e.exports=a;var s=n(44),l=s.re,u=s.t,c=n(139),f=n(70),d=n(14),h=n(21)},function(e,t,n){var r=n(21);e.exports=function(e,t,n){try{t=new r(t,n)}catch(i){return!1}return t.test(e)}},function(e,t,n){"use strict";var r=n(170),i=n(172);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){i.isString(e)&&(e=b(e));return e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(u),f=["%","/","?",";","#"].concat(c),d=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(173);function b(e,t,n){if(e&&i.isObject(e)&&e instanceof o)return e;var r=new o;return r.parse(e,t,n),r}o.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",u=e.split(s);u[0]=u[0].replace(/\\/g,"/");var b=e=u.join(s);if(b=b.trim(),!n&&1===e.split("#").length){var _=l.exec(b);if(_)return this.path=b,this.href=b,this.pathname=_[1],_[2]?(this.search=_[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var x=a.exec(b);if(x){var w=(x=x[0]).toLowerCase();this.protocol=w,b=b.substr(x.length)}if(n||x||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===b.substr(0,2);!E||x&&v[x]||(b=b.substr(2),this.slashes=!0)}if(!v[x]&&(E||x&&!g[x])){for(var T,S,k=-1,O=0;O<d.length;O++){-1!==(C=b.indexOf(d[O]))&&(-1===k||C<k)&&(k=C)}-1!==(S=-1===k?b.lastIndexOf("@"):b.lastIndexOf("@",k))&&(T=b.slice(0,S),b=b.slice(S+1),this.auth=decodeURIComponent(T)),k=-1;for(O=0;O<f.length;O++){var C;-1!==(C=b.indexOf(f[O]))&&(-1===k||C<k)&&(k=C)}-1===k&&(k=b.length),this.host=b.slice(0,k),b=b.slice(k),this.parseHost(),this.hostname=this.hostname||"";var A="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!A)for(var M=this.hostname.split(/\./),P=(O=0,M.length);O<P;O++){var I=M[O];if(I&&!I.match(h)){for(var D="",N=0,R=I.length;N<R;N++)I.charCodeAt(N)>127?D+="x":D+=I[N];if(!D.match(h)){var L=M.slice(0,O),j=M.slice(O+1),F=I.match(p);F&&(L.push(F[1]),j.unshift(F[2])),j.length&&(b="/"+j.join(".")+b),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),A||(this.hostname=r.toASCII(this.hostname));var B=this.port?":"+this.port:"",z=this.hostname||"";this.host=z+B,this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[w])for(O=0,P=c.length;O<P;O++){var H=c[O];if(-1!==b.indexOf(H)){var U=encodeURIComponent(H);U===H&&(U=escape(H)),b=b.split(H).join(U)}}var V=b.indexOf("#");-1!==V&&(this.hash=b.substr(V),b=b.slice(0,V));var G=b.indexOf("?");if(-1!==G?(this.search=b.substr(G),this.query=b.substr(G+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,G)):t&&(this.search="",this.query={}),b&&(this.pathname=b),g[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){B=this.pathname||"";var W=this.search||"";this.path=B+W}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=y.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},o.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),u=0;u<l.length;u++){var c=l[u];"protocol"!==c&&(n[c]=e[c])}return g[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!g[e.protocol]){for(var f=Object.keys(e),d=0;d<f.length;d++){var h=f[d];n[h]=e[h]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||v[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",y=n.search||"";n.path=m+y}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),_=e.host||e.pathname&&"/"===e.pathname.charAt(0),x=_||b||n.host&&e.pathname,w=x,E=n.pathname&&n.pathname.split("/")||[],T=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!g[n.protocol]);if(T&&(n.hostname="",n.port=null,n.host&&(""===E[0]?E[0]=n.host:E.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),x=x&&(""===p[0]||""===E[0])),_)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,E=p;else if(p.length)E||(E=[]),E.pop(),E=E.concat(p),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(T)n.hostname=n.host=E.shift(),(A=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=A.shift(),n.host=n.hostname=A.shift());return n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!E.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var S=E.slice(-1)[0],k=(n.host||e.host||E.length>1)&&("."===S||".."===S)||""===S,O=0,C=E.length;C>=0;C--)"."===(S=E[C])?E.splice(C,1):".."===S?(E.splice(C,1),O++):O&&(E.splice(C,1),O--);if(!x&&!w)for(;O--;O)E.unshift("..");!x||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),k&&"/"!==E.join("/").substr(-1)&&E.push("");var A,M=""===E[0]||E[0]&&"/"===E[0].charAt(0);T&&(n.hostname=n.host=M?"":E.length?E.shift():"",(A=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=A.shift(),n.host=n.hostname=A.shift()));return(x=x||n.host&&E.length)&&!M&&E.unshift(""),E.length?n.pathname=E.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(182)),i=a(n(193)),o="function"===typeof i.default&&"symbol"===typeof r.default?function(e){return typeof e}:function(e){return e&&"function"===typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}t.default="function"===typeof i.default&&"symbol"===o(r.default)?function(e){return"undefined"===typeof e?"undefined":o(e)}:function(e){return e&&"function"===typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":"undefined"===typeof e?"undefined":o(e)}},function(e,t,n){"use strict";var r=n(13);t.__esModule=!0,t.default=function(e){if((!i&&0!==i||e)&&o.default){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),i=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return i};var i,o=r(n(25));e.exports=t.default},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var r=n(0);function i(t,n){var i,o=n&&n.property?Object(r.t)(n.property):r.x;return!Object(r.F)(t)||(i=t,"function"===typeof e&&Object(r.D)(e.isBuffer)&&e.isBuffer(i))?o(JSON.parse(t)):function(e,t){return t&&t.copy?JSON.parse(JSON.stringify(e)):e}(o(t))}i.responseType="json"}).call(this,n(140).Buffer)},function(e,t,n){"use strict";var r=/("(?:[^\\"]|\\.)*")|[:,]/g;e.exports=function(e,t){var n,i,o;return t=t||{},n=JSON.stringify([1],void 0,void 0===t.indent?2:t.indent).slice(2,-3),i=""===n?1/0:void 0===t.maxLength?80:t.maxLength,o=t.replacer,function e(t,a,s){var l,u,c,f,d,h,p,m,v,g,y,b;if(t&&"function"===typeof t.toJSON&&(t=t.toJSON()),void 0===(y=JSON.stringify(t,o)))return y;if(p=i-a.length-s,y.length<=p&&(v=y.replace(r,(function(e,t){return t||e+" "}))).length<=p)return v;if(null!=o&&(t=JSON.parse(y),o=void 0),"object"===typeof t&&null!==t){if(m=a+n,c=[],u=0,Array.isArray(t))for(g="[",l="]",p=t.length;u<p;u++)c.push(e(t[u],m,u===p-1?0:1)||"null");else for(g="{",l="}",p=(h=Object.keys(t)).length;u<p;u++)f=h[u],d=JSON.stringify(f)+": ",void 0!==(b=e(t[f],m,d.length+(u===p-1?0:1)))&&c.push(d+b);if(c.length>0)return[g,n+c.join(",\n"+m),l].join("\n"+a)}return y}(e,"",0)}},,function(e,t,n){var r=n(116);e.exports=function(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=r(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o,a=!0,s=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==i.return||i.return()}finally{if(s)throw o}}}}},function(e,t,n){var r=n(178);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(42);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(87)("keys"),i=n(64);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(19),i=n(28),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(63)?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(41),i=n(186),o=n(88),a=n(86)("IE_PROTO"),s=function(){},l=function(){var e,t=n(122)("iframe"),r=o.length;for(t.style.display="none",n(187).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;r--;)delete l.prototype[o[r]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=l(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(33).f,i=n(34),o=n(22)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){t.f=n(22)},function(e,t,n){var r=n(28),i=n(19),o=n(63),a=n(92),s=n(33).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){"use strict";var r=n(13);t.__esModule=!0,t.default=t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=void 0;var i,o,a,s,l,u,c,f,d,h,p,m=r(n(25)),v="transform";if(t.transform=v,t.animationEnd=a,t.transitionEnd=o,t.transitionDelay=c,t.transitionTiming=u,t.transitionDuration=l,t.transitionProperty=s,t.animationDelay=p,t.animationTiming=h,t.animationDuration=d,t.animationName=f,m.default){var g=function(){for(var e,t,n=document.createElement("div").style,r={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},i=Object.keys(r),o="",a=0;a<i.length;a++){var s=i[a];if(s+"TransitionProperty"in n){o="-"+s.toLowerCase(),e=r[s]("TransitionEnd"),t=r[s]("AnimationEnd");break}}!e&&"transitionProperty"in n&&(e="transitionend");!t&&"animationName"in n&&(t="animationend");return n=null,{animationEnd:t,transitionEnd:e,prefix:o}}();i=g.prefix,t.transitionEnd=o=g.transitionEnd,t.animationEnd=a=g.animationEnd,t.transform=v=i+"-"+v,t.transitionProperty=s=i+"-transition-property",t.transitionDuration=l=i+"-transition-duration",t.transitionDelay=c=i+"-transition-delay",t.transitionTiming=u=i+"-transition-timing-function",t.animationName=f=i+"-animation-name",t.animationDuration=d=i+"-animation-duration",t.animationTiming=h=i+"-animation-delay",t.animationDelay=p=i+"-animation-timing-function"}var y={transform:v,end:o,property:s,timing:u,delay:c,duration:l};t.default=y},function(e,t,n){"use strict";var r=n(13);t.__esModule=!0,t.default=void 0;var i=function(){};r(n(25)).default&&(i=document.addEventListener?function(e,t,n,r){return e.addEventListener(t,n,r||!1)}:document.attachEvent?function(e,t,n){return e.attachEvent("on"+t,(function(t){(t=t||window.event).target=t.target||t.srcElement,t.currentTarget=e,n.call(e,t)}))}:void 0);var o=i;t.default=o,e.exports=t.default},function(e,t,n){"use strict";var r=n(13);t.__esModule=!0,t.default=void 0;var i=function(){};r(n(25)).default&&(i=document.addEventListener?function(e,t,n,r){return e.removeEventListener(t,n,r||!1)}:document.attachEvent?function(e,t,n){return e.detachEvent("on"+t,n)}:void 0);var o=i;t.default=o,e.exports=t.default},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t){var n=/^[0-9]+$/,r=function(e,t){var r=n.test(e),i=n.test(t);return r&&i&&(e=+e,t=+t),e===t?0:r&&!i?-1:i&&!r?1:e<t?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:function(e,t){return r(t,e)}}},function(e,t,n){var r=n(20);e.exports=function(e,t,n){return 0===r(e,t,n)}},function(e,t,n){var r=n(14);e.exports=function(e,t,n){var i=new r(e,n),o=new r(t,n);return i.compare(o)||i.compareBuild(o)}},function(e,t,n){var r=n(20);e.exports=function(e,t,n){return r(e,t,n)<0}},function(e,t,n){var r=n(20);e.exports=function(e,t,n){return r(e,t,n)>=0}},function(e,t,n){var r=n(20);e.exports=function(e,t,n){return r(e,t,n)<=0}},function(e,t,n){var r=n(14),i=n(72),o=i.ANY,a=n(21),s=n(73),l=n(71),u=n(102),c=n(104),f=n(103);e.exports=function(e,t,n,d){var h,p,m,v,g;switch(e=new r(e,d),t=new a(t,d),n){case">":h=l,p=c,m=u,v=">",g=">=";break;case"<":h=u,p=f,m=l,v="<",g="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(s(e,t,d))return!1;for(var y=function(n){var r=t.set[n],a=null,s=null;return r.forEach((function(e){e.semver===o&&(e=new i(">=0.0.0")),a=a||e,s=s||e,h(e.semver,a.semver,d)?a=e:m(e.semver,s.semver,d)&&(s=e)})),a.operator===v||a.operator===g?{v:!1}:s.operator&&s.operator!==v||!p(e,s.semver)?s.operator===g&&m(e,s.semver)?{v:!1}:void 0:{v:!1}},b=0;b<t.set.length;++b){var _=y(b);if("object"===typeof _)return _.v}return!0}},function(e,t,n){e.exports={default:n(176),__esModule:!0}},function(e,t,n){"use strict";var r=n(13);t.__esModule=!0,t.default=function(e){void 0===e&&(e=(0,i.default)());try{return e.activeElement}catch(t){}};var i=r(n(36));e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=u(n(30)),i=u(n(1)),o=u(n(2)),a=u(n(12)),s=u(n(133)),l=u(n(43));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n,i));return o.addEventListeners=function(){var e=o.props.event,t=(0,l.default)(o);o.documentMouseCaptureListener=(0,s.default)(t,e,o.handleMouseCapture,!0),o.documentMouseListener=(0,s.default)(t,e,o.handleMouse),o.documentKeyupListener=(0,s.default)(t,"keyup",o.handleKeyUp)},o.removeEventListeners=function(){o.documentMouseCaptureListener&&o.documentMouseCaptureListener.remove(),o.documentMouseListener&&o.documentMouseListener.remove(),o.documentKeyupListener&&o.documentKeyupListener.remove()},o.handleMouseCapture=function(e){o.preventMouseRootClose=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||!function(e){return 0===e.button}(e)||(0,r.default)(a.default.findDOMNode(o),e.target)},o.handleMouse=function(e){!o.preventMouseRootClose&&o.props.onRootClose&&o.props.onRootClose(e)},o.handleKeyUp=function(e){27===e.keyCode&&o.props.onRootClose&&o.props.onRootClose(e)},o.preventMouseRootClose=!1,o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.props.disabled||this.addEventListeners()},t.prototype.componentDidUpdate=function(e){!this.props.disabled&&e.disabled?this.addEventListeners():this.props.disabled&&!e.disabled&&this.removeEventListeners()},t.prototype.componentWillUnmount=function(){this.props.disabled||this.removeEventListeners()},t.prototype.render=function(){return this.props.children},t}(o.default.Component);c.displayName="RootCloseWrapper",c.propTypes={onRootClose:i.default.func,children:i.default.element,disabled:i.default.bool,event:i.default.oneOf(["click","mousedown"])},c.defaultProps={event:"click"},t.default=c,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return(0,r.default)(e)||(t=e,t&&"body"===t.tagName.toLowerCase())?function(e){var t=(0,i.default)(e),n=(0,r.default)(t).innerWidth;if(!n){var o=t.documentElement.getBoundingClientRect();n=o.right-Math.abs(o.left)}return t.body.clientWidth<n}(e):e.scrollHeight>e.clientHeight;var t};var r=o(n(67)),i=o(n(36));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";e.exports=function(e,t){t=t||{};for(var n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=n.parser[t.strictMode?"strict":"loose"].exec(e),i={},o=14;o--;)i[n.key[o]]=r[o]||"";return i[n.q.name]={},i[n.key[12]].replace(n.q.parser,(function(e,t,r){t&&(i[n.q.name][t]=r)})),i}},function(e,t,n){"use strict";var r=n(13);t.__esModule=!0,t.default=void 0;var i=r(n(95));t.on=i.default;var o=r(n(96));t.off=o.default;var a=r(n(237));t.filter=a.default;var s=r(n(239));t.listen=s.default;var l={on:i.default,off:o.default,filter:a.default,listen:s.default};t.default=l},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=c(n(1)),o=c(n(10)),a=c(n(2)),s=c(n(135)),l=c(n(250)),u=c(n(108));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n,r));return i.handleHidden=function(){var e;(i.setState({exited:!0}),i.props.onExited)&&(e=i.props).onExited.apply(e,arguments)},i.state={exited:!n.show},i.onHiddenListener=i.handleHidden.bind(i),i}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillReceiveProps=function(e){e.show?this.setState({exited:!1}):e.transition||this.setState({exited:!0})},t.prototype.render=function(){var e=this.props,t=e.container,n=e.containerPadding,r=e.target,i=e.placement,o=e.shouldUpdatePosition,c=e.rootClose,f=e.children,d=e.transition,h=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["container","containerPadding","target","placement","shouldUpdatePosition","rootClose","children","transition"]);if(!(h.show||d&&!this.state.exited))return null;var p=f;if(p=a.default.createElement(l.default,{container:t,containerPadding:n,target:r,placement:i,shouldUpdatePosition:o},p),d){var m=h.onExit,v=h.onExiting,g=h.onEnter,y=h.onEntering,b=h.onEntered;p=a.default.createElement(d,{in:h.show,appear:!0,onExit:m,onExiting:v,onExited:this.onHiddenListener,onEnter:g,onEntering:y,onEntered:b},p)}return c&&(p=a.default.createElement(u.default,{onRootClose:h.onHide},p)),a.default.createElement(s.default,{container:t},p)},t}(a.default.Component);f.propTypes=r({},s.default.propTypes,l.default.propTypes,{show:i.default.bool,rootClose:i.default.bool,onHide:function(e){var t=i.default.func;e.rootClose&&(t=t.isRequired);for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.apply(void 0,[e].concat(r))},transition:o.default,onEnter:i.default.func,onEntering:i.default.func,onEntered:i.default.func,onExit:i.default.func,onExiting:i.default.func,onExited:i.default.func}),t.default=f,e.exports=t.default},function(e,t,n){var r=n(44);e.exports={re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:n(69).SEMVER_SPEC_VERSION,SemVer:n(14),compareIdentifiers:n(99).compareIdentifiers,rcompareIdentifiers:n(99).rcompareIdentifiers,parse:n(45),valid:n(258),clean:n(259),inc:n(260),diff:n(261),major:n(262),minor:n(263),patch:n(264),prerelease:n(265),compare:n(20),rcompare:n(266),compareLoose:n(267),compareBuild:n(101),sort:n(268),rsort:n(269),gt:n(71),lt:n(102),eq:n(100),neq:n(138),gte:n(103),lte:n(104),cmp:n(139),coerce:n(270),Comparator:n(72),Range:n(21),satisfies:n(73),toComparators:n(271),maxSatisfying:n(272),minSatisfying:n(273),minVersion:n(274),validRange:n(275),outside:n(105),gtr:n(276),ltr:n(277),intersects:n(278),simplifyRange:n(279),subset:n(284)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t[0],version:t[1]}}},function(e,t,n){"use strict";e.exports=n(160)},function(e,t,n){var r=n(163);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t,n){"use strict";e.exports=n(164)},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,u=[],c=!1,f=-1;function d(){c&&l&&(c=!1,l.length?u=l.concat(u):f=-1,u.length&&h())}function h(){if(!c){var e=s(d);c=!0;for(var t=u.length;t;){for(l=u,u=[];++f<t;)l&&l[f].run();f=-1,t=u.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||c||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,i="~";function o(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,n,r,o){if("function"!==typeof n)throw new TypeError("The listener must be a function");var s=new a(n,r||e,o),l=i?i+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function l(e,t){0===--e._eventsCount?e._events=new o:delete e._events[t]}function u(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),u.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},u.prototype.listeners=function(e){var t=i?i+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,a=new Array(o);r<o;r++)a[r]=n[r].fn;return a},u.prototype.listenerCount=function(e){var t=i?i+e:e,n=this._events[t];return n?n.fn?1:n.length:0},u.prototype.emit=function(e,t,n,r,o,a){var s=i?i+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,r),!0;case 5:return c.fn.call(c.context,t,n,r,o),!0;case 6:return c.fn.call(c.context,t,n,r,o,a),!0}for(u=1,l=new Array(f-1);u<f;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var d,h=c.length;for(u=0;u<h;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),f){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,n);break;case 4:c[u].fn.call(c[u].context,t,n,r);break;default:if(!l)for(d=1,l=new Array(f-1);d<f;d++)l[d-1]=arguments[d];c[u].fn.apply(c[u].context,l)}}return!0},u.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},u.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},u.prototype.removeListener=function(e,t,n,r){var o=i?i+e:e;if(!this._events[o])return this;if(!t)return l(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||r&&!a.once||n&&a.context!==n||l(this,o);else{for(var s=0,u=[],c=a.length;s<c;s++)(a[s].fn!==t||r&&!a[s].once||n&&a[s].context!==n)&&u.push(a[s]);u.length?this._events[o]=1===u.length?u[0]:u:l(this,o)}return this},u.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&l(this,t)):(this._events=new o,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=i,u.EventEmitter=u,e.exports=u},function(e,t,n){"use strict";function r(e,t,n){n=n||2;var r,s,l,u,c,h,p,v=t&&t.length,g=v?t[0]*n:e.length,y=i(e,0,g,n,!0),b=[];if(!y||y.next===y.prev)return b;if(v&&(y=function(e,t,n,r){var a,s,l,u,c,h=[];for(a=0,s=t.length;a<s;a++)l=t[a]*r,u=a<s-1?t[a+1]*r:e.length,(c=i(e,l,u,r,!1))===c.next&&(c.steiner=!0),h.push(m(c));for(h.sort(f),a=0;a<h.length;a++)d(h[a],n),n=o(n,n.next);return n}(e,t,y,n)),e.length>80*n){r=l=e[0],s=u=e[1];for(var _=n;_<g;_+=n)(c=e[_])<r&&(r=c),(h=e[_+1])<s&&(s=h),c>l&&(l=c),h>u&&(u=h);p=0!==(p=Math.max(l-r,u-s))?1/p:0}return a(y,b,n,r,s,p),b}function i(e,t,n,r,i){var o,a;if(i===C(e,t,n,r)>0)for(o=t;o<n;o+=r)a=S(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=S(o,e[o],e[o+1],a);return a&&b(a,a.next)&&(k(a),a=a.next),a}function o(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!b(r,r.next)&&0!==y(r.prev,r,r.next))r=r.next;else{if(k(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function a(e,t,n,r,i,f,d){if(e){!d&&f&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=p(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,o,a,s,l,u=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<u&&(s++,r=r.nextZ);t++);for(l=u;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,u*=2}while(a>1)}(i)}(e,r,i,f);for(var h,m,v=e;e.prev!==e.next;)if(h=e.prev,m=e.next,f?l(e,r,i,f):s(e))t.push(h.i/n),t.push(e.i/n),t.push(m.i/n),k(e),e=m.next,v=m.next;else if((e=m)===v){d?1===d?a(e=u(o(e),t,n),t,n,r,i,f,2):2===d&&c(e,t,n,r,i,f):a(o(e),t,n,r,i,f,1);break}}}function s(e){var t=e.prev,n=e,r=e.next;if(y(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(v(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&y(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function l(e,t,n,r){var i=e.prev,o=e,a=e.next;if(y(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,l=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,u=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,f=p(s,l,t,n,r),d=p(u,c,t,n,r),h=e.prevZ,m=e.nextZ;h&&h.z>=f&&m&&m.z<=d;){if(h!==e.prev&&h!==e.next&&v(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&y(h.prev,h,h.next)>=0)return!1;if(h=h.prevZ,m!==e.prev&&m!==e.next&&v(i.x,i.y,o.x,o.y,a.x,a.y,m.x,m.y)&&y(m.prev,m,m.next)>=0)return!1;m=m.nextZ}for(;h&&h.z>=f;){if(h!==e.prev&&h!==e.next&&v(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&y(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;m&&m.z<=d;){if(m!==e.prev&&m!==e.next&&v(i.x,i.y,o.x,o.y,a.x,a.y,m.x,m.y)&&y(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function u(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!b(i,a)&&_(i,r,r.next,a)&&E(i,a)&&E(a,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(a.i/n),k(r),k(r.next),r=e=a),r=r.next}while(r!==e);return o(r)}function c(e,t,n,r,i,s){var l=e;do{for(var u=l.next.next;u!==l.prev;){if(l.i!==u.i&&g(l,u)){var c=T(l,u);return l=o(l,l.next),c=o(c,c.next),a(l,t,n,r,i,s),void a(c,t,n,r,i,s)}u=u.next}l=l.next}while(l!==e)}function f(e,t){return e.x-t.x}function d(e,t){if(t=function(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===a)return n;var l,u=n,c=n.x,f=n.y,d=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&v(o<f?i:a,o,c,f,o<f?a:i,o,r.x,r.y)&&(l=Math.abs(o-r.y)/(i-r.x),E(r,e)&&(l<d||l===d&&(r.x>n.x||r.x===n.x&&h(n,r)))&&(n=r,d=l)),r=r.next}while(r!==u);return n}(e,t)){var n=T(t,e);o(t,t.next),o(n,n.next)}}function h(e,t){return y(e.prev,e,t.prev)<0&&y(t.next,e,e.next)<0}function p(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function m(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function v(e,t,n,r,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(r-s)-(n-a)*(t-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function g(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&_(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(E(e,t)&&E(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!==n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(y(e.prev,e,t.prev)||y(e,t.prev,t))||b(e,t)&&y(e.prev,e,e.next)>0&&y(t.prev,t,t.next)>0)}function y(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function b(e,t){return e.x===t.x&&e.y===t.y}function _(e,t,n,r){var i=w(y(e,t,n)),o=w(y(e,t,r)),a=w(y(n,r,e)),s=w(y(n,r,t));return i!==o&&a!==s||(!(0!==i||!x(e,n,t))||(!(0!==o||!x(e,r,t))||(!(0!==a||!x(n,e,r))||!(0!==s||!x(n,t,r)))))}function x(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function w(e){return e>0?1:e<0?-1:0}function E(e,t){return y(e.prev,e,e.next)<0?y(e,t,e.next)>=0&&y(e,e.prev,t)>=0:y(e,t,e.prev)<0||y(e,e.next,t)<0}function T(e,t){var n=new O(e.i,e.x,e.y),r=new O(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function S(e,t,n,r){var i=new O(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function k(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function O(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function C(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}e.exports=r,e.exports.default=r,r.deviation=function(e,t,n,r){var i=t&&t.length,o=i?t[0]*n:e.length,a=Math.abs(C(e,0,o,n));if(i)for(var s=0,l=t.length;s<l;s++){var u=t[s]*n,c=s<l-1?t[s+1]*n:e.length;a-=Math.abs(C(e,u,c,n))}var f=0;for(s=0;s<r.length;s+=3){var d=r[s]*n,h=r[s+1]*n,p=r[s+2]*n;f+=Math.abs((e[d]-e[p])*(e[h+1]-e[d+1])-(e[d]-e[h])*(e[p+1]-e[d+1]))}return 0===a&&0===f?0:Math.abs((f-a)/a)},r.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)n.vertices.push(e[i][o][a]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n}},function(e,t,n){e.exports=!n(29)&&!n(54)((function(){return 7!=Object.defineProperty(n(122)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(42),i=n(28).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(34),i=n(35),o=n(180)(!1),a=n(86)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),l=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~o(u,n)||u.push(n));return u}},function(e,t,n){var r=n(83);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(85),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){"use strict";var r=n(184)(!0);n(127)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){"use strict";var r=n(63),i=n(27),o=n(128),a=n(40),s=n(58),l=n(185),u=n(91),c=n(188),f=n(22)("iterator"),d=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,n,p,m,v,g){l(n,t,p);var y,b,_,x=function(e){if(!d&&e in S)return S[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},w=t+" Iterator",E="values"==m,T=!1,S=e.prototype,k=S[f]||S["@@iterator"]||m&&S[m],O=k||x(m),C=m?E?x("entries"):O:void 0,A="Array"==t&&S.entries||k;if(A&&(_=c(A.call(new e)))!==Object.prototype&&_.next&&(u(_,w,!0),r||"function"==typeof _[f]||a(_,f,h)),E&&k&&"values"!==k.name&&(T=!0,O=function(){return k.call(this)}),r&&!g||!d&&!T&&S[f]||a(S,f,O),s[t]=O,s[w]=h,m)if(y={values:E?O:x("values"),keys:v?O:x("keys"),entries:C},g)for(b in y)b in S||o(S,b,y[b]);else i(i.P+i.F*(d||T),t,y);return y}},function(e,t,n){e.exports=n(40)},function(e,t,n){var r=n(123),i=n(88).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(57),i=n(55),o=n(35),a=n(82),s=n(34),l=n(121),u=Object.getOwnPropertyDescriptor;t.f=n(29)?u:function(e,t){if(e=o(e),t=a(t,!0),l)try{return u(e,t)}catch(n){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(29),i=n(56),o=n(35),a=n(57).f;e.exports=function(e){return function(t){for(var n,s=o(t),l=i(s),u=l.length,c=0,f=[];u>c;)n=l[c++],r&&!a.call(s,n)||f.push(e?[n,s[n]]:s[n]);return f}}},function(e,t,n){"use strict";var r=n(13);t.__esModule=!0,t.default=function(e){return(0,i.default)(e.replace(o,"ms-"))};var i=r(n(221)),o=/^-ms-/;e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n,o){return(0,r.default)(e,t,n,o),{remove:function(){(0,i.default)(e,t,n,o)}}};var r=o(n(95)),i=o(n(96));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=c(n(1)),i=c(n(66)),o=c(n(2)),a=c(n(12)),s=c(n(68)),l=c(n(43)),u=c(n(247));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var h=function(e){function t(){var n,r;f(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=d(this,e.call.apply(e,[this].concat(o))),r.setContainer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.props;r._portalContainerNode=(0,s.default)(e.container,(0,l.default)(r).body)},r.getMountNode=function(){return r._portalContainerNode},d(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.setContainer(),this.forceUpdate(this.props.onRendered)},t.prototype.componentWillReceiveProps=function(e){e.container!==this.props.container&&this.setContainer(e)},t.prototype.componentWillUnmount=function(){this._portalContainerNode=null},t.prototype.render=function(){return this.props.children&&this._portalContainerNode?a.default.createPortal(this.props.children,this._portalContainerNode):null},t}(o.default.Component);h.displayName="Portal",h.propTypes={container:r.default.oneOfType([i.default,r.default.func]),onRendered:r.default.func},t.default=a.default.createPortal?h:u.default,e.exports=t.default},function(e,t,n){"use strict";var r=n(13);t.__esModule=!0,t.default=function(e){var t=(0,a.default)(e),n=(0,o.default)(t),r=t&&t.documentElement,s={top:0,left:0,height:0,width:0};if(!t)return;if(!(0,i.default)(r,e))return s;void 0!==e.getBoundingClientRect&&(s=e.getBoundingClientRect());return s={top:s.top+(n.pageYOffset||r.scrollTop)-(r.clientTop||0),left:s.left+(n.pageXOffset||r.scrollLeft)-(r.clientLeft||0),width:(null==s.width?e.offsetWidth:s.width)||0,height:(null==s.height?e.offsetHeight:s.height)||0}};var i=r(n(30)),o=r(n(67)),a=r(n(36));e.exports=t.default},function(e,t,n){"use strict";var r=n(13);t.__esModule=!0,t.default=function(e,t){var n=(0,i.default)(e);if(void 0===t)return n?"pageYOffset"in n?n.pageYOffset:n.document.documentElement.scrollTop:e.scrollTop;n?n.scrollTo("pageXOffset"in n?n.pageXOffset:n.document.documentElement.scrollLeft,t):e.scrollTop=t};var i=r(n(67));e.exports=t.default},function(e,t,n){var r=n(20);e.exports=function(e,t,n){return 0!==r(e,t,n)}},function(e,t,n){var r=n(100),i=n(138),o=n(71),a=n(103),s=n(102),l=n(104);e.exports=function(e,t,n,u){switch(t){case"===":return"object"===typeof e&&(e=e.version),"object"===typeof n&&(n=n.version),e===n;case"!==":return"object"===typeof e&&(e=e.version),"object"===typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return r(e,n,u);case"!=":return i(e,n,u);case">":return o(e,n,u);case">=":return a(e,n,u);case"<":return s(e,n,u);case"<=":return l(e,n,u);default:throw new TypeError("Invalid operator: ".concat(t))}}},function(e,t,n){"use strict";(function(e){var r=n(285),i=n(286),o=n(287);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!l.TYPED_ARRAY_SUPPORT&&!(this instanceof l))return new l(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return u(this,e,t,n)}function u(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=d(e,t);return e}(e,t,n,r):"string"===typeof t?function(e,t,n){"string"===typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=s(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(r=t.length)!==r?s(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(c(t),e=s(e,t<0?0:0|h(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(e).length;default:if(r)return z(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,n);case"utf8":case"utf-8":return k(this,t,n);case"ascii":return O(this,t,n);case"latin1":case"binary":return C(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"===typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var o,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var c=-1;for(o=n;o<s;o++)if(u(e,o)===u(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===l)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var f=!0,d=0;d<l;d++)if(u(e,o+d)!==u(t,d)){f=!1;break}if(f)return o}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function _(e,t,n,r){return U(z(t,e.length-n),e,n,r)}function x(e,t,n,r){return U(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function w(e,t,n,r){return x(e,t,n,r)}function E(e,t,n,r){return U(H(t),e,n,r)}function T(e,t,n,r){return U(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function k(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,l,u=e[i],c=null,f=u>239?4:u>223?3:u>191?2:1;if(i+f<=n)switch(f){case 1:u<128&&(c=u);break;case 2:128===(192&(o=e[i+1]))&&(l=(31&u)<<6|63&o)>127&&(c=l);break;case 3:o=e[i+1],a=e[i+2],128===(192&o)&&128===(192&a)&&(l=(15&u)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(c=l)}null===c?(c=65533,f=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=f}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return u(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,r){return c(t),t<=0?s(e,t):void 0!==n?"string"===typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return f(null,e)},l.allocUnsafeSlow=function(e){return f(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?k(this,0,e):m.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,r,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(r,i),c=e.slice(t,n),f=0;f<s;++f)if(u[f]!==c[f]){o=u[f],a=c[f];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return _(this,e,t,n);case"ascii":return x(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function C(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function A(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=B(e[o]);return i}function M(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function P(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,n,r,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function D(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function N(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function R(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,o){return o||R(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function j(e,t,n,r,o){return o||R(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var i=t-e;n=new l(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUInt8=function(e,t){return t||P(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||P(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||P(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||P(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||P(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||P(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||P(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||P(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||P(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||I(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||I(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):N(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);I(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);I(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):N(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return j(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return j(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},l.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=l.isBuffer(e)?e:z(new l(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function z(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function H(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function U(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(39))},function(e){e.exports=JSON.parse('{"a":"5.11.1"}')},function(e,t,n){var r,i=n(80);window,r=function(e,t,n,r){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=307)}([function(e,t,n){"use strict";n.r(t);var r="http://www.w3.org/1999/xhtml",i={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},o=function(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),i.hasOwnProperty(t)?{space:i[t],local:e}:e};function a(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===r&&t.documentElement.namespaceURI===r?t.createElement(e):t.createElementNS(n,e)}}function s(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}var l=function(e){var t=o(e);return(t.local?s:a)(t)};function u(){}var c=function(e){return null==e?u:function(){return this.querySelector(e)}};function f(){return[]}var d=function(e){return null==e?f:function(){return this.querySelectorAll(e)}},h=function(e){return function(){return this.matches(e)}},p=function(e){return new Array(e.length)};function m(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function v(e,t,n,r,i,o){for(var a,s=0,l=t.length,u=o.length;s<u;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new m(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function g(e,t,n,r,i,o,a){var s,l,u,c={},f=t.length,d=o.length,h=new Array(f);for(s=0;s<f;++s)(l=t[s])&&(h[s]=u="$"+a.call(l,l.__data__,s,t),u in c?i[s]=l:c[u]=l);for(s=0;s<d;++s)(l=c[u="$"+a.call(e,o[s],s,o)])?(r[s]=l,l.__data__=o[s],c[u]=null):n[s]=new m(e,o[s]);for(s=0;s<f;++s)(l=t[s])&&c[h[s]]===l&&(i[s]=l)}function y(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function b(e){return function(){this.removeAttribute(e)}}function _(e){return function(){this.removeAttributeNS(e.space,e.local)}}function x(e,t){return function(){this.setAttribute(e,t)}}function w(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function E(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function T(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}m.prototype={constructor:m,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var S=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView};function k(e){return function(){this.style.removeProperty(e)}}function O(e,t,n){return function(){this.style.setProperty(e,t,n)}}function C(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function A(e,t){return e.style.getPropertyValue(t)||S(e).getComputedStyle(e,null).getPropertyValue(t)}function M(e){return function(){delete this[e]}}function P(e,t){return function(){this[e]=t}}function I(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function D(e){return e.trim().split(/^|\s+/)}function N(e){return e.classList||new R(e)}function R(e){this._node=e,this._names=D(e.getAttribute("class")||"")}function L(e,t){for(var n=N(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function j(e,t){for(var n=N(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function F(e){return function(){L(this,e)}}function B(e){return function(){j(this,e)}}function z(e,t){return function(){(t.apply(this,arguments)?L:j)(this,e)}}function H(){this.textContent=""}function U(e){return function(){this.textContent=e}}function V(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function G(){this.innerHTML=""}function W(e){return function(){this.innerHTML=e}}function q(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function Y(){this.nextSibling&&this.parentNode.appendChild(this)}function X(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function $(){return null}function K(){var e=this.parentNode;e&&e.removeChild(this)}function Z(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function Q(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}R.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var J={},ee=null;function te(e,t,n){return e=ne(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function ne(e,t,n){return function(r){var i=ee;ee=r;try{e.call(this,this.__data__,t,n)}finally{ee=i}}}function re(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function ie(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?t.length=i:delete this.__on}}}function oe(e,t,n){var r=J.hasOwnProperty(e.type)?te:ne;return function(i,o,a){var s,l=this.__on,u=r(t,o,a);if(l)for(var c=0,f=l.length;c<f;++c)if((s=l[c]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=u,s.capture=n),void(s.value=t);this.addEventListener(e.type,u,n),s={type:e.type,name:e.name,value:t,listener:u,capture:n},l?l.push(s):this.__on=[s]}}function ae(e,t,n,r){var i=ee;e.sourceEvent=ee,ee=e;try{return t.apply(n,r)}finally{ee=i}}function se(e,t,n){var r=S(e),i=r.CustomEvent;"function"===typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function le(e,t){return function(){return se(this,e,t)}}function ue(e,t){return function(){return se(this,e,t.apply(this,arguments))}}"undefined"!==typeof document&&("onmouseenter"in document.documentElement||(J={mouseenter:"mouseover",mouseleave:"mouseout"}));var ce=[null];function fe(e,t){this._groups=e,this._parents=t}function de(){return new fe([[document.documentElement]],ce)}fe.prototype=de.prototype={constructor:fe,select:function(e){"function"!==typeof e&&(e=c(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=t[i],l=s.length,u=r[i]=new Array(l),f=0;f<l;++f)(o=s[f])&&(a=e.call(o,o.__data__,f,s))&&("__data__"in o&&(a.__data__=o.__data__),u[f]=a);return new fe(r,this._parents)},selectAll:function(e){"function"!==typeof e&&(e=d(e));for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a,s=t[o],l=s.length,u=0;u<l;++u)(a=s[u])&&(r.push(e.call(a,a.__data__,u,s)),i.push(a));return new fe(r,i)},filter:function(e){"function"!==typeof e&&(e=h(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a=t[i],s=a.length,l=r[i]=[],u=0;u<s;++u)(o=a[u])&&e.call(o,o.__data__,u,a)&&l.push(o);return new fe(r,this._parents)},data:function(e,t){if(!e)return p=new Array(this.size()),c=-1,this.each((function(e){p[++c]=e})),p;var n,r=t?g:v,i=this._parents,o=this._groups;"function"!==typeof e&&(n=e,e=function(){return n});for(var a=o.length,s=new Array(a),l=new Array(a),u=new Array(a),c=0;c<a;++c){var f=i[c],d=o[c],h=d.length,p=e.call(f,f&&f.__data__,c,i),m=p.length,y=l[c]=new Array(m),b=s[c]=new Array(m);r(f,d,y,b,u[c]=new Array(h),p,t);for(var _,x,w=0,E=0;w<m;++w)if(_=y[w]){for(w>=E&&(E=w+1);!(x=b[E])&&++E<m;);_._next=x||null}}return(s=new fe(s,i))._enter=l,s._exit=u,s},enter:function(){return new fe(this._enter||this._groups.map(p),this._parents)},exit:function(){return new fe(this._exit||this._groups.map(p),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,o=this.exit();return r="function"===typeof e?e(r):r.append(e+""),null!=t&&(i=t(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(e){for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,u=t[s],c=n[s],f=u.length,d=a[s]=new Array(f),h=0;h<f;++h)(l=u[h]||c[h])&&(d[h]=l);for(;s<r;++s)a[s]=t[s];return new fe(a,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=y);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],l=s.length,u=i[o]=new Array(l),c=0;c<l;++c)(a=s[c])&&(u[c]=a);u.sort(t)}return new fe(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each((function(){e[++t]=this})),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var e=0;return this.each((function(){++e})),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,o=t[n],a=0,s=o.length;a<s;++a)(i=o[a])&&e.call(i,i.__data__,a,o);return this},attr:function(e,t){var n=o(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?_:b:"function"===typeof t?n.local?T:E:n.local?w:x)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?k:"function"===typeof t?C:O)(e,t,null==n?"":n)):A(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?M:"function"===typeof t?I:P)(e,t)):this.node()[e]},classed:function(e,t){var n=D(e+"");if(arguments.length<2){for(var r=N(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof t?z:t?F:B)(n,t))},text:function(e){return arguments.length?this.each(null==e?H:("function"===typeof e?V:U)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?G:("function"===typeof e?q:W)(e)):this.node().innerHTML},raise:function(){return this.each(Y)},lower:function(){return this.each(X)},append:function(e){var t="function"===typeof e?e:l(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"===typeof e?e:l(e),r=null==t?$:"function"===typeof t?t:c(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(K)},clone:function(e){return this.select(e?Q:Z)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,o=re(e+""),a=o.length;if(!(arguments.length<2)){for(s=t?oe:ie,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],t,n));return this}var s=this.node().__on;if(s)for(var l,u=0,c=s.length;u<c;++u)for(r=0,l=s[u];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"===typeof t?ue:le)(e,t))}};var he=de,pe=function(e){return"string"===typeof e?new fe([[document.querySelector(e)]],[document.documentElement]):new fe([[e]],ce)},me=function(e){return pe(l(e).call(document.documentElement))},ve=0;function ge(){return new ye}function ye(){this._="@"+(++ve).toString(36)}ye.prototype=ge.prototype={constructor:ye,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var be=function(){for(var e,t=ee;e=t.sourceEvent;)t=e;return t},_e=function(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]},xe=function(e){var t=be();return t.changedTouches&&(t=t.changedTouches[0]),_e(e,t)},we=function(e){return"string"===typeof e?new fe([document.querySelectorAll(e)],[document.documentElement]):new fe([null==e?[]:e],ce)},Ee=function(e,t,n){arguments.length<3&&(n=t,t=be().changedTouches);for(var r,i=0,o=t?t.length:0;i<o;++i)if((r=t[i]).identifier===n)return _e(e,r);return null},Te=function(e,t){null==t&&(t=be().touches);for(var n=0,r=t?t.length:0,i=new Array(r);n<r;++n)i[n]=_e(e,t[n]);return i};n.d(t,"create",(function(){return me})),n.d(t,"creator",(function(){return l})),n.d(t,"local",(function(){return ge})),n.d(t,"matcher",(function(){return h})),n.d(t,"mouse",(function(){return xe})),n.d(t,"namespace",(function(){return o})),n.d(t,"namespaces",(function(){return i})),n.d(t,"clientPoint",(function(){return _e})),n.d(t,"select",(function(){return pe})),n.d(t,"selectAll",(function(){return we})),n.d(t,"selection",(function(){return he})),n.d(t,"selector",(function(){return c})),n.d(t,"selectorAll",(function(){return d})),n.d(t,"style",(function(){return A})),n.d(t,"touch",(function(){return Ee})),n.d(t,"touches",(function(){return Te})),n.d(t,"window",(function(){return S})),n.d(t,"event",(function(){return ee})),n.d(t,"customEvent",(function(){return ae}))},function(t,n){t.exports=e},function(e,t,n){e.exports=n(562)()},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(126),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){e.exports={default:n(552),__esModule:!0}},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(131),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"===typeof t?"undefined":(0,o.default)(t))&&"function"!==typeof t?e:t}},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(324)),i=a(n(559)),o=a(n(131));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof t?"undefined":(0,o.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},function(e,t,n){"use strict";n.r(t);var r=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},i=function(e){var t;return 1===e.length&&(t=e,e=function(e,n){return r(t(e),n)}),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}},o=i(r),a=o.right,s=o.left,l=a,u=function(e,t){null==t&&(t=c);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return o};function c(e,t){return[e,t]}var f=function(e,t,n){var r,i,o,a,s=e.length,l=t.length,u=new Array(s*l);for(null==n&&(n=c),r=o=0;r<s;++r)for(a=e[r],i=0;i<l;++i,++o)u[o]=n(a,t[i]);return u},d=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},h=function(e){return null===e?NaN:+e},p=function(e,t){var n,r,i=e.length,o=0,a=-1,s=0,l=0;if(null==t)for(;++a<i;)isNaN(n=h(e[a]))||(l+=(r=n-s)*(n-(s+=r/++o)));else for(;++a<i;)isNaN(n=h(t(e[a],a,e)))||(l+=(r=n-s)*(n-(s+=r/++o)));if(o>1)return l/(o-1)},m=function(e,t){var n=p(e,t);return n?Math.sqrt(n):n},v=function(e,t){var n,r,i,o=e.length,a=-1;if(null==t){for(;++a<o;)if(null!=(n=e[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=e[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=t(e[a],a,e))&&n>=n)for(r=i=n;++a<o;)null!=(n=t(e[a],a,e))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]},g=Array.prototype,y=g.slice,b=g.map,_=function(e){return function(){return e}},x=function(e){return e},w=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o},E=Math.sqrt(50),T=Math.sqrt(10),S=Math.sqrt(2),k=function(e,t,n){var r,i,o,a,s=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=O(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(e+s)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(e-s)/a;return r&&o.reverse(),o};function O(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=E?10:o>=T?5:o>=S?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=E?10:o>=T?5:o>=S?2:1)}function C(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=E?i*=10:o>=T?i*=5:o>=S&&(i*=2),t<e?-i:i}var A=function(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1},M=function(){var e=x,t=v,n=A;function r(r){var i,o,a=r.length,s=new Array(a);for(i=0;i<a;++i)s[i]=e(r[i],i,r);var u=t(s),c=u[0],f=u[1],d=n(s,c,f);Array.isArray(d)||(d=C(c,f,d),d=w(Math.ceil(c/d)*d,f,d));for(var h=d.length;d[0]<=c;)d.shift(),--h;for(;d[h-1]>f;)d.pop(),--h;var p,m=new Array(h+1);for(i=0;i<=h;++i)(p=m[i]=[]).x0=i>0?d[i-1]:c,p.x1=i<h?d[i]:f;for(i=0;i<a;++i)c<=(o=s[i])&&o<=f&&m[l(d,o,0,h)].push(r[i]);return m}return r.value=function(t){return arguments.length?(e="function"===typeof t?t:_(t),r):e},r.domain=function(e){return arguments.length?(t="function"===typeof e?e:_([e[0],e[1]]),r):t},r.thresholds=function(e){return arguments.length?(n="function"===typeof e?e:Array.isArray(e)?_(y.call(e)):_(e),r):n},r},P=function(e,t,n){if(null==n&&(n=h),r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}},I=function(e,t,n){return e=b.call(e,h).sort(r),Math.ceil((n-t)/(2*(P(e,.75)-P(e,.25))*Math.pow(e.length,-1/3)))},D=function(e,t,n){return Math.ceil((n-t)/(3.5*m(e)*Math.pow(e.length,-1/3)))},N=function(e,t){var n,r,i=e.length,o=-1;if(null==t){for(;++o<i;)if(null!=(n=e[o])&&n>=n)for(r=n;++o<i;)null!=(n=e[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=n;++o<i;)null!=(n=t(e[o],o,e))&&n>r&&(r=n);return r},R=function(e,t){var n,r=e.length,i=r,o=-1,a=0;if(null==t)for(;++o<r;)isNaN(n=h(e[o]))?--i:a+=n;else for(;++o<r;)isNaN(n=h(t(e[o],o,e)))?--i:a+=n;if(i)return a/i},L=function(e,t){var n,i=e.length,o=-1,a=[];if(null==t)for(;++o<i;)isNaN(n=h(e[o]))||a.push(n);else for(;++o<i;)isNaN(n=h(t(e[o],o,e)))||a.push(n);return P(a.sort(r),.5)},j=function(e){for(var t,n,r,i=e.length,o=-1,a=0;++o<i;)a+=e[o].length;for(n=new Array(a);--i>=0;)for(t=(r=e[i]).length;--t>=0;)n[--a]=r[t];return n},F=function(e,t){var n,r,i=e.length,o=-1;if(null==t){for(;++o<i;)if(null!=(n=e[o])&&n>=n)for(r=n;++o<i;)null!=(n=e[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=n;++o<i;)null!=(n=t(e[o],o,e))&&r>n&&(r=n);return r},B=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},z=function(e,t){if(n=e.length){var n,i,o=0,a=0,s=e[a];for(null==t&&(t=r);++o<n;)(t(i=e[o],s)<0||0!==t(s,s))&&(s=i,a=o);return 0===t(s,s)?a:void 0}},H=function(e,t,n){for(var r,i,o=(null==n?e.length:n)-(t=null==t?0:+t);o;)i=Math.random()*o--|0,r=e[o+t],e[o+t]=e[i+t],e[i+t]=r;return e},U=function(e,t){var n,r=e.length,i=-1,o=0;if(null==t)for(;++i<r;)(n=+e[i])&&(o+=n);else for(;++i<r;)(n=+t(e[i],i,e))&&(o+=n);return o},V=function(e){if(!(i=e.length))return[];for(var t=-1,n=F(e,G),r=new Array(n);++t<n;)for(var i,o=-1,a=r[t]=new Array(i);++o<i;)a[o]=e[o][t];return r};function G(e){return e.length}var W=function(){return V(arguments)};n.d(t,"bisect",(function(){return l})),n.d(t,"bisectRight",(function(){return a})),n.d(t,"bisectLeft",(function(){return s})),n.d(t,"ascending",(function(){return r})),n.d(t,"bisector",(function(){return i})),n.d(t,"cross",(function(){return f})),n.d(t,"descending",(function(){return d})),n.d(t,"deviation",(function(){return m})),n.d(t,"extent",(function(){return v})),n.d(t,"histogram",(function(){return M})),n.d(t,"thresholdFreedmanDiaconis",(function(){return I})),n.d(t,"thresholdScott",(function(){return D})),n.d(t,"thresholdSturges",(function(){return A})),n.d(t,"max",(function(){return N})),n.d(t,"mean",(function(){return R})),n.d(t,"median",(function(){return L})),n.d(t,"merge",(function(){return j})),n.d(t,"min",(function(){return F})),n.d(t,"pairs",(function(){return u})),n.d(t,"permute",(function(){return B})),n.d(t,"quantile",(function(){return P})),n.d(t,"range",(function(){return w})),n.d(t,"scan",(function(){return z})),n.d(t,"shuffle",(function(){return H})),n.d(t,"sum",(function(){return U})),n.d(t,"ticks",(function(){return k})),n.d(t,"tickIncrement",(function(){return O})),n.d(t,"tickStep",(function(){return C})),n.d(t,"transpose",(function(){return V})),n.d(t,"variance",(function(){return p})),n.d(t,"zip",(function(){return W}))},function(e,t,n){"use strict";n.r(t);var r=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function i(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function o(){}var a="\\s*([+-]?\\d+)\\s*",s="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",l="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",u=/^#([0-9a-f]{3})$/,c=/^#([0-9a-f]{6})$/,f=new RegExp("^rgb\\("+[a,a,a]+"\\)$"),d=new RegExp("^rgb\\("+[l,l,l]+"\\)$"),h=new RegExp("^rgba\\("+[a,a,a,s]+"\\)$"),p=new RegExp("^rgba\\("+[l,l,l,s]+"\\)$"),m=new RegExp("^hsl\\("+[s,l,l]+"\\)$"),v=new RegExp("^hsla\\("+[s,l,l,s]+"\\)$"),g={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function y(e){var t;return e=(e+"").trim().toLowerCase(),(t=u.exec(e))?new E((t=parseInt(t[1],16))>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):(t=c.exec(e))?b(parseInt(t[1],16)):(t=f.exec(e))?new E(t[1],t[2],t[3],1):(t=d.exec(e))?new E(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=h.exec(e))?_(t[1],t[2],t[3],t[4]):(t=p.exec(e))?_(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=m.exec(e))?S(t[1],t[2]/100,t[3]/100,1):(t=v.exec(e))?S(t[1],t[2]/100,t[3]/100,t[4]):g.hasOwnProperty(e)?b(g[e]):"transparent"===e?new E(NaN,NaN,NaN,0):null}function b(e){return new E(e>>16&255,e>>8&255,255&e,1)}function _(e,t,n,r){return r<=0&&(e=t=n=NaN),new E(e,t,n,r)}function x(e){return e instanceof o||(e=y(e)),e?new E((e=e.rgb()).r,e.g,e.b,e.opacity):new E}function w(e,t,n,r){return 1===arguments.length?x(e):new E(e,t,n,null==r?1:r)}function E(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function T(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function S(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new C(e,t,n,r)}function k(e){if(e instanceof C)return new C(e.h,e.s,e.l,e.opacity);if(e instanceof o||(e=y(e)),!e)return new C;if(e instanceof C)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,l=a-i,u=(a+i)/2;return l?(s=t===a?(n-r)/l+6*(n<r):n===a?(r-t)/l+2:(t-n)/l+4,l/=u<.5?a+i:2-a-i,s*=60):l=u>0&&u<1?0:s,new C(s,l,u,e.opacity)}function O(e,t,n,r){return 1===arguments.length?k(e):new C(e,t,n,null==r?1:r)}function C(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function A(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}r(o,y,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),r(E,w,i(o,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new E(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new E(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+T(this.r)+T(this.g)+T(this.b)},toString:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),r(C,O,i(o,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new C(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new C(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new E(A(e>=240?e-240:e+120,i,r),A(e,i,r),A(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var M=Math.PI/180,P=180/Math.PI,I=6/29,D=3*I*I;function N(e){if(e instanceof j)return new j(e.l,e.a,e.b,e.opacity);if(e instanceof W){if(isNaN(e.h))return new j(e.l,0,0,e.opacity);var t=e.h*M;return new j(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}e instanceof E||(e=x(e));var n,r,i=H(e.r),o=H(e.g),a=H(e.b),s=F((.2225045*i+.7168786*o+.0606169*a)/1);return i===o&&o===a?n=r=s:(n=F((.4360747*i+.3850649*o+.1430804*a)/.96422),r=F((.0139322*i+.0971045*o+.7141733*a)/.82521)),new j(116*s-16,500*(n-s),200*(s-r),e.opacity)}function R(e,t){return new j(e,0,0,null==t?1:t)}function L(e,t,n,r){return 1===arguments.length?N(e):new j(e,t,n,null==r?1:r)}function j(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function F(e){return e>.008856451679035631?Math.pow(e,1/3):e/D+4/29}function B(e){return e>I?e*e*e:D*(e-4/29)}function z(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function H(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function U(e){if(e instanceof W)return new W(e.h,e.c,e.l,e.opacity);if(e instanceof j||(e=N(e)),0===e.a&&0===e.b)return new W(NaN,0,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*P;return new W(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function V(e,t,n,r){return 1===arguments.length?U(e):new W(n,t,e,null==r?1:r)}function G(e,t,n,r){return 1===arguments.length?U(e):new W(e,t,n,null==r?1:r)}function W(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}r(j,L,i(o,{brighter:function(e){return new j(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new j(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new E(z(3.1338561*(t=.96422*B(t))-1.6168667*(e=1*B(e))-.4906146*(n=.82521*B(n))),z(-.9787684*t+1.9161415*e+.033454*n),z(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),r(W,G,i(o,{brighter:function(e){return new W(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new W(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return N(this).rgb()}}));var q=-.14861,Y=1.78277,X=-.29227,$=-.90649,K=1.97294,Z=K*$,Q=K*Y,J=Y*X-$*q;function ee(e){if(e instanceof ne)return new ne(e.h,e.s,e.l,e.opacity);e instanceof E||(e=x(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(J*r+Z*t-Q*n)/(J+Z-Q),o=r-i,a=(K*(n-i)-X*o)/$,s=Math.sqrt(a*a+o*o)/(K*i*(1-i)),l=s?Math.atan2(a,o)*P-120:NaN;return new ne(l<0?l+360:l,s,i,e.opacity)}function te(e,t,n,r){return 1===arguments.length?ee(e):new ne(e,t,n,null==r?1:r)}function ne(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}r(ne,te,i(o,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new ne(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new ne(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*M,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new E(255*(t+n*(q*r+Y*i)),255*(t+n*(X*r+$*i)),255*(t+n*(K*r)),this.opacity)}})),n.d(t,"color",(function(){return y})),n.d(t,"rgb",(function(){return w})),n.d(t,"hsl",(function(){return O})),n.d(t,"lab",(function(){return L})),n.d(t,"hcl",(function(){return G})),n.d(t,"lch",(function(){return V})),n.d(t,"gray",(function(){return R})),n.d(t,"cubehelix",(function(){return te}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(517);Object.defineProperty(t,"absToChr",{enumerable:!0,get:function(){return Oe(r).default}});var i=n(518);Object.defineProperty(t,"accessorTransposition",{enumerable:!0,get:function(){return Oe(i).default}});var o=n(519);Object.defineProperty(t,"addArrays",{enumerable:!0,get:function(){return Oe(o).default}});var a=n(520);Object.defineProperty(t,"addClass",{enumerable:!0,get:function(){return Oe(a).default}});var s=n(521);Object.defineProperty(t,"base64ToCanvas",{enumerable:!0,get:function(){return Oe(s).default}});var l=n(522);Object.defineProperty(t,"chromInfoBisector",{enumerable:!0,get:function(){return Oe(l).default}});var u=n(523);Object.defineProperty(t,"chrToAbs",{enumerable:!0,get:function(){return Oe(u).default}});var c=n(317);Object.defineProperty(t,"cloneEvent",{enumerable:!0,get:function(){return Oe(c).default}});var f=n(524);Object.defineProperty(t,"colorDomainToRgbaArray",{enumerable:!0,get:function(){return Oe(f).default}});var d=n(525);Object.defineProperty(t,"colorToHex",{enumerable:!0,get:function(){return Oe(d).default}});var h=n(526);Object.defineProperty(t,"colorToRgba",{enumerable:!0,get:function(){return Oe(h).default}});var p=n(320);Object.defineProperty(t,"dataToGenomicLoci",{enumerable:!0,get:function(){return Oe(p).default}});var m=n(527);Object.defineProperty(t,"debounce",{enumerable:!0,get:function(){return Oe(m).default}});var v=n(528);Object.defineProperty(t,"dictFromTuples",{enumerable:!0,get:function(){return Oe(v).default}});var g=n(529);Object.defineProperty(t,"dictItems",{enumerable:!0,get:function(){return Oe(g).default}});var y=n(530);Object.defineProperty(t,"dictKeys",{enumerable:!0,get:function(){return Oe(y).default}});var b=n(531);Object.defineProperty(t,"dictValues",{enumerable:!0,get:function(){return Oe(b).default}});var _=n(532);Object.defineProperty(t,"download",{enumerable:!0,get:function(){return Oe(_).default}});var x=n(533);Object.defineProperty(t,"fillInMinWidths",{enumerable:!0,get:function(){return Oe(x).default}});var w=n(887);Object.defineProperty(t,"flatten",{enumerable:!0,get:function(){return Oe(w).default}});var E=n(888);Object.defineProperty(t,"forEach",{enumerable:!0,get:function(){return Oe(E).default}});var T=n(889);Object.defineProperty(t,"forwardEvent",{enumerable:!0,get:function(){return Oe(T).default}});var S=n(890);Object.defineProperty(t,"genomeLociToPixels",{enumerable:!0,get:function(){return Oe(S).default}});var k=n(891);Object.defineProperty(t,"getDefaultTrackForDatatype",{enumerable:!0,get:function(){return Oe(k).default}});var O=n(892);Object.defineProperty(t,"getElementDim",{enumerable:!0,get:function(){return Oe(O).default}});var C=n(893);Object.defineProperty(t,"getTrackByUid",{enumerable:!0,get:function(){return Oe(C).default}});var A=n(894);Object.defineProperty(t,"getTrackConfFromHGC",{enumerable:!0,get:function(){return Oe(A).default}});var M=n(895);Object.defineProperty(t,"getTrackObjById",{enumerable:!0,get:function(){return Oe(M).default}});var P=n(896);Object.defineProperty(t,"getTrackPositionByUid",{enumerable:!0,get:function(){return Oe(P).default}});var I=n(314);Object.defineProperty(t,"getXylofon",{enumerable:!0,get:function(){return Oe(I).default}});var D=n(897);Object.defineProperty(t,"gradient",{enumerable:!0,get:function(){return Oe(D).default}});var N=n(238);Object.defineProperty(t,"hasClass",{enumerable:!0,get:function(){return Oe(N).default}});var R=n(898);Object.defineProperty(t,"hasParent",{enumerable:!0,get:function(){return Oe(R).default}});var L=n(899);Object.defineProperty(t,"hexStrToInt",{enumerable:!0,get:function(){return Oe(L).default}});var j=n(900);Object.defineProperty(t,"intoTheVoid",{enumerable:!0,get:function(){return Oe(j).default}});var F=n(901);Object.defineProperty(t,"isTrackOrChildTrack",{enumerable:!0,get:function(){return Oe(F).default}});var B=n(902);Object.defineProperty(t,"isWithin",{enumerable:!0,get:function(){return Oe(B).default}});var z=n(903);Object.defineProperty(t,"latToY",{enumerable:!0,get:function(){return Oe(z).default}});var H=n(904);Object.defineProperty(t,"loadChromInfos",{enumerable:!0,get:function(){return Oe(H).default}});var U=n(905);Object.defineProperty(t,"lngToX",{enumerable:!0,get:function(){return Oe(U).default}});var V=n(315);Object.defineProperty(t,"map",{enumerable:!0,get:function(){return Oe(V).default}});var G=n(906);Object.defineProperty(t,"max",{enumerable:!0,get:function(){return Oe(G).default}});var W=n(907);Object.defineProperty(t,"min",{enumerable:!0,get:function(){return Oe(W).default}});var q=n(908);Object.defineProperty(t,"mod",{enumerable:!0,get:function(){return Oe(q).default}});var Y=n(909);Object.defineProperty(t,"ndarrayAssign",{enumerable:!0,get:function(){return Oe(Y).default}});var X=n(915);Object.defineProperty(t,"ndarrayFlatten",{enumerable:!0,get:function(){return Oe(X).default}});var $=n(424);Object.defineProperty(t,"ndarrayToList",{enumerable:!0,get:function(){return Oe($).default}});var K=n(916);Object.defineProperty(t,"numericifyVersion",{enumerable:!0,get:function(){return Oe(K).default}});var Z=n(917);Object.defineProperty(t,"objVals",{enumerable:!0,get:function(){return Oe(Z).default}});var Q=n(918);Object.defineProperty(t,"or",{enumerable:!0,get:function(){return Oe(Q).default}});var J=n(919);Object.defineProperty(t,"pixiTextToSvg",{enumerable:!0,get:function(){return Oe(J).default}});var ee=n(920);Object.defineProperty(t,"q",{enumerable:!0,get:function(){return Oe(ee).default}});var te=n(419);Object.defineProperty(t,"reduce",{enumerable:!0,get:function(){return Oe(te).default}});var ne=n(921);Object.defineProperty(t,"rangeQuery2d",{enumerable:!0,get:function(){return Oe(ne).default}});var re=n(922);Object.defineProperty(t,"relToAbsChromPos",{enumerable:!0,get:function(){return Oe(re).default}});var ie=n(923);Object.defineProperty(t,"removeClass",{enumerable:!0,get:function(){return Oe(ie).default}});var oe=n(924);Object.defineProperty(t,"resetD3BrushStyle",{enumerable:!0,get:function(){return Oe(oe).default}});var ae=n(925);Object.defineProperty(t,"rgbToHex",{enumerable:!0,get:function(){return Oe(ae).default}});var se=n(926);Object.defineProperty(t,"scalesCenterAndK",{enumerable:!0,get:function(){return Oe(se).default}});var le=n(927);Object.defineProperty(t,"scalesToGenomeLoci",{enumerable:!0,get:function(){return Oe(le).default}});var ue=n(928);Object.defineProperty(t,"showMousePosition",{enumerable:!0,get:function(){return Oe(ue).default}});var ce=n(929);Object.defineProperty(t,"some",{enumerable:!0,get:function(){return Oe(ce).default}});var fe=n(930);Object.defineProperty(t,"sum",{enumerable:!0,get:function(){return Oe(fe).default}});var de=n(931);Object.defineProperty(t,"svgLine",{enumerable:!0,get:function(){return Oe(de).default}});var he=n(932);Object.defineProperty(t,"throttleAndDebounce",{enumerable:!0,get:function(){return Oe(he).default}});var pe=n(933);Object.defineProperty(t,"tileToCanvas",{enumerable:!0,get:function(){return Oe(pe).default}});var me=n(934);Object.defineProperty(t,"timeout",{enumerable:!0,get:function(){return Oe(me).default}});var ve=n(935);Object.defineProperty(t,"totalTrackPixelHeight",{enumerable:!0,get:function(){return Oe(ve).default}});var ge=n(171);Object.defineProperty(t,"toVoid",{enumerable:!0,get:function(){return Oe(ge).default}});var ye=n(936);Object.defineProperty(t,"trimTrailingSlash",{enumerable:!0,get:function(){return Oe(ye).default}});var be=n(937);Object.defineProperty(t,"valueToColor",{enumerable:!0,get:function(){return Oe(be).default}});var _e=n(938);Object.defineProperty(t,"expandCombinedTracks",{enumerable:!0,get:function(){return Oe(_e).default}});var xe=n(939);Object.defineProperty(t,"segmentsToRows",{enumerable:!0,get:function(){return Oe(xe).default}});var we=n(420);Object.defineProperty(t,"visitPositionedTracks",{enumerable:!0,get:function(){return Oe(we).default}});var Ee=n(421);Object.defineProperty(t,"visitTracks",{enumerable:!0,get:function(){return Oe(Ee).default}});var Te=n(941);Object.defineProperty(t,"trackUtils",{enumerable:!0,get:function(){return Oe(Te).default}});var Se=n(425);Object.defineProperty(t,"getTrackObjectFromHGC",{enumerable:!0,get:function(){return Se.getTrackObjectFromHGC}}),Object.defineProperty(t,"getTrackRenderer",{enumerable:!0,get:function(){return Se.getTrackRenderer}}),Object.defineProperty(t,"getTiledPlot",{enumerable:!0,get:function(){return Se.getTiledPlot}});var ke=n(942);function Oe(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"waitForJsonComplete",{enumerable:!0,get:function(){return ke.waitForJsonComplete}}),Object.defineProperty(t,"waitForTilesLoaded",{enumerable:!0,get:function(){return ke.waitForTilesLoaded}}),Object.defineProperty(t,"waitForTransitionsFinished",{enumerable:!0,get:function(){return ke.waitForTransitionsFinished}}),Object.defineProperty(t,"mountHGComponent",{enumerable:!0,get:function(){return ke.mountHGComponent}}),Object.defineProperty(t,"removeHGComponent",{enumerable:!0,get:function(){return ke.removeHGComponent}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(321);Object.defineProperty(t,"THEME_LIGHT",{enumerable:!0,get:function(){return r.THEME_LIGHT}}),Object.defineProperty(t,"THEME_DARK",{enumerable:!0,get:function(){return r.THEME_DARK}}),Object.defineProperty(t,"THEME_DEFAULT",{enumerable:!0,get:function(){return r.THEME_DEFAULT}});var i=n(318);Object.defineProperty(t,"GLOBALS",{enumerable:!0,get:function(){return m(i).default}});var o=n(543);Object.defineProperty(t,"DATATYPE_TO_TRACK_TYPE",{enumerable:!0,get:function(){return m(o).default}});var a=n(544);Object.defineProperty(t,"HEATED_OBJECT_MAP",{enumerable:!0,get:function(){return m(a).default}});var s=n(545);Object.defineProperty(t,"IS_TRACK_RANGE_SELECTABLE",{enumerable:!0,get:function(){return m(s).default}});var l=n(546);Object.defineProperty(t,"OPTIONS_INFO",{enumerable:!0,get:function(){return m(l).default}});var u=n(878);Object.defineProperty(t,"TRACKS_INFO",{enumerable:!0,get:function(){return m(u).default}});var c=n(880);Object.defineProperty(t,"TRACKS_INFO_BY_TYPE",{enumerable:!0,get:function(){return m(c).default}});var f=n(881);Object.defineProperty(t,"POSITIONS_BY_DATATYPE",{enumerable:!0,get:function(){return m(f).default}});var d=n(882);Object.defineProperty(t,"DEFAULT_TRACKS_FOR_DATATYPE",{enumerable:!0,get:function(){return m(d).default}});var h=n(883);Object.defineProperty(t,"AVAILABLE_FOR_PLUGINS",{enumerable:!0,get:function(){return m(h).default}});var p=n(886);function m(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"AVAILABLE_TRACK_TYPES",{enumerable:!0,get:function(){return m(p).default}}),t.DEFAULT_VIEW_MARGIN=0,t.DEFAULT_VIEW_PADDING=5,t.DEFAULT_CONTAINER_PADDING_X=10,t.DEFAULT_CONTAINER_PADDING_Y=10,t.MAX_CLICK_DELAY=300,t.MOUSE_TOOL_MOVE="move",t.MOUSE_TOOL_SELECT="select",t.TILE_FETCH_DEBOUNCE=100,t.ZOOM_DEBOUNCE=10,t.SHORT_DRAG_TIMEOUT=110,t.LONG_DRAG_TIMEOUT=3e3,t.LOCATION_LISTENER_PREFIX="locationListenerPrefix",t.ZOOM_TRANSITION_DURATION=1e3,t.DEFAULT_SERVER="http://higlass.io/api/v1",t.VIEW_HEADER_MED_WIDTH_SEARCH_BAR=400,t.VIEW_HEADER_MIN_WIDTH_SEARCH_BAR=300,t.TRACK_LOCATIONS=["top","left","right","bottom","center","whole","gallery"],t.MIN_HORIZONTAL_HEIGHT=20,t.MIN_VERTICAL_WIDTH=20},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReactCSS=t.loop=t.handleActive=t.handleHover=t.hover=void 0;var r=u(n(729)),i=u(n(795)),o=u(n(814)),a=u(n(815)),s=u(n(816)),l=u(n(817));function u(e){return e&&e.__esModule?e:{default:e}}t.hover=a.default,t.handleHover=a.default,t.handleActive=s.default,t.loop=l.default;var c=t.ReactCSS=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var s=(0,r.default)(n),l=(0,i.default)(e,s);return(0,o.default)(l)};t.default=c},function(e,t,n){"use strict";t.__esModule=!0;var r=o(n(5)),i=o(n(593));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function e(t,n,o){null===t&&(t=Function.prototype);var a=(0,i.default)(t,n);if(void 0===a){var s=(0,r.default)(t);return null===s?void 0:e(s,n,o)}if("value"in a)return a.value;var l=a.get;return void 0!==l?l.call(o):void 0}},function(e,t){var n=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},function(e,t,n){"use strict";var r=n(9);function i(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}var o=function(e){return function(){return e}};function a(e,t){return function(n){return e+n*t}}function s(e,t){var n=t-e;return n?a(e,n>180||n<-180?n-360*Math.round(n/360):n):o(isNaN(e)?t:e)}function l(e){return 1===(e=+e)?u:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):o(isNaN(t)?n:t)}}function u(e,t){var n=t-e;return n?a(e,n):o(isNaN(e)?t:e)}var c=function e(t){var n=l(t);function i(e,t){var i=n((e=Object(r.rgb)(e)).r,(t=Object(r.rgb)(t)).r),o=n(e.g,t.g),a=n(e.b,t.b),s=u(e.opacity,t.opacity);return function(t){return e.r=i(t),e.g=o(t),e.b=a(t),e.opacity=s(t),e+""}}return i.gamma=e,i}(1);function f(e){return function(t){var n,i,o=t.length,a=new Array(o),s=new Array(o),l=new Array(o);for(n=0;n<o;++n)i=Object(r.rgb)(t[n]),a[n]=i.r||0,s[n]=i.g||0,l[n]=i.b||0;return a=e(a),s=e(s),l=e(l),i.opacity=1,function(e){return i.r=a(e),i.g=s(e),i.b=l(e),i+""}}}f((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],a=e[r+1],s=r>0?e[r-1]:2*o-a,l=r<t-1?e[r+2]:2*a-o;return i((n-r/t)*t,s,o,a,l)}})),f((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),o=e[(r+t-1)%t],a=e[r%t],s=e[(r+1)%t],l=e[(r+2)%t];return i((n-r/t)*t,o,a,s,l)}}));var d,h,p,m,v=function(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=E(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}},g=function(e,t){var n=new Date;return t-=e=+e,function(r){return n.setTime(e+t*r),n}},y=function(e,t){return t-=e=+e,function(n){return e+t*n}},b=function(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=E(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}},_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,x=new RegExp(_.source,"g"),w=function(e,t){var n,r,i,o=_.lastIndex=x.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=_.exec(e))&&(r=x.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:y(n,r)})),o=x.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})},E=function(e,t){var n,i=typeof t;return null==t||"boolean"===i?o(t):("number"===i?y:"string"===i?(n=Object(r.color)(t))?(t=n,c):w:t instanceof r.color?c:t instanceof Date?g:Array.isArray(t)?v:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?b:y)(e,t)},T=function(e,t){return t-=e=+e,function(n){return Math.round(e+t*n)}},S=180/Math.PI,k={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},O=function(e,t,n,r,i,o){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*S,skewX:Math.atan(l)*S,scaleX:a,scaleY:s}};function C(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(o,a){var s=[],l=[];return o=e(o),a=e(a),function(e,r,i,o,a,s){if(e!==i||r!==o){var l=a.push("translate(",null,t,null,n);s.push({i:l-4,x:y(e,i)},{i:l-2,x:y(r,o)})}else(i||o)&&a.push("translate("+i+t+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,l),function(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:y(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(o.rotate,a.rotate,s,l),function(e,t,n,o){e!==t?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:y(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(o.skewX,a.skewX,s,l),function(e,t,n,r,o,a){if(e!==n||t!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:y(e,n)},{i:s-2,x:y(t,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,l),o=a=null,function(e){for(var t,n=-1,r=l.length;++n<r;)s[(t=l[n]).i]=t.x(e);return s.join("")}}}var A=C((function(e){return"none"===e?k:(d||(d=document.createElement("DIV"),h=document.documentElement,p=document.defaultView),d.style.transform=e,e=p.getComputedStyle(h.appendChild(d),null).getPropertyValue("transform"),h.removeChild(d),e=e.slice(7,-1).split(","),O(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}),"px, ","px)","deg)"),M=C((function(e){return null==e?k:(m||(m=document.createElementNS("http://www.w3.org/2000/svg","g")),m.setAttribute("transform",e),(e=m.transform.baseVal.consolidate())?(e=e.matrix,O(e.a,e.b,e.c,e.d,e.e,e.f)):k)}),", ",")",")"),P=Math.SQRT2;function I(e){return((e=Math.exp(e))+1/e)/2}var D=function(e,t){var n,r,i=e[0],o=e[1],a=e[2],s=t[0],l=t[1],u=t[2],c=s-i,f=l-o,d=c*c+f*f;if(d<1e-12)r=Math.log(u/a)/P,n=function(e){return[i+e*c,o+e*f,a*Math.exp(P*e*r)]};else{var h=Math.sqrt(d),p=(u*u-a*a+4*d)/(2*a*2*h),m=(u*u-a*a-4*d)/(2*u*2*h),v=Math.log(Math.sqrt(p*p+1)-p),g=Math.log(Math.sqrt(m*m+1)-m);r=(g-v)/P,n=function(e){var t,n=e*r,s=I(v),l=a/(2*h)*(s*(t=P*n+v,((t=Math.exp(2*t))-1)/(t+1))-function(e){return((e=Math.exp(e))-1/e)/2}(v));return[i+l*c,o+l*f,a*s/I(P*n+v)]}}return n.duration=1e3*r,n};function N(e){return function(t,n){var i=e((t=Object(r.hsl)(t)).h,(n=Object(r.hsl)(n)).h),o=u(t.s,n.s),a=u(t.l,n.l),s=u(t.opacity,n.opacity);return function(e){return t.h=i(e),t.s=o(e),t.l=a(e),t.opacity=s(e),t+""}}}function R(e){return function(t,n){var i=e((t=Object(r.hcl)(t)).h,(n=Object(r.hcl)(n)).h),o=u(t.c,n.c),a=u(t.l,n.l),s=u(t.opacity,n.opacity);return function(e){return t.h=i(e),t.c=o(e),t.l=a(e),t.opacity=s(e),t+""}}}function L(e){return function t(n){function i(t,i){var o=e((t=Object(r.cubehelix)(t)).h,(i=Object(r.cubehelix)(i)).h),a=u(t.s,i.s),s=u(t.l,i.l),l=u(t.opacity,i.opacity);return function(e){return t.h=o(e),t.s=a(e),t.l=s(Math.pow(e,n)),t.opacity=l(e),t+""}}return n=+n,i.gamma=t,i}(1)}N(s),N(u),R(s),R(u),L(s);var j=L(u);n.d(t,"a",(function(){return E})),n.d(t,"c",(function(){return y})),n.d(t,"e",(function(){return T})),n.d(t,"f",(function(){return w})),n.d(t,"g",(function(){return A})),n.d(t,"h",(function(){return M})),n.d(t,"i",(function(){return D})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return j}))},function(e,t,n){e.exports={default:n(211),__esModule:!0}},function(e,t,n){var r=n(23),i=n(14),o=n(48),a=n(39),s=n(46),l=function e(t,n,l){var u,c,f,d=t&e.F,h=t&e.G,p=t&e.S,m=t&e.P,v=t&e.B,g=t&e.W,y=h?i:i[n]||(i[n]={}),b=y.prototype,_=h?r:p?r[n]:(r[n]||{}).prototype;for(u in h&&(l=n),l)(c=!d&&_&&void 0!==_[u])&&s(y,u)||(f=c?_[u]:l[u],y[u]=h&&"function"!=typeof _[u]?l[u]:v&&c?o(f,r):g&&_[u]==f?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(f):m&&"function"==typeof f?o(Function.call,f):f,m&&((y.virtual||(y.virtual={}))[u]=f,t&e.R&&b&&!b[u]&&a(b,u,f)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,n){"use strict";n.r(t);var r=function(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]},i=function(e){return(e=r(Math.abs(e)))?e[1]:NaN},o=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function a(e){return new s(e)}function s(e){if(!(t=o.exec(e)))throw new Error("invalid format: "+e);var t;this.fill=t[1]||" ",this.align=t[2]||">",this.sign=t[3]||"-",this.symbol=t[4]||"",this.zero=!!t[5],this.width=t[6]&&+t[6],this.comma=!!t[7],this.precision=t[8]&&+t[8].slice(1),this.trim=!!t[9],this.type=t[10]||""}a.prototype=s.prototype,s.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var l,u,c,f,d=function(e,t){var n=r(e,t);if(!n)return e+"";var i=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")},h={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return d(100*e,t)},r:d,s:function(e,t){var n=r(e,t);if(!n)return e+"";var i=n[0],o=n[1],a=o-(l=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,s=i.length;return a===s?i:a>s?i+new Array(a-s+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+r(e,Math.max(0,t+a-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},p=function(e){return e},m=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],v=function(e){var t,n,r=e.grouping&&e.thousands?(t=e.grouping,n=e.thousands,function(e,r){for(var i=e.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}):p,o=e.currency,s=e.decimal,u=e.numerals?function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(e.numerals):p,c=e.percent||"%";function f(e){var t=(e=a(e)).fill,n=e.align,i=e.sign,f=e.symbol,d=e.zero,p=e.width,v=e.comma,g=e.precision,y=e.trim,b=e.type;"n"===b?(v=!0,b="g"):h[b]||(null==g&&(g=12),y=!0,b="g"),(d||"0"===t&&"="===n)&&(d=!0,t="0",n="=");var _="$"===f?o[0]:"#"===f&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",x="$"===f?o[1]:/[%p]/.test(b)?c:"",w=h[b],E=/[defgprs%]/.test(b);function T(e){var o,a,c,f=_,h=x;if("c"===b)h=w(e)+h,e="";else{var T=(e=+e)<0;if(e=w(Math.abs(e),g),y&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(i>0){if(!+e[r])break e;i=0}}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),T&&0===+e&&(T=!1),f=(T?"("===i?i:"-":"-"===i||"("===i?"":i)+f,h=("s"===b?m[8+l/3]:"")+h+(T&&"("===i?")":""),E)for(o=-1,a=e.length;++o<a;)if(48>(c=e.charCodeAt(o))||c>57){h=(46===c?s+e.slice(o+1):e.slice(o))+h,e=e.slice(0,o);break}}v&&!d&&(e=r(e,1/0));var S=f.length+e.length+h.length,k=S<p?new Array(p-S+1).join(t):"";switch(v&&d&&(e=r(k+e,k.length?p-h.length:1/0),k=""),n){case"<":e=f+e+h+k;break;case"=":e=f+k+e+h;break;case"^":e=k.slice(0,S=k.length>>1)+f+e+h+k.slice(S);break;default:e=k+f+e+h}return u(e)}return g=null==g?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),T.toString=function(){return e+""},T}return{format:f,formatPrefix:function(e,t){var n=f(((e=a(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(i(t)/3))),o=Math.pow(10,-r),s=m[8+r/3];return function(e){return n(o*e)+s}}}};function g(e){return u=v(e),c=u.format,f=u.formatPrefix,u}g({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var y=function(e){return Math.max(0,-i(Math.abs(e)))},b=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(i(t)/3)))-i(Math.abs(e)))},_=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,i(t)-i(e))+1};n.d(t,"formatDefaultLocale",(function(){return g})),n.d(t,"format",(function(){return c})),n.d(t,"formatPrefix",(function(){return f})),n.d(t,"formatLocale",(function(){return v})),n.d(t,"formatSpecifier",(function(){return a})),n.d(t,"precisionFixed",(function(){return y})),n.d(t,"precisionPrefix",(function(){return b})),n.d(t,"precisionRound",(function(){return _}))},function(e,t,n){"use strict";t.__esModule=!0;var r=o(n(497)),i=o(n(16));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if(Array.isArray(e))return e;if((0,r.default)(Object(e)))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var s,l=(0,i.default)(e);!(r=(s=l.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(u){o=!0,a=u}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,n){var r=n(103)("wks"),i=n(91),o=n(23).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t,n){e.exports={default:n(495),__esModule:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(820);Object.defineProperty(t,"Alpha",{enumerable:!0,get:function(){return f(r).default}});var i=n(279);Object.defineProperty(t,"Checkboard",{enumerable:!0,get:function(){return f(i).default}});var o=n(823);Object.defineProperty(t,"EditableInput",{enumerable:!0,get:function(){return f(o).default}});var a=n(824);Object.defineProperty(t,"Hue",{enumerable:!0,get:function(){return f(a).default}});var s=n(826);Object.defineProperty(t,"Raised",{enumerable:!0,get:function(){return f(s).default}});var l=n(833);Object.defineProperty(t,"Saturation",{enumerable:!0,get:function(){return f(l).default}});var u=n(417);Object.defineProperty(t,"ColorWrap",{enumerable:!0,get:function(){return f(u).default}});var c=n(839);function f(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"Swatch",{enumerable:!0,get:function(){return f(c).default}})},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(500);Object.defineProperty(t,"chromInfo",{enumerable:!0,get:function(){return s(r).default}});var i=n(508);Object.defineProperty(t,"createDomEvent",{enumerable:!0,get:function(){return s(i).default}});var o=n(313);Object.defineProperty(t,"ElementResizeListener",{enumerable:!0,get:function(){return s(o).default}});var a=n(509);function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"tileProxy",{enumerable:!0,get:function(){return s(a).default}}),Object.defineProperty(t,"requestsInFlight",{enumerable:!0,get:function(){return a.requestsInFlight}}),Object.defineProperty(t,"setTileProxyAuthHeader",{enumerable:!0,get:function(){return a.setTileProxyAuthHeader}}),Object.defineProperty(t,"getTileProxyAuthHeader",{enumerable:!0,get:function(){return a.getTileProxyAuthHeader}}),Object.defineProperty(t,"authHeader",{enumerable:!0,get:function(){return a.authHeader}})},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(93),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,o.default)(e)}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){e.exports=n(512)},function(e,t,n){"use strict";n.r(t);var r=n(8),i=n(73),o=Array.prototype,a=o.map,s=o.slice,l={name:"implicit"};function u(e){var t=Object(i.a)(),n=[],r=l;function o(i){var o=i+"",a=t.get(o);if(!a){if(r!==l)return r;t.set(o,a=n.push(i))}return e[(a-1)%e.length]}return e=null==e?[]:s.call(e),o.domain=function(e){if(!arguments.length)return n.slice();n=[],t=Object(i.a)();for(var r,a,s=-1,l=e.length;++s<l;)t.has(a=(r=e[s])+"")||t.set(a,n.push(r));return o},o.range=function(t){return arguments.length?(e=s.call(t),o):e.slice()},o.unknown=function(e){return arguments.length?(r=e,o):r},o.copy=function(){return u().domain(n).range(e).unknown(r)},o}function c(){var e,t,n=u().unknown(void 0),i=n.domain,o=n.range,a=[0,1],s=!1,l=0,f=0,d=.5;function h(){var n=i().length,u=a[1]<a[0],c=a[u-0],h=a[1-u];e=(h-c)/Math.max(1,n-l+2*f),s&&(e=Math.floor(e)),c+=(h-c-e*(n-l))*d,t=e*(1-l),s&&(c=Math.round(c),t=Math.round(t));var p=Object(r.range)(n).map((function(t){return c+e*t}));return o(u?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(i(e),h()):i()},n.range=function(e){return arguments.length?(a=[+e[0],+e[1]],h()):a.slice()},n.rangeRound=function(e){return a=[+e[0],+e[1]],s=!0,h()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,h()):s},n.padding=function(e){return arguments.length?(l=f=Math.max(0,Math.min(1,e)),h()):l},n.paddingInner=function(e){return arguments.length?(l=Math.max(0,Math.min(1,e)),h()):l},n.paddingOuter=function(e){return arguments.length?(f=Math.max(0,Math.min(1,e)),h()):f},n.align=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),h()):d},n.copy=function(){return c().domain(i()).range(a).round(s).paddingInner(l).paddingOuter(f).align(d)},h()}function f(){return function e(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return e(n())},t}(c().paddingInner(1))}var d=n(15),h=function(e){return function(){return e}},p=function(e){return+e},m=[0,1];function v(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:h(t)}function g(e,t,n,r){var i=e[0],o=e[1],a=t[0],s=t[1];return o<i?(i=n(o,i),a=r(s,a)):(i=n(i,o),a=r(a,s)),function(e){return a(i(e))}}function y(e,t,n,i){var o=Math.min(e.length,t.length)-1,a=new Array(o),s=new Array(o),l=-1;for(e[o]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<o;)a[l]=n(e[l],e[l+1]),s[l]=i(t[l],t[l+1]);return function(t){var n=Object(r.bisect)(e,t,1,o)-1;return s[n](a[n](t))}}function b(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp())}function _(e,t){var n,r,i,o=m,l=m,u=d.a,c=!1;function f(){return n=Math.min(o.length,l.length)>2?y:g,r=i=null,h}function h(t){return(r||(r=n(o,l,c?function(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=t?0:e>=n?1:r(e)}}}(e):e,u)))(+t)}return h.invert=function(e){return(i||(i=n(l,o,v,c?function(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=0?t:e>=1?n:r(e)}}}(t):t)))(+e)},h.domain=function(e){return arguments.length?(o=a.call(e,p),f()):o.slice()},h.range=function(e){return arguments.length?(l=s.call(e),f()):l.slice()},h.rangeRound=function(e){return l=s.call(e),u=d.e,f()},h.clamp=function(e){return arguments.length?(c=!!e,f()):c},h.interpolate=function(e){return arguments.length?(u=e,f()):u},f()}var x=n(18);function w(e){var t=e.domain;return e.ticks=function(e){var n=t();return Object(r.ticks)(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){return function(e,t,n){var i,o=e[0],a=e[e.length-1],s=Object(r.tickStep)(o,a,null==t?10:t);switch((n=Object(x.formatSpecifier)(null==n?",f":n)).type){case"s":var l=Math.max(Math.abs(o),Math.abs(a));return null!=n.precision||isNaN(i=Object(x.precisionPrefix)(s,l))||(n.precision=i),Object(x.formatPrefix)(n,l);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(i=Object(x.precisionRound)(s,Math.max(Math.abs(o),Math.abs(a))))||(n.precision=i-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(i=Object(x.precisionFixed)(s))||(n.precision=i-2*("%"===n.type))}return Object(x.format)(n)}(t(),e,n)},e.nice=function(n){null==n&&(n=10);var i,o=t(),a=0,s=o.length-1,l=o[a],u=o[s];return u<l&&(i=l,l=u,u=i,i=a,a=s,s=i),(i=Object(r.tickIncrement)(l,u,n))>0?(l=Math.floor(l/i)*i,u=Math.ceil(u/i)*i,i=Object(r.tickIncrement)(l,u,n)):i<0&&(l=Math.ceil(l*i)/i,u=Math.floor(u*i)/i,i=Object(r.tickIncrement)(l,u,n)),i>0?(o[a]=Math.floor(l/i)*i,o[s]=Math.ceil(u/i)*i,t(o)):i<0&&(o[a]=Math.ceil(l*i)/i,o[s]=Math.floor(u*i)/i,t(o)),e},e}function E(){var e=_(v,d.c);return e.copy=function(){return b(e,E())},w(e)}function T(){var e=[0,1];function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=a.call(n,p),t):e.slice()},t.copy=function(){return T().domain(e)},w(t)}var S=function(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e};function k(e,t){return(t=Math.log(t/e))?function(n){return Math.log(n/e)/t}:h(t)}function O(e,t){return e<0?function(n){return-Math.pow(-t,n)*Math.pow(-e,1-n)}:function(n){return Math.pow(t,n)*Math.pow(e,1-n)}}function C(e){return isFinite(e)?+("1e"+e):e<0?0:e}function A(e){return 10===e?C:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function M(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function P(e){return function(t){return-e(-t)}}function I(){var e=_(k,O).domain([1,10]),t=e.domain,n=10,i=M(10),o=A(10);function a(){return i=M(n),o=A(n),t()[0]<0&&(i=P(i),o=P(o)),e}return e.base=function(e){return arguments.length?(n=+e,a()):n},e.domain=function(e){return arguments.length?(t(e),a()):t()},e.ticks=function(e){var a,s=t(),l=s[0],u=s[s.length-1];(a=u<l)&&(h=l,l=u,u=h);var c,f,d,h=i(l),p=i(u),m=null==e?10:+e,v=[];if(!(n%1)&&p-h<m){if(h=Math.round(h)-1,p=Math.round(p)+1,l>0){for(;h<p;++h)for(f=1,c=o(h);f<n;++f)if(!((d=c*f)<l)){if(d>u)break;v.push(d)}}else for(;h<p;++h)for(f=n-1,c=o(h);f>=1;--f)if(!((d=c*f)<l)){if(d>u)break;v.push(d)}}else v=Object(r.ticks)(h,p,Math.min(p-h,m)).map(o);return a?v.reverse():v},e.tickFormat=function(t,r){if(null==r&&(r=10===n?".0e":","),"function"!==typeof r&&(r=Object(x.format)(r)),t===1/0)return r;null==t&&(t=10);var a=Math.max(1,n*t/e.ticks().length);return function(e){var t=e/o(Math.round(i(e)));return t*n<n-.5&&(t*=n),t<=a?r(e):""}},e.nice=function(){return t(S(t(),{floor:function(e){return o(Math.floor(i(e)))},ceil:function(e){return o(Math.ceil(i(e)))}}))},e.copy=function(){return b(e,I().base(n))},e}function D(e,t){return e<0?-Math.pow(-e,t):Math.pow(e,t)}function N(){var e=1,t=_((function(t,n){return(n=D(n,e)-(t=D(t,e)))?function(r){return(D(r,e)-t)/n}:h(n)}),(function(t,n){return n=D(n,e)-(t=D(t,e)),function(r){return D(t+n*r,1/e)}})),n=t.domain;return t.exponent=function(t){return arguments.length?(e=+t,n(n())):e},t.copy=function(){return b(t,N().exponent(e))},w(t)}function R(){return N().exponent(.5)}function L(){var e=[],t=[],n=[];function i(){var i=0,a=Math.max(1,t.length);for(n=new Array(a-1);++i<a;)n[i-1]=Object(r.quantile)(e,i/a);return o}function o(e){if(!isNaN(e=+e))return t[Object(r.bisect)(n,e)]}return o.invertExtent=function(r){var i=t.indexOf(r);return i<0?[NaN,NaN]:[i>0?n[i-1]:e[0],i<n.length?n[i]:e[e.length-1]]},o.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var n,o=0,a=t.length;o<a;++o)null==(n=t[o])||isNaN(n=+n)||e.push(n);return e.sort(r.ascending),i()},o.range=function(e){return arguments.length?(t=s.call(e),i()):t.slice()},o.quantiles=function(){return n.slice()},o.copy=function(){return L().domain(e).range(t)},o}function j(){var e=0,t=1,n=1,i=[.5],o=[0,1];function a(e){if(e<=e)return o[Object(r.bisect)(i,e,0,n)]}function l(){var r=-1;for(i=new Array(n);++r<n;)i[r]=((r+1)*t-(r-n)*e)/(n+1);return a}return a.domain=function(n){return arguments.length?(e=+n[0],t=+n[1],l()):[e,t]},a.range=function(e){return arguments.length?(n=(o=s.call(e)).length-1,l()):o.slice()},a.invertExtent=function(r){var a=o.indexOf(r);return a<0?[NaN,NaN]:a<1?[e,i[0]]:a>=n?[i[n-1],t]:[i[a-1],i[a]]},a.copy=function(){return j().domain([e,t]).range(o)},w(a)}function F(){var e=[.5],t=[0,1],n=1;function i(i){if(i<=i)return t[Object(r.bisect)(e,i,0,n)]}return i.domain=function(r){return arguments.length?(e=s.call(r),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(r){return arguments.length?(t=s.call(r),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(n){var r=t.indexOf(n);return[e[r-1],e[r]]},i.copy=function(){return F().domain(e).range(t)},i}var B=new Date,z=new Date;function H(e,t,n,r){function i(t){return e(t=new Date(+t)),t}return i.floor=i,i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return s;do{s.push(a=new Date(+n)),t(n,o),e(n)}while(a<n&&n<r);return s},i.filter=function(n){return H((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(i.count=function(t,r){return B.setTime(+t),z.setTime(+r),e(B),e(z),Math.floor(n(B,z))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e===0}:function(t){return i.count(0,t)%e===0}):i:null}),i}var U=H((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));U.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?H((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):U:null};var V=U,G=(U.range,H((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+1e3*t)}),(function(e,t){return(t-e)/1e3}),(function(e){return e.getUTCSeconds()}))),W=G,q=(G.range,H((function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())}),(function(e,t){e.setTime(+e+6e4*t)}),(function(e,t){return(t-e)/6e4}),(function(e){return e.getMinutes()}))),Y=q,X=(q.range,H((function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-6e4*e.getMinutes())}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getHours()}))),$=X,K=(X.range,H((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5}),(function(e){return e.getDate()-1}))),Z=K;function Q(e){return H((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/6048e5}))}K.range;var J=Q(0),ee=Q(1),te=Q(2),ne=Q(3),re=Q(4),ie=Q(5),oe=Q(6),ae=(J.range,ee.range,te.range,ne.range,re.range,ie.range,oe.range,H((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}))),se=ae,le=(ae.range,H((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()})));le.every=function(e){return isFinite(e=Math.floor(e))&&e>0?H((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var ue=le,ce=(le.range,H((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+6e4*t)}),(function(e,t){return(t-e)/6e4}),(function(e){return e.getUTCMinutes()}))),fe=ce,de=(ce.range,H((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getUTCHours()}))),he=de,pe=(de.range,H((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/864e5}),(function(e){return e.getUTCDate()-1}))),me=pe;function ve(e){return H((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/6048e5}))}pe.range;var ge=ve(0),ye=ve(1),be=ve(2),_e=ve(3),xe=ve(4),we=ve(5),Ee=ve(6),Te=(ge.range,ye.range,be.range,_e.range,xe.range,we.range,Ee.range,H((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()}))),Se=Te,ke=(Te.range,H((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()})));ke.every=function(e){return isFinite(e=Math.floor(e))&&e>0?H((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var Oe=ke;function Ce(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ae(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Me(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}ke.range;var Pe,Ie,De,Ne,Re={"-":"",_:" ",0:"0"},Le=/^\s*\d+/,je=/^%/,Fe=/[\\^$*+?|[\]().{}]/g;function Be(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function ze(e){return e.replace(Fe,"\\$&")}function He(e){return new RegExp("^(?:"+e.map(ze).join("|")+")","i")}function Ue(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function Ve(e,t,n){var r=Le.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Ge(e,t,n){var r=Le.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function We(e,t,n){var r=Le.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function qe(e,t,n){var r=Le.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Ye(e,t,n){var r=Le.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Xe(e,t,n){var r=Le.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function $e(e,t,n){var r=Le.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ke(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ze(e,t,n){var r=Le.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Qe(e,t,n){var r=Le.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Je(e,t,n){var r=Le.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function et(e,t,n){var r=Le.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function tt(e,t,n){var r=Le.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function nt(e,t,n){var r=Le.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function rt(e,t,n){var r=Le.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function it(e,t,n){var r=Le.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ot(e,t,n){var r=je.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function at(e,t,n){var r=Le.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function st(e,t,n){var r=Le.exec(t.slice(n));return r?(e.Q=1e3*+r[0],n+r[0].length):-1}function lt(e,t){return Be(e.getDate(),t,2)}function ut(e,t){return Be(e.getHours(),t,2)}function ct(e,t){return Be(e.getHours()%12||12,t,2)}function ft(e,t){return Be(1+Z.count(ue(e),e),t,3)}function dt(e,t){return Be(e.getMilliseconds(),t,3)}function ht(e,t){return dt(e,t)+"000"}function pt(e,t){return Be(e.getMonth()+1,t,2)}function mt(e,t){return Be(e.getMinutes(),t,2)}function vt(e,t){return Be(e.getSeconds(),t,2)}function gt(e){var t=e.getDay();return 0===t?7:t}function yt(e,t){return Be(J.count(ue(e),e),t,2)}function bt(e,t){var n=e.getDay();return e=n>=4||0===n?re(e):re.ceil(e),Be(re.count(ue(e),e)+(4===ue(e).getDay()),t,2)}function _t(e){return e.getDay()}function xt(e,t){return Be(ee.count(ue(e),e),t,2)}function wt(e,t){return Be(e.getFullYear()%100,t,2)}function Et(e,t){return Be(e.getFullYear()%1e4,t,4)}function Tt(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Be(t/60|0,"0",2)+Be(t%60,"0",2)}function St(e,t){return Be(e.getUTCDate(),t,2)}function kt(e,t){return Be(e.getUTCHours(),t,2)}function Ot(e,t){return Be(e.getUTCHours()%12||12,t,2)}function Ct(e,t){return Be(1+me.count(Oe(e),e),t,3)}function At(e,t){return Be(e.getUTCMilliseconds(),t,3)}function Mt(e,t){return At(e,t)+"000"}function Pt(e,t){return Be(e.getUTCMonth()+1,t,2)}function It(e,t){return Be(e.getUTCMinutes(),t,2)}function Dt(e,t){return Be(e.getUTCSeconds(),t,2)}function Nt(e){var t=e.getUTCDay();return 0===t?7:t}function Rt(e,t){return Be(ge.count(Oe(e),e),t,2)}function Lt(e,t){var n=e.getUTCDay();return e=n>=4||0===n?xe(e):xe.ceil(e),Be(xe.count(Oe(e),e)+(4===Oe(e).getUTCDay()),t,2)}function jt(e){return e.getUTCDay()}function Ft(e,t){return Be(ye.count(Oe(e),e),t,2)}function Bt(e,t){return Be(e.getUTCFullYear()%100,t,2)}function zt(e,t){return Be(e.getUTCFullYear()%1e4,t,4)}function Ht(){return"+0000"}function Ut(){return"%"}function Vt(e){return+e}function Gt(e){return Math.floor(+e/1e3)}function Wt(e){return new Date(e)}function qt(e){return e instanceof Date?+e:+new Date(+e)}function Yt(e,t,n,i,o,s,l,u,c){var f=_(v,d.c),h=f.invert,p=f.domain,m=c(".%L"),g=c(":%S"),y=c("%I:%M"),x=c("%I %p"),w=c("%a %d"),E=c("%b %d"),T=c("%B"),k=c("%Y"),O=[[l,1,1e3],[l,5,5e3],[l,15,15e3],[l,30,3e4],[s,1,6e4],[s,5,3e5],[s,15,9e5],[s,30,18e5],[o,1,36e5],[o,3,108e5],[o,6,216e5],[o,12,432e5],[i,1,864e5],[i,2,1728e5],[n,1,6048e5],[t,1,2592e6],[t,3,7776e6],[e,1,31536e6]];function C(r){return(l(r)<r?m:s(r)<r?g:o(r)<r?y:i(r)<r?x:t(r)<r?n(r)<r?w:E:e(r)<r?T:k)(r)}function A(t,n,i,o){if(null==t&&(t=10),"number"===typeof t){var a=Math.abs(i-n)/t,s=Object(r.bisector)((function(e){return e[2]})).right(O,a);s===O.length?(o=Object(r.tickStep)(n/31536e6,i/31536e6,t),t=e):s?(o=(s=O[a/O[s-1][2]<O[s][2]/a?s-1:s])[1],t=s[0]):(o=Math.max(Object(r.tickStep)(n,i,t),1),t=u)}return null==o?t:t.every(o)}return f.invert=function(e){return new Date(h(e))},f.domain=function(e){return arguments.length?p(a.call(e,qt)):p().map(Wt)},f.ticks=function(e,t){var n,r=p(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=(n=A(e,i,o,t))?n.range(i,o+1):[],a?n.reverse():n},f.tickFormat=function(e,t){return null==t?C:c(t)},f.nice=function(e,t){var n=p();return(e=A(e,n[0],n[n.length-1],t))?p(S(n,e)):f},f.copy=function(){return b(f,Yt(e,t,n,i,o,s,l,u,c))},f}Pe=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,u=He(i),c=Ue(i),f=He(o),d=Ue(o),h=He(a),p=Ue(a),m=He(s),v=Ue(s),g=He(l),y=Ue(l),b={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:lt,e:lt,f:ht,H:ut,I:ct,j:ft,L:dt,m:pt,M:mt,p:function(e){return i[+(e.getHours()>=12)]},Q:Vt,s:Gt,S:vt,u:gt,U:yt,V:bt,w:_t,W:xt,x:null,X:null,y:wt,Y:Et,Z:Tt,"%":Ut},_={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:St,e:St,f:Mt,H:kt,I:Ot,j:Ct,L:At,m:Pt,M:It,p:function(e){return i[+(e.getUTCHours()>=12)]},Q:Vt,s:Gt,S:Dt,u:Nt,U:Rt,V:Lt,w:jt,W:Ft,x:null,X:null,y:Bt,Y:zt,Z:Ht,"%":Ut},x={a:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=d[r[0].toLowerCase()],n+r[0].length):-1},b:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=y[r[0].toLowerCase()],n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=v[r[0].toLowerCase()],n+r[0].length):-1},c:function(e,n,r){return T(e,t,n,r)},d:Qe,e:Qe,f:it,H:et,I:et,j:Je,L:rt,m:Ze,M:tt,p:function(e,t,n){var r=u.exec(t.slice(n));return r?(e.p=c[r[0].toLowerCase()],n+r[0].length):-1},Q:at,s:st,S:nt,u:Ge,U:We,V:qe,w:Ve,W:Ye,x:function(e,t,r){return T(e,n,t,r)},X:function(e,t,n){return T(e,r,t,n)},y:$e,Y:Xe,Z:Ke,"%":ot};function w(e,t){return function(n){var r,i,o,a=[],s=-1,l=0,u=e.length;for(n instanceof Date||(n=new Date(+n));++s<u;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(i=Re[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function E(e,t){return function(n){var r,i,o=Me(1900);if(T(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("p"in o&&(o.H=o.H%12+12*o.p),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Ae(Me(o.y))).getUTCDay(),r=i>4||0===i?ye.ceil(r):ye(r),r=me.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=t(Me(o.y))).getDay(),r=i>4||0===i?ee.ceil(r):ee(r),r=Z.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Ae(Me(o.y)).getUTCDay():t(Me(o.y)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Ae(o)):t(o)}}function T(e,t,n,r){for(var i,o,a=0,s=t.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=x[i in Re?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=w(n,b),b.X=w(r,b),b.c=w(t,b),_.x=w(n,_),_.X=w(r,_),_.c=w(t,_),{format:function(e){var t=w(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=E(e+="",Ce);return t.toString=function(){return e},t},utcFormat:function(e){var t=w(e+="",_);return t.toString=function(){return e},t},utcParse:function(e){var t=E(e,Ae);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Ie=Pe.format,Pe.parse,De=Pe.utcFormat,Ne=Pe.utcParse,Date.prototype.toISOString||De("%Y-%m-%dT%H:%M:%S.%LZ"),+new Date("2000-01-01T00:00:00.000Z")||Ne("%Y-%m-%dT%H:%M:%S.%LZ");var Xt=function(){return Yt(ue,se,J,Z,$,Y,W,V,Ie).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},$t=function(){return Yt(Oe,Se,ge,me,he,fe,W,V,De).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},Kt=function(e){return e.match(/.{6}/g).map((function(e){return"#"+e}))},Zt=Kt("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Qt=Kt("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),Jt=Kt("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),en=Kt("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),tn=n(9),nn=Object(d.b)(Object(tn.cubehelix)(300,.5,0),Object(tn.cubehelix)(-240,.5,1)),rn=Object(d.b)(Object(tn.cubehelix)(-100,.75,.35),Object(tn.cubehelix)(80,1.5,.8)),on=Object(d.b)(Object(tn.cubehelix)(260,.75,.35),Object(tn.cubehelix)(80,1.5,.8)),an=Object(tn.cubehelix)(),sn=function(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return an.h=360*e-100,an.s=1.5-1.5*t,an.l=.8-.9*t,an+""};function ln(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}var un=ln(Kt("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),cn=ln(Kt("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),fn=ln(Kt("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),dn=ln(Kt("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function hn(e){var t=0,n=1,r=!1;function i(i){var o=(i-t)/(n-t);return e(r?Math.max(0,Math.min(1,o)):o)}return i.domain=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.clamp=function(e){return arguments.length?(r=!!e,i):r},i.interpolator=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return hn(e).domain([t,n]).clamp(r)},w(i)}n.d(t,"scaleBand",(function(){return c})),n.d(t,"scalePoint",(function(){return f})),n.d(t,"scaleIdentity",(function(){return T})),n.d(t,"scaleLinear",(function(){return E})),n.d(t,"scaleLog",(function(){return I})),n.d(t,"scaleOrdinal",(function(){return u})),n.d(t,"scaleImplicit",(function(){return l})),n.d(t,"scalePow",(function(){return N})),n.d(t,"scaleSqrt",(function(){return R})),n.d(t,"scaleQuantile",(function(){return L})),n.d(t,"scaleQuantize",(function(){return j})),n.d(t,"scaleThreshold",(function(){return F})),n.d(t,"scaleTime",(function(){return Xt})),n.d(t,"scaleUtc",(function(){return $t})),n.d(t,"schemeCategory10",(function(){return Zt})),n.d(t,"schemeCategory20b",(function(){return Qt})),n.d(t,"schemeCategory20c",(function(){return Jt})),n.d(t,"schemeCategory20",(function(){return en})),n.d(t,"interpolateCubehelixDefault",(function(){return nn})),n.d(t,"interpolateRainbow",(function(){return sn})),n.d(t,"interpolateWarm",(function(){return rn})),n.d(t,"interpolateCool",(function(){return on})),n.d(t,"interpolateViridis",(function(){return un})),n.d(t,"interpolateMagma",(function(){return cn})),n.d(t,"interpolateInferno",(function(){return fn})),n.d(t,"interpolatePlasma",(function(){return dn})),n.d(t,"scaleSequential",(function(){return hn}))},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){var r=n(36),i=n(155),o=n(123),a=Object.defineProperty;t.f=n(34)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},function(e,t,n){e.exports={default:n(223),__esModule:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=Object.keys(t),i=n&&n.handleMissingStyleName||"throw";return e.split(" ").filter((function(e){return e})).map((function(e){if(function(e){return-1!==e.indexOf(".")}(e))return function(e,t,n){var r=e.split("."),i=r[0],o=r[1],a=n||"throw";if(!o){if("throw"===a)throw new Error("Invalid style name: "+e);if("warn"!==a)return null;console.warn("Invalid style name: "+e)}if(!t[i]){if("throw"===a)throw new Error("CSS module import does not exist: "+i);if("warn"!==a)return null;console.warn("CSS module import does not exist: "+i)}if(!t[i][o]){if("throw"===a)throw new Error("CSS module does not exist: "+o);if("warn"!==a)return null;console.warn("CSS module does not exist: "+o)}return t[i][o]}(e,t,i);if(0===r.length)throw new Error("Cannot use styleName attribute for style name '"+e+"' without importing at least one stylesheet.");if(r.length>1)throw new Error("Cannot use anonymous style name '"+e+"' with more than one stylesheet import.");var n=t[r[0]];if(!n[e]){if("throw"===i)throw new Error("Could not resolve the styleName '"+e+"'.");"warn"===i&&console.warn("Could not resolve the styleName '"+e+"'.")}return n[e]})).filter((function(e){return e})).join(" ")}},function(e,t,n){e.exports=!n(59)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){e.exports={default:n(564),__esModule:!0}},function(e,t,n){var r=n(31);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var r=n(386),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,n){e.exports=t},function(e,t,n){var r=n(30),i=n(66);e.exports=n(34)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){e.exports={default:n(547),__esModule:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(16)),i=g(n(51)),o=g(n(5)),a=g(n(3)),s=g(n(4)),l=g(n(6)),u=g(n(13)),c=g(n(7)),f=g(n(32)),d=n(18),h=g(n(27)),p=g(n(174)),m=n(10),v=n(11);function g(e){return e&&e.__esModule?e:{default:e}}function y(e,t){var n=e.map((function(e){return+e})).sort((function(e,t){return t-e}));return function(e,t){var n=(0,d.precisionPrefix)(t,e);return(0,d.formatPrefix)("."+String(n),e)(e)}(n[t],n[n.length-1])}var b=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n)),s=e.scene;r.scene=s,r.delayDrawing=!1,r.pBase=new v.GLOBALS.PIXI.Graphics,r.pMasked=new v.GLOBALS.PIXI.Graphics,r.pMask=new v.GLOBALS.PIXI.Graphics,r.pMain=new v.GLOBALS.PIXI.Graphics,r.pBorder=new v.GLOBALS.PIXI.Graphics,r.pBackground=new v.GLOBALS.PIXI.Graphics,r.pForeground=new v.GLOBALS.PIXI.Graphics,r.pLabel=new v.GLOBALS.PIXI.Graphics,r.pMobile=new v.GLOBALS.PIXI.Graphics,r.pAxis=new v.GLOBALS.PIXI.Graphics,r.pMouseOver=new v.GLOBALS.PIXI.Graphics,r.scene.addChild(r.pBase),r.pBase.addChild(r.pMasked),r.pMasked.addChild(r.pBackground),r.pMasked.addChild(r.pMain),r.pMasked.addChild(r.pMask),r.pMasked.addChild(r.pMobile),r.pMasked.addChild(r.pBorder),r.pMasked.addChild(r.pLabel),r.pMasked.addChild(r.pForeground),r.pMasked.addChild(r.pMouseOver),r.pBase.addChild(r.pAxis),r.pMasked.mask=r.pMask,r.prevOptions="",r.options=(0,i.default)(r.options,n);var u=r.getName();return r.labelTextFontFamily="Arial",r.labelTextFontSize=12,r.labelXOffset=0,r.labelText=new v.GLOBALS.PIXI.Text(u,{fontSize:String(r.labelTextFontSize)+"px",fontFamily:r.labelTextFontFamily,fill:"black"}),r.pLabel.addChild(r.labelText),r.errorText=new v.GLOBALS.PIXI.Text("",{fontSize:"12px",fontFamily:"Arial",fill:"red"}),r.errorText.anchor.x=.5,r.errorText.anchor.y=.5,r.pLabel.addChild(r.errorText),r}return(0,c.default)(t,e),(0,s.default)(t,[{key:"setLabelText",value:function(){}},{key:"setPosition",value:function(e){this.position=e,this.drawBorder(),this.drawLabel(),this.drawBackground(),this.setMask(this.position,this.dimensions),this.setForeground()}},{key:"setDimensions",value:function(e){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"setDimensions",this).call(this,e),this.drawBorder(),this.drawLabel(),this.drawBackground(),this.setMask(this.position,this.dimensions),this.setForeground()}},{key:"setMask",value:function(e,t){this.pMask.clear(),this.pMask.beginFill(),this.pMask.drawRect(e[0],e[1],t[0],t[1]),this.pMask.endFill()}},{key:"setForeground",value:function(){this.pForeground.position.y=this.position[1],this.pForeground.position.x=this.position[0]}},{key:"remove",value:function(){this.pBase.clear(),this.scene.removeChild(this.pBase)}},{key:"drawBorder",value:function(){var e=this.pBorder;if(e.clear(),this.options&&this.options.trackBorderWidth){var t=(0,m.colorToHex)(this.options.trackBorderColor?this.options.trackBorderColor:"white");e.lineStyle(this.options.trackBorderWidth,t),e.drawRect(this.position[0],this.position[1],this.dimensions[0],this.dimensions[1])}}},{key:"drawError",value:function(){if(this.errorText.x=this.position[0]+this.dimensions[0]/2,this.errorText.y=this.position[1]+this.dimensions[1]/2,this.errorText.text=this.errorTextText,this.errorTextText&&this.errorTextText.length){var e=this.pBorder;e.clear(),e.lineStyle(1,(0,m.colorToHex)("red")),e.drawRect(this.position[0],this.position[1],this.dimensions[0],this.dimensions[1])}}},{key:"drawBackground",value:function(){var e=this.pBackground;if(e.clear(),this.options&&this.options.backgroundColor){var t=1,n=this.options.backgroundColor;"transparent"===this.options.backgroundColor&&(t=0,n="white");var r=(0,m.colorToHex)(n);e.beginFill(r,t),e.drawRect(this.position[0],this.position[1],this.dimensions[0],this.dimensions[1])}}},{key:"getLabelColor",value:function(){return this.options.labelColor&&"[glyph-color]"!==this.options.labelColor?this.options.labelColor:this.options.lineStrokeColor||this.options.barFillColor||"black"}},{key:"getName",value:function(){return this.options.name?this.options.name:this.tilesetInfo&&this.tilesetInfo.name||""}},{key:"drawLabel",value:function(){if(this.labelText){var e=this.pLabel;if(e.clear(),this.options&&this.options.labelPosition&&"hidden"!==this.options.labelPosition){e.beginFill((0,m.colorToHex)(this.options.labelBackgroundColor||"white"),+this.options.labelBackgroundOpacity>=0?+this.options.labelBackgroundOpacity:.5);var t=(0,m.colorToHex)(this.getLabelColor());if(!(this.dimensions[0]<0)){var n=this.options.labelShowAssembly&&this.tilesetInfo&&this.tilesetInfo.coordSystem?String(this.tilesetInfo.coordSystem)+" | ":"";if(n+=this.getName(),this.options.labelShowResolution&&this.tilesetInfo&&this.tilesetInfo.max_width&&this.tilesetInfo.bins_per_dimension){var i=function(e,t,n,r){var i=t/(Math.pow(2,e)*n);if(!(0,f.default)(i)){var o=t/(Math.pow(2,r)*n),a=(0,d.precisionPrefix)(o,i);return(0,d.formatPrefix)("."+String(a),i)(i)}return console.warn("NaN resolution, screen is probably too small."),""}(this.calculateZoomLevel(),this.tilesetInfo.max_width,this.tilesetInfo.bins_per_dimension,this.tilesetInfo.max_zoom);n+="\n[Current data resolution: "+String(i)+"]"}else if(this.options.labelShowResolution&&this.tilesetInfo&&this.tilesetInfo.resolutions){var o=y(this.tilesetInfo.resolutions,this.calculateZoomLevel());n+="\n[Current data resolution: "+String(o)+"]"}if(this.options&&this.options.dataTransform){var a=null;if(this.tilesetInfo&&this.tilesetInfo.transforms){var s=!0,l=!1,u=void 0;try{for(var c,h=(0,r.default)(this.tilesetInfo.transforms);!(s=(c=h.next()).done);s=!0){var p=c.value;p.value===this.options.dataTransform&&(a=p)}}catch(x){l=!0,u=x}finally{try{!s&&h.return&&h.return()}finally{if(l)throw u}}}a?n+="\n[Transform: "+String(a.name)+"]":"None"===this.options.dataTransform?n+="\n[Transform: None ]":n+="\n[Transform: Default ]"}this.labelText.text=n,this.labelText.style={fontSize:String(this.labelTextFontSize)+"px",fontFamily:this.labelTextFontFamily,fill:t},this.labelText.alpha="undefined"!==typeof this.options.labelTextOpacity?this.options.labelTextOpacity:1,this.labelText.visible=!0,this.flipText&&(this.labelText.scale.x=-1);var v=+this.options.labelLeftMargin||0,g=+this.options.labelRightMargin||0,b=+this.options.labelTopMargin||0,_=+this.options.labelBottomMargin||0;"topLeft"===this.options.labelPosition?(this.labelText.x=this.position[0]+v+this.labelXOffset,this.labelText.y=this.position[1]+b,this.labelText.anchor.x=.5,this.labelText.anchor.y=0,this.labelText.x+=this.labelText.width/2,e.drawRect(this.position[0]+v+this.labelXOffset,this.position[1]+b,this.labelText.width+2,this.labelText.height+2)):"bottomLeft"===this.options.labelPosition&&!this.flipText||"topRight"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0]+(v||b),this.labelText.y=this.position[1]+this.dimensions[1]-(_||g),this.labelText.anchor.x=.5,this.labelText.anchor.y=1,this.labelText.x+=this.labelText.width/2+this.labelXOffset,e.drawRect(this.position[0]+(v||b)+this.labelXOffset,this.position[1]+this.dimensions[1]-this.labelText.height-2-(_||g),this.labelText.width+2,this.labelText.height+2)):"topRight"===this.options.labelPosition&&!this.flipText||"bottomLeft"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0]-(g||_),this.labelText.y=this.position[1]+(b||v),this.labelText.anchor.x=.5,this.labelText.anchor.y=0,this.labelText.x-=this.labelText.width/2+this.labelXOffset,e.drawRect(this.position[0]+this.dimensions[0]-this.labelText.width-2-(g||_)-this.labelXOffset,this.position[1]+(b||v),this.labelText.width+2,this.labelText.height+2)):"bottomRight"===this.options.labelPosition?(this.labelText.x=this.position[0]+this.dimensions[0]-g,this.labelText.y=this.position[1]+this.dimensions[1]-_,this.labelText.anchor.x=.5,this.labelText.anchor.y=1,this.labelText.x-=this.labelText.width/2+this.labelXOffset,e.drawRect(this.position[0]+this.dimensions[0]-this.labelText.width-2-g-this.labelXOffset,this.position[1]+this.dimensions[1]-this.labelText.height-2-_,this.labelText.width+2,this.labelText.height+2)):"outerLeft"===this.options.labelPosition&&!this.flipText||"outerTop"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0],this.labelText.y=this.position[1]+this.dimensions[1]/2,this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.x-=this.labelText.width/2+3):"outerTop"===this.options.labelPosition&&!this.flipText||"outerLeft"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0]/2,this.labelText.y=this.position[1],this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.y-=this.labelText.height/2+3):"outerBottom"===this.options.labelPosition&&!this.flipText||"outerRight"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0]/2,this.labelText.y=this.position[1]+this.dimensions[1],this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.y+=this.labelText.height/2+3):"outerRight"===this.options.labelPosition&&!this.flipText||"outerBottom"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0],this.labelText.y=this.position[1]+this.dimensions[1]/2,this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.x+=this.labelText.width/2+3):this.labelText.visible=!1,"outerLeft"===this.options.labelPosition||"outerRight"===this.options.labelPosition||"outerTop"===this.options.labelPosition||"outerBottom"===this.options.labelPosition?this.pLabel.setParent(this.pBase):this.pLabel.setParent(this.pMasked)}}else this.labelText.alpha=0}}},{key:"rerender",value:function(e){this.options=e,this.draw(),this.drawBackground(),this.drawLabel(),this.drawError(),this.drawBorder()}},{key:"draw",value:function(){this.drawError()}},{key:"exportSVG",value:function(){var e=document.createElement("g"),t=document.createElement("rect");t.setAttribute("x",""+String(this.position[0])),t.setAttribute("y",""+String(this.position[1])),t.setAttribute("width",""+String(this.dimensions[0])),t.setAttribute("height",""+String(this.dimensions[1])),this.options&&this.options.backgroundColor?t.setAttribute("fill",this.options.backgroundColor):t.setAttribute("fill-opacity","0");var n=document.createElement("g");n.setAttribute("class","g-clipped"),e.appendChild(n),n.appendChild(t);var r=document.createElement("g");n.setAttribute("class","g-track"),n.appendChild(r);var i=document.createElement("g");n.setAttribute("class","g-labels"),n.appendChild(i);var o=document.createElementNS("http://www.w3.org/2000/svg","clipPath");e.appendChild(o);var a=document.createElementNS("http://www.w3.org/2000/svg","polygon");o.appendChild(a),a.setAttribute("points",String(this.position[0])+","+String(this.position[1])+" "+String(this.position[0]+this.dimensions[0])+","+String(this.position[1])+" "+String(this.position[0]+this.dimensions[0])+","+String(this.position[1]+this.dimensions[1])+" "+String(this.position[0])+","+String(this.position[1]+this.dimensions[1])+" ");var s=h.default.nice();o.setAttribute("id",s),n.setAttribute("style","clip-path:url(#"+String(s)+");");var l=this.labelText.text.split("\n"),u=0,c=(this.labelTextFontSize+2)*l.length+3;.5===this.labelText.anchor.y?u=c/2:1===this.labelText.anchor.y&&(u=-c);for(var f=0;f<l.length;f++){var d=document.createElement("text");if(d.setAttribute("font-family",this.labelTextFontFamily),d.setAttribute("font-size",String(this.labelTextFontSize)+"px"),d.innerText=l[f],"topLeft"===this.options.labelPosition||"topRight"===this.options.labelPosition){var p=u+(f+1)*(this.labelTextFontSize+2);d.setAttribute("dy",p)}else"bottomLeft"!==this.options.labelPosition&&"bottomRight"!==this.options.labelPosition||d.setAttribute("dy",u+f*(this.labelTextFontSize+2));d.setAttribute("fill",this.options.labelColor),.5===this.labelText.anchor.x?d.setAttribute("text-anchor","middle"):1===this.labelText.anchor.x&&d.setAttribute("text-anchor","end"),i.appendChild(d)}return i.setAttribute("transform","translate("+String(this.labelText.x)+","+String(this.labelText.y)+")scale("+String(this.labelText.scale.x)+",1)"),[e,r]}}]),t}(p.default);t.default=b},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var r=n(827),i=n(280)((function(e,t,n){r(e,t,n)}));e.exports=i},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(51),o=(r=i)&&r.__esModule?r:{default:r};t.default=o.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){e.exports={default:n(551),__esModule:!0}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(122),i=n(87);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(92);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports={}},function(e,t,n){e.exports={default:n(227),__esModule:!0}},function(e,t,n){e.exports={default:n(534),__esModule:!0}},function(e,t,n){"use strict";var r=n(285),i="function"===typeof Symbol&&"symbol"===typeof Symbol("foo"),o=Object.prototype.toString,a=Array.prototype.concat,s=Object.defineProperty,l=s&&function(){var e={};try{for(var t in s(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(n){return!1}}(),u=function(e,t,n,r){var i;(!(t in e)||"function"===typeof(i=r)&&"[object Function]"===o.call(i)&&r())&&(l?s(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},c=function(e,t){var n=arguments.length>2?arguments[2]:{},o=r(t);i&&(o=a.call(o,Object.getOwnPropertySymbols(t)));for(var s=0;s<o.length;s+=1)u(e,o[s],t[o[s]],n[o[s]])};c.supportsDescriptors=!!l,e.exports=c},function(e,t,n){"use strict";var r=n(945);e.exports=Function.prototype.bind||r},function(e,t,n){e.exports={default:n(225),__esModule:!0}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.red=void 0;var r=o(n(837)),i=o(n(838));function o(e){return e&&e.__esModule?e:{default:e}}t.default={simpleCheckForValidColor:function(e){var t=0,n=0;return(0,r.default)(["r","g","b","a","h","s","l","v"],(function(r){e[r]&&(t+=1,isNaN(e[r])||(n+=1),"s"===r||"l"===r)&&/^\d+%$/.test(e[r])&&(n+=1)})),t===n&&e},toState:function(e,t){var n=e.hex?(0,i.default)(e.hex):(0,i.default)(e),r=n.toHsl(),o=n.toHsv(),a=n.toRgb(),s=n.toHex();return 0===r.s&&(r.h=t||0,o.h=t||0),{hsl:r,hex:"000000"===s&&0===a.a?"transparent":"#"+s,rgb:a,hsv:o,oldHue:e.h||t||r.h,source:e.source}},isValidHex:function(e){var t="#"===String(e).charAt(0)?1:0;return e.length!==4+t&&e.length<7+t&&(0,i.default)(e).isValid()},getContrastingColor:function(e){if(!e)return"#fff";var t=this.toState(e);return"transparent"===t.hex?"rgba(0,0,0,0.4)":(299*t.rgb.r+587*t.rgb.g+114*t.rgb.b)/1e3>=128?"#000":"#fff"}},t.red={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}}},function(e,t){"function"===typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";var r=n(53);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,n){"use strict";var r=n(210)(!0);n(106)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){e.exports={default:n(501),__esModule:!0}},function(e,t,n){"use strict";var r=t.NAMESPACES={HTML:"http://www.w3.org/1999/xhtml",MATHML:"http://www.w3.org/1998/Math/MathML",SVG:"http://www.w3.org/2000/svg",XLINK:"http://www.w3.org/1999/xlink",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"};t.ATTRS={TYPE:"type",ACTION:"action",ENCODING:"encoding",PROMPT:"prompt",NAME:"name",COLOR:"color",FACE:"face",SIZE:"size"},t.DOCUMENT_MODE={NO_QUIRKS:"no-quirks",QUIRKS:"quirks",LIMITED_QUIRKS:"limited-quirks"};var i=t.TAG_NAMES={A:"a",ADDRESS:"address",ANNOTATION_XML:"annotation-xml",APPLET:"applet",AREA:"area",ARTICLE:"article",ASIDE:"aside",B:"b",BASE:"base",BASEFONT:"basefont",BGSOUND:"bgsound",BIG:"big",BLOCKQUOTE:"blockquote",BODY:"body",BR:"br",BUTTON:"button",CAPTION:"caption",CENTER:"center",CODE:"code",COL:"col",COLGROUP:"colgroup",DD:"dd",DESC:"desc",DETAILS:"details",DIALOG:"dialog",DIR:"dir",DIV:"div",DL:"dl",DT:"dt",EM:"em",EMBED:"embed",FIELDSET:"fieldset",FIGCAPTION:"figcaption",FIGURE:"figure",FONT:"font",FOOTER:"footer",FOREIGN_OBJECT:"foreignObject",FORM:"form",FRAME:"frame",FRAMESET:"frameset",H1:"h1",H2:"h2",H3:"h3",H4:"h4",H5:"h5",H6:"h6",HEAD:"head",HEADER:"header",HGROUP:"hgroup",HR:"hr",HTML:"html",I:"i",IMG:"img",IMAGE:"image",INPUT:"input",IFRAME:"iframe",KEYGEN:"keygen",LABEL:"label",LI:"li",LINK:"link",LISTING:"listing",MAIN:"main",MALIGNMARK:"malignmark",MARQUEE:"marquee",MATH:"math",MENU:"menu",MENUITEM:"menuitem",META:"meta",MGLYPH:"mglyph",MI:"mi",MO:"mo",MN:"mn",MS:"ms",MTEXT:"mtext",NAV:"nav",NOBR:"nobr",NOFRAMES:"noframes",NOEMBED:"noembed",NOSCRIPT:"noscript",OBJECT:"object",OL:"ol",OPTGROUP:"optgroup",OPTION:"option",P:"p",PARAM:"param",PLAINTEXT:"plaintext",PRE:"pre",RB:"rb",RP:"rp",RT:"rt",RTC:"rtc",RUBY:"ruby",S:"s",SCRIPT:"script",SECTION:"section",SELECT:"select",SOURCE:"source",SMALL:"small",SPAN:"span",STRIKE:"strike",STRONG:"strong",STYLE:"style",SUB:"sub",SUMMARY:"summary",SUP:"sup",TABLE:"table",TBODY:"tbody",TEMPLATE:"template",TEXTAREA:"textarea",TFOOT:"tfoot",TD:"td",TH:"th",THEAD:"thead",TITLE:"title",TR:"tr",TRACK:"track",TT:"tt",U:"u",UL:"ul",SVG:"svg",VAR:"var",WBR:"wbr",XMP:"xmp"},o=t.SPECIAL_ELEMENTS=Object.create(null);o[r.HTML]=Object.create(null),o[r.HTML][i.ADDRESS]=!0,o[r.HTML][i.APPLET]=!0,o[r.HTML][i.AREA]=!0,o[r.HTML][i.ARTICLE]=!0,o[r.HTML][i.ASIDE]=!0,o[r.HTML][i.BASE]=!0,o[r.HTML][i.BASEFONT]=!0,o[r.HTML][i.BGSOUND]=!0,o[r.HTML][i.BLOCKQUOTE]=!0,o[r.HTML][i.BODY]=!0,o[r.HTML][i.BR]=!0,o[r.HTML][i.BUTTON]=!0,o[r.HTML][i.CAPTION]=!0,o[r.HTML][i.CENTER]=!0,o[r.HTML][i.COL]=!0,o[r.HTML][i.COLGROUP]=!0,o[r.HTML][i.DD]=!0,o[r.HTML][i.DETAILS]=!0,o[r.HTML][i.DIR]=!0,o[r.HTML][i.DIV]=!0,o[r.HTML][i.DL]=!0,o[r.HTML][i.DT]=!0,o[r.HTML][i.EMBED]=!0,o[r.HTML][i.FIELDSET]=!0,o[r.HTML][i.FIGCAPTION]=!0,o[r.HTML][i.FIGURE]=!0,o[r.HTML][i.FOOTER]=!0,o[r.HTML][i.FORM]=!0,o[r.HTML][i.FRAME]=!0,o[r.HTML][i.FRAMESET]=!0,o[r.HTML][i.H1]=!0,o[r.HTML][i.H2]=!0,o[r.HTML][i.H3]=!0,o[r.HTML][i.H4]=!0,o[r.HTML][i.H5]=!0,o[r.HTML][i.H6]=!0,o[r.HTML][i.HEAD]=!0,o[r.HTML][i.HEADER]=!0,o[r.HTML][i.HGROUP]=!0,o[r.HTML][i.HR]=!0,o[r.HTML][i.HTML]=!0,o[r.HTML][i.IFRAME]=!0,o[r.HTML][i.IMG]=!0,o[r.HTML][i.INPUT]=!0,o[r.HTML][i.LI]=!0,o[r.HTML][i.LINK]=!0,o[r.HTML][i.LISTING]=!0,o[r.HTML][i.MAIN]=!0,o[r.HTML][i.MARQUEE]=!0,o[r.HTML][i.MENU]=!0,o[r.HTML][i.META]=!0,o[r.HTML][i.NAV]=!0,o[r.HTML][i.NOEMBED]=!0,o[r.HTML][i.NOFRAMES]=!0,o[r.HTML][i.NOSCRIPT]=!0,o[r.HTML][i.OBJECT]=!0,o[r.HTML][i.OL]=!0,o[r.HTML][i.P]=!0,o[r.HTML][i.PARAM]=!0,o[r.HTML][i.PLAINTEXT]=!0,o[r.HTML][i.PRE]=!0,o[r.HTML][i.SCRIPT]=!0,o[r.HTML][i.SECTION]=!0,o[r.HTML][i.SELECT]=!0,o[r.HTML][i.SOURCE]=!0,o[r.HTML][i.STYLE]=!0,o[r.HTML][i.SUMMARY]=!0,o[r.HTML][i.TABLE]=!0,o[r.HTML][i.TBODY]=!0,o[r.HTML][i.TD]=!0,o[r.HTML][i.TEMPLATE]=!0,o[r.HTML][i.TEXTAREA]=!0,o[r.HTML][i.TFOOT]=!0,o[r.HTML][i.TH]=!0,o[r.HTML][i.THEAD]=!0,o[r.HTML][i.TITLE]=!0,o[r.HTML][i.TR]=!0,o[r.HTML][i.TRACK]=!0,o[r.HTML][i.UL]=!0,o[r.HTML][i.WBR]=!0,o[r.HTML][i.XMP]=!0,o[r.MATHML]=Object.create(null),o[r.MATHML][i.MI]=!0,o[r.MATHML][i.MO]=!0,o[r.MATHML][i.MN]=!0,o[r.MATHML][i.MS]=!0,o[r.MATHML][i.MTEXT]=!0,o[r.MATHML][i.ANNOTATION_XML]=!0,o[r.SVG]=Object.create(null),o[r.SVG][i.TITLE]=!0,o[r.SVG][i.FOREIGN_OBJECT]=!0,o[r.SVG][i.DESC]=!0},function(e,t,n){"use strict";var r={value:function(){}};function i(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r)throw new Error("illegal type: "+e);r[e]=[]}return new o(r)}function o(e){this._=e}function a(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function s(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function l(e,t,n){for(var i=0,o=e.length;i<o;++i)if(e[i].name===t){e[i]=r,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=n&&e.push({name:t,value:n}),e}o.prototype=i.prototype={constructor:o,on:function(e,t){var n,r=this._,i=a(e+"",r),o=-1,u=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++o<u;)if(n=(e=i[o]).type)r[n]=l(r[n],e.name,t);else if(null==t)for(n in r)r[n]=l(r[n],e.name,null);return this}for(;++o<u;)if((n=(e=i[o]).type)&&(n=s(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new o(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};var u=i;n.d(t,"a",(function(){return u}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(21)),i=u(n(19));t.parseChromsizesRows=c;var o=n(102),a=n(24),s=n(10),l=n(69);function u(e){return e&&e.__esModule?e:{default:e}}function c(e){for(var t=[],n={},r={},i=0,o=0;o<e.length;o++){var a=Number(e[o][1]);i+=a;var s={id:o,chr:e[o][0],pos:i-a};t.push(s),r[s.chr]=s,n[e[o][0]]=a}return{cumPositions:t,chrPositions:r,totalLength:i,chromLengths:n}}t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.fake,u={absToChr:function(e){return u.chrPositions?(0,s.absToChr)(e,u):null},chrToAbs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=(0,i.default)(e,2),n=t[0],r=t[1];return u.chrPositions?(0,s.chrToAbs)(n,r,u):null}};return a.tileProxy.text(e,(function(e,n){if(e)t&&t(null);else{var i=c((0,o.tsvParseRows)(n));(0,r.default)(i).forEach((function(e){u[e]=i[e]})),t&&t(u)}}),n).then((function(){return u}))}},function(e,t,n){var r=n(87);e.exports=function(e){return Object(r(e))}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(2)),i=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}n(68);var a=function(e){return i.default.createElement("div",{"data-menu-item-for":"string"===typeof e.children?e.children:null,onClick:function(t){return e.onClick(t)},onMouseEnter:function(t){return e.onMouseEnter(t)},onMouseLeave:function(t){return e.onMouseLeave(t)},role:"button",className:"ContextMenu-module_context-menu-item-1HeVv",tabIndex:0},i.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},e.children))};a.defaultProps={onMouseEnter:function(){},onMouseLeave:function(){}},a.propTypes={children:r.default.node.isRequired,onClick:r.default.func.isRequired,onMouseEnter:r.default.func,onMouseLeave:r.default.func},t.default=a},function(e,t,n){e.exports={"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-dark":"ContextMenu-module_context-menu-dark-2PO31","context-menu-icon":"ContextMenu-module_context-menu-icon-I4kiw","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Provider=t.fake=void 0;var r=a(n(44)),i=a(n(1)),o=a(n(171));function a(e){return e&&e.__esModule?e:{default:e}}var s={__fake__:!0,publish:o.default,subscribe:o.default,unsubscribe:o.default},l=i.default.createContext(s),u=l.Provider,c=l.Consumer;t.default=function(e){return i.default.forwardRef((function(t,n){return i.default.createElement(c,null,(function(o){return i.default.createElement(e,(0,r.default)({ref:n},t,{pubSub:o}))}))}))},t.fake=s,t.Provider=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=A(n(54)),i=A(n(50)),o=A(n(93)),a=A(n(19)),s=A(n(44)),l=A(n(45)),u=A(n(16)),c=A(n(25)),f=A(n(21)),d=A(n(32)),h=A(n(35)),p=A(n(5)),m=A(n(3)),v=A(n(4)),g=A(n(6)),y=A(n(13)),b=A(n(7));t.getValueScale=function(e,t,n,r,i){var o=e||i;return"log"===o&&t>0?["log",(0,_.scaleLog)().range([254,0]).domain([t+0,r+0])]:["linear",(0,_.scaleLinear)().range([254,0]).domain([t,r])]};var _=n(28),x=n(8),w=A(n(27)),E=n(64),T=A(n(246)),S=A(n(41)),k=n(10),O=A(n(596)),C=n(11);function A(e){return e&&e.__esModule?e:{default:e}}var M=function(e){function t(e,n){(0,m.default)(this,t);var r=(0,g.default)(this,(t.__proto__||(0,p.default)(t)).call(this,e,n)),i=e.pubSub,o=e.dataConfig,a=e.handleTilesetInfoReceived,s=e.animate,l=e.onValueScaleChanged;return r.renderVersion=1,r.visibleTiles=new h.default,r.visibleTileIds=new h.default,r.renderingTiles=new h.default,r.fetching=new h.default,r.scale={},r.fetchedTiles={},r.tileGraphics={},r.maxZoom=0,r.medianVisibleValue=null,r.backgroundTaskScheduler=O.default,r.continuousScaling="requestIdleCallback"in window,r.valueScaleMin=null,r.fixedValueScaleMin=null,r.valueScaleMax=null,r.fixedValueScaleMax=null,r.listeners={},r.pubSub=i,r.animate=s,r.onValueScaleChanged=l,r.prevValueScale=null,e.dataFetcher?r.dataFetcher=e.dataFetcher:r.dataFetcher=new T.default(o,r.pubSub),r.tilesetInfo=null,r.uuid=w.default.nice(),r.trackNotFoundText=new C.GLOBALS.PIXI.Text("",{fontSize:"12px",fontFamily:"Arial",fill:"black"}),r.pLabel.addChild(r.trackNotFoundText),r.refreshTilesDebounced=(0,k.throttleAndDebounce)(r.refreshTiles.bind(r),C.ZOOM_DEBOUNCE,C.ZOOM_DEBOUNCE),r.dataFetcher.tilesetInfo((function(e){if(r.tilesetInfo=e,r.tilesetInfo.chromsizes&&(r.chromInfo=(0,E.parseChromsizesRows)(r.tilesetInfo.chromsizes)),"error"in r.tilesetInfo)return console.warn("Error retrieving tilesetInfo:",o,r.tilesetInfo.error),r.errorTextText=r.tilesetInfo.error,r.tilesetInfo=null,r.draw(),void r.animate();r.tilesetInfo.resolutions?r.maxZoom=r.tilesetInfo.resolutions.length:r.maxZoom=+r.tilesetInfo.max_zoom,r.options&&r.options.maxZoom&&(r.options.maxZoom>=0?r.maxZoom=Math.min(r.options.maxZoom,r.maxZoom):console.error("Invalid maxZoom on track:",r)),r.refreshTiles(),a&&a(e),r.options||(r.options={}),r.options.name=r.options.name||e.name,r.checkValueScaleLimits(),r.draw(),r.drawLabel(),r.animate()})),r}return(0,b.default)(t,e),(0,v.default)(t,[{key:"setFixedValueScaleMin",value:function(e){(0,d.default)(+e)?this.fixedValueScaleMin=null:this.fixedValueScaleMin=+e}},{key:"setFixedValueScaleMax",value:function(e){(0,d.default)(+e)?this.fixedValueScaleMax=null:this.fixedValueScaleMax=+e}},{key:"checkValueScaleLimits",value:function(){this.valueScaleMin="undefined"!==typeof this.options.valueScaleMin?+this.options.valueScaleMin:null,null!==this.fixedValueScaleMin&&(this.valueScaleMin=this.fixedValueScaleMin),this.valueScaleMax="undefined"!==typeof this.options.valueScaleMax?+this.options.valueScaleMax:null,null!==this.fixedValueScaleMax&&(this.valueScaleMax=this.fixedValueScaleMax)}},{key:"on",value:function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"off",value:function(e,t){var n=this.listeners[e].indexOf(t);-1===n||n>=this.listeners[e].length||this.listeners[e].splice(n,1)}},{key:"rerender",value:function(e){(0,y.default)(t.prototype.__proto__||(0,p.default)(t.prototype),"rerender",this).call(this,e),this.renderVersion+=1,this.tilesetInfo&&(this.checkValueScaleLimits(),this.tilesetInfo.resolutions?this.maxZoom=this.tilesetInfo.resolutions.length:this.maxZoom=+this.tilesetInfo.max_zoom,this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?this.maxZoom=Math.min(this.options.maxZoom,this.maxZoom):console.error("Invalid maxZoom on track:",this)))}},{key:"visibleAndFetchedIds",value:function(){var e=this;return(0,f.default)(this.fetchedTiles).filter((function(t){return e.visibleTileIds.has(t)}))}},{key:"visibleAndFetchedTiles",value:function(){var e=this;return this.visibleAndFetchedIds().map((function(t){return e.fetchedTiles[t]}))}},{key:"setVisibleTiles",value:function(e){var t=this;this.visibleTiles=e.map((function(e){return{tileId:t.tileToLocalId(e),remoteId:t.tileToRemoteId(e),mirrored:e.mirrored}})),this.visibleTileIds=new h.default(this.visibleTiles.map((function(e){return e.tileId})))}},{key:"removeOldTiles",value:function(){var e=this;this.calculateVisibleTiles();var t=new h.default((0,f.default)(this.fetchedTiles)),n=[].concat((0,c.default)(t)).filter((function(t){return!e.visibleTileIds.has(t)}));this.removeTiles(n)}},{key:"refreshTiles",value:function(){var e=this;if(this.tilesetInfo){this.calculateVisibleTiles();for(var t=new h.default((0,f.default)(this.fetchedTiles)),n=[].concat((0,c.default)(this.visibleTiles)).filter((function(n){return!e.fetching.has(n.remoteId)&&!t.has(n.tileId)})),r=0;r<n.length;r++)this.fetching.add(n[r].remoteId);this.removeOldTiles(),this.fetchNewTiles(n)}}},{key:"parentInFetched",value:function(e){for(var t=e.tileData.tilesetUid,n=e.tileData.zoomLevel,r=e.tileData.tilePos;n>0;)if(n-=1,r=r.map((function(e){return Math.floor(e/2)})),String(t)+"."+String(n)+"."+String(r.join("."))in this.fetchedTiles)return!0;return!1}},{key:"parentTileId",value:function(e){var t=e.tileData.zoomLevel-1,n=e.tileData.tilePos.map((function(e){return Math.floor(e/2)})),r=e.tileData.tilesetUid;return String(r)+"."+t+"."+String(n.join("."))}},{key:"removeTiles",value:function(e){var t=this;e.length&&this.areAllVisibleTilesLoaded()&&!this.renderingTiles.size&&(e.forEach((function(e){var n=e;t.destroyTile(t.fetchedTiles[n]),n in t.tileGraphics&&(t.pMain.removeChild(t.tileGraphics[n]),delete t.tileGraphics[n]),delete t.fetchedTiles[n]})),this.synchronizeTilesAndGraphics(),this.draw())}},{key:"zoomed",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;arguments.length>4&&void 0!==arguments[4]&&arguments[4],this.xScale(e),this.yScale(t),this.refreshTilesDebounced(),this.pMobile.position.x=r,this.pMobile.position.y=this.position[1],this.pMobile.scale.x=n,this.pMobile.scale.y=1}},{key:"setPosition",value:function(e){(0,y.default)(t.prototype.__proto__||(0,p.default)(t.prototype),"setPosition",this).call(this,e)}},{key:"setDimensions",value:function(e){(0,y.default)(t.prototype.__proto__||(0,p.default)(t.prototype),"setDimensions",this).call(this,e)}},{key:"areAllVisibleTilesLoaded",value:function(){for(var e=new h.default((0,f.default)(this.fetchedTiles)),t=[].concat((0,c.default)(this.visibleTileIds)),n=0;n<t.length;n++)if(!e.has(t[n]))return!1;return!0}},{key:"allTilesLoaded",value:function(){}},{key:"minValue",value:function(e){return e?(this.scale.minValue=e,this):null!==this.valueScaleMin?this.valueScaleMin:this.scale.minValue}},{key:"maxValue",value:function(e){return e?(this.scale.maxValue=e,this):null!==this.valueScaleMax?this.valueScaleMax:this.scale.maxValue}},{key:"minRawValue",value:function(){return this.scale.minRawValue}},{key:"maxRawValue",value:function(){return this.scale.maxRawValue}},{key:"initTile",value:function(){this.scale.minRawValue=this.continuousScaling?this.minVisibleValue():this.minVisibleValueInTiles(),this.scale.maxRawValue=this.continuousScaling?this.maxVisibleValue():this.maxVisibleValueInTiles(),this.scale.minValue=this.scale.minRawValue,this.scale.maxValue=this.scale.maxRawValue}},{key:"updateTile",value:function(){}},{key:"destroyTile",value:function(){}},{key:"addMissingGraphics",value:function(){var e=(0,f.default)(this.fetchedTiles);this.renderVersion+=1;for(var t=0;t<e.length;t++)if(!(e[t]in this.tileGraphics)){var n=new C.GLOBALS.PIXI.Graphics;this.pMain.addChild(n),this.fetchedTiles[e[t]].graphics=n,this.initTile(this.fetchedTiles[e[t]]),this.tileGraphics[e[t]]=n}}},{key:"updateExistingGraphics",value:function(){for(var e=(0,f.default)(this.fetchedTiles),t=0;t<e.length;t++)this.updateTile(this.fetchedTiles[e[t]])}},{key:"synchronizeTilesAndGraphics",value:function(){if(this.addMissingGraphics(),this.removeOldTiles(),this.updateExistingGraphics(),this.listeners.dataChanged){var e=!0,t=!1,n=void 0;try{for(var r,i=(0,u.default)(this.listeners.dataChanged);!(e=(r=i.next()).done);e=!0)(0,r.value)(this.visibleAndFetchedTiles().map((function(e){return e.tileData})))}catch(o){t=!0,n=o}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}}}},{key:"loadTileData",value:function(e,t){var n=this.lruCache.get(e.tileId);return n||(n=t(e.data,e.type),this.lruCache.put(e.tileId,n)),n}},{key:"fetchNewTiles",value:function(e){if(e.length>0){var t=[].concat((0,c.default)(new h.default(e.map((function(e){return e.remoteId})))));this.dataFetcher.fetchTilesDebounced(this.receivedTiles.bind(this),t)}}},{key:"receivedTiles",value:function(e){for(var t=this,n=function(n){var r=t.visibleTiles[n].tileId;if(!e[t.visibleTiles[n].remoteId])return"continue";if(t.visibleTiles[n].remoteId in e){if(r in t.fetchedTiles||(t.fetchedTiles[r]=t.visibleTiles[n]),Array.isArray(e[t.visibleTiles[n].remoteId])){var i=e[t.visibleTiles[n].remoteId];t.fetchedTiles[r].tileData=[].concat((0,c.default)(i)),(0,f.default)(i).filter((function(e){return(0,d.default)(+e)})).forEach((function(e){t.fetchedTiles[r].tileData[e]=i[e]}))}else t.fetchedTiles[r].tileData=(0,s.default)({},e[t.visibleTiles[n].remoteId]);t.fetchedTiles[r].tileData.error&&console.warn("Error in loaded tile",r,t.fetchedTiles[r].tileData)}},r=0;r<this.visibleTiles.length;r++)n(r);for(var i in e)if(e[i]){var o=e[i].tilePositionId;this.fetching.has(o)&&this.fetching.delete(o)}this.synchronizeTilesAndGraphics(),this.draw(),this.drawLabel(),this.valueScale&&(this.prevValueScale&&(0,l.default)(this.valueScale.domain())===(0,l.default)(this.prevValueScale.domain())||(this.prevValueScale=this.valueScale.copy(),this.onValueScaleChanged&&this.onValueScaleChanged())),this.animate(),this.areAllVisibleTilesLoaded()&&this.pubSub&&this.pubSub.publish("TiledPixiTrack.tilesLoaded",{uuid:this.uuid})}},{key:"draw",value:function(){var e=this;if(!this.delayDrawing){if(this.tilesetInfo)this.trackNotFoundText.visible=!1;else{this.dataFetcher.tilesetInfoLoading?this.trackNotFoundText.text="Loading...":this.trackNotFoundText.text="Tileset info not found. Server: ["+String(this.server)+"] tilesetUid: ["+String(this.tilesetUid)+"]";var n=(0,a.default)(this.position,2);this.trackNotFoundText.x=n[0],this.trackNotFoundText.y=n[1],this.trackNotFoundText.visible=!0}this.pubSub&&this.pubSub.publish("TiledPixiTrack.tilesDrawnStart",{uuid:this.uuid}),(0,y.default)(t.prototype.__proto__||(0,p.default)(t.prototype),"draw",this).call(this),(0,f.default)(this.fetchedTiles).forEach((function(t){return e.drawTile(e.fetchedTiles[t])})),this.pubSub&&this.pubSub.publish("TiledPixiTrack.tilesDrawnEnd",{uuid:this.uuid})}}},{key:"drawTile",value:function(){}},{key:"calculateMedianVisibleValue",value:function(){var e,t=this;this.areAllVisibleTilesLoaded()&&this.allTilesLoaded();var n=this.visibleAndFetchedIds();0===n.length&&(n=(0,f.default)(this.fetchedTiles));var r=(e=[]).concat.apply(e,(0,c.default)(n.filter((function(e){return t.fetchedTiles[e].tileData.dense})).map((function(e){return(0,o.default)(t.fetchedTiles[e].tileData.dense)})))).filter((function(e){return e>0}));return this.medianVisibleValue=(0,x.median)(r),this.medianVisibleValue}},{key:"allVisibleValues",value:function(){var e,t=this;return(e=[]).concat.apply(e,(0,c.default)(this.visibleAndFetchedIds().map((function(e){return(0,o.default)(t.fetchedTiles[e].tileData.dense)}))))}},{key:"minVisibleValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.minVisibleValueInTiles(e)}},{key:"minVisibleValueInTiles",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.visibleAndFetchedIds();0===n.length&&(n=(0,f.default)(this.fetchedTiles));var r=Math.min.apply(Math,(0,c.default)(n.map((function(t){return e.fetchedTiles[t].tileData.minNonZero}))));return r===i.default&&(r=null),t?r:null!==this.valueScaleMin?this.valueScaleMin:r}},{key:"maxVisibleValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.maxVisibleValueInTiles(e)}},{key:"maxVisibleValueInTiles",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.visibleAndFetchedIds();0===n.length&&(n=(0,f.default)(this.fetchedTiles));var i=Math.max.apply(Math,(0,c.default)(n.map((function(t){return e.fetchedTiles[t].tileData.maxNonZero}))));return i===r.default&&(i=null),t?i:null!==this.valueScaleMax?this.valueScaleMax:i}},{key:"makeValueScale",value:function(e,t,n,r){var i=null,o=0,a=r;null!==a&&"undefined"!==typeof a||(a=6);var s=Math.min(this.dimensions[1]-a,a),l=Math.max(this.dimensions[1]-a,a);if(this.dimensions[1]-a<a&&(s=this.dimensions[1]/2,l=this.dimensions[1]/2),"log"===this.options.valueScaling)(o=t)||(o=e),i=(0,_.scaleLog)().domain([o,n+o]).range([s,l]);else{if("quantile"===this.options.valueScaling){var u=this.dimensions[1]-a,f=a,d=(0,_.scaleQuantile)().domain(this.allVisibleValues()).range((0,x.range)(u,f,(f-u)/256));return d.ticks=function(e){return(0,x.ticks)(u,f,e)},[d,0]}if("setquantile"===this.options.valueScaling){var p=this.dimensions[1]-a,m=a,v=new h.default(this.allVisibleValues()),g=(0,_.scaleQuantile)().domain([].concat((0,c.default)(v))).range((0,x.range)(p,m,(m-p)/256));return g.ticks=function(e){return(0,x.ticks)(p,m,e)},[g,0]}i=(0,_.scaleLinear)().domain([e,n]).range([l,s])}return[i,o]}}]),t}(S.default);t.default=M},function(e,t,n){var r=n(393),i=n(140),o=n(793),a=n(29);e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},i=/%[sdj%]/g;t.format=function(e){if(!g(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}})),l=r[n];n<o;l=r[++n])m(l)||!_(l)?a+=" "+l:a+=" "+s(l);return a},t.deprecate=function(n,r){if("undefined"!==typeof e&&!0===e.noDeprecation)return n;if("undefined"===typeof e)return function(){return t.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var o,a={};function s(e,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&t._extend(r,n),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=l),c(r,e,r.depth)}function l(e,t){var n=s.styles[t];return n?"\x1b["+s.colors[n][0]+"m"+e+"\x1b["+s.colors[n][1]+"m":e}function u(e,t){return e}function c(e,n,r){if(e.customInspect&&n&&E(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return g(i)||(i=c(e,i,r)),i}var o=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(g(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return v(t)?e.stylize(""+t,"number"):p(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}(e,n);if(o)return o;var a=Object.keys(n),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),w(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return f(n);if(0===a.length){if(E(n)){var l=n.name?": "+n.name:"";return e.stylize("[Function"+l+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(x(n))return e.stylize(Date.prototype.toString.call(n),"date");if(w(n))return f(n)}var u,_="",T=!1,S=["{","}"];return h(n)&&(T=!0,S=["[","]"]),E(n)&&(_=" [Function"+(n.name?": "+n.name:"")+"]"),b(n)&&(_=" "+RegExp.prototype.toString.call(n)),x(n)&&(_=" "+Date.prototype.toUTCString.call(n)),w(n)&&(_=" "+f(n)),0!==a.length||T&&0!=n.length?r<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),u=T?function(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)C(t,String(a))?o.push(d(e,t,n,r,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(d(e,t,n,r,i,!0))})),o}(e,n,r,s,a):a.map((function(t){return d(e,n,r,s,t,T)})),e.seen.pop(),function(e,t,n){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(u,_,S)):S[0]+_+S[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,r,i,o){var a,s,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),C(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(l.value)<0?(s=m(n)?c(e,l.value,null):c(e,l.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),y(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function h(e){return Array.isArray(e)}function p(e){return"boolean"===typeof e}function m(e){return null===e}function v(e){return"number"===typeof e}function g(e){return"string"===typeof e}function y(e){return void 0===e}function b(e){return _(e)&&"[object RegExp]"===T(e)}function _(e){return"object"===typeof e&&null!==e}function x(e){return _(e)&&"[object Date]"===T(e)}function w(e){return _(e)&&("[object Error]"===T(e)||e instanceof Error)}function E(e){return"function"===typeof e}function T(e){return Object.prototype.toString.call(e)}function S(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(y(o)&&(o=Object({NODE_ENV:"production"}).NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=e.pid;a[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else a[n]=function(){};return a[n]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=p,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=v,t.isString=g,t.isSymbol=function(e){return"symbol"===typeof e},t.isUndefined=y,t.isRegExp=b,t.isObject=_,t.isDate=x,t.isError=w,t.isFunction=E,t.isPrimitive=function(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e},t.isBuffer=n(969);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function O(){var e=new Date,t=[S(e.getHours()),S(e.getMinutes()),S(e.getSeconds())].join(":");return[e.getDate(),k[e.getMonth()],t].join(" ")}function C(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",O(),t.format.apply(t,arguments))},t.inherits=n(57),t._extend=function(e,t){if(!t||!_(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var A="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;function M(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!==typeof e)throw new TypeError('The "original" argument must be of type Function');if(A&&e[A]){var t;if("function"!==typeof(t=e[A]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,A,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,i)}catch(a){n(a)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),A&&Object.defineProperty(t,A,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=A,t.callbackify=function(t){if("function"!==typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!==typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};t.apply(this,n).then((function(t){e.nextTick(a,null,t)}),(function(t){e.nextTick(M,t,a)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(146))},function(e,t,n){"use strict";function r(){}function i(e,t){var n=new r;if(e instanceof r)e.each((function(e,t){n.set(t,e)}));else if(Array.isArray(e)){var i,o=-1,a=e.length;if(null==t)for(;++o<a;)n.set(o,e[o]);else for(;++o<a;)n.set(t(i=e[o],o,e),i)}else if(e)for(var s in e)n.set(s,e[s]);return n}r.prototype=i.prototype={constructor:r,has:function(e){return"$"+e in this},get:function(e){return this["$"+e]},set:function(e,t){return this["$"+e]=t,this},remove:function(e){var t="$"+e;return t in this&&delete this[t]},clear:function(){for(var e in this)"$"===e[0]&&delete this[e]},keys:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)"$"===t[0]&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)"$"===t[0]&&++e;return e},empty:function(){for(var e in this)if("$"===e[0])return!1;return!0},each:function(e){for(var t in this)"$"===t[0]&&e(this[t],t.slice(1),this)}};var o=i;function a(){}var s=o.prototype;function l(e,t){var n=new a;if(e instanceof a)e.each((function(e){n.add(e)}));else if(e){var r=-1,i=e.length;if(null==t)for(;++r<i;)n.add(e[r]);else for(;++r<i;)n.add(t(e[r],r,e))}return n}a.prototype=l.prototype={constructor:a,has:s.has,add:function(e){return this["$"+(e+="")]=e,this},remove:s.remove,clear:s.clear,values:s.keys,size:s.size,empty:s.empty,each:s.each},n.d(t,"a",(function(){return o}))},function(e,t,n){var r=n(154),i=n(104);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=!0},function(e,t,n){n(207);for(var r=n(23),i=n(39),o=n(49),a=n(20)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var u=s[l],c=r[u],f=c&&c.prototype;f&&!f[a]&&i(f,a,u),o[u]=o.Array}},function(e,t,n){var r=n(30).f,i=n(46),o=n(20)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Provider=void 0;var r=a(n(44)),i=a(n(1)),o=a(n(171));function a(e){return e&&e.__esModule?e:{default:e}}var s=i.default.createContext({close:o.default,open:o.default}),l=s.Provider,u=s.Consumer;t.default=function(e){return i.default.forwardRef((function(t,n){return i.default.createElement(u,null,(function(o){return i.default.createElement(e,(0,r.default)({ref:n},t,{theme:o}))}))}))},t.Provider=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(5)),i=c(n(3)),o=c(n(4)),a=c(n(6)),s=c(n(7)),l=n(0),u=c(n(27));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n)),s=e.svgElement;return o.gMain=(0,l.select)(s).append("g"),o.clipUid=u.default.nice(),o.clipRect=o.gMain.append("clipPath").attr("id","track-bounds-"+String(o.clipUid)).append("rect"),o.gMain.attr("clip-path","url(#track-bounds-"+String(o.clipUid)+")"),o}return(0,s.default)(t,e),(0,o.default)(t,[{key:"setPosition",value:function(e){this.position=e,this.gMain.attr("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),this.draw()}},{key:"setDimensions",value:function(e){this.dimensions=e,this._xScale.range([0,this.dimensions[0]]),this._yScale.range([0,this.dimensions[1]]),e[0]>=0&&e[1]>=0?(this.clipRect.attr("width",e[0]),this.clipRect.attr("height",e[1])):(this.clipRect.attr("width",0),this.clipRect.attr("height",0)),this.draw()}},{key:"remove",value:function(){this.gMain.remove(),this.gMain=null}},{key:"draw",value:function(){return this}}]),t}(c(n(174)).default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mix=t.Mixin=t.BareMixin=t.HasInstance=t.DeDupe=t.Cached=t.wrap=t.hasMixin=t.isApplicationOf=t.apply=t.unwrap=void 0;var r=f(n(3)),i=f(n(4)),o=f(n(126)),a=f(n(620)),s=f(n(240)),l=f(n(623)),u=f(n(324)),c=f(n(5));function f(e){return e&&e.__esModule?e:{default:e}}var d=t.unwrap=function(e){return e.__mixwith_wrappedMixin||e},h=t.apply=function(e,t){var n=t(e);return n.prototype.__mixwith_appliedMixin=d(t),n},p=t.isApplicationOf=function(e,t){return e.hasOwnProperty("__mixwith_appliedMixin")&&e.__mixwith_appliedMixin===d(t)},m=t.hasMixin=function(e,t){for(;null!==e;){if(p(e,t))return!0;e=(0,c.default)(e)}return!1},v=t.wrap=function(e,t){return(0,u.default)(t,e),e.__mixwith_wrappedMixin||(e.__mixwith_wrappedMixin=e),t},g=t.Cached=function(e){return v(e,(function(t){var n=t.__mixwith_cachedApplications;n||(t.__mixwith_cachedApplications=new l.default,n=t.__mixwith_cachedApplications);var r=n.get(e);return r||(r=e(t),n.set(e,r)),r}))},y=t.DeDupe=function(e){return v(e,(function(t){return m(t.prototype,e)?t:e(t)}))},b=(t.HasInstance=function(e){return s.default&&a.default&&!e[a.default]&&(0,o.default)(e,a.default,{value:function(t){return m(t,e)}}),e},t.BareMixin=function(e){return v(e,(function(t){return h(t,e)}))}),_=(t.Mixin=function(e){return y(g(b(e)))},function(){function e(t){(0,r.default)(this,e),this.superclass=t||function e(){(0,r.default)(this,e)}}return(0,i.default)(e,[{key:"with",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return t(e)}),this.superclass)}}]),e}());t.mix=function(e){return new _(e)}},function(e,t,n){"use strict";var r="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(e[r]=n[r])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,a;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)o=e[t],a.set(o,i),i+=o.length;return a}},a={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,o)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(r)},function(e,t,n){"use strict";n.r(t);var r=n(63),i=n(84),o=n(15),a=n(0),s=n(85),l=function(e){return function(){return e}},u=function(e,t,n){this.target=e,this.type=t,this.selection=n};function c(){a.event.stopImmediatePropagation()}var f=function(){a.event.preventDefault(),a.event.stopImmediatePropagation()},d={name:"drag"},h={name:"space"},p={name:"handle"},m={name:"center"},v={name:"x",handles:["e","w"].map(T),input:function(e,t){return e&&[[e[0],t[0][1]],[e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},g={name:"y",handles:["n","s"].map(T),input:function(e,t){return e&&[[t[0][0],e[0]],[t[1][0],e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},y={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(T),input:function(e){return e},output:function(e){return e}},b={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},_={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},x={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},w={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},E={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function T(e){return{type:e}}function S(){return!a.event.button}function k(){var e=this.ownerSVGElement||this;return[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function O(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function C(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function A(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function M(e,t,n){return D(v,e,t,n)}function P(e,t,n){return D(g,e,t,n)}var I=function(e,t,n){return D(y,e,t,n)};function D(e,t,n,y){var A,M=k,P=S,I=Object(r.a)(N,"start","brush","end"),D=6;function N(t){var r=t.property("__brush",B).selectAll(".overlay").data([T("overlay")]);r.enter().append("rect").attr("class","overlay").attr("pointer-events",y?"auto":"all").attr("cursor",n?"default":b.overlay).merge(r).each((function(){var e=O(this).extent;Object(a.select)(this).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1])})),t.selectAll(".selection").data([T("selection")]).enter().append("rect").attr("class","selection").attr("cursor",b.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var i=t.selectAll(".handle").data(e.handles,(function(e){return e.type}));i.exit().remove(),i.enter().append("rect").attr("class",(function(e){return"handle handle--"+e.type})).attr("cursor",(function(e){return b[e.type]})),t.each(R).attr("fill","none").attr("pointer-events",y?"auto":"all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)"),n?t.on("mousedown.brush touchstart.brush",(function(){"overlay"!==a.event.target.__data__.type&&F.apply(this,arguments)})):t.on("mousedown.brush touchstart.brush",F)}function R(){var e=Object(a.select)(this),t=O(this).selection;t?(e.selectAll(".selection").style("display",null).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1]),e.selectAll(".handle").style("display",null).attr("x",(function(e){return"e"===e.type[e.type.length-1]?t[1][0]-D/2:t[0][0]-D/2})).attr("y",(function(e){return"s"===e.type[0]?t[1][1]-D/2:t[0][1]-D/2})).attr("width",(function(e){return"n"===e.type||"s"===e.type?t[1][0]-t[0][0]+D:D})).attr("height",(function(e){return"e"===e.type||"w"===e.type?t[1][1]-t[0][1]+D:D}))):e.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function L(e,t){return e.__brush.emitter||new j(e,t)}function j(e,t){this.that=e,this.args=t,this.state=e.__brush,this.active=0}function F(){if(a.event.touches){if(a.event.changedTouches.length<a.event.touches.length)return f()}else if(A)return;if(P.apply(this,arguments)){var n,r,o,l,u,y,T,S,k,M,I,D,N,j=this,F=a.event.target.__data__.type,B="selection"===(a.event.metaKey&&!t?F="overlay":F)?d:a.event.altKey&&!t?m:p,z=e===g?null:w[F],H=e===v?null:E[F],U=O(j),V=U.extent,G=U.selection,W=V[0][0],q=V[0][1],Y=V[1][0],X=V[1][1],$=z&&H&&a.event.shiftKey,K=Object(a.mouse)(j),Z=K,Q=L(j,arguments).beforestart();"overlay"===F?U.selection=G=[[n=e===g?W:K[0],o=e===v?q:K[1]],[u=e===g?Y:n,T=e===v?X:o]]:(n=G[0][0],o=G[0][1],u=G[1][0],T=G[1][1]),r=n,l=o,y=u,S=T;var J=Object(a.select)(j).attr("pointer-events","none"),ee=J.selectAll(".overlay").attr("cursor",b[F]);if(a.event.touches)J.on("touchmove.brush",ne,!0).on("touchend.brush touchcancel.brush",ie,!0);else{var te=Object(a.select)(a.event.view).on("mousemove.brush",ne,!0).on("mouseup.brush",ie,!0);t||te.on("keydown.brush",oe,!0).on("keyup.brush",ae,!0),Object(i.dragDisable)(a.event.view)}c(),Object(s.interrupt)(j),R.call(j),Q.start()}function ne(){var e=Object(a.mouse)(j);!$||D||N||(Math.abs(e[0]-Z[0])>Math.abs(e[1]-Z[1])?N=!0:D=!0),Z=e,I=!0,f(),re()}function re(){var e;switch(k=Z[0]-K[0],M=Z[1]-K[1],B){case h:case d:z&&(k=Math.max(W-n,Math.min(Y-u,k)),r=n+k,y=u+k),H&&(M=Math.max(q-o,Math.min(X-T,M)),l=o+M,S=T+M);break;case p:z<0?(k=Math.max(W-n,Math.min(Y-n,k)),r=n+k,y=u):z>0&&(k=Math.max(W-u,Math.min(Y-u,k)),r=n,y=u+k),H<0?(M=Math.max(q-o,Math.min(X-o,M)),l=o+M,S=T):H>0&&(M=Math.max(q-T,Math.min(X-T,M)),l=o,S=T+M);break;case m:z&&(r=Math.max(W,Math.min(Y,n-k*z)),y=Math.max(W,Math.min(Y,u+k*z))),H&&(l=Math.max(q,Math.min(X,o-M*H)),S=Math.max(q,Math.min(X,T+M*H)))}y<r&&(z*=-1,e=n,n=u,u=e,e=r,r=y,y=e,F in _&&ee.attr("cursor",b[F=_[F]])),S<l&&(H*=-1,e=o,o=T,T=e,e=l,l=S,S=e,F in x&&ee.attr("cursor",b[F=x[F]])),U.selection&&(G=U.selection),D&&(r=G[0][0],y=G[1][0]),N&&(l=G[0][1],S=G[1][1]),G[0][0]===r&&G[0][1]===l&&G[1][0]===y&&G[1][1]===S||(U.selection=[[r,l],[y,S]],R.call(j),Q.brush())}function ie(){if(c(),a.event.touches){if(a.event.touches.length)return;A&&clearTimeout(A),A=setTimeout((function(){A=null}),500),J.on("touchmove.brush touchend.brush touchcancel.brush",null)}else Object(i.dragEnable)(a.event.view,I),te.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);J.attr("pointer-events","all"),ee.attr("cursor",b.overlay),U.selection&&(G=U.selection),C(G)&&(U.selection=null,R.call(j)),Q.end()}function oe(){switch(a.event.keyCode){case 16:$=z&&H;break;case 18:B===p&&(z&&(u=y-k*z,n=r+k*z),H&&(T=S-M*H,o=l+M*H),B=m,re());break;case 32:B!==p&&B!==m||(z<0?u=y-k:z>0&&(n=r-k),H<0?T=S-M:H>0&&(o=l-M),B=h,ee.attr("cursor",b.selection),re());break;default:return}f()}function ae(){switch(a.event.keyCode){case 16:$&&(D=N=$=!1,re());break;case 18:B===m&&(z<0?u=y:z>0&&(n=r),H<0?T=S:H>0&&(o=l),B=p,re());break;case 32:B===h&&(a.event.altKey?(z&&(u=y-k*z,n=r+k*z),H&&(T=S-M*H,o=l+M*H),B=m):(z<0?u=y:z>0&&(n=r),H<0?T=S:H>0&&(o=l),B=p),ee.attr("cursor",b[F]),re());break;default:return}f()}}function B(){var t=this.__brush||{selection:null};return t.extent=M.apply(this,arguments),t.dim=e,t}return N.move=function(t,n){t.selection?t.on("start.brush",(function(){L(this,arguments).beforestart().start()})).on("interrupt.brush end.brush",(function(){L(this,arguments).end()})).tween("brush",(function(){var t=this,r=t.__brush,i=L(t,arguments),a=r.selection,s=e.input("function"===typeof n?n.apply(this,arguments):n,r.extent),l=Object(o.a)(a,s);function u(e){r.selection=1===e&&C(s)?null:l(e),R.call(t),i.brush()}return a&&s?u:u(1)})):t.each((function(){var t=this,r=arguments,i=t.__brush,o=e.input("function"===typeof n?n.apply(t,r):n,i.extent),a=L(t,r).beforestart();Object(s.interrupt)(t),i.selection=null==o||C(o)?null:o,R.call(t),a.start().brush().end()}))},j.prototype={beforestart:function(){return 1===++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0===--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){Object(a.customEvent)(new u(N,t,e.output(this.state.selection)),I.apply,I,[t,this.that,this.args])}},N.extent=function(e){return arguments.length?(M="function"===typeof e?e:l([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),N):M},N.filter=function(e){return arguments.length?(P="function"===typeof e?e:l(!!e),N):P},N.handleSize=function(e){return arguments.length?(D=+e,N):D},N.on=function(){var e=I.on.apply(I,arguments);return e===I?N:e},N}n.d(t,"brush",(function(){return I})),n.d(t,"brushX",(function(){return M})),n.d(t,"brushY",(function(){return P})),n.d(t,"brushSelection",(function(){return A}))},function(e,t,n){"use strict";n.r(t);var r=n(63),i=n(0);function o(){i.event.stopImmediatePropagation()}var a=function(){i.event.preventDefault(),i.event.stopImmediatePropagation()},s=function(e){var t=e.document.documentElement,n=Object(i.select)(e).on("dragstart.drag",a,!0);"onselectstart"in t?n.on("selectstart.drag",a,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")};function l(e,t){var n=e.document.documentElement,r=Object(i.select)(e).on("dragstart.drag",null);t&&(r.on("click.drag",a,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var u=function(e){return function(){return e}};function c(e,t,n,r,i,o,a,s,l,u){this.target=e,this.type=t,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=l,this._=u}function f(){return!i.event.button}function d(){return this.parentNode}function h(e){return null==e?{x:i.event.x,y:i.event.y}:e}function p(){return"ontouchstart"in this}c.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var m=function(){var e,t,n,m,v=f,g=d,y=h,b=p,_={},x=Object(r.a)("start","drag","end"),w=0,E=0;function T(e){e.on("mousedown.drag",S).filter(b).on("touchstart.drag",C).on("touchmove.drag",A).on("touchend.drag touchcancel.drag",M).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function S(){if(!m&&v.apply(this,arguments)){var r=P("mouse",g.apply(this,arguments),i.mouse,this,arguments);r&&(Object(i.select)(i.event.view).on("mousemove.drag",k,!0).on("mouseup.drag",O,!0),s(i.event.view),o(),n=!1,e=i.event.clientX,t=i.event.clientY,r("start"))}}function k(){if(a(),!n){var r=i.event.clientX-e,o=i.event.clientY-t;n=r*r+o*o>E}_.mouse("drag")}function O(){Object(i.select)(i.event.view).on("mousemove.drag mouseup.drag",null),l(i.event.view,n),a(),_.mouse("end")}function C(){if(v.apply(this,arguments)){var e,t,n=i.event.changedTouches,r=g.apply(this,arguments),a=n.length;for(e=0;e<a;++e)(t=P(n[e].identifier,r,i.touch,this,arguments))&&(o(),t("start"))}}function A(){var e,t,n=i.event.changedTouches,r=n.length;for(e=0;e<r;++e)(t=_[n[e].identifier])&&(a(),t("drag"))}function M(){var e,t,n=i.event.changedTouches,r=n.length;for(m&&clearTimeout(m),m=setTimeout((function(){m=null}),500),e=0;e<r;++e)(t=_[n[e].identifier])&&(o(),t("end"))}function P(e,t,n,r,o){var a,s,l,u=n(t,e),f=x.copy();if(Object(i.customEvent)(new c(T,"beforestart",a,e,w,u[0],u[1],0,0,f),(function(){return null!=(i.event.subject=a=y.apply(r,o))&&(s=a.x-u[0]||0,l=a.y-u[1]||0,!0)})))return function d(h){var p,m=u;switch(h){case"start":_[e]=d,p=w++;break;case"end":delete _[e],--w;case"drag":u=n(t,e),p=w}Object(i.customEvent)(new c(T,h,a,e,p,u[0]+s,u[1]+l,u[0]-m[0],u[1]-m[1],f),f.apply,f,[h,r,o])}}return T.filter=function(e){return arguments.length?(v="function"===typeof e?e:u(!!e),T):v},T.container=function(e){return arguments.length?(g="function"===typeof e?e:u(e),T):g},T.subject=function(e){return arguments.length?(y="function"===typeof e?e:u(e),T):y},T.touchable=function(e){return arguments.length?(b="function"===typeof e?e:u(!!e),T):b},T.on=function(){var e=x.on.apply(x,arguments);return e===x?T:e},T.clickDistance=function(e){return arguments.length?(E=(e=+e)*e,T):Math.sqrt(E)},T};n.d(t,"drag",(function(){return m})),n.d(t,"dragDisable",(function(){return s})),n.d(t,"dragEnable",(function(){return l}))},function(e,t,n){"use strict";n.r(t);var r,i,o=n(0),a=n(63),s=0,l=0,u=0,c=0,f=0,d=0,h="object"===typeof performance&&performance.now?performance:Date,p="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function m(){return f||(p(v),f=h.now()+d)}function v(){f=0}function g(){this._call=this._time=this._next=null}function y(e,t,n){var r=new g;return r.restart(e,t,n),r}function b(){f=(c=h.now())+d,s=l=0;try{!function(){m(),++s;for(var e,t=r;t;)(e=f-t._time)>=0&&t._call.call(null,e),t=t._next;--s}()}finally{s=0,function(){for(var e,t,n=r,o=1/0;n;)n._call?(o>n._time&&(o=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:r=t);i=e,x(o)}(),f=0}}function _(){var e=h.now(),t=e-c;t>1e3&&(d-=t,c=e)}function x(e){s||(l&&(l=clearTimeout(l)),e-f>24?(e<1/0&&(l=setTimeout(b,e-h.now()-d)),u&&(u=clearInterval(u))):(u||(c=h.now(),u=setInterval(_,1e3)),s=1,p(b)))}g.prototype=y.prototype={constructor:g,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?m():+n)+(null==t?0:+t),this._next||i===this||(i?i._next=this:r=this,i=this),this._call=e,this._time=n,x()},stop:function(){this._call&&(this._call=null,this._time=1/0,x())}};var w=function(e,t,n){var r=new g;return t=null==t?0:+t,r.restart((function(n){r.stop(),e(n+t)}),t,n),r},E=Object(a.a)("start","end","cancel","interrupt"),T=[],S=function(e,t,n,r,i,o){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function o(l){var u,c,f,d;if(1!==n.state)return s();for(u in i)if((d=i[u]).name===n.name){if(3===d.state)return w(o);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete i[u]):+u<t&&(d.state=6,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete i[u])}if(w((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(l))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(f=n.tween.length),u=0,c=-1;u<f;++u)(d=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(r[++c]=d);r.length=c+1}}function a(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(s),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(e,i);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=y((function(e){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)}),0,n.time)}(e,n,{name:t,index:r,group:i,on:E,tween:T,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})};function k(e,t){var n=C(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function O(e,t){var n=C(e,t);if(n.state>3)throw new Error("too late; already running");return n}function C(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}var A=function(e,t){var n,r,i,o=e.__transition,a=!0;if(o){for(i in t=null==t?null:t+"",o)(n=o[i]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete e.__transition}},M=n(15);function P(e,t){var n,r;return function(){var i=O(this,e),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}i.tween=r}}function I(e,t,n){var r,i;if("function"!==typeof n)throw new Error;return function(){var o=O(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=s;break}l===u&&i.push(s)}o.tween=i}}function D(e,t,n){var r=e._id;return e.each((function(){var e=O(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return C(e,r).value[t]}}var N=n(9),R=function(e,t){var n;return("number"===typeof t?M.c:t instanceof N.color?M.d:(n=Object(N.color)(t))?(t=n,M.d):M.f)(e,t)};function L(e){return function(){this.removeAttribute(e)}}function j(e){return function(){this.removeAttributeNS(e.space,e.local)}}function F(e,t,n){var r,i,o=n+"";return function(){var a=this.getAttribute(e);return a===o?null:a===r?i:i=t(r=a,n)}}function B(e,t,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===o?null:a===r?i:i=t(r=a,n)}}function z(e,t,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttribute(e))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=t(r=a,l));this.removeAttribute(e)}}function H(e,t,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=t(r=a,l));this.removeAttributeNS(e.space,e.local)}}function U(e,t){return function(n){this.setAttribute(e,t(n))}}function V(e,t){return function(n){this.setAttributeNS(e.space,e.local,t(n))}}function G(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&V(e,i)),n}return i._value=t,i}function W(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&U(e,i)),n}return i._value=t,i}function q(e,t){return function(){k(this,e).delay=+t.apply(this,arguments)}}function Y(e,t){return t=+t,function(){k(this,e).delay=t}}function X(e,t){return function(){O(this,e).duration=+t.apply(this,arguments)}}function $(e,t){return t=+t,function(){O(this,e).duration=t}}function K(e,t){if("function"!==typeof t)throw new Error;return function(){O(this,e).ease=t}}function Z(e,t,n){var r,i,o=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?k:O;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}var Q=o.selection.prototype.constructor;function J(e){return function(){this.style.removeProperty(e)}}function ee(e,t,n){return function(r){this.style.setProperty(e,t(r),n)}}function te(e,t,n){var r,i;function o(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&ee(e,o,n)),r}return o._value=t,o}var ne=0;function re(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function ie(e){return Object(o.selection)().transition(e)}function oe(){return++ne}var ae=o.selection.prototype;re.prototype=ie.prototype={constructor:re,select:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=Object(o.selector)(e));for(var r=this._groups,i=r.length,a=new Array(i),s=0;s<i;++s)for(var l,u,c=r[s],f=c.length,d=a[s]=new Array(f),h=0;h<f;++h)(l=c[h])&&(u=e.call(l,l.__data__,h,c))&&("__data__"in l&&(u.__data__=l.__data__),d[h]=u,S(d[h],t,n,h,d,C(l,n)));return new re(a,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=Object(o.selectorAll)(e));for(var r=this._groups,i=r.length,a=[],s=[],l=0;l<i;++l)for(var u,c=r[l],f=c.length,d=0;d<f;++d)if(u=c[d]){for(var h,p=e.call(u,u.__data__,d,c),m=C(u,n),v=0,g=p.length;v<g;++v)(h=p[v])&&S(h,t,n,v,p,m);a.push(p),s.push(u)}return new re(a,s,t,n)},filter:function(e){"function"!==typeof e&&(e=Object(o.matcher)(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,s=t[i],l=s.length,u=r[i]=[],c=0;c<l;++c)(a=s[c])&&e.call(a,a.__data__,c,s)&&u.push(a);return new re(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,u=t[s],c=n[s],f=u.length,d=a[s]=new Array(f),h=0;h<f;++h)(l=u[h]||c[h])&&(d[h]=l);for(;s<r;++s)a[s]=t[s];return new re(a,this._parents,this._name,this._id)},selection:function(){return new Q(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=oe(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,u=0;u<l;++u)if(a=s[u]){var c=C(a,t);S(a,e,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new re(r,this._parents,e,n)},call:ae.call,nodes:ae.nodes,node:ae.node,size:ae.size,empty:ae.empty,each:ae.each,on:function(e,t){var n=this._id;return arguments.length<2?C(this.node(),n).on.on(e):this.each(Z(n,e,t))},attr:function(e,t){var n=Object(o.namespace)(e),r="transform"===n?M.h:R;return this.attrTween(e,"function"===typeof t?(n.local?H:z)(n,r,D(this,"attr."+e,t)):null==t?(n.local?j:L)(n):(n.local?B:F)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;var r=Object(o.namespace)(e);return this.tween(n,(r.local?G:W)(r,t))},style:function(e,t,n){var r="transform"===(e+="")?M.g:R;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var a=Object(o.style)(this,e),s=(this.style.removeProperty(e),Object(o.style)(this,e));return a===s?null:a===n&&s===r?i:i=t(n=a,r=s)}}(e,r)).on("end.style."+e,J(e)):"function"===typeof t?this.styleTween(e,function(e,t,n){var r,i,a;return function(){var s=Object(o.style)(this,e),l=n(this),u=l+"";return null==l&&(this.style.removeProperty(e),u=l=Object(o.style)(this,e)),s===u?null:s===r&&u===i?a:(i=u,a=t(r=s,l))}}(e,r,D(this,"style."+e,t))).each(function(e,t){var n,r,i,o,a="style."+t,s="end."+a;return function(){var l=O(this,e),u=l.on,c=null==l.value[a]?o||(o=J(t)):void 0;u===n&&i===c||(r=(n=u).copy()).on(s,i=c),l.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,a=n+"";return function(){var s=Object(o.style)(this,e);return s===a?null:s===r?i:i=t(r=s,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!==typeof t)throw new Error;return this.tween(r,te(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"===typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(D(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=C(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===e)return r.value;return null}return this.each((null==t?P:I)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?q:Y)(t,e)):C(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?X:$)(t,e)):C(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(K(t,e)):C(this.node(),t).ease},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},l={value:function(){0===--i&&o()}};n.each((function(){var n=O(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),n.on=t}))}))}},function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n}(3),function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3),Math.PI,function e(t){function n(e){return e*e*((t+1)*e-t)}return t=+t,n.overshoot=e,n}(1.70158),function e(t){function n(e){return--e*e*((t+1)*e+t)+1}return t=+t,n.overshoot=e,n}(1.70158),function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(1.70158);var se=2*Math.PI,le=(function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=se);function i(e){return t*Math.pow(2,10*--e)*Math.sin((r-e)/n)}return i.amplitude=function(t){return e(t,n*se)},i.period=function(n){return e(t,n)},i}(1,.3),function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=se);function i(e){return 1-t*Math.pow(2,-10*(e=+e))*Math.sin((e+r)/n)}return i.amplitude=function(t){return e(t,n*se)},i.period=function(n){return e(t,n)},i}(1,.3),function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=se);function i(e){return((e=2*e-1)<0?t*Math.pow(2,10*e)*Math.sin((r-e)/n):2-t*Math.pow(2,-10*e)*Math.sin((r+e)/n))/2}return i.amplitude=function(t){return e(t,n*se)},i.period=function(n){return e(t,n)},i}(1,.3),{time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}});function ue(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return le.time=m(),le;return n}o.selection.prototype.interrupt=function(e){return this.each((function(){A(this,e)}))},o.selection.prototype.transition=function(e){var t,n;e instanceof re?(t=e._id,e=e._name):(t=oe(),(n=le).time=m(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,u=0;u<l;++u)(a=s[u])&&S(a,e,t,u,s,n||ue(a,t));return new re(r,this._parents,e,t)};var ce=[null],fe=function(e,t){var n,r,i=e.__transition;if(i)for(r in t=null==t?null:t+"",i)if((n=i[r]).state>1&&n.name===t)return new re([[e]],ce,t,+r);return null};n.d(t,"transition",(function(){return ie})),n.d(t,"active",(function(){return fe})),n.d(t,"interrupt",(function(){return A}))},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],c=0;(l=new Error(t.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(89),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(103)("keys"),i=n(91);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){e.exports={default:n(218),__esModule:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=p(n(51)),i=p(n(5)),o=p(n(3)),a=p(n(4)),s=p(n(6)),l=p(n(7)),u=p(n(33)),c=p(n(2)),f=p(n(1)),d=p(n(38)),h=n(11);function p(e){return e&&e.__esModule?e:{default:e}}n(68);var m={"../styles/ContextMenu.module.scss":{"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-dark":"ContextMenu-module_context-menu-dark-2PO31","context-menu-icon":"ContextMenu-module_context-menu-icon-I4kiw","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}},v=function(e){function t(e){(0,o.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.adjusted=!1,n.state={orientation:n.props.orientation?n.props.orientation:"right",left:n.props.position.left,top:n.props.position.top,submenuShown:null},n}return(0,l.default)(t,e),(0,a.default)(t,[{key:"componentDidMount",value:function(){this.updateOrientation()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.adjusted=!1,this.setState({left:e.position.left,top:e.position.top})}},{key:"componentDidUpdate",value:function(){this.updateOrientation()}},{key:"handleItemMouseEnterWithRect",value:function(e,t){this.setState({submenuShown:t,submenuSourceBbox:e})}},{key:"handleItemMouseEnter",value:function(e,t){this.handleItemMouseEnterWithRect(e.currentTarget.getBoundingClientRect(),t)}},{key:"handleMouseLeave",value:function(){}},{key:"handleOtherMouseEnter",value:function(){this.setState({submenuShown:null})}},{key:"updateOrientation",value:function(){if(!this.adjusted){this.adjusted=!0,this.divDom=d.default.findDOMNode(this.div);var e=this.divDom.getBoundingClientRect(),t=this.props.parentBbox?this.props.parentBbox:{top:this.props.position.top,left:this.props.position.left,width:0,height:0},n=this.state.orientation,r=t.top;if(t.top+e.height>window.innerHeight&&(t.top-e.height>0?r=t.top-e.height+20:(r=t.top-e.height+20,r-=r+e.height-window.innerHeight)),"left"===this.state.orientation){var i=t.left-e.width;i<0&&(t.left+t.width+e.width>window.innerWidth?i=0:(i=t.left+t.width,n="right")),this.setState({left:i,top:r,orientation:n})}else{var o=t.left+t.width;t.left+t.width+e.width>window.innerWidth&&(t.left-e.width<0?(o=0,n="right"):(o=t.left-e.width,n="left")),this.setState({left:o,top:r,orientation:n})}}}},{key:"render",value:function(){var e=this,t=this.state.left?{left:this.state.left}:{right:this.state.right},n={top:this.state.top},i=(0,r.default)(t,n),o="context-menu";return this.props.theme===h.THEME_DARK&&(o+=" context-menu-dark"),f.default.createElement("div",{ref:function(t){e.div=t},style:i,className:"context-menu-item "+(0,u.default)(o,m)},this.props.children)}}]),t}(f.default.Component);v.propTypes={children:c.default.node,orientation:c.default.string,parentBbox:c.default.object,position:c.default.object,theme:c.default.symbol.isRequired},t.default=v},function(e,t,n){var r=n(114),i=n(731),o=n(732),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},function(e,t,n){var r=n(267),i=n(264);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},function(e,t,n){var r=n(752),i=n(755);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},function(e,t,n){var r=n(191),i=n(277);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var u=t[s],c=o?o(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),a?i(n,u,c):r(n,u,c)}return n}},function(e,t,n){var r=e.exports;[n(950),n(954),n(955),n(956),n(957),n(958)].forEach((function(e){Object.keys(e).forEach((function(t){r[t]=e[t].bind(r)}))}))},function(e,t,n){"use strict";var r=n(199),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=f;var o=n(147);o.inherits=n(57);var a=n(445),s=n(295);o.inherits(f,a);for(var l=i(s.prototype),u=0;u<l.length;u++){var c=l[u];f.prototype[c]||(f.prototype[c]=s.prototype[c])}function f(e){if(!(this instanceof f))return new f(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||r.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.adapter)return(0,o.default)(e.adapter),e.adapter;var t=(0,a.get)(),n=t.adapter;return(0,o.default)(n),n};var r,i=n(488),o=(r=i)&&r.__esModule?r:{default:r},a=n(305)},function(e,t,n){"use strict";n.r(t);var r={},i={};function o(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+"]"})).join(",")+"}")}function a(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function s(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function l(e){var t,n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":((t=e.getUTCFullYear())<0?"-"+s(-t,6):t>9999?"+"+s(t,6):s(t,4))+"-"+s(e.getUTCMonth()+1,2)+"-"+s(e.getUTCDate(),2)+(o?"T"+s(n,2)+":"+s(r,2)+":"+s(i,2)+"."+s(o,3)+"Z":i?"T"+s(n,2)+":"+s(r,2)+":"+s(i,2)+"Z":r||n?"T"+s(n,2)+":"+s(r,2)+"Z":"")}var u=function(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function s(e,t){var o,a=[],s=e.length,l=0,u=0,c=s<=0,f=!1;function d(){if(c)return i;if(f)return f=!1,r;var t,o,a=l;if(34===e.charCodeAt(a)){for(;l++<s&&34!==e.charCodeAt(l)||34===e.charCodeAt(++l););return(t=l)>=s?c=!0:10===(o=e.charCodeAt(l++))?f=!0:13===o&&(f=!0,10===e.charCodeAt(l)&&++l),e.slice(a+1,t-1).replace(/""/g,'"')}for(;l<s;){if(10===(o=e.charCodeAt(t=l++)))f=!0;else if(13===o)f=!0,10===e.charCodeAt(l)&&++l;else if(o!==n)continue;return e.slice(a,t)}return c=!0,e.slice(a,s)}for(10===e.charCodeAt(s-1)&&--s,13===e.charCodeAt(s-1)&&--s;(o=d())!==i;){for(var h=[];o!==r&&o!==i;)h.push(o),o=d();t&&null==(h=t(h,u++))||a.push(h)}return a}function u(t,n){return t.map((function(t){return n.map((function(e){return f(t[e])})).join(e)}))}function c(t){return t.map(f).join(e)}function f(e){return null==e?"":e instanceof Date?l(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,r,i=s(e,(function(e,i){if(n)return n(e,i-1);r=e,n=t?function(e,t){var n=o(e);return function(r,i){return t(n(r),i,e)}}(e,t):o(e)}));return i.columns=r||[],i},parseRows:s,format:function(t,n){return null==n&&(n=a(t)),[n.map(f).join(e)].concat(u(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=a(e)),u(e,t).join("\n")},formatRows:function(e){return e.map(c).join("\n")}}},c=u(","),f=c.parse,d=c.parseRows,h=c.format,p=c.formatBody,m=c.formatRows,v=u("\t"),g=v.parse,y=v.parseRows,b=v.format,_=v.formatBody,x=v.formatRows;function w(e){for(var t in e){var n,r=e[t].trim();if(r)if("true"===r)r=!0;else if("false"===r)r=!1;else if("NaN"===r)r=NaN;else if(isNaN(n=+r)){if(!/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/.test(r))continue;r=new Date(r)}else r=n;else r=null;e[t]=r}return e}n.d(t,"dsvFormat",(function(){return u})),n.d(t,"csvParse",(function(){return f})),n.d(t,"csvParseRows",(function(){return d})),n.d(t,"csvFormat",(function(){return h})),n.d(t,"csvFormatBody",(function(){return p})),n.d(t,"csvFormatRows",(function(){return m})),n.d(t,"tsvParse",(function(){return g})),n.d(t,"tsvParseRows",(function(){return y})),n.d(t,"tsvFormat",(function(){return b})),n.d(t,"tsvFormatBody",(function(){return _})),n.d(t,"tsvFormatRows",(function(){return x})),n.d(t,"autoType",(function(){return w}))},function(e,t,n){var r=n(14),i=n(23),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(76)?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(31),i=n(23).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){"use strict";var r=n(76),i=n(17),o=n(157),a=n(39),s=n(49),l=n(209),u=n(78),c=n(124),f=n(20)("iterator"),d=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,n,p,m,v,g){l(n,t,p);var y,b,_,x=function(e){if(!d&&e in S)return S[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},w=t+" Iterator",E="values"==m,T=!1,S=e.prototype,k=S[f]||S["@@iterator"]||m&&S[m],O=k||x(m),C=m?E?x("entries"):O:void 0,A="Array"==t&&S.entries||k;if(A&&(_=c(A.call(new e)))!==Object.prototype&&_.next&&(u(_,w,!0),r||"function"==typeof _[f]||a(_,f,h)),E&&k&&"values"!==k.name&&(T=!0,O=function(){return k.call(this)}),r&&!g||!d&&!T&&S[f]||a(S,f,O),s[t]=O,s[w]=h,m)if(y={values:E?O:x("values"),keys:v?O:x("keys"),entries:C},g)for(b in y)b in S||o(S,b,y[b]);else i(i.P+i.F*(d||T),t,y);return y}},function(e,t,n){var r=n(36),i=n(158),o=n(104),a=n(90)("IE_PROTO"),s=function(){},l=function(){var e,t=n(105)("iframe"),r=o.length;for(t.style.display="none",n(159).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;r--;)delete l.prototype[o[r]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=l(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(75),i=n(20)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){var r=n(108),i=n(20)("iterator"),o=n(49);e.exports=n(14).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){"use strict";(function(e){var r=n(513),i=n(514),o=n(316);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!l.TYPED_ARRAY_SUPPORT&&!(this instanceof l))return new l(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return u(this,e,t,n)}function u(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=d(e,t),e}(e,t,n,r):"string"===typeof t?function(e,t,n){if("string"===typeof n&&""!==n||(n="utf8"),!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=s(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(r=t.length)!==r?s(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(c(t),e=s(e,t<0?0:0|h(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(e).length;default:if(r)return B(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,n);case"utf8":case"utf-8":return k(this,t,n);case"ascii":return O(this,t,n);case"latin1":case"binary":return C(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"===typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var o,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var c=-1;for(o=n;o<s;o++)if(u(e,o)===u(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===l)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var f=!0,d=0;d<l;d++)if(u(e,o+d)!==u(t,d)){f=!1;break}if(f)return o}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function _(e,t,n,r){return H(B(t,e.length-n),e,n,r)}function x(e,t,n,r){return H(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function w(e,t,n,r){return x(e,t,n,r)}function E(e,t,n,r){return H(z(t),e,n,r)}function T(e,t,n,r){return H(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function k(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,l,u=e[i],c=null,f=u>239?4:u>223?3:u>191?2:1;if(i+f<=n)switch(f){case 1:u<128&&(c=u);break;case 2:128===(192&(o=e[i+1]))&&(l=(31&u)<<6|63&o)>127&&(c=l);break;case 3:o=e[i+1],a=e[i+2],128===(192&o)&&128===(192&a)&&(l=(15&u)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(c=l)}null===c?(c=65533,f=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=f}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function C(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function A(e,t,n){var r,i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var o="",a=t;a<n;++a)o+=(r=e[a])<16?"0"+r.toString(16):r.toString(16);return o}function M(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function P(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,n,r,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function D(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function N(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function R(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,o){return o||R(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function j(e,t,n,r,o){return o||R(e,0,n,8),i.write(e,t,n,r,52,8),n+8}t.Buffer=l,t.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return u(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,r){return c(t),t<=0?s(e,t):void 0!==n?"string"===typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return f(null,e)},l.allocUnsafeSlow=function(e){return f(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?k(this,0,e):m.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,r,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(r,i),c=e.slice(t,n),f=0;f<s;++f)if(u[f]!==c[f]){o=u[f],a=c[f];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return _(this,e,t,n);case"ascii":return x(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},l.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var i=t-e;n=new l(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUInt8=function(e,t){return t||P(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||P(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||P(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||P(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||P(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||P(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||P(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||P(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||P(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||I(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||I(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):N(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);I(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);I(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):N(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return j(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return j(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},l.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=l.isBuffer(e)?e:B(new l(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function B(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function H(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(26))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NUM_PRECOMP_SUBSETS_PER_1D_TTILE=8,t.NUM_PRECOMP_SUBSETS_PER_2D_TTILE=8},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(16)),i=v(n(32)),o=v(n(19)),a=v(n(5)),s=v(n(3)),l=v(n(4)),u=v(n(6)),c=v(n(13)),f=v(n(7)),d=n(18),h=n(28),p=v(n(135)),m=n(10);function v(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,l.default)(t,[{key:"stopHover",value:function(){this.pMouseOver.clear(),this.animate()}},{key:"getMouseOverHtml",value:function(e){if(!this.tilesetInfo||!this.options.showTooltip||!this.valueScale)return"";var t=this.getDataAtPos(e),n="";t&&(n=(0,d.format)(".3f")(t));var r=this.pMouseOver,i=this.valueScale(t);return r.clear(),r.beginFill(0,.5),r.lineStyle(1,0,1),r.drawRect(e-2,i-2,4,4),this.animate(),""+String(n)}},{key:"initTile",value:function(e){if((0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"initTile",this).call(this,e),e.tileData&&e.tileData.dense){if(e.xValues=new Array(e.tileData.dense.length),e.yValues=new Array(e.tileData.dense.length),this.isValueScaleLocked()){var n=this.getLockGroupExtrema();null!==n&&(this.minValue(n[0]),this.maxValue(n[1]))}this.drawTile(e)}else console.warn("emptyTile:",e)}},{key:"rerender",value:function(e,n){var r=this;(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"rerender",this).call(this,e,n),this.options=e,(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"draw",this).call(this),this.visibleAndFetchedTiles().forEach((function(e){r.renderTile(e)}))}},{key:"renderTile",value:function(e){this.drawTile(e),this.drawAxis(this.valueScale)}},{key:"drawTile",value:function(e){if((0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"drawTile",this).call(this,e),e.graphics&&e.tileData&&e.tileData.dense){var n=e.graphics,s=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos),l=s.tileX,u=s.tileWidth,f=e.tileData.dense;if(0!==f.length){var d=this.makeValueScale(this.minValue(),this.medianVisibleValue,this.maxValue()),p=(0,o.default)(d,2),v=p[0],g=p[1];if(this.valueScale=v,n.clear(),this.drawAxis(this.valueScale),"log"===this.options.valueScaling&&this.valueScale.domain()[1]<0)console.warn("Negative values present when using a log scale",this.valueScale.domain());else{var y=(0,m.colorToHex)(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue");this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension||console.warn("No tileset_info.tile_size or tileset_info.bins_per_dimension",this.tilesetInfo);var b=this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension,_=(0,h.scaleLinear)().domain([0,b]).range([l,l+u]),x=this.options.lineStrokeWidth?this.options.lineStrokeWidth:1;n.lineStyle(x,y,1),e.segments=[];for(var w=[],E=0;E<f.length;E++){var T=this._xScale(_(E)),S=this.valueScale(f[E]+g);if("log"===this.options.valueScaling&&0===f[E]||(0,i.default)(S))w.length>1&&e.segments.push(w),w=[];else{if(_(E)>this.tilesetInfo.max_pos[0])break;w.push([T,S])}}w.length>1&&e.segments.push(w);var k=!0,O=!1,C=void 0;try{for(var A,M=(0,r.default)(e.segments);!(k=(A=M.next()).done);k=!0){var P=A.value,I=P[0],D=P.slice(1);n.moveTo(I[0],I[1]);var N=!0,R=!1,L=void 0;try{for(var j,F=(0,r.default)(D);!(N=(j=F.next()).done);N=!0){var B=j.value;n.lineTo(B[0],B[1])}}catch(z){R=!0,L=z}finally{try{!N&&F.return&&F.return()}finally{if(R)throw L}}}}catch(z){O=!0,C=z}finally{try{!k&&M.return&&M.return()}finally{if(O)throw C}}}}}}},{key:"setPosition",value:function(e){(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0],this.pMouseOver.position.y=this.position[1],this.pMouseOver.position.x=this.position[0]}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.refreshTiles(),this.draw();var n=this.isValueScaleLocked();if(this.continuousScaling&&void 0!==this.minValue()&&void 0!==this.maxValue()){if(null===this.valueScaleMin&&null===this.valueScaleMax&&!n){var r=this.minVisibleValue(),i=this.maxVisibleValue();null!==r&&null!==i&&(Math.abs(this.minValue()-r)>1e-6||Math.abs(this.maxValue()-i)>1e-6)&&(this.minValue(r),this.maxValue(i),this.scheduleRerender())}n&&this.onValueScaleChanged()}}},{key:"superSVG",value:function(){return(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"exportSVG",this).call(this)}},{key:"exportSVG",value:function(){var e=null,n=null;if((0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"exportSVG",this)){var i=(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"exportSVG",this).call(this),s=(0,o.default)(i,2);n=s[0],e=s[1]}else e=n=document.createElement("g");n.setAttribute("class","exported-line-track");var l=document.createElement("g");e.appendChild(l),l.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")");var u=this.options.lineStrokeColor?this.options.lineStrokeColor:"blue";this.visibleAndFetchedTiles().forEach((function(e){var t=document.createElement("path");t.setAttribute("fill","transparent"),t.setAttribute("stroke",u);var n="",i=!0,o=!1,a=void 0;try{for(var s,c=(0,r.default)(e.segments);!(i=(s=c.next()).done);i=!0){var f=s.value,d=f[0],h=f.slice(1);n+="M"+String(d[0])+" "+String(d[1]);var p=!0,m=!1,v=void 0;try{for(var g,y=(0,r.default)(h);!(p=(g=y.next()).done);p=!0){var b=g.value;n+="L"+String(b[0])+" "+String(b[1])}}catch(_){m=!0,v=_}finally{try{!p&&y.return&&y.return()}finally{if(m)throw v}}}}catch(_){o=!0,a=_}finally{try{!i&&c.return&&c.return()}finally{if(o)throw a}}t.setAttribute("d",n),l.appendChild(t)}));var f=document.createElement("g");if(f.setAttribute("id","axis"),n.appendChild(f),f.setAttribute("transform","translate("+String(this.axis.pAxis.position.x)+", "+String(this.axis.pAxis.position.y)+")"),"left"===this.options.axisPositionHorizontal||"top"===this.options.axisPositionVertical){var d=this.axis.exportAxisLeftSVG(this.valueScale,this.dimensions[1]);f.appendChild(d)}else if("right"===this.options.axisPositionHorizontal||"bottom"===this.options.axisPositionVertical){var h=this.axis.exportAxisRightSVG(this.valueScale,this.dimensions[1]);f.appendChild(h)}return[n,e]}},{key:"tileToLocalId",value:function(e){return this.options.aggregationMode&&"mean"!==this.options.aggregationMode?String(e.join("."))+"."+String(this.options.aggregationMode):""+String(e.join("."))}},{key:"tileToRemoteId",value:function(e){return this.tileToLocalId(e)}}]),t}(p.default);t.default=g},function(e,t,n){"use strict";function r(e,t,n){var r=n?" !== ":" === ",i=n?" || ":" && ",o=n?"!":"",a=n?"":"!";switch(e){case"null":return t+r+"null";case"array":return o+"Array.isArray("+t+")";case"object":return"("+o+t+i+"typeof "+t+r+'"object"'+i+a+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+r+'"number"'+i+a+"("+t+" % 1)"+i+t+r+t+")";default:return"typeof "+t+r+'"'+e+'"'}}e.exports={copy:function(e,t){for(var n in t=t||{},e)t[n]=e[n];return t},checkDataType:r,checkDataTypes:function(e,t){switch(e.length){case 1:return r(e[0],t,!0);default:var n="",i=o(e);for(var a in i.array&&i.object&&(n=i.null?"(":"(!"+t+" || ",n+="typeof "+t+' !== "object")',delete i.null,delete i.array,delete i.object),i.number&&delete i.integer,i)n+=(n?" && ":"")+r(a,t,!0);return n}},coerceToTypes:function(e,t){if(Array.isArray(t)){for(var n=[],r=0;r<t.length;r++){var o=t[r];(i[o]||"array"===e&&"array"===o)&&(n[n.length]=o)}if(n.length)return n}else{if(i[t])return[t];if("array"===e&&"array"===t)return["array"]}},toHash:o,getProperty:l,escapeQuotes:u,equal:n(260),ucs2length:n(696),varOccurences:function(e,t){t+="[^0-9]";var n=e.match(new RegExp(t,"g"));return n?n.length:0},varReplace:function(e,t,n){return t+="([^0-9])",n=n.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),n+"$1")},cleanUpCode:function(e){return e.replace(c,"").replace(f,"").replace(d,"if (!($1))")},finalCleanUpCode:function(e,t){var n=e.match(h);return n&&2==n.length&&(e=t?e.replace(m,"").replace(v,"return data;"):e.replace(p,"").replace("return errors === 0;","validate.errors = null; return true;")),(n=e.match(g))&&3===n.length?e.replace(y,""):e},schemaHasRules:function(e,t){if("boolean"==typeof e)return!e;for(var n in e)if(t[n])return!0},schemaHasRulesExcept:function(e,t,n){if("boolean"==typeof e)return!e&&"not"!=n;for(var r in e)if(r!=n&&t[r])return!0},schemaUnknownRules:function(e,t){if("boolean"!=typeof e)for(var n in e)if(!t[n])return n},toQuotedString:b,getPathExpr:function(e,t,n,r){return w(e,n?"'/' + "+t+(r?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):r?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'")},getPath:function(e,t,n){var r=b(n?"/"+E(t):l(t));return w(e,r)},getData:function(e,t,n){var r,i,o,a;if(""===e)return"rootData";if("/"==e[0]){if(!_.test(e))throw new Error("Invalid JSON-pointer: "+e);i=e,o="rootData"}else{if(!(a=e.match(x)))throw new Error("Invalid JSON-pointer: "+e);if(r=+a[1],"#"==(i=a[2])){if(r>=t)throw new Error("Cannot access property/index "+r+" levels up, current level is "+t);return n[t-r]}if(r>t)throw new Error("Cannot access data "+r+" levels up, current level is "+t);if(o="data"+(t-r||""),!i)return o}for(var s=o,u=i.split("/"),c=0;c<u.length;c++){var f=u[c];f&&(o+=l(T(f)),s+=" && "+o)}return s},unescapeFragment:function(e){return T(decodeURIComponent(e))},unescapeJsonPointer:T,escapeFragment:function(e){return encodeURIComponent(E(e))},escapeJsonPointer:E};var i=o(["string","number","integer","boolean","null"]);function o(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return t}var a=/^[a-z$_][a-z$_0-9]*$/i,s=/'|\\/g;function l(e){return"number"==typeof e?"["+e+"]":a.test(e)?"."+e:"['"+u(e)+"']"}function u(e){return e.replace(s,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}var c=/else\s*{\s*}/g,f=/if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g,d=/if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g,h=/[^v.]errors/g,p=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,m=/var errors = 0;|var vErrors = null;/g,v=/if \(errors === 0\) return data;\s*else throw new ValidationError\(vErrors\);/,g=/[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g,y=/if \(rootData === undefined\) rootData = data;/;function b(e){return"'"+u(e)+"'"}var _=/^\/(?:[^~]|~0|~1)*$/,x=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function w(e,t){return'""'==e?t:(e+" + "+t).replace(/' \+ '/g,"")}function E(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function T(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}},function(e,t,n){var r=n(37).Symbol;e.exports=r},function(e,t,n){var r=n(389),i=n(738),o=n(96);e.exports=function(e){return o(e)?r(e):i(e)}},function(e,t){e.exports=function(e,t){return e===t||e!==e&&t!==t}},function(e,t,n){var r=n(389),i=n(800),o=n(96);e.exports=function(e){return o(e)?r(e,!0):i(e)}},function(e,t,n){"use strict";var r=n(52),i=n(428),o=n(430),a=n(946),s=o();r(s,{getPolyfill:o,implementation:i,shim:a}),e.exports=s},function(e,t){e.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",Doctype:"doctype",isTag:function(e){return"tag"===e.type||"script"===e.type||"style"===e.type}}},function(e,t,n){"use strict";var r=n(964),i=n(145),o=n(965),a=i.CODE_POINTS,s=i.CODE_POINT_SEQUENCES,l={0:65533,13:13,128:8364,129:129,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,141:141,142:381,143:143,144:144,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,157:157,158:382,159:376},u="DATA_STATE";function c(e){return e===a.SPACE||e===a.LINE_FEED||e===a.TABULATION||e===a.FORM_FEED}function f(e){return e>=a.DIGIT_0&&e<=a.DIGIT_9}function d(e){return e>=a.LATIN_CAPITAL_A&&e<=a.LATIN_CAPITAL_Z}function h(e){return e>=a.LATIN_SMALL_A&&e<=a.LATIN_SMALL_Z}function p(e){return h(e)||d(e)}function m(e,t){return f(e)||t&&(e>=a.LATIN_CAPITAL_A&&e<=a.LATIN_CAPITAL_F||e>=a.LATIN_SMALL_A&&e<=a.LATIN_SMALL_F)}function v(e){return e+32}function g(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(e>>>10&1023|55296)+String.fromCharCode(56320|1023&e))}function y(e){return String.fromCharCode(v(e))}function b(e,t){for(var n=o[++e],r=++e,i=r+n-1;r<=i;){var a=r+i>>>1,s=o[a];if(s<t)r=a+1;else{if(!(s>t))return o[a+n];i=a-1}}return-1}var _=e.exports=function(){this.preprocessor=new r,this.tokenQueue=[],this.allowCDATA=!1,this.state=u,this.returnState="",this.tempBuff=[],this.additionalAllowedCp=void 0,this.lastStartTagName="",this.consumedAfterSnapshot=-1,this.active=!1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr=null};_.CHARACTER_TOKEN="CHARACTER_TOKEN",_.NULL_CHARACTER_TOKEN="NULL_CHARACTER_TOKEN",_.WHITESPACE_CHARACTER_TOKEN="WHITESPACE_CHARACTER_TOKEN",_.START_TAG_TOKEN="START_TAG_TOKEN",_.END_TAG_TOKEN="END_TAG_TOKEN",_.COMMENT_TOKEN="COMMENT_TOKEN",_.DOCTYPE_TOKEN="DOCTYPE_TOKEN",_.EOF_TOKEN="EOF_TOKEN",_.HIBERNATION_TOKEN="HIBERNATION_TOKEN",_.MODE={DATA:u,RCDATA:"RCDATA_STATE",RAWTEXT:"RAWTEXT_STATE",SCRIPT_DATA:"SCRIPT_DATA_STATE",PLAINTEXT:"PLAINTEXT_STATE"},_.getTokenAttr=function(e,t){for(var n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null},_.prototype.getNextToken=function(){for(;!this.tokenQueue.length&&this.active;){this._hibernationSnapshot();var e=this._consume();this._ensureHibernation()||this[this.state](e)}return this.tokenQueue.shift()},_.prototype.write=function(e,t){this.active=!0,this.preprocessor.write(e,t)},_.prototype.insertHtmlAtCurrentPos=function(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e)},_.prototype._hibernationSnapshot=function(){this.consumedAfterSnapshot=0},_.prototype._ensureHibernation=function(){if(this.preprocessor.endOfChunkHit){for(;this.consumedAfterSnapshot>0;this.consumedAfterSnapshot--)this.preprocessor.retreat();return this.active=!1,this.tokenQueue.push({type:_.HIBERNATION_TOKEN}),!0}return!1},_.prototype._consume=function(){return this.consumedAfterSnapshot++,this.preprocessor.advance()},_.prototype._unconsume=function(){this.consumedAfterSnapshot--,this.preprocessor.retreat()},_.prototype._unconsumeSeveral=function(e){for(;e--;)this._unconsume()},_.prototype._reconsumeInState=function(e){this.state=e,this._unconsume()},_.prototype._consumeSubsequentIfMatch=function(e,t,n){for(var r=0,i=!0,o=e.length,s=0,l=t,u=void 0;s<o;s++){if(s>0&&(l=this._consume(),r++),l===a.EOF){i=!1;break}if(l!==(u=e[s])&&(n||l!==v(u))){i=!1;break}}return i||this._unconsumeSeveral(r),i},_.prototype._lookahead=function(){var e=this._consume();return this._unconsume(),e},_.prototype.isTempBufferEqualToScriptString=function(){if(this.tempBuff.length!==s.SCRIPT_STRING.length)return!1;for(var e=0;e<this.tempBuff.length;e++)if(this.tempBuff[e]!==s.SCRIPT_STRING[e])return!1;return!0},_.prototype._createStartTagToken=function(){this.currentToken={type:_.START_TAG_TOKEN,tagName:"",selfClosing:!1,attrs:[]}},_.prototype._createEndTagToken=function(){this.currentToken={type:_.END_TAG_TOKEN,tagName:"",attrs:[]}},_.prototype._createCommentToken=function(){this.currentToken={type:_.COMMENT_TOKEN,data:""}},_.prototype._createDoctypeToken=function(e){this.currentToken={type:_.DOCTYPE_TOKEN,name:e,forceQuirks:!1,publicId:null,systemId:null}},_.prototype._createCharacterToken=function(e,t){this.currentCharacterToken={type:e,chars:t}},_.prototype._createAttr=function(e){this.currentAttr={name:e,value:""}},_.prototype._isDuplicateAttr=function(){return null!==_.getTokenAttr(this.currentToken,this.currentAttr.name)},_.prototype._leaveAttrName=function(e){this.state=e,this._isDuplicateAttr()||this.currentToken.attrs.push(this.currentAttr)},_.prototype._leaveAttrValue=function(e){this.state=e},_.prototype._isAppropriateEndTagToken=function(){return this.lastStartTagName===this.currentToken.tagName},_.prototype._emitCurrentToken=function(){this._emitCurrentCharacterToken(),this.currentToken.type===_.START_TAG_TOKEN&&(this.lastStartTagName=this.currentToken.tagName),this.tokenQueue.push(this.currentToken),this.currentToken=null},_.prototype._emitCurrentCharacterToken=function(){this.currentCharacterToken&&(this.tokenQueue.push(this.currentCharacterToken),this.currentCharacterToken=null)},_.prototype._emitEOFToken=function(){this._emitCurrentCharacterToken(),this.tokenQueue.push({type:_.EOF_TOKEN})},_.prototype._appendCharToCurrentCharacterToken=function(e,t){this.currentCharacterToken&&this.currentCharacterToken.type!==e&&this._emitCurrentCharacterToken(),this.currentCharacterToken?this.currentCharacterToken.chars+=t:this._createCharacterToken(e,t)},_.prototype._emitCodePoint=function(e){var t=_.CHARACTER_TOKEN;c(e)?t=_.WHITESPACE_CHARACTER_TOKEN:e===a.NULL&&(t=_.NULL_CHARACTER_TOKEN),this._appendCharToCurrentCharacterToken(t,g(e))},_.prototype._emitSeveralCodePoints=function(e){for(var t=0;t<e.length;t++)this._emitCodePoint(e[t])},_.prototype._emitChar=function(e){this._appendCharToCurrentCharacterToken(_.CHARACTER_TOKEN,e)},_.prototype._consumeNumericEntity=function(e){var t="",n=void 0;do{t+=g(this._consume()),n=this._lookahead()}while(n!==a.EOF&&m(n,e));this._lookahead()===a.SEMICOLON&&this._consume();var r,i=parseInt(t,e?16:10),o=l[i];return o||((r=i)>=55296&&r<=57343||r>1114111?a.REPLACEMENT_CHARACTER:i)},_.prototype._consumeNamedEntity=function(e){for(var t=null,n=0,r=null,i=0,s=!1,l=0;l>-1;){var u=o[l],c=u<7;if(c&&1&u&&(t=2&u?[o[++l],o[++l]]:[o[++l]],n=i,r===a.SEMICOLON)){s=!0;break}if(i++,(r=this._consume())===a.EOF)break;l=c?4&u?b(l,r):-1:r===u?++l:-1}if(t){if(!s&&(this._unconsumeSeveral(i-n),e)){var d=this._lookahead();if(d===a.EQUALS_SIGN||function(e){return p(e)||f(e)}(d))return this._unconsumeSeveral(n),null}return t}return this._unconsumeSeveral(i),null},_.prototype._consumeCharacterReference=function(e,t){if(c(e)||e===a.GREATER_THAN_SIGN||e===a.AMPERSAND||e===this.additionalAllowedCp||e===a.EOF)return this._unconsume(),null;if(e===a.NUMBER_SIGN){var n=!1,r=this._lookahead();return r!==a.LATIN_SMALL_X&&r!==a.LATIN_CAPITAL_X||(this._consume(),n=!0),(r=this._lookahead())!==a.EOF&&m(r,n)?[this._consumeNumericEntity(n)]:(this._unconsumeSeveral(n?2:1),null)}return this._unconsume(),this._consumeNamedEntity(t)};var x=_.prototype;x[u]=function(e){this.preprocessor.dropParsedChunk(),e===a.AMPERSAND?this.state="CHARACTER_REFERENCE_IN_DATA_STATE":e===a.LESS_THAN_SIGN?this.state="TAG_OPEN_STATE":e===a.NULL?this._emitCodePoint(e):e===a.EOF?this._emitEOFToken():this._emitCodePoint(e)},x.CHARACTER_REFERENCE_IN_DATA_STATE=function(e){this.additionalAllowedCp=void 0;var t=this._consumeCharacterReference(e,!1);this._ensureHibernation()||(t?this._emitSeveralCodePoints(t):this._emitChar("&"),this.state=u)},x.RCDATA_STATE=function(e){this.preprocessor.dropParsedChunk(),e===a.AMPERSAND?this.state="CHARACTER_REFERENCE_IN_RCDATA_STATE":e===a.LESS_THAN_SIGN?this.state="RCDATA_LESS_THAN_SIGN_STATE":e===a.NULL?this._emitChar(i.REPLACEMENT_CHARACTER):e===a.EOF?this._emitEOFToken():this._emitCodePoint(e)},x.CHARACTER_REFERENCE_IN_RCDATA_STATE=function(e){this.additionalAllowedCp=void 0;var t=this._consumeCharacterReference(e,!1);this._ensureHibernation()||(t?this._emitSeveralCodePoints(t):this._emitChar("&"),this.state="RCDATA_STATE")},x.RAWTEXT_STATE=function(e){this.preprocessor.dropParsedChunk(),e===a.LESS_THAN_SIGN?this.state="RAWTEXT_LESS_THAN_SIGN_STATE":e===a.NULL?this._emitChar(i.REPLACEMENT_CHARACTER):e===a.EOF?this._emitEOFToken():this._emitCodePoint(e)},x.SCRIPT_DATA_STATE=function(e){this.preprocessor.dropParsedChunk(),e===a.LESS_THAN_SIGN?this.state="SCRIPT_DATA_LESS_THAN_SIGN_STATE":e===a.NULL?this._emitChar(i.REPLACEMENT_CHARACTER):e===a.EOF?this._emitEOFToken():this._emitCodePoint(e)},x.PLAINTEXT_STATE=function(e){this.preprocessor.dropParsedChunk(),e===a.NULL?this._emitChar(i.REPLACEMENT_CHARACTER):e===a.EOF?this._emitEOFToken():this._emitCodePoint(e)},x.TAG_OPEN_STATE=function(e){e===a.EXCLAMATION_MARK?this.state="MARKUP_DECLARATION_OPEN_STATE":e===a.SOLIDUS?this.state="END_TAG_OPEN_STATE":p(e)?(this._createStartTagToken(),this._reconsumeInState("TAG_NAME_STATE")):e===a.QUESTION_MARK?this._reconsumeInState("BOGUS_COMMENT_STATE"):(this._emitChar("<"),this._reconsumeInState(u))},x.END_TAG_OPEN_STATE=function(e){p(e)?(this._createEndTagToken(),this._reconsumeInState("TAG_NAME_STATE")):e===a.GREATER_THAN_SIGN?this.state=u:e===a.EOF?(this._reconsumeInState(u),this._emitChar("<"),this._emitChar("/")):this._reconsumeInState("BOGUS_COMMENT_STATE")},x.TAG_NAME_STATE=function(e){c(e)?this.state="BEFORE_ATTRIBUTE_NAME_STATE":e===a.SOLIDUS?this.state="SELF_CLOSING_START_TAG_STATE":e===a.GREATER_THAN_SIGN?(this.state=u,this._emitCurrentToken()):d(e)?this.currentToken.tagName+=y(e):e===a.NULL?this.currentToken.tagName+=i.REPLACEMENT_CHARACTER:e===a.EOF?this._reconsumeInState(u):this.currentToken.tagName+=g(e)},x.RCDATA_LESS_THAN_SIGN_STATE=function(e){e===a.SOLIDUS?(this.tempBuff=[],this.state="RCDATA_END_TAG_OPEN_STATE"):(this._emitChar("<"),this._reconsumeInState("RCDATA_STATE"))},x.RCDATA_END_TAG_OPEN_STATE=function(e){p(e)?(this._createEndTagToken(),this._reconsumeInState("RCDATA_END_TAG_NAME_STATE")):(this._emitChar("<"),this._emitChar("/"),this._reconsumeInState("RCDATA_STATE"))},x.RCDATA_END_TAG_NAME_STATE=function(e){if(d(e))this.currentToken.tagName+=y(e),this.tempBuff.push(e);else if(h(e))this.currentToken.tagName+=g(e),this.tempBuff.push(e);else{if(this._isAppropriateEndTagToken()){if(c(e))return void(this.state="BEFORE_ATTRIBUTE_NAME_STATE");if(e===a.SOLIDUS)return void(this.state="SELF_CLOSING_START_TAG_STATE");if(e===a.GREATER_THAN_SIGN)return this.state=u,void this._emitCurrentToken()}this._emitChar("<"),this._emitChar("/"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState("RCDATA_STATE")}},x.RAWTEXT_LESS_THAN_SIGN_STATE=function(e){e===a.SOLIDUS?(this.tempBuff=[],this.state="RAWTEXT_END_TAG_OPEN_STATE"):(this._emitChar("<"),this._reconsumeInState("RAWTEXT_STATE"))},x.RAWTEXT_END_TAG_OPEN_STATE=function(e){p(e)?(this._createEndTagToken(),this._reconsumeInState("RAWTEXT_END_TAG_NAME_STATE")):(this._emitChar("<"),this._emitChar("/"),this._reconsumeInState("RAWTEXT_STATE"))},x.RAWTEXT_END_TAG_NAME_STATE=function(e){if(d(e))this.currentToken.tagName+=y(e),this.tempBuff.push(e);else if(h(e))this.currentToken.tagName+=g(e),this.tempBuff.push(e);else{if(this._isAppropriateEndTagToken()){if(c(e))return void(this.state="BEFORE_ATTRIBUTE_NAME_STATE");if(e===a.SOLIDUS)return void(this.state="SELF_CLOSING_START_TAG_STATE");if(e===a.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=u)}this._emitChar("<"),this._emitChar("/"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState("RAWTEXT_STATE")}},x.SCRIPT_DATA_LESS_THAN_SIGN_STATE=function(e){e===a.SOLIDUS?(this.tempBuff=[],this.state="SCRIPT_DATA_END_TAG_OPEN_STATE"):e===a.EXCLAMATION_MARK?(this.state="SCRIPT_DATA_ESCAPE_START_STATE",this._emitChar("<"),this._emitChar("!")):(this._emitChar("<"),this._reconsumeInState("SCRIPT_DATA_STATE"))},x.SCRIPT_DATA_END_TAG_OPEN_STATE=function(e){p(e)?(this._createEndTagToken(),this._reconsumeInState("SCRIPT_DATA_END_TAG_NAME_STATE")):(this._emitChar("<"),this._emitChar("/"),this._reconsumeInState("SCRIPT_DATA_STATE"))},x.SCRIPT_DATA_END_TAG_NAME_STATE=function(e){if(d(e))this.currentToken.tagName+=y(e),this.tempBuff.push(e);else if(h(e))this.currentToken.tagName+=g(e),this.tempBuff.push(e);else{if(this._isAppropriateEndTagToken()){if(c(e))return void(this.state="BEFORE_ATTRIBUTE_NAME_STATE");if(e===a.SOLIDUS)return void(this.state="SELF_CLOSING_START_TAG_STATE");if(e===a.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=u)}this._emitChar("<"),this._emitChar("/"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState("SCRIPT_DATA_STATE")}},x.SCRIPT_DATA_ESCAPE_START_STATE=function(e){e===a.HYPHEN_MINUS?(this.state="SCRIPT_DATA_ESCAPE_START_DASH_STATE",this._emitChar("-")):this._reconsumeInState("SCRIPT_DATA_STATE")},x.SCRIPT_DATA_ESCAPE_START_DASH_STATE=function(e){e===a.HYPHEN_MINUS?(this.state="SCRIPT_DATA_ESCAPED_DASH_DASH_STATE",this._emitChar("-")):this._reconsumeInState("SCRIPT_DATA_STATE")},x.SCRIPT_DATA_ESCAPED_STATE=function(e){e===a.HYPHEN_MINUS?(this.state="SCRIPT_DATA_ESCAPED_DASH_STATE",this._emitChar("-")):e===a.LESS_THAN_SIGN?this.state="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE":e===a.NULL?this._emitChar(i.REPLACEMENT_CHARACTER):e===a.EOF?this._reconsumeInState(u):this._emitCodePoint(e)},x.SCRIPT_DATA_ESCAPED_DASH_STATE=function(e){e===a.HYPHEN_MINUS?(this.state="SCRIPT_DATA_ESCAPED_DASH_DASH_STATE",this._emitChar("-")):e===a.LESS_THAN_SIGN?this.state="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE":e===a.NULL?(this.state="SCRIPT_DATA_ESCAPED_STATE",this._emitChar(i.REPLACEMENT_CHARACTER)):e===a.EOF?this._reconsumeInState(u):(this.state="SCRIPT_DATA_ESCAPED_STATE",this._emitCodePoint(e))},x.SCRIPT_DATA_ESCAPED_DASH_DASH_STATE=function(e){e===a.HYPHEN_MINUS?this._emitChar("-"):e===a.LESS_THAN_SIGN?this.state="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE":e===a.GREATER_THAN_SIGN?(this.state="SCRIPT_DATA_STATE",this._emitChar(">")):e===a.NULL?(this.state="SCRIPT_DATA_ESCAPED_STATE",this._emitChar(i.REPLACEMENT_CHARACTER)):e===a.EOF?this._reconsumeInState(u):(this.state="SCRIPT_DATA_ESCAPED_STATE",this._emitCodePoint(e))},x.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE=function(e){e===a.SOLIDUS?(this.tempBuff=[],this.state="SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE"):p(e)?(this.tempBuff=[],this._emitChar("<"),this._reconsumeInState("SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE")):(this._emitChar("<"),this._reconsumeInState("SCRIPT_DATA_ESCAPED_STATE"))},x.SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE=function(e){p(e)?(this._createEndTagToken(),this._reconsumeInState("SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE")):(this._emitChar("<"),this._emitChar("/"),this._reconsumeInState("SCRIPT_DATA_ESCAPED_STATE"))},x.SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE=function(e){if(d(e))this.currentToken.tagName+=y(e),this.tempBuff.push(e);else if(h(e))this.currentToken.tagName+=g(e),this.tempBuff.push(e);else{if(this._isAppropriateEndTagToken()){if(c(e))return void(this.state="BEFORE_ATTRIBUTE_NAME_STATE");if(e===a.SOLIDUS)return void(this.state="SELF_CLOSING_START_TAG_STATE");if(e===a.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=u)}this._emitChar("<"),this._emitChar("/"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState("SCRIPT_DATA_ESCAPED_STATE")}},x.SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE=function(e){c(e)||e===a.SOLIDUS||e===a.GREATER_THAN_SIGN?(this.state=this.isTempBufferEqualToScriptString()?"SCRIPT_DATA_DOUBLE_ESCAPED_STATE":"SCRIPT_DATA_ESCAPED_STATE",this._emitCodePoint(e)):d(e)?(this.tempBuff.push(v(e)),this._emitCodePoint(e)):h(e)?(this.tempBuff.push(e),this._emitCodePoint(e)):this._reconsumeInState("SCRIPT_DATA_ESCAPED_STATE")},x.SCRIPT_DATA_DOUBLE_ESCAPED_STATE=function(e){e===a.HYPHEN_MINUS?(this.state="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE",this._emitChar("-")):e===a.LESS_THAN_SIGN?(this.state="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE",this._emitChar("<")):e===a.NULL?this._emitChar(i.REPLACEMENT_CHARACTER):e===a.EOF?this._reconsumeInState(u):this._emitCodePoint(e)},x.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE=function(e){e===a.HYPHEN_MINUS?(this.state="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE",this._emitChar("-")):e===a.LESS_THAN_SIGN?(this.state="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE",this._emitChar("<")):e===a.NULL?(this.state="SCRIPT_DATA_DOUBLE_ESCAPED_STATE",this._emitChar(i.REPLACEMENT_CHARACTER)):e===a.EOF?this._reconsumeInState(u):(this.state="SCRIPT_DATA_DOUBLE_ESCAPED_STATE",this._emitCodePoint(e))},x.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE=function(e){e===a.HYPHEN_MINUS?this._emitChar("-"):e===a.LESS_THAN_SIGN?(this.state="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE",this._emitChar("<")):e===a.GREATER_THAN_SIGN?(this.state="SCRIPT_DATA_STATE",this._emitChar(">")):e===a.NULL?(this.state="SCRIPT_DATA_DOUBLE_ESCAPED_STATE",this._emitChar(i.REPLACEMENT_CHARACTER)):e===a.EOF?this._reconsumeInState(u):(this.state="SCRIPT_DATA_DOUBLE_ESCAPED_STATE",this._emitCodePoint(e))},x.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE=function(e){e===a.SOLIDUS?(this.tempBuff=[],this.state="SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE",this._emitChar("/")):this._reconsumeInState("SCRIPT_DATA_DOUBLE_ESCAPED_STATE")},x.SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE=function(e){c(e)||e===a.SOLIDUS||e===a.GREATER_THAN_SIGN?(this.state=this.isTempBufferEqualToScriptString()?"SCRIPT_DATA_ESCAPED_STATE":"SCRIPT_DATA_DOUBLE_ESCAPED_STATE",this._emitCodePoint(e)):d(e)?(this.tempBuff.push(v(e)),this._emitCodePoint(e)):h(e)?(this.tempBuff.push(e),this._emitCodePoint(e)):this._reconsumeInState("SCRIPT_DATA_DOUBLE_ESCAPED_STATE")},x.BEFORE_ATTRIBUTE_NAME_STATE=function(e){c(e)||(e===a.SOLIDUS||e===a.GREATER_THAN_SIGN||e===a.EOF?this._reconsumeInState("AFTER_ATTRIBUTE_NAME_STATE"):e===a.EQUALS_SIGN?(this._createAttr("="),this.state="ATTRIBUTE_NAME_STATE"):(this._createAttr(""),this._reconsumeInState("ATTRIBUTE_NAME_STATE")))},x.ATTRIBUTE_NAME_STATE=function(e){c(e)||e===a.SOLIDUS||e===a.GREATER_THAN_SIGN||e===a.EOF?(this._leaveAttrName("AFTER_ATTRIBUTE_NAME_STATE"),this._unconsume()):e===a.EQUALS_SIGN?this._leaveAttrName("BEFORE_ATTRIBUTE_VALUE_STATE"):d(e)?this.currentAttr.name+=y(e):e===a.QUOTATION_MARK||e===a.APOSTROPHE||e===a.LESS_THAN_SIGN?this.currentAttr.name+=g(e):e===a.NULL?this.currentAttr.name+=i.REPLACEMENT_CHARACTER:this.currentAttr.name+=g(e)},x.AFTER_ATTRIBUTE_NAME_STATE=function(e){c(e)||(e===a.SOLIDUS?this.state="SELF_CLOSING_START_TAG_STATE":e===a.EQUALS_SIGN?this.state="BEFORE_ATTRIBUTE_VALUE_STATE":e===a.GREATER_THAN_SIGN?(this.state=u,this._emitCurrentToken()):e===a.EOF?this._reconsumeInState(u):(this._createAttr(""),this._reconsumeInState("ATTRIBUTE_NAME_STATE")))},x.BEFORE_ATTRIBUTE_VALUE_STATE=function(e){c(e)||(e===a.QUOTATION_MARK?this.state="ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE":e===a.APOSTROPHE?this.state="ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE":this._reconsumeInState("ATTRIBUTE_VALUE_UNQUOTED_STATE"))},x.ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE=function(e){e===a.QUOTATION_MARK?this.state="AFTER_ATTRIBUTE_VALUE_QUOTED_STATE":e===a.AMPERSAND?(this.additionalAllowedCp=a.QUOTATION_MARK,this.returnState=this.state,this.state="CHARACTER_REFERENCE_IN_ATTRIBUTE_VALUE_STATE"):e===a.NULL?this.currentAttr.value+=i.REPLACEMENT_CHARACTER:e===a.EOF?this._reconsumeInState(u):this.currentAttr.value+=g(e)},x.ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE=function(e){e===a.APOSTROPHE?this.state="AFTER_ATTRIBUTE_VALUE_QUOTED_STATE":e===a.AMPERSAND?(this.additionalAllowedCp=a.APOSTROPHE,this.returnState=this.state,this.state="CHARACTER_REFERENCE_IN_ATTRIBUTE_VALUE_STATE"):e===a.NULL?this.currentAttr.value+=i.REPLACEMENT_CHARACTER:e===a.EOF?this._reconsumeInState(u):this.currentAttr.value+=g(e)},x.ATTRIBUTE_VALUE_UNQUOTED_STATE=function(e){c(e)?this._leaveAttrValue("BEFORE_ATTRIBUTE_NAME_STATE"):e===a.AMPERSAND?(this.additionalAllowedCp=a.GREATER_THAN_SIGN,this.returnState=this.state,this.state="CHARACTER_REFERENCE_IN_ATTRIBUTE_VALUE_STATE"):e===a.GREATER_THAN_SIGN?(this._leaveAttrValue(u),this._emitCurrentToken()):e===a.NULL?this.currentAttr.value+=i.REPLACEMENT_CHARACTER:e===a.QUOTATION_MARK||e===a.APOSTROPHE||e===a.LESS_THAN_SIGN||e===a.EQUALS_SIGN||e===a.GRAVE_ACCENT?this.currentAttr.value+=g(e):e===a.EOF?this._reconsumeInState(u):this.currentAttr.value+=g(e)},x.CHARACTER_REFERENCE_IN_ATTRIBUTE_VALUE_STATE=function(e){var t=this._consumeCharacterReference(e,!0);if(!this._ensureHibernation()){if(t)for(var n=0;n<t.length;n++)this.currentAttr.value+=g(t[n]);else this.currentAttr.value+="&";this.state=this.returnState}},x.AFTER_ATTRIBUTE_VALUE_QUOTED_STATE=function(e){c(e)?this._leaveAttrValue("BEFORE_ATTRIBUTE_NAME_STATE"):e===a.SOLIDUS?this._leaveAttrValue("SELF_CLOSING_START_TAG_STATE"):e===a.GREATER_THAN_SIGN?(this._leaveAttrValue(u),this._emitCurrentToken()):e===a.EOF?this._reconsumeInState(u):this._reconsumeInState("BEFORE_ATTRIBUTE_NAME_STATE")},x.SELF_CLOSING_START_TAG_STATE=function(e){e===a.GREATER_THAN_SIGN?(this.currentToken.selfClosing=!0,this.state=u,this._emitCurrentToken()):e===a.EOF?this._reconsumeInState(u):this._reconsumeInState("BEFORE_ATTRIBUTE_NAME_STATE")},x.BOGUS_COMMENT_STATE=function(){this._createCommentToken(),this._reconsumeInState("BOGUS_COMMENT_STATE_CONTINUATION")},x.BOGUS_COMMENT_STATE_CONTINUATION=function(e){for(;;){if(e===a.GREATER_THAN_SIGN){this.state=u;break}if(e===a.EOF){this._reconsumeInState(u);break}if(this.currentToken.data+=e===a.NULL?i.REPLACEMENT_CHARACTER:g(e),this._hibernationSnapshot(),e=this._consume(),this._ensureHibernation())return}this._emitCurrentToken()},x.MARKUP_DECLARATION_OPEN_STATE=function(e){var t=this._consumeSubsequentIfMatch(s.DASH_DASH_STRING,e,!0),n=!t&&this._consumeSubsequentIfMatch(s.DOCTYPE_STRING,e,!1),r=!t&&!n&&this.allowCDATA&&this._consumeSubsequentIfMatch(s.CDATA_START_STRING,e,!0);this._ensureHibernation()||(t?(this._createCommentToken(),this.state="COMMENT_START_STATE"):n?this.state="DOCTYPE_STATE":r?this.state="CDATA_SECTION_STATE":this._reconsumeInState("BOGUS_COMMENT_STATE"))},x.COMMENT_START_STATE=function(e){e===a.HYPHEN_MINUS?this.state="COMMENT_START_DASH_STATE":e===a.NULL?(this.currentToken.data+=i.REPLACEMENT_CHARACTER,this.state="COMMENT_STATE"):e===a.GREATER_THAN_SIGN?(this.state=u,this._emitCurrentToken()):e===a.EOF?(this._emitCurrentToken(),this._reconsumeInState(u)):(this.currentToken.data+=g(e),this.state="COMMENT_STATE")},x.COMMENT_START_DASH_STATE=function(e){e===a.HYPHEN_MINUS?this.state="COMMENT_END_STATE":e===a.NULL?(this.currentToken.data+="-",this.currentToken.data+=i.REPLACEMENT_CHARACTER,this.state="COMMENT_STATE"):e===a.GREATER_THAN_SIGN?(this.state=u,this._emitCurrentToken()):e===a.EOF?(this._emitCurrentToken(),this._reconsumeInState(u)):(this.currentToken.data+="-",this.currentToken.data+=g(e),this.state="COMMENT_STATE")},x.COMMENT_STATE=function(e){e===a.HYPHEN_MINUS?this.state="COMMENT_END_DASH_STATE":e===a.NULL?this.currentToken.data+=i.REPLACEMENT_CHARACTER:e===a.EOF?(this._emitCurrentToken(),this._reconsumeInState(u)):this.currentToken.data+=g(e)},x.COMMENT_END_DASH_STATE=function(e){e===a.HYPHEN_MINUS?this.state="COMMENT_END_STATE":e===a.NULL?(this.currentToken.data+="-",this.currentToken.data+=i.REPLACEMENT_CHARACTER,this.state="COMMENT_STATE"):e===a.EOF?(this._emitCurrentToken(),this._reconsumeInState(u)):(this.currentToken.data+="-",this.currentToken.data+=g(e),this.state="COMMENT_STATE")},x.COMMENT_END_STATE=function(e){e===a.GREATER_THAN_SIGN?(this.state=u,this._emitCurrentToken()):e===a.EXCLAMATION_MARK?this.state="COMMENT_END_BANG_STATE":e===a.HYPHEN_MINUS?this.currentToken.data+="-":e===a.NULL?(this.currentToken.data+="--",this.currentToken.data+=i.REPLACEMENT_CHARACTER,this.state="COMMENT_STATE"):e===a.EOF?(this._reconsumeInState(u),this._emitCurrentToken()):(this.currentToken.data+="--",this.currentToken.data+=g(e),this.state="COMMENT_STATE")},x.COMMENT_END_BANG_STATE=function(e){e===a.HYPHEN_MINUS?(this.currentToken.data+="--!",this.state="COMMENT_END_DASH_STATE"):e===a.GREATER_THAN_SIGN?(this.state=u,this._emitCurrentToken()):e===a.NULL?(this.currentToken.data+="--!",this.currentToken.data+=i.REPLACEMENT_CHARACTER,this.state="COMMENT_STATE"):e===a.EOF?(this._emitCurrentToken(),this._reconsumeInState(u)):(this.currentToken.data+="--!",this.currentToken.data+=g(e),this.state="COMMENT_STATE")},x.DOCTYPE_STATE=function(e){c(e)||(e===a.GREATER_THAN_SIGN?(this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=u):e===a.EOF?(this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(u)):(this._createDoctypeToken(""),this._reconsumeInState("DOCTYPE_NAME_STATE")))},x.DOCTYPE_NAME_STATE=function(e){c(e)||e===a.GREATER_THAN_SIGN||e===a.EOF?this._reconsumeInState("AFTER_DOCTYPE_NAME_STATE"):d(e)?this.currentToken.name+=y(e):e===a.NULL?this.currentToken.name+=i.REPLACEMENT_CHARACTER:this.currentToken.name+=g(e)},x.AFTER_DOCTYPE_NAME_STATE=function(e){if(!c(e))if(e===a.GREATER_THAN_SIGN)this.state=u,this._emitCurrentToken();else{var t=this._consumeSubsequentIfMatch(s.PUBLIC_STRING,e,!1),n=!t&&this._consumeSubsequentIfMatch(s.SYSTEM_STRING,e,!1);this._ensureHibernation()||(t?this.state="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE":n?this.state="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE":(this.currentToken.forceQuirks=!0,this.state="BOGUS_DOCTYPE_STATE"))}},x.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE=function(e){c(e)||(e===a.QUOTATION_MARK?(this.currentToken.publicId="",this.state="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE"):e===a.APOSTROPHE?(this.currentToken.publicId="",this.state="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE"):(this.currentToken.forceQuirks=!0,this._reconsumeInState("BOGUS_DOCTYPE_STATE")))},x.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE=function(e){e===a.QUOTATION_MARK?this.state="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE":e===a.NULL?this.currentToken.publicId+=i.REPLACEMENT_CHARACTER:e===a.GREATER_THAN_SIGN?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=u):e===a.EOF?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(u)):this.currentToken.publicId+=g(e)},x.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE=function(e){e===a.APOSTROPHE?this.state="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE":e===a.NULL?this.currentToken.publicId+=i.REPLACEMENT_CHARACTER:e===a.GREATER_THAN_SIGN?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=u):e===a.EOF?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(u)):this.currentToken.publicId+=g(e)},x.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE=function(e){c(e)||(e===a.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=u):e===a.QUOTATION_MARK?(this.currentToken.systemId="",this.state="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE"):e===a.APOSTROPHE?(this.currentToken.systemId="",this.state="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE"):(this.currentToken.forceQuirks=!0,this._reconsumeInState("BOGUS_DOCTYPE_STATE")))},x.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE=function(e){c(e)||(e===a.QUOTATION_MARK?(this.currentToken.systemId="",this.state="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE"):e===a.APOSTROPHE?(this.currentToken.systemId="",this.state="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE"):(this.currentToken.forceQuirks=!0,this._reconsumeInState("BOGUS_DOCTYPE_STATE")))},x.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE=function(e){e===a.QUOTATION_MARK?this.state="AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE":e===a.GREATER_THAN_SIGN?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=u):e===a.NULL?this.currentToken.systemId+=i.REPLACEMENT_CHARACTER:e===a.EOF?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(u)):this.currentToken.systemId+=g(e)},x.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE=function(e){e===a.APOSTROPHE?this.state="AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE":e===a.GREATER_THAN_SIGN?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=u):e===a.NULL?this.currentToken.systemId+=i.REPLACEMENT_CHARACTER:e===a.EOF?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(u)):this.currentToken.systemId+=g(e)},x.AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE=function(e){c(e)||(e===a.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=u):e===a.EOF?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(u)):this.state="BOGUS_DOCTYPE_STATE")},x.BOGUS_DOCTYPE_STATE=function(e){e===a.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=u):e===a.EOF&&(this._emitCurrentToken(),this._reconsumeInState(u))},x.CDATA_SECTION_STATE=function(e){for(;;){if(e===a.EOF){this._reconsumeInState(u);break}var t=this._consumeSubsequentIfMatch(s.CDATA_END_STRING,e,!0);if(this._ensureHibernation())break;if(t){this.state=u;break}if(this._emitCodePoint(e),this._hibernationSnapshot(),e=this._consume(),this._ensureHibernation())break}}},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function c(e){return(c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e){return(f="function"===typeof Symbol&&"symbol"===c(Symbol.iterator)?function(e){return c(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":c(e)})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return!t||"object"!==f(t)&&"function"!==typeof t?d(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}n.r(t);var g=n(1),y=n(2),b=n.n(y),_=n(38),x=n(86),w=n.n(x);function E(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(t,"SortableContainer",(function(){return me})),n.d(t,"sortableContainer",(function(){return me})),n.d(t,"SortableElement",(function(){return ye})),n.d(t,"sortableElement",(function(){return ye})),n.d(t,"SortableHandle",(function(){return ae})),n.d(t,"sortableHandle",(function(){return ae})),n.d(t,"arrayMove",(function(){return k}));var T=function(){function e(){s(this,e),o(this,"refs",{})}return u(e,[{key:"add",value:function(e,t){this.refs[e]||(this.refs[e]=[]),this.refs[e].push(t)}},{key:"remove",value:function(e,t){var n=this.getIndex(e,t);-1!==n&&this.refs[e].splice(n,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var e=this;return this.refs[this.active.collection].find((function(t){return t.node.sortableInfo.index==e.active.index}))}},{key:"getIndex",value:function(e,t){return this.refs[e].indexOf(t)}},{key:"getOrderedRefs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active.collection;return this.refs[e].sort(S)}}]),e}();function S(e,t){return e.node.sortableInfo.index-t.node.sortableInfo.index}function k(e,t,n){return(e=e.slice()).splice(n<0?e.length+n:n,0,e.splice(t,1)[0]),e}function O(e,t){return Object.keys(e).reduce((function(n,r){return-1===t.indexOf(r)&&(n[r]=e[r]),n}),{})}var C={end:["touchend","touchcancel","mouseup"],move:["touchmove","mousemove"],start:["touchstart","mousedown"]},A=function(){if("undefined"===typeof window||"undefined"===typeof document)return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];switch(t){case"ms":return"ms";default:return t&&t.length?t[0].toUpperCase()+t.substr(1):""}}();function M(e,t){Object.keys(t).forEach((function(n){e.style[n]=t[n]}))}function P(e,t){e.style["".concat(A,"Transform")]=null==t?"":"translate3d(".concat(t.x,"px,").concat(t.y,"px,0)")}function I(e,t){e.style["".concat(A,"TransitionDuration")]=null==t?"":"".concat(t,"ms")}function D(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}function N(e,t,n){return Math.max(e,Math.min(n,t))}function R(e){return"px"===e.substr(-2)?parseFloat(e):0}function L(e){var t=window.getComputedStyle(e);return{bottom:R(t.marginBottom),left:R(t.marginLeft),right:R(t.marginRight),top:R(t.marginTop)}}function j(e,t){var n=t.displayName||t.name;return n?"".concat(e,"(").concat(n,")"):e}function F(e,t){var n=e.getBoundingClientRect();return{top:n.top+t.top,left:n.left+t.left}}function B(e){return e.touches&&e.touches.length?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches.length?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.pageX,y:e.pageY}}function z(e){return e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length}function H(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{left:0,top:0};if(e){var r={left:n.left+e.offsetLeft,top:n.top+e.offsetTop};return e.parentNode===t?r:H(e.parentNode,t,r)}}function U(e,t,n){return e<n&&e>t?e-1:e>n&&e<t?e+1:e}function V(e){var t=e.lockOffset,n=e.width,r=e.height,i=t,o=t,a="px";if("string"===typeof t){var s=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(t);w()(null!==s,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',t),i=parseFloat(t),o=parseFloat(t),a=s[1]}return w()(isFinite(i)&&isFinite(o),"lockOffset value should be a finite. Given %s",t),"%"===a&&(i=i*n/100,o=o*r/100),{x:i,y:o}}function G(e){var t=e.height,n=e.width,r=e.lockOffset,o=Array.isArray(r)?r:[r,r];w()(2===o.length,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",r);var a=i(o,2),s=a[0],l=a[1];return[V({height:t,lockOffset:s,width:n}),V({height:t,lockOffset:l,width:n})]}function W(e){return e instanceof HTMLElement?function(e){var t=window.getComputedStyle(e),n=/(auto|scroll)/;return["overflow","overflowX","overflowY"].find((function(e){return n.test(t[e])}))}(e)?e:W(e.parentNode):null}var q=27,Y=32,X=37,$=38,K=39,Z=40,Q="A",J="BUTTON",ee="CANVAS",te="INPUT",ne="OPTION",re="TEXTAREA",ie="SELECT";function oe(e){var t="input, textarea, select, canvas, [contenteditable]",n=e.querySelectorAll(t),r=e.cloneNode(!0);return E(r.querySelectorAll(t)).forEach((function(e,t){"file"!==e.type&&(e.value=n[t].value),"radio"===e.type&&e.name&&(e.name="__sortableClone__".concat(e.name)),e.tagName===ee&&n[t].width>0&&n[t].height>0&&e.getContext("2d").drawImage(n[t],0,0)})),r}function ae(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){return s(this,n),h(this,p(n).apply(this,arguments))}return v(n,t),u(n,[{key:"componentDidMount",value:function(){Object(_.findDOMNode)(this).sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return w()(i.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=i.withRef?"wrappedInstance":null;return Object(g.createElement)(e,r({ref:t},this.props))}}]),n}(g.Component),o(t,"displayName",j("sortableHandle",e)),n}function se(e){return null!=e.sortableHandle}var le=function(){function e(t,n){s(this,e),this.container=t,this.onScrollCallback=n}return u(e,[{key:"clear",value:function(){clearInterval(this.interval),this.interval=null}},{key:"update",value:function(e){var t=this,n=e.translate,r=e.minTranslate,i=e.maxTranslate,o=e.width,a=e.height,s={x:0,y:0},l={x:1,y:1},u=10,c=10,f=this.container,d=f.scrollTop,h=f.scrollLeft,p=f.scrollHeight,m=f.scrollWidth,v=0===d,g=p-d-f.clientHeight===0,y=0===h,b=m-h-f.clientWidth===0;n.y>=i.y-a/2&&!g?(s.y=1,l.y=c*Math.abs((i.y-a/2-n.y)/a)):n.x>=i.x-o/2&&!b?(s.x=1,l.x=u*Math.abs((i.x-o/2-n.x)/o)):n.y<=r.y+a/2&&!v?(s.y=-1,l.y=c*Math.abs((n.y-a/2-r.y)/a)):n.x<=r.x+o/2&&!y&&(s.x=-1,l.x=u*Math.abs((n.x-o/2-r.x)/o)),this.interval&&(this.clear(),this.isAutoScrolling=!1),0===s.x&&0===s.y||(this.interval=setInterval((function(){t.isAutoScrolling=!0;var e={left:l.x*s.x,top:l.y*s.y};t.container.scrollTop+=e.top,t.container.scrollLeft+=e.left,t.onScrollCallback(e)}),5))}}]),e}(),ue={axis:b.a.oneOf(["x","y","xy"]),contentWindow:b.a.any,disableAutoscroll:b.a.bool,distance:b.a.number,getContainer:b.a.func,getHelperDimensions:b.a.func,helperClass:b.a.string,helperContainer:b.a.oneOfType([b.a.func,"undefined"===typeof HTMLElement?b.a.any:b.a.instanceOf(HTMLElement)]),hideSortableGhost:b.a.bool,keyboardSortingTransitionDuration:b.a.number,lockAxis:b.a.string,lockOffset:b.a.oneOfType([b.a.number,b.a.string,b.a.arrayOf(b.a.oneOfType([b.a.number,b.a.string]))]),lockToContainerEdges:b.a.bool,onSortEnd:b.a.func,onSortMove:b.a.func,onSortOver:b.a.func,onSortStart:b.a.func,pressDelay:b.a.number,pressThreshold:b.a.number,keyCodes:b.a.shape({lift:b.a.arrayOf(b.a.number),drop:b.a.arrayOf(b.a.number),cancel:b.a.arrayOf(b.a.number),up:b.a.arrayOf(b.a.number),down:b.a.arrayOf(b.a.number)}),shouldCancelStart:b.a.func,transitionDuration:b.a.number,updateBeforeSortStart:b.a.func,useDragHandle:b.a.bool,useWindowAsScrollContainer:b.a.bool},ce={lift:[Y],drop:[Y],cancel:[q],up:[$,X],down:[Z,K]},fe={axis:"y",disableAutoscroll:!1,distance:0,getHelperDimensions:function(e){var t=e.node;return{height:t.offsetHeight,width:t.offsetWidth}},hideSortableGhost:!0,lockOffset:"50%",lockToContainerEdges:!1,pressDelay:0,pressThreshold:5,keyCodes:ce,shouldCancelStart:function(e){return-1!==[te,re,ie,ne,J].indexOf(e.target.tagName)||!!D(e.target,(function(e){return"true"===e.contentEditable}))},transitionDuration:300,useWindowAsScrollContainer:!1},de=Object.keys(ue);function he(e){w()(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.")}function pe(e,t){try{var n=e()}catch(r){return t(!0,r)}return n&&n.then?n.then(t.bind(null,!1),t.bind(null,!0)):t(!1,value)}function me(e){var t,n,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(e){var t;return s(this,n),o(d(d(t=h(this,p(n).call(this,e)))),"state",{}),o(d(d(t)),"handleStart",(function(e){var n=t.props,r=n.distance,i=n.shouldCancelStart;if(2!==e.button&&!i(e)){t.touched=!0,t.position=B(e);var o=D(e.target,(function(e){return null!=e.sortableInfo}));if(o&&o.sortableInfo&&t.nodeIsChild(o)&&!t.state.sorting){var a=t.props.useDragHandle,s=o.sortableInfo,l=s.index,u=s.collection;if(s.disabled)return;if(a&&!D(e.target,se))return;t.manager.active={collection:u,index:l},z(e)||e.target.tagName!==Q||e.preventDefault(),r||(0===t.props.pressDelay?t.handlePress(e):t.pressTimer=setTimeout((function(){return t.handlePress(e)}),t.props.pressDelay))}}})),o(d(d(t)),"nodeIsChild",(function(e){return e.sortableInfo.manager===t.manager})),o(d(d(t)),"handleMove",(function(e){var n=t.props,r=n.distance,i=n.pressThreshold;if(!t.state.sorting&&t.touched&&!t._awaitingUpdateBeforeSortStart){var o=B(e),a={x:t.position.x-o.x,y:t.position.y-o.y},s=Math.abs(a.x)+Math.abs(a.y);t.delta=a,r||i&&!(s>=i)?r&&s>=r&&t.manager.isActive()&&t.handlePress(e):(clearTimeout(t.cancelTimer),t.cancelTimer=setTimeout(t.cancel,0))}})),o(d(d(t)),"handleEnd",(function(){t.touched=!1,t.cancel()})),o(d(d(t)),"cancel",(function(){var e=t.props.distance;t.state.sorting||(e||clearTimeout(t.pressTimer),t.manager.active=null)})),o(d(d(t)),"handlePress",(function(e){try{var n=t.manager.getActive(),r=function(){if(n){var r=function(){var n=h.sortableInfo.index,r=L(h),i=t.scrollContainer.getBoundingClientRect(),c=s({collection:p,index:n,node:h});if(t.node=h,t.margin=r,t.width=c.width,t.height=c.height,t.marginOffset={x:t.margin.left+t.margin.right,y:Math.max(t.margin.top,t.margin.bottom)},t.boundingClientRect=h.getBoundingClientRect(),t.containerBoundingRect=i,t.index=n,t.newIndex=n,t.axis={x:o.indexOf("x")>=0,y:o.indexOf("y")>=0},t.offsetEdge=H(h,t.container),t.initialOffset=B(m?a({},e,{pageX:t.boundingClientRect.left,pageY:t.boundingClientRect.top}):e),t.initialScroll={left:t.scrollContainer.scrollLeft,top:t.scrollContainer.scrollTop},t.initialWindowScroll={left:window.pageXOffset,top:window.pageYOffset},t.helper=t.helperContainer.appendChild(oe(h)),M(t.helper,{boxSizing:"border-box",height:"".concat(t.height,"px"),left:"".concat(t.boundingClientRect.left-r.left,"px"),pointerEvents:"none",position:"fixed",top:"".concat(t.boundingClientRect.top-r.top,"px"),width:"".concat(t.width,"px")}),m&&t.helper.focus(),u&&(t.sortableGhost=h,M(h,{opacity:0,visibility:"hidden"})),t.minTranslate={},t.maxTranslate={},m){var v=d?{top:0,left:0,width:t.contentWindow.innerWidth,height:t.contentWindow.innerHeight}:t.containerBoundingRect,g=v.top,y=v.left,b=v.width,_=g+v.height,x=y+b;t.axis.x&&(t.minTranslate.x=y-t.boundingClientRect.left,t.maxTranslate.x=x-(t.boundingClientRect.left+t.width)),t.axis.y&&(t.minTranslate.y=g-t.boundingClientRect.top,t.maxTranslate.y=_-(t.boundingClientRect.top+t.height))}else t.axis.x&&(t.minTranslate.x=(d?0:i.left)-t.boundingClientRect.left-t.width/2,t.maxTranslate.x=(d?t.contentWindow.innerWidth:i.left+i.width)-t.boundingClientRect.left-t.width/2),t.axis.y&&(t.minTranslate.y=(d?0:i.top)-t.boundingClientRect.top-t.height/2,t.maxTranslate.y=(d?t.contentWindow.innerHeight:i.top+i.height)-t.boundingClientRect.top-t.height/2);l&&l.split(" ").forEach((function(e){return t.helper.classList.add(e)})),t.listenerNode=e.touches?h:t.contentWindow,m?(t.listenerNode.addEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.addEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.addEventListener("keydown",t.handleKeyDown)):(C.move.forEach((function(e){return t.listenerNode.addEventListener(e,t.handleSortMove,!1)})),C.end.forEach((function(e){return t.listenerNode.addEventListener(e,t.handleSortEnd,!1)}))),t.setState({sorting:!0,sortingIndex:n}),f&&f({node:h,index:n,collection:p,isKeySorting:m},e),m&&t.keyMove(0)},i=t.props,o=i.axis,s=i.getHelperDimensions,l=i.helperClass,u=i.hideSortableGhost,c=i.updateBeforeSortStart,f=i.onSortStart,d=i.useWindowAsScrollContainer,h=n.node,p=n.collection,m=t.manager.isKeySorting,v=function(){if("function"===typeof c){t._awaitingUpdateBeforeSortStart=!0;var n=pe((function(){var t=h.sortableInfo.index;return Promise.resolve(c({collection:p,index:t,node:h,isKeySorting:m},e)).then((function(){}))}),(function(e,n){if(t._awaitingUpdateBeforeSortStart=!1,e)throw n;return n}));if(n&&n.then)return n.then((function(){}))}}();return v&&v.then?v.then(r):r()}}();return Promise.resolve(r&&r.then?r.then((function(){})):void 0)}catch(i){return Promise.reject(i)}})),o(d(d(t)),"handleSortMove",(function(e){var n=t.props.onSortMove;"function"===typeof e.preventDefault&&e.preventDefault(),t.updateHelperPosition(e),t.animateNodes(),t.autoscroll(),n&&n(e)})),o(d(d(t)),"handleSortEnd",(function(e){var n=t.props,r=n.hideSortableGhost,i=n.onSortEnd,o=t.manager,a=o.active.collection,s=o.isKeySorting,l=t.manager.refs[a];t.listenerNode&&(s?(t.listenerNode.removeEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("keydown",t.handleKeyDown)):(C.move.forEach((function(e){return t.listenerNode.removeEventListener(e,t.handleSortMove)})),C.end.forEach((function(e){return t.listenerNode.removeEventListener(e,t.handleSortEnd)})))),t.helper.parentNode.removeChild(t.helper),r&&t.sortableGhost&&M(t.sortableGhost,{opacity:"",visibility:""});for(var u=0,c=l.length;u<c;u++){var f=l[u],d=f.node;f.edgeOffset=null,f.boundingClientRect=null,P(d,null),I(d,null),f.translate=null}t.autoScroller.clear(),t.manager.active=null,t.manager.isKeySorting=!1,t.setState({sorting:!1,sortingIndex:null}),"function"===typeof i&&i({collection:a,newIndex:t.newIndex,oldIndex:t.index,isKeySorting:s},e),t.touched=!1})),o(d(d(t)),"autoscroll",(function(){var e=t.props.disableAutoscroll,n=t.manager.isKeySorting;if(!e){if(n){var r=a({},t.translate),i=0,o=0;return t.axis.x&&(r.x=Math.min(t.maxTranslate.x,Math.max(t.minTranslate.x,t.translate.x)),i=t.translate.x-r.x),t.axis.y&&(r.y=Math.min(t.maxTranslate.y,Math.max(t.minTranslate.y,t.translate.y)),o=t.translate.y-r.y),t.translate=r,P(t.helper,t.translate),t.scrollContainer.scrollLeft+=i,void(t.scrollContainer.scrollTop+=o)}t.autoScroller.update({height:t.height,maxTranslate:t.maxTranslate,minTranslate:t.minTranslate,translate:t.translate,width:t.width})}})),o(d(d(t)),"onAutoScroll",(function(e){t.translate.x+=e.left,t.translate.y+=e.top,t.animateNodes()})),o(d(d(t)),"handleKeyDown",(function(e){var n=e.keyCode,r=t.props,i=r.shouldCancelStart,o=r.keyCodes,s=a({},ce,void 0===o?{}:o);t.manager.active&&!t.manager.isKeySorting||!(t.manager.active||s.lift.includes(n)&&!i(e)&&t.isValidSortingTarget(e))||(e.stopPropagation(),e.preventDefault(),s.lift.includes(n)&&!t.manager.active?t.keyLift(e):s.drop.includes(n)&&t.manager.active?t.keyDrop(e):s.cancel.includes(n)?(t.newIndex=t.manager.active.index,t.keyDrop(e)):s.up.includes(n)?t.keyMove(-1):s.down.includes(n)&&t.keyMove(1))})),o(d(d(t)),"keyLift",(function(e){var n=e.target,r=D(n,(function(e){return null!=e.sortableInfo})).sortableInfo,i=r.index,o=r.collection;t.initialFocusedNode=n,t.manager.isKeySorting=!0,t.manager.active={index:i,collection:o},t.handlePress(e)})),o(d(d(t)),"keyMove",(function(e){var n=t.manager.getOrderedRefs(),r=n[n.length-1].node.sortableInfo.index,i=t.newIndex+e,o=t.newIndex;if(!(i<0||i>r)){t.prevIndex=o,t.newIndex=i;var a=U(t.newIndex,t.prevIndex,t.index),s=n.find((function(e){return e.node.sortableInfo.index===a})),l=s.node,u=t.containerScrollDelta,c=s.boundingClientRect||F(l,u),f=s.translate||{x:0,y:0},d=c.top+f.y-u.top,h=c.left+f.x-u.left,p=o<i,m=p&&t.axis.x?l.offsetWidth-t.width:0,v=p&&t.axis.y?l.offsetHeight-t.height:0;t.handleSortMove({pageX:h+m,pageY:d+v,ignoreTransition:0===e})}})),o(d(d(t)),"keyDrop",(function(e){t.handleSortEnd(e),t.initialFocusedNode&&t.initialFocusedNode.focus()})),o(d(d(t)),"handleKeyEnd",(function(e){t.manager.active&&t.keyDrop(e)})),o(d(d(t)),"isValidSortingTarget",(function(e){var n=t.props.useDragHandle,r=e.target,i=D(r,(function(e){return null!=e.sortableInfo}));return i&&i.sortableInfo&&!i.sortableInfo.disabled&&(n?se(r):r.sortableInfo)})),he(e),t.manager=new T,t.events={end:t.handleEnd,move:t.handleMove,start:t.handleStart},t}return v(n,t),u(n,[{key:"getChildContext",value:function(){return{manager:this.manager}}},{key:"componentDidMount",value:function(){var e=this,t=this.props.useWindowAsScrollContainer,n=this.getContainer();Promise.resolve(n).then((function(n){e.container=n,e.document=e.container.ownerDocument||document;var r=e.props.contentWindow||e.document.defaultView||window;e.contentWindow="function"===typeof r?r():r,e.scrollContainer=t?e.document.scrollingElement||e.document.documentElement:W(e.container)||e.container,e.autoScroller=new le(e.scrollContainer,e.onAutoScroll),Object.keys(e.events).forEach((function(t){return C[t].forEach((function(n){return e.container.addEventListener(n,e.events[t],!1)}))})),e.container.addEventListener("keydown",e.handleKeyDown)}))}},{key:"componentWillUnmount",value:function(){var e=this;this.helper&&this.helper.parentNode&&this.helper.parentNode.removeChild(this.helper),this.container&&(Object.keys(this.events).forEach((function(t){return C[t].forEach((function(n){return e.container.removeEventListener(n,e.events[t])}))})),this.container.removeEventListener("keydown",this.handleKeyDown))}},{key:"updateHelperPosition",value:function(e){var t=this.props,n=t.lockAxis,r=t.lockOffset,o=t.lockToContainerEdges,a=t.transitionDuration,s=t.keyboardSortingTransitionDuration,l=void 0===s?a:s,u=this.manager.isKeySorting,c=e.ignoreTransition,f=B(e),d={x:f.x-this.initialOffset.x,y:f.y-this.initialOffset.y};if(d.y-=window.pageYOffset-this.initialWindowScroll.top,d.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=d,o){var h=i(G({height:this.height,lockOffset:r,width:this.width}),2),p=h[0],m=h[1],v={x:this.width/2-p.x,y:this.height/2-p.y},g={x:this.width/2-m.x,y:this.height/2-m.y};d.x=N(this.minTranslate.x+v.x,this.maxTranslate.x-g.x,d.x),d.y=N(this.minTranslate.y+v.y,this.maxTranslate.y-g.y,d.y)}"x"===n?d.y=0:"y"===n&&(d.x=0),u&&l&&!c&&I(this.helper,l),P(this.helper,d)}},{key:"animateNodes",value:function(){var e=this.props,t=e.transitionDuration,n=e.hideSortableGhost,r=e.onSortOver,i=this.containerScrollDelta,o=this.windowScrollDelta,a=this.manager.getOrderedRefs(),s=this.offsetEdge.left+this.translate.x+i.left,l=this.offsetEdge.top+this.translate.y+i.top,u=this.manager.isKeySorting,c=this.newIndex;this.newIndex=null;for(var f=0,d=a.length;f<d;f++){var h=a[f].node,p=h.sortableInfo.index,m=h.offsetWidth,v=h.offsetHeight,g={height:this.height>v?v/2:this.height/2,width:this.width>m?m/2:this.width/2},y=u&&p>this.index&&p<=c,b=u&&p<this.index&&p>=c,_={x:0,y:0},x=a[f].edgeOffset;x||(x=H(h,this.container),a[f].edgeOffset=x,u&&(a[f].boundingClientRect=F(h,i)));var w=f<a.length-1&&a[f+1],E=f>0&&a[f-1];w&&!w.edgeOffset&&(w.edgeOffset=H(w.node,this.container),u&&(w.boundingClientRect=F(w.node,i))),p!==this.index?(t&&I(h,t),this.axis.x?this.axis.y?b||p<this.index&&(s+o.left-g.width<=x.left&&l+o.top<=x.top+g.height||l+o.top+g.height<=x.top)?(_.x=this.width+this.marginOffset.x,x.left+_.x>this.containerBoundingRect.width-g.width&&w&&(_.x=w.edgeOffset.left-x.left,_.y=w.edgeOffset.top-x.top),null===this.newIndex&&(this.newIndex=p)):(y||p>this.index&&(s+o.left+g.width>=x.left&&l+o.top+g.height>=x.top||l+o.top+g.height>=x.top+v))&&(_.x=-(this.width+this.marginOffset.x),x.left+_.x<this.containerBoundingRect.left+g.width&&E&&(_.x=E.edgeOffset.left-x.left,_.y=E.edgeOffset.top-x.top),this.newIndex=p):y||p>this.index&&s+o.left+g.width>=x.left?(_.x=-(this.width+this.marginOffset.x),this.newIndex=p):(b||p<this.index&&s+o.left<=x.left+g.width)&&(_.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=p)):this.axis.y&&(y||p>this.index&&l+o.top+g.height>=x.top?(_.y=-(this.height+this.marginOffset.y),this.newIndex=p):(b||p<this.index&&l+o.top<=x.top+g.height)&&(_.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=p))),P(h,_),a[f].translate=_):n&&(this.sortableGhost=h,M(h,{opacity:0,visibility:"hidden"}))}null==this.newIndex&&(this.newIndex=this.index),u&&(this.newIndex=c);var T=u?this.prevIndex:c;r&&this.newIndex!==T&&r({collection:this.manager.active.collection,index:this.index,newIndex:this.newIndex,oldIndex:T,isKeySorting:u})}},{key:"getWrappedInstance",value:function(){return w()(l.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.refs.wrappedInstance}},{key:"getContainer",value:function(){var e=this.props.getContainer;return"function"!==typeof e?Object(_.findDOMNode)(this):e(l.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var t=l.withRef?"wrappedInstance":null;return Object(g.createElement)(e,r({ref:t},O(this.props,de)))}},{key:"helperContainer",get:function(){var e=this.props.helperContainer;return"function"===typeof e?e():this.props.helperContainer||this.document.body}},{key:"containerScrollDelta",get:function(){return this.props.useWindowAsScrollContainer?{left:0,top:0}:{left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top}}},{key:"windowScrollDelta",get:function(){return{left:this.contentWindow.pageXOffset-this.initialWindowScroll.left,top:this.contentWindow.pageYOffset-this.initialWindowScroll.top}}}]),n}(g.Component),o(t,"displayName",j("sortableList",e)),o(t,"defaultProps",fe),o(t,"propTypes",ue),o(t,"childContextTypes",{manager:b.a.object.isRequired}),n}var ve={index:b.a.number.isRequired,collection:b.a.oneOfType([b.a.number,b.a.string]),disabled:b.a.bool},ge=Object.keys(ve);function ye(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){return s(this,n),h(this,p(n).apply(this,arguments))}return v(n,t),u(n,[{key:"componentDidMount",value:function(){this.register()}},{key:"componentDidUpdate",value:function(e){this.node&&(e.index!==this.props.index&&(this.node.sortableInfo.index=this.props.index),e.disabled!==this.props.disabled&&(this.node.sortableInfo.disabled=this.props.disabled)),e.collection!==this.props.collection&&(this.unregister(e.collection),this.register())}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"register",value:function(){var e=this.props,t=e.collection,n=e.disabled,r=e.index,i=Object(_.findDOMNode)(this);i.sortableInfo={collection:t,disabled:n,index:r,manager:this.context.manager},this.node=i,this.ref={node:i},this.context.manager.add(t,this.ref)}},{key:"unregister",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.collection;this.context.manager.remove(e,this.ref)}},{key:"getWrappedInstance",value:function(){return w()(i.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=i.withRef?"wrappedInstance":null;return Object(g.createElement)(e,r({ref:t},O(this.props,ge)))}}]),n}(g.Component),o(t,"displayName",j("sortableElement",e)),o(t,"contextTypes",{manager:b.a.object.isRequired}),o(t,"propTypes",ve),o(t,"defaultProps",{collection:0}),n}},function(e,t,n){var r=n(75);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(31);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(46),i=n(65),o=n(90)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(48),i=n(161),o=n(162),a=n(36),s=n(88),l=n(109),u={},c={};(t=e.exports=function(e,t,n,f,d){var h,p,m,v,g=d?function(){return e}:l(e),y=r(n,f,t?2:1),b=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(o(g)){for(h=s(e.length);h>b;b++)if((v=t?y(a(p=e[b])[0],p[1]):y(e[b]))===u||v===c)return v}else for(m=g.call(e);!(p=m.next()).done;)if((v=i(m,y,p.value,t))===u||v===c)return v}).BREAK=u,t.RETURN=c},function(e,t,n){e.exports={default:n(216),__esModule:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(16)),i=d(n(32)),o=d(n(54)),a=d(n(50));t.minNonZero=function(e){for(var t=a.default,n=0;n<e.length;n++){var r=e[n];r<1e-7&&r>-1e-7||r<t&&(t=r)}return t},t.maxNonZero=function(e){for(var t=o.default,n=0;n<e.length;n++){var r=e[n];r<1e-7&&r>-1e-7||r>t&&(t=r)}return t},t.workerSetPix=function(e,t,n,r,o,a){var c=arguments.length>6&&void 0!==arguments[6]&&arguments[6],f=arguments.length>7&&void 0!==arguments[7]&&arguments[7],d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,h=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,p=arguments.length>10&&void 0!==arguments[10]?arguments[10]:null,m=arguments.length>11&&void 0!==arguments[11]?arguments[11]:null,v=arguments.length>12&&void 0!==arguments[12]?arguments[12]:null,g=null;"log"===n?g=(0,s.scaleLog)().range([254,0]).domain(r):("linear"!==n&&console.warn("Unknown value scale type:",n," Defaulting to linear"),g=(0,s.scaleLinear)().range([254,0]).domain(r));var y=e;d&&p&&(y=(0,u.default)(p,v)*d[1]);var b=void 0,_=0,x=Math.sqrt(e),w=new Uint8ClampedArray(4*y),E=function(e,t){_=255,c&&Math.floor(e/x)<e%x||f&&Math.floor(e/x)>e%x||(0,i.default)(+t)||(_=Math.max(0,Math.min(254,Math.floor(g(t+o))))),(_<0||_>255)&&console.warn("out of bounds rgbIdx:",_," (should be 0 <= rgbIdx <= 255)"),b=h&&!(0,i.default)(+t)&&0===+t?h:a[_],w[4*e]=b[0],w[4*e+1]=b[1],w[4*e+2]=b[2],w[4*e+3]=b[3]},T=void 0;try{if(d&&p){var S=void 0,k=void 0;m&&(S=(0,l.default)(m),k=function(e,n){return S(n.map((function(n){return t[n*d[1]+e]})))});var O=void 0,C=void 0,A=void 0,M=void 0;for(C=0;C<d[1];C++)for(O=0,A=0;A<p.length;A++)if(T=Array.isArray(p[A])&&S?k(C,p[A]):t[p[A]*d[1]+C],v&&Array.isArray(p[A]))for(M=0;M<p[A].length;M++)E(O*d[1]+C,T),O++;else E(O*d[1]+C,T),O++}else for(var P=0;P<t.length;P++)T=t[P],E(P,T)}catch(I){return console.warn("Odd datapoint"),console.warn("valueScale.domain():",g.domain()),console.warn("valueScale.range():",g.range()),console.warn("value:",g(T+o)),console.warn("pseudocount:",o),console.warn("rgbIdx:",_,"d:",T,"ct:",g(T)),console.error("ERROR:",I),w}return w},t.tileResponseToData=v,t.workerGetTiles=function(e,t,n,r,i){var o={"content-type":"application/json"};r&&(o.Authorization=r),fetch(e,{credentials:"same-origin",headers:o}).then((function(e){return e.json()})).then((function(e){i(v(e,t,n))})).catch((function(e){return console.warn("err:",e)}))};var s=n(28),l=d(n(164)),u=d(n(128)),c=d(n(165)),f=d(n(166));function d(e){return e&&e.__esModule?e:{default:e}}function h(e){var t=31744&e,n=void 0,r=(32768&e)<<16;switch(t){case 0:if(0===(n=1023&e))return r;for(n<<=1;0===(1024&n);)n<<=1,t++;return r+(112-t<<23)+((1023&n)<<13);case 31744:return r+2139095040+((1023&e)<<13);default:return r+(114688+(32767&e)<<13)}}function p(e){for(var t=atob(e),n=t.length,r=new Uint8Array(n),i=0;i<n;i++)r[i]=t.charCodeAt(i);return r.buffer}function m(e){for(var t=new Uint32Array(e.length),n=0;n<e.length;n++)t[n]=h(e[n]);return new Float32Array(t.buffer)}function v(e,t,n){e||(e={});var i=!0,o=!1,a=void 0;try{for(var s,l=(0,r.default)(n);!(i=(s=l.next()).done);i=!0){var u=s.value;u in e||(e[u]={});var d=u,h=d.split(".");if(e[d].server=t,e[d].tileId=d,e[d].zoomLevel=+h[1],e[d].tilePos=h.slice(2,h.length).map((function(e){return+e})),e[d].tilesetUid=h[0],"dense"in e[d]){var v=p(e[d].dense),g=void 0;g="float16"===e[d].dtype?m(new Uint16Array(v)):new Float32Array(v);var y=2===e[d].tilePos.length?new f.default(g):new c.default(g);e[d].dense=g,e[d].denseDataExtrema=y,e[d].minNonZero=y.minNonZeroInTile,e[d].maxNonZero=y.maxNonZeroInTile}}}catch(b){o=!0,a=b}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.reduce((function(e,n){return e+(Array.isArray(n)&&t?n.length:1)}),0)}},function(e,t,n){var r=n(236),i=n(237),o="undefined"!==typeof Float64Array;function a(e,t){return e[0]-t[0]}function s(){var e,t=this.stride,n=new Array(t.length);for(e=0;e<n.length;++e)n[e]=[Math.abs(t[e]),e];n.sort(a);var r=new Array(n.length);for(e=0;e<r.length;++e)r[e]=n[e][1];return r}function l(e,t){var n=["View",t,"d",e].join("");t<0&&(n="View_Nil"+e);var i="generic"===e;if(-1===t){var o="function "+n+"(a){this.data=a;};var proto="+n+".prototype;proto.dtype='"+e+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+n+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+n+"(a){return new "+n+"(a);}";return new Function(o)()}if(0===t)return o="function "+n+"(a,d) {this.data = a;this.offset = d};var proto="+n+".prototype;proto.dtype='"+e+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+n+"_copy() {return new "+n+"(this.data,this.offset)};proto.pick=function "+n+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+n+"_get(){return "+(i?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+n+"_set(v){return "+(i?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+n+"(a,b,c,d){return new "+n+"(a,d)}",new Function("TrivialArray",o)(u[e][0]);o=["'use strict'"];var a=r(t),l=a.map((function(e){return"i"+e})),c="this.offset+"+a.map((function(e){return"this.stride["+e+"]*i"+e})).join("+"),f=a.map((function(e){return"b"+e})).join(","),d=a.map((function(e){return"c"+e})).join(",");o.push("function "+n+"(a,"+f+","+d+",d){this.data=a","this.shape=["+f+"]","this.stride=["+d+"]","this.offset=d|0}","var proto="+n+".prototype","proto.dtype='"+e+"'","proto.dimension="+t),o.push("Object.defineProperty(proto,'size',{get:function "+n+"_size(){return "+a.map((function(e){return"this.shape["+e+"]"})).join("*"),"}})"),1===t?o.push("proto.order=[0]"):(o.push("Object.defineProperty(proto,'order',{get:"),t<4?(o.push("function "+n+"_order(){"),2===t?o.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===t&&o.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):o.push("ORDER})")),o.push("proto.set=function "+n+"_set("+l.join(",")+",v){"),i?o.push("return this.data.set("+c+",v)}"):o.push("return this.data["+c+"]=v}"),o.push("proto.get=function "+n+"_get("+l.join(",")+"){"),i?o.push("return this.data.get("+c+")}"):o.push("return this.data["+c+"]}"),o.push("proto.index=function "+n+"_index(",l.join(),"){return "+c+"}"),o.push("proto.hi=function "+n+"_hi("+l.join(",")+"){return new "+n+"(this.data,"+a.map((function(e){return["(typeof i",e,"!=='number'||i",e,"<0)?this.shape[",e,"]:i",e,"|0"].join("")})).join(",")+","+a.map((function(e){return"this.stride["+e+"]"})).join(",")+",this.offset)}");var h=a.map((function(e){return"a"+e+"=this.shape["+e+"]"})),p=a.map((function(e){return"c"+e+"=this.stride["+e+"]"}));o.push("proto.lo=function "+n+"_lo("+l.join(",")+"){var b=this.offset,d=0,"+h.join(",")+","+p.join(","));for(var m=0;m<t;++m)o.push("if(typeof i"+m+"==='number'&&i"+m+">=0){d=i"+m+"|0;b+=c"+m+"*d;a"+m+"-=d}");for(o.push("return new "+n+"(this.data,"+a.map((function(e){return"a"+e})).join(",")+","+a.map((function(e){return"c"+e})).join(",")+",b)}"),o.push("proto.step=function "+n+"_step("+l.join(",")+"){var "+a.map((function(e){return"a"+e+"=this.shape["+e+"]"})).join(",")+","+a.map((function(e){return"b"+e+"=this.stride["+e+"]"})).join(",")+",c=this.offset,d=0,ceil=Math.ceil"),m=0;m<t;++m)o.push("if(typeof i"+m+"==='number'){d=i"+m+"|0;if(d<0){c+=b"+m+"*(a"+m+"-1);a"+m+"=ceil(-a"+m+"/d)}else{a"+m+"=ceil(a"+m+"/d)}b"+m+"*=d}");o.push("return new "+n+"(this.data,"+a.map((function(e){return"a"+e})).join(",")+","+a.map((function(e){return"b"+e})).join(",")+",c)}");var v=new Array(t),g=new Array(t);for(m=0;m<t;++m)v[m]="a[i"+m+"]",g[m]="b[i"+m+"]";for(o.push("proto.transpose=function "+n+"_transpose("+l+"){"+l.map((function(e,t){return e+"=("+e+"===undefined?"+t+":"+e+"|0)"})).join(";"),"var a=this.shape,b=this.stride;return new "+n+"(this.data,"+v.join(",")+","+g.join(",")+",this.offset)}"),o.push("proto.pick=function "+n+"_pick("+l+"){var a=[],b=[],c=this.offset"),m=0;m<t;++m)o.push("if(typeof i"+m+"==='number'&&i"+m+">=0){c=(c+this.stride["+m+"]*i"+m+")|0}else{a.push(this.shape["+m+"]);b.push(this.stride["+m+"])}");return o.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),o.push("return function construct_"+n+"(data,shape,stride,offset){return new "+n+"(data,"+a.map((function(e){return"shape["+e+"]"})).join(",")+","+a.map((function(e){return"stride["+e+"]"})).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",o.join("\n"))(u[e],s)}var u={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};e.exports=function(e,t,n,r){if(void 0===e)return(0,u.array[0])([]);"number"===typeof e&&(e=[e]),void 0===t&&(t=[e.length]);var a=t.length;if(void 0===n){n=new Array(a);for(var s=a-1,c=1;s>=0;--s)n[s]=c,c*=t[s]}if(void 0===r)for(r=0,s=0;s<a;++s)n[s]<0&&(r-=(t[s]-1)*n[s]);for(var f=function(e){if(i(e))return"buffer";if(o)switch(Object.prototype.toString.call(e)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(e)?"array":"generic"}(e),d=u[f];d.length<=a+1;)d.push(l(f,d.length-1));return(0,d[a+1])(e,t,n,r)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(554)),i=a(n(240)),o="function"===typeof i.default&&"symbol"===typeof r.default?function(e){return typeof e}:function(e){return e&&"function"===typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}t.default="function"===typeof i.default&&"symbol"===o(r.default)?function(e){return"undefined"===typeof e?"undefined":o(e)}:function(e){return e&&"function"===typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":"undefined"===typeof e?"undefined":o(e)}},function(e,t,n){"use strict";t.__esModule=!0,t.noop=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.bottom=s,t.cloneLayout=function(e){for(var t=Array(e.length),n=0,r=e.length;n<r;n++)t[n]=l(e[n]);return t},t.cloneLayoutItem=l,t.childrenEqual=function(e,t){return(0,i.default)(o.default.Children.map(e,(function(e){return e.key})),o.default.Children.map(t,(function(e){return e.key})))},t.collides=u,t.compact=c,t.compactItem=h,t.correctBounds=p,t.getLayoutItem=m,t.getFirstCollision=v,t.getAllCollisions=g,t.getStatics=y,t.moveElement=b,t.moveElementAwayFromCollision=_,t.perc=function(e){return 100*e+"%"},t.setTransform=function(e){var t=e.top,n=e.left,r=e.width,i=e.height,o="translate("+n+"px,"+t+"px)";return{transform:o,WebkitTransform:o,MozTransform:o,msTransform:o,OTransform:o,width:r+"px",height:i+"px",position:"absolute"}},t.setTopLeft=function(e){var t=e.top,n=e.left,r=e.width,i=e.height;return{top:t+"px",left:n+"px",width:r+"px",height:i+"px",position:"absolute"}},t.sortLayoutItems=x,t.sortLayoutItemsByRowCol=w,t.sortLayoutItemsByColRow=E,t.synchronizeLayoutWithChildren=function(e,t,n,i){e=e||[];var a=[];return o.default.Children.forEach(t,(function(t,n){var i=m(e,String(t.key));if(i)a[n]=l(i);else{var o=t.props["data-grid"]||t.props._grid;a[n]=l(o?r({},o,{i:t.key}):{w:1,h:1,x:0,y:s(a),i:String(t.key)})}})),a=c(a=p(a,{cols:n}),i,n)},t.validateLayout=T,t.autoBindHandlers=function(e,t){t.forEach((function(t){return e[t]=e[t].bind(e)}))};var i=a(n(168)),o=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){for(var t=0,n=void 0,r=0,i=e.length;r<i;r++)(n=e[r].y+e[r].h)>t&&(t=n);return t}function l(e){return{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,moved:Boolean(e.moved),static:Boolean(e.static),isDraggable:e.isDraggable,isResizable:e.isResizable}}function u(e,t){return e!==t&&!(e.x+e.w<=t.x)&&!(e.x>=t.x+t.w)&&!(e.y+e.h<=t.y)&&!(e.y>=t.y+t.h)}function c(e,t,n){for(var r=y(e),i=x(e,t),o=Array(e.length),a=0,s=i.length;a<s;a++){var u=l(i[a]);u.static||(u=h(r,u,t,n,i),r.push(u)),o[e.indexOf(i[a])]=u,u.moved=!1}return o}var f={x:"w",y:"h"};function d(e,t,n,r){var i=f[r];t[r]+=1;for(var o=e.indexOf(t)+1;o<e.length;o++){var a=e[o];if(!a.static){if(a.y>t.y+t.h)break;u(t,a)&&d(e,a,n+t[i],r)}}t[r]=n}function h(e,t,n,r,i){var o="horizontal"===n;if("vertical"===n)for(t.y=Math.min(s(e),t.y);t.y>0&&!v(e,t);)t.y--;else if(o)for(t.y=Math.min(s(e),t.y);t.x>0&&!v(e,t);)t.x--;for(var a=void 0;a=v(e,t);)o?d(i,t,a.x+a.w,"x"):d(i,t,a.y+a.h,"y"),o&&t.x+t.w>r&&(t.x=r-t.w,t.y++);return t}function p(e,t){for(var n=y(e),r=0,i=e.length;r<i;r++){var o=e[r];if(o.x+o.w>t.cols&&(o.x=t.cols-o.w),o.x<0&&(o.x=0,o.w=t.cols),o.static)for(;v(n,o);)o.y++;else n.push(o)}return e}function m(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n].i===t)return e[n]}function v(e,t){for(var n=0,r=e.length;n<r;n++)if(u(e[n],t))return e[n]}function g(e,t){return e.filter((function(e){return u(e,t)}))}function y(e){return e.filter((function(e){return e.static}))}function b(e,t,n,r,i,o,a,s){if(t.static)return e;if(t.y===r&&t.x===n)return e;t.i,String(n),String(r),t.x,t.y;var l=t.x,u=t.y;"number"===typeof n&&(t.x=n),"number"===typeof r&&(t.y=r),t.moved=!0;var c=x(e,a);("vertical"===a&&"number"===typeof r?u>=r:"horizontal"===a&&"number"===typeof n&&l>=n)&&(c=c.reverse());var f=g(c,t);if(o&&f.length)return t.i,t.x=l,t.y=u,t.moved=!1,e;for(var d=0,h=f.length;d<h;d++){var p=f[d];t.i,t.x,t.y,p.i,p.x,p.y,p.moved||(e=p.static?_(e,p,t,i,a,s):_(e,t,p,i,a,s))}return e}function _(e,t,n,r,i,o){var a="horizontal"===i,s="vertical"===i;if(r){r=!1;var l={x:a?Math.max(t.x-n.w,0):n.x,y:s?Math.max(t.y-n.h,0):n.y,w:n.w,h:n.h,i:"-1"};if(!v(e,l))return n.i,b(e,n,a?l.x:void 0,s?l.y:void 0,r,!1,i,o)}return b(e,n,a?n.x+1:void 0,s?n.y+1:void 0,r,!1,i,o)}function x(e,t){return"horizontal"===t?E(e):w(e)}function w(e){return[].concat(e).sort((function(e,t){return e.y>t.y||e.y===t.y&&e.x>t.x?1:e.y===t.y&&e.x===t.x?0:-1}))}function E(e){return[].concat(e).sort((function(e,t){return e.x>t.x||e.x===t.x&&e.y>t.y?1:-1}))}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Layout",n=["x","y","w","h"];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(var r=0,i=e.length;r<i;r++){for(var o=e[r],a=0;a<n.length;a++)if("number"!==typeof o[n[a]])throw new Error("ReactGridLayout: "+t+"["+r+"]."+n[a]+" must be a number!");if(o.i&&"string"!==typeof o.i)throw new Error("ReactGridLayout: "+t+"["+r+"].i must be a string!");if(void 0!==o.static&&"boolean"!==typeof o.static)throw new Error("ReactGridLayout: "+t+"["+r+"].static must be a boolean!")}}t.noop=function(){}},function(e,t,n){"use strict";n.r(t),n.d(t,"globalPubSub",(function(){return c})),n.d(t,"createPubSub",(function(){return l}));var r=function(){var e=window.BroadcastChannel;return e?new e("pub-sub-es"):(console.warn("The Broadcast Channel API is not available in your browser."),{postMessage:function(){}})}(),i=function(e){return function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;return e[t]||(e[t]=[],e.__times__[t]=[]),e[t].push(n),e.__times__[t].push(+r||1/0),{event:t,handler:n}}},o=function(e){return function(t,n){if("object"===typeof t&&(n=t.handler,t=t.event),e[t]){var r=e[t].indexOf(n);-1===r||r>=e[t].length||(e[t].splice(r,1),e.__times__[t].splice(r,1))}}},a=function(e,t){return function(n,i,a){if(e[n]){var s=o(e);if(e[n].forEach((function(t,r){t(i),e.__times__[n][r]--,e.__times__[n][r]<1&&s(n,t)})),t&&!a)try{r.postMessage({event:n,news:i})}catch(l){if(!(l instanceof DOMException))throw l;console.warn('Could not broadcast "'.concat(n,'" globally. Payload is not clonable.'))}}}},s=function(e){return function(){Object.keys(e).filter((function(e){return"_"!==e[0]})).forEach((function(t){e[t]=void 0,e.__times__[t]=void 0,delete e[t],delete e.__times__[t]}))}},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{__times__:{}};return e.__times__||(e.__times__={}),{publish:a(e),subscribe:i(e),unsubscribe:o(e),clear:s(e),stack:e}},u={__times__:{}},c={publish:a(u,!0),subscribe:i(u),unsubscribe:o(u),stack:u};r.onmessage=function(e){var t=e.data,n=t.event,r=t.news;return c.publish(n,r,!0)},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=M(n(54)),i=M(n(50)),o=M(n(16)),a=M(n(93)),s=M(n(32)),l=M(n(19)),u=M(n(45)),c=M(n(5)),f=M(n(44)),d=M(n(3)),h=M(n(4)),p=M(n(6)),m=M(n(13)),v=M(n(7)),g=M(n(129)),y=n(83),b=n(18),_=n(28),x=n(0),w=M(n(27)),E=n(10),T=n(70),S=M(T),k=M(n(175)),O=n(24),C=n(11),A=n(111);function M(e){return e&&e.__esModule?e:{default:e}}var P=function(e){function t(e,n){(0,d.default)(this,t);var r=(0,f.default)({},e);r.onValueScaleChanged=function(){e.onValueScaleChanged(),i.drawColorbar()};var i=(0,p.default)(this,(t.__proto__||(0,c.default)(t)).call(this,r,n)),o=e.pubSub,a=e.animate,s=e.svgElement,l=e.onTrackOptionsChanged,h=e.onMouseMoveZoom,m=e.isShowGlobalMousePosition,v=e.isValueScaleLocked;return i.pubSub=o,i.is2d=!0,i.animate=a,i.uid=w.default.nice(),i.scaleBrush=(0,y.brushY)(),i.onTrackOptionsChanged=l,i.isShowGlobalMousePosition=m,i.isValueScaleLocked=v,i.pColorbarArea=new C.GLOBALS.PIXI.Graphics,i.pMasked.addChild(i.pColorbarArea),i.pColorbar=new C.GLOBALS.PIXI.Graphics,i.pColorbarArea.addChild(i.pColorbar),i.axis=new k.default(i),i.pColorbarArea.addChild(i.axis.pAxis),i.colorScale=C.HEATED_OBJECT_MAP,n&&n.colorRange&&(i.colorScale=(0,E.colorDomainToRgbaArray)(n.colorRange)),i.gBase=(0,x.select)(s).append("g"),i.gMain=i.gBase.append("g"),i.gColorscaleBrush=i.gMain.append("g"),i.brushing=!1,i.prevOptions="",i.prevIndUpperLeftTile="",i.onMouseMoveZoom=h,i.setDataLensSize(11),i.dataLens=new Float32Array(Math.pow(i.dataLensSize,2)),i.mouseMoveHandlerBound=i.mouseMoveHandler.bind(i),i.onMouseMoveZoom&&i.pubSubs.push(i.pubSub.subscribe("app.mouseMove",i.mouseMoveHandlerBound)),i.options&&i.options.showMousePosition&&!i.hideMousePosition&&(i.hideMousePosition=(0,E.showMousePosition)(i,i.is2d,i.isShowGlobalMousePosition())),i.prevOptions=(0,u.default)(n),i}return(0,v.default)(t,e),(0,h.default)(t,[{key:"mouseMoveHandler",value:function(e){this.isWithin(e.x,e.y)&&(this.mouseX=e.x,this.mouseY=e.y,this.mouseMoveZoomHandler())}},{key:"mouseMoveZoomHandler",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.mouseX,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.mouseY;if("undefined"!==typeof t&&"undefined"!==typeof n&&this.areAllVisibleTilesLoaded()&&this.tilesetInfo){var r=t-this.position[0],i=n-this.position[1],o=void 0,a=void 0;try{o=(a=this.getVisibleRectangleData(r-this.dataLensPadding,i-this.dataLensPadding,this.dataLensSize,this.dataLensSize)).get(this.dataLensPadding,this.dataLensPadding)}catch(p){return}var s=this.dataLensSize,l=void 0;try{l=(0,E.valueToColor)(this.limitedValueScale,this.colorScale,this.valueScale.domain()[0])}catch(m){return}if(l){var u=Math.round(this._xScale.invert(r)),c=Math.round(this._yScale.invert(i)),f=[u,c],d=[Math.round(this._xScale.invert(r-this.dataLensPadding)),Math.round(this._xScale.invert(r+this.dataLensPadding))],h=[Math.round(this._yScale.invert(i-this.dataLensPadding)),Math.round(this._yScale.invert(i+this.dataLensPadding))];this.chromInfo&&(f=f.map((function(t){return(0,E.absToChr)(t,e.chromInfo).slice(0,2)})),d=d.map((function(t){return(0,E.absToChr)(t,e.chromInfo).slice(0,2)})),h=h.map((function(t){return(0,E.absToChr)(t,e.chromInfo).slice(0,2)}))),this.onMouseMoveZoom({trackId:this.id,data:o,absX:t,absY:n,relX:r,relY:i,dataX:u,dataY:c,orientation:"2d",dataLens:a,dim:s,toRgb:l,center:f,xRange:d,yRange:h,isGenomicCoords:!!this.chromInfo})}}}},{key:"scheduleRerender",value:function(){this.backgroundTaskScheduler.enqueueTask(this.handleRerender.bind(this),null,this.uuid)}},{key:"handleRerender",value:function(){this.rerender(this.options,!0)}},{key:"getAbsTileDim",value:function(e,t,n){var r=this.getTilePosAndDimensions(e,t),i=r.tileX,o=r.tileY,a=r.tileWidth,s=r.tileHeight,l={};return l.width=this._refXScale(i+a)-this._refXScale(i),l.height=this._refYScale(o+s)-this._refYScale(o),n?(l.x=this._refXScale(o),l.y=this._refYScale(i)):(l.x=this._refXScale(i),l.y=this._refYScale(o)),l}},{key:"updateValueScale",value:function(){var e=this.minValue(),t=this.maxValue();void 0!==e&&null!==e&&void 0!==t&&null!==t&&Math.abs(e-t)<1e-6&&(e=Math.max(1e-6,e-.001),t+=.001);var n=(0,T.getValueScale)(this.options&&this.options.heatmapValueScaling||"log",e,this.medianVisibleValue,t,"log"),r=(0,l.default)(n,2),i=r[0],o=r[1];return this.valueScale=o,this.limitedValueScale=this.valueScale.copy(),this.options&&"undefined"!==typeof this.options.scaleStartPercent&&"undefined"!==typeof this.options.scaleEndPercent&&this.limitedValueScale.domain([this.valueScale.domain()[0]+(this.valueScale.domain()[1]-this.valueScale.domain()[0])*this.options.scaleStartPercent,this.valueScale.domain()[0]+(this.valueScale.domain()[1]-this.valueScale.domain()[0])*this.options.scaleEndPercent]),[i,o]}},{key:"rerender",value:function(e,n){var r=this;(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"rerender",this).call(this,e,n),this.updateValueScale();var i=(0,u.default)(e);this.drawColorbar(),(n||i!==this.prevOptions)&&(this.prevOptions=i,this.options=e,(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"rerender",this).call(this,e,n),this.calculateVisibleTiles(),e&&e.colorRange&&(this.colorScale=(0,E.colorDomainToRgbaArray)(e.colorRange)),this.visibleAndFetchedTiles().forEach((function(e){return r.renderTile(e)})),this.hideMousePosition&&(this.hideMousePosition(),this.hideMousePosition=void 0),this.options&&this.options.showMousePosition&&!this.hideMousePosition&&(this.hideMousePosition=(0,E.showMousePosition)(this,this.is2d,this.isShowGlobalMousePosition())))}},{key:"drawLabel",value:function(){this.options.labelPosition===this.options.colorbarPosition?this.labelXOffset=75:this.labelXOffset=0,(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"drawLabel",this).call(this)}},{key:"tileDataToCanvas",value:function(e){var t=document.createElement("canvas");t.width=this.binsPerTile(),t.height=this.binsPerTile();var n=t.getContext("2d");n.fillStyle="transparent",n.fillRect(0,0,t.width,t.height);var r=new ImageData(e,t.width,t.height);return n.putImageData(r,0,0),t}},{key:"exportData",value:function(){if(this.tilesetInfo){var e=this.getVisibleRectangleData(0,0,this.dimensions[0],this.dimensions[1]),t={bounds:[this._xScale.domain(),this._yScale.domain()],dimensions:e.shape,data:(0,E.ndarrayFlatten)(e)};(0,E.download)("data.json",(0,u.default)(t))}}},{key:"setSpriteProperties",value:function(e,t,n,r){var i=this.getAbsTileDim(t,n,r);e.width=i.width,e.height=i.height,e.x=i.x,e.y=i.y,r&&n[0]!==n[1]&&(e.rotation=-Math.PI/2,e.scale.x=-1*Math.abs(e.scale.x))}},{key:"refXScale",value:function(e){(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"refXScale",this).call(this,e),this.draw()}},{key:"refYScale",value:function(e){(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"refYScale",this).call(this,e),this.draw()}},{key:"draw",value:function(){(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"draw",this).call(this)}},{key:"newBrushOptions",value:function(e){var t=JSON.parse((0,u.default)(this.options)),n=this.valueScale.copy().range([this.colorbarHeight,0]),r=n.invert(e[0]),i=(n.invert(e[1])-n.domain()[0])/(n.domain()[1]-n.domain()[0]),o=(r-n.domain()[0])/(n.domain()[1]-n.domain()[0]);return t.scaleStartPercent=i.toFixed(5),t.scaleEndPercent=o.toFixed(5),t}},{key:"brushStart",value:function(){this.brushing=!0}},{key:"brushMoved",value:function(){if(x.event.selection){var e=this.newBrushOptions(x.event.selection),t=(0,u.default)(e);this.gColorscaleBrush.selectAll(".handle--custom").attr("y",(function(e){return"n"===e.type?x.event.selection[0]:x.event.selection[1]-2})),t!==this.prevOptions&&(this.prevOptions=t,this.rerender(e,!0),this.onTrackOptionsChanged(e),this.isValueScaleLocked()&&this.onValueScaleChanged())}}},{key:"brushEnd",value:function(){this.brushing=!1}},{key:"setPosition",value:function(e){(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"setPosition",this).call(this,e),this.drawColorbar()}},{key:"setDimensions",value:function(e){(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"setDimensions",this).call(this,e),this.drawColorbar()}},{key:"removeColorbar",value:function(){this.pColorbarArea.visible=!1,this.scaleBrush.on(".brush")&&this.gColorscaleBrush.call(this.scaleBrush.move,null),this.gColorscaleBrush.on(".brush",null),this.gColorscaleBrush.selectAll("rect").remove()}},{key:"drawColorbar",value:function(){if(this.pColorbar.clear(),this.options&&this.options.colorbarPosition&&"hidden"!==this.options.colorbarPosition){if(this.pColorbarArea.visible=!0,this.valueScale&&!(0,s.default)(+this.valueScale.domain()[0])&&!(0,s.default)(+this.valueScale.domain()[1])){var e=Math.min(this.dimensions[1]/2,200);if(this.colorbarHeight=e-20,this.colorbarHeight<0)this.removeColorbar();else{var t=this.valueScale.copy().range([this.colorbarHeight,0]);if("topLeft"===this.options.colorbarPosition||"bottomLeft"===this.options.colorbarPosition?this.scaleBrush.extent([[4,0],[10,this.colorbarHeight]]):this.scaleBrush.extent([[0,0],[6,this.colorbarHeight]]),"topLeft"===this.options.colorbarPosition){var n=(0,l.default)(this.position,2);this.pColorbarArea.x=n[0],this.pColorbarArea.y=n[1],this.pColorbar.y=10,this.axis.pAxis.y=10,this.axis.pAxis.x=25,this.pColorbar.x=15,this.gColorscaleBrush.attr("transform","translate("+String(this.pColorbarArea.x+4)+","+(this.pColorbarArea.y+this.pColorbar.y-1)+")")}"topRight"===this.options.colorbarPosition&&(this.pColorbarArea.x=this.position[0]+this.dimensions[0]-75,this.pColorbarArea.y=this.position[1],this.pColorbar.y=10,this.axis.pAxis.y=10,this.axis.pAxis.x=50,this.pColorbar.x=50,this.gColorscaleBrush.attr("transform","translate("+String(this.pColorbarArea.x+this.pColorbar.x+10+2)+","+(this.pColorbarArea.y+this.pColorbar.y-1)+")")),"bottomRight"===this.options.colorbarPosition&&(this.pColorbarArea.x=this.position[0]+this.dimensions[0]-75,this.pColorbarArea.y=this.position[1]+this.dimensions[1]-e,this.pColorbar.y=10,this.axis.pAxis.y=10,this.axis.pAxis.x=50,this.pColorbar.x=50,this.gColorscaleBrush.attr("transform","translate("+String(this.pColorbarArea.x+this.pColorbar.x+10+1)+","+(this.pColorbarArea.y+this.pColorbar.y-1)+")")),"bottomLeft"===this.options.colorbarPosition&&(this.pColorbarArea.x=this.position[0],this.pColorbarArea.y=this.position[1]+this.dimensions[1]-e,this.pColorbar.y=10,this.axis.pAxis.y=10,this.axis.pAxis.x=25,this.pColorbar.x=15,this.gColorscaleBrush.attr("transform","translate("+String(this.pColorbarArea.x+2)+","+(this.pColorbarArea.y+this.pColorbar.y-1)+")")),this.pColorbarArea.clear(),this.pColorbarArea.beginFill((0,E.colorToHex)(this.options.colorbarBackgroundColor||"white"),+this.options.colorbarBackgroundOpacity>=0?+this.options.colorbarBackgroundOpacity:.6),this.pColorbarArea.drawRect(0,0,75,e),this.options?(this.options.scaleStartPercent||(this.options.scaleStartPercent=0),this.options.scaleEndPercent||(this.options.scaleEndPercent=1)):this.options={scaleStartPercent:0,scaleEndPercent:1};var r=t.domain()[1]-t.domain()[0],i=t(this.options.scaleStartPercent*r+t.domain()[0]),o=t(this.options.scaleEndPercent*r+t.domain()[0]);this.brushing||(this.scaleBrush.on("start",this.brushStart.bind(this)).on("brush",this.brushMoved.bind(this)).on("end",this.brushEnd.bind(this)).handleSize(0),this.gColorscaleBrush.on(".brush",null),this.gColorscaleBrush.call(this.scaleBrush),this.northHandle=this.gColorscaleBrush.selectAll(".handle--custom").data([{type:"n"},{type:"s"}]).enter().append("rect").classed("handle--custom",!0).attr("cursor","ns-resize").attr("width",10).attr("height",4).style("fill","#666").style("stroke","white"),this.flipText&&this.northHandle.attr("cursor","ew-resize"),this.gColorscaleBrush.call(this.scaleBrush.move,[o,i]));for(var a=(0,_.scaleLinear)().domain([0,255]).range([0,this.colorbarHeight]),u=0;u<this.colorbarHeight;u++){var c=this.limitedValueScale(t.invert(u)),f=Math.max(0,Math.min(254,Math.floor(c)));this.pColorbar.beginFill((0,E.colorToHex)("rgb("+String(this.colorScale[f][0])+","+String(this.colorScale[f][1])+","+String(this.colorScale[f][2])+")")),this.pColorbar.drawRect(0,u,10,1)}this.pAxis.position.x=10,this.pAxis.position.y=a(0),"topLeft"===this.options.colorbarPosition||"bottomLeft"===this.options.colorbarPosition?this.axis.drawAxisRight(t,this.colorbarHeight):"topRight"!==this.options.colorbarPosition&&"bottomRight"!==this.options.colorbarPosition||this.axis.drawAxisLeft(t,this.colorbarHeight)}}}else this.removeColorbar()}},{key:"exportColorBarSVG",value:function(){var e=document.createElement("g");if(e.setAttribute("class","color-bar"),!this.options.colorbarPosition||"hidden"===this.options.colorbarPosition)return e;if(!this.valueScale)return e;e.setAttribute("transform","translate("+String(this.pColorbarArea.x)+", "+String(this.pColorbarArea.y)+")");var t=document.createElement("rect");e.appendChild(t);var n=document.createElement("g");e.appendChild(n),n.setAttribute("transform","translate("+String(this.pColorbar.x)+", "+String(this.pColorbar.y)+")");var r=Math.min(this.dimensions[1]/2,200);this.colorbarHeight=r-20,t.setAttribute("x",0),t.setAttribute("y",0),t.setAttribute("width",75),t.setAttribute("height",r),t.setAttribute("style","fill: white; stroke-width: 0; opacity: 0.7");for(var i=(0,_.scaleLinear)().domain([0,255]).range([0,this.colorbarHeight]),o=this.colorbarHeight/256,a=0;a<256;a++){var s=document.createElement("rect");n.appendChild(s),s.setAttribute("x",0),s.setAttribute("y",i(a)),s.setAttribute("width",10),s.setAttribute("height",o),s.setAttribute("class","color-rect");var l=Math.min(this.colorScale.length-1,Math.max(0,Math.floor(this.limitedValueScale(this.valueScale.invert(a))))),u=this.colorScale[l];u?s.setAttribute("style","fill: rgb("+String(u[0])+", "+String(u[1])+", "+String(u[2])+")"):s.setAttribute("style","fill: rgb(255,255,255,0)")}var c=document.createElement("g");e.appendChild(c),c.setAttribute("transform","translate("+String(this.axis.pAxis.position.x)+","+String(this.axis.pAxis.position.y)+")");var f=null,d=this.valueScale.copy().range([this.colorbarHeight,0]);return"topLeft"===this.options.colorbarPosition||"bottomLeft"===this.options.colorbarPosition?f=this.axis.exportAxisRightSVG(d,this.colorbarHeight):"topRight"!==this.options.colorbarPosition&&"bottomRight"!==this.options.colorbarPosition||(f=this.axis.exportAxisLeftSVG(d,this.colorbarHeight)),c.appendChild(f),e}},{key:"setDataLensSize",value:function(e){this.dataLensPadding=Math.max(0,Math.floor((e-1)/2)),this.dataLensSize=2*this.dataLensPadding+1}},{key:"binsPerTile",value:function(){return this.tilesetInfo.bins_per_dimension||256}},{key:"getVisibleRectangleData",value:function(e,t,n,r){var i=this,o=this.calculateZoomLevel();o=this.tilesetInfo.max_zoom?Math.min(this.tilesetInfo.max_zoom,o):o;var a=O.tileProxy.calculateTileWidth(this.tilesetInfo,o,this.binsPerTile())/this.binsPerTile(),s=[this._xScale.invert(e),this._xScale.invert(e+n)],l=[this._yScale.invert(t),this._yScale.invert(t+r)],u=[Math.max(s[0],this.tilesetInfo.min_pos[0]),Math.min(s[1],this.tilesetInfo.max_pos[0])],c=[Math.max(l[0],this.tilesetInfo.min_pos[1]),Math.min(l[1],this.tilesetInfo.max_pos[1])],f=Math.floor(u[0]/a),d=Math.floor(c[0]/a),h=Math.max(0,Math.ceil((u[1]-u[0])/a)),p=Math.max(0,Math.ceil((c[1]-c[0])/a)),m=(0,g.default)(new Array(p*h).fill(NaN),[p,h]);return this.visibleAndFetchedTiles().forEach((function(e){var t=e.mirrored?[e.tileData.tilePos[1],e.tileData.tilePos[0]]:e.tileData.tilePos,n=i.getTilePosAndDimensions(e.tileData.zoomLevel,t,i.binsPerTile()),r=n.tileX,o=n.tileY,s=n.tileWidth,l=n.tileHeight,u=Math.floor(r/a),c=Math.floor((r+s)/a),v=Math.floor(o/a),g=Math.floor((o+l)/a),y=Math.max(f,u)-u,b=Math.max(d,v)-v,_=Math.min(f+h,c)-u,x=Math.min(d+p,g)-v,w=Math.max(u-f,0),T=Math.max(v-d,0),S=_-y,k=x-b;if(!(S<0||k<0)){if(e.mirrored&&y>b){var O=y;y=b,b=O}(0,E.ndarrayAssign)(m.hi(T+k,w+S).lo(T,w),e.dataArray.hi(b+k,y+S).lo(b,y))}})),m}},{key:"initTile",value:function(e){(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"initTile",this).call(this,e),e.tileData.dense.length===Math.pow(this.binsPerTile(),2)&&(e.dataArray=(0,g.default)((0,a.default)(e.tileData.dense),[this.binsPerTile(),this.binsPerTile()]),this.continuousScaling&&e.tileData.tilePos[0]===e.tileData.tilePos[1]&&e.mirrored&&(e.tileData.denseDataExtrema.mirrorPrecomputedExtrema(),(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"initTile",this).call(this,e))),null!==this.scale.minValue&&null!==this.scale.maxValue&&this.renderTile(e)}},{key:"updateTile",value:function(e){e.scale&&this.scale&&this.scale.minValue===e.scale.minValue&&this.scale.maxValue===e.scale.maxValue||(this.renderTile(e),this.drawColorbar())}},{key:"destroyTile",value:function(e){e.sprite.destroy(!0),e.canvas=null,e.sprite=null,e.texture=null}},{key:"renderTile",value:function(e){var t=this,n=this.updateValueScale(),r=(0,l.default)(n,1)[0];if(this.renderingTiles.add(e.tileId),this.tilesetInfo.tile_size&&e.tileData.dense.length<this.tilesetInfo.tile_size){var i=new Float32Array(this.tilesetInfo.tile_size);i.fill(NaN),i.set(e.tileData.dense),e.tileData.dense=i}O.tileProxy.tileDataToPixData(e,r,this.limitedValueScale.domain(),0,this.colorScale,(function(n){if(n){var r=e.graphics,i=t.tileDataToCanvas(n.pixData);e.sprite&&e.sprite.destroy(!0);var o="4"===C.GLOBALS.PIXI.VERSION[0]?C.GLOBALS.PIXI.Texture.fromCanvas(i,C.GLOBALS.PIXI.SCALE_MODES.NEAREST):C.GLOBALS.PIXI.Texture.from(i,{scaleMode:C.GLOBALS.PIXI.SCALE_MODES.NEAREST}),a=new C.GLOBALS.PIXI.Sprite(o);e.sprite=a,e.texture=o,e.canvas=i,t.setSpriteProperties(e.sprite,e.tileData.zoomLevel,e.tileData.tilePos,e.mirrored),r.removeChildren(),r.addChild(e.sprite)}t.renderingTiles.delete(e.tileId)}),this.mirrorTiles()&&!e.mirrored&&e.tileData.tilePos[0]===e.tileData.tilePos[1],"upper-right"===this.options.extent&&e.tileData.tilePos[0]===e.tileData.tilePos[1],this.options.zeroValueColor?(0,E.colorToRgba)(this.options.zeroValueColor):void 0,this.options.selectRows,this.options.selectRowsAggregationMode,this.options.selectRowsAggregationWithRelativeHeight)}},{key:"remove",value:function(){this.gMain.remove(),this.gMain=null,(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"remove",this).call(this)}},{key:"refScalesChanged",value:function(e,n){var r=this;(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"refScalesChanged",this).call(this,e,n),(0,E.objVals)(this.fetchedTiles).filter((function(e){return e.sprite})).forEach((function(e){return r.setSpriteProperties(e.sprite,e.tileData.zoomLevel,e.tileData.tilePos,e.mirrored)}))}},{key:"superSVG",value:function(){return(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"exportSVG",this).call(this)}},{key:"exportSVG",value:function(){var e=null,n=null;if((0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"exportSVG",this)){var r=(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"exportSVG",this).call(this),i=(0,l.default)(r,2);n=i[0],e=i[1]}else e=n=document.createElement("g");var a=document.createElement("g");e.appendChild(a),a.setAttribute("transform","translate("+String(this.pMain.position.x)+","+String(this.pMain.position.y)+") scale("+String(this.pMain.scale.x)+","+String(this.pMain.scale.y)+")");var s=!0,u=!1,f=void 0;try{for(var d,h=(0,o.default)(this.visibleAndFetchedTiles());!(s=(d=h.next()).done);s=!0){var p=d.value,v=180*p.sprite.rotation/Math.PI,g=document.createElement("g");g.setAttribute("transform","translate("+String(p.sprite.x)+","+String(p.sprite.y)+") rotate("+v+") scale("+String(p.sprite.scale.x)+","+String(p.sprite.scale.y)+")");var y=document.createElement("image");y.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p.canvas.toDataURL()),y.setAttribute("width",256),y.setAttribute("height",p.canvas.height),y.setAttribute("style","image-rendering: pixelated"),g.appendChild(y),a.appendChild(g)}}catch(_){u=!0,f=_}finally{try{!s&&h.return&&h.return()}finally{if(u)throw f}}var b=this.exportColorBarSVG();return e.appendChild(b),[n,n]}},{key:"getVisiblePartOfUppLeftTile",value:function(){var e=this.visibleAndFetchedTiles().map((function(e){var t=e.mirrored?[e.tileData.tilePos[1],e.tileData.tilePos[0]]:e.tileData.tilePos;return[t[0],t[1],e.tileId]}));if(0===e.length)return null;for(var t=e[0],n=0;n<e.length;n++){var r=e[n];(r[0]<t[0]||r[1]<t[1])&&(t=r)}var i=Math.min(A.NUM_PRECOMP_SUBSETS_PER_2D_TTILE,this.binsPerTile()),o=this.binsPerTile()/i,a=this.visibleAndFetchedTiles().filter((function(e){return e.tileId===t[2]}))[0],s=this.getIndicesOfVisibleDataInTile(a),l=s[0],u=s[1],c=l-l%o,f=u-u%o;return[a.tileId,c,f]}},{key:"getIndicesOfVisibleDataInTile",value:function(e){var t=this._xScale.range(),n=this._yScale.range(),r=e.mirrored?[e.tileData.tilePos[1],e.tileData.tilePos[0]]:e.tileData.tilePos,i=this.getTilePosAndDimensions(e.tileData.zoomLevel,r,this.binsPerTile()),o=i.tileX,a=i.tileY,s=i.tileWidth,l=i.tileHeight,u=(0,_.scaleLinear)().domain([0,this.binsPerTile()]).range([o,o+s]),c=Math.max(0,Math.round(u.invert(this._xScale.invert(t[0])))-1),f=Math.min(this.binsPerTile(),Math.round(u.invert(this._xScale.invert(t[1])))),d=(0,_.scaleLinear)().domain([0,this.binsPerTile()]).range([a,a+l]),h=Math.max(0,Math.round(d.invert(this._yScale.invert(n[0])))-1),p=Math.min(this.binsPerTile(),Math.round(d.invert(this._yScale.invert(n[1]))));return e.mirrored&&r[0]!==r[1]?[h,c,p,f]:[c,h,f,p]}},{key:"minVisibleValue",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.visibleAndFetchedTiles().map((function(t){if(void 0===t.tileData.denseDataExtrema)return null;var n=e.getIndicesOfVisibleDataInTile(t);return t.tileData.denseDataExtrema.getMinNonZeroInSubset(n)}));if(0===r.length&&null===this.valueScaleMax)return null;var o=Math.min.apply(null,r);return o===i.default?(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"minVisibleValue",this).call(this,n):n?o:null!==this.valueScaleMin?this.valueScaleMin:o}},{key:"maxVisibleValue",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.visibleAndFetchedTiles().map((function(t){if(void 0===t.tileData.denseDataExtrema)return null;var n=e.getIndicesOfVisibleDataInTile(t);return t.tileData.denseDataExtrema.getMaxNonZeroInSubset(n)}));if(0===i.length&&null===this.valueScaleMax)return null;var o=Math.max.apply(null,i);return o===r.default?(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"maxVisibleValue",this).call(this,n):n?o:null!==this.valueScaleMax?this.valueScaleMax:o}},{key:"zoomed",value:function(e,n,r,i,o){if(!this.brushing){(0,m.default)(t.prototype.__proto__||(0,c.default)(t.prototype),"zoomed",this).call(this,e,n),this.pMain.position.x=i,this.pMain.position.y=o,this.pMain.scale.x=r,this.pMain.scale.y=r;var a=this.isValueScaleLocked();if(this.continuousScaling&&void 0!==this.minValue()&&void 0!==this.maxValue()){var s=(0,u.default)(this.getVisiblePartOfUppLeftTile());if(null===this.valueScaleMin&&null===this.valueScaleMax&&!a&&s!==this.prevIndUpperLeftTile){var l=this.minVisibleValue(),f=this.maxVisibleValue();null!==l&&null!==f&&(Math.abs(this.minValue()-l)>1e-6||Math.abs(this.maxValue()-f)>1e-6)&&(this.minValue(l),this.maxValue(f),this.scheduleRerender()),this.prevIndUpperLeftTile=s}a&&this.onValueScaleChanged()}this.mouseMoveZoomHandler()}}},{key:"addTileId",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=[t,n,r];a.mirrored=o,a.dataTransform=i,e.push(a)}},{key:"tilesToId",value:function(e,t,n){for(var r=e,i=t,o=this.options&&this.options.dataTransform||"default",a=[],s=0;s<r.length;s++)for(var l=0;l<i.length;l++)this.mirrorTiles()?(r[s]>=i[l]?"lower-left"!==this.options.extent&&this.addTileId(a,n,i[l],r[s],o,!0):"upper-right"!==this.options.extent&&this.addTileId(a,n,r[s],i[l],o),r[s]===i[l]&&"lower-left"===this.options.extent&&this.addTileId(a,n,r[s],i[l],o)):this.addTileId(a,n,r[s],i[l],o);return a}},{key:"calculateVisibleTiles",value:function(){if(this.tilesetInfo){if(this.zoomLevel=this.calculateZoomLevel(),this.tilesetInfo.resolutions){var e=this.tilesetInfo.resolutions.map((function(e){return+e})).sort((function(e,t){return t-e}));this.xTiles=O.tileProxy.calculateTilesFromResolution(e[this.zoomLevel],this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),this.yTiles=O.tileProxy.calculateTilesFromResolution(e[this.zoomLevel],this._yScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0])}else this.xTiles=O.tileProxy.calculateTiles(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=O.tileProxy.calculateTiles(this.zoomLevel,this._yScale,this.options.reverseYAxis?-this.tilesetInfo.max_pos[1]:this.tilesetInfo.min_pos[1],this.options.reverseYAxis?-this.tilesetInfo.min_pos[1]:this.tilesetInfo.max_pos[1],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width1||this.tilesetInfo.max_width);this.setVisibleTiles(this.tilesToId(this.xTiles,this.yTiles,this.zoomLevel))}}},{key:"mirrorTiles",value:function(){return!(this.tilesetInfo.mirror_tiles&&(!1===this.tilesetInfo.mirror_tiles||"false"===this.tilesetInfo.mirror_tiles))}},{key:"getMouseOverHtml",value:function(e,t){if(!this.options||!this.options.showTooltip)return"";if(!this.tilesetInfo)return"";var n=O.tileProxy.calculateResolution(this.tilesetInfo,this.zoomLevel),r=Math.max(this.tilesetInfo.max_pos[1]-this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[0]-this.tilesetInfo.min_pos[0]),i=Math.ceil(Math.log(r/n)/Math.log(10));this.setDataLensSize(1);var o=this._xScale.invert(e),a=this._yScale.invert(t),s="<b>Position:</b> ";if(this.chromInfo){var l=(0,E.absToChr)(o,this.chromInfo),u=(0,E.absToChr)(a,this.chromInfo),c=function(e){return(0,b.format)("."+String(i)+"s")(e)};s+=String(l[0])+":"+String(c(l[1]))+" & "+String(u[0])+":"+String(c(u[1])),s+="<br/>"}var f=null;try{f=this.getVisibleRectangleData(e,t,1,1).get(0,0)}catch(d){return""}return this.options&&"log"===this.options.heatmapValueScaling?f>0?s+"<b>Value:</b> 1e"+String((0,b.format)(".3f")(Math.log(f)/Math.log(10))):0===f?s+"<b>Value:</b> 0":s+"<b>Value:</b> N/A":s+"<b>Value:</b> "+String((0,b.format)(".3f")(f))}},{key:"getTilePosAndDimensions",value:function(e,t,n){var r=n||this.binsPerTile();if(this.tilesetInfo.resolutions){var i=this.tilesetInfo.resolutions.map((function(e){return+e})).sort((function(e,t){return t-e}))[e],o=i*r,a=o;return{tileX:i*r*t[0],tileY:i*r*t[1],tileWidth:o,tileHeight:a}}var s=t[0],l=t[1],u=this.tilesetInfo.min_pos[0],c=this.options.reverseYAxis?-this.tilesetInfo.max_pos[1]:this.tilesetInfo.min_pos[1],f=this.tilesetInfo.max_width/Math.pow(2,e),d=this.tilesetInfo.max_width/Math.pow(2,e);return{tileX:u+s*f,tileY:c+l*d,tileWidth:f,tileHeight:d}}},{key:"calculateZoomLevel",value:function(){var e=this.tilesetInfo.min_pos[0],t=this.tilesetInfo.max_pos[0],n=this.tilesetInfo.min_pos[1],r=this.tilesetInfo.max_pos[1],i=null;if(this.tilesetInfo.resolutions){var o=O.tileProxy.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,e,t),a=O.tileProxy.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._yScale,n,r);i=Math.min(o,a)}else{var s=O.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.binsPerTile()),l=O.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1],this.binsPerTile());i=Math.max(s,l),i=Math.min(i,this.maxZoom)}return this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?i=Math.min(this.options.maxZoom,i):console.error("Invalid maxZoom on track:",this)),i}},{key:"tileToLocalId",value:function(e){return e.dataTransform&&"default"!==e.dataTransform?String(e.join("."))+"."+String(e.mirrored)+"."+String(e.dataTransform):String(e.join("."))+"."+String(e.mirrored)}},{key:"tileToRemoteId",value:function(e){return e.dataTransform&&"default"!==e.dataTransform?String(e.join("."))+"."+String(e.dataTransform):""+String(e.join("."))}},{key:"localToRemoteId",value:function(e){var t=e.split(".");return t.slice(0,t.length-1).join(".")}}]),t}(S.default);t.default=P},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(19)),i=v(n(45)),o=v(n(5)),a=v(n(3)),s=v(n(4)),l=v(n(6)),u=v(n(13)),c=v(n(7)),f=v(n(248)),d=v(n(175)),h=n(24),p=n(10),m=n(11);function v(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n)),i=e.animate,s=e.isShowGlobalMousePosition;return r.constIndicator=new m.GLOBALS.PIXI.Graphics,r.pMain.addChild(r.constIndicator),r.axis=new d.default(r),r.pBase.addChild(r.axis.pAxis),r.animate=i,r.options=n,r.isShowGlobalMousePosition=s,r.pubSubs=[],r.options.showMousePosition&&!r.hideMousePosition&&(r.hideMousePosition=(0,p.showMousePosition)(r,r.is2d,r.isShowGlobalMousePosition())),r}return(0,c.default)(t,e),(0,s.default)(t,[{key:"rerender",value:function(e,n){var r=(0,i.default)(e);(n||r!==this.prevOptions)&&((0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"rerender",this).call(this,e,n),this.prevOptions=r,this.options=e,this.options.showMousePosition&&!this.hideMousePosition&&(this.hideMousePosition=(0,p.showMousePosition)(this,this.is2d,this.isShowGlobalMousePosition())),!this.options.showMousePosition&&this.hideMousePosition&&(this.hideMousePosition(),this.hideMousePosition=void 0))}},{key:"calculateZoomLevel",value:function(){if(this.tilesetInfo.resolutions)return h.tileProxy.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]-2);var e=h.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.bins_per_dimension||this.tilesetInfo.tile_size),t=Math.min(e,this.maxZoom);return t=Math.max(t,0)}},{key:"relevantScale",value:function(){return this._xScale}},{key:"draw",value:function(){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"draw",this).call(this),this.drawConstIndicator()}},{key:"drawAxis",value:function(e){if(this.options.axisPositionVertical||this.options.axisPositionHorizontal)if(this.options.axisPositionVertical&&"hidden"===this.options.axisPositionVertical)this.axis.clearAxis();else if(this.options.axisPositionHorizontal&&"hidden"===this.options.axisPositionHorizontal)this.axis.clearAxis();else{var t=this.options.axisMargin||0;"left"===this.options.axisPositionHorizontal||"top"===this.options.axisPositionVertical?(this.axis.pAxis.position.x=this.position[0]+t,this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisRight(e,this.dimensions[1])):"outsideLeft"===this.options.axisPositionHorizontal||"outsideTop"===this.options.axisPositionVertical?(this.axis.pAxis.position.x=this.position[0]+t,this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisLeft(e,this.dimensions[1])):"right"===this.options.axisPositionHorizontal||"bottom"===this.options.axisPositionVertical?(this.axis.pAxis.position.x=this.position[0]+this.dimensions[0]-t,this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisLeft(e,this.dimensions[1])):"outsideRight"!==this.options.axisPositionHorizontal&&"outsideBottom"!==this.options.axisPositionVertical||(this.axis.pAxis.position.x=this.position[0]+this.dimensions[0]-t,this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisRight(e,this.dimensions[1]))}else this.axis.clearAxis()}},{key:"mouseMoveZoomHandler",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.mouseX,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.mouseY;if("undefined"!==typeof e&&this.areAllVisibleTilesLoaded()&&this.tilesetInfo){var n=0,r=0,i="1d-horizontal";this.isLeftModified?(n=t-this.position[1],r=e-this.position[0],i="1d-vertical"):(n=e-this.position[0],r=t-this.position[1]);var o=e-this.position[0],a=t-this.position[1],s=this._xScale.invert(n),l=this._yScale.invert(r),u=this.getDataAtPos(n);u&&this.onMouseMoveZoom({trackId:this.id,data:u,absX:e,absY:t,relX:o,relY:a,dataX:s,dataY:l,orientation:i})}}},{key:"drawConstIndicator",value:function(){var e=this;if(this.constIndicator){for(this.constIndicator.clear();this.constIndicator.children[0];)this.constIndicator.removeChild(this.constIndicator.children[0]);this.options.constIndicators&&this.valueScale&&this.options.constIndicators.forEach((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.color,r=void 0===n?"black":n,i=t.opacity,o=void 0===i?1:i,a=t.label,s=void 0===a?null:a,l=t.labelColor,u=void 0===l?"black":l,c=t.labelOpacity,f=void 0===c?1:c,d=t.labelPosition,h=void 0===d?"leftTop":d,v=t.labelSize,g=void 0===v?12:v,y=t.value,b=void 0===y?0:y,_=(0,p.colorToHex)(r),x=(0,p.colorToHex)(u);e.constIndicator.beginFill(_,o);var w=e.valueScale(b),E=0,T=0;if(s){var S=new m.GLOBALS.PIXI.Text(s,{fontFamily:"Arial",fontSize:g,fill:x});switch(S.alpha=f,h){case"right":S.anchor.x=1,S.anchor.y=.5,S.x=e.position[0]+e.dimensions[0]-6,S.y=w,T=S.width+8;break;case"rightBottom":S.anchor.x=1,S.anchor.y=0,S.x=e.position[0]+e.dimensions[0]-6,S.y=w;break;case"rightTop":S.anchor.x=1,S.anchor.y=1,S.x=e.position[0]+e.dimensions[0]-6,S.y=w;break;case"left":S.anchor.x=0,S.anchor.y=.5,S.x=e.position[0]+2,S.y=w,E=S.width+4;break;case"leftBottom":S.anchor.x=0,S.anchor.y=0,S.x=e.position[0]+2,S.y=w;break;case"leftTop":default:S.anchor.x=0,S.anchor.y=1,S.x=e.position[0]+2,S.y=w}e.constIndicator.addChild(S)}e.constIndicator.drawRect(e.position[0]+E,w,e.dimensions[0]-T,1)}))}}},{key:"exportSVG",value:function(){var e=this,n=null,i=null;if((0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"exportSVG",this)){var a=(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"exportSVG",this).call(this),s=(0,r.default)(a,2);i=s[0],n=s[1]}else n=i=document.createElement("g");i.setAttribute("class","horizontal-tiled-1d-track");var l=document.createElement("g");return n.appendChild(l),this.options.constIndicators&&this.options.constIndicators.forEach((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.color,r=void 0===n?"black":n,i=t.opacity,o=void 0===i?1:i,a=t.label,s=void 0===a?null:a,u=t.labelColor,c=void 0===u?"black":u,f=t.labelOpacity,d=void 0===f?1:f,h=t.labelPosition,p=void 0===h?"leftTop":h,m=t.labelSize,v=void 0===m?12:m,g=t.value,y=void 0===g?0:g,b=e.valueScale(y);if(s){var _=document.createElement("text");switch(_.textContent=s,_.setAttribute("x",e.position[0]),_.setAttribute("y",b),_.setAttribute("style","font-family: 'Arial'; font-size: "+String(v)+"px; fill: "+String(c)+"; fill-opacity: "+String(d)+";"),p){case"rightBottom":_.setAttribute("x",e.position[0]+e.dimensions[0]-6),_.setAttribute("y",b+v+2),_.setAttribute("text-anchor","end");break;case"right":case"rightTop":_.setAttribute("x",e.position[0]+e.dimensions[0]-6),_.setAttribute("y",b-2),_.setAttribute("text-anchor","end");break;case"leftBottom":_.setAttribute("x",e.position[0]+2),_.setAttribute("y",b+v+2);break;case"left":case"leftTop":default:_.setAttribute("x",e.position[0]+2),_.setAttribute("y",b-2)}l.appendChild(_)}var x=document.createElement("line");x.setAttribute("x1",e.position[0]),x.setAttribute("y1",b),x.setAttribute("x2",e.dimensions[0]),x.setAttribute("y2",b),x.setAttribute("stroke",r),x.setAttribute("stroke-opacity",o),l.appendChild(x)})),[i,n]}}]),t}(f.default);t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=b(n(16)),i=b(n(25)),o=b(n(21)),a=b(n(32)),s=b(n(35)),l=b(n(5)),u=b(n(3)),c=b(n(4)),f=b(n(6)),d=b(n(13)),h=b(n(7)),p=b(n(27)),m=b(n(41)),v=n(24),g=n(10),y=n(11);function b(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(e,n){(0,u.default)(this,t);var r=(0,f.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e,n)),i=e.animate;return r.visibleTiles=new s.default,r.visibleTileIds=new s.default,r.fetching=new s.default,r.fetchedTiles={},r.tileGraphics={},r.minX="undefined"===typeof r.options.minPos||(0,a.default)(+r.options.minPos)?-180:+r.options.minPos,r.maxX=+r.options.maxPos||180,r.maxX="undefined"===typeof r.options.maxPos||(0,a.default)(+r.options.maxPos)?180:+r.options.maxPos,r.minY=r.options.minY||r.minX,r.maxY=r.options.maxY||r.maxX,r.maxZoom=19,r.maxWidth=r.maxX-r.minX,r.animate=i,r.uuid=p.default.nice(),r.refreshTilesDebounced=(0,g.debounce)(r.refreshTiles.bind(r),y.ZOOM_DEBOUNCE),r}return(0,h.default)(t,e),(0,c.default)(t,[{key:"visibleAndFetchedIds",value:function(){var e=this;return(0,o.default)(this.fetchedTiles).filter((function(t){return e.visibleTileIds.has(t)}))}},{key:"visibleAndFetchedTiles",value:function(){var e=this;return this.visibleAndFetchedIds().map((function(t){return e.fetchedTiles[t]}))}},{key:"setVisibleTiles",value:function(e){var t=this;this.visibleTiles=e.map((function(e){return{tileId:t.tileToLocalId(e),remoteId:t.tileToRemoteId(e),mirrored:e.mirrored}})),this.visibleTileIds=new s.default(this.visibleTiles.map((function(e){return e.tileId})))}},{key:"removeAllTiles",value:function(){var e=new s.default((0,o.default)(this.fetchedTiles));this.removeTiles([].concat((0,i.default)(e)))}},{key:"refreshTiles",value:function(){var e=this;this.calculateVisibleTiles();for(var t=new s.default((0,o.default)(this.fetchedTiles)),n=[].concat((0,i.default)(this.visibleTiles)).filter((function(n){return!e.fetching.has(n.remoteId)&&!t.has(n.tileId)})),r=0;r<n.length;r++)this.fetching.add(n[r].remoteId);var a=[].concat((0,i.default)(t)).filter((function(t){return!e.visibleTileIds.has(t)}));this.removeTiles(a),this.fetchNewTiles(n)}},{key:"removeTiles",value:function(e){var t=this;e.length&&this.areAllVisibleTilesLoaded()&&(e.forEach((function(e){var n=e;t.destroyTile(t.fetchedTiles[n]),n in t.tileGraphics&&(t.pMain.removeChild(t.tileGraphics[n]),delete t.tileGraphics[n]),delete t.fetchedTiles[n]})),this.synchronizeTilesAndGraphics(),this.draw())}},{key:"tileToLocalId",value:function(e){return e.join(".")}},{key:"tileToRemoteId",value:function(e){return e.join(".")}},{key:"localToRemoteId",value:function(e){var t=e.split(".");return t.slice(0,t.length-1).join(".")}},{key:"calculateZoomLevel",value:function(){var e=v.tileProxy.calculateZoomLevel(this._xScale,this.minX,this.maxX),t=v.tileProxy.calculateZoomLevel(this._xScale,this.minY,this.maxY),n=Math.min(Math.max(e,t),this.maxZoom);return this.options.maxZoom&&(this.options.maxZoom>=0?n=Math.min(this.options.maxZoom,n):console.error("Invalid maxZoom on track:",this)),n}},{key:"calculateVisibleTiles",value:function(){this.zoomLevel=this.calculateZoomLevel(),this.xTiles=v.tileProxy.calculateTiles(this.zoomLevel,this._xScale,this.minX,this.maxX,this.maxZoom,this.maxWidth),this.yTiles=v.tileProxy.calculateTiles(this.zoomLevel,this._yScale,this.minY,this.maxY,this.maxZoom,this.maxWidth);for(var e=this.xTiles,t=this.yTiles,n=this.zoomLevel,r=[],i=0;i<e.length;i++)for(var o=0;o<t.length;o++){var a=[n,e[i],t[o]];r.push(a)}this.setVisibleTiles(r)}},{key:"zoomed",value:function(e,n,r,i,o){(0,d.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"zoomed",this).call(this,e,n),this.xScale(e),this.yScale(n),this.pMain.position.x=i,this.pMain.position.y=o,this.pMain.scale.x=r,this.pMain.scale.y=r,this.refreshTilesDebounced(),this.draw()}},{key:"setPosition",value:function(e){(0,d.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"setPosition",this).call(this,e)}},{key:"setDimensions",value:function(e){(0,d.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"setDimensions",this).call(this,e)}},{key:"areAllVisibleTilesLoaded",value:function(){for(var e=new s.default((0,o.default)(this.fetchedTiles)),t=[].concat((0,i.default)(this.visibleTileIds)),n=0;n<t.length;n++)if(!e.has(t[n]))return!1;return!0}},{key:"allTilesLoaded",value:function(){}},{key:"minValue",value:function(e){return e&&(this.scale.minValue=e),this.scale.minValue}},{key:"maxValue",value:function(e){return e&&(this.scale.maxValue=e),this.scale.maxValue}},{key:"minRawValue",value:function(){return this.scale.minRawValue}},{key:"maxRawValue",value:function(){return this.scale.maxRawValue}},{key:"getTilePosAndDimensions",value:function(e,t){var n=this.maxWidth/Math.pow(2,e),r=n;return{tileX:this.minX+t[0]*n,tileY:this.minY+t[1]*r,tileWidth:n,tileHeight:r}}},{key:"setSpriteProperties",value:function(e,t,n){var r=this.getTilePosAndDimensions(t,n),i=r.tileX,o=r.tileY,a=r.tileWidth,s=r.tileHeight;e.x=this._refXScale(i),e.y=this._refYScale(o);var l=i+a,u=o+s;e.width=this._refXScale(l)-this._refXScale(i),e.height=this._refYScale(u)-this._refYScale(o)}},{key:"initTile",value:function(e){var t=new y.GLOBALS.PIXI.Texture(new y.GLOBALS.PIXI.BaseTexture(e.tileData.img)),n=new y.GLOBALS.PIXI.Sprite(t),r=e.graphics;e.sprite=n,this.setSpriteProperties(e.sprite,e.tileData.zoomLevel,e.tileData.tilePos),r.removeChildren(),r.addChild(e.sprite)}},{key:"updateTile",value:function(e){}},{key:"destroyTile",value:function(e){}},{key:"addMissingGraphics",value:function(){for(var e=(0,o.default)(this.fetchedTiles),t=0;t<e.length;t++)if(!(e[t]in this.tileGraphics)){var n=new y.GLOBALS.PIXI.Graphics;this.pMain.addChild(n),this.fetchedTiles[e[t]].graphics=n,this.initTile(this.fetchedTiles[e[t]]),this.tileGraphics[e[t]]=n}}},{key:"updateExistingGraphics",value:function(){for(var e=(0,o.default)(this.fetchedTiles),t=0;t<e.length;t++)this.updateTile(this.fetchedTiles[e[t]])}},{key:"synchronizeTilesAndGraphics",value:function(){this.addMissingGraphics(),this.updateExistingGraphics()}},{key:"loadTileData",value:function(e,t){var n=this.lruCache.get(e.tileId);return n||(n=t(e.data,e.type),this.lruCache.put(e.tileId,n)),n}},{key:"getTileUrl",value:function(e){var t=["a","b","c"],n=Math.floor(Math.random()*t.length);return"https://"+String(t[n])+".tile.openstreetmap.org/"+String(e[0])+"/"+String(e[1])+"/"+String(e[2])+".png"}},{key:"fetchNewTiles",value:function(e){var t=this;if(e.length>0){var n=[].concat((0,i.default)(new s.default(e.map((function(e){return e.remoteId}))))),o=function(e){var n=e.split("."),r=t.getTileUrl(n),i=new Image;i.crossOrigin="Anonymous",i.src=r,i.onload=function(){var o={};o[e]={tileId:e,img:i,zoomLevel:+n[0],tilePos:[+n[1],+n[2]],tileSrc:r},t.receivedTiles(o)}},a=!0,l=!1,u=void 0;try{for(var c,f=(0,r.default)(n);!(a=(c=f.next()).done);a=!0)o(c.value)}catch(d){l=!0,u=d}finally{try{!a&&f.return&&f.return()}finally{if(l)throw u}}}}},{key:"receivedTiles",value:function(e){for(var t=0;t<this.visibleTiles.length;t++){var n=this.visibleTiles[t].tileId;e[this.visibleTiles[t].remoteId]&&this.visibleTiles[t].remoteId in e&&(n in this.fetchedTiles||(this.fetchedTiles[n]=this.visibleTiles[t]),this.fetchedTiles[n].tileData=e[this.visibleTiles[t].remoteId])}for(var r in e)e[r]&&this.fetching.has(r)&&this.fetching.delete(r);this.synchronizeTilesAndGraphics(),this.refreshTiles(),this.draw(),this.animate()}},{key:"draw",value:function(){this.delayDrawing||(0,d.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"draw",this).call(this)}},{key:"drawTile",value:function(){}},{key:"refScalesChanged",value:function(e,n){for(var r in(0,d.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"refScalesChanged",this).call(this,e,n),this.fetchedTiles){var i=this.fetchedTiles[r];i.sprite&&this.setSpriteProperties(i.sprite,i.tileData.zoomLevel,i.tileData.tilePos)}}}]),t}(m.default);t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Provider=void 0;var r=a(n(44)),i=a(n(1)),o=a(n(171));function a(e){return e&&e.__esModule?e:{default:e}}var s=i.default.createContext({close:o.default,open:o.default}),l=s.Provider,u=s.Consumer;t.default=function(e){return i.default.forwardRef((function(t,n){return i.default.createElement(u,null,(function(o){return i.default.createElement(e,(0,r.default)({ref:n},t,{modal:o}))}))}))},t.Provider=l},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(740),i=n(781),o=n(139),a=n(29),s=n(790);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},function(e,t,n){var r=n(190);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(e,t,n){var r=n(387),i=n(794)(r);e.exports=i},function(e,t,n){var r=n(276),i=n(142),o=n(391),a=n(29);e.exports=function(e,t){return(a(e)?r:i)(e,o(t))}},function(e,t,n){var r=n(432),i=n(436);function o(t,n){return delete e.exports[t],e.exports[t]=n,n}e.exports={Parser:r,Tokenizer:n(433),ElementType:n(119),DomHandler:i,get FeedHandler(){return o("FeedHandler",n(949))},get Stream(){return o("Stream",n(959))},get WritableStream(){return o("WritableStream",n(438))},get ProxyHandler(){return o("ProxyHandler",n(961))},get DomUtils(){return o("DomUtils",n(99))},get CollectingHandler(){return o("CollectingHandler",n(962))},DefaultHandler:i,get RssHandler(){return o("RssHandler",this.FeedHandler)},parseDOM:function(e,t){var n=new i(t);return new r(n,t).end(e),n.dom},parseFeed:function(t,n){var i=new e.exports.FeedHandler(n);return new r(i,n).end(t),i.dom},createDomStream:function(e,t,n){var o=new i(e,t,n);return new r(o,t)},EVENTS:{attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0}}},function(e,t,n){"use strict";t.REPLACEMENT_CHARACTER="\ufffd",t.CODE_POINTS={EOF:-1,NULL:0,TABULATION:9,CARRIAGE_RETURN:13,LINE_FEED:10,FORM_FEED:12,SPACE:32,EXCLAMATION_MARK:33,QUOTATION_MARK:34,NUMBER_SIGN:35,AMPERSAND:38,APOSTROPHE:39,HYPHEN_MINUS:45,SOLIDUS:47,DIGIT_0:48,DIGIT_9:57,SEMICOLON:59,LESS_THAN_SIGN:60,EQUALS_SIGN:61,GREATER_THAN_SIGN:62,QUESTION_MARK:63,LATIN_CAPITAL_A:65,LATIN_CAPITAL_F:70,LATIN_CAPITAL_X:88,LATIN_CAPITAL_Z:90,GRAVE_ACCENT:96,LATIN_SMALL_A:97,LATIN_SMALL_F:102,LATIN_SMALL_X:120,LATIN_SMALL_Z:122,REPLACEMENT_CHARACTER:65533},t.CODE_POINT_SEQUENCES={DASH_DASH_STRING:[45,45],DOCTYPE_STRING:[68,79,67,84,89,80,69],CDATA_START_STRING:[91,67,68,65,84,65,91],CDATA_END_STRING:[93,93,62],SCRIPT_STRING:[115,99,114,105,112,116],PUBLIC_STRING:[80,85,66,76,73,67],SYSTEM_STRING:[83,89,83,84,69,77]}},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,u=[],c=!1,f=-1;function d(){c&&l&&(c=!1,l.length?u=l.concat(u):f=-1,u.length&&h())}function h(){if(!c){var e=s(d);c=!0;for(var t=u.length;t;){for(l=u,u=[];++f<t;)l&&l[f].run();f=-1,t=u.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||c||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"===typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"===typeof e},t.isString=function(e){return"string"===typeof e},t.isSymbol=function(e){return"symbol"===typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"===typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"===typeof e},t.isPrimitive=function(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e},t.isBuffer=e.isBuffer}).call(this,n(110).Buffer)},function(e,t,n){var r=n(194),i=n(289),o=n(449),a={tag:!0,script:!0,style:!0};t.isTag=function(e){return e.type&&(e=e.type),a[e]||!1},t.camelCase=function(e){return e.replace(/[_.-](\w|$)/g,(function(e,t){return t.toUpperCase()}))},t.cssCase=function(e){return e.replace(/[A-Z]/g,"-$&").toLowerCase()},t.domEach=function(e,t){for(var n=0,r=e.length;n<r&&!1!==t.call(e,n,e[n]);)++n;return e},t.cloneDom=function(e,t){return t=o({},t,{_useHtmlParser2:!0}),r(i(e,t),t,!1).children};var s=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/;t.isHtml=function(e){if("<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3)return!0;var t=s.exec(e);return!(!t||!t[1])}},function(e,t){e.exports={trueFunc:function(){return!0},falseFunc:function(){return!1}}},function(e,t,n){"use strict";var r=n(52),i=n(53),o=n(467),a=n(477),s=a(),l=n(1049),u=i.call(Function.call,s);r(u,{getPolyfill:a,implementation:o,shim:l}),e.exports=u},function(e,t,n){"use strict";var r=Function.prototype.toString,i=/^\s*class\b/,o=function(e){try{var t=r.call(e);return i.test(t)}catch(n){return!1}},a=Object.prototype.toString,s="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;e.exports=function(e){if(!e)return!1;if("function"!==typeof e&&"object"!==typeof e)return!1;if("function"===typeof e&&!e.prototype)return!0;if(s)return function(e){try{return!o(e)&&(r.call(e),!0)}catch(t){return!1}}(e);if(o(e))return!1;var t=a.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.propsOfNode=h,t.childrenOfNode=p,t.hasClassName=function(e,t){var n=h(e).className||"";return n=String(n).replace(/\s/g," "),(0,u.default)(t)?t.test(n):(" "+String(n)+" ").indexOf(" "+String(t)+" ")>-1},t.treeForEach=m,t.treeFilter=v,t.findParentNode=function(e,t){return v(e,(function(e){return!!e.rendered&&-1!==p(e).indexOf(t)}))[0]||null},t.pathToNode=y,t.parentsOfNode=function(e,t){return(y(e,t)||[]).reverse()},t.nodeHasId=function(e,t){return h(e).id===t},t.nodeMatchesObjectProps=function(e,t){return(0,s.default)(h(e),(n=t,(0,a.default)(n).reduce((function(e,t){var n=r(t,2),o=n[0],a=n[1];return(0,i.default)({},e,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},o,function(e){return"undefined"!==typeof e?e:b}(a)))}),{})));var n},t.getTextFromNode=function e(t){return null==t?"":"string"===typeof t||"number"===typeof t?String(t):t.type&&"function"===typeof t.type?"<"+String(t.type.displayName||(0,l.default)(t.type))+" />":p(t).map(e).join("")};var i=f(n(118)),o=f(n(150)),a=f(n(479)),s=f(n(1054)),l=f(n(304)),u=f(n(476)),c=f(n(101));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function h(e){return e&&e.props||{}}function p(e){if(!e)return[];var t=(0,c.default)(),n=t.isFragment&&"function"===typeof t.isFragment,r=Array.isArray(e.rendered)?(0,o.default)(e.rendered,1):[e.rendered];return n?(0,o.default)(r.map((function(e){return t.isFragment(e)?p(e):e})),1):r}function m(e,t){e&&t(e),p(e).forEach((function(e){return m(e,t)}))}function v(e,t){var n=[];return m(e,(function(e){t(e)&&n.push(e)})),n}function g(e,t){return e.filter((function(e){return 0!==v(e,t).length}))}function y(e,t){for(var n=[t],r=[],i=function(t){return e===t};n.length;){var o=n.pop(),a=p(o);if(o===e)return g(r,i);r.push(o),0===a.length&&r.pop(),n.push.apply(n,d(a))}return null}var b={}},function(e,t,n){"use strict";n.r(t);var r=n(63),i=n(84),o=n(15),a=n(0),s=n(85),l=function(e){return function(){return e}};function u(e,t,n){this.target=e,this.type=t,this.transform=n}function c(e,t,n){this.k=e,this.x=t,this.y=n}c.prototype={constructor:c,scale:function(e){return 1===e?this:new c(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new c(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var f=new c(1,0,0);function d(e){return e.__zoom||f}function h(){a.event.stopImmediatePropagation()}d.prototype=c.prototype;var p=function(){a.event.preventDefault(),a.event.stopImmediatePropagation()};function m(){return!a.event.button}function v(){var e,t,n=this;return n instanceof SVGElement?(e=(n=n.ownerSVGElement||n).width.baseVal.value,t=n.height.baseVal.value):(e=n.clientWidth,t=n.clientHeight),[[0,0],[e,t]]}function g(){return this.__zoom||f}function y(){return-a.event.deltaY*(a.event.deltaMode?120:1)/500}function b(){return"ontouchstart"in this}function _(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}var x=function(){var e,t,n=m,d=v,x=_,w=y,E=b,T=[0,1/0],S=[[-1/0,-1/0],[1/0,1/0]],k=250,O=o.i,C=[],A=Object(r.a)("start","zoom","end"),M=0;function P(e){e.property("__zoom",g).on("wheel.zoom",F).on("mousedown.zoom",B).on("dblclick.zoom",z).filter(E).on("touchstart.zoom",H).on("touchmove.zoom",U).on("touchend.zoom touchcancel.zoom",V).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function I(e,t){return(t=Math.max(T[0],Math.min(T[1],t)))===e.k?e:new c(t,e.x,e.y)}function D(e,t,n){var r=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return r===e.x&&i===e.y?e:new c(e.k,r,i)}function N(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function R(e,t,n){e.on("start.zoom",(function(){L(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){L(this,arguments).end()})).tween("zoom",(function(){var e=this,r=arguments,i=L(e,r),o=d.apply(e,r),a=n||N(o),s=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),l=e.__zoom,u="function"===typeof t?t.apply(e,r):t,f=O(l.invert(a).concat(s/l.k),u.invert(a).concat(s/u.k));return function(e){if(1===e)e=u;else{var t=f(e),n=s/t[2];e=new c(n,a[0]-t[0]*n,a[1]-t[1]*n)}i.zoom(null,e)}}))}function L(e,t){for(var n,r=0,i=C.length;r<i;++r)if((n=C[r]).that===e)return n;return new j(e,t)}function j(e,t){this.that=e,this.args=t,this.index=-1,this.active=0,this.extent=d.apply(e,t)}function F(){if(n.apply(this,arguments)){var e=L(this,arguments),t=this.__zoom,r=Math.max(T[0],Math.min(T[1],t.k*Math.pow(2,w.apply(this,arguments)))),i=Object(a.mouse)(this);if(e.wheel)e.mouse[0][0]===i[0]&&e.mouse[0][1]===i[1]||(e.mouse[1]=t.invert(e.mouse[0]=i)),clearTimeout(e.wheel);else{if(t.k===r)return;e.mouse=[i,t.invert(i)],Object(s.interrupt)(this),e.start()}p(),e.wheel=setTimeout(o,150),e.zoom("mouse",x(D(I(t,r),e.mouse[0],e.mouse[1]),e.extent,S))}function o(){e.wheel=null,e.end()}}function B(){if(!t&&n.apply(this,arguments)){var e=L(this,arguments),r=Object(a.select)(a.event.view).on("mousemove.zoom",c,!0).on("mouseup.zoom",f,!0),o=Object(a.mouse)(this),l=a.event.clientX,u=a.event.clientY;Object(i.dragDisable)(a.event.view),h(),e.mouse=[o,this.__zoom.invert(o)],Object(s.interrupt)(this),e.start()}function c(){if(p(),!e.moved){var t=a.event.clientX-l,n=a.event.clientY-u;e.moved=t*t+n*n>M}e.zoom("mouse",x(D(e.that.__zoom,e.mouse[0]=Object(a.mouse)(e.that),e.mouse[1]),e.extent,S))}function f(){r.on("mousemove.zoom mouseup.zoom",null),Object(i.dragEnable)(a.event.view,e.moved),p(),e.end()}}function z(){if(n.apply(this,arguments)){var e=this.__zoom,t=Object(a.mouse)(this),r=e.invert(t),i=e.k*(a.event.shiftKey?.5:2),o=x(D(I(e,i),t,r),d.apply(this,arguments),S);p(),k>0?Object(a.select)(this).transition().duration(k).call(R,o,t):Object(a.select)(this).call(P.transform,o)}}function H(){if(n.apply(this,arguments)){var t,r,i,o,l=L(this,arguments),u=a.event.changedTouches,c=u.length;for(h(),r=0;r<c;++r)i=u[r],o=[o=Object(a.touch)(this,u,i.identifier),this.__zoom.invert(o),i.identifier],l.touch0?l.touch1||(l.touch1=o):(l.touch0=o,t=!0);if(e&&(e=clearTimeout(e),!l.touch1))return l.end(),void((o=Object(a.select)(this).on("dblclick.zoom"))&&o.apply(this,arguments));t&&(e=setTimeout((function(){e=null}),500),Object(s.interrupt)(this),l.start())}}function U(){var t,n,r,i,o=L(this,arguments),s=a.event.changedTouches,l=s.length;for(p(),e&&(e=clearTimeout(e)),t=0;t<l;++t)n=s[t],r=Object(a.touch)(this,s,n.identifier),o.touch0&&o.touch0[2]===n.identifier?o.touch0[0]=r:o.touch1&&o.touch1[2]===n.identifier&&(o.touch1[0]=r);if(n=o.that.__zoom,o.touch1){var u=o.touch0[0],c=o.touch0[1],f=o.touch1[0],d=o.touch1[1],h=(h=f[0]-u[0])*h+(h=f[1]-u[1])*h,m=(m=d[0]-c[0])*m+(m=d[1]-c[1])*m;n=I(n,Math.sqrt(h/m)),r=[(u[0]+f[0])/2,(u[1]+f[1])/2],i=[(c[0]+d[0])/2,(c[1]+d[1])/2]}else{if(!o.touch0)return;r=o.touch0[0],i=o.touch0[1]}o.zoom("touch",x(D(n,r,i),o.extent,S))}function V(){var e,n,r=L(this,arguments),i=a.event.changedTouches,o=i.length;for(h(),t&&clearTimeout(t),t=setTimeout((function(){t=null}),500),e=0;e<o;++e)n=i[e],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0?r.touch0[1]=this.__zoom.invert(r.touch0[0]):r.end()}return P.transform=function(e,t){var n=e.selection?e.selection():e;n.property("__zoom",g),e!==n?R(e,t):n.interrupt().each((function(){L(this,arguments).start().zoom(null,"function"===typeof t?t.apply(this,arguments):t).end()}))},P.scaleBy=function(e,t){P.scaleTo(e,(function(){var e=this.__zoom.k,n="function"===typeof t?t.apply(this,arguments):t;return e*n}))},P.scaleTo=function(e,t){P.transform(e,(function(){var e=d.apply(this,arguments),n=this.__zoom,r=N(e),i=n.invert(r),o="function"===typeof t?t.apply(this,arguments):t;return x(D(I(n,o),r,i),e,S)}))},P.translateBy=function(e,t,n){P.transform(e,(function(){return x(this.__zoom.translate("function"===typeof t?t.apply(this,arguments):t,"function"===typeof n?n.apply(this,arguments):n),d.apply(this,arguments),S)}))},P.translateTo=function(e,t,n){P.transform(e,(function(){var e=d.apply(this,arguments),r=this.__zoom,i=N(e);return x(f.translate(i[0],i[1]).scale(r.k).translate("function"===typeof t?-t.apply(this,arguments):-t,"function"===typeof n?-n.apply(this,arguments):-n),e,S)}))},j.prototype={start:function(){return 1===++this.active&&(this.index=C.push(this)-1,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(C.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(e){Object(a.customEvent)(new u(P,e,this.that.__zoom),A.apply,A,[e,this.that,this.args])}},P.wheelDelta=function(e){return arguments.length?(w="function"===typeof e?e:l(+e),P):w},P.filter=function(e){return arguments.length?(n="function"===typeof e?e:l(!!e),P):n},P.touchable=function(e){return arguments.length?(E="function"===typeof e?e:l(!!e),P):E},P.extent=function(e){return arguments.length?(d="function"===typeof e?e:l([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),P):d},P.scaleExtent=function(e){return arguments.length?(T[0]=+e[0],T[1]=+e[1],P):[T[0],T[1]]},P.translateExtent=function(e){return arguments.length?(S[0][0]=+e[0][0],S[1][0]=+e[1][0],S[0][1]=+e[0][1],S[1][1]=+e[1][1],P):[[S[0][0],S[0][1]],[S[1][0],S[1][1]]]},P.constrain=function(e){return arguments.length?(x=e,P):x},P.duration=function(e){return arguments.length?(k=+e,P):k},P.interpolate=function(e){return arguments.length?(O=e,P):O},P.on=function(){var e=A.on.apply(A,arguments);return e===A?P:e},P.clickDistance=function(e){return arguments.length?(M=(e=+e)*e,P):Math.sqrt(M)},P};n.d(t,"zoom",(function(){return x})),n.d(t,"zoomTransform",(function(){return d})),n.d(t,"zoomIdentity",(function(){return f}))},function(e,t,n){var r=n(46),i=n(47),o=n(204)(!1),a=n(90)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),l=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~o(u,n)||u.push(n));return u}},function(e,t,n){e.exports=!n(34)&&!n(59)((function(){return 7!=Object.defineProperty(n(105)("div"),"a",{get:function(){return 7}}).a}))},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){e.exports=n(39)},function(e,t,n){var r=n(30),i=n(36),o=n(74);e.exports=n(34)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,l=0;s>l;)r.f(e,n=a[l++],t[n]);return e}},function(e,t,n){var r=n(23).document;e.exports=r&&r.documentElement},function(e,t){},function(e,t,n){var r=n(36);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(a){var o=e.return;throw void 0!==o&&r(o.call(e)),a}}},function(e,t,n){var r=n(49),i=n(20)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){var r=n(20)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(a){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],s=o[r]();s.next=function(){return{done:n=!0}},o[r]=function(){return s},e(o)}catch(a){}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8);t.default=function(e){var t=void 0;switch(e?e.toLowerCase():e){case"mean":t=r.mean;break;case"sum":t=r.sum;break;case"variance":t=r.variance;break;case"deviation":t=r.deviation;break;default:t=r.mean,console.warn("Encountered an unsupported selectedRowsAggregationMode option.")}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(25)),i=c(n(54)),o=c(n(50)),a=c(n(229)),s=c(n(3)),l=c(n(4)),u=n(111);function c(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(t){(0,s.default)(this,e),this.epsilon=1e-6,this.data=t,this.tileSize=this.data.length,this.paddedTileSize=Math.pow(2,Math.ceil((0,a.default)(this.tileSize))),this.numSubsets=Math.min(u.NUM_PRECOMP_SUBSETS_PER_1D_TTILE,this.paddedTileSize),this.subsetSize=this.paddedTileSize/this.numSubsets,this.subsetMinimums=this.computeSubsetNonZeroMinimums(),this.subsetMaximums=this.computeSubsetNonZeroMaximums(),this.minNonZeroInTile=this.getMinNonZeroInTile(),this.maxNonZeroInTile=this.getMaxNonZeroInTile()}return(0,l.default)(e,[{key:"getMinNonZeroInSubset",value:function(e){var t=e[0],n=e[1],r=o.default;if(0===t&&n===this.tileSize)return this.minNonZeroInTile;var i=Math.ceil(t/this.subsetSize),a=Math.floor((n-1)/this.subsetSize);return i>=a?this.minNonZero(this.data,t,n):(t<i*this.subsetSize&&(r=Math.min(r,this.minNonZero(this.data,t,i*this.subsetSize))),r=Math.min(r,this.minNonZero(this.subsetMinimums,i,a)),n>a*this.subsetSize&&(r=Math.min(r,this.minNonZero(this.data,a*this.subsetSize,n))),r)}},{key:"getMaxNonZeroInSubset",value:function(e){var t=e[0],n=e[1],r=i.default;if(0===t&&n===this.tileSize)return this.maxNonZeroInTile;var o=Math.ceil(t/this.subsetSize),a=Math.floor((n-1)/this.subsetSize);return o>=a?this.maxNonZero(this.data,t,n):(t<o*this.subsetSize&&(r=Math.max(r,this.maxNonZero(this.data,t,o*this.subsetSize))),r=Math.max(r,this.maxNonZero(this.subsetMaximums,o,a)),n>a*this.subsetSize&&(r=Math.max(r,this.maxNonZero(this.data,a*this.subsetSize,n))),r)}},{key:"computeSubsetNonZeroMinimums",value:function(){for(var e=[],t=0;t<this.numSubsets;t++){for(var n=o.default,r=0;r<this.subsetSize;r++){var i=this.data[t*this.subsetSize+r];void 0!==i&&(i<this.epsilon&&i>-this.epsilon||i<n&&(n=i))}e.push(n)}return e}},{key:"computeSubsetNonZeroMaximums",value:function(){for(var e=[],t=0;t<this.numSubsets;t++){for(var n=i.default,r=0;r<this.subsetSize;r++){var o=this.data[t*this.subsetSize+r];void 0!==o&&(o<this.epsilon&&o>-this.epsilon||o>n&&(n=o))}e.push(n)}return e}},{key:"getMinNonZeroInTile",value:function(){return Math.min.apply(Math,(0,r.default)(this.subsetMinimums))}},{key:"getMaxNonZeroInTile",value:function(){return Math.max.apply(Math,(0,r.default)(this.subsetMaximums))}},{key:"minNonZero",value:function(e,t,n){for(var r=o.default,i=t;i<n;i++){var a=e[i];a<this.epsilon&&a>-this.epsilon||a<r&&(r=a)}return r}},{key:"maxNonZero",value:function(e,t,n){for(var r=i.default,o=t;o<n;o++){var a=e[o];a<this.epsilon&&a>-this.epsilon||a>r&&(r=a)}return r}}]),e}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(54)),i=f(n(50)),o=f(n(93)),a=f(n(232)),s=f(n(3)),l=f(n(4)),u=f(n(129)),c=n(111);function f(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(t){(0,s.default)(this,e),this.epsilon=1e-6,this.tileSize=Math.sqrt(t.length),(0,a.default)(this.tileSize)||console.error("The DenseDataExtrema2D module only works for data of quadratic length."),this.numSubsets=Math.min(c.NUM_PRECOMP_SUBSETS_PER_2D_TTILE,this.tileSize),this.subsetSize=this.tileSize/this.numSubsets;var n=(0,u.default)((0,o.default)(t),[this.tileSize,this.tileSize]);this.subsetMinimums=this.computeSubsetNonZeroMinimums(n),this.subsetMaximums=this.computeSubsetNonZeroMaximums(n),this.minNonZeroInTile=this.getMinNonZeroInTile(),this.maxNonZeroInTile=this.getMaxNonZeroInTile()}return(0,l.default)(e,[{key:"getMinNonZeroInSubset",value:function(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=Math.floor(n/this.subsetSize),a=Math.floor(t/this.subsetSize),s=Math.ceil((i+1)/this.subsetSize)-o,l=Math.ceil((r+1)/this.subsetSize)-a;return this.getMinNonZeroInNdarraySubset(this.subsetMinimums,o,a,l,s)}},{key:"getMaxNonZeroInSubset",value:function(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=Math.floor(n/this.subsetSize),a=Math.floor(t/this.subsetSize),s=Math.ceil((i+1)/this.subsetSize)-o,l=Math.ceil((r+1)/this.subsetSize)-a;return this.getMaxNonZeroInNdarraySubset(this.subsetMaximums,o,a,l,s)}},{key:"computeSubsetNonZeroMinimums",value:function(e){var t=new Array(Math.pow(this.numSubsets,2));t=(0,u.default)(t,[this.numSubsets,this.numSubsets]);for(var n=0;n<this.numSubsets;n++)for(var r=0;r<this.numSubsets;r++){var i=this.getMinNonZeroInNdarraySubset(e,n*this.subsetSize,r*this.subsetSize,this.subsetSize,this.subsetSize);t.set(n,r,i)}return t}},{key:"computeSubsetNonZeroMaximums",value:function(e){var t=new Array(Math.pow(this.numSubsets,2));t=(0,u.default)(t,[this.numSubsets,this.numSubsets]);for(var n=0;n<this.numSubsets;n++)for(var r=0;r<this.numSubsets;r++){var i=this.getMaxNonZeroInNdarraySubset(e,n*this.subsetSize,r*this.subsetSize,this.subsetSize,this.subsetSize);t.set(n,r,i)}return t}},{key:"getMinNonZeroInNdarraySubset",value:function(e,t,n,r,o){for(var a=i.default,s=0;s<r;s++)for(var l=0;l<o;l++){var u=e.get(t+l,n+s);u<this.epsilon&&u>-this.epsilon||u<a&&(a=u)}return a}},{key:"getMaxNonZeroInNdarraySubset",value:function(e,t,n,i,o){for(var a=r.default,s=0;s<i;s++)for(var l=0;l<o;l++){var u=e.get(t+l,n+s);u<this.epsilon&&u>-this.epsilon||u>a&&(a=u)}return a}},{key:"mirrorPrecomputedExtrema",value:function(){for(var e=1;e<this.numSubsets;e++)for(var t=0;t<e;t++)this.subsetMinimums.set(t,e,this.subsetMinimums.get(e,t)),this.subsetMaximums.set(t,e,this.subsetMaximums.get(e,t))}},{key:"getMinNonZeroInTile",value:function(){return this.getMinNonZeroInNdarraySubset(this.subsetMinimums,0,0,this.numSubsets,this.numSubsets)}},{key:"getMaxNonZeroInTile",value:function(){return this.getMaxNonZeroInNdarraySubset(this.subsetMaximums,0,0,this.numSubsets,this.numSubsets)}}]),e}();t.default=d},function(e,t,n){t.f=n(20)},function(e,t,n){(function(e,n){var r="[object Arguments]",i="[object Map]",o="[object Object]",a="[object Set]",s=/^\[object .+?Constructor\]$/,l=/^(?:0|[1-9]\d*)$/,u={};u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u[r]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u["[object Function]"]=u[i]=u["[object Number]"]=u[o]=u["[object RegExp]"]=u[a]=u["[object String]"]=u["[object WeakMap]"]=!1;var c="object"==typeof e&&e&&e.Object===Object&&e,f="object"==typeof self&&self&&self.Object===Object&&self,d=c||f||Function("return this")(),h=t&&!t.nodeType&&t,p=h&&"object"==typeof n&&n&&!n.nodeType&&n,m=p&&p.exports===h,v=m&&c.process,g=function(){try{return v&&v.binding&&v.binding("util")}catch(e){}}(),y=g&&g.isTypedArray;function b(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function _(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function x(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var w,E,T=Array.prototype,S=Function.prototype,k=Object.prototype,O=d["__core-js_shared__"],C=S.toString,A=k.hasOwnProperty,M=function(){var e=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),P=k.toString,I=RegExp("^"+C.call(A).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),D=m?d.Buffer:void 0,N=d.Symbol,R=d.Uint8Array,L=k.propertyIsEnumerable,j=T.splice,F=N?N.toStringTag:void 0,B=Object.getOwnPropertySymbols,z=D?D.isBuffer:void 0,H=(w=Object.keys,E=Object,function(e){return w(E(e))}),U=ve(d,"DataView"),V=ve(d,"Map"),G=ve(d,"Promise"),W=ve(d,"Set"),q=ve(d,"WeakMap"),Y=ve(Object,"create"),X=_e(U),$=_e(V),K=_e(G),Z=_e(W),Q=_e(q),J=N?N.prototype:void 0,ee=J?J.valueOf:void 0;function te(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function re(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ie(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new re;++t<n;)this.add(e[t])}function oe(e){var t=this.__data__=new ne(e);this.size=t.size}function ae(e,t){var n=Ee(e),r=!n&&we(e),i=!n&&!r&&Te(e),o=!n&&!r&&!i&&Ae(e),a=n||r||i||o,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=s.length;for(var u in e)!t&&!A.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||be(u,l))||s.push(u);return s}function se(e,t){for(var n=e.length;n--;)if(xe(e[n][0],t))return n;return-1}function le(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":F&&F in Object(e)?function(e){var t=A.call(e,F),n=e[F];try{e[F]=void 0;var r=!0}catch(o){}var i=P.call(e);return r&&(t?e[F]=n:delete e[F]),i}(e):function(e){return P.call(e)}(e)}function ue(e){return Ce(e)&&le(e)==r}function ce(e,t,n,s,l){return e===t||(null==e||null==t||!Ce(e)&&!Ce(t)?e!==e&&t!==t:function(e,t,n,s,l,u){var c=Ee(e),f=Ee(t),d=c?"[object Array]":ye(e),h=f?"[object Array]":ye(t),p=(d=d==r?o:d)==o,m=(h=h==r?o:h)==o,v=d==h;if(v&&Te(e)){if(!Te(t))return!1;c=!0,p=!1}if(v&&!p)return u||(u=new oe),c||Ae(e)?he(e,t,n,s,l,u):function(e,t,n,r,o,s,l){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!s(new R(e),new R(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return xe(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case i:var u=_;case a:var c=1&r;if(u||(u=x),e.size!=t.size&&!c)return!1;var f=l.get(e);if(f)return f==t;r|=2,l.set(e,t);var d=he(u(e),u(t),r,o,s,l);return l.delete(e),d;case"[object Symbol]":if(ee)return ee.call(e)==ee.call(t)}return!1}(e,t,d,n,s,l,u);if(!(1&n)){var g=p&&A.call(e,"__wrapped__"),y=m&&A.call(t,"__wrapped__");if(g||y){var b=g?e.value():e,w=y?t.value():t;return u||(u=new oe),l(b,w,n,s,u)}}return!!v&&(u||(u=new oe),function(e,t,n,r,i,o){var a=1&n,s=pe(e),l=s.length,u=pe(t).length;if(l!=u&&!a)return!1;for(var c=l;c--;){var f=s[c];if(!(a?f in t:A.call(t,f)))return!1}var d=o.get(e);if(d&&o.get(t))return d==t;var h=!0;o.set(e,t),o.set(t,e);for(var p=a;++c<l;){f=s[c];var m=e[f],v=t[f];if(r)var g=a?r(v,m,f,t,e,o):r(m,v,f,e,t,o);if(!(void 0===g?m===v||i(m,v,n,r,o):g)){h=!1;break}p||(p="constructor"==f)}if(h&&!p){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(h=!1)}return o.delete(e),o.delete(t),h}(e,t,n,s,l,u))}(e,t,n,s,ce,l))}function fe(e){return!(!Oe(e)||function(e){return!!M&&M in e}(e))&&(Se(e)?I:s).test(_e(e))}function de(e){if(!function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||k;return e===n}(e))return H(e);var t=[];for(var n in Object(e))A.call(e,n)&&"constructor"!=n&&t.push(n);return t}function he(e,t,n,r,i,o){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(e);if(u&&o.get(t))return u==t;var c=-1,f=!0,d=2&n?new ie:void 0;for(o.set(e,t),o.set(t,e);++c<s;){var h=e[c],p=t[c];if(r)var m=a?r(p,h,c,t,e,o):r(h,p,c,e,t,o);if(void 0!==m){if(m)continue;f=!1;break}if(d){if(!b(t,(function(e,t){if(a=t,!d.has(a)&&(h===e||i(h,e,n,r,o)))return d.push(t);var a}))){f=!1;break}}else if(h!==p&&!i(h,p,n,r,o)){f=!1;break}}return o.delete(e),o.delete(t),f}function pe(e){return function(e,t,n){var r=t(e);return Ee(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,Me,ge)}function me(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function ve(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return fe(n)?n:void 0}te.prototype.clear=function(){this.__data__=Y?Y(null):{},this.size=0},te.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},te.prototype.get=function(e){var t=this.__data__;if(Y){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return A.call(t,e)?t[e]:void 0},te.prototype.has=function(e){var t=this.__data__;return Y?void 0!==t[e]:A.call(t,e)},te.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Y&&void 0===t?"__lodash_hash_undefined__":t,this},ne.prototype.clear=function(){this.__data__=[],this.size=0},ne.prototype.delete=function(e){var t=this.__data__,n=se(t,e);return!(n<0)&&(n==t.length-1?t.pop():j.call(t,n,1),--this.size,!0)},ne.prototype.get=function(e){var t=this.__data__,n=se(t,e);return n<0?void 0:t[n][1]},ne.prototype.has=function(e){return se(this.__data__,e)>-1},ne.prototype.set=function(e,t){var n=this.__data__,r=se(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},re.prototype.clear=function(){this.size=0,this.__data__={hash:new te,map:new(V||ne),string:new te}},re.prototype.delete=function(e){var t=me(this,e).delete(e);return this.size-=t?1:0,t},re.prototype.get=function(e){return me(this,e).get(e)},re.prototype.has=function(e){return me(this,e).has(e)},re.prototype.set=function(e,t){var n=me(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},ie.prototype.add=ie.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},ie.prototype.has=function(e){return this.__data__.has(e)},oe.prototype.clear=function(){this.__data__=new ne,this.size=0},oe.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},oe.prototype.get=function(e){return this.__data__.get(e)},oe.prototype.has=function(e){return this.__data__.has(e)},oe.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ne){var r=n.__data__;if(!V||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new re(r)}return n.set(e,t),this.size=n.size,this};var ge=B?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}(B(e),(function(t){return L.call(e,t)})))}:function(){return[]},ye=le;function be(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||l.test(e))&&e>-1&&e%1==0&&e<t}function _e(e){if(null!=e){try{return C.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function xe(e,t){return e===t||e!==e&&t!==t}(U&&"[object DataView]"!=ye(new U(new ArrayBuffer(1)))||V&&ye(new V)!=i||G&&"[object Promise]"!=ye(G.resolve())||W&&ye(new W)!=a||q&&"[object WeakMap]"!=ye(new q))&&(ye=function(e){var t=le(e),n=t==o?e.constructor:void 0,r=n?_e(n):"";if(r)switch(r){case X:return"[object DataView]";case $:return i;case K:return"[object Promise]";case Z:return a;case Q:return"[object WeakMap]"}return t});var we=ue(function(){return arguments}())?ue:function(e){return Ce(e)&&A.call(e,"callee")&&!L.call(e,"callee")},Ee=Array.isArray,Te=z||function(){return!1};function Se(e){if(!Oe(e))return!1;var t=le(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ke(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Oe(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ce(e){return null!=e&&"object"==typeof e}var Ae=y?function(e){return function(t){return e(t)}}(y):function(e){return Ce(e)&&ke(e.length)&&!!u[le(e)]};function Me(e){return function(e){return null!=e&&ke(e.length)&&!Se(e)}(e)?ae(e):de(e)}n.exports=function(e,t){return ce(e,t)}}).call(this,n(26),n(169)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(51)),i=f(n(21)),o=f(n(33)),a=f(n(2)),s=f(n(1)),l=n(121),u=f(n(79)),c=n(11);function f(e){return e&&e.__esModule?e:{default:e}}n(587);var d={"../styles/TrackControl.module.scss":{"track-control":"TrackControl-module_track-control-2zDf3","track-control-vertical":"TrackControl-module_track-control-vertical-2McB_","track-control-dark":"TrackControl-module_track-control-dark-fP2uZ","track-control-active":"TrackControl-module_track-control-active-2JD9i TrackControl-module_track-control-2zDf3","track-control-left":"TrackControl-module_track-control-left-zHd9W","track-control-vertical-active":"TrackControl-module_track-control-vertical-active-1QCKn","track-control-padding-right":"TrackControl-module_track-control-padding-right-2p6Lp","track-control-button":"TrackControl-module_track-control-button-2fdIb","track-control-button-vertical":"TrackControl-module_track-control-button-vertical-1s22z"}},h=function(e){var t=e.isVisible?"track-control-active":"track-control";return t+=e.isAlignLeft?" track-control-left":"",t+=e.isVertical?" track-control-vertical":"",t+=e.paddingRight?" track-control-padding-right":"",e.theme===c.THEME_DARK&&(t+=" track-control-dark"),t},p=function(e){var t="track-control-button";return t+=e.isVertical?" track-control-button-vertical":""},m=void 0,v=void 0,g=null,y=null,b=function(e){return e&&g&&!(0,i.default)(e).some((function(t){return g[t]!==e[t]}))||(g=e,y=(0,l.SortableHandle)((function(){return s.default.createElement("svg",{style:(0,r.default)({height:"20px",width:"20px"},e.imgStyleMove),className:"no-zoom "+(0,o.default)(p(e),d)},s.default.createElement("title",null,"Move track"),s.default.createElement("use",{xlinkHref:"#move"}))}))),s.default.createElement("div",{className:(0,o.default)(h(e),d)},e.isMoveable&&s.default.createElement(y,null),s.default.createElement("svg",{ref:function(e){m=e},onClick:function(){e.onConfigTrackMenuOpened(e.uid,m.getBoundingClientRect())},style:(0,r.default)({height:"20px",width:"20px"},e.imgStyleSettings),className:"no-zoom "+(0,o.default)(p(e),d)},s.default.createElement("title",null,"Configure track"),s.default.createElement("use",{xlinkHref:"#cog"})),e.onAddSeries&&s.default.createElement("svg",{onClick:function(){return e.onAddSeries(e.uid)},style:(0,r.default)({height:"20px",width:"20px"},e.imgStyleAdd),className:"no-zoom "+(0,o.default)(p(e),d)},s.default.createElement("title",null,"Add series"),s.default.createElement("use",{xlinkHref:"#plus"})),s.default.createElement("svg",{ref:function(e){v=e},onClick:function(){e.onCloseTrackMenuOpened(e.uid,v.getBoundingClientRect())},style:(0,r.default)({height:"20px",width:"20px"},e.imgStyleClose),className:"no-zoom "+(0,o.default)(p(e),d)},s.default.createElement("title",null,"Close track"),s.default.createElement("use",{xlinkHref:"#cross"})))};b.propTypes={imgStyleAdd:a.default.object,imgStyleClose:a.default.object,imgStyleMove:a.default.object,imgStyleSettings:a.default.object,isAlignLeft:a.default.bool,isMoveable:a.default.bool,isVertical:a.default.bool,isVisible:a.default.bool,onConfigTrackMenuOpened:a.default.func,onCloseTrackMenuOpened:a.default.func,onAddSeries:a.default.func,paddingRight:a.default.bool,theme:a.default.symbol.isRequired,uid:a.default.string},t.default=(0,u.default)(b)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){}},function(e,t,n){e.exports={"track-range-selection":"Track-module_track-range-selection-1yrDf","track-range-selection-active":"Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-primary":"Track-module_track-range-selection-active-primary-29M73 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-secondary":"Track-module_track-range-selection-active-secondary-1s0t5 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-group-inactive":"Track-module_track-range-selection-group-inactive-YNRM4","track-range-selection-group-brush-selection":"Track-module_track-range-selection-group-brush-selection-2VYDl"}},function(e,t,n){e.exports={"tiled-plot":"TiledPlot-module_tiled-plot-uFHiB",horizontalList:"TiledPlot-module_horizontalList-1c1P8",list:"TiledPlot-module_list-24zgV",stylizedList:"TiledPlot-module_stylizedList-Mt4JL",stylizedItem:"TiledPlot-module_stylizedItem-2bQBK",stylizedHelper:"TiledPlot-module_stylizedHelper-3IVEu",horizontalItem:"TiledPlot-module_horizontalItem-2-ZjU","resizable-track":"TiledPlot-module_resizable-track-2oLT9",domain:"TiledPlot-module_domain-qYw6K"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(3)),i=l(n(4)),o=n(28),a=n(69),s=n(10);function l(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){var n=t.id,i=t.pubSub,s=t.getTheme;(0,r.default)(this,e),this.pubSub=i||a.fake,this.id=n,this._xScale=(0,o.scaleLinear)(),this._yScale=(0,o.scaleLinear)(),this._refXScale=(0,o.scaleLinear)(),this._refYScale=(0,o.scaleLinear)(),this.position=[0,0],this.dimensions=[1,1],this.options={},this.pubSubs=[],this.getTheme=s||function(){},this.pubSubs.push(this.pubSub.subscribe("app.mouseMove",this.defaultMouseMoveHandler.bind(this)))}return(0,i.default)(e,[{key:"isWithin",value:function(e,t){var n=e,r=t,i=this.position[0],o=this.position[1];return this.isLeftModified&&(n=t,r=e,i=this.position[1],o=this.position[0]),(0,s.isWithin)(n,r,i,this.dimensions[0]+i,o,this.dimensions[1]+o)}},{key:"getProp",value:function(e){var t=this;return function(){return t[e]}}},{key:"getData",value:function(){}},{key:"getDimensions",value:function(){return this.dimensions}},{key:"setDimensions",value:function(e){this.dimensions=e,this._xScale.range([0,this.dimensions[0]]),this._yScale.range([0,this.dimensions[1]])}},{key:"refXScale",value:function(e){return arguments.length?(this._refXScale=e,this):this._refXScale}},{key:"refYScale",value:function(e){return arguments.length?(this._refYScale=e,this):this._refYScale}},{key:"xScale",value:function(e){return arguments.length?(this._xScale=e,this):this._xScale}},{key:"yScale",value:function(e){return arguments.length?(this._yScale=e,this):this._yScale}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t)}},{key:"refScalesChanged",value:function(e,t){this._refXScale=e,this._refYScale=t}},{key:"draw",value:function(){}},{key:"getPosition",value:function(){return this.position}},{key:"setPosition",value:function(e){this.position=e}},{key:"defaultMouseMoveHandler",value:function(e){}},{key:"remove",value:function(){var e=this;this.pubSubs.forEach((function(t){return e.pubSub.unsubscribe(t)})),this.pubSubs=[]}},{key:"rerender",value:function(){}},{key:"respondsToPosition",value:function(e,t){return this.isWithin(e,t)}},{key:"zoomedY",value:function(e,t){}},{key:"movedY",value:function(e){}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(3)),i=l(n(4)),o=n(18),a=n(11),s=n(10);function l(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){(0,r.default)(this,e),this.pAxis=new a.GLOBALS.PIXI.Graphics,this.track=t,this.axisTexts=[],this.axisTextFontFamily="Arial",this.axisTextFontSize=10}return(0,i.default)(e,[{key:"startAxis",value:function(e){var t=this.pAxis;t.clear(),t.lineStyle(1,this.track.getTheme()===a.THEME_DARK?(0,s.colorToHex)("#ffffff"):0,1),t.moveTo(0,0),t.lineTo(0,e)}},{key:"createAxisTexts",value:function(e,t){this.tickValues=this.calculateAxisTickValues(e,t);var n=0,r=this.track.getTheme()===a.THEME_DARK?"white":"black";for(this.track.options&&this.track.options.axisLabelFormatting&&"scientific"!==this.track.options.axisLabelFormatting?this.tickFormat=function(e){return e}:this.tickFormat=(0,o.format)(".2");n<this.tickValues.length;){for(var i=this.tickValues[n];this.axisTexts.length<=n;){var s=new a.GLOBALS.PIXI.Text(i,{fontSize:String(this.axisTextFontSize)+"px",fontFamily:this.axisTextFontFamily,fill:r});this.axisTexts.push(s),this.pAxis.addChild(s)}this.axisTexts[n].text=this.tickFormat(i),this.axisTexts[n].anchor.y=.5,this.axisTexts[n].anchor.x=.5,n++}for(;this.axisTexts.length>this.tickValues.length;){var l=this.axisTexts.pop();this.pAxis.removeChild(l),l.destroy(!0)}}},{key:"calculateAxisTickValues",value:function(e,t){var n=Math.max(Math.ceil(t/40),1),r=e.ticks(n);return r.length<1&&(r=e.ticks(n+1)).length>1&&(r=[r[0]]),r}},{key:"drawAxisLeft",value:function(e,t){this.startAxis(t),this.createAxisTexts(e,t);var n=this.pAxis;this.track.getTheme()===a.THEME_DARK&&n.lineStyle(n.lineWidth||n._lineStyle.width,(0,s.colorToHex)("#ffffff")),n.moveTo(0,0),n.lineTo(-5,0),n.moveTo(0,t),n.lineTo(-5,t);for(var r=0;r<this.axisTexts.length;r++){var i=this.tickValues[r];this.axisTexts[r].x=-(9+this.axisTexts[r].width/2),this.axisTexts[r].y=e(i),n.moveTo(-0,e(i)),n.lineTo(-5,e(i)),this.track&&this.track.flipText&&(this.axisTexts[r].scale.x=-1)}this.hideOverlappingAxisLabels()}},{key:"drawAxisRight",value:function(e,t){this.startAxis(t),this.createAxisTexts(e,t);var n=this.pAxis;this.track.getTheme()===a.THEME_DARK&&n.lineStyle(n.lineWidth||n._lineStyle.width,(0,s.colorToHex)("#ffffff")),n.moveTo(0,0),n.lineTo(5,0),n.moveTo(0,t),n.lineTo(5,t);for(var r=0;r<this.axisTexts.length;r++){var i=this.tickValues[r];this.axisTexts[r].x=9+this.axisTexts[r].width/2,this.axisTexts[r].y=e(i),n.moveTo(0,e(i)),n.lineTo(5,e(i)),this.track&&this.track.flipText&&(this.axisTexts[r].scale.x=-1)}this.hideOverlappingAxisLabels()}},{key:"hideOverlappingAxisLabels",value:function(){for(var e=this.axisTexts.length-1;e>=0;e--)this.axisTexts[e].visible=!0;for(var t=this.axisTexts.length-1;t>=0;t--)if(this.axisTexts[t].visible)for(var n=t-1;n>=0&&this.axisTexts[t].y+this.axisTexts[t].height/2>this.axisTexts[n].y-this.axisTexts[n].height/2;)this.axisTexts[n].visible=!1,n-=1}},{key:"exportVerticalAxis",value:function(e){var t=document.createElement("g");t.setAttribute("class","axis-vertical");var n="black";this.track&&this.track.options.lineStrokeColor&&(n=this.track.options.lineStrokeColor),this.track.getTheme()===a.THEME_DARK&&(n="#cccccc");var r=document.createElement("path");return r.setAttribute("fill","transparent"),r.setAttribute("stroke",n),r.setAttribute("id","axis-line"),r.setAttribute("d","M0,0 L0,"+String(e)),t.appendChild(r),t}},{key:"createAxisSVGLine",value:function(){var e="black";this.track&&this.track.options.lineStrokeColor&&(e=this.track.options.lineStrokeColor),this.track.getTheme()===a.THEME_DARK&&(e="#cccccc");var t=document.createElement("path");return t.setAttribute("id","tick-mark"),t.setAttribute("fill","transparent"),t.setAttribute("stroke",e),t}},{key:"createAxisSVGText",value:function(e){var t=document.createElement("text");return t.innerHTML=e,t.setAttribute("id","axis-text"),t.setAttribute("text-anchor","middle"),t.setAttribute("font-family",this.axisTextFontFamily),t.setAttribute("font-size",this.axisTextFontSize),t.setAttribute("dy",this.axisTextFontSize/2-2),t}},{key:"exportAxisLeftSVG",value:function(e,t){var n=this.exportVerticalAxis(t),r=this.createAxisSVGLine();n.appendChild(r),r.setAttribute("d","M0,0 L5,0");var i=this.createAxisSVGLine();n.appendChild(i),i.setAttribute("d","M0,"+String(t)+" L5,"+String(t));for(var o=0;o<this.axisTexts.length;o++){var a=this.tickValues[o],s=this.axisTexts[o],l=this.createAxisSVGLine();n.appendChild(l),l.setAttribute("d","M0,"+String(e(a))+" L5,"+String(e(a)));var u=document.createElement("g");if(n.appendChild(u),s.visible){var c=this.createAxisSVGText(s.text);u.appendChild(c)}u.setAttribute("transform","translate("+String(s.position.x)+","+String(s.position.y)+")\n             scale("+String(s.scale.x)+","+String(s.scale.y)+")")}return n}},{key:"exportAxisRightSVG",value:function(e,t){var n=this.exportVerticalAxis(t),r=this.createAxisSVGLine();n.appendChild(r),r.setAttribute("d","M0,0 L-5,0");var i=this.createAxisSVGLine();n.appendChild(i),i.setAttribute("d","M0,"+String(t)+" L-5,"+String(t));for(var o=0;o<this.axisTexts.length;o++){var a=this.tickValues[o],s=this.axisTexts[o],l=this.createAxisSVGLine();n.appendChild(l),l.setAttribute("d","M0,"+String(e(a))+" L-5,"+String(e(a)));var u=document.createElement("g");if(n.appendChild(u),s.visible){var c=this.createAxisSVGText(s.text);u.appendChild(c)}u.setAttribute("transform","translate("+String(s.position.x)+","+String(s.position.y)+")\n             scale("+String(s.scale.x)+","+String(s.scale.y)+")")}return n}},{key:"clearAxis",value:function(){for(var e=this.pAxis;this.axisTexts.length;){var t=this.axisTexts.pop();e.removeChild(t)}e.clear()}}]),e}();t.default=u},function(e,t,n){"use strict";e.exports=function(e,t,n){switch(arguments.length){case 1:return f(e);case 2:return"function"===typeof t?u(e,e,t,!0):d(e,t);case 3:return u(e,t,n,!1);default:throw new Error("box-intersect: Invalid arguments")}};var r,i=n(250),o=n(345),a=n(599);function s(e,t){for(var n=0;n<e;++n)if(!(t[n]<=t[n+e]))return!0;return!1}function l(e,t,n,r){for(var i=0,o=0,a=0,l=e.length;a<l;++a){var u=e[a];if(!s(t,u)){for(var c=0;c<2*t;++c)n[i++]=u[c];r[o++]=a}}return o}function u(e,t,n,r){var s=e.length,u=t.length;if(!(s<=0||u<=0)){var c=e[0].length>>>1;if(!(c<=0)){var f,d=i.mallocDouble(2*c*s),h=i.mallocInt32(s);if((s=l(e,c,d,h))>0){if(1===c&&r)o.init(s),f=o.sweepComplete(c,n,0,s,d,h,0,s,d,h);else{var p=i.mallocDouble(2*c*u),m=i.mallocInt32(u);(u=l(t,c,p,m))>0&&(o.init(s+u),f=1===c?o.sweepBipartite(c,n,0,s,d,h,0,u,p,m):a(c,n,r,s,d,h,u,p,m),i.free(p),i.free(m))}i.free(d),i.free(h)}return f}}}function c(e,t){r.push([e,t])}function f(e){return r=[],u(e,e,c,!0),r}function d(e,t){return r=[],u(e,t,c,!1),r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(19)),i=c(n(32)),o=c(n(3)),a=c(n(4)),s=n(8),l=n(18),u=n(10);function c(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(t){(0,o.default)(this,e),this.chromInfo=t,this.chromInfoBisector=(0,s.bisector)((function(e){return e.pos})).left}return(0,a.default)(e,[{key:"scalesToPositionText",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null===this.chromInfo)return"";if(!e||!t)return"";var r=(0,u.absToChr)(e.domain()[0],this.chromInfo),i=(0,u.absToChr)(e.domain()[1],this.chromInfo),o=(0,u.absToChr)(t.domain()[0],this.chromInfo),a=(0,u.absToChr)(t.domain()[1],this.chromInfo),s=null,c=(0,l.format)(",d");return s=r[0]!==i[0]?String(r[0])+":"+String(c(Math.floor(r[1])))+"-"+String(i[0])+":"+String(c(Math.ceil(i[1]))):String(r[0])+":"+String(c(Math.floor(r[1])))+"-"+String(c(Math.ceil(i[1]))),n&&(o[0]!==a[0]?s+=" & "+String(o[0])+":"+String(c(Math.floor(o[1])))+"-"+String(a[0])+":"+String(c(Math.ceil(a[1]))):s+=" & "+String(o[0])+":"+String(c(Math.floor(o[1])))+"-"+String(c(Math.ceil(a[1])))),(r[2]<=0||i[2]>0||n&&(o[2]<=0||a[2]>0))&&(s+=" [offset "+String(r[2])+","+String(i[2]),n&&(s+=":"+String(o[2])+","+String(a[2])),s+="]"),s}},{key:"convertNumberNotation",value:function(e){var t=e;if(!t.includes("M",t.length-1)&&!t.includes("K",t.length-1))return t;var n=0,r=0;if(t.includes("M",t.length-1)?(n=6,t=t.replace("M","")):(n=3,t=t.replace("K","")),(0,i.default)(+t))return e;(t=(+t).toString()).includes(".")&&(r=t.length-1-t.indexOf("."),t=(+t.replace(".","")).toString());var o=n-r;return o<0?e:t+="0".repeat(o)}},{key:"parsePosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.split(":"),r=null,i=0;n.length>1?(r=n[0],i=+this.convertNumberNotation(n[1].replace(/,/g,""))):n[0]in this.chromInfo.chrPositions?(r=n[0],i=0,null!==t&&(i=+this.chromInfo.chromLengths[r])):(i=+this.convertNumberNotation(n[0].replace(/,/g,"")),r=null,t&&(r=t));var o=null;return null===r?(r=t,o=i):r in this.chromInfo.chrPositions&&(o=this.chromInfo.chrPositions[r].pos+i),[r,i,o]}},{key:"matchRangesToLarger",value:function(e,t){if(e[1]-e[0]<t[1]-t[0]){var n=t[1]-t[0]-(e[1]-e[0]);return[[e[0]-n/2,e[1]+n/2],t]}var r=e[1]-e[0]-(t[1]-t[0]);return[e,[t[0]-r/2,t[1]+r/2]]}},{key:"getSearchRange",value:function(e){if(0===e.length)return null;var t=e.split("-"),n=null;if(0===(t=t.filter((function(e){return e.length>0})))[0].indexOf("-")&&(t[0]=t[0].slice(3,t[0].length)),t.length>1){var i=this.parsePosition(t[0]),o=(0,r.default)(i,3),a=o[0],s=(o[1],o[2]),l=this.parsePosition(t[1],a),u=(0,r.default)(l,3),c=u[0],f=(u[1],u[2]),d=[s,f],h=this.parsePosition(t[1]),p=(0,r.default)(h,3);a=p[0],p[1],s=p[2];var m=this.parsePosition(t[0],a),v=(0,r.default)(m,3);if(c=v[0],v[1],f=v[2],null===a&&null!==c){var g=this.parsePosition(t[1],c),y=(0,r.default)(g,3);a=y[0],y[1],s=y[2]}var b=[s,f];return b[1]-b[0]>d[1]-d[0]?b:d}if(t[0]in this.chromInfo.chrPositions){var _=+this.chromInfo.chrPositions[t[0]].pos;n=[_,_+ +this.chromInfo.chromLengths[t[0]]]}else{var x=this.parsePosition(t[0]),w=(0,r.default)(x,3),E=(w[0],w[1],w[2]);n=[E-8e6,E+8e6]}return n[0]>n[1]?[n[1],n[0]]:n}},{key:"parseOffset",value:function(e){var t=e.split(":");if(0===t.length)return[[0,0],[0,0]];if(1===t.length){var n=t[0].split(",");return[[+n[0],+n[1]],[0,0]]}var r=t[0].split(","),i=t[1].split(",");return[[+r[0],+r[1]],[+i[0],+i[1]]]}},{key:"searchPosition",value:function(e){var t=null,n=null;e=e.trim();var i=/\[offset (.+?)\]/.exec(e),o=[[0,0],[0,0]];i&&(e=e.replace(i[0],""),o=this.parseOffset(i[1]));var a=e.split(" & ");if(a.length>1?(t=this.getSearchRange(a[0].split(" ")[0]),n=this.getSearchRange(a[1].split(" ")[0])):t=this.getSearchRange(a[0]),null!==t&&null!==n){var s=this.matchRangesToLarger(t,n),l=(0,r.default)(s,2);t=l[0],n=l[1]}return t&&(t[0]+=o[0][0],t[1]+=o[0][1]),n&&(n[0]+=o[1][0],n[1]+=o[1][1]),[t,n]}}]),e}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(1)),i=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}n(648);var a=r.default.forwardRef((function(e,t){return r.default.createElement("button",{ref:t,disable:e.disable,onBlur:e.onBlur,onClick:e.onClick,onMouseDown:e.onMouseDown,onMouseOut:e.onMouseOut,onMouseUp:e.onMouseUp,className:"Button-module_button-3YXsQ",type:"button"},e.children,e.shortcut&&r.default.createElement("span",{className:"Button-module_button-shortcut-1zMAn"},e.shortcut))}));a.defaultProps={onClick:function(){},styleName:"",type:"button"},a.propTypes={children:i.default.func.isRequired,disable:i.default.func.isRequired,onBlur:i.default.func,onClick:i.default.func,onMouseDown:i.default.func,onMouseOut:i.default.func,onMouseUp:i.default.func,shortcut:i.default.string,type:i.default.string},t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSeriesItems=t.getAllTracksAndSubtracks=void 0;var r=l(n(21)),i=l(n(16)),o=l(n(1)),a=l(n(67)),s=n(11);function l(e){return e&&e.__esModule?e:{default:e}}n(68);var u=t.getAllTracksAndSubtracks=function(e){var t=[],n=!0,r=!1,o=void 0;try{for(var a,s=(0,i.default)(e);!(n=(a=s.next()).done);n=!0){var l=a.value;l.contents?t=t.concat(l.contents):t.push(l)}}catch(u){r=!0,o=u}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}return t};t.getSeriesItems=function(e,t,n,i){return e?(window.higlassTracksByType&&(0,r.default)(window.higlassTracksByType).forEach((function(e){s.TRACKS_INFO_BY_TYPE[e]=window.higlassTracksByType[e].config})),u(e).map((function(e){var r=s.TRACKS_INFO_BY_TYPE[e.type]?s.TRACKS_INFO_BY_TYPE[e.type].thumbnail:null,l=r?o.default.createElement("div",{dangerouslySetInnerHTML:{__html:r.outerHTML},className:"ContextMenu-module_context-menu-icon-I4kiw"}):o.default.createElement("div",{className:"ContextMenu-module_context-menu-icon-I4kiw"},o.default.createElement("svg",null));return o.default.createElement(a.default,{key:e.uid,onClick:function(){i&&i(e.uid)},onMouseEnter:function(n){t&&t(n,e)},onMouseLeave:function(e){n&&n(e)},className:"ContextMenu-module_context-menu-item-1HeVv"},l,o.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},e.options&&e.options.name&&e.options.name.length?e.options.name:e.uid,t&&n?o.default.createElement("svg",{className:"ContextMenu-module_play-icon-R4pIO"},o.default.createElement("use",{xlinkHref:"#play"})):null))}))):null}},function(e,t,n){var r=n(735),i=n(55),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,t,n){(function(e){var r=n(37),i=n(736),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;e.exports=l}).call(this,n(169)(e))},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(184),i=n(747),o=n(748),a=n(749),s=n(750),l=n(751);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=l,e.exports=u},function(e,t,n){var r=n(742),i=n(743),o=n(744),a=n(745),s=n(746);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(116);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(97)(Object,"create");e.exports=r},function(e,t,n){var r=n(764);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var r=n(777),i=n(269),o=n(778),a=n(779),s=n(402),l=n(95),u=n(394),c=u(r),f=u(i),d=u(o),h=u(a),p=u(s),m=l;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=m(new i)||o&&"[object Promise]"!=m(o.resolve())||a&&"[object Set]"!=m(new a)||s&&"[object WeakMap]"!=m(new s))&&(m=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case c:return"[object DataView]";case f:return"[object Map]";case d:return"[object Promise]";case h:return"[object Set]";case p:return"[object WeakMap]"}return t}),e.exports=m},function(e,t,n){var r=n(29),i=n(275),o=n(783),a=n(786);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},function(e,t,n){var r=n(95),i=n(55);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},function(e,t,n){var r=n(277),i=n(116),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){var r=n(42),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},function(e,t,n){(function(r){var i=n(144),o=n(963);(t=e.exports=function(e,n,r){var i=t.evaluate(e,n,r),o=t.evaluate("<root></root>",n,!1)[0];return o.type="root",o.parent=null,t.update(i,o),o}).evaluate=function(e,t,n){return r.isBuffer(e)&&(e=e.toString()),"string"===typeof e?t.xmlMode||t._useHtmlParser2?i.parseDOM(e,t):function(e,t){return(t?o.parse:o.parseFragment)(e,{treeAdapter:o.treeAdapters.htmlparser2}).children}(e,n):e},t.update=function(e,t){Array.isArray(e)||(e=[e]),t?t.children=e:t=null;for(var n=0;n<e.length;n++){var r=e[n],i=r.parent||r.root,o=i&&i.children;o&&o!==e&&(o.splice(o.indexOf(r),1),r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev)),t?(r.prev=e[n-1]||null,r.next=e[n+1]||null):r.prev=r.next=null,t&&"root"===t.type?(r.root=t,r.parent=null):(r.root=null,r.parent=t)}return t}}).call(this,n(110).Buffer)},function(e,t,n){"use strict";var r,i="object"===typeof Reflect?Reflect:null,o=i&&"function"===typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"===typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!==e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function u(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var i,o,a,s;if("function"!==typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"===typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=u(e))>0&&a.length>i&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,s=l,console&&console.warn&&console.warn(s)}return e}function f(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,o(this.listener,this.target,e))}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=f.bind(r);return i.listener=n,r.wrapFn=i,i}function h(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):m(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=i[e];if(void 0===l)return!1;if("function"===typeof l)o(l,this,t);else{var u=l.length,c=m(l,u);for(n=0;n<u;++n)o(c[n],this,t)}return!0},s.prototype.addListener=function(e,t){return c(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return c(this,e,t,!0)},s.prototype.once=function(e,t){if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,d(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,d(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,o,a;if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return h(this,e,!0)},s.prototype.rawListeners=function(e){return h(this,e,!1)},s.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},s.prototype.listenerCount=p,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){var r=n(110),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),o(i,a),a.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";(e.exports=function(e){var t={},n=this._getOverriddenMethods(this,t);Object.keys(n).forEach((function(r){"function"===typeof n[r]&&(t[r]=e[r],e[r]=n[r])}))}).prototype._getOverriddenMethods=function(){throw new Error("Not implemented")}},function(e,t,n){e.exports=i;var r=n(195).EventEmitter;function i(){r.call(this)}n(57)(i,r),i.Readable=n(294),i.Writable=n(979),i.Duplex=n(980),i.Transform=n(981),i.PassThrough=n(982),i.Stream=i,i.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",l));var a=!1;function s(){a||(a=!0,e.end())}function l(){a||(a=!0,"function"===typeof e.destroy&&e.destroy())}function u(e){if(c(),0===r.listenerCount(this,"error"))throw e}function c(){n.removeListener("data",i),e.removeListener("drain",o),n.removeListener("end",s),n.removeListener("close",l),n.removeListener("error",u),e.removeListener("error",u),n.removeListener("end",c),n.removeListener("close",c),e.removeListener("close",c)}return n.on("error",u),e.on("error",u),n.on("end",c),n.on("close",c),e.on("close",c),e.emit("pipe",n),e}},function(e,t,n){"use strict";(function(t){!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,r,i){if("function"!==typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,n)}));case 3:return t.nextTick((function(){e.call(null,n,r)}));case 4:return t.nextTick((function(){e.call(null,n,r,i)}));default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick((function(){e.apply(null,o)}))}}}:e.exports=t}).call(this,n(146))},function(e,t,n){var r=n(449);t.default={withDomLvl1:!0,normalizeWhitespace:!1,xml:!1,decodeEntities:!0},t.flatten=function(e){return e&&e.xml?r({xmlMode:!0},e.xml):e}},function(e,t,n){var r=n(193),i=n(42);e.exports=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=r(e.prototype),o=e.apply(n,t);return i(o)?o:n}}},function(e,t){e.exports=function(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&"__lodash_placeholder__"!==a||(e[n]="__lodash_placeholder__",o[i++]=n)}return o}},function(e,t,n){"use strict";var r=Object.getOwnPropertyDescriptor?function(){return Object.getOwnPropertyDescriptor(arguments,"callee").get}():function(){throw new TypeError},i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator,o=Object.getPrototypeOf||function(e){return e.__proto__},a=void 0,s="undefined"===typeof Uint8Array?void 0:o(Uint8Array),l={"$ %Array%":Array,"$ %ArrayBuffer%":"undefined"===typeof ArrayBuffer?void 0:ArrayBuffer,"$ %ArrayBufferPrototype%":"undefined"===typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"$ %ArrayIteratorPrototype%":i?o([][Symbol.iterator]()):void 0,"$ %ArrayPrototype%":Array.prototype,"$ %ArrayProto_entries%":Array.prototype.entries,"$ %ArrayProto_forEach%":Array.prototype.forEach,"$ %ArrayProto_keys%":Array.prototype.keys,"$ %ArrayProto_values%":Array.prototype.values,"$ %AsyncFromSyncIteratorPrototype%":void 0,"$ %AsyncFunction%":void 0,"$ %AsyncFunctionPrototype%":void 0,"$ %AsyncGenerator%":void 0,"$ %AsyncGeneratorFunction%":void 0,"$ %AsyncGeneratorPrototype%":void 0,"$ %AsyncIteratorPrototype%":a&&i&&Symbol.asyncIterator?a[Symbol.asyncIterator]():void 0,"$ %Atomics%":"undefined"===typeof Atomics?void 0:Atomics,"$ %Boolean%":Boolean,"$ %BooleanPrototype%":Boolean.prototype,"$ %DataView%":"undefined"===typeof DataView?void 0:DataView,"$ %DataViewPrototype%":"undefined"===typeof DataView?void 0:DataView.prototype,"$ %Date%":Date,"$ %DatePrototype%":Date.prototype,"$ %decodeURI%":decodeURI,"$ %decodeURIComponent%":decodeURIComponent,"$ %encodeURI%":encodeURI,"$ %encodeURIComponent%":encodeURIComponent,"$ %Error%":Error,"$ %ErrorPrototype%":Error.prototype,"$ %eval%":eval,"$ %EvalError%":EvalError,"$ %EvalErrorPrototype%":EvalError.prototype,"$ %Float32Array%":"undefined"===typeof Float32Array?void 0:Float32Array,"$ %Float32ArrayPrototype%":"undefined"===typeof Float32Array?void 0:Float32Array.prototype,"$ %Float64Array%":"undefined"===typeof Float64Array?void 0:Float64Array,"$ %Float64ArrayPrototype%":"undefined"===typeof Float64Array?void 0:Float64Array.prototype,"$ %Function%":Function,"$ %FunctionPrototype%":Function.prototype,"$ %Generator%":void 0,"$ %GeneratorFunction%":void 0,"$ %GeneratorPrototype%":void 0,"$ %Int8Array%":"undefined"===typeof Int8Array?void 0:Int8Array,"$ %Int8ArrayPrototype%":"undefined"===typeof Int8Array?void 0:Int8Array.prototype,"$ %Int16Array%":"undefined"===typeof Int16Array?void 0:Int16Array,"$ %Int16ArrayPrototype%":"undefined"===typeof Int16Array?void 0:Int8Array.prototype,"$ %Int32Array%":"undefined"===typeof Int32Array?void 0:Int32Array,"$ %Int32ArrayPrototype%":"undefined"===typeof Int32Array?void 0:Int32Array.prototype,"$ %isFinite%":isFinite,"$ %isNaN%":isNaN,"$ %IteratorPrototype%":i?o(o([][Symbol.iterator]())):void 0,"$ %JSON%":JSON,"$ %JSONParse%":JSON.parse,"$ %Map%":"undefined"===typeof Map?void 0:Map,"$ %MapIteratorPrototype%":"undefined"!==typeof Map&&i?o((new Map)[Symbol.iterator]()):void 0,"$ %MapPrototype%":"undefined"===typeof Map?void 0:Map.prototype,"$ %Math%":Math,"$ %Number%":Number,"$ %NumberPrototype%":Number.prototype,"$ %Object%":Object,"$ %ObjectPrototype%":Object.prototype,"$ %ObjProto_toString%":Object.prototype.toString,"$ %ObjProto_valueOf%":Object.prototype.valueOf,"$ %parseFloat%":parseFloat,"$ %parseInt%":parseInt,"$ %Promise%":"undefined"===typeof Promise?void 0:Promise,"$ %PromisePrototype%":"undefined"===typeof Promise?void 0:Promise.prototype,"$ %PromiseProto_then%":"undefined"===typeof Promise?void 0:Promise.prototype.then,"$ %Promise_all%":"undefined"===typeof Promise?void 0:Promise.all,"$ %Promise_reject%":"undefined"===typeof Promise?void 0:Promise.reject,"$ %Promise_resolve%":"undefined"===typeof Promise?void 0:Promise.resolve,"$ %Proxy%":"undefined"===typeof Proxy?void 0:Proxy,"$ %RangeError%":RangeError,"$ %RangeErrorPrototype%":RangeError.prototype,"$ %ReferenceError%":ReferenceError,"$ %ReferenceErrorPrototype%":ReferenceError.prototype,"$ %Reflect%":"undefined"===typeof Reflect?void 0:Reflect,"$ %RegExp%":RegExp,"$ %RegExpPrototype%":RegExp.prototype,"$ %Set%":"undefined"===typeof Set?void 0:Set,"$ %SetIteratorPrototype%":"undefined"!==typeof Set&&i?o((new Set)[Symbol.iterator]()):void 0,"$ %SetPrototype%":"undefined"===typeof Set?void 0:Set.prototype,"$ %SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"$ %SharedArrayBufferPrototype%":"undefined"===typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"$ %String%":String,"$ %StringIteratorPrototype%":i?o(""[Symbol.iterator]()):void 0,"$ %StringPrototype%":String.prototype,"$ %Symbol%":i?Symbol:void 0,"$ %SymbolPrototype%":i?Symbol.prototype:void 0,"$ %SyntaxError%":SyntaxError,"$ %SyntaxErrorPrototype%":SyntaxError.prototype,"$ %ThrowTypeError%":r,"$ %TypedArray%":s,"$ %TypedArrayPrototype%":s?s.prototype:void 0,"$ %TypeError%":TypeError,"$ %TypeErrorPrototype%":TypeError.prototype,"$ %Uint8Array%":"undefined"===typeof Uint8Array?void 0:Uint8Array,"$ %Uint8ArrayPrototype%":"undefined"===typeof Uint8Array?void 0:Uint8Array.prototype,"$ %Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"$ %Uint8ClampedArrayPrototype%":"undefined"===typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"$ %Uint16Array%":"undefined"===typeof Uint16Array?void 0:Uint16Array,"$ %Uint16ArrayPrototype%":"undefined"===typeof Uint16Array?void 0:Uint16Array.prototype,"$ %Uint32Array%":"undefined"===typeof Uint32Array?void 0:Uint32Array,"$ %Uint32ArrayPrototype%":"undefined"===typeof Uint32Array?void 0:Uint32Array.prototype,"$ %URIError%":URIError,"$ %URIErrorPrototype%":URIError.prototype,"$ %WeakMap%":"undefined"===typeof WeakMap?void 0:WeakMap,"$ %WeakMapPrototype%":"undefined"===typeof WeakMap?void 0:WeakMap.prototype,"$ %WeakSet%":"undefined"===typeof WeakSet?void 0:WeakSet,"$ %WeakSetPrototype%":"undefined"===typeof WeakSet?void 0:WeakSet.prototype};e.exports=function(e,t){if(arguments.length>1&&"boolean"!==typeof t)throw new TypeError('"allowMissing" argument must be a boolean');var n="$ "+e;if(!(n in l))throw new SyntaxError("intrinsic "+e+" does not exist!");if("undefined"===typeof l[n]&&!t)throw new TypeError("intrinsic "+e+" exists, but is not available. Please file an issue!");return l[n]}},function(e,t,n){var r=n(47),i=n(88),o=n(205);e.exports=function(e){return function(t,n,a){var s,l=r(t),u=i(l.length),c=o(a,u);if(e&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){var r=n(89),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(17),i=n(14),o=n(59);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},function(e,t,n){"use strict";var r=n(208),i=n(156),o=n(49),a=n(47);e.exports=n(106)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t,n){"use strict";var r=n(107),i=n(66),o=n(78),a={};n(39)(a,n(20)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(89),i=n(87);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),l=r(n),u=s.length;return l<0||l>=u?e?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):o:e?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}}},function(e,t,n){n(77),n(60),e.exports=n(212)},function(e,t,n){var r=n(36),i=n(109);e.exports=n(14).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){"use strict";var r=n(92);function i(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new i(e)}},function(e,t,n){var r=n(39);e.exports=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:r(e,i,t[i]);return e}},function(e,t,n){n(217);var r=n(14).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(17);r(r.S+r.F*!n(34),"Object",{defineProperty:n(30).f})},function(e,t,n){n(60),n(219),e.exports=n(14).Array.from},function(e,t,n){"use strict";var r=n(48),i=n(17),o=n(65),a=n(161),s=n(162),l=n(88),u=n(220),c=n(109);i(i.S+i.F*!n(163)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,i,f,d=o(e),h="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,v=void 0!==m,g=0,y=c(d);if(v&&(m=r(m,p>2?arguments[2]:void 0,2)),void 0==y||h==Array&&s(y))for(n=new h(t=l(d.length));t>g;g++)u(n,g,v?m(d[g],g):d[g]);else for(f=y.call(d),n=new h;!(i=f.next()).done;g++)u(n,g,v?a(f,m,[i.value,g],!0):i.value);return n.length=g,n}})},function(e,t,n){"use strict";var r=n(30),i=n(66);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){e.exports=n(510)},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(61),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){return function(){var t=e.apply(this,arguments);return new o.default((function(e,n){return function r(i,a){try{var s=t[i](a),l=s.value}catch(u){return void n(u)}if(!s.done)return o.default.resolve(l).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(l)}("next")}))}}},function(e,t,n){n(224),e.exports=n(14).Number.isNaN},function(e,t,n){var r=n(17);r(r.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){n(226),e.exports=-9007199254740991},function(e,t,n){var r=n(17);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){n(228),e.exports=9007199254740991},function(e,t,n){var r=n(17);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){e.exports={default:n(230),__esModule:!0}},function(e,t,n){n(231),e.exports=n(14).Math.log2},function(e,t,n){var r=n(17);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,n){e.exports={default:n(233),__esModule:!0}},function(e,t,n){n(234),e.exports=n(14).Number.isSafeInteger},function(e,t,n){var r=n(17),i=n(235),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return i(e)&&o(e)<=9007199254740991}})},function(e,t,n){var r=n(31),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},function(e,t,n){"use strict";e.exports=function(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=n;return t}},function(e,t){function n(e){return!!e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"===typeof e.readFloatLE&&"function"===typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("http://www.w3.org/2000/svg"===e.namespaceURI){var n=e.getAttribute("class");return n&&!!n.match(new RegExp("(\\s|^)"+String(t)+"(\\s|$)"))}return e.classList?e.classList.contains(t):!!e.className.match(new RegExp("(\\s|^)"+String(t)+"(\\s|$)"))}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){e.exports={default:n(537),__esModule:!0}},function(e,t,n){var r=n(91)("meta"),i=n(31),o=n(46),a=n(30).f,s=0,l=Object.isExtensible||function(){return!0},u=!n(59)((function(){return l(Object.preventExtensions({}))})),c=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},f=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!l(e))return"F";if(!t)return"E";c(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!l(e))return!0;if(!t)return!1;c(e)}return e[r].w},onFreeze:function(e){return u&&f.NEED&&l(e)&&!o(e,r)&&c(e),e}}},function(e,t,n){var r=n(23),i=n(14),o=n(76),a=n(167),s=n(30).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){var r=n(130),i=n(66),o=n(47),a=n(123),s=n(46),l=n(155),u=Object.getOwnPropertyDescriptor;t.f=n(34)?u:function(e,t){if(e=o(e),t=a(t,!0),l)try{return u(e,t)}catch(n){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=K(n(44)),i=K(n(32)),o=K(n(61)),a=K(n(25)),s=K(n(21)),l=K(n(19)),u=K(n(16)),c=K(n(45)),f=K(n(40)),d=K(n(51)),h=K(n(35)),p=K(n(5)),m=K(n(3)),v=K(n(4)),g=K(n(6)),y=K(n(7)),b=K(n(33)),_=K(n(1)),x=K(n(2)),w=n(0),E=n(28),T=K(n(27)),S=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(319)),k=K(n(38)),O=K(n(573)),C=n(336),A=K(n(581)),M=K(n(582)),P=n(133),I=K(P),D=K(n(585)),N=K(n(671)),R=K(n(677)),L=K(n(679)),j=K(n(64)),F=K(n(683)),B=K(n(688)),z=n(376),H=K(n(689)),U=n(69),V=n(137),G=n(79),W=n(24),q=n(10),Y=n(11),X=K(n(726)),$=K(n(375));function K(e){return e&&e.__esModule?e:{default:e}}K(n(727));var Z={styles:{higlass:"HiGlass-module_higlass-1NHR2","higlass-dark-theme":"HiGlass-module_higlass-dark-theme-2visd","higlass-container-overflow":"HiGlass-module_higlass-container-overflow-zNXnY","higlass-scroll-container-overflow":"HiGlass-module_higlass-scroll-container-overflow-2FS0w","higlass-scroll-container-scroll":"HiGlass-module_higlass-scroll-container-scroll-2lAU4","higlass-canvas":"HiGlass-module_higlass-canvas-_mP9r","higlass-drawing-surface":"HiGlass-module_higlass-drawing-surface-3aQQo","higlass-svg":"HiGlass-module_higlass-svg-JJZbf","tiled-area":"HiGlass-module_tiled-area-22H1L","track-mouseover-menu":"HiGlass-module_track-mouseover-menu-1AoaP"},stylesMTHeader:{"multitrack-header":"ViewHeader-module_multitrack-header-3XnZx","multitrack-header-focus":"ViewHeader-module_multitrack-header-focus-3akkN","multitrack-header-squeazed":"ViewHeader-module_multitrack-header-squeazed-GHIVd","multitrack-header-dark":"ViewHeader-module_multitrack-header-dark-97tZt","multitrack-header-id":"ViewHeader-module_multitrack-header-id-3YURk","multitrack-header-left":"ViewHeader-module_multitrack-header-left-Qj9Sm","multitrack-header-grabber":"ViewHeader-module_multitrack-header-grabber-3jrIz","multitrack-header-grabber-squeazed":"ViewHeader-module_multitrack-header-grabber-squeazed-dU45Z","multitrack-header-search":"ViewHeader-module_multitrack-header-search-1X_3_","multitrack-header-nav-list":"ViewHeader-module_multitrack-header-nav-list-2nvcu","multitrack-header-icon":"ViewHeader-module_multitrack-header-icon-16QKZ","multitrack-header-icon-squeazed":"ViewHeader-module_multitrack-header-icon-squeazed-25lkF","mouse-tool-selection":"ViewHeader-module_mouse-tool-selection-1pg2m"},stylesGlobal:{higlass:"HiGlass_higlass-3aU-_","react-resizable-handle":"HiGlass_react-resizable-handle-3kCAE"}},Q=function(e){function t(e){(0,m.default)(this,t);var n=(0,g.default)(this,(t.__proto__||(0,p.default)(t)).call(this,e));(0,q.numericifyVersion)(_.default.version)<15.6&&console.warn("HiGlass requires React v15.6 or higher. Current version: ",_.default.version),n.pubSub=(0,I.default)(),n.domEvent=(0,W.createDomEvent)(n.pubSub),n.pubSubs=[],n.minHorizontalHeight=20,n.minVerticalWidth=20,n.resizeSensor=null,n.uid=T.default.nice(),n.tiledPlots={},n.genomePositionSearchBoxes={},n.xScales={},n.yScales={},n.projectionXDomains={},n.projectionYDomains={},n.topDiv=null,n.zoomToDataExtentOnInit=new h.default,n.viewTrackUidsToCombinedUid={},n.combinedUidToViewTrack={},n.scalesChangedListeners={},n.draggingChangedListeners={},n.valueScalesChangedListeners={},n.zoomLocks={},n.locationLocks={},n.valueScaleLocks={},n.prevAuthToken=e.options.authToken,n.setCenters={},n.plusImg={},n.configImg={},Y.GLOBALS.PIXI=e.options&&e.options.PIXI||S,n.viewMarginTop=+e.options.viewMarginTop>=0?+e.options.viewMarginTop:Y.DEFAULT_VIEW_MARGIN,n.viewMarginBottom=+e.options.viewMarginBottom>=0?+e.options.viewMarginBottom:Y.DEFAULT_VIEW_MARGIN,n.viewMarginLeft=+e.options.viewMarginLeft>=0?+e.options.viewMarginLeft:Y.DEFAULT_VIEW_MARGIN,n.viewMarginRight=+e.options.viewMarginRight>=0?+e.options.viewMarginRight:Y.DEFAULT_VIEW_MARGIN,n.viewPaddingTop=+e.options.viewPaddingTop>=0?+e.options.viewPaddingTop:Y.DEFAULT_VIEW_PADDING,n.viewPaddingBottom=+e.options.viewPaddingBottom>=0?+e.options.viewPaddingBottom:Y.DEFAULT_VIEW_PADDING,n.viewPaddingLeft=+e.options.viewPaddingLeft>=0?+e.options.viewPaddingLeft:Y.DEFAULT_VIEW_PADDING,n.viewPaddingRight=+e.options.viewPaddingRight>=0?+e.options.viewPaddingRight:Y.DEFAULT_VIEW_PADDING,n.genomePositionSearchBox=null,n.viewHeaders={},n.boundRefreshView=function(){n.refreshView(Y.LONG_DRAG_TIMEOUT)},n.unsetOnLocationChange=[],n.setTheme(e.options.theme,e.options.isDarkTheme),n.viewconfLoaded=!1;var r=n.props.viewConfig,i=n.loadIfRemoteViewConfig(n.props.viewConfig);e.options.authToken&&(0,W.setTileProxyAuthHeader)(e.options.authToken),n.pixiRoot=new Y.GLOBALS.PIXI.Container,n.pixiRoot.interactive=!0,n.pixiStage=new Y.GLOBALS.PIXI.Container,n.pixiStage.interactive=!0,n.pixiRoot.addChild(n.pixiStage),n.pixiMask=new Y.GLOBALS.PIXI.Graphics,n.pixiRoot.addChild(n.pixiMask),n.pixiStage.mask=n.pixiMask,n.element=null,n.scrollTop=0;var o=Y.MOUSE_TOOL_MOVE;if(n.props.options)switch(n.props.options.mouseTool){case Y.MOUSE_TOOL_SELECT:o=Y.MOUSE_TOOL_SELECT}n.props.options.pluginTracks&&(window.higlassTracksByType=(0,d.default)(window.higlassTracksByType||{},n.props.options.pluginTracks));var a={};try{window.higlassTracks&&(0,f.default)(window.higlassTracks).forEach((function(e){a[e.config.type]=e}))}catch(b){console.warn("Broken config of a plugin track",n.props.options.tracks)}var s=n.props.options.pixelPreciseMarginPadding?1:30;n.mounted=!1,n.state={pluginTracks:a,currentBreakpoint:"lg",width:0,height:0,rowHeight:s,svgElement:null,canvasElement:null,views:i,viewConfig:r,addTrackPositionMenuPosition:null,typedEditable:void 0,mouseOverOverlayUid:null,mouseTool:o,isDarkTheme:!1,rangeSelection1dSize:[0,1/0],rangeSelectionToInt:!1,modal:null},n.attachedToDOM=!1;var l=(0,H.default)(n,n.pubSub),u=l.public,c=l.destroy,v=l.publish,y=l.stack;return n.api=u,n.apiDestroy=c,n.apiPublish=v,n.apiStack=y,n.viewChangeListener=[],n.triggerViewChangeDb=(0,q.debounce)(n.triggerViewChange.bind(n),250),n.pubSubs=[],n.rangeSelection=[null,null],n.prevMouseHoverTrack=null,n.zooming=!1,n.appClickHandlerBound=n.appClickHandler.bind(n),n.keyDownHandlerBound=n.keyDownHandler.bind(n),n.keyUpHandlerBound=n.keyUpHandler.bind(n),n.resizeHandlerBound=n.resizeHandler.bind(n),n.resizeHandlerBound=n.resizeHandler.bind(n),n.dispatchEventBound=n.dispatchEvent.bind(n),n.animateOnMouseMoveHandlerBound=n.animateOnMouseMoveHandler.bind(n),n.zoomStartHandlerBound=n.zoomStartHandler.bind(n),n.zoomEndHandlerBound=n.zoomEndHandler.bind(n),n.zoomHandlerBound=n.zoomHandler.bind(n),n.trackDroppedHandlerBound=n.trackDroppedHandler.bind(n),n.animateBound=n.animate.bind(n),n.animateOnGlobalEventBound=n.animateOnGlobalEvent.bind(n),n.requestReceivedHandlerBound=n.requestReceivedHandler.bind(n),n.wheelHandlerBound=n.wheelHandler.bind(n),n.mouseMoveHandlerBound=n.mouseMoveHandler.bind(n),n.onMouseLeaveHandlerBound=n.onMouseLeaveHandler.bind(n),n.onBlurHandlerBound=n.onBlurHandler.bind(n),n.openModalBound=n.openModal.bind(n),n.closeModalBound=n.closeModal.bind(n),n.handleEditViewConfigBound=n.handleEditViewConfig.bind(n),n.onScrollHandlerBound=n.onScrollHandler.bind(n),n.typedText="",n.typedTextTimeout=null,n.modal={open:n.openModalBound,close:n.closeModalBound},n.setBroadcastMousePositionGlobally(n.props.options.broadcastMousePositionGlobally||n.props.options.globalMousePosition),n.setShowGlobalMousePosition(n.props.options.showGlobalMousePosition||n.props.options.globalMousePosition),n}return(0,y.default)(t,e),(0,v.default)(t,[{key:"UNSAFE_componentWillMount",value:function(){this.domEvent.register("keydown",document),this.domEvent.register("keyup",document),this.domEvent.register("scroll",document),this.domEvent.register("resize",window),this.domEvent.register("orientationchange",window),this.domEvent.register("wheel",window),this.domEvent.register("mousedown",window,!0),this.domEvent.register("mouseup",window,!0),this.domEvent.register("click",window,!0),this.domEvent.register("mousemove",window),this.domEvent.register("touchmove",window),this.domEvent.register("touchstart",window),this.domEvent.register("touchend",window),this.domEvent.register("touchcancel",window),this.domEvent.register("blur",window),this.pubSubs.push(this.pubSub.subscribe("app.click",this.appClickHandlerBound),this.pubSub.subscribe("blur",this.onBlurHandlerBound),this.pubSub.subscribe("keydown",this.keyDownHandlerBound),this.pubSub.subscribe("keyup",this.keyUpHandlerBound),this.pubSub.subscribe("resize",this.resizeHandlerBound),this.pubSub.subscribe("wheel",this.wheelHandlerBound),this.pubSub.subscribe("orientationchange",this.resizeHandlerBound),this.pubSub.subscribe("app.event",this.dispatchEventBound),this.pubSub.subscribe("app.animateOnMouseMove",this.animateOnMouseMoveHandlerBound),this.pubSub.subscribe("trackDropped",this.trackDroppedHandlerBound),this.pubSub.subscribe("app.zoomStart",this.zoomStartHandlerBound),this.pubSub.subscribe("app.zoomEnd",this.zoomEndHandlerBound),this.pubSub.subscribe("app.zoom",this.zoomHandlerBound),this.pubSub.subscribe("requestReceived",this.requestReceivedHandlerBound)),this.props.getApi&&this.props.getApi(this.api)}},{key:"setBroadcastMousePositionGlobally",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isBroadcastMousePositionGlobally=e}},{key:"setShowGlobalMousePosition",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isShowGlobalMousePosition=t,this.isShowGlobalMousePosition&&!this.globalMousePositionListener&&(this.globalMousePositionListener=P.globalPubSub.subscribe("higlass.mouseMove",this.animateOnGlobalEventBound),this.pubSubs.push(this.globalMousePositionListener)),this.isShowGlobalMousePosition&&!this.globalMousePositionListener){var n=this.pubSubs.findIndex((function(t){return t===e.globalMousePositionListener}));P.globalPubSub.unsubscribe(this.globalMousePositionListener),n>=0&&this.pubSubs.splice(n,1),this.globalMousePositionListener=void 0}}},{key:"zoomStartHandler",value:function(){this.hideHoverMenu(),this.zooming=!0}},{key:"zoomEndHandler",value:function(){this.zooming=!1}},{key:"zoomHandler",value:function(e){e.sourceEvent&&this.mouseMoveHandler(e.sourceEvent)}},{key:"waitForDOMAttachment",value:function(e){var t=this;if(this.mounted){var n=k.default.findDOMNode(this);document.body.contains(n)?e():requestAnimationFrame((function(){return t.waitForDOMAttachment(e)}))}}},{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.element=k.default.findDOMNode(this),window.addEventListener("focus",this.boundRefreshView),(0,f.default)(this.state.views).forEach((function(t){e.adjustLayoutToTrackSizes(t),t.layout?t.layout.i=t.uid:t.layout=e.generateViewLayout(t)}));var t={width:this.state.width,height:this.state.height,view:this.canvasElement,antialias:!0,transparent:!0,resolution:2,autoResize:!0};switch(S.VERSION[0]){case"4":console.warn("Deprecation warning: please update Pixi.js to version 5!"),"canvas"===this.props.options.renderer?this.pixiRenderer=new Y.GLOBALS.PIXI.CanvasRenderer(t):this.pixiRenderer=new Y.GLOBALS.PIXI.WebGLRenderer(t);break;default:console.warn("Deprecation warning: please update Pixi.js to version 5! This version of Pixi.js is unsupported. Good luck \ud83e\udd1e");case"5":"canvas"===this.props.options.renderer?this.pixiRenderer=new Y.GLOBALS.PIXI.CanvasRenderer(t):this.pixiRenderer=new Y.GLOBALS.PIXI.Renderer(t)}this.fitPixiToParentContainer(),this.setState({svgElement:this.svgElement,canvasElement:this.canvasElement}),this.waitForDOMAttachment((function(){C.ElementQueries.listen(),e.resizeSensor=new C.ResizeSensor(e.element.parentNode,e.updateAfterResize.bind(e)),e.updateAfterResize()})),this.handleDragStart(),this.handleDragStop(),this.animate();var n=(0,w.select)(this.element).append("svg").style("display","none");z.all.forEach((function(e){return(0,B.default)(n,e.id,e.paths,e.viewBox)}))}},{key:"getTrackObject",value:function(e,t){return this.tiledPlots[e].trackRenderer.getTrackObject(t)}},{key:"getTrackRenderer",value:function(e){return this.tiledPlots[e].trackRenderer}},{key:"loadIfRemoteViewConfig",value:function(e){var t=this,n={};return"string"===typeof e?W.tileProxy.json(e,(function(n,r){e=r,t.setState({views:t.processViewConfig(JSON.parse((0,c.default)(r))),viewConfig:r}),t.unsetOnLocationChange.forEach((function(e){var n=e.viewId,r=e.callback,i=e.callbackId;t.onLocationChange(n,r,i)}))}),this.pubSub):(n=this.processViewConfig(JSON.parse((0,c.default)(e))),this.mounted&&this.setState({viewConfig:e})),n}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.loadIfRemoteViewConfig(e.viewConfig);if(e.options.authToken!==this.prevAuthToken){(0,W.setTileProxyAuthHeader)(e.options.authToken);var n=!0,r=!1,i=void 0;try{for(var o,a=(0,u.default)(this.iterateOverViews());!(n=(o=a.next()).done);n=!0){var s=o.value,l=this.getTrackRenderer(s),c=JSON.parse(l.prevTrackDefinitions);l.syncTrackObjects([]),l.syncTrackObjects(c)}}catch(g){r=!0,i=g}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}this.prevAuthToken=e.options.authToken}var f=!0,d=!1,h=void 0;try{for(var p,m=(0,u.default)((0,q.dictValues)(t));!(f=(p=m.next()).done);f=!0){var v=p.value;this.adjustLayoutToTrackSizes(v)}}catch(g){d=!0,h=g}finally{try{!f&&m.return&&m.return()}finally{if(d)throw h}}this.setState({views:t})}},{key:"UNSAFE_componentWillUpdate",value:function(){this.pixiRenderer.render(this.pixiRoot)}},{key:"componentDidUpdate",value:function(){this.setTheme(this.props.options.theme,this.props.options.isDarkTheme),this.animate(),this.triggerViewChangeDb()}},{key:"componentWillUnmount",value:function(){var e=this;this.mounted=!1,this.pixiStage.destroy(!1),this.pixiStage=null,this.pixiRenderer.destroy(!0),this.pixiRenderer=null,window.removeEventListener("focus",this.boundRefreshView),this.resizeSensor&&this.resizeSensor.detach(),this.domEvent.unregister("keydown",document),this.domEvent.unregister("keyup",document),this.domEvent.unregister("scroll",document),this.domEvent.unregister("wheel",window),this.domEvent.unregister("mousedown",window),this.domEvent.unregister("mouseup",window),this.domEvent.unregister("click",window),this.domEvent.unregister("mousemove",window),this.domEvent.unregister("touchmove",window),this.domEvent.unregister("touchstart",window),this.domEvent.unregister("touchend",window),this.domEvent.unregister("touchcancel",window),this.pubSubs.forEach((function(t){return e.pubSub.unsubscribe(t)})),this.pubSubs=[],this.apiDestroy()}},{key:"setTheme",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.options.theme,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props.options.isDarkTheme;if("undefined"!==typeof t)console.warn("The option `isDarkTheme` is deprecated. Please use `theme` instead."),this.theme=t?"dark":"light";else switch(e){case"dark":this.theme=Y.THEME_DARK;break;case"light":case void 0:this.theme=Y.THEME_LIGHT;break;default:console.warn('Unknown theme "'+String(e)+'". Using light theme.'),this.theme=Y.THEME_LIGHT}}},{key:"dispatchEvent",value:function(e){this.canvasElement&&(0,q.forwardEvent)(e,this.canvasElement)}},{key:"trackDroppedHandler",value:function(){this.setState({draggingHappening:null})}},{key:"requestReceivedHandler",value:function(){this.viewconfLoaded||0!==W.requestsInFlight||(this.viewconfLoaded=!0,this.props.options.onViewConfLoaded&&this.props.options.onViewConfLoaded())}},{key:"animateOnMouseMoveHandler",value:function(e){e&&!this.animateOnMouseMove&&this.pubSubs.push(this.pubSub.subscribe("app.mouseMove",this.animateBound)),this.animateOnMouseMove=e}},{key:"fitPixiToParentContainer",value:function(){if(this.element&&this.element.parentNode){var e=this.element.parentNode.clientWidth,t=this.element.parentNode.clientHeight;this.pixiMask.beginFill(16777215).drawRect(0,0,e,t).endFill(),this.pixiRenderer.resize(e,t),this.pixiRenderer.view.style.width=String(e)+"px",this.pixiRenderer.view.style.height=String(t)+"px",this.pixiRenderer.render(this.pixiRoot)}else console.warn("No parentNode:",this.element)}},{key:"addDefaultTrackOptions",value:function(e){var t=this.getTrackInfo(e.type);if(t){"undefined"===typeof e.options&&(e.options={});var n=e.options?e.options:{};if(this.props.options.defaultTrackOptions){if(this.props.options.defaultTrackOptions.trackSpecific&&this.props.options.defaultTrackOptions.trackSpecific[e.type]){var r=this.props.options.defaultTrackOptions.trackSpecific[e.type];for(var i in r)e.options[i]="undefined"!==typeof e.options[i]?e.options[i]:JSON.parse((0,c.default)(r[i]))}if(this.props.options.defaultTrackOptions.all){var o=this.props.options.defaultTrackOptions.all;for(var a in o)e.options[a]="undefined"!==typeof e.options[a]?e.options[a]:JSON.parse((0,c.default)(o[a]))}}if(t.defaultOptions){var s=t.defaultOptionsByTheme&&t.defaultOptionsByTheme[this.theme]?t.defaultOptionsByTheme[this.theme]:{},l=(0,d.default)({},t.defaultOptions,s);if(e.options)for(var u in l)e.options[u]="undefined"!==typeof e.options[u]?e.options[u]:JSON.parse((0,c.default)(l[u]));else e.options=JSON.parse((0,c.default)(l))}else e.options=n}}},{key:"toggleTypedEditable",value:function(){this.setState({typedEditable:!this.isEditable()})}},{key:"typedTextHandler",value:function(e){var t=this;this.props.options.cheatCodesEnabled&&(this.typedText=this.typedText.concat(e.key),this.typedText.endsWith("hgedit")&&(this.toggleTypedEditable(),this.typedText=""),this.typedTextTimeout&&clearTimeout(this.typedTextTimeout),this.typedTextTimeout=setTimeout((function(){t.typedText=""}),750))}},{key:"keyDownHandler",value:function(e){this.typedTextHandler(e),this.props.options.rangeSelectionOnAlt&&"Alt"===e.key&&this.setState({mouseTool:Y.MOUSE_TOOL_SELECT})}},{key:"keyUpHandler",value:function(e){this.props.options.rangeSelectionOnAlt&&"Alt"===e.key&&this.setState({mouseTool:Y.MOUSE_TOOL_MOVE})}},{key:"openModal",value:function(e){var t=this;this.setState({modal:_.default.cloneElement(e,{ref:function(e){t.modalRef=e}})})}},{key:"closeModal",value:function(){this.modalRef=null,this.setState({modal:null})}},{key:"handleEditViewConfig",value:function(){var e=this,t=this.state.viewConfig;this.setState({viewConfigTmp:t}),this.openModal(_.default.createElement(F.default,{onCancel:function(){var t=e.state.viewConfigTmp,n=e.processViewConfig(t),r=!0,i=!1,o=void 0;try{for(var a,s=(0,u.default)((0,q.dictValues)(n));!(r=(a=s.next()).done);r=!0){var l=a.value;e.adjustLayoutToTrackSizes(l)}}catch(c){i=!0,o=c}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}e.setState({views:n,viewConfig:t,viewConfigTmp:null})},onChange:function(t){var n=JSON.parse(t),r=e.processViewConfig(n),i=!0,o=!1,a=void 0;try{for(var s,l=(0,u.default)((0,q.dictValues)(r));!(i=(s=l.next()).done);i=!0){var c=s.value;e.adjustLayoutToTrackSizes(c)}}catch(f){o=!0,a=f}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}e.setState({views:r,viewConfig:n})},onSave:function(t){var n=JSON.parse(t),r=e.processViewConfig(n),i=!0,o=!1,a=void 0;try{for(var s,l=(0,u.default)((0,q.dictValues)(r));!(i=(s=l.next()).done);i=!0){var c=s.value;e.adjustLayoutToTrackSizes(c)}}catch(f){o=!0,a=f}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}e.setState({views:r,viewConfig:n,viewConfigTmp:null})},viewConfig:this.getViewsAsString()}))}},{key:"animate",value:function(){var e=this;this.isRequestingAnimationFrame||(this.isRequestingAnimationFrame=!0,requestAnimationFrame((function(){e.pixiRenderer&&(e.pixiRenderer.render(e.pixiRoot),e.isRequestingAnimationFrame=!1)})))}},{key:"animateOnGlobalEvent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.sourceUid;t!==this.uid&&this.animateOnMouseMove&&this.animate()}},{key:"measureSize",value:function(){var e=(0,q.getElementDim)(this.element),t=(0,l.default)(e,2),n=t[0],r=t[1];n>0&&r>0&&this.setState({sizeMeasured:!0,width:n,height:r})}},{key:"updateAfterResize",value:function(){this.measureSize(),this.updateRowHeight(),this.fitPixiToParentContainer(),this.refreshView(Y.LONG_DRAG_TIMEOUT),this.resizeHandler()}},{key:"onBreakpointChange",value:function(e){this.setState({currentBreakpoint:e})}},{key:"handleOverlayMouseEnter",value:function(e){this.setState({mouseOverOverlayUid:e})}},{key:"handleOverlayMouseLeave",value:function(){this.setState({mouseOverOverlayUid:null})}},{key:"handleLockLocation",value:function(e){var t=this;this.setState({chooseViewHandler:function(n){return t.handleLocationLockChosen(e,n)},mouseOverOverlayUid:e})}},{key:"isEditable",value:function(){return void 0!==this.state.typedEditable?this.state.typedEditable:this.props.options&&"editable"in this.props.options?this.props.options.editable&&this.state.viewConfig.editable:this.state.viewConfig.editable}},{key:"isTrackMenuDisabled",value:function(){return!(!this.props.options||!1!==this.props.options.editable&&!1!==this.props.options.tracksEditable)||this.state.viewConfig&&(!1===this.state.viewConfig.tracksEditable||!1===this.state.viewConfig.editable)}},{key:"isViewHeaderDisabled",value:function(){return!(!this.props.options||!1!==this.props.options.editable&&!1!==this.props.options.viewEditable)||this.state.viewConfig&&(!1===this.state.viewConfig.viewEditable||!1===this.state.viewConfig.editable)}},{key:"iterateOverViews",value:function(){var e=[];for(var t in(0,s.default)(this.state.views))e.push(t);return e}},{key:"iterateOverTracksInView",value:function(e){var t=[],n=this.state.views[e].tracks;for(var r in n){var i=!0,o=!1,a=void 0;try{for(var s,l=(0,u.default)(n[r]);!(i=(s=l.next()).done);i=!0){var c=s.value;if("combined"===c.type&&c.contents){var f=!0,d=!1,h=void 0;try{for(var p,m=(0,u.default)(c.contents);!(f=(p=m.next()).done);f=!0){var v=p.value;t.push({viewId:e,trackId:v.uid,track:v})}}catch(g){d=!0,h=g}finally{try{!f&&m.return&&m.return()}finally{if(d)throw h}}}else t.push({viewId:e,trackId:c.uid,track:c})}}catch(g){o=!0,a=g}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}}return t}},{key:"iterateOverTracks",value:function(){var e=[];for(var t in this.state.views){var n=this.state.views[t].tracks;for(var r in n){var i=!0,o=!1,a=void 0;try{for(var s,l=(0,u.default)(n[r]);!(i=(s=l.next()).done);i=!0){var c=s.value;if("combined"===c.type&&c.contents){var f=!0,d=!1,h=void 0;try{for(var p,m=(0,u.default)(c.contents);!(f=(p=m.next()).done);f=!0){var v=p.value;e.push({viewId:t,trackId:v.uid,track:v})}}catch(g){d=!0,h=g}finally{try{!f&&m.return&&m.return()}finally{if(d)throw h}}}else e.push({viewId:t,trackId:c.uid,track:c})}}catch(g){o=!0,a=g}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}}}return e}},{key:"setMouseTool",value:function(e){this.setState({mouseTool:e})}},{key:"isValueScaleLocked",value:function(e,t){var n=this.combineViewAndTrackUid(e,t);return!!this.state.views[e]&&!!this.valueScaleLocks[n]}},{key:"getLockGroupExtrema",value:function(e,t){var n=this,r=this.combineViewAndTrackUid(e,t);if(!this.state.views[e])return null;if(!this.valueScaleLocks[r])return null;var i=this.valueScaleLocks[r],o=(0,f.default)(i).filter((function(e){return n.tiledPlots[e.view]})).map((function(e){return n.tiledPlots[e.view].trackRenderer.getTrackObject(e.track)})).filter((function(e){return e})).map((function(e){return void 0===e.originalTrack?e:e.originalTrack})),s=o.filter((function(e){return e.minRawValue&&e.maxRawValue})).map((function(e){return i.ignoreOffScreenValues?e.minVisibleValue(!0):e.minVisibleValueInTiles(!0)})),l=o.filter((function(e){return e.minRawValue&&e.maxRawValue})).map((function(e){return i.ignoreOffScreenValues?e.maxVisibleValue(!0):e.maxVisibleValueInTiles(!0)}));return 0===s.length||s.filter((function(e){return null===e||e===1/0})).length>0||0===l.length||l.filter((function(e){return null===e||e===-1/0})).length>0?null:[Math.min.apply(Math,(0,a.default)(s)),Math.max.apply(Math,(0,a.default)(l))]}},{key:"syncValueScales",value:function(e,t){var n=this,r=this.combineViewAndTrackUid(e,t);if(this.state.views[e]){var i=(0,q.getTrackByUid)(this.state.views[e].tracks,t);if(this.valueScaleLocks[r]){var o=this.valueScaleLocks[r],a=(0,f.default)(o).filter((function(e){return n.tiledPlots[e.view]})).map((function(e){return n.tiledPlots[e.view].trackRenderer.getTrackObject(e.track)})).filter((function(e){return e})).map((function(e){return void 0===e.originalTrack?e:e.originalTrack})),s=this.getLockGroupExtrema(e,t);if(null===s)return;var l=s[0],c=s[1],d=!0,h=!1,p=void 0;try{for(var m,v=(0,u.default)(a);!(d=(m=v.next()).done);d=!0){var g=m.value;if(g.minValue&&g.minValue(l),g.maxValue&&g.maxValue(c),g.valueScale){var y=Math.abs(g.minValue()-g.valueScale.domain()[0])>1e-6||Math.abs(g.maxValue()-g.valueScale.domain()[1])>1e-6,b=i.options&&g.options&&"undefined"!==typeof i.options.scaleStartPercent&&"undefined"!==typeof i.options.scaleEndPercent&&(Math.abs(g.options.scaleStartPercent-i.options.scaleStartPercent)>1e-6||Math.abs(g.options.scaleEndPercent-i.options.scaleEndPercent)>1e-6);(!g.continuousScaling||y||b)&&(g.valueScale.domain([l,c]),g.prevValueScale=g.valueScale.copy(),b&&(g.options.scaleStartPercent=i.options.scaleStartPercent,g.options.scaleEndPercent=i.options.scaleEndPercent),g.rerender(g.options,!0))}}}catch(_){h=!0,p=_}finally{try{!d&&v.return&&v.return()}finally{if(h)throw p}}}}}},{key:"handleNewTilesLoaded",value:function(e,t){this.animate()}},{key:"notifyDragChangedListeners",value:function(e){(0,q.dictValues)(this.draggingChangedListeners).forEach((function(t){(0,q.dictValues)(t).forEach((function(t){return t(e)}))}))}},{key:"addDraggingChangedListener",value:function(e,t,n){this.draggingChangedListeners.hasOwnProperty(e)||(this.draggingChangedListeners[e]={}),this.draggingChangedListeners[e][t]=n,n(!0),n(!1)}},{key:"removeDraggingChangedListener",value:function(e,t){if(this.draggingChangedListeners.hasOwnProperty(e)){var n=this.draggingChangedListeners[e];n.hasOwnProperty(t)&&(n[t](!1),delete n[t])}}},{key:"addScalesChangedListener",value:function(e,t,n){this.scalesChangedListeners[e]||(this.scalesChangedListeners[e]={}),this.scalesChangedListeners[e][t]=n,this.xScales[e]&&this.yScales[e]&&n(this.xScales[e],this.yScales[e])}},{key:"removeScalesChangedListener",value:function(e,t){if(this.scalesChangedListeners[e]){var n=this.scalesChangedListeners[e];n[t]&&delete n[t]}}},{key:"createSVG",value:function(){var e=document.createElement("svg");e.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e.setAttribute("version","1.1");var t=!0,n=!1,r=void 0;try{for(var i,o=(0,u.default)((0,q.dictValues)(this.tiledPlots));!(t=(i=o.next()).done);t=!0){var a=i.value;if(a){var s=!0,l=!1,c=void 0;try{for(var f,d=(0,u.default)((0,q.dictValues)(a.trackRenderer.trackDefObjects));!(s=(f=d.next()).done);s=!0){var h=f.value;if(h.trackObject.exportSVG){var p=h.trackObject.exportSVG();p&&e.appendChild(p[0])}}}catch(m){l=!0,c=m}finally{try{!s&&d.return&&d.return()}finally{if(l)throw c}}}}}catch(m){n=!0,r=m}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}return e.setAttribute("width",this.canvasElement.style.width),e.setAttribute("height",this.canvasElement.style.height),this.postCreateSVGCallback?this.postCreateSVGCallback(e):e}},{key:"createSVGString",value:function(){var e=this.createSVG(),t=A.default.xml((new window.XMLSerializer).serializeToString(e));return t=(t=(t=(t=t.replace(/<a0:/g,"<")).replace(/<\/a0:/g,"</")).replace(/(<svg[\n\r])(\s+xmlns="http:\/\/www\.w3\.org\/1999\/xhtml"[\n\r])/gm,"$1")).replace(/(\s+<clipPath[\n\r]\s+)(xmlns="http:\/\/www\.w3\.org\/2000\/svg")/gm,"$1"),'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n'+String(t)}},{key:"handleExportSVG",value:function(){(0,q.download)("export.svg",new Blob([this.createSVGString()],{type:"image/svg+xml"}))}},{key:"offPostCreateSVG",value:function(){this.postCreateSVGCallback=null}},{key:"onPostCreateSVG",value:function(e){this.postCreateSVGCallback=e}},{key:"createPNGBlobPromise",value:function(){var e=this;return new o.default((function(t){var n=e.createSVGString(),r=new Image(e.canvasElement.width,e.canvasElement.height);r.src="data:image/svg+xml;base64,"+String(btoa(n)),r.onload=function(){var n=document.createElement("canvas");n.width=e.canvasElement.width/2,n.height=e.canvasElement.height/2,n.getContext("2d").drawImage(r,0,0),n.toBlob((function(e){t(e)}))}}))}},{key:"handleExportPNG",value:function(){this.createPNGBlobPromise().then((function(e){(0,q.download)("export.png",e)}))}},{key:"handleScalesChanged",value:function(e,t,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(this.xScales[e]=t,this.yScales[e]=n,i&&e in this.scalesChangedListeners&&(0,q.dictValues)(this.scalesChangedListeners[e]).forEach((function(e){e(t,n)})),this.zoomLocks[e])for(var o=this.zoomLocks[e],a=(0,q.dictItems)(o),s=(0,q.scalesCenterAndK)(this.xScales[e],this.yScales[e]),u=(0,l.default)(s,3),c=(u[0],u[1],u[2]),f=function(t){var n=a[t][0],i=a[t][1];if(!r.xScales[n]||!r.yScales[n])return"continue";if(n===e)return"continue";var s=(0,q.scalesCenterAndK)(r.xScales[n],r.yScales[n]),u=(0,l.default)(s,3),f=u[0],d=u[1],h=(u[2],i[2]/o[e][2]),p=c*h;if(!r.setCenters[n])return"continue";var m=r.setCenters[n](f,d,p,!1),v=(0,l.default)(m,2),g=v[0],y=v[1];r.xScales[n]=g,r.yScales[n]=y,r.scalesChangedListeners.hasOwnProperty(n)&&(0,q.dictValues)(r.scalesChangedListeners[n]).forEach((function(e){e(g,y)}))},d=0;d<a.length;d++)f(d);if(this.locationLocks[e]){var h=this.locationLocks[e],p=(0,q.dictItems)(h),m=(0,q.scalesCenterAndK)(this.xScales[e],this.yScales[e]),v=(0,l.default)(m,3),g=v[0],y=v[1],b=(v[2],function(t){var n=p[t][0],i=p[t][1];if(!r.xScales[n]||!r.yScales[n])return"continue";var o=(0,q.scalesCenterAndK)(r.xScales[n],r.yScales[n]),a=(0,l.default)(o,3),s=(a[0],a[1],a[2]);if(n===e)return"continue";var u=i[0]-h[e][0],c=i[1]-h[e][1],f=g+u,d=y+c;if(!r.setCenters[n])return"continue";var m=r.setCenters[n](f,d,s,!1),v=(0,l.default)(m,2),b=v[0],_=v[1];r.xScales[n]=b,r.yScales[n]=_,r.scalesChangedListeners.hasOwnProperty(n)&&(0,q.dictValues)(r.scalesChangedListeners[n]).forEach((function(e){e(b,_)}))});for(d=0;d<p.length;d++)b(d)}this.animate(),this.triggerViewChangeDb()}},{key:"handleProjectViewport",value:function(e){var t=this;this.setState({chooseTrackHandler:function(n,r){return t.handleViewportProjected(e,n,r)}})}},{key:"handleZoomToData",value:function(e){if(e&&!this.tiledPlots[e])throw new Error("View uid "+String(e)+" does not exist in the current viewConfig");e?this.tiledPlots[e].handleZoomToData():(0,f.default)(this.tiledPlots).forEach((function(e){return e.handleZoomToData()}))}},{key:"resetViewport",value:function(e){if(e&&!this.tiledPlots[e])throw new Error("View uid "+String(e)+" does not exist in the current viewConfig");e?this.tiledPlots[e].resetViewport():(0,f.default)(this.tiledPlots).forEach((function(e){return e.resetViewport()}))}},{key:"handleYankFunction",value:function(e,t){this.setState({chooseViewHandler:function(n){return t(e,n)},mouseOverOverlayUid:e})}},{key:"handleUnlock",value:function(e,t){var n=t[e],r=(0,q.dictKeys)(n);if(2===r.length)return delete t[r[0]],void delete t[r[1]];t[e]&&t[e][e]&&delete t[e][e],t[e]&&delete t[e]}},{key:"viewScalesLockData",value:function(e){return this.xScales[e]&&this.yScales[e]?(0,q.scalesCenterAndK)(this.xScales[e],this.yScales[e]):(console.warn("View scale lock doesn't correspond to existing uid: ",e),null)}},{key:"addLock",value:function(e,t,n,r){var i=this,o=[],a=[];o=n[e]?(0,q.dictItems)(n[e]).filter((function(e){return r(e[0])})).map((function(e){return[e[0],r(e[0])]})):[[e,r.bind(this)(e)]],a=n[t]?(0,q.dictItems)(n[t]).filter((function(e){return r.bind(i)(e[0])})).map((function(e){return[e[0],r.bind(i)(e[0])]})):[[t,r.bind(this)(t)]];var s=o.concat(a),l=(0,q.dictFromTuples)(s);s.forEach((function(e){n[e[0]]=l}))}},{key:"handleLocationLockChosen",value:function(e,t){e!==t?(this.addLock(e,t,this.locationLocks,this.viewScalesLockData.bind(this)),this.setState({chooseViewHandler:null})):this.setState({chooseViewHandler:null})}},{key:"handleZoomLockChosen",value:function(e,t){e!==t?(this.addLock(e,t,this.zoomLocks,this.viewScalesLockData.bind(this)),this.setState({chooseViewHandler:null})):this.setState({chooseViewHandler:null})}},{key:"handleViewportProjected",value:function(e,t,n){var r=null;if(e===t)console.warn("A view can not show its own viewport.");else{var i=(0,q.getTrackByUid)(this.state.views[t].tracks,n),o=(0,q.getTrackPositionByUid)(this.state.views[t].tracks,n),a={uid:r=T.default.nice(),type:"viewport-projection-"+String({top:"horizontal",bottom:"horizontal",center:"center",left:"vertical",right:"vertical"}[o]),fromViewUid:e};this.addCallbacks(t,a),this.handleTrackAdded(t,a,o,i)}return this.setState({chooseTrackHandler:null}),r}},{key:"handleLocationYanked",value:function(e,t){var n=this.xScales[t],r=this.yScales[t],i=this.xScales[e],o=this.yScales[e],a=(0,q.scalesCenterAndK)(i,o),s=(0,l.default)(a,3),u=(s[0],s[1],s[2]),c=(0,q.scalesCenterAndK)(n,r),f=(0,l.default)(c,3),d=f[0],h=f[1];f[2],this.setCenters[e](d,h,u,!0),this.setState({chooseViewHandler:null})}},{key:"handleZoomYanked",value:function(e,t){var n=this.xScales[t],r=this.yScales[t],i=this.xScales[e],o=this.yScales[e],a=(0,q.scalesCenterAndK)(i,o),s=(0,l.default)(a,3),u=s[0],c=s[1],f=(s[2],(0,q.scalesCenterAndK)(n,r)),d=(0,l.default)(f,3),h=(d[0],d[1],d[2]);this.setCenters[e](u,c,h,!0),this.setState({chooseViewHandler:null})}},{key:"handleTrackPositionChosen",value:function(e,t){this.setState({addTrackPosition:t,addTrackPositionView:e})}},{key:"updateRowHeight",value:function(){if(this.props.options&&"bounded"===this.sizeMode&&!this.props.options.pixelPreciseMarginPadding){var e=this.element.parentNode.clientHeight,t=0,n=!0,r=!1,i=void 0;try{for(var o,a=(0,u.default)((0,q.dictValues)(this.state.views));!(n=(o=a.next()).done);n=!0){var s=o.value;t=Math.max(t,s.layout.y+s.layout.h)}}catch(f){r=!0,i=f}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}this.handleDragStart(),this.handleDragStop();var l=(e-((this.isEditable()?10:0)*t-1))/t,c=Math.floor(l);this.setState({rowHeight:c})}}},{key:"handleLayoutChange",value:function(e){var t=this;this.element&&(e.forEach((function(e){var n=t.state.views[e.i];n&&(n.layout.x=e.x,n.layout.y=e.y,n.layout.w=e.w,n.layout.h=e.h,n.layout.i=e.i)})),this.updateRowHeight(),this.refreshView(Y.LONG_DRAG_TIMEOUT))}},{key:"clearDragTimeout",value:function(){this.dragTimeout&&(clearTimeout(this.dragTimeout),this.dragTimeout=null)}},{key:"getTrackInfo",value:function(e){return Y.TRACKS_INFO_BY_TYPE[e]?Y.TRACKS_INFO_BY_TYPE[e]:window.higlassTracksByType&&window.higlassTracksByType[e]?window.higlassTracksByType[e].config:void console.warn("Track type not found:",e,"(check app/scripts/config/ for a list of defined track types)")}},{key:"forceRefreshView",value:function(){this.setState(this.state)}},{key:"refreshView",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y.SHORT_DRAG_TIMEOUT;this.clearDragTimeout(),this.notifyDragChangedListeners(!0),this.clearDragTimeout(),this.dragTimeout=setTimeout((function(){e.notifyDragChangedListeners(!1)}),t)}},{key:"handleDragStart",value:function(){this.clearDragTimeout(),this.notifyDragChangedListeners(!0)}},{key:"handleDragStop",value:function(){var e=this;this.clearDragTimeout(),this.dragTimeout=setTimeout((function(){e.notifyDragChangedListeners(!1)}),Y.LONG_DRAG_TIMEOUT)}},{key:"resizeHandler",value:function(){(0,q.objVals)(this.viewHeaders).filter((function(e){return e})).forEach((function(e){return e.checkWidth()}))}},{key:"calculateViewDimensions",value:function(e){var t=this.viewMarginTop+this.viewMarginBottom+this.viewPaddingTop+this.viewPaddingBottom,n=this.viewMarginLeft+this.viewMarginRight+this.viewPaddingLeft+this.viewPaddingRight,r=0;if(r+=10,e.tracks.top)for(var i=0;i<e.tracks.top.length;i++){var o=e.tracks.top[i];t+=o.height?o.height:20,r+=o.height?o.height:20}if(e.tracks.bottom)for(var a=0;a<e.tracks.bottom.length;a++){var s=e.tracks.bottom[a];t+=s.height?s.height:20,r+=s.height?s.height:20}(e.tracks.left&&e.tracks.left.length>0||e.tracks.right&&e.tracks.right.length>0||e.tracks.center&&e.tracks.center.length>0)&&(r+=20);var l=0;if(e.tracks.left)for(var c=0;c<e.tracks.left.length;c++){var f=e.tracks.left[c],d=f.height?f.height:100;n+=f.width?f.width:0,l=Math.max(l,d)}var h=0;if(e.tracks.right)for(var p=0;p<e.tracks.right.length;p++){var m=e.tracks.right[p],v=m.height?m.height:100;n+=m.width?m.width:0,h=Math.max(h,v)}var g=Math.max(l,h),y=0,b=0;if(e.tracks.center&&(0,q.dictValues)(e.tracks.center).length>0){if(!e.tracks.center[0].contents||e.tracks.center[0].contents.length>0){var _=null,x=null;if(e.tracks.center[0].contents){var w=!0,E=!1,T=void 0;try{for(var S,k=(0,u.default)(e.tracks.center[0].contents);!(w=(S=k.next()).done);w=!0){var O=S.value;_=Math.max(_,O.height?O.height:100),x=Math.max(x,O.width?O.width:100)}}catch(I){E=!0,T=I}finally{try{!w&&k.return&&k.return()}finally{if(E)throw T}}}else _=e.tracks.center[0].height?e.tracks.center[0].height:100,x=e.tracks.center[0].width?e.tracks.center[0].width:100;t+=_,n+=x}}else(e.tracks.top&&(0,q.dictValues)(e.tracks.top).length>1||e.tracks.bottom&&(0,q.dictValues)(e.tracks.bottom).length>1)&&(e.tracks.left&&(0,q.dictValues)(e.tracks.left).length||e.tracks.right&&(0,q.dictValues)(e.tracks.right).length)&&(b=100,y=100);t+=g>y?g:y;var C=0,A=0,M=0,P=0;return"top"in e.tracks&&(C=e.tracks.top.map((function(e){return e.height?e.height:20})).reduce((function(e,t){return e+t}),0)),"bottom"in e.tracks&&(A=e.tracks.bottom.map((function(e){return e.height?e.height:20})).reduce((function(e,t){return e+t}),0)),"left"in e.tracks&&(M=e.tracks.left.map((function(e){return e.width?e.width:0})).reduce((function(e,t){return e+t}),0)),"right"in e.tracks&&(P=e.tracks.right.map((function(e){return e.width?e.width:0})).reduce((function(e,t){return e+t}),0)),{totalWidth:n,totalHeight:t,topHeight:C,bottomHeight:A,leftWidth:M,rightWidth:P,centerWidth:b,centerHeight:y,minNecessaryHeight:r}}},{key:"generateViewLayout",value:function(e){return"layout"in e?e.layout.layout:{x:0,y:0,w:12,h:12}}},{key:"handleClearView",value:function(e){var t=this.state.views;t[e].tracks.top=[],t[e].tracks.bottom=[],t[e].tracks.center=[],t[e].tracks.left=[],t[e].tracks.right=[],t[e].tracks.whole=[],this.setState({views:t})}},{key:"handleCloseView",value:function(e){var t=this;1!==(0,q.dictValues)(this.state.views).length&&(this.handleUnlock(e,this.zoomLocks),this.setState((function(n){return delete n.views[e],{views:t.removeInvalidTracks(n.views)}})))}},{key:"handleSeriesAdded",value:function(e,t,n,r){var i=this.state.views[e].tracks;if("combined"===r.type)r.contents.push(t),"heatmap"===t.type&&this.compatibilityfyStackedHeatmaps(t,r);else for(var o={type:"combined",uid:T.default.nice(),height:r.height,width:r.width,contents:[r,t]},a=i[n],s=0;s<a.length;s++)a[s].uid===r.uid&&(a[s]=o);this.setState((function(e){return{views:e.views}}))}},{key:"handleNoTrackAdded",value:function(){this.state.addTrackPosition&&this.setState({addTrackPosition:null})}},{key:"handleTracksAdded",value:function(e,t,n,r){this.storeTrackSizes(e);var i=!0,o=!1,a=void 0;try{for(var s,l=(0,u.default)(t);!(i=(s=l.next()).done);i=!0){var c=s.value;this.handleTrackAdded(e,c,n,r)}}catch(f){o=!0,a=f}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}}},{key:"handleChangeTrackType",value:function(e,t,n){var r=this.state.views[e],i=(0,q.getTrackByUid)(r.tracks,t),o=i.uid;i.uid=T.default.nice(),i.type=n;var a=i.uid;this.updateTrackLocks(e,o,a),this.setState((function(e){return{views:e.views}}))}},{key:"handleChangeTrackData",value:function(e,t,n){var r=this.state.views[e],i=(0,q.getTrackByUid)(r.tracks,t);i.uid=T.default.nice(),i.data=n,this.setState((function(e){return{views:e.views}}))}},{key:"handleTrackAdded",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(this.addDefaultTrackOptions(t),t.uid||(t.uid=T.default.nice()),t.contents){var i=!0,o=!1,a=void 0;try{for(var l,c=(0,u.default)(t.contents);!(i=(l=c.next()).done);i=!0){var f=l.value;this.addDefaultTrackOptions(f)}}catch(g){o=!0,a=g}finally{try{!i&&c.return&&c.return()}finally{if(o)throw a}}}if(this.state.addTrackPosition&&this.setState({addTrackPosition:null}),r)return this.handleSeriesAdded(e,t,n,r),null;t.position=n;var d=this.getTrackInfo(t.type);t.width=d.defaultWidth||d.defaultOptions&&d.defaultOptions.minWidth||this.minVerticalWidth,t.height=d.defaultHeight||d.defaultOptions&&d.defaultOptions.minHeight||this.minHorizontalHeight;var h=this.state.views[e].tracks,p=0;if((0,q.visitPositionedTracks)(h,(function(){return p++})),"left"===n||"top"===n)h[n].unshift(t);else if("center"===n)if(0===h.center.length){var m={uid:T.default.nice(),type:"combined",contents:[t]};h.center=[m]}else if("combined"===h.center[0].type)h.center[0].contents.push(t),"heatmap"===t.type&&this.compatibilityfyStackedHeatmaps(t,h.center[0]);else{var v={uid:T.default.nice(),type:"combined",contents:[h.center[0],t]};h.center=[v],"heatmap"===t.type&&this.compatibilityfyStackedHeatmaps(t,v)}else h[n]||(h[n]=[]),h[n].push(t);return this.adjustLayoutToTrackSizes(this.state.views[e]),1===(0,s.default)(this.state.views).length&&0===p&&(this.handleZoomToData(e),this.zoomToDataExtentOnInit.add(e)),t}},{key:"compatibilityfyStackedHeatmaps",value:function(e,t){var n=void 0;t.contents.some((function(e){return n=e,"heatmap"===e.type}))&&(e.options.backgroundColor="transparent",e.options.showTooltip=n.options.showTooltip,e.options.showMousePosition=n.options.showMousePosition,e.options.mousePositionColor=n.options.mousePositionColor)}},{key:"storeTrackSizes",value:function(e){var t=this;(0,q.visitPositionedTracks)(this.state.views[e].tracks,(function(n){var r=t.tiledPlots[e].trackRenderer.getTrackObject(n.uid);if(r){var i=(0,l.default)(r.dimensions,2);n.width=i[0],n.height=i[1]}}))}},{key:"adjustLayoutToTrackSizes",value:function(e){if(e.layout){var t=0;this.isEditable()&&(t+=20),t+=this.calculateViewDimensions(e).totalHeight;var n=this.isEditable()?10:0;t+=n;var r=this.state.rowHeight+n;"bounded"!==this.sizeMode&&(e.layout.h=Math.ceil(t/r))}}},{key:"handleCloseTrack",value:function(e,t){var n=this.state.views[e].tracks;for(var r in this.handleUnlockValueScale(e,t),n){var i=n[r],o=i.filter((function(e){return e.uid!==t}));o.length===i.length?o.filter((function(e){return"combined"===e.type})).forEach((function(e){e.contents=e.contents.filter((function(e){return e.uid!==t}))})):n[r]=o}return this.storeTrackSizes(e),this.adjustLayoutToTrackSizes(this.state.views[e]),this.setState((function(e){return{views:e.views}})),this.state.views}},{key:"handleLockValueScale",value:function(e,t){var n=this;this.setState({chooseTrackHandler:function(r,i){return n.handleValueScaleLocked(e,t,r,i)}})}},{key:"combineViewAndTrackUid",value:function(e,t){var n=String(e)+"."+String(t);if(this.combinedUidToViewTrack[n]={view:e,track:t},this.viewTrackUidsToCombinedUid[e]){if(this.viewTrackUidsToCombinedUid[t])return this.viewTrackUidsToCombinedUid[e][t];this.viewTrackUidsToCombinedUid[e][t]=n}else this.viewTrackUidsToCombinedUid[e]={},this.viewTrackUidsToCombinedUid[e][t]=n;return n}},{key:"updateTrackLocks",value:function(e,t,n){var r=this.combineViewAndTrackUid(e,t),i=this.combineViewAndTrackUid(e,n);if(this.valueScaleLocks[r]){var o=this.valueScaleLocks[r];this.valueScaleLocks[i]=o,delete this.valueScaleLocks[r]}for(var a in this.valueScaleLocks)if(this.valueScaleLocks[a][r]){var s=this.valueScaleLocks[a][r];this.valueScaleLocks[a][i]=s,s.track=n,delete this.valueScaleLocks[a][r]}}},{key:"handleUnlockValueScale",value:function(e,t){if(this.tiledPlots[e].trackRenderer.getTrackObject(t).createdTracks){var n=(0,q.dictKeys)(this.tiledPlots[e].trackRenderer.getTrackObject(t).createdTracks),r=!0,i=!1,o=void 0;try{for(var a,s=(0,u.default)(n);!(r=(a=s.next()).done);r=!0){var l=a.value;this.handleUnlock(this.combineViewAndTrackUid(e,l),this.valueScaleLocks)}}catch(c){i=!0,o=c}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}else this.handleUnlock(this.combineViewAndTrackUid(e,t),this.valueScaleLocks)}},{key:"handleValueScaleLocked",value:function(e,t,n,r){var i=this;if(this.tiledPlots[e].trackRenderer.getTrackObject(t).createdTracks){var o=(0,q.dictKeys)(this.tiledPlots[e].trackRenderer.getTrackObject(t).createdTracks),a=!0,s=!1,l=void 0;try{for(var c,f=(0,u.default)(o);!(a=(c=f.next()).done);a=!0){var d=c.value;this.handleValueScaleLocked(e,d,n,r)}}catch(w){s=!0,l=w}finally{try{!a&&f.return&&f.return()}finally{if(s)throw l}}}else if(this.tiledPlots[n].trackRenderer.getTrackObject(r).createdTracks){var h=(0,q.dictKeys)(this.tiledPlots[n].trackRenderer.getTrackObject(r).createdTracks),p=!0,m=!1,v=void 0;try{for(var g,y=(0,u.default)(h);!(p=(g=y.next()).done);p=!0){var b=g.value;this.handleValueScaleLocked(e,t,n,b)}}catch(w){m=!0,v=w}finally{try{!p&&y.return&&y.return()}finally{if(m)throw v}}}else{var _=this.combineViewAndTrackUid(e,t),x=this.combineViewAndTrackUid(n,r);this.addLock(_,x,this.valueScaleLocks,(function(e){return i.combinedUidToViewTrack[e]})),this.syncValueScales(e,t),this.setState({chooseTrackHandler:null})}}},{key:"addCallbacks",value:function(e,t){var n=this;if("viewport-projection-center"===t.type||"viewport-projection-horizontal"===t.type||"viewport-projection-vertical"===t.type){var r=t.fromViewUid;t.registerViewportChanged=function(e,t){return n.addScalesChangedListener(r,e,t)},t.removeViewportChanged=function(e){return n.removeScalesChangedListener(r,e)},t.setDomainsCallback=function(i,o){if(!r)return n.projectionXDomains[e]||(n.projectionXDomains[e]={}),n.projectionYDomains[e]||(n.projectionYDomains[e]={}),"viewport-projection-horizontal"!==t.type&&"viewport-projection-center"!==t.type||(n.projectionXDomains[e][t.uid]=i),"viewport-projection-vertical"!==t.type&&"viewport-projection-center"!==t.type||(n.projectionYDomains[e][t.uid]=o),void n.triggerViewChangeDb();var a=(0,E.scaleLinear)().domain(i).range(n.xScales[r].range()),s=(0,E.scaleLinear)().domain(o).range(n.yScales[r].range()),u=(0,q.scalesCenterAndK)(a,s),c=(0,l.default)(u,3),f=c[0],d=c[1],h=c[2];n.setCenters[r](f,d,h,!1);var p=!1,m=!1;e in n.zoomLocks&&(p=r in n.zoomLocks[e]),p&&n.handleUnlock(e,n.zoomLocks),e in n.locationLocks&&(m=r in n.locationLocks[e]),m&&n.handleUnlock(e,n.locationLocks),n.handleScalesChanged(r,a,s,!0),p&&n.addLock(e,r,n.zoomLocks,n.viewScalesLockData),m&&n.addLock(e,r,n.locationLocks,n.viewScalesLockData)}}}},{key:"validateLocks",value:function(e){var t=[],n=!0,r=!1,i=void 0;try{for(var o,a=(0,u.default)((0,q.dictKeys)(e));!(n=(o=a.next()).done);n=!0){var s=o.value;e[s]&&e[s][s]||t.push(s)}}catch(m){r=!0,i=m}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}var l=!0,c=!1,f=void 0;try{for(var d,h=(0,u.default)(t);!(l=(d=h.next()).done);l=!0){var p=d.value;e[p]&&(console.warn("View "+String(p)+" not present in lock group. Removing..."),this.handleUnlock(p,e),delete e[p])}}catch(m){c=!0,f=m}finally{try{!l&&h.return&&h.return()}finally{if(c)throw f}}}},{key:"deserializeLocationLocks",value:function(e){if(this.locationLocks={},e.locationLocks){var t=!0,n=!1,r=void 0;try{for(var i,o=(0,u.default)((0,q.dictKeys)(e.locationLocks.locksByViewUid));!(t=(i=o.next()).done);t=!0){var a=i.value;this.locationLocks[a]=e.locationLocks.locksDict[e.locationLocks.locksByViewUid[a]]}}catch(s){n=!0,r=s}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}this.validateLocks(this.locationLocks)}},{key:"deserializeZoomLocks",value:function(e){if(this.zoomLocks={},e.zoomLocks){var t=!0,n=!1,r=void 0;try{for(var i,o=(0,u.default)((0,q.dictKeys)(e.zoomLocks.locksByViewUid));!(t=(i=o.next()).done);t=!0){var a=i.value;this.zoomLocks[a]=e.zoomLocks.locksDict[e.zoomLocks.locksByViewUid[a]]}}catch(s){n=!0,r=s}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}this.validateLocks(this.zoomLocks)}},{key:"deserializeValueScaleLocks",value:function(e){if(this.valueScaleLocks={},e.valueScaleLocks){var t=!0,n=!1,r=void 0;try{for(var i,o=(0,u.default)((0,q.dictKeys)(e.valueScaleLocks.locksByViewUid));!(t=(i=o.next()).done);t=!0){var a=i.value;this.valueScaleLocks[a]=e.valueScaleLocks.locksDict[e.valueScaleLocks.locksByViewUid[a]]}}catch(s){n=!0,r=s}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}}},{key:"serializeLocks",value:function(e){var t={},n={},r=!0,i=!1,o=void 0;try{for(var a,s=(0,u.default)((0,q.dictKeys)(e));!(r=(a=s.next()).done);r=!0){var l=a.value,c=e[l]&&e[l].uid;c||(c=T.default.nice()),e[l].uid=c,t[c]=e[l],n[l]=e[l].uid}}catch(f){i=!0,o=f}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return{locksByViewUid:n,locksDict:t}}},{key:"getViewsAsJson",value:function(){var e=this,t=JSON.parse((0,c.default)(this.state.viewConfig));return t.views=(0,f.default)(this.state.views).map((function(t){var n=JSON.parse((0,c.default)(t));return(0,q.visitPositionedTracks)(n.tracks,(function(n){if(n.server){var r=(0,M.default)(n.server,{});if(!r.hostname.length){var i=window.location.host,o=window.location.protocol,a=String(o)+"//"+String(i)+String(r.pathname);n.server=a}}("viewport-projection-center"===n.type||"viewport-projection-horizontal"===n.type)&&e.projectionXDomains[t.uid]&&e.projectionXDomains[t.uid][n.uid]&&(n.projectionXDomain=e.projectionXDomains[t.uid][n.uid]),("viewport-projection-center"===n.type||"viewport-projection-vertical"===n.type)&&e.projectionYDomains[t.uid]&&e.projectionYDomains[t.uid][n.uid]&&(n.projectionYDomain=e.projectionYDomains[t.uid][n.uid]),delete n.name,delete n.position,delete n.header,delete n.description,delete n.created,delete n.project,delete n.project_name,delete n.serverUidKey,delete n.uuid,delete n.private,delete n.maxZoom,delete n.coordSystem,delete n.coordSystem2,delete n.datatype,delete n.maxWidth,delete n.datafile,delete n.filetype,delete n.binsPerDimension,delete n.resolutions,delete n.aggregationModes})),n.uid=t.uid,n.initialXDomain=e.xScales[t.uid].domain(),n.initialYDomain=e.yScales[t.uid].domain(),delete n.layout.i,n})),t.zoomLocks=this.serializeLocks(this.zoomLocks),t.locationLocks=this.serializeLocks(this.locationLocks),t.valueScaleLocks=this.serializeLocks(this.valueScaleLocks),t}},{key:"getViewsAsString",value:function(){return(0,c.default)(this.getViewsAsJson(),null,2)}},{key:"handleExportViewAsJSON",value:function(){var e=this.getViewsAsString();(0,q.download)("viewconf.json",e)}},{key:"handleExportViewsAsLink",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.viewConfig.exportViewUrl,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=new URL(t,window.location.origin),i=fetch(t,{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:'{"viewconf":'+String(this.getViewsAsString())+"}",credentials:"same-origin"}).then((function(e){if(!e.ok)throw e;return e.json()})).catch((function(e){console.warn("err:",e)})).then((function(e){return{id:e.uid,url:String(r.origin)+"/l/?d="+String(e.uid)}}));return n||i.then((function(t){e.openModal(_.default.createElement(R.default,{onDone:function(){e.closeModalBound()},url:t.url}))})).catch((function(e){return console.error("Exporting view config as link failed:",e)})),i}},{key:"handleDataDomainChanged",value:function(e,t,n){var r=this.state.views;if(r[e].initialXDomain=t,r[e].initialYDomain=n,this.xScales[e]=(0,E.scaleLinear)().domain(t),this.yScales[e]=(0,E.scaleLinear)().domain(n),this.zoomLocks[e])for(var i=this.zoomLocks[e],o=(0,q.dictItems)(i),a=0;a<o.length;a++){var s=o[a][0];s in this.locationLocks&&(r[s].initialXDomain=t,r[s].initialYDomain=n,this.xScales[s]=(0,E.scaleLinear)().domain(t),this.yScales[s]=(0,E.scaleLinear)().domain(n))}this.setState({views:r})}},{key:"viewPositionAvailable",value:function(e,t,n,r){var i=e+n,o=t+r;if(e+n>12)return!1;for(var a=(0,q.dictValues)(this.state.views),s=0;s<a.length;s++){var l=a[s].layout.x,u=a[s].layout.y,c=l+a[s].layout.w,f=u+a[s].layout.h;if(e<c&&i>l&&t<f&&o>u)return!1}return!0}},{key:"handleAddView",value:function(e){var t=this,n=(0,q.dictValues)(this.state.views),r=e,i=[];12===e.layout.w&&(e.layout.w=6);for(var o=0;o<n.length;o++){var a=n[o].layout.x+n[o].layout.w,s=n[o].layout.y;this.viewPositionAvailable(a,s,e.layout.w,e.layout.h)&&i.push([a,s]),a=n[o].layout.x,s=n[o].layout.y+n[o].layout.h,this.viewPositionAvailable(a,s,e.layout.w,e.layout.h)&&i.push([a,s])}i.sort((function(e,t){var n=e[1]-t[1];return 0===n?e[0]-t[0]:n}));var u=(0,c.default)(r),f=JSON.parse(u);f.initialXDomain=this.xScales[f.uid].domain(),f.initialYDomain=this.yScales[f.uid].domain();var d=(0,l.default)(i[0],2);f.layout.x=d[0],f.layout.y=d[1],f.uid=T.default.nice(),f.layout.i=f.uid,(0,q.visitPositionedTracks)(f.tracks,(function(e){t.addCallbacks(f.uid,e)})),this.setState((function(e){var t=JSON.parse((0,c.default)(e.views));return t[f.uid]=f,{views:t}}))}},{key:"handleSelectedAssemblyChanged",value:function(e,t,n,r){var i=this.state.views;i[e].genomePositionSearchBox.chromInfoId=t,i[e].genomePositionSearchBox.autocompleteId=n,i[e].genomePositionSearchBox.autocompleteServer=r}},{key:"createGenomePostionSearchBoxEntry",value:function(e,t){var n=e,r={autocompleteServer:Y.DEFAULT_SERVER,chromInfoServer:Y.DEFAULT_SERVER,visible:!1};return n||(n=JSON.parse((0,c.default)(r))),n.autocompleteServer||(n.autocompleteServer=r.autocompleteServer),n.chromInfoId||(n.chromInfoId=t),n.chromInfoServer||(n.chromInfoServer=r.chromInfoServer),n.visible||(n.visible=!1),n}},{key:"handleTogglePositionSearchBox",value:function(e){var t=this.state.views[e];t.genomePositionSearchBoxVisible=!t.genomePositionSearchBoxVisible;var n={};(0,q.visitPositionedTracks)(t.tracks,(function(e){e.coordSystem&&(n[e.coordSystem]||(n[e.coordSystem]=0),n[e.coordSystem]+=1)}));var r=(0,q.dictItems)(n).sort((function(e,t){return t[1]-e[1]})),i="hg19";r.length&&(i=r[0][0]),t.genomePositionSearchBox=this.createGenomePostionSearchBoxEntry(t.genomePositionSearchBox,i),t.genomePositionSearchBox.visible=!t.genomePositionSearchBox.visible,this.refreshView(),this.setState({configMenuUid:null})}},{key:"handleTrackOptionsChanged",value:function(e,t,n){var r=this.state.views[e],i=(0,q.getTrackByUid)(r.tracks,t);i&&(i.options=(0,d.default)(i.options,n),this.mounted&&(this.setState((function(e){return{views:e.views}})),this.adjustSplitHeatmapTrackOptions(i,n,r.tracks,e)))}},{key:"adjustSplitHeatmapTrackOptions",value:function(e,t,n,r){var i=this;"heatmap"===e.type&&("upper-right"===t.extent&&"combined"===n.center[0].type&&n.center[0].contents.length>1&&n.center[0].contents.some((function(n){if("heatmap"===n.type&&n.uid!==e.uid&&"lower-left"!==n.options.extent){var o=(0,d.default)({},n.options,{extent:"lower-left",labelPosition:"bottomLeft",colorbarPosition:"bottomLeft"}),a=(0,d.default)({},t,{labelPosition:"topRight",colorbarPosition:"topRight"});return i.handleTrackOptionsChanged(r,n.uid,o),i.handleTrackOptionsChanged(r,e.uid,a),!0}return!1})),"lower-left"===t.extent&&"lower-left"===t.extent&&"combined"===n.center[0].type&&n.center[0].contents.length>1&&n.center[0].contents.some((function(n){if("heatmap"===n.type&&n.uid!==e.uid&&"upper-right"!==n.options.extent){var o=(0,d.default)({},n.options,{extent:"upper-right",labelPosition:"topRight",colorbarPosition:"topRight"}),a=(0,d.default)({},t,{labelPosition:"bottomLeft",colorbarPosition:"bottomLeft"});return i.handleTrackOptionsChanged(r,n.uid,o),i.handleTrackOptionsChanged(r,e.uid,a),!0}return!1})))}},{key:"handleViewOptionsChanged",value:function(e,t){var n=this.state.views[e];n&&(n.options=(0,d.default)(n.options||{},t),this.mounted&&this.setState((function(e){return{views:e.views}})))}},{key:"isTrackValid",value:function(e,t){return!("viewport-projection-center"===e.type&&!t.has(e.fromViewUid))}},{key:"removeInvalidTracks",value:function(e){var t=this,n=new h.default((0,q.dictKeys)(e)),r=!0,i=!1,o=void 0;try{for(var a,s=(0,u.default)((0,q.dictValues)(e));!(r=(a=s.next()).done);r=!0)for(var l=a.value,c=["left","top","center","right","bottom"],f=0;f<c.length;f++){var d=c[f];l.tracks&&l.tracks.hasOwnProperty(d)&&(l.tracks[d]=l.tracks[d].filter((function(e){return t.isTrackValid(e,n)})),l.tracks[d].forEach((function(e){"combined"===e.type&&(e.contents=e.contents.filter((function(e){return t.isTrackValid(e,n)})))})))}}catch(p){i=!0,o=p}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return e}},{key:"processViewConfig",value:function(e){var t=this,n=e.views,r={};return e.views&&0!==e.views.length||(console.warn("No views provided in viewConfig"),n=[{editable:!0,tracks:{}}]),n.forEach((function(e){e.tracks&&(0,q.fillInMinWidths)(e.tracks),e.uid||(e.uid=T.default.nice()),r[e.uid]=e,t.zoomToDataExtentOnInit.has(e.uid)&&t.zoomToDataExtentOnInit.delete(e.uid),e.initialXDomain?(e.initialXDomain[0]=+e.initialXDomain[0],e.initialXDomain[1]=+e.initialXDomain[1]):(console.warn("No initialXDomain provided in the view config."),e.initialXDomain=[0,100],t.zoomToDataExtentOnInit.add(e.uid)),e.initialYDomain?(e.initialXDomain[0]=+e.initialXDomain[0],e.initialXDomain[1]=+e.initialXDomain[1]):e.initialYDomain=[e.initialXDomain[0],e.initialXDomain[1]],t.xScales[e.uid]||(t.xScales[e.uid]=(0,E.scaleLinear)().domain(e.initialXDomain)),t.yScales[e.uid]||(t.yScales[e.uid]=(0,E.scaleLinear)().domain(e.initialYDomain)),(0,q.visitPositionedTracks)(e.tracks,(function(n){if(n.uid||(n.uid=T.default.nice()),t.addCallbacks(e.uid,n),t.addDefaultTrackOptions(n),n.contents){var r=!0,i=!1,o=void 0;try{for(var a,s=(0,u.default)(n.contents);!(r=(a=s.next()).done);r=!0){var l=a.value;t.addDefaultTrackOptions(l)}}catch(c){i=!0,o=c}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}})),e.layout?e.layout.i=e.uid:e.layout=t.generateViewLayout(e)})),this.deserializeZoomLocks(e),this.deserializeLocationLocks(e),this.deserializeValueScaleLocks(e),r=this.removeInvalidTracks(r)}},{key:"handleWindowFocused",value:function(){}},{key:"rangeSelectionHandler",value:function(e){this.rangeSelection=e,this.apiPublish("rangeSelection",e)}},{key:"offViewChange",value:function(e){this.viewChangeListener.splice(e,1)}},{key:"onViewChange",value:function(e){return this.viewChangeListener.push(e)-1}},{key:"triggerViewChange",value:function(){var e=this;this.viewChangeListener.forEach((function(t){return t(e.getViewsAsString())}))}},{key:"getGenomeLocation",value:function(e){var t=this;return W.chromInfo.get(this.state.views[e].chromInfoPath).then((function(n){return(0,q.scalesToGenomeLoci)(t.xScales[e],t.yScales[e],n)}))}},{key:"offLocationChange",value:function(e,t){this.removeScalesChangedListener(e,t)}},{key:"zoomTo",value:function(e,t,n,r,o,a){if(!(e in this.setCenters))throw Error("Invalid viewUid. Current uuids: "+String((0,s.default)(this.setCenters).join(",")));if((0,i.default)(+t)||(0,i.default)(+n)){var u=[t,n].join(", ");console.warn(["Invalid coordinates ("+String(u)+"). All coordinates need to be numbers\n        and should represent absolute coordinates (not chromosome\n        coordinates)."].join(" "))}else{((0,i.default)(+r)||(0,i.default)(+o)||null===r||null===o)&&(r=t,o=n);var c=(0,q.scalesCenterAndK)(this.xScales[e].copy().domain([t,n]),this.yScales[e].copy().domain([r,o])),f=(0,l.default)(c,3),d=f[0],h=f[1],p=f[2];this.setCenters[e](d,h,p,!1,a)}}},{key:"onLocationChange",value:function(e,t,n){var r=(0,s.default)(this.state.views);if(!r.length)return this.unsetOnLocationChange.push({viewId:e,callback:t,callbackId:n}),null;if("undefined"===typeof(e="undefined"===typeof e&&1===r.length?r[0]:e)||-1===r.indexOf(e))return console.error("onLocationChange either missing a viewId or passed an invalid viewId: ",e),null;var i=this.state.views[e],o=function(e,n){t({xDomain:e.domain(),yDomain:n.domain(),xRange:e.range(),yRange:n.range()})},a=1;return this.scalesChangedListeners[i.uid]&&(a=(0,s.default)(this.scalesChangedListeners[i.uid]).filter((function(e){return 0===e.indexOf(Y.LOCATION_LISTENER_PREFIX)})).map((function(e){return parseInt(e.slice(Y.LOCATION_LISTENER_PREFIX.length+1),10)})).reduce((function(e,t){return Math.max(e,t)}),0)+1),this.addScalesChangedListener(i.uid,String(Y.LOCATION_LISTENER_PREFIX)+"."+String(a),o),n&&n(String(Y.LOCATION_LISTENER_PREFIX)+"."+String(a)),a}},{key:"getTiledPlotAtPosition",value:function(e,t){for(var n=void 0,r=(0,q.dictValues)(this.state.views),i=0;i<r.length;i++){var o=this.tiledPlots[r[i].uid],a=this.tiledAreasDivs[r[i].uid].getBoundingClientRect(),s=a.top,l=a.left,u=s+a.height,c=l+a.width;if(e>=l&&e<=c&&t>=s&&t<=u){n=o;break}}return n}},{key:"mouseMoveHandler",value:function(e){if(this.topDiv&&!this.state.modal){var t=e.clientX,n=e.clientY,i=(0,w.clientPoint)(this.topDiv,e);i[1]+=this.scrollTop;var o=this.getTiledPlotAtPosition(t,n),a=o?o.listTracksAtPosition(i[0],i[1],!0).map((function(e){return e.originalTrack||e})):[],s=a.find((function(e){return!e.isAugmentationTrack})),l=s?[i[0]-s.position[0],i[1]-s.position[1]]:i,u=-1,c=-1;s&&(u=s.flipText?s._xScale.invert(l[1]):s._xScale.invert(l[0]),c=s.is2d?s._yScale.invert(l[1]):u);var f={x:i[0],y:i[1],relTrackX:s&&s.flipText?l[1]:l[0],relTrackY:s&&s.flipText?l[0]:l[1],dataX:u,dataY:c,isFrom2dTrack:!(!s||!s.is2d),isFromVerticalTrack:!(!s||!s.flipText),track:s,origEvt:e,sourceUid:this.uid,hoveredTracks:a,noHoveredTracks:0===a.length};if(this.pubSub.publish("app.mouseMove",f),this.isBroadcastMousePositionGlobally){var d=(0,r.default)({},f);d.origEvt=void 0,d.track=void 0,d.hoveredTracks=void 0,delete d.origEvt,delete d.track,delete d.hoveredTracks,P.globalPubSub.publish("higlass.mouseMove",d)}this.apiPublish("cursorLocation",{absX:t,absY:n,relX:f.x,relY:f.y,relTrackX:f.relTrackX,relTrackY:f.relTrackY,dataX:f.dataX,dataY:f.dataY,isFrom2dTrack:f.isFrom2dTrack,isFromVerticalTrack:f.isFromVerticalTrack}),this.showHoverMenu(f)}}},{key:"getMinMaxValue",value:function(e,t,n,r){var i=(0,q.getTrackObjById)(this.tiledPlots,e,t);if(i){if(i.minVisibleValueInTiles&&i.maxVisibleValueInTiles)return n&&i.getAggregatedVisibleValue?[i.getAggregatedVisibleValue("min"),i.getAggregatedVisibleValue("max")]:[i.minVisibleValueInTiles(r),i.maxVisibleValueInTiles(r)];console.warn("Track "+String(t)+" doesn't support the retrieval of min or max values.")}else console.warn("Track with ID: "+String(t)+" not found!")}},{key:"showHoverMenu",value:function(e){var t=e.track&&e.track.getMouseOverHtml?e.track.getMouseOverHtml(e.relTrackX,e.relTrackY):"";if(e.track!==this.prevMouseHoverTrack&&this.prevMouseHoverTrack&&this.prevMouseHoverTrack.stopHover&&this.prevMouseHoverTrack.stopHover(),this.prevMouseHoverTrack=e.track,!this.zooming){var n=t&&t.length?[1]:[],r=(0,w.select)("body").selectAll(".track-mouseover-menu").data(n);r.exit().remove(),r.enter().append("div").classed("track-mouseover-menu",!0).classed(X.default["track-mouseover-menu"],!0),r=(0,w.select)("body").selectAll(".track-mouseover-menu");var i=(0,w.clientPoint)((0,w.select)("body").node(),e.origEvt),o=[i[0]-window.scrollX,i[1]-window.scrollY];if(r.style("left",String(o[0])+"px").style("top",String(o[1])+"px"),r.node()){var a=r.node().getBoundingClientRect();a.x+a.width>window.innerWidth&&r.style("left",o[0]-a.width+"px"),a.y+a.height>window.innerHeight&&r.style("top",o[1]-a.height+"px"),r.html(t)}}}},{key:"hideHoverMenu",value:function(){(0,w.select)("body").selectAll(".track-mouseover-menu").remove()}},{key:"appClickHandler",value:function(e){this.apiPublish("click",e)}},{key:"mouseMoveZoomHandler",value:function(e){this.apiPublish("mouseMoveZoom",e)}},{key:"mouseDownHandler",value:function(e){}},{key:"onScrollHandler",value:function(){"scroll"===this.props.options.sizeMode&&(this.scrollTop=this.scrollContainer.scrollTop,this.pixiStage.y=-this.scrollTop,this.pubSub.publish("app.scroll",this.scrollTop),this.animate())}},{key:"setTrackValueScaleLimits",value:function(e,t,n,r){var i=(0,q.getTrackObjById)(this.tiledPlots,e,t);i?i.setFixedValueScaleMin&&i.setFixedValueScaleMax?(i.setFixedValueScaleMin(n),i.setFixedValueScaleMax(r),i.rerender(i.options,!0),i.animate()):console.warn("Track doesn't support fixed value scales."):console.warn("Could't find track: "+String(t))}},{key:"setChromInfo",value:function(e,t){var n=this;(0,j.default)(e,(function(e){n.chromInfo=e,t()}),this.pubSub)}},{key:"onMouseLeaveHandler",value:function(){this.pubSub.publish("app.mouseLeave"),this.hideHoverMenu(),this.animate()}},{key:"onBlurHandler",value:function(){this.animate()}},{key:"isZoomFixed",value:function(e){return this.props.zoomFixed||this.props.options.zoomFixed||this.state.viewConfig.zoomFixed||"scroll"===this.props.options.sizeMode||e&&e.zoomFixed}},{key:"wheelHandler",value:function(e){if(!this.state.modal&&"scroll"!==this.props.options.sizeMode){var t=e.nativeEvent||e,n=e.target===this.canvasElement;if((0,q.hasParent)(t.target,this.topDiv)&&!this.isZoomFixed()){var r=t.clientX,i=t.clientY,o=this.getTiledPlotAtPosition(r,i);if(this.apiStack.wheel&&this.apiStack.wheel.length>0){var a=(0,w.clientPoint)(this.topDiv,t);a[1]+=this.scrollTop;var s=o?o.listTracksAtPosition(a[0],a[1],!0).map((function(e){return e.originalTrack||e})):[],l=s.find((function(e){return!e.isAugmentationTrack})),u=l?[a[0]-l.position[0],a[1]-l.position[1]]:a,c={x:a[0],y:a[1],relTrackX:l&&l.flipText?u[1]:u[0],relTrackY:l&&l.flipText?u[0]:u[1],track:l,origEvt:t,sourceUid:this.uid,hoveredTracks:s,noHoveredTracks:0===s.length};this.apiPublish("wheel",c)}if(t.forwarded||n)return e.stopPropagation(),void e.preventDefault();if(e.preventDefault(),o){var f=o.trackRenderer;t.forwarded=!0,t&&((0,q.forwardEvent)(t,f.eventTracker),t.preventDefault())}}}}},{key:"render",value:function(){var e=this;this.tiledAreasDivs={},this.tiledAreas=_.default.createElement("div",{className:"HiGlass-module_tiled-area-22H1L"}),this.mounted&&(this.tiledAreas=(0,q.dictValues)(this.state.views).map((function(t){var n=t.uid===e.state.addTrackPositionMenuUid?e.state.addTrackPositionMenuPosition:null,r=null;if(e.state.chooseViewHandler){var i="transparent";e.state.mouseOverOverlayUid===t.uid&&(i="green"),r=_.default.createElement("div",{className:"tiled-plot-overlay",onClick:function(){return e.state.chooseViewHandler(t.uid)},onMouseEnter:function(){return e.handleOverlayMouseEnter(t.uid)},onMouseLeave:function(){return e.handleOverlayMouseLeave(t.uid)},onMouseMove:function(){return e.handleOverlayMouseEnter(t.uid)},style:{position:"absolute",width:"100%",height:"100%",background:i,opacity:.3,zIndex:1}})}var o=_.default.createElement(D.default,{key:"tp"+String(t.uid),ref:function(n){e.tiledPlots[t.uid]=n},addTrackPosition:e.state.addTrackPositionView===t.uid?e.state.addTrackPosition:null,addTrackPositionMenuPosition:n,canvasElement:e.state.canvasElement,chooseTrackHandler:e.state.chooseTrackHandler?function(n){return e.state.chooseTrackHandler(t.uid,n)}:null,chromInfoPath:t.chromInfoPath,disableTrackMenu:e.isTrackMenuDisabled(),draggingHappening:e.state.draggingHappening,editable:e.isEditable(),getLockGroupExtrema:function(n){return e.getLockGroupExtrema(t.uid,n)},initialXDomain:t.initialXDomain,initialYDomain:t.initialYDomain,isShowGlobalMousePosition:e.isShowGlobalMousePosition,isValueScaleLocked:function(n){return e.isValueScaleLocked(t.uid,n)},marginBottom:e.viewMarginBottom,marginLeft:e.viewMarginLeft,marginRight:e.viewMarginRight,marginTop:e.viewMarginTop,metaTracks:t.metaTracks,mouseTool:e.state.mouseTool,onChangeTrackData:function(n,r){return e.handleChangeTrackData(t.uid,n,r)},onChangeTrackType:function(n,r){return e.handleChangeTrackType(t.uid,n,r)},onCloseTrack:function(n){return e.handleCloseTrack(t.uid,n)},onDataDomainChanged:function(n,r){return e.handleDataDomainChanged(t.uid,n,r)},onLockValueScale:function(n){return e.handleLockValueScale(t.uid,n)},onMouseMoveZoom:e.mouseMoveZoomHandler.bind(e),onNewTilesLoaded:function(n){return e.handleNewTilesLoaded(t.uid,n)},onNoTrackAdded:e.handleNoTrackAdded.bind(e),onRangeSelection:e.rangeSelectionHandler.bind(e),onResizeTrack:e.triggerViewChangeDb,onScalesChanged:function(n,r){return e.handleScalesChanged(t.uid,n,r)},onTrackOptionsChanged:function(n,r){return e.handleTrackOptionsChanged(t.uid,n,r)},onTrackPositionChosen:e.handleTrackPositionChosen.bind(e),onTracksAdded:function(n,r,i){return e.handleTracksAdded(t.uid,n,r,i)},onUnlockValueScale:function(n){return e.handleUnlockValueScale(t.uid,n)},onValueScaleChanged:function(n){return e.syncValueScales(t.uid,n)},overlays:t.overlays,paddingBottom:e.viewPaddingBottom,paddingLeft:e.viewPaddingLeft,paddingRight:e.viewPaddingRight,paddingTop:e.viewPaddingTop,pixiRenderer:e.pixiRenderer,pixiStage:e.pixiStage,pluginTracks:e.state.pluginTracks,rangeSelection1dSize:e.state.rangeSelection1dSize,rangeSelectionToInt:e.state.rangeSelectionToInt,registerDraggingChangedListener:function(n){return e.addDraggingChangedListener(t.uid,t.uid,n)},removeDraggingChangedListener:function(n){return e.removeDraggingChangedListener(t.uid,t.uid,n)},setCentersFunction:function(n){e.setCenters[t.uid]=n},svgElement:e.state.svgElement,tracks:t.tracks,trackSourceServers:e.state.viewConfig.trackSourceServers,uid:t.uid,verticalMargin:e.verticalMargin,viewOptions:t.options,xDomainLimits:t.xDomainLimits,yDomainLimits:t.yDomainLimits,zoomable:!e.isZoomFixed(t),zoomLimits:t.zoomLimits,zoomToDataExtentOnInit:function(){return e.zoomToDataExtentOnInit.has(t.uid)}}),a=function(n,r){return t.genomePositionSearchBox?_.default.createElement(N.default,{key:"gpsb"+String(t.uid),ref:function(n){e.genomePositionSearchBoxes[t.uid]=n},autocompleteId:t.genomePositionSearchBox.autocompleteId,autocompleteServer:t.genomePositionSearchBox.autocompleteServer,chromInfoId:t.genomePositionSearchBox.chromInfoId,chromInfoServer:t.genomePositionSearchBox.chromInfoServer,isFocused:n,onFocus:r,onSelectedAssemblyChanged:function(n,r,i){return e.handleSelectedAssemblyChanged(t.uid,n,r,i)},registerViewportChangedListener:function(n){return e.addScalesChangedListener(t.uid,t.uid,n)},removeViewportChangedListener:function(){return e.removeScalesChangedListener(t.uid,t.uid)},setCenters:function(n,r,i,o){return e.setCenters[t.uid](n,r,i,!1,o)},trackSourceServers:e.state.viewConfig.trackSourceServers,twoD:!0}):null},s=!e.isEditable()||e.isViewHeaderDisabled()||e.state.viewConfig.hideHeader?null:_.default.createElement(L.default,{ref:function(n){e.viewHeaders[t.uid]=n},getGenomePositionSearchBox:a,isGenomePositionSearchBoxVisible:t.genomePositionSearchBox&&t.genomePositionSearchBox.visible,mouseTool:e.state.mouseTool,onAddView:function(){return e.handleAddView(t)},onClearView:function(){return e.handleClearView(t.uid)},onCloseView:function(){return e.handleCloseView(t.uid)},onEditViewConfig:e.handleEditViewConfigBound,onExportPNG:e.handleExportPNG.bind(e),onExportSVG:e.handleExportSVG.bind(e),onExportViewsAsJSON:e.handleExportViewAsJSON.bind(e),onExportViewsAsLink:e.handleExportViewsAsLink.bind(e),onLockLocation:function(t){return e.handleYankFunction(t,e.handleLocationLockChosen.bind(e))},onLockZoom:function(t){return e.handleYankFunction(t,e.handleZoomLockChosen.bind(e))},onLockZoomAndLocation:function(t){return e.handleYankFunction(t,(function(t,n){e.handleZoomLockChosen(t,n),e.handleLocationLockChosen(t,n)}))},onProjectViewport:e.handleProjectViewport.bind(e),onTakeAndLockZoomAndLocation:function(t){e.handleYankFunction(t,(function(t,n){e.handleZoomYanked(t,n),e.handleLocationYanked(t,n),e.handleZoomLockChosen(t,n),e.handleLocationLockChosen(t,n)}))},onTogglePositionSearchBox:e.handleTogglePositionSearchBox.bind(e),onTrackPositionChosen:function(n){return e.handleTrackPositionChosen(t.uid,n)},onUnlockLocation:function(t){return e.handleUnlock(t,e.locationLocks)},onUnlockZoom:function(t){return e.handleUnlock(t,e.zoomLocks)},onUnlockZoomAndLocation:function(t){e.handleUnlock(t,e.zoomLocks),e.handleUnlock(t,e.locationLocks)},onViewOptionsChanged:function(n){return e.handleViewOptionsChanged(t.uid,n)},onYankLocation:function(t){return e.handleYankFunction(t,e.handleLocationYanked.bind(e))},onYankZoom:function(t){return e.handleYankFunction(t,e.handleZoomYanked.bind(e))},onYankZoomAndLocation:function(t){return e.handleYankFunction(t,(function(t,n){e.handleZoomYanked(t,n),e.handleLocationYanked(t,n)}))},onZoomToData:function(t){return e.handleZoomToData(t)},viewUid:t.uid});return _.default.createElement("div",{key:t.uid,ref:function(n){e.tiledAreasDivs[t.uid]=n},className:"HiGlass-module_tiled-area-22H1L"},s,o,r)})));var t=this.mounted?(0,f.default)(this.state.views).filter((function(e){return e.layout})).map((function(e){return e.layout})):[];t=JSON.parse((0,c.default)(t));var n=this.isEditable()?Y.DEFAULT_CONTAINER_PADDING_X:0,r=this.isEditable()?Y.DEFAULT_CONTAINER_PADDING_Y:0,i=+this.props.options.containerPaddingX>=0?+this.props.options.containerPaddingX:n,o=+this.props.options.containerPaddingY>=0?+this.props.options.containerPaddingY:r,a=_.default.createElement(O.default,{ref:function(t){e.gridLayout=t},cols:12,containerPadding:[i,o],draggableHandle:"."+String($.default["multitrack-header-grabber"]),isDraggable:this.isEditable(),isResizable:this.isEditable(),layout:t,margin:this.isEditable()?[10,10]:[0,0],measureBeforeMount:!1,onBreakpointChange:this.onBreakpointChange.bind(this),onDragStart:this.handleDragStart.bind(this),onDragStop:this.handleDragStop.bind(this),onLayoutChange:this.handleLayoutChange.bind(this),onResize:this.resizeHandler.bind(this),rowHeight:this.state.rowHeight,useCSSTransforms:this.mounted,width:this.state.width},this.tiledAreas),s="styles.higlass";this.theme===Y.THEME_DARK&&(s+=" styles.higlass-dark-theme"),"overflow"!==this.props.options.sizeMode&&"scroll"!==this.props.options.sizeMode||(s+=" styles.higlass-container-overflow");var l="";return"overflow"===this.props.options.sizeMode?l="styles.higlass-scroll-container-overflow":"scroll"===this.props.options.sizeMode&&(l="styles.higlass-scroll-container-scroll"),_.default.createElement("div",{key:this.uid,ref:function(t){e.topDiv=t},onMouseLeave:this.onMouseLeaveHandlerBound,onMouseMove:this.mouseMoveHandlerBound,className:"higlass "+(0,b.default)(s,Z)},_.default.createElement(U.Provider,{value:this.pubSub},_.default.createElement(V.Provider,{value:this.modal},_.default.createElement(G.Provider,{value:this.theme},this.state.modal,_.default.createElement("canvas",{key:this.uid,ref:function(t){e.canvasElement=t},className:"HiGlass-module_higlass-canvas-_mP9r"}),_.default.createElement("div",{ref:function(t){e.scrollContainer=t},onScroll:this.onScrollHandlerBound,className:"higlass-scroll-container "+(0,b.default)(l,Z)},_.default.createElement("div",{ref:function(t){e.divDrawingSurface=t},className:"higlass-drawing-surface HiGlass-module_higlass-drawing-surface-3aQQo"},a),_.default.createElement("svg",{ref:function(t){e.svgElement=t},style:{position:"absolute",width:"100%",height:"100%",left:0,top:0,pointerEvents:"none"},className:"HiGlass-module_higlass-svg-JJZbf"}))))))}},{key:"sizeMode",get:function(){return"undefined"===typeof this.props.options.sizeMode?this.props.options.bounded?"bounded":"default":this.props.options.sizeMode}}]),t}(_.default.Component);Q.defaultProps={options:{},zoomFixed:!1},Q.propTypes={getApi:x.default.func,options:x.default.object,viewConfig:x.default.oneOfType([x.default.string,x.default.object]).isRequired,zoomFixed:x.default.bool},t.default=Q},function(e,t,n){var r=n(31);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(16)),i=g(n(61)),o=g(n(221)),a=g(n(222)),s=g(n(45)),l=g(n(3)),u=g(n(4)),c=g(n(27)),f=n(28),d=n(10),h=g(n(165)),p=g(n(166)),m=n(24),v=n(127);function g(e){return e&&e.__esModule?e:{default:e}}var y=function(){function e(t,n){(0,l.default)(this,e),this.tilesetInfoLoading=!0,t?(this.dataConfig=JSON.parse((0,s.default)(t)),this.uuid=c.default.nice(),this.pubSub=n,this.dataConfig.children&&(this.dataConfig.children=t.children.map((function(t){return new e(t,n)})))):console.error("No dataconfig provided")}return(0,u.default)(e,[{key:"registerFileUrl",value:function(){var e=(0,a.default)(o.default.mark((function e(t,n,r){var i,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=String((0,d.trimTrailingSlash)(t))+"/register_url/",a={fileurl:n,filetype:r},e.abrupt("return",fetch(i,{method:"POST",body:(0,s.default)(a),headers:{"Content-Type":"application/json; charset=utf-8"}}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"tilesetInfo",value:function(e){var t=this;return this.dataConfig.server&&this.dataConfig.fileUrl&&this.dataConfig.filetype?this.registerFileUrl(this.dataConfig.server,this.dataConfig.fileUrl,this.dataConfig.filetype).then((function(e){return e.json()})).then((function(n){t.dataConfig.tilesetUid=n.uid,t.tilesetInfoAfterRegister(e)})).catch((function(e){console.error("Error registering url",e)})):new i.default((function(){t.tilesetInfoAfterRegister(e)}))}},{key:"tilesetInfoAfterRegister",value:function(e){var t=this;if(this.dataConfig.children){var n=this.dataConfig.children.map((function(e){return new i.default((function(t){e.tilesetInfo(t)}))}));i.default.all(n).then((function(t){e(t[0])}))}else this.dataConfig.server&&this.dataConfig.tilesetUid?m.tileProxy.trackInfo(this.dataConfig.server,this.dataConfig.tilesetUid,(function(n){t.dataConfig.tilesetInfo=n[t.dataConfig.tilesetUid],e(n[t.dataConfig.tilesetUid])}),(function(t){e({error:t})}),this.pubSub):(console.warn("No dataConfig children, server or tilesetUid:",this.dataConfig),e(null))}},{key:"fullTileId",value:function(e,t){return String(e)+"."+String(t)}},{key:"fetchTilesDebounced",value:function(e,t){var n=this;if("horizontal-section"===this.dataConfig.type)this.fetchHorizontalSection(e,t);else if("vertical-section"===this.dataConfig.type)this.fetchHorizontalSection(e,t,!0);else if(this.dataConfig.children){var r=this.dataConfig.children.map((function(e){return new i.default((function(n){e.fetchTilesDebounced(n,t)}),n.pubSub,!0)}));i.default.all(r).then((function(r){if("divided"===n.dataConfig.type){var i=n.makeDivided(r,t);e(i)}else console.warn("Unimplemented dataConfig type. Returning first data source.",n.dataConfig),e(r[0])}))}else new i.default((function(e){return m.tileProxy.fetchTilesDebounced({id:c.default.nice(),server:n.dataConfig.server,done:e,ids:t.map((function(e){return String(n.dataConfig.tilesetUid)+"."+String(e)}))},n.pubSub,!0)})).then((function(r){for(var i=(0,d.dictValues)(r)[0].tilesetUid,o={},a=0;a<t.length;a++){var s=n.fullTileId(i,t[a]);r[s].tilePositionId=t[a],o[t[a]]=r[s]}e(o)}))}},{key:"divideData",value:function(e,t){for(var n=new Float32Array(e.length),r=0;r<n.length;r++)0===t[r]?n[r]=NaN:n[r]=e[r]/t[r];return n}},{key:"horizontalSlice",value:function(){return null}},{key:"extractDataSlice",value:function(e,t,n,r){if(!r)return e.slice(t[1]*n,t[1]*(n+1));for(var i=new Array(t[1]),o=n;o<e.length;o+=t[0])i[Math.floor(o/t[0])]=e[o];return i}},{key:"fetchHorizontalSection",value:function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=[],s=[],l=!0,u=!1,h=void 0;try{for(var p,g=(0,r.default)(t);!(l=(p=g.next()).done);l=!0){var y=p.value,b=y.split("."),_=+b[0],x=+b[1],w=(0,f.scaleLinear)().domain([this.dataConfig.slicePos,this.dataConfig.slicePos]),E=[];if(this.dataConfig.tilesetInfo&&this.dataConfig.tilesetInfo.resolutions){var T=this.dataConfig.tilesetInfo.resolutions.map((function(e){return+e})).sort((function(e,t){return t-e}));E=m.tileProxy.calculateTilesFromResolution(T[_],w,this.dataConfig.tilesetInfo.min_pos[o?1:0],this.dataConfig.tilesetInfo.max_pos[o?1:0])}else E=m.tileProxy.calculateTiles(_,w,this.dataConfig.tilesetInfo.min_pos[o?1:0],this.dataConfig.tilesetInfo.max_pos[o?1:0],this.dataConfig.tilesetInfo.max_zoom,this.dataConfig.tilesetInfo.max_width);var S=[x,E[0]].sort((function(e,t){return e-t}));S[0]===x?s.push(!1):s.push(!0);var k=_+"."+String(S[0])+"."+String(S[1]);a.push(k)}}catch(C){u=!0,h=C}finally{try{!l&&g.return&&g.return()}finally{if(u)throw h}}var O=new i.default((function(e){return m.tileProxy.fetchTilesDebounced({id:c.default.nice(),server:n.dataConfig.server,done:e,ids:a.map((function(e){return String(n.dataConfig.tilesetUid)+"."+String(e)}))},n.pubSub,!0)}));O.then((function(r){for(var i=(0,d.dictValues)(r)[0].tilesetUid,o={},l=0;l<a.length;l++){var u=a[l].split("."),c=+u[0],f=+u[1],h=+u[2],p=m.tileProxy.calculateTileAndPosInTile(n.dataConfig.tilesetInfo,n.dataConfig.tilesetInfo.max_width,n.dataConfig.tilesetInfo.min_pos[1],c,+n.dataConfig.slicePos)[1],g=r[n.fullTileId(i,a[l])],y=null;if(f===h){y=n.extractDataSlice(g.dense,[256,256],p);for(var b=n.extractDataSlice(g.dense,[256,256],p,1),_=0;_<y.length;_++)y[_]+=b[_]}else y=s[l]?n.extractDataSlice(g.dense,[256,256],p,1):n.extractDataSlice(g.dense,[256,256],p);var x={min_value:Math.min.apply(null,y),max_value:Math.max.apply(null,y),minNonZero:(0,v.minNonZero)(y),maxNonZero:(0,v.maxNonZero)(y),dense:y,dtype:g.dtype,server:g.server,tilePos:s[l]?[h]:[f],tilePositionId:t[l],tilesetUid:i,zoomLevel:g.zoomLevel};o[t[l]]=x}e(o)}))}},{key:"makeDivided",value:function(e,t){e.length<2&&console.warn("Only one tileset specified for a divided datafetcher:",this.dataConfig);for(var n={},r=0;r<t.length;r++){var i=e[0][t[r]].zoomLevel,o=e[0][t[r]].tilePos,a={zoomLevel:i,tilePos:o,tilePositionId:t[r]};if(e[0][t[r]].dense&&e[1][t[r]].dense){var s=this.divideData(e[0][t[r]].dense,e[1][t[r]].dense);a={dense:s,denseDataExtrema:2===o.length?new p.default(s):new h.default(s),minNonZero:(0,v.minNonZero)(s),maxNonZero:(0,v.maxNonZero)(s),zoomLevel:i,tilePos:o,tilePositionId:t[r]}}n[t[r]]=a}return n}}]),e}();t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initTile=t.drawTile=void 0;var r=c(n(5)),i=c(n(3)),o=c(n(4)),a=c(n(6)),s=c(n(7)),l=c(n(134)),u=n(11);function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e.graphics){var t=e.graphics,n=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos),r=n.tileX,i=n.tileY,o=n.tileWidth;e.drawnAtScale=this._xScale.copy();var a=1/((this._xScale(1)-this._xScale(0))/(this._refXScale(1)-this._refXScale(0))),s=1/((this._yScale(1)-this._yScale(0))/(this._refYScale(1)-this._refYScale(0)));e.text.scale.x=a,e.text.scale.y=s;var l=this._xScale(o)-this._xScale(0);if(e.textGraphics.scale.x=l/256,e.textGraphics.scale.y=l/256,t.clear(),t.lineStyle(4*a,255,1),t.beginFill(16740363,.4),t.alpha=.5,e.mirrored){var u=this._refXScale(i+o)-this._refXScale(i),c=this._refYScale(r+o)-this._refYScale(r);e.textGraphics.position.x=this._refXScale(i)+u/2,e.textGraphics.position.y=this._refYScale(r)+c/2,t.drawRect(this._refXScale(i),this._refYScale(r),u,c)}else{var f=this._refXScale(r+o)-this._refXScale(r),d=this._refYScale(i+o)-this._refYScale(i);e.textGraphics.position.x=this._refXScale(r)+f/2,e.textGraphics.position.y=this._refYScale(i)+d/2,t.drawRect(this._refXScale(r),this._refYScale(i),f,d)}}}function d(e){var t=e.graphics;e.textGraphics=new u.GLOBALS.PIXI.Graphics,e.mirrored?e.text=new u.GLOBALS.PIXI.Text(String(e.tileData.zoomLevel)+"/"+String([e.tileData.tilePos[1],e.tileData.tilePos[0]].join("/")),{fontFamily:"Arial",fontSize:24,fill:16715792,align:"center"}):e.text=new u.GLOBALS.PIXI.Text(String(e.tileData.zoomLevel)+"/"+String(e.tileData.tilePos.join("/")),{fontFamily:"Arial",fontSize:24,fill:16715792,align:"center"}),e.textGraphics.addChild(e.text),e.text.anchor.x=.5,e.text.anchor.y=.5,t.addChild(e.textGraphics)}t.drawTile=f,t.initTile=d;var h=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"areAllVisibleTilesLoaded",value:function(){return!0}},{key:"initTile",value:function(e){d.bind(this)(e),this.drawTile(e)}},{key:"destroyTile",value:function(e,t){}},{key:"drawTile",value:function(e){f.bind(this)(e)}},{key:"fetchNewTiles",value:function(e){var t=this;e.forEach((function(e){var n=e.remoteId.split("."),r={zoomLevel:n[0],tilePos:n.slice(1,n.length).map((function(e){return+e}))};t.fetchedTiles[e.tileId]=e,t.fetchedTiles[e.tileId].tileData=r,t.fetching.has(e.remoteId)&&t.fetching.delete(e.remoteId)})),this.synchronizeTilesAndGraphics()}}]),t}(l.default);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=m(n(25)),i=m(n(21)),o=m(n(35)),a=m(n(5)),s=m(n(3)),l=m(n(4)),u=m(n(6)),c=m(n(13)),f=m(n(7)),d=n(28),h=m(n(70)),p=n(24);function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e,n){(0,s.default)(this,t);var r=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e,n)),i=e.onMouseMoveZoom,o=e.isValueScaleLocked,l=e.getLockGroupExtrema;return r.onMouseMoveZoom=i,r.isValueScaleLocked=o,r.getLockGroupExtrema=l,r.onMouseMoveZoom&&r.pubSubs.push(r.pubSub.subscribe("app.mouseMove",r.mouseMoveHandler.bind(r))),r}return(0,f.default)(t,e),(0,l.default)(t,[{key:"initTile",value:function(e){(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"initTile",this).call(this,e)}},{key:"tileToLocalId",value:function(e){return""+String(e.join("."))}},{key:"tileToRemoteId",value:function(e){return""+String(e.join("."))}},{key:"relevantScale",value:function(){return null}},{key:"setVisibleTiles",value:function(e){var t=this;this.visibleTiles=e.map((function(e){return{tileId:t.tileToLocalId(e),remoteId:t.tileToRemoteId(e)}})),this.visibleTileIds=new o.default(this.visibleTiles.map((function(e){return e.tileId})))}},{key:"calculateVisibleTiles",value:function(){var e=this;if(this.tilesetInfo)if(this.zoomLevel=this.calculateZoomLevel(),this.tilesetInfo.resolutions){var t=this.tilesetInfo.resolutions.map((function(e){return+e})).sort((function(e,t){return t-e})),n=p.tileProxy.calculateTilesFromResolution(t[this.zoomLevel],this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]).map((function(t){return[e.zoomLevel,t]}));this.setVisibleTiles(n)}else{var r=p.tileProxy.calculateTiles(this.zoomLevel,this.relevantScale(),this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width).map((function(t){return[e.zoomLevel,t]}));this.setVisibleTiles(r)}}},{key:"getTilePosAndDimensions",value:function(e,t,n){var r=t[0],i=t[0];if(this.tilesetInfo.resolutions){var o=n||1024,a=this.tilesetInfo.resolutions.map((function(e){return+e})).sort((function(e,t){return t-e}))[e],s=a*o,l=s;return{tileX:a*o*t[0],tileY:a*o*t[1],tileWidth:s,tileHeight:l}}var u=this.tilesetInfo.max_width,c=this.tilesetInfo.max_width,f=this.tilesetInfo.min_pos[0],d=this.tilesetInfo.min_pos[1],h=u/Math.pow(2,e),p=c/Math.pow(2,e);return{tileX:f+r*h,tileY:d+i*p,tileWidth:h,tileHeight:p}}},{key:"updateTile",value:function(e){}},{key:"scheduleRerender",value:function(){this.backgroundTaskScheduler.enqueueTask(this.handleRerender.bind(this),null,this.uuid)}},{key:"handleRerender",value:function(){this.rerender(this.options,!1)}},{key:"getIndicesOfVisibleDataInTile",value:function(e){var t=this._xScale.range(),n=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos,this.tilesetInfo.bins_per_dimension||this.tilesetInfo.tile_size),r=n.tileX,i=n.tileWidth,o=(0,d.scaleLinear)().domain([0,this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension]).range([r,r+i]);return[Math.max(0,Math.round(o.invert(this._xScale.invert(t[0])))),Math.min(e.tileData.dense.length,Math.round(o.invert(this._xScale.invert(t[1]))))]}},{key:"minVisibleValue",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.visibleAndFetchedIds();0===n.length&&(n=(0,i.default)(this.fetchedTiles));var o=n.map((function(t){return e.fetchedTiles[t]})).map((function(t){var n=e.getIndicesOfVisibleDataInTile(t);return t.tileData.denseDataExtrema.getMinNonZeroInSubset(n)})),a=Math.min.apply(Math,(0,r.default)(o));return t?a:null!==this.valueScaleMin?this.valueScaleMin:a}},{key:"maxVisibleValue",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.visibleAndFetchedIds();0===n.length&&(n=(0,i.default)(this.fetchedTiles));var o=n.map((function(t){return e.fetchedTiles[t]})).map((function(t){var n=e.getIndicesOfVisibleDataInTile(t);return t.tileData.denseDataExtrema.getMaxNonZeroInSubset(n)})),a=Math.max.apply(Math,(0,r.default)(o));return t?a:null!==this.valueScaleMax?this.valueScaleMax:a}},{key:"getAggregatedVisibleValue",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"max",n="min"===t?Math.min:Math.max,o="min"===t?1/0:-1/0,a=this.visibleAndFetchedIds();0===a.length&&(a=(0,i.default)(this.fetchedTiles));var s=this._xScale.range();return a.map((function(t){return e.fetchedTiles[t]})).map((function(n){if(!n.tileData.tilePos)return"min"===t?e.minVisibleValue():e.maxVisibleValue();var r=e.getTilePosAndDimensions(n.tileData.zoomLevel,n.tileData.tilePos,e.tilesetInfo.bins_per_dimension||e.tilesetInfo.tile_size),i=r.tileX,o=r.tileWidth,a=(0,d.scaleLinear)().domain([0,e.tilesetInfo.tile_size||e.tilesetInfo.bins_per_dimension]).range([i,i+o]),l=Math.max(0,Math.round(a.invert(e._xScale.invert(s[0])))),u=Math.min(n.tileData.dense.length,Math.round(a.invert(e._xScale.invert(s[1]))));return n.tileData.dense.slice(l,u)})).reduce((function(e,t){return n.apply(void 0,[e].concat((0,r.default)(t)))}),o)}},{key:"getDataAtPos",value:function(e){if(this.tilesetInfo){var t=this.calculateZoomLevel(),n=p.tileProxy.calculateTileWidth(this.tilesetInfo,t,this.tilesetInfo.tile_size),r=this._xScale.invert(e)/n,i=this.tileToLocalId([t,Math.floor(r)]),o=this.fetchedTiles[i];if(o){var a=this.tilesetInfo.tile_size*(r-Math.floor(r));return o.tileData.dense?o.tileData.dense[Math.floor(a)]:null}}}},{key:"mouseMoveHandler",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.x,n=e.y;this.isWithin(t,n)&&(this.mouseX=t,this.mouseY=n,this.mouseMoveZoomHandler())}},{key:"mouseMoveZoomHandler",value:function(){}},{key:"zoomed",value:function(){for(var e,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];(e=(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"zoomed",this)).call.apply(e,[this].concat(r)),this.mouseMoveZoomHandler()}}]),t}(h.default);t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(16)),i=c(n(25)),o=c(n(21)),a=c(n(35)),s=c(n(3)),l=c(n(4)),u=c(n(27));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(t){var n=this,r=t.tracks,i=t.createTrackObject;(0,s.default)(this,e),this.childTracks=r.map(i),this.createdTracks={},this.uid=u.default.nice(),this.childTracks.forEach((function(e,t){n.createdTracks[r[t].uid]=e}));for(var o=0;o<this.childTracks.length;o++)this.childTracks[o]||console.error("Empty child track in CombinedTrack:",this)}return(0,l.default)(e,[{key:"updateContents",value:function(e,t){var n=this,r=[],s=new a.default;e.forEach((function(e){if(s.add(e.uid),e.uid in n.createdTracks)r.push(n.createdTracks[e.uid]);else{var i=t(e);i.setPosition(n.position),i.setDimensions(n.dimensions),r.push(i),i.zoomed(n._xScale,n._yScale),n.createdTracks[e.uid]=i}})),this.childTracks=r;var l=new a.default((0,o.default)(this.createdTracks)),u=new a.default([].concat((0,i.default)(l)).filter((function(e){return!s.has(e)})));return[].concat((0,i.default)(u)).forEach((function(e){n.createdTracks[e].remove(),delete n.createdTracks[e]})),this}},{key:"setPosition",value:function(e){this.position=e;for(var t=0;t<this.childTracks.length;t++)this.childTracks[t].setPosition(e)}},{key:"setDimensions",value:function(e){this.dimensions=e;for(var t=0;t<this.childTracks.length;t++)this.childTracks[t].setDimensions(e)}},{key:"zoomed",value:function(e,t,n,r,i,o,a){this._xScale=e,this._yScale=t;for(var s=0;s<this.childTracks.length;s++)this.childTracks[s].zoomed(e,t,n,r,i,o,a)}},{key:"draw",value:function(){}},{key:"refScalesChanged",value:function(e,t){for(var n=0;n<this.childTracks.length;n++)this.childTracks[n].refScalesChanged(e,t)}},{key:"remove",value:function(){for(var e=0;e<this.childTracks.length;e++)this.childTracks[e].remove()}},{key:"exportSVG",value:function(){var e=document.createElement("g"),t=!0,n=!1,i=void 0;try{for(var o,a=(0,r.default)(this.childTracks);!(t=(o=a.next()).done);t=!0){var s=o.value;s.exportSVG&&e.appendChild(s.exportSVG()[0])}}catch(l){n=!0,i=l}finally{try{!t&&a.return&&a.return()}finally{if(n)throw i}}return[e,e]}},{key:"rerender",value:function(e){}},{key:"minValue",value:function(e){if(0===arguments.length){var t=this.childTracks.filter((function(e){return e.minValue})).map((function(e){return e.minValue()})).filter((function(e){return e}));return Math.min.apply(Math,(0,i.default)(t))}var n=!0,o=!1,a=void 0;try{for(var s,l=(0,r.default)(this.childTracks);!(n=(s=l.next()).done);n=!0){var u=s.value;u.minValue&&u.minValue(e)}}catch(c){o=!0,a=c}finally{try{!n&&l.return&&l.return()}finally{if(o)throw a}}}},{key:"maxValue",value:function(e){if(0===arguments.length){var t=this.childTracks.filter((function(e){return e.maxValue})).map((function(e){return e.maxValue()})).filter((function(e){return e}));return Math.max.apply(Math,(0,i.default)(t))}var n=!0,o=!1,a=void 0;try{for(var s,l=(0,r.default)(this.childTracks);!(n=(s=l.next()).done);n=!0){var u=s.value;u.maxValue&&u.maxValue(e)}}catch(c){o=!0,a=c}finally{try{!n&&l.return&&l.return()}finally{if(o)throw a}}}},{key:"respondsToPosition",value:function(e,t){return e>=this.position[0]&&e<=this.dimensions[0]+this.position[0]&&t>=this.position[1]&&t<=this.dimensions[1]+this.position[1]}},{key:"stopHover",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,o=(0,r.default)(this.childTracks);!(e=(i=o.next()).done);e=!0){var a=i.value;a.stopHover&&a.stopHover()}}catch(s){t=!0,n=s}finally{try{!e&&o.return&&o.return()}finally{if(t)throw n}}}},{key:"getMouseOverHtml",value:function(e,t){var n="",i=!0,o=!1,a=void 0;try{for(var s,l=(0,r.default)(this.childTracks);!(i=(s=l.next()).done);i=!0){var u=s.value;if(u.getMouseOverHtml){var c=u.getMouseOverHtml(e,t);c&&c.length&&(n+=c,n+="<br/>")}}}catch(f){o=!0,a=f}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}return n}}]),e}();t.default=f},function(e,t,n){"use strict";(function(e,r){var i=n(251),o=n(597);e.__TYPEDARRAY_POOL||(e.__TYPEDARRAY_POOL={UINT8:o([32,0]),UINT16:o([32,0]),UINT32:o([32,0]),INT8:o([32,0]),INT16:o([32,0]),INT32:o([32,0]),FLOAT:o([32,0]),DOUBLE:o([32,0]),DATA:o([32,0]),UINT8C:o([32,0]),BUFFER:o([32,0])});var a="undefined"!==typeof Uint8ClampedArray,s=e.__TYPEDARRAY_POOL;s.UINT8C||(s.UINT8C=o([32,0])),s.BUFFER||(s.BUFFER=o([32,0]));var l=s.DATA,u=s.BUFFER;function c(e){if(e){var t=e.length||e.byteLength,n=i.log2(t);l[n].push(e)}}function f(e){e=i.nextPow2(e);var t=i.log2(e),n=l[t];return n.length>0?n.pop():new ArrayBuffer(e)}function d(e){return new Uint8Array(f(e),0,e)}function h(e){return new Uint16Array(f(2*e),0,e)}function p(e){return new Uint32Array(f(4*e),0,e)}function m(e){return new Int8Array(f(e),0,e)}function v(e){return new Int16Array(f(2*e),0,e)}function g(e){return new Int32Array(f(4*e),0,e)}function y(e){return new Float32Array(f(4*e),0,e)}function b(e){return new Float64Array(f(8*e),0,e)}function _(e){return a?new Uint8ClampedArray(f(e),0,e):d(e)}function x(e){return new DataView(f(e),0,e)}function w(e){e=i.nextPow2(e);var t=i.log2(e),n=u[t];return n.length>0?n.pop():new r(e)}t.free=function(e){if(r.isBuffer(e))u[i.log2(e.length)].push(e);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(e)&&(e=e.buffer),!e)return;var t=e.length||e.byteLength,n=0|i.log2(t);l[n].push(e)}},t.freeUint8=t.freeUint16=t.freeUint32=t.freeInt8=t.freeInt16=t.freeInt32=t.freeFloat32=t.freeFloat=t.freeFloat64=t.freeDouble=t.freeUint8Clamped=t.freeDataView=function(e){c(e.buffer)},t.freeArrayBuffer=c,t.freeBuffer=function(e){u[i.log2(e.length)].push(e)},t.malloc=function(e,t){if(void 0===t||"arraybuffer"===t)return f(e);switch(t){case"uint8":return d(e);case"uint16":return h(e);case"uint32":return p(e);case"int8":return m(e);case"int16":return v(e);case"int32":return g(e);case"float":case"float32":return y(e);case"double":case"float64":return b(e);case"uint8_clamped":return _(e);case"buffer":return w(e);case"data":case"dataview":return x(e);default:return null}return null},t.mallocArrayBuffer=f,t.mallocUint8=d,t.mallocUint16=h,t.mallocUint32=p,t.mallocInt8=m,t.mallocInt16=v,t.mallocInt32=g,t.mallocFloat32=t.mallocFloat=y,t.mallocFloat64=t.mallocDouble=b,t.mallocUint8Clamped=_,t.mallocDataView=x,t.mallocBuffer=w,t.clearCache=function(){for(var e=0;e<32;++e)s.UINT8[e].length=0,s.UINT16[e].length=0,s.UINT32[e].length=0,s.INT8[e].length=0,s.INT16[e].length=0,s.INT32[e].length=0,s.FLOAT[e].length=0,s.DOUBLE[e].length=0,s.UINT8C[e].length=0,l[e].length=0,u[e].length=0}}).call(this,n(26),n(110).Buffer)},function(e,t,n){"use strict";function r(e){var t=32;return(e&=-e)&&t--,65535&e&&(t-=16),16711935&e&&(t-=8),252645135&e&&(t-=4),858993459&e&&(t-=2),1431655765&e&&(t-=1),t}t.INT_BITS=32,t.INT_MAX=2147483647,t.INT_MIN=-1<<31,t.sign=function(e){return(e>0)-(e<0)},t.abs=function(e){var t=e>>31;return(e^t)-t},t.min=function(e,t){return t^(e^t)&-(e<t)},t.max=function(e,t){return e^(e^t)&-(e<t)},t.isPow2=function(e){return!(e&e-1)&&!!e},t.log2=function(e){var t,n;return t=(e>65535)<<4,t|=n=((e>>>=t)>255)<<3,t|=n=((e>>>=n)>15)<<2,(t|=n=((e>>>=n)>3)<<1)|(e>>>=n)>>1},t.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0},t.popCount=function(e){return 16843009*((e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)>>>24},t.countTrailingZeros=r,t.nextPow2=function(e){return e+=0===e,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,1+(e|=e>>>16)},t.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)-(e>>>1)},t.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,27030>>>(e&=15)&1};var i=new Array(256);!function(e){for(var t=0;t<256;++t){var n=t,r=t,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;e[t]=r<<i&255}}(i),t.reverse=function(e){return i[255&e]<<24|i[e>>>8&255]<<16|i[e>>>16&255]<<8|i[e>>>24&255]},t.interleave2=function(e,t){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))<<1},t.deinterleave2=function(e,t){return(e=65535&((e=16711935&((e=252645135&((e=858993459&((e=e>>>t&1431655765)|e>>>1))|e>>>2))|e>>>4))|e>>>16))<<16>>16},t.interleave3=function(e,t,n){return e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2),(e|=(t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2))<<1)|(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<2},t.deinterleave3=function(e,t){return(e=1023&((e=4278190335&((e=251719695&((e=3272356035&((e=e>>>t&1227133513)|e>>>2))|e>>>4))|e>>>8))|e>>>16))<<22>>22},t.nextCombination=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>r(e)+1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(40)),i=g(n(32)),o=g(n(19)),a=g(n(5)),s=g(n(3)),l=g(n(4)),u=g(n(6)),c=g(n(13)),f=g(n(7)),d=n(28),h=n(153),p=g(n(112)),m=n(11),v=n(10);function g(e){return e&&e.__esModule?e:{default:e}}var y=(0,v.colorToHex)("#FFFFFF"),b=function(e){function t(){var e;(0,s.default)(this,t);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=(0,u.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(r)));return o.zeroLine=new m.GLOBALS.PIXI.Graphics,o.pMain.addChild(o.zeroLine),o.valueScaleTransform=h.zoomIdentity,o.options&&o.options.colorRange&&(o.options.colorRangeGradient?o.setColorGradient(o.options.colorRange):o.setColorScale(o.options.colorRange)),o.initialized=!0,o}return(0,f.default)(t,e),(0,l.default)(t,[{key:"setColorScale",value:function(e){e&&(this.colorScale=(0,v.colorDomainToRgbaArray)(e),this.colorScale=this.colorScale.map((function(e){return e.map((function(e){return e/255}))})))}},{key:"setColorGradient",value:function(e){if(e){var t=e.length-1;this.colorGradientColors="bottom"===this.options.align?e.slice().reverse().map((function(e,n){return{from:n/t,color:e}})):e.map((function(e,n){return{from:n/t,color:e}}))}}},{key:"initTile",value:function(e){this.initialized&&(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"initTile",this).call(this,e)}},{key:"updateTile",value:function(e){e.valueScale&&this.scale&&this.scale.minValue===e.scale.minValue&&this.scale.maxValue===e.scale.maxValue||this.renderTile(e)}},{key:"renderTile",value:function(e){this.initialized&&(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"renderTile",this).call(this,e)}},{key:"drawTile",value:function(e){if(e.graphics&&e.tileData&&e.tileData.dense){var t=e.graphics;e.svgData=void 0;var n=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos,this.tilesetInfo.bins_per_dimension||this.tilesetInfo.tile_size),r=n.tileX,a=n.tileWidth,s=e.tileData.dense;if(0!==s.length){var l=this.makeValueScale(this.minValue(),this.medianVisibleValue,this.maxValue(),0),u=(0,o.default)(l,2),c=u[0],f=u[1];c.clamp(!0),this.valueScale=c;var h=c.copy();if(h.range([254,0]).clamp(!0),t.clear(),this.drawAxis(this.valueScale),"log"===this.options.valueScaling&&this.valueScale.domain()[1]<0)console.warn("Negative values present when using a log scale",this.valueScale.domain());else{var p=(0,v.colorToHex)(this.options.lineStrokeColor||"blue"),g=(0,d.scaleLinear)().domain([0,this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension]).range([r,r+a]);t.lineStyle(0,p,1);var b=this.options.barFillColor||"grey",_=(0,v.colorToHex)(b),x="barOpacity"in this.options?this.options.barOpacity:1;t.beginFill(_,x),e.drawnAtScale=this._xScale.copy();var w="top"===this.options.align,E=void 0,T=void 0,S=void 0,k=void 0,O=void 0,C=void 0;if(this.colorGradientColors){(O=new m.GLOBALS.PIXI.Graphics).beginFill(y,1);var A=(0,v.gradient)(this.colorGradientColors,1,this.dimensions[1],0,0,0,this.dimensions[1]);(C=new m.GLOBALS.PIXI.Sprite(m.GLOBALS.PIXI.Texture.fromCanvas(A,m.GLOBALS.PIXI.SCALE_MODES.NEAREST))).x=this._xScale(r),C.width=this._xScale(r+a)-C.x}for(var M=0;M<s.length;M++)if(E=this._xScale(g(M)),S=this.valueScale(s[M]+f),T=this._xScale(g(M+1))-E,k=this.dimensions[1]-S,w&&(S=0),!((0,i.default)(k)||k<0||S<0)){if(this.addSVGInfo(e,E,S,T,k,b),g(M)>this.tilesetInfo.max_pos[0])break;if(this.colorScale&&!this.options.colorRangeGradient){var P=Math.round(h(s[M]+f)),I=this.colorScale[P],D=m.GLOBALS.PIXI.utils.rgb2hex(I);t.beginFill(D,x)}(O||t).drawRect(E,S,T,k)}this.colorGradientColors&&(C.mask=O,t.removeChildren(),t.addChild(C,O))}}}}},{key:"rerender",value:function(e,n){e&&e.colorRange&&(e.colorRangeGradient?this.setColorGradient(e.colorRange):this.setColorScale(e.colorRange)),(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"rerender",this).call(this,e,n)}},{key:"drawZeroLine",value:function(){this.zeroLine.clear();var e=(0,v.colorToHex)(this.options.barFillColor||"grey"),t=+this.options.barOpacity||1,n=this.options.zeroLineColor?(0,v.colorToHex)(this.options.zeroLineColor):e,r=(0,i.default)(+this.options.zeroLineOpacity)?t:+this.options.zeroLineOpacity;this.zeroLine.beginFill(n,r),this.zeroLine.drawRect(0,this.dimensions[1]-1,this.dimensions[0],1)}},{key:"drawZeroLineSvg",value:function(e){var t=document.createElement("rect");t.setAttribute("id","zero-line"),t.setAttribute("x",0),t.setAttribute("y",this.dimensions[1]-1),t.setAttribute("height",1),t.setAttribute("width",this.dimensions[0]),t.setAttribute("fill",this.options.zeroLineColor||this.options.barFillColor),t.setAttribute("fill-opacity",this.options.zeroLineOpacity||this.options.barOpacity),e.appendChild(t)}},{key:"getXScaleAndOffset",value:function(e){var t=e.domain(),n=this._xScale.domain(),r=(t[1]-t[0])/(n[1]-n[0]);return[r,-this._xScale.domain().map(e)[0]*r]}},{key:"draw",value:function(){var e=this;this.initialized&&((0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"draw",this).call(this),this.options.zeroLineVisible?this.drawZeroLine():this.zeroLine.clear(),(0,r.default)(this.fetchedTiles).forEach((function(t){var n=e.getXScaleAndOffset(t.drawnAtScale),r=(0,o.default)(n,2),i=r[0],a=r[1];t.graphics.scale.x=i,t.graphics.position.x=a})))}},{key:"zoomed",value:function(e,n){(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"zoomed",this).call(this,e,n)}},{key:"movedY",value:function(e){}},{key:"zoomedY",value:function(e,t){}},{key:"addSVGInfo",value:function(e,t,n,r,i,o){e.svgData?(e.svgData.barXValues.push(t),e.svgData.barYValues.push(n),e.svgData.barWidths.push(r),e.svgData.barHeights.push(i),e.svgData.barColors.push(o)):e.svgData={barXValues:[t],barYValues:[n],barWidths:[r],barHeights:[i],barColors:[o]}}},{key:"exportSVG",value:function(){var e=null,n=null,r=(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"superSVG",this).call(this),i=(0,o.default)(r,2);n=i[0],e=i[1],n.setAttribute("class","exported-line-track");var s=document.createElement("g");e.appendChild(s),s.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),this.options.zeroLine&&this.drawZeroLineSvg(s),this.visibleAndFetchedTiles().filter((function(e){return e.svgData&&e.svgData.barXValues})).forEach((function(e){for(var t=e.svgData,n=0;n<t.barXValues.length;n++){var r=document.createElement("rect");r.setAttribute("fill",t.barColors[n]),r.setAttribute("stroke",t.barColors[n]),r.setAttribute("x",t.barXValues[n]),r.setAttribute("y",t.barYValues[n]),r.setAttribute("height",t.barHeights[n]),r.setAttribute("width",t.barWidths[n]),e.barBorders&&(r.setAttribute("stroke-width","0.1"),r.setAttribute("stroke","black")),s.appendChild(r)}}));var l=document.createElement("g");if(l.setAttribute("id","axis"),n.appendChild(l),l.setAttribute("transform","translate("+String(this.axis.pAxis.position.x)+", "+String(this.axis.pAxis.position.y)+")"),"left"===this.options.axisPositionHorizontal||"top"===this.options.axisPositionVertical){var u=this.axis.exportAxisLeftSVG(this.valueScale,this.dimensions[1]);l.appendChild(u)}else if("right"===this.options.axisPositionHorizontal||"bottom"===this.options.axisPositionVertical){var f=this.axis.exportAxisRightSVG(this.valueScale,this.dimensions[1]);l.appendChild(f)}return[n,e]}}]),t}(p.default);t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=b(n(19)),i=b(n(40)),o=b(n(16)),a=b(n(45)),s=b(n(5)),l=b(n(3)),u=b(n(4)),c=b(n(6)),f=b(n(13)),d=b(n(7)),h=b(n(176)),p=b(n(347)),m=n(11),v=b(n(135)),g=n(24),y=n(10);function b(e){return e&&e.__esModule?e:{default:e}}var _=(0,y.colorToHex)("#ffffff"),x=function(e,t,n){"filler"!==n.type&&t.pubSub.publish("app.click",{type:"gene-annotation",event:e,payload:n})},w=function(e,t){var n=e.concat(t),r=n.map((function(e){return[e.xStart,1,e.xEnd,1]}));(0,h.default)(r,(function(e,t){var r=null,i=null;if("filler"===n[e].type?r=n[e]:i=n[e],"filler"===n[t].type){if(r)return;r=n[t]}else{if(!r)return;i=n[t]}r.xStart>=i.xStart&&r.xEnd<=i.xEnd&&(r.hide=!0)}))};function E(e,t,n,r,i,o,a,s,l){var u=s-l/2;e.forEach((function(e){var r=new m.GLOBALS.PIXI.Graphics;n.rectGraphics.addChild(r),r.beginFill(o,.1),r.lineStyle(0,o);var a=[i(e.xStart)-0,u,i(e.xEnd)+0,u,i(e.xEnd)+0,u+l,i(e.xStart)-0,u+l,i(e.xStart)-0,u];r.interactive=!0,r.buttonMode=!0,r.mouseup=function(n){return x(n,t,e)},r.drawPolygon(a),n.allRects.push([a,e.strand,e])}))}function T(e,t,n,r,i,o,a,s,l){e.forEach((function(e){var r=e.fields,i=+e.chrOffset,u=r[12],c=r[13],f=new m.GLOBALS.PIXI.Graphics;n.rectGraphics.addChild(f),f.beginFill(o,a),f.interactive=!0,f.buttonMode=!0,f.mouseup=function(n){return x(n,t,e)},n.allRects=n.allRects.concat(function(e,t,n,r,i,o,a,s,l,u){var c=s-l/2,f=i.split(",").map((function(e){return+e+a})),d=o.split(",").map((function(e){return+e+a})),h=e._xScale(n),p=e._xScale(r),m=p-h,v=s,g=[],y=[h,v-1,h+m,v-1,h+m,v+1,h,v+1];t.drawPolygon(y),g.push(y);for(var b=2*l,_=Math.max(e.position[0],h)+b;_<Math.min(e.position[0]+e.dimensions[0],h+m);_+=b)y="+"===u?[_,v-32/3*2/3/2,_+32/3*2/3/2,v,_,v+32/3*2/3/2]:[_,v-32/3*2/3/2,_-32/3*2/3/2,v,_,v+32/3*2/3/2],g.push(y),t.drawPolygon(y);for(var x=0;x<f.length;x++){var w=f[x],E=d[x],T=e._xScale(w),S=Math.max(1,e._xScale(E)-e._xScale(w)),k=h,O=p,C=e.geneRectHeight/2,A=null;"+"===u?(O=p-C,A=[Math.min(T,O),c,Math.min(T+S,O),c,Math.min(T+S,O),c+l,Math.min(T,O),c+l,Math.min(T,O),c]):(k=h+C,A=[Math.max(T,k),c,Math.max(T+S,k),c,Math.max(T+S,k),c+l,Math.max(T,k),c+l,Math.max(T,k),c]),g.push(A),t.drawPolygon(A)}return g}(t,f,e.xStart,e.xEnd,u,c,i,s,l,e.strand||e.fields[5]).map((function(t){return[t,e.strand,e]})))}))}function S(e,t,n,r,i,o,a,s,l){!function(e,t,n,r,i,o,a,s,l){var u=s-l/2;e.forEach((function(e){var r=t._xScale(e.xStart),i=t._xScale(e.xEnd),s=new m.GLOBALS.PIXI.Graphics;n.rectGraphics.addChild(s),s.beginFill(o,a),s.interactive=!0,s.buttonMode=!0,s.mouseup=function(n){return x(n,t,e)};var l=t.geneRectHeight/2,c=[];if("+"===e.strand||"+"===e.fields[5]){var f=Math.max(r,i-l);c=[f,u,f+l,u+t.geneRectHeight/2,f,u+t.geneRectHeight]}else{var d=Math.min(i,r+l);c=[d,u,d-l,u+t.geneRectHeight/2,d,u+t.geneRectHeight]}s.drawPolygon(c),n.allRects.push([c,e.strand,e])}))}(e,t,n,0,0,o,a,s,l),T(e,t,n,0,0,o,a,s,l)}var k=function(e){function t(e,n){(0,l.default)(this,t);var r=(0,c.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e,n)),i=e.animate;return r.animate=i,r.options=n,r.fontSize=+r.options.fontSize||11,r.geneLabelPos=r.options.geneLabelPosition||"outside",r.geneRectHeight=+r.options.geneAnnotationHeight||16,r.geneRectHeight-=2,r.geneStrandSpacing=+r.options.geneStrandSpacing||4,r.geneStrandHSpacing=r.geneStrandSpacing/2,r.geneRectHHeight=r.geneRectHeight/2,r}return(0,d.default)(t,e),(0,u.default)(t,[{key:"initTile",value:function(e){!function(e,t,n){var r=n.flipText,i=n.fontSize,o=n.fontFamily,a=n.plusStrandColor,s=n.minusStrandColor,l=n.maxGeneEntries,u=n.maxFillerEntries,c=n.maxTexts;if(t.texts={},t.rectGraphics=new m.GLOBALS.PIXI.Graphics,t.textBgGraphics=new m.GLOBALS.PIXI.Graphics,t.textGraphics=new m.GLOBALS.PIXI.Graphics,t.rectMaskGraphics=new m.GLOBALS.PIXI.Graphics,t.graphics.addChild(t.rectGraphics),t.graphics.addChild(t.textBgGraphics),t.graphics.addChild(t.textGraphics),t.graphics.addChild(t.rectMaskGraphics),t.rectGraphics.mask=t.rectMaskGraphics,t.tileData.sort){t.tileData.sort((function(e,t){return t.importance-e.importance}));var f=t.tileData.filter((function(e){return"filler"!==e.type})).slice(0,l),d=t.tileData.filter((function(e){return"filler"===e.type})).slice(0,u);t.tileData=f.concat(d),t.tileData.forEach((function(n,l){var u=n.fields,f=u[3],d=e.geneId(u,n.type),h=n.strand||u[5],p=a||"blue";if("-"===h&&(p=s||"red"),t.textWidths={},t.textHeights={},!(l>=c)){var v=new m.GLOBALS.PIXI.Text(f,{fontSize:String(i)+"px",fontFamily:o,fill:(0,y.colorToHex)(p)});v.interactive=!0,r&&(v.scale.x=-1),v.anchor.x=.5,v.anchor.y=1,t.texts[d]=v,t.texts[d].strand=h,t.textGraphics.addChild(v)}})),t.initialized=!0}}(this,e,{flipText:this.flipText,fontSize:this.fontSize,fontFamily:"Arial",plusStrandColor:this.options.plusStrandColor,minusStrandColor:this.options.minusStrandColor,maxGeneEntries:50,maxFillerEntries:5e3,maxTexts:20}),this.renderTile(e)}},{key:"destroyTile",value:function(e){e.rectGraphics.destroy(),e.rectMaskGraphics.destroy(),e.textGraphics.destroy(),e.textBgGraphics.destroy(),e.graphics.destroy()}},{key:"rerender",value:function(e,n){var r=this,i=(0,a.default)(e);(n||i!==this.prevOptions)&&((0,f.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"rerender",this).call(this,e,n),this.fontSize=+this.options.fontSize||11,this.geneLabelPos=this.options.geneLabelPosition||"outside",this.geneRectHeight=+this.options.geneAnnotationHeight||16,this.geneStrandHSpacing=this.geneStrandSpacing/2,this.geneRectHHeight=this.geneRectHeight/2,this.prevOptions=i,this.visibleAndFetchedTiles().forEach((function(e){r.renderTile(e)})))}},{key:"drawTile",value:function(){}},{key:"geneId",value:function(e,t){return String(t)+"_"+String(e[0])+"_"+String(e[1])+"_"+String(e[2])+"_"+String(e[3])}},{key:"renderTile",value:function(e){if(e.initialized){e.allRects=[],e.drawnAtScale=this._xScale.copy(),e.rectGraphics.removeChildren(),e.rectGraphics.clear(),e.textBgGraphics.clear();var t={};t["+"]=(0,y.colorToHex)(this.options.plusStrandColor||"blue"),t["-"]=(0,y.colorToHex)(this.options.minusStrandColor||"red");var n=e.tileData.filter((function(e){return"filler"===e.type&&"+"===e.strand})),r=e.tileData.filter((function(e){return"filler"===e.type&&"-"===e.strand})),a=e.tileData.filter((function(e){return"filler"!==e.type&&("+"===e.strand||"+"===e.fields[5])})),s=e.tileData.filter((function(e){return"filler"!==e.type&&("-"===e.strand||"-"===e.fields[5])}));w(a,n),w(s,r),n=n.filter((function(e){return!e.hide})),r=r.filter((function(e){return!e.hide}));var l=this.dimensions[1]/2,u=l-this.geneRectHeight/2-this.geneStrandSpacing/2,c=l+this.geneRectHeight/2+this.geneStrandSpacing/2,f=[this,e,e.rectGraphics,this._xScale,t["+"],.3,u,this.geneRectHeight],d=[this,e,e.rectGraphics,this._xScale,t["-"],.3,c,this.geneRectHeight];E.apply(void 0,[n].concat(f)),E.apply(void 0,[r].concat(d)),f[5]=.3,d[5]=.3,S.apply(void 0,[a].concat(f)),S.apply(void 0,[s].concat(d)),function(e,t){var n=y.trackUtils.getTilePosAndDimensions(e.tilesetInfo,t.tileId),r=n.tileX,i=n.tileWidth;t.rectMaskGraphics.clear();var o=Math.floor(Math.random()*Math.pow(16,6));t.rectMaskGraphics.beginFill(o,.3);var a=e._xScale(r),s=e._xScale(r+i)-e._xScale(r),l=e.dimensions[1];t.rectMaskGraphics.drawRect(a,0,s,l)}(this,e),y.trackUtils.stretchRects(this,[function(e){return e.rectGraphics},function(e){return e.rectMaskGraphics}]);var h=!0,p=!1,m=void 0;try{for(var v,g=(0,o.default)((0,i.default)(e.texts));!(h=(v=g.next()).done);h=!0){var b=v.value;b.style={fontSize:String(this.fontSize)+"px",FONT_FAMILY:"Arial",fill:(0,y.colorToHex)("-"===b.strand?this.options.minusStrandColor||"red":this.options.plusStrandColor||"blue")}}}catch(_){p=!0,m=_}finally{try{!h&&g.return&&g.return()}finally{if(p)throw m}}}}},{key:"calculateZoomLevel",value:function(){var e=g.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),t=Math.min(e,this.maxZoom);return t=Math.max(t,0)}},{key:"draw",value:function(){var e=this;(0,f.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"draw",this).call(this),this.allTexts=[],this.allBoxes=[];var n=[];this.geneAreaHeight=this.geneRectHeight;var r=this.fontSize/2;y.trackUtils.stretchRects(this,[function(e){return e.rectGraphics},function(e){return e.rectMaskGraphics}]),(0,i.default)(this.fetchedTiles).filter((function(e){return e.drawnAtScale})).forEach((function(t){t.textBgGraphics.clear(),t.textBgGraphics.beginFill("undefined"!==typeof e.options.labelBackgroundColor?(0,y.colorToHex)(e.options.labelBackgroundColor):_);var i=e.parentInFetched(t);t.initialized&&t.tileData.forEach((function(o){if(t.texts){var a=o.fields,s=a[3],l=e.geneId(a,o.type),u=t.texts[l];if(u){var c=+o.chrOffset,f=(+a[1]+c+(+a[2]+c))/2,d=e.dimensions[1]/2,h=(e.geneAreaHeight-e.fontSize)/2;if("+"===a[5]?d-="inside"===e.geneLabelPos?h+e.geneStrandSpacing-2:e.fontSize/2+e.geneAreaHeight-2:d+="inside"===e.geneLabelPos?e.fontSize+e.geneStrandSpacing/2+h+1:1.5*e.fontSize+e.geneAreaHeight+2,u.position.x=e._xScale(f),u.position.y=d,!t.textWidths[l]){var p=u.getBounds().width,m=u.getBounds().height;t.textHeights[l]=m,t.textWidths[l]=p}i?u.visible=!1:(u.visible=!0,e.flipText?e.allBoxes.push([u.position.x-t.textHeights[l]/2-2,d-r-1,u.position.x+t.textHeights[l]/2+2,d+r-1,s]):e.allBoxes.push([u.position.x-t.textWidths[l]/2-2,d-r-1,u.position.x+t.textWidths[l]/2+2,d+r-1,s]),e.allTexts.push({importance:+a[4],text:u,caption:s,strand:a[5]}),n.push(t.textBgGraphics))}}}))})),this.hideOverlaps(this.allBoxes,this.allTexts),this.renderTextBg(this.allBoxes,this.allTexts,n)}},{key:"renderTextBg",value:function(e,t,n){t.forEach((function(t,i){if(t.text.visible&&e[i]&&n[i]){var o=(0,r.default)(e[i],4),a=o[0],s=o[1],l=o[2]-a,u=o[3]-s;n[i].drawRect(a-l/2,s-u/2,l,u)}}))}},{key:"hideOverlaps",value:function(e,t){(0,h.default)(e,(function(e,n){t[e].importance>t[n].importance?t[n].text.visible=!1:t[e].text.visible=!1}))}},{key:"setPosition",value:function(e){(0,f.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"setPosition",this).call(this,e);var n=(0,r.default)(this.position,2);this.pMain.position.x=n[0],this.pMain.position.y=n[1]}},{key:"setDimensions",value:function(e){var n=this;(0,f.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"setDimensions",this).call(this,e),this.halfRectHHeight=this.dimensions[1]/2,this.visibleAndFetchedTiles().forEach((function(e){n.renderTile(e)}))}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.refreshTiles(),this.draw()}},{key:"getMouseOverHtml",value:function(e,t){if(!this.tilesetInfo)return"";var n=[e,t],r=!0,i=!1,a=void 0;try{for(var s,l=(0,o.default)(this.visibleAndFetchedTiles());!(r=(s=l.next()).done);r=!0)for(var u=s.value,c=0;c<u.allRects.length;c++)if("filler"!==u.allRects[c][2].type){for(var f=u.allRects[c][0].slice(0),d=[];f.length;){var h=f.splice(0,2);h[0]=h[0]*u.rectGraphics.scale.x+u.rectGraphics.position.x,h[1]=h[1]*u.rectGraphics.scale.y+u.rectGraphics.position.y,d.push(h)}if(-1===(0,p.default)(d,n)){var m=u.allRects[c][2];return"\n            <div>\n              <p><b>"+String(m.fields[3])+"</b></p>\n              <p>"+String(m.fields[0])+":"+String(m.fields[1])+"-"+String(m.fields[2])+" Strand: "+String(m.strand)+"</p>\n            </div>\n          "}}}catch(v){i=!0,a=v}finally{try{!r&&l.return&&l.return()}finally{if(i)throw a}}return""}},{key:"exportSVG",value:function(){var e=this,n=null,i=null;if((0,f.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"exportSVG",this)){var o=(0,f.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"exportSVG",this).call(this),a=(0,r.default)(o,2);i=a[0],n=a[1]}else n=i=document.createElement("g");var l=document.createElement("g");return l.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),n.appendChild(l),this.visibleAndFetchedTiles().filter((function(e){return e.allRects})).forEach((function(t){var n=document.createElement("g");n.setAttribute("transform","translate("+String(t.rectGraphics.position.x)+",\n          "+String(t.rectGraphics.position.y)+")\n          scale("+String(t.rectGraphics.scale.x)+",\n          "+String(t.rectGraphics.scale.y)+")"),t.allRects.forEach((function(t){for(var r=document.createElement("path"),i=t[0],o="M "+String(i[0])+" "+String(i[1]),a=2;a<i.length;a+=2)o+=" L "+String(i[a])+" "+String(i[a+1]);r.setAttribute("d",o),"+"===t[1]?r.setAttribute("fill",e.options.plusStrandColor):r.setAttribute("fill",e.options.minusStrandColor),r.setAttribute("opacity","0.3"),n.appendChild(r)})),l.appendChild(n)})),this.allTexts.filter((function(e){return e.text.visible})).forEach((function(t){var n=document.createElement("g"),r=document.createElement("text");r.setAttribute("text-anchor","middle"),r.setAttribute("font-family","Arial"),r.setAttribute("font-size",String(e.fontSize)+"px"),r.setAttribute("dy","-.2em"),n.setAttribute("transform","scale("+String(t.text.scale.x)+",1)"),"+"===t.strand?r.setAttribute("fill",e.options.plusStrandColor):r.setAttribute("fill",e.options.minusStrandColor),r.innerHTML=t.text.text,n.appendChild(r),n.setAttribute("transform","translate("+String(t.text.x)+","+String(t.text.y)+")scale("+String(t.text.scale.x)+",1)"),l.appendChild(n)})),[i,i]}}]),t}(v.default);t.default=k},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(5)),i=u(n(3)),o=u(n(4)),a=u(n(6)),s=u(n(13)),l=u(n(7));function u(e){return e&&e.__esModule?e:{default:e}}var c=(0,n(81).Mixin)((function(e){return function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n)),s=e.animate;return o.highlighted=!1,o.animate=s,o.MOUSEOVER_RADIUS=4,o.pubSub=e.pubSub,o.pubSubs.push(o.pubSub.subscribe("app.mouseMove",o.mouseMoveHandler.bind(o))),o}return(0,l.default)(t,e),(0,o.default)(t,[{key:"setPosition",value:function(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setPosition",this).call(this,e),this.pMain.position.x=this.position[0],this.pMain.position.y=this.position[1]}},{key:"zoomed",value:function(e,n){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"zoomed",this).call(this,e,n),this.draw()}},{key:"respondsToPosition",value:function(){return this.highlighted}}]),t}(e)}));t.default=c},function(e,t,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(33)),i=c(n(1)),o=c(n(2)),a=c(n(178)),s=c(n(367)),l=c(n(650)),u=c(n(137));function c(e){return e&&e.__esModule?e:{default:e}}n(652);var f={"../styles/Dialog.module.scss":{"dialog-header":"Dialog-module_dialog-header-2mk2M","dialog-main-max-height":"Dialog-module_dialog-main-max-height-1EAb2","dialog-footer":"Dialog-module_dialog-footer-1BnEv","dialog-footer-max-height":"Dialog-module_dialog-footer-max-height-KjDek"}},d=function(e){var t=function(){e.modal.close(),e.onCancel&&e.onCancel()};return i.default.createElement(l.default,{closeButton:!1,hide:e.hide,maxHeight:e.maxHeight},i.default.createElement("header",{className:"Dialog-module_dialog-header-2mk2M"},i.default.createElement("h3",null,e.title),i.default.createElement(a.default,{onClick:t},i.default.createElement(s.default,null))),e.maxHeight?i.default.createElement("main",{className:(0,r.default)(e.maxHeight?"dialog-main-max-height":"",f)},e.children):i.default.createElement("main",null,e.children),i.default.createElement("footer",{className:(0,r.default)(e.maxHeight?"dialog-footer-max-height":"dialog-footer",f)},e.okayOnly?i.default.createElement("div",null):i.default.createElement(a.default,{onClick:t,shortcut:e.cancelShortcut},e.cancelTitle),i.default.createElement(a.default,{onClick:function(){e.modal.close(),e.onOkay&&e.onOkay()},shortcut:e.okayShortcut},e.okayTitle)))};d.defaultProps={cancelTitle:"Cancel",hide:!1,maxHeight:!1,okayOnly:!1,okayTitle:"Ok"},d.propTypes={cancelShortcut:o.default.string,cancelTitle:o.default.string,children:o.default.func.isRequired,hide:o.default.bool,maxHeight:o.default.bool,modal:o.default.object.isRequired,okayShortcut:o.default.string,okayTitle:o.default.string,okayOnly:o.default.bool,onCancel:o.default.func.isRequired,onOkay:o.default.func.isRequired,title:o.default.string.isRequired},t.default=(0,u.default)(d)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(5)),i=d(n(3)),o=d(n(4)),a=d(n(6)),s=d(n(7)),l=d(n(2)),u=d(n(1)),c=d(n(38)),f=d(n(10));function d(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.clickHandlerBound=n.clickHandler.bind(n),n.contextMenuHandlerBound=n.contextMenuHandler.bind(n),n.resizeHandlerBound=n.resizeHandler.bind(n),n}return(0,s.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.popup=document.createElement("div"),document.body.appendChild(this.popup),this.popup.style.zIndex=99,this.popup.style.position="absolute",this.popup.className="hg-popup",document.addEventListener("click",this.clickHandlerBound,!0),document.addEventListener("contextmenu",this.contextMenuHandlerBound,!0),window.addEventListener("resize",this.resizeHandlerBound,!0),this._renderLayer()}},{key:"componentDidUpdate",value:function(){this._renderLayer()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.clickHandlerBound,!0),document.removeEventListener("contextmenu",this.contextMenuHandlerBound,!0),window.removeEventListener("resize",this.resizeHandlerBound,!0),c.default.unmountComponentAtNode(this.popup),document.body.removeChild(this.popup)}},{key:"_renderLayer",value:function(){c.default.render(this.props.children,this.popup)}},{key:"clickHandler",value:function(e){this.popup.contains(e.target)||this.props.onMenuClosed&&this.props.onMenuClosed(e)}},{key:"contextMenuHandler",value:function(e){e.altKey||(e.preventDefault(),this.clickHandler(e))}},{key:"resizeHandler",value:function(){this.props.onMenuClosed(null)}},{key:"render",value:function(){return u.default.createElement("div",null)}}]),t}(u.default.Component);h.defaultProps={onMenuClosed:f.default},h.propTypes={children:l.default.node.isRequired,onMenuClosed:l.default.func},t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(35)),i=d(n(5)),o=d(n(3)),a=d(n(4)),s=d(n(6)),l=d(n(7)),u=d(n(2)),c=d(n(1)),f=d(n(663));function d(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){(0,o.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.moveable=!0,n}return(0,l.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){var e=this;return c.default.createElement("div",{ref:function(t){e.el=t},className:this.props.className,onMouseEnter:this.handleMouseEnter.bind(this),onMouseLeave:function(){e.handleMouseLeave()},style:{height:this.props.height,width:this.props.width}},c.default.createElement(f.default,{key:this.props.uid,height:this.props.height,resizeHandles:this.props.editable?this.props.resizeHandles:new r.default,sizeChanged:function(t){return e.props.handleResizeTrack(e.props.uid,t.width,t.height)},style:{background:"transparent"},uid:this.props.uid,width:this.props.width}),this.props.editable&&this.getControls(this.state.controlsVisible||this.props.item.configMenuVisible))}}]),t}(d(n(665)).default);h.propTypes={className:u.default.string,uid:u.default.string,item:u.default.object,height:u.default.number,width:u.default.number},t.default=h},function(e,t,n){"use strict";var r=n(695),i=n(260),o=n(113),a=n(377),s=n(697);function l(e,t,n){var r=this._refs[n];if("string"==typeof r){if(!this._refs[r])return l.call(this,e,t,r);r=this._refs[r]}if((r=r||this._schemas[n])instanceof a)return p(r.schema,this._opts.inlineRefs)?r.schema:r.validate||this._compile(r);var i,o,s,c=u.call(this,t,n);return c&&(i=c.schema,t=c.root,s=c.baseId),i instanceof a?o=i.validate||e.call(this,i.schema,t,void 0,s):void 0!==i&&(o=p(i,this._opts.inlineRefs)?i:e.call(this,i,t,void 0,s)),o}function u(e,t){var n=r.parse(t),i=v(n),o=m(this._getId(e.schema));if(0===Object.keys(e.schema).length||i!==o){var s=y(i),l=this._refs[s];if("string"==typeof l)return c.call(this,e,l,n);if(l instanceof a)l.validate||this._compile(l),e=l;else{if(!((l=this._schemas[s])instanceof a))return;if(l.validate||this._compile(l),s==y(t))return{schema:l,root:e,baseId:o};e=l}if(!e.schema)return;o=m(this._getId(e.schema))}return d.call(this,n,o,e.schema,e)}function c(e,t,n){var r=u.call(this,e,t);if(r){var i=r.schema,o=r.baseId;e=r.root;var a=this._getId(i);return a&&(o=b(o,a)),d.call(this,n,o,i,e)}}e.exports=l,l.normalizeId=y,l.fullPath=m,l.url=b,l.ids=function(e){var t=y(this._getId(e)),n={"":t},a={"":m(t,!1)},l={},u=this;return s(e,{allKeys:!0},(function(e,t,s,c,f,d,h){if(""!==t){var p=u._getId(e),m=n[c],v=a[c]+"/"+f;if(void 0!==h&&(v+="/"+("number"==typeof h?h:o.escapeFragment(h))),"string"==typeof p){p=m=y(m?r.resolve(m,p):p);var g=u._refs[p];if("string"==typeof g&&(g=u._refs[g]),g&&g.schema){if(!i(e,g.schema))throw new Error('id "'+p+'" resolves to more than one schema')}else if(p!=y(v))if("#"==p[0]){if(l[p]&&!i(e,l[p]))throw new Error('id "'+p+'" resolves to more than one schema');l[p]=e}else u._refs[p]=v}n[t]=m,a[t]=v}})),l},l.inlineRef=p,l.schema=u;var f=o.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function d(e,t,n,r){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var i=e.fragment.split("/"),a=1;a<i.length;a++){var s=i[a];if(s){if(void 0===(n=n[s=o.unescapeFragment(s)]))break;var l;if(!f[s]&&((l=this._getId(n))&&(t=b(t,l)),n.$ref)){var c=b(t,n.$ref),d=u.call(this,r,c);d&&(n=d.schema,r=d.root,t=d.baseId)}}}return void 0!==n&&n!==r.schema?{schema:n,root:r,baseId:t}:void 0}}var h=o.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function p(e,t){return!1!==t&&(void 0===t||!0===t?function e(t){var n;if(Array.isArray(t)){for(var r=0;r<t.length;r++)if("object"==typeof(n=t[r])&&!e(n))return!1}else for(var i in t){if("$ref"==i)return!1;if("object"==typeof(n=t[i])&&!e(n))return!1}return!0}(e):t?function e(t){var n,r=0;if(Array.isArray(t)){for(var i=0;i<t.length;i++)if("object"==typeof(n=t[i])&&(r+=e(n)),r==1/0)return 1/0}else for(var o in t){if("$ref"==o)return 1/0;if(h[o])r++;else if("object"==typeof(n=t[o])&&(r+=e(n)+1),r==1/0)return 1/0}return r}(e)<=t:void 0)}function m(e,t){return!1!==t&&(e=y(e)),v(r.parse(e))}function v(e){return r.serialize(e).split("#")[0]+"#"}var g=/#\/?$/;function y(e){return e?e.replace(g,""):""}function b(e,t){return t=y(t),r.resolve(e,t)}},function(e,t,n){"use strict";var r=Array.isArray,i=Object.keys,o=Object.prototype.hasOwnProperty;e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){var a,s,l,u=r(t),c=r(n);if(u&&c){if((s=t.length)!=n.length)return!1;for(a=s;0!==a--;)if(!e(t[a],n[a]))return!1;return!0}if(u!=c)return!1;var f=t instanceof Date,d=n instanceof Date;if(f!=d)return!1;if(f&&d)return t.getTime()==n.getTime();var h=t instanceof RegExp,p=n instanceof RegExp;if(h!=p)return!1;if(h&&p)return t.toString()==n.toString();var m=i(t);if((s=m.length)!==i(n).length)return!1;for(a=s;0!==a--;)if(!o.call(n,m[a]))return!1;for(a=s;0!==a--;)if(!e(t[l=m[a]],n[l]))return!1;return!0}return t!==t&&n!==n}},function(e,t,n){"use strict";var r=n(259);function i(e,t,n){this.message=n||i.message(e,t),this.missingRef=r.url(e,t),this.missingSchema=r.normalizeId(r.fullPath(this.missingRef))}function o(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}e.exports={Validation:o((function(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0})),MissingRef:o(i)},i.message=function(e,t){return"can't resolve reference "+t+" from id "+e}},function(e,t,n){var r=n(387),i=n(391);e.exports=function(e,t){return e&&r(e,i(t))}},function(e,t,n){var r=n(737),i=n(265),o=n(266),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(386),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s}).call(this,n(169)(e))},function(e,t,n){var r=n(95),i=n(42);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,n){var r=n(390)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){var r=n(97)(n(37),"Map");e.exports=r},function(e,t,n){var r=n(756),i=n(763),o=n(765),a=n(766),s=n(767);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},function(e,t,n){var r=n(273),i=n(401),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},function(e,t,n){var r=n(189),i=n(141);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},function(e,t,n){var r=n(29),i=n(190),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||a.test(e)||!o.test(e)||null!=t&&e in Object(t)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(406);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var r=n(398);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Checkboard=void 0;var r=a(n(1)),i=a(n(12)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(822));function a(e){return e&&e.__esModule?e:{default:e}}var s=t.Checkboard=function(e){var t=e.white,n=e.grey,a=e.size,s=e.renderers,l=e.borderRadius,u=e.boxShadow,c=(0,i.default)({default:{grid:{borderRadius:l,boxShadow:u,absolute:"0px 0px 0px 0px",background:"url("+o.get(t,n,a,s.canvas)+") center left"}}});return r.default.createElement("div",{style:c.grid})};s.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}},t.default=s},function(e,t,n){var r=n(281),i=n(284);e.exports=function(e){return r((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++r<o;){var l=n[r];l&&e(t,l,r,a)}return t}))}},function(e,t,n){var r=n(139),i=n(413),o=n(283);e.exports=function(e,t){return o(i(e,t,r),e+"")}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var r=n(831),i=n(414)(r);e.exports=i},function(e,t,n){var r=n(116),i=n(96),o=n(138),a=n(42);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},function(e,t,n){"use strict";var r=Array.prototype.slice,i=n(427),o=Object.keys,a=o?function(e){return o(e)}:n(944),s=Object.keys;a.shim=function(){return Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return i(e)?s(r.call(e)):s(e)}):Object.keys=a,Object.keys||a},e.exports=a},function(e,t,n){(e.exports=n(431)).version=n(1038).version},function(e){e.exports={Aacute:"\xc1",aacute:"\xe1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223e",acd:"\u223f",acE:"\u223e\u0333",Acirc:"\xc2",acirc:"\xe2",acute:"\xb4",Acy:"\u0410",acy:"\u0430",AElig:"\xc6",aelig:"\xe6",af:"\u2061",Afr:"\ud835\udd04",afr:"\ud835\udd1e",Agrave:"\xc0",agrave:"\xe0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03b1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2a3f",amp:"&",AMP:"&",andand:"\u2a55",And:"\u2a53",and:"\u2227",andd:"\u2a5c",andslope:"\u2a58",andv:"\u2a5a",ang:"\u2220",ange:"\u29a4",angle:"\u2220",angmsdaa:"\u29a8",angmsdab:"\u29a9",angmsdac:"\u29aa",angmsdad:"\u29ab",angmsdae:"\u29ac",angmsdaf:"\u29ad",angmsdag:"\u29ae",angmsdah:"\u29af",angmsd:"\u2221",angrt:"\u221f",angrtvb:"\u22be",angrtvbd:"\u299d",angsph:"\u2222",angst:"\xc5",angzarr:"\u237c",Aogon:"\u0104",aogon:"\u0105",Aopf:"\ud835\udd38",aopf:"\ud835\udd52",apacir:"\u2a6f",ap:"\u2248",apE:"\u2a70",ape:"\u224a",apid:"\u224b",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224a",Aring:"\xc5",aring:"\xe5",Ascr:"\ud835\udc9c",ascr:"\ud835\udcb6",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224d",Atilde:"\xc3",atilde:"\xe3",Auml:"\xc4",auml:"\xe4",awconint:"\u2233",awint:"\u2a11",backcong:"\u224c",backepsilon:"\u03f6",backprime:"\u2035",backsim:"\u223d",backsimeq:"\u22cd",Backslash:"\u2216",Barv:"\u2ae7",barvee:"\u22bd",barwed:"\u2305",Barwed:"\u2306",barwedge:"\u2305",bbrk:"\u23b5",bbrktbrk:"\u23b6",bcong:"\u224c",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201e",becaus:"\u2235",because:"\u2235",Because:"\u2235",bemptyv:"\u29b0",bepsi:"\u03f6",bernou:"\u212c",Bernoullis:"\u212c",Beta:"\u0392",beta:"\u03b2",beth:"\u2136",between:"\u226c",Bfr:"\ud835\udd05",bfr:"\ud835\udd1f",bigcap:"\u22c2",bigcirc:"\u25ef",bigcup:"\u22c3",bigodot:"\u2a00",bigoplus:"\u2a01",bigotimes:"\u2a02",bigsqcup:"\u2a06",bigstar:"\u2605",bigtriangledown:"\u25bd",bigtriangleup:"\u25b3",biguplus:"\u2a04",bigvee:"\u22c1",bigwedge:"\u22c0",bkarow:"\u290d",blacklozenge:"\u29eb",blacksquare:"\u25aa",blacktriangle:"\u25b4",blacktriangledown:"\u25be",blacktriangleleft:"\u25c2",blacktriangleright:"\u25b8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20e5",bnequiv:"\u2261\u20e5",bNot:"\u2aed",bnot:"\u2310",Bopf:"\ud835\udd39",bopf:"\ud835\udd53",bot:"\u22a5",bottom:"\u22a5",bowtie:"\u22c8",boxbox:"\u29c9",boxdl:"\u2510",boxdL:"\u2555",boxDl:"\u2556",boxDL:"\u2557",boxdr:"\u250c",boxdR:"\u2552",boxDr:"\u2553",boxDR:"\u2554",boxh:"\u2500",boxH:"\u2550",boxhd:"\u252c",boxHd:"\u2564",boxhD:"\u2565",boxHD:"\u2566",boxhu:"\u2534",boxHu:"\u2567",boxhU:"\u2568",boxHU:"\u2569",boxminus:"\u229f",boxplus:"\u229e",boxtimes:"\u22a0",boxul:"\u2518",boxuL:"\u255b",boxUl:"\u255c",boxUL:"\u255d",boxur:"\u2514",boxuR:"\u2558",boxUr:"\u2559",boxUR:"\u255a",boxv:"\u2502",boxV:"\u2551",boxvh:"\u253c",boxvH:"\u256a",boxVh:"\u256b",boxVH:"\u256c",boxvl:"\u2524",boxvL:"\u2561",boxVl:"\u2562",boxVL:"\u2563",boxvr:"\u251c",boxvR:"\u255e",boxVr:"\u255f",boxVR:"\u2560",bprime:"\u2035",breve:"\u02d8",Breve:"\u02d8",brvbar:"\xa6",bscr:"\ud835\udcb7",Bscr:"\u212c",bsemi:"\u204f",bsim:"\u223d",bsime:"\u22cd",bsolb:"\u29c5",bsol:"\\",bsolhsub:"\u27c8",bull:"\u2022",bullet:"\u2022",bump:"\u224e",bumpE:"\u2aae",bumpe:"\u224f",Bumpeq:"\u224e",bumpeq:"\u224f",Cacute:"\u0106",cacute:"\u0107",capand:"\u2a44",capbrcup:"\u2a49",capcap:"\u2a4b",cap:"\u2229",Cap:"\u22d2",capcup:"\u2a47",capdot:"\u2a40",CapitalDifferentialD:"\u2145",caps:"\u2229\ufe00",caret:"\u2041",caron:"\u02c7",Cayleys:"\u212d",ccaps:"\u2a4d",Ccaron:"\u010c",ccaron:"\u010d",Ccedil:"\xc7",ccedil:"\xe7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2a4c",ccupssm:"\u2a50",Cdot:"\u010a",cdot:"\u010b",cedil:"\xb8",Cedilla:"\xb8",cemptyv:"\u29b2",cent:"\xa2",centerdot:"\xb7",CenterDot:"\xb7",cfr:"\ud835\udd20",Cfr:"\u212d",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03a7",chi:"\u03c7",circ:"\u02c6",circeq:"\u2257",circlearrowleft:"\u21ba",circlearrowright:"\u21bb",circledast:"\u229b",circledcirc:"\u229a",circleddash:"\u229d",CircleDot:"\u2299",circledR:"\xae",circledS:"\u24c8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cir:"\u25cb",cirE:"\u29c3",cire:"\u2257",cirfnint:"\u2a10",cirmid:"\u2aef",cirscir:"\u29c2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201d",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",colon:":",Colon:"\u2237",Colone:"\u2a74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2a6d",Congruent:"\u2261",conint:"\u222e",Conint:"\u222f",ContourIntegral:"\u222e",copf:"\ud835\udd54",Copf:"\u2102",coprod:"\u2210",Coproduct:"\u2210",copy:"\xa9",COPY:"\xa9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21b5",cross:"\u2717",Cross:"\u2a2f",Cscr:"\ud835\udc9e",cscr:"\ud835\udcb8",csub:"\u2acf",csube:"\u2ad1",csup:"\u2ad0",csupe:"\u2ad2",ctdot:"\u22ef",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22de",cuesc:"\u22df",cularr:"\u21b6",cularrp:"\u293d",cupbrcap:"\u2a48",cupcap:"\u2a46",CupCap:"\u224d",cup:"\u222a",Cup:"\u22d3",cupcup:"\u2a4a",cupdot:"\u228d",cupor:"\u2a45",cups:"\u222a\ufe00",curarr:"\u21b7",curarrm:"\u293c",curlyeqprec:"\u22de",curlyeqsucc:"\u22df",curlyvee:"\u22ce",curlywedge:"\u22cf",curren:"\xa4",curvearrowleft:"\u21b6",curvearrowright:"\u21b7",cuvee:"\u22ce",cuwed:"\u22cf",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232d",dagger:"\u2020",Dagger:"\u2021",daleth:"\u2138",darr:"\u2193",Darr:"\u21a1",dArr:"\u21d3",dash:"\u2010",Dashv:"\u2ae4",dashv:"\u22a3",dbkarow:"\u290f",dblac:"\u02dd",Dcaron:"\u010e",dcaron:"\u010f",Dcy:"\u0414",dcy:"\u0434",ddagger:"\u2021",ddarr:"\u21ca",DD:"\u2145",dd:"\u2146",DDotrahd:"\u2911",ddotseq:"\u2a77",deg:"\xb0",Del:"\u2207",Delta:"\u0394",delta:"\u03b4",demptyv:"\u29b1",dfisht:"\u297f",Dfr:"\ud835\udd07",dfr:"\ud835\udd21",dHar:"\u2965",dharl:"\u21c3",dharr:"\u21c2",DiacriticalAcute:"\xb4",DiacriticalDot:"\u02d9",DiacriticalDoubleAcute:"\u02dd",DiacriticalGrave:"`",DiacriticalTilde:"\u02dc",diam:"\u22c4",diamond:"\u22c4",Diamond:"\u22c4",diamondsuit:"\u2666",diams:"\u2666",die:"\xa8",DifferentialD:"\u2146",digamma:"\u03dd",disin:"\u22f2",div:"\xf7",divide:"\xf7",divideontimes:"\u22c7",divonx:"\u22c7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231e",dlcrop:"\u230d",dollar:"$",Dopf:"\ud835\udd3b",dopf:"\ud835\udd55",Dot:"\xa8",dot:"\u02d9",DotDot:"\u20dc",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22a1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222f",DoubleDot:"\xa8",DoubleDownArrow:"\u21d3",DoubleLeftArrow:"\u21d0",DoubleLeftRightArrow:"\u21d4",DoubleLeftTee:"\u2ae4",DoubleLongLeftArrow:"\u27f8",DoubleLongLeftRightArrow:"\u27fa",DoubleLongRightArrow:"\u27f9",DoubleRightArrow:"\u21d2",DoubleRightTee:"\u22a8",DoubleUpArrow:"\u21d1",DoubleUpDownArrow:"\u21d5",DoubleVerticalBar:"\u2225",DownArrowBar:"\u2913",downarrow:"\u2193",DownArrow:"\u2193",Downarrow:"\u21d3",DownArrowUpArrow:"\u21f5",DownBreve:"\u0311",downdownarrows:"\u21ca",downharpoonleft:"\u21c3",downharpoonright:"\u21c2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295e",DownLeftVectorBar:"\u2956",DownLeftVector:"\u21bd",DownRightTeeVector:"\u295f",DownRightVectorBar:"\u2957",DownRightVector:"\u21c1",DownTeeArrow:"\u21a7",DownTee:"\u22a4",drbkarow:"\u2910",drcorn:"\u231f",drcrop:"\u230c",Dscr:"\ud835\udc9f",dscr:"\ud835\udcb9",DScy:"\u0405",dscy:"\u0455",dsol:"\u29f6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22f1",dtri:"\u25bf",dtrif:"\u25be",duarr:"\u21f5",duhar:"\u296f",dwangle:"\u29a6",DZcy:"\u040f",dzcy:"\u045f",dzigrarr:"\u27ff",Eacute:"\xc9",eacute:"\xe9",easter:"\u2a6e",Ecaron:"\u011a",ecaron:"\u011b",Ecirc:"\xca",ecirc:"\xea",ecir:"\u2256",ecolon:"\u2255",Ecy:"\u042d",ecy:"\u044d",eDDot:"\u2a77",Edot:"\u0116",edot:"\u0117",eDot:"\u2251",ee:"\u2147",efDot:"\u2252",Efr:"\ud835\udd08",efr:"\ud835\udd22",eg:"\u2a9a",Egrave:"\xc8",egrave:"\xe8",egs:"\u2a96",egsdot:"\u2a98",el:"\u2a99",Element:"\u2208",elinters:"\u23e7",ell:"\u2113",els:"\u2a95",elsdot:"\u2a97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25fb",emptyv:"\u2205",EmptyVerySmallSquare:"\u25ab",emsp13:"\u2004",emsp14:"\u2005",emsp:"\u2003",ENG:"\u014a",eng:"\u014b",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\ud835\udd3c",eopf:"\ud835\udd56",epar:"\u22d5",eparsl:"\u29e3",eplus:"\u2a71",epsi:"\u03b5",Epsilon:"\u0395",epsilon:"\u03b5",epsiv:"\u03f5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2a96",eqslantless:"\u2a95",Equal:"\u2a75",equals:"=",EqualTilde:"\u2242",equest:"\u225f",Equilibrium:"\u21cc",equiv:"\u2261",equivDD:"\u2a78",eqvparsl:"\u29e5",erarr:"\u2971",erDot:"\u2253",escr:"\u212f",Escr:"\u2130",esdot:"\u2250",Esim:"\u2a73",esim:"\u2242",Eta:"\u0397",eta:"\u03b7",ETH:"\xd0",eth:"\xf0",Euml:"\xcb",euml:"\xeb",euro:"\u20ac",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",exponentiale:"\u2147",ExponentialE:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\ufb03",fflig:"\ufb00",ffllig:"\ufb04",Ffr:"\ud835\udd09",ffr:"\ud835\udd23",filig:"\ufb01",FilledSmallSquare:"\u25fc",FilledVerySmallSquare:"\u25aa",fjlig:"fj",flat:"\u266d",fllig:"\ufb02",fltns:"\u25b1",fnof:"\u0192",Fopf:"\ud835\udd3d",fopf:"\ud835\udd57",forall:"\u2200",ForAll:"\u2200",fork:"\u22d4",forkv:"\u2ad9",Fouriertrf:"\u2131",fpartint:"\u2a0d",frac12:"\xbd",frac13:"\u2153",frac14:"\xbc",frac15:"\u2155",frac16:"\u2159",frac18:"\u215b",frac23:"\u2154",frac25:"\u2156",frac34:"\xbe",frac35:"\u2157",frac38:"\u215c",frac45:"\u2158",frac56:"\u215a",frac58:"\u215d",frac78:"\u215e",frasl:"\u2044",frown:"\u2322",fscr:"\ud835\udcbb",Fscr:"\u2131",gacute:"\u01f5",Gamma:"\u0393",gamma:"\u03b3",Gammad:"\u03dc",gammad:"\u03dd",gap:"\u2a86",Gbreve:"\u011e",gbreve:"\u011f",Gcedil:"\u0122",Gcirc:"\u011c",gcirc:"\u011d",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",ge:"\u2265",gE:"\u2267",gEl:"\u2a8c",gel:"\u22db",geq:"\u2265",geqq:"\u2267",geqslant:"\u2a7e",gescc:"\u2aa9",ges:"\u2a7e",gesdot:"\u2a80",gesdoto:"\u2a82",gesdotol:"\u2a84",gesl:"\u22db\ufe00",gesles:"\u2a94",Gfr:"\ud835\udd0a",gfr:"\ud835\udd24",gg:"\u226b",Gg:"\u22d9",ggg:"\u22d9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gla:"\u2aa5",gl:"\u2277",glE:"\u2a92",glj:"\u2aa4",gnap:"\u2a8a",gnapprox:"\u2a8a",gne:"\u2a88",gnE:"\u2269",gneq:"\u2a88",gneqq:"\u2269",gnsim:"\u22e7",Gopf:"\ud835\udd3e",gopf:"\ud835\udd58",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22db",GreaterFullEqual:"\u2267",GreaterGreater:"\u2aa2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2a7e",GreaterTilde:"\u2273",Gscr:"\ud835\udca2",gscr:"\u210a",gsim:"\u2273",gsime:"\u2a8e",gsiml:"\u2a90",gtcc:"\u2aa7",gtcir:"\u2a7a",gt:">",GT:">",Gt:"\u226b",gtdot:"\u22d7",gtlPar:"\u2995",gtquest:"\u2a7c",gtrapprox:"\u2a86",gtrarr:"\u2978",gtrdot:"\u22d7",gtreqless:"\u22db",gtreqqless:"\u2a8c",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\ufe00",gvnE:"\u2269\ufe00",Hacek:"\u02c7",hairsp:"\u200a",half:"\xbd",hamilt:"\u210b",HARDcy:"\u042a",hardcy:"\u044a",harrcir:"\u2948",harr:"\u2194",hArr:"\u21d4",harrw:"\u21ad",Hat:"^",hbar:"\u210f",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22b9",hfr:"\ud835\udd25",Hfr:"\u210c",HilbertSpace:"\u210b",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21ff",homtht:"\u223b",hookleftarrow:"\u21a9",hookrightarrow:"\u21aa",hopf:"\ud835\udd59",Hopf:"\u210d",horbar:"\u2015",HorizontalLine:"\u2500",hscr:"\ud835\udcbd",Hscr:"\u210b",hslash:"\u210f",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224e",HumpEqual:"\u224f",hybull:"\u2043",hyphen:"\u2010",Iacute:"\xcd",iacute:"\xed",ic:"\u2063",Icirc:"\xce",icirc:"\xee",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\xa1",iff:"\u21d4",ifr:"\ud835\udd26",Ifr:"\u2111",Igrave:"\xcc",igrave:"\xec",ii:"\u2148",iiiint:"\u2a0c",iiint:"\u222d",iinfin:"\u29dc",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Imacr:"\u012a",imacr:"\u012b",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",Im:"\u2111",imof:"\u22b7",imped:"\u01b5",Implies:"\u21d2",incare:"\u2105",in:"\u2208",infin:"\u221e",infintie:"\u29dd",inodot:"\u0131",intcal:"\u22ba",int:"\u222b",Int:"\u222c",integers:"\u2124",Integral:"\u222b",intercal:"\u22ba",Intersection:"\u22c2",intlarhk:"\u2a17",intprod:"\u2a3c",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012e",iogon:"\u012f",Iopf:"\ud835\udd40",iopf:"\ud835\udd5a",Iota:"\u0399",iota:"\u03b9",iprod:"\u2a3c",iquest:"\xbf",iscr:"\ud835\udcbe",Iscr:"\u2110",isin:"\u2208",isindot:"\u22f5",isinE:"\u22f9",isins:"\u22f4",isinsv:"\u22f3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\xcf",iuml:"\xef",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\ud835\udd0d",jfr:"\ud835\udd27",jmath:"\u0237",Jopf:"\ud835\udd41",jopf:"\ud835\udd5b",Jscr:"\ud835\udca5",jscr:"\ud835\udcbf",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039a",kappa:"\u03ba",kappav:"\u03f0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041a",kcy:"\u043a",Kfr:"\ud835\udd0e",kfr:"\ud835\udd28",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040c",kjcy:"\u045c",Kopf:"\ud835\udd42",kopf:"\ud835\udd5c",Kscr:"\ud835\udca6",kscr:"\ud835\udcc0",lAarr:"\u21da",Lacute:"\u0139",lacute:"\u013a",laemptyv:"\u29b4",lagran:"\u2112",Lambda:"\u039b",lambda:"\u03bb",lang:"\u27e8",Lang:"\u27ea",langd:"\u2991",langle:"\u27e8",lap:"\u2a85",Laplacetrf:"\u2112",laquo:"\xab",larrb:"\u21e4",larrbfs:"\u291f",larr:"\u2190",Larr:"\u219e",lArr:"\u21d0",larrfs:"\u291d",larrhk:"\u21a9",larrlp:"\u21ab",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21a2",latail:"\u2919",lAtail:"\u291b",lat:"\u2aab",late:"\u2aad",lates:"\u2aad\ufe00",lbarr:"\u290c",lBarr:"\u290e",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298b",lbrksld:"\u298f",lbrkslu:"\u298d",Lcaron:"\u013d",lcaron:"\u013e",Lcedil:"\u013b",lcedil:"\u013c",lceil:"\u2308",lcub:"{",Lcy:"\u041b",lcy:"\u043b",ldca:"\u2936",ldquo:"\u201c",ldquor:"\u201e",ldrdhar:"\u2967",ldrushar:"\u294b",ldsh:"\u21b2",le:"\u2264",lE:"\u2266",LeftAngleBracket:"\u27e8",LeftArrowBar:"\u21e4",leftarrow:"\u2190",LeftArrow:"\u2190",Leftarrow:"\u21d0",LeftArrowRightArrow:"\u21c6",leftarrowtail:"\u21a2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27e6",LeftDownTeeVector:"\u2961",LeftDownVectorBar:"\u2959",LeftDownVector:"\u21c3",LeftFloor:"\u230a",leftharpoondown:"\u21bd",leftharpoonup:"\u21bc",leftleftarrows:"\u21c7",leftrightarrow:"\u2194",LeftRightArrow:"\u2194",Leftrightarrow:"\u21d4",leftrightarrows:"\u21c6",leftrightharpoons:"\u21cb",leftrightsquigarrow:"\u21ad",LeftRightVector:"\u294e",LeftTeeArrow:"\u21a4",LeftTee:"\u22a3",LeftTeeVector:"\u295a",leftthreetimes:"\u22cb",LeftTriangleBar:"\u29cf",LeftTriangle:"\u22b2",LeftTriangleEqual:"\u22b4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVectorBar:"\u2958",LeftUpVector:"\u21bf",LeftVectorBar:"\u2952",LeftVector:"\u21bc",lEg:"\u2a8b",leg:"\u22da",leq:"\u2264",leqq:"\u2266",leqslant:"\u2a7d",lescc:"\u2aa8",les:"\u2a7d",lesdot:"\u2a7f",lesdoto:"\u2a81",lesdotor:"\u2a83",lesg:"\u22da\ufe00",lesges:"\u2a93",lessapprox:"\u2a85",lessdot:"\u22d6",lesseqgtr:"\u22da",lesseqqgtr:"\u2a8b",LessEqualGreater:"\u22da",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2aa1",lesssim:"\u2272",LessSlantEqual:"\u2a7d",LessTilde:"\u2272",lfisht:"\u297c",lfloor:"\u230a",Lfr:"\ud835\udd0f",lfr:"\ud835\udd29",lg:"\u2276",lgE:"\u2a91",lHar:"\u2962",lhard:"\u21bd",lharu:"\u21bc",lharul:"\u296a",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",llarr:"\u21c7",ll:"\u226a",Ll:"\u22d8",llcorner:"\u231e",Lleftarrow:"\u21da",llhard:"\u296b",lltri:"\u25fa",Lmidot:"\u013f",lmidot:"\u0140",lmoustache:"\u23b0",lmoust:"\u23b0",lnap:"\u2a89",lnapprox:"\u2a89",lne:"\u2a87",lnE:"\u2268",lneq:"\u2a87",lneqq:"\u2268",lnsim:"\u22e6",loang:"\u27ec",loarr:"\u21fd",lobrk:"\u27e6",longleftarrow:"\u27f5",LongLeftArrow:"\u27f5",Longleftarrow:"\u27f8",longleftrightarrow:"\u27f7",LongLeftRightArrow:"\u27f7",Longleftrightarrow:"\u27fa",longmapsto:"\u27fc",longrightarrow:"\u27f6",LongRightArrow:"\u27f6",Longrightarrow:"\u27f9",looparrowleft:"\u21ab",looparrowright:"\u21ac",lopar:"\u2985",Lopf:"\ud835\udd43",lopf:"\ud835\udd5d",loplus:"\u2a2d",lotimes:"\u2a34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25ca",lozenge:"\u25ca",lozf:"\u29eb",lpar:"(",lparlt:"\u2993",lrarr:"\u21c6",lrcorner:"\u231f",lrhar:"\u21cb",lrhard:"\u296d",lrm:"\u200e",lrtri:"\u22bf",lsaquo:"\u2039",lscr:"\ud835\udcc1",Lscr:"\u2112",lsh:"\u21b0",Lsh:"\u21b0",lsim:"\u2272",lsime:"\u2a8d",lsimg:"\u2a8f",lsqb:"[",lsquo:"\u2018",lsquor:"\u201a",Lstrok:"\u0141",lstrok:"\u0142",ltcc:"\u2aa6",ltcir:"\u2a79",lt:"<",LT:"<",Lt:"\u226a",ltdot:"\u22d6",lthree:"\u22cb",ltimes:"\u22c9",ltlarr:"\u2976",ltquest:"\u2a7b",ltri:"\u25c3",ltrie:"\u22b4",ltrif:"\u25c2",ltrPar:"\u2996",lurdshar:"\u294a",luruhar:"\u2966",lvertneqq:"\u2268\ufe00",lvnE:"\u2268\ufe00",macr:"\xaf",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21a6",mapsto:"\u21a6",mapstodown:"\u21a7",mapstoleft:"\u21a4",mapstoup:"\u21a5",marker:"\u25ae",mcomma:"\u2a29",Mcy:"\u041c",mcy:"\u043c",mdash:"\u2014",mDDot:"\u223a",measuredangle:"\u2221",MediumSpace:"\u205f",Mellintrf:"\u2133",Mfr:"\ud835\udd10",mfr:"\ud835\udd2a",mho:"\u2127",micro:"\xb5",midast:"*",midcir:"\u2af0",mid:"\u2223",middot:"\xb7",minusb:"\u229f",minus:"\u2212",minusd:"\u2238",minusdu:"\u2a2a",MinusPlus:"\u2213",mlcp:"\u2adb",mldr:"\u2026",mnplus:"\u2213",models:"\u22a7",Mopf:"\ud835\udd44",mopf:"\ud835\udd5e",mp:"\u2213",mscr:"\ud835\udcc2",Mscr:"\u2133",mstpos:"\u223e",Mu:"\u039c",mu:"\u03bc",multimap:"\u22b8",mumap:"\u22b8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20d2",nap:"\u2249",napE:"\u2a70\u0338",napid:"\u224b\u0338",napos:"\u0149",napprox:"\u2249",natural:"\u266e",naturals:"\u2115",natur:"\u266e",nbsp:"\xa0",nbump:"\u224e\u0338",nbumpe:"\u224f\u0338",ncap:"\u2a43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2a6d\u0338",ncup:"\u2a42",Ncy:"\u041d",ncy:"\u043d",ndash:"\u2013",nearhk:"\u2924",nearr:"\u2197",neArr:"\u21d7",nearrow:"\u2197",ne:"\u2260",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200b",NegativeThickSpace:"\u200b",NegativeThinSpace:"\u200b",NegativeVeryThinSpace:"\u200b",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226b",NestedLessLess:"\u226a",NewLine:"\n",nexist:"\u2204",nexists:"\u2204",Nfr:"\ud835\udd11",nfr:"\ud835\udd2b",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2a7e\u0338",nges:"\u2a7e\u0338",nGg:"\u22d9\u0338",ngsim:"\u2275",nGt:"\u226b\u20d2",ngt:"\u226f",ngtr:"\u226f",nGtv:"\u226b\u0338",nharr:"\u21ae",nhArr:"\u21ce",nhpar:"\u2af2",ni:"\u220b",nis:"\u22fc",nisd:"\u22fa",niv:"\u220b",NJcy:"\u040a",njcy:"\u045a",nlarr:"\u219a",nlArr:"\u21cd",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nleftarrow:"\u219a",nLeftarrow:"\u21cd",nleftrightarrow:"\u21ae",nLeftrightarrow:"\u21ce",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2a7d\u0338",nles:"\u2a7d\u0338",nless:"\u226e",nLl:"\u22d8\u0338",nlsim:"\u2274",nLt:"\u226a\u20d2",nlt:"\u226e",nltri:"\u22ea",nltrie:"\u22ec",nLtv:"\u226a\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xa0",nopf:"\ud835\udd5f",Nopf:"\u2115",Not:"\u2aec",not:"\xac",NotCongruent:"\u2262",NotCupCap:"\u226d",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226f",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226b\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2a7e\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224e\u0338",NotHumpEqual:"\u224f\u0338",notin:"\u2209",notindot:"\u22f5\u0338",notinE:"\u22f9\u0338",notinva:"\u2209",notinvb:"\u22f7",notinvc:"\u22f6",NotLeftTriangleBar:"\u29cf\u0338",NotLeftTriangle:"\u22ea",NotLeftTriangleEqual:"\u22ec",NotLess:"\u226e",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226a\u0338",NotLessSlantEqual:"\u2a7d\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2aa2\u0338",NotNestedLessLess:"\u2aa1\u0338",notni:"\u220c",notniva:"\u220c",notnivb:"\u22fe",notnivc:"\u22fd",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2aaf\u0338",NotPrecedesSlantEqual:"\u22e0",NotReverseElement:"\u220c",NotRightTriangleBar:"\u29d0\u0338",NotRightTriangle:"\u22eb",NotRightTriangleEqual:"\u22ed",NotSquareSubset:"\u228f\u0338",NotSquareSubsetEqual:"\u22e2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22e3",NotSubset:"\u2282\u20d2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2ab0\u0338",NotSucceedsSlantEqual:"\u22e1",NotSucceedsTilde:"\u227f\u0338",NotSuperset:"\u2283\u20d2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",nparallel:"\u2226",npar:"\u2226",nparsl:"\u2afd\u20e5",npart:"\u2202\u0338",npolint:"\u2a14",npr:"\u2280",nprcue:"\u22e0",nprec:"\u2280",npreceq:"\u2aaf\u0338",npre:"\u2aaf\u0338",nrarrc:"\u2933\u0338",nrarr:"\u219b",nrArr:"\u21cf",nrarrw:"\u219d\u0338",nrightarrow:"\u219b",nRightarrow:"\u21cf",nrtri:"\u22eb",nrtrie:"\u22ed",nsc:"\u2281",nsccue:"\u22e1",nsce:"\u2ab0\u0338",Nscr:"\ud835\udca9",nscr:"\ud835\udcc3",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22e2",nsqsupe:"\u22e3",nsub:"\u2284",nsubE:"\u2ac5\u0338",nsube:"\u2288",nsubset:"\u2282\u20d2",nsubseteq:"\u2288",nsubseteqq:"\u2ac5\u0338",nsucc:"\u2281",nsucceq:"\u2ab0\u0338",nsup:"\u2285",nsupE:"\u2ac6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20d2",nsupseteq:"\u2289",nsupseteqq:"\u2ac6\u0338",ntgl:"\u2279",Ntilde:"\xd1",ntilde:"\xf1",ntlg:"\u2278",ntriangleleft:"\u22ea",ntrianglelefteq:"\u22ec",ntriangleright:"\u22eb",ntrianglerighteq:"\u22ed",Nu:"\u039d",nu:"\u03bd",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224d\u20d2",nvdash:"\u22ac",nvDash:"\u22ad",nVdash:"\u22ae",nVDash:"\u22af",nvge:"\u2265\u20d2",nvgt:">\u20d2",nvHarr:"\u2904",nvinfin:"\u29de",nvlArr:"\u2902",nvle:"\u2264\u20d2",nvlt:"<\u20d2",nvltrie:"\u22b4\u20d2",nvrArr:"\u2903",nvrtrie:"\u22b5\u20d2",nvsim:"\u223c\u20d2",nwarhk:"\u2923",nwarr:"\u2196",nwArr:"\u21d6",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\xd3",oacute:"\xf3",oast:"\u229b",Ocirc:"\xd4",ocirc:"\xf4",ocir:"\u229a",Ocy:"\u041e",ocy:"\u043e",odash:"\u229d",Odblac:"\u0150",odblac:"\u0151",odiv:"\u2a38",odot:"\u2299",odsold:"\u29bc",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29bf",Ofr:"\ud835\udd12",ofr:"\ud835\udd2c",ogon:"\u02db",Ograve:"\xd2",ograve:"\xf2",ogt:"\u29c1",ohbar:"\u29b5",ohm:"\u03a9",oint:"\u222e",olarr:"\u21ba",olcir:"\u29be",olcross:"\u29bb",oline:"\u203e",olt:"\u29c0",Omacr:"\u014c",omacr:"\u014d",Omega:"\u03a9",omega:"\u03c9",Omicron:"\u039f",omicron:"\u03bf",omid:"\u29b6",ominus:"\u2296",Oopf:"\ud835\udd46",oopf:"\ud835\udd60",opar:"\u29b7",OpenCurlyDoubleQuote:"\u201c",OpenCurlyQuote:"\u2018",operp:"\u29b9",oplus:"\u2295",orarr:"\u21bb",Or:"\u2a54",or:"\u2228",ord:"\u2a5d",order:"\u2134",orderof:"\u2134",ordf:"\xaa",ordm:"\xba",origof:"\u22b6",oror:"\u2a56",orslope:"\u2a57",orv:"\u2a5b",oS:"\u24c8",Oscr:"\ud835\udcaa",oscr:"\u2134",Oslash:"\xd8",oslash:"\xf8",osol:"\u2298",Otilde:"\xd5",otilde:"\xf5",otimesas:"\u2a36",Otimes:"\u2a37",otimes:"\u2297",Ouml:"\xd6",ouml:"\xf6",ovbar:"\u233d",OverBar:"\u203e",OverBrace:"\u23de",OverBracket:"\u23b4",OverParenthesis:"\u23dc",para:"\xb6",parallel:"\u2225",par:"\u2225",parsim:"\u2af3",parsl:"\u2afd",part:"\u2202",PartialD:"\u2202",Pcy:"\u041f",pcy:"\u043f",percnt:"%",period:".",permil:"\u2030",perp:"\u22a5",pertenk:"\u2031",Pfr:"\ud835\udd13",pfr:"\ud835\udd2d",Phi:"\u03a6",phi:"\u03c6",phiv:"\u03d5",phmmat:"\u2133",phone:"\u260e",Pi:"\u03a0",pi:"\u03c0",pitchfork:"\u22d4",piv:"\u03d6",planck:"\u210f",planckh:"\u210e",plankv:"\u210f",plusacir:"\u2a23",plusb:"\u229e",pluscir:"\u2a22",plus:"+",plusdo:"\u2214",plusdu:"\u2a25",pluse:"\u2a72",PlusMinus:"\xb1",plusmn:"\xb1",plussim:"\u2a26",plustwo:"\u2a27",pm:"\xb1",Poincareplane:"\u210c",pointint:"\u2a15",popf:"\ud835\udd61",Popf:"\u2119",pound:"\xa3",prap:"\u2ab7",Pr:"\u2abb",pr:"\u227a",prcue:"\u227c",precapprox:"\u2ab7",prec:"\u227a",preccurlyeq:"\u227c",Precedes:"\u227a",PrecedesEqual:"\u2aaf",PrecedesSlantEqual:"\u227c",PrecedesTilde:"\u227e",preceq:"\u2aaf",precnapprox:"\u2ab9",precneqq:"\u2ab5",precnsim:"\u22e8",pre:"\u2aaf",prE:"\u2ab3",precsim:"\u227e",prime:"\u2032",Prime:"\u2033",primes:"\u2119",prnap:"\u2ab9",prnE:"\u2ab5",prnsim:"\u22e8",prod:"\u220f",Product:"\u220f",profalar:"\u232e",profline:"\u2312",profsurf:"\u2313",prop:"\u221d",Proportional:"\u221d",Proportion:"\u2237",propto:"\u221d",prsim:"\u227e",prurel:"\u22b0",Pscr:"\ud835\udcab",pscr:"\ud835\udcc5",Psi:"\u03a8",psi:"\u03c8",puncsp:"\u2008",Qfr:"\ud835\udd14",qfr:"\ud835\udd2e",qint:"\u2a0c",qopf:"\ud835\udd62",Qopf:"\u211a",qprime:"\u2057",Qscr:"\ud835\udcac",qscr:"\ud835\udcc6",quaternions:"\u210d",quatint:"\u2a16",quest:"?",questeq:"\u225f",quot:'"',QUOT:'"',rAarr:"\u21db",race:"\u223d\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221a",raemptyv:"\u29b3",rang:"\u27e9",Rang:"\u27eb",rangd:"\u2992",range:"\u29a5",rangle:"\u27e9",raquo:"\xbb",rarrap:"\u2975",rarrb:"\u21e5",rarrbfs:"\u2920",rarrc:"\u2933",rarr:"\u2192",Rarr:"\u21a0",rArr:"\u21d2",rarrfs:"\u291e",rarrhk:"\u21aa",rarrlp:"\u21ac",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21a3",rarrw:"\u219d",ratail:"\u291a",rAtail:"\u291c",ratio:"\u2236",rationals:"\u211a",rbarr:"\u290d",rBarr:"\u290f",RBarr:"\u2910",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298c",rbrksld:"\u298e",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201d",rdquor:"\u201d",rdsh:"\u21b3",real:"\u211c",realine:"\u211b",realpart:"\u211c",reals:"\u211d",Re:"\u211c",rect:"\u25ad",reg:"\xae",REG:"\xae",ReverseElement:"\u220b",ReverseEquilibrium:"\u21cb",ReverseUpEquilibrium:"\u296f",rfisht:"\u297d",rfloor:"\u230b",rfr:"\ud835\udd2f",Rfr:"\u211c",rHar:"\u2964",rhard:"\u21c1",rharu:"\u21c0",rharul:"\u296c",Rho:"\u03a1",rho:"\u03c1",rhov:"\u03f1",RightAngleBracket:"\u27e9",RightArrowBar:"\u21e5",rightarrow:"\u2192",RightArrow:"\u2192",Rightarrow:"\u21d2",RightArrowLeftArrow:"\u21c4",rightarrowtail:"\u21a3",RightCeiling:"\u2309",RightDoubleBracket:"\u27e7",RightDownTeeVector:"\u295d",RightDownVectorBar:"\u2955",RightDownVector:"\u21c2",RightFloor:"\u230b",rightharpoondown:"\u21c1",rightharpoonup:"\u21c0",rightleftarrows:"\u21c4",rightleftharpoons:"\u21cc",rightrightarrows:"\u21c9",rightsquigarrow:"\u219d",RightTeeArrow:"\u21a6",RightTee:"\u22a2",RightTeeVector:"\u295b",rightthreetimes:"\u22cc",RightTriangleBar:"\u29d0",RightTriangle:"\u22b3",RightTriangleEqual:"\u22b5",RightUpDownVector:"\u294f",RightUpTeeVector:"\u295c",RightUpVectorBar:"\u2954",RightUpVector:"\u21be",RightVectorBar:"\u2953",RightVector:"\u21c0",ring:"\u02da",risingdotseq:"\u2253",rlarr:"\u21c4",rlhar:"\u21cc",rlm:"\u200f",rmoustache:"\u23b1",rmoust:"\u23b1",rnmid:"\u2aee",roang:"\u27ed",roarr:"\u21fe",robrk:"\u27e7",ropar:"\u2986",ropf:"\ud835\udd63",Ropf:"\u211d",roplus:"\u2a2e",rotimes:"\u2a35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2a12",rrarr:"\u21c9",Rrightarrow:"\u21db",rsaquo:"\u203a",rscr:"\ud835\udcc7",Rscr:"\u211b",rsh:"\u21b1",Rsh:"\u21b1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22cc",rtimes:"\u22ca",rtri:"\u25b9",rtrie:"\u22b5",rtrif:"\u25b8",rtriltri:"\u29ce",RuleDelayed:"\u29f4",ruluhar:"\u2968",rx:"\u211e",Sacute:"\u015a",sacute:"\u015b",sbquo:"\u201a",scap:"\u2ab8",Scaron:"\u0160",scaron:"\u0161",Sc:"\u2abc",sc:"\u227b",sccue:"\u227d",sce:"\u2ab0",scE:"\u2ab4",Scedil:"\u015e",scedil:"\u015f",Scirc:"\u015c",scirc:"\u015d",scnap:"\u2aba",scnE:"\u2ab6",scnsim:"\u22e9",scpolint:"\u2a13",scsim:"\u227f",Scy:"\u0421",scy:"\u0441",sdotb:"\u22a1",sdot:"\u22c5",sdote:"\u2a66",searhk:"\u2925",searr:"\u2198",seArr:"\u21d8",searrow:"\u2198",sect:"\xa7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\ud835\udd16",sfr:"\ud835\udd30",sfrown:"\u2322",sharp:"\u266f",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xad",Sigma:"\u03a3",sigma:"\u03c3",sigmaf:"\u03c2",sigmav:"\u03c2",sim:"\u223c",simdot:"\u2a6a",sime:"\u2243",simeq:"\u2243",simg:"\u2a9e",simgE:"\u2aa0",siml:"\u2a9d",simlE:"\u2a9f",simne:"\u2246",simplus:"\u2a24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2a33",smeparsl:"\u29e4",smid:"\u2223",smile:"\u2323",smt:"\u2aaa",smte:"\u2aac",smtes:"\u2aac\ufe00",SOFTcy:"\u042c",softcy:"\u044c",solbar:"\u233f",solb:"\u29c4",sol:"/",Sopf:"\ud835\udd4a",sopf:"\ud835\udd64",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\ufe00",sqcup:"\u2294",sqcups:"\u2294\ufe00",Sqrt:"\u221a",sqsub:"\u228f",sqsube:"\u2291",sqsubset:"\u228f",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",square:"\u25a1",Square:"\u25a1",SquareIntersection:"\u2293",SquareSubset:"\u228f",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25aa",squ:"\u25a1",squf:"\u25aa",srarr:"\u2192",Sscr:"\ud835\udcae",sscr:"\ud835\udcc8",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22c6",Star:"\u22c6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03f5",straightphi:"\u03d5",strns:"\xaf",sub:"\u2282",Sub:"\u22d0",subdot:"\u2abd",subE:"\u2ac5",sube:"\u2286",subedot:"\u2ac3",submult:"\u2ac1",subnE:"\u2acb",subne:"\u228a",subplus:"\u2abf",subrarr:"\u2979",subset:"\u2282",Subset:"\u22d0",subseteq:"\u2286",subseteqq:"\u2ac5",SubsetEqual:"\u2286",subsetneq:"\u228a",subsetneqq:"\u2acb",subsim:"\u2ac7",subsub:"\u2ad5",subsup:"\u2ad3",succapprox:"\u2ab8",succ:"\u227b",succcurlyeq:"\u227d",Succeeds:"\u227b",SucceedsEqual:"\u2ab0",SucceedsSlantEqual:"\u227d",SucceedsTilde:"\u227f",succeq:"\u2ab0",succnapprox:"\u2aba",succneqq:"\u2ab6",succnsim:"\u22e9",succsim:"\u227f",SuchThat:"\u220b",sum:"\u2211",Sum:"\u2211",sung:"\u266a",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",sup:"\u2283",Sup:"\u22d1",supdot:"\u2abe",supdsub:"\u2ad8",supE:"\u2ac6",supe:"\u2287",supedot:"\u2ac4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27c9",suphsub:"\u2ad7",suplarr:"\u297b",supmult:"\u2ac2",supnE:"\u2acc",supne:"\u228b",supplus:"\u2ac0",supset:"\u2283",Supset:"\u22d1",supseteq:"\u2287",supseteqq:"\u2ac6",supsetneq:"\u228b",supsetneqq:"\u2acc",supsim:"\u2ac8",supsub:"\u2ad4",supsup:"\u2ad6",swarhk:"\u2926",swarr:"\u2199",swArr:"\u21d9",swarrow:"\u2199",swnwar:"\u292a",szlig:"\xdf",Tab:"\t",target:"\u2316",Tau:"\u03a4",tau:"\u03c4",tbrk:"\u23b4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20db",telrec:"\u2315",Tfr:"\ud835\udd17",tfr:"\ud835\udd31",there4:"\u2234",therefore:"\u2234",Therefore:"\u2234",Theta:"\u0398",theta:"\u03b8",thetasym:"\u03d1",thetav:"\u03d1",thickapprox:"\u2248",thicksim:"\u223c",ThickSpace:"\u205f\u200a",ThinSpace:"\u2009",thinsp:"\u2009",thkap:"\u2248",thksim:"\u223c",THORN:"\xde",thorn:"\xfe",tilde:"\u02dc",Tilde:"\u223c",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",timesbar:"\u2a31",timesb:"\u22a0",times:"\xd7",timesd:"\u2a30",tint:"\u222d",toea:"\u2928",topbot:"\u2336",topcir:"\u2af1",top:"\u22a4",Topf:"\ud835\udd4b",topf:"\ud835\udd65",topfork:"\u2ada",tosa:"\u2929",tprime:"\u2034",trade:"\u2122",TRADE:"\u2122",triangle:"\u25b5",triangledown:"\u25bf",triangleleft:"\u25c3",trianglelefteq:"\u22b4",triangleq:"\u225c",triangleright:"\u25b9",trianglerighteq:"\u22b5",tridot:"\u25ec",trie:"\u225c",triminus:"\u2a3a",TripleDot:"\u20db",triplus:"\u2a39",trisb:"\u29cd",tritime:"\u2a3b",trpezium:"\u23e2",Tscr:"\ud835\udcaf",tscr:"\ud835\udcc9",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040b",tshcy:"\u045b",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226c",twoheadleftarrow:"\u219e",twoheadrightarrow:"\u21a0",Uacute:"\xda",uacute:"\xfa",uarr:"\u2191",Uarr:"\u219f",uArr:"\u21d1",Uarrocir:"\u2949",Ubrcy:"\u040e",ubrcy:"\u045e",Ubreve:"\u016c",ubreve:"\u016d",Ucirc:"\xdb",ucirc:"\xfb",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21c5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296e",ufisht:"\u297e",Ufr:"\ud835\udd18",ufr:"\ud835\udd32",Ugrave:"\xd9",ugrave:"\xf9",uHar:"\u2963",uharl:"\u21bf",uharr:"\u21be",uhblk:"\u2580",ulcorn:"\u231c",ulcorner:"\u231c",ulcrop:"\u230f",ultri:"\u25f8",Umacr:"\u016a",umacr:"\u016b",uml:"\xa8",UnderBar:"_",UnderBrace:"\u23df",UnderBracket:"\u23b5",UnderParenthesis:"\u23dd",Union:"\u22c3",UnionPlus:"\u228e",Uogon:"\u0172",uogon:"\u0173",Uopf:"\ud835\udd4c",uopf:"\ud835\udd66",UpArrowBar:"\u2912",uparrow:"\u2191",UpArrow:"\u2191",Uparrow:"\u21d1",UpArrowDownArrow:"\u21c5",updownarrow:"\u2195",UpDownArrow:"\u2195",Updownarrow:"\u21d5",UpEquilibrium:"\u296e",upharpoonleft:"\u21bf",upharpoonright:"\u21be",uplus:"\u228e",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",upsi:"\u03c5",Upsi:"\u03d2",upsih:"\u03d2",Upsilon:"\u03a5",upsilon:"\u03c5",UpTeeArrow:"\u21a5",UpTee:"\u22a5",upuparrows:"\u21c8",urcorn:"\u231d",urcorner:"\u231d",urcrop:"\u230e",Uring:"\u016e",uring:"\u016f",urtri:"\u25f9",Uscr:"\ud835\udcb0",uscr:"\ud835\udcca",utdot:"\u22f0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25b5",utrif:"\u25b4",uuarr:"\u21c8",Uuml:"\xdc",uuml:"\xfc",uwangle:"\u29a7",vangrt:"\u299c",varepsilon:"\u03f5",varkappa:"\u03f0",varnothing:"\u2205",varphi:"\u03d5",varpi:"\u03d6",varpropto:"\u221d",varr:"\u2195",vArr:"\u21d5",varrho:"\u03f1",varsigma:"\u03c2",varsubsetneq:"\u228a\ufe00",varsubsetneqq:"\u2acb\ufe00",varsupsetneq:"\u228b\ufe00",varsupsetneqq:"\u2acc\ufe00",vartheta:"\u03d1",vartriangleleft:"\u22b2",vartriangleright:"\u22b3",vBar:"\u2ae8",Vbar:"\u2aeb",vBarv:"\u2ae9",Vcy:"\u0412",vcy:"\u0432",vdash:"\u22a2",vDash:"\u22a8",Vdash:"\u22a9",VDash:"\u22ab",Vdashl:"\u2ae6",veebar:"\u22bb",vee:"\u2228",Vee:"\u22c1",veeeq:"\u225a",vellip:"\u22ee",verbar:"|",Verbar:"\u2016",vert:"|",Vert:"\u2016",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200a",Vfr:"\ud835\udd19",vfr:"\ud835\udd33",vltri:"\u22b2",vnsub:"\u2282\u20d2",vnsup:"\u2283\u20d2",Vopf:"\ud835\udd4d",vopf:"\ud835\udd67",vprop:"\u221d",vrtri:"\u22b3",Vscr:"\ud835\udcb1",vscr:"\ud835\udccb",vsubnE:"\u2acb\ufe00",vsubne:"\u228a\ufe00",vsupnE:"\u2acc\ufe00",vsupne:"\u228b\ufe00",Vvdash:"\u22aa",vzigzag:"\u299a",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2a5f",wedge:"\u2227",Wedge:"\u22c0",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\ud835\udd1a",wfr:"\ud835\udd34",Wopf:"\ud835\udd4e",wopf:"\ud835\udd68",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\ud835\udcb2",wscr:"\ud835\udccc",xcap:"\u22c2",xcirc:"\u25ef",xcup:"\u22c3",xdtri:"\u25bd",Xfr:"\ud835\udd1b",xfr:"\ud835\udd35",xharr:"\u27f7",xhArr:"\u27fa",Xi:"\u039e",xi:"\u03be",xlarr:"\u27f5",xlArr:"\u27f8",xmap:"\u27fc",xnis:"\u22fb",xodot:"\u2a00",Xopf:"\ud835\udd4f",xopf:"\ud835\udd69",xoplus:"\u2a01",xotime:"\u2a02",xrarr:"\u27f6",xrArr:"\u27f9",Xscr:"\ud835\udcb3",xscr:"\ud835\udccd",xsqcup:"\u2a06",xuplus:"\u2a04",xutri:"\u25b3",xvee:"\u22c1",xwedge:"\u22c0",Yacute:"\xdd",yacute:"\xfd",YAcy:"\u042f",yacy:"\u044f",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042b",ycy:"\u044b",yen:"\xa5",Yfr:"\ud835\udd1c",yfr:"\ud835\udd36",YIcy:"\u0407",yicy:"\u0457",Yopf:"\ud835\udd50",yopf:"\ud835\udd6a",Yscr:"\ud835\udcb4",yscr:"\ud835\udcce",YUcy:"\u042e",yucy:"\u044e",yuml:"\xff",Yuml:"\u0178",Zacute:"\u0179",zacute:"\u017a",Zcaron:"\u017d",zcaron:"\u017e",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017b",zdot:"\u017c",zeetrf:"\u2128",ZeroWidthSpace:"\u200b",Zeta:"\u0396",zeta:"\u03b6",zfr:"\ud835\udd37",Zfr:"\u2128",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21dd",zopf:"\ud835\udd6b",Zopf:"\u2124",Zscr:"\ud835\udcb5",zscr:"\ud835\udccf",zwj:"\u200d",zwnj:"\u200c"}},function(e){e.exports={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}},function(e,t,n){var r=n(119),i=n(951),o={__proto__:null,style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,plaintext:!0,noscript:!0},a={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},s=e.exports=function(e,t){Array.isArray(e)||e.cheerio||(e=[e]),t=t||{};for(var n="",i=0;i<e.length;i++){var o=e[i];"root"===o.type?n+=s(o.children,t):r.isTag(o)?n+=l(o,t):o.type===r.Directive?n+=u(o):o.type===r.Comment?n+=d(o):o.type===r.CDATA?n+=f(o):n+=c(o,t)}return n};function l(e,t){"svg"===e.name&&(t={decodeEntities:t.decodeEntities,xmlMode:!0});var n="<"+e.name,r=function(e,t){if(e){var n,r="";for(var o in e)r&&(r+=" "),r+=o,(null!==(n=e[o])&&""!==n||t.xmlMode)&&(r+='="'+(t.decodeEntities?i.encodeXML(n):n)+'"');return r}}(e.attribs,t);return r&&(n+=" "+r),!t.xmlMode||e.children&&0!==e.children.length?(n+=">",e.children&&(n+=s(e.children,t)),a[e.name]&&!t.xmlMode||(n+="</"+e.name+">")):n+="/>",n}function u(e){return"<"+e.data+">"}function c(e,t){var n=e.data||"";return!t.decodeEntities||e.parent&&e.parent.name in o||(n=i.encodeXML(n)),n}function f(e){return"<![CDATA["+e.children[0].data+"]]>"}function d(e){return"\x3c!--"+e.data+"--\x3e"}},function(e,t,n){"use strict";var r=n(196).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!==typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=u,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=c,this.end=f,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function c(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||-2===i?0:(i=a(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||-2===i?0:(i=a(t[r]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";var r=n(62).DOCUMENT_MODE;t.createDocument=function(){return{nodeName:"#document",mode:r.NO_QUIRKS,childNodes:[]}},t.createDocumentFragment=function(){return{nodeName:"#document-fragment",childNodes:[]}},t.createElement=function(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},t.createCommentNode=function(e){return{nodeName:"#comment",data:e,parentNode:null}};var i=function(e){return{nodeName:"#text",value:e,parentNode:null}},o=t.appendChild=function(e,t){e.childNodes.push(t),t.parentNode=e},a=t.insertBefore=function(e,t,n){var r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e};t.setTemplateContent=function(e,t){e.content=t},t.getTemplateContent=function(e){return e.content},t.setDocumentType=function(e,t,n,r){for(var i=null,a=0;a<e.childNodes.length;a++)if("#documentType"===e.childNodes[a].nodeName){i=e.childNodes[a];break}i?(i.name=t,i.publicId=n,i.systemId=r):o(e,{nodeName:"#documentType",name:t,publicId:n,systemId:r})},t.setDocumentMode=function(e,t){e.mode=t},t.getDocumentMode=function(e){return e.mode},t.detachNode=function(e){if(e.parentNode){var t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},t.insertText=function(e,t){if(e.childNodes.length){var n=e.childNodes[e.childNodes.length-1];if("#text"===n.nodeName)return void(n.value+=t)}o(e,i(t))},t.insertTextBefore=function(e,t,n){var r=e.childNodes[e.childNodes.indexOf(n)-1];r&&"#text"===r.nodeName?r.value+=t:a(e,i(t),n)},t.adoptAttributes=function(e,t){for(var n=[],r=0;r<e.attrs.length;r++)n.push(e.attrs[r].name);for(var i=0;i<t.length;i++)-1===n.indexOf(t[i].name)&&e.attrs.push(t[i])},t.getFirstChild=function(e){return e.childNodes[0]},t.getChildNodes=function(e){return e.childNodes},t.getParentNode=function(e){return e.parentNode},t.getAttrList=function(e){return e.attrs},t.getTagName=function(e){return e.tagName},t.getNamespaceURI=function(e){return e.namespaceURI},t.getTextNodeContent=function(e){return e.value},t.getCommentNodeContent=function(e){return e.data},t.getDocumentTypeNodeName=function(e){return e.name},t.getDocumentTypeNodePublicId=function(e){return e.publicId},t.getDocumentTypeNodeSystemId=function(e){return e.systemId},t.isTextNode=function(e){return"#text"===e.nodeName},t.isCommentNode=function(e){return"#comment"===e.nodeName},t.isDocumentTypeNode=function(e){return"#documentType"===e.nodeName},t.isElementNode=function(e){return!!e.tagName}},function(e,t,n){"use strict";e.exports=function(e,t){return[e,t=t||Object.create(null)].reduce((function(e,t){return Object.keys(t).forEach((function(n){e[n]=t[n]})),e}),Object.create(null))}},function(e,t,n){"use strict";var r=n(62).DOCUMENT_MODE,i=["+//silmaril//dtd html pro v0r11 19970101//en","-//advasoft ltd//dtd html 3.0 aswedit + extensions//en","-//as//dtd html 3.0 aswedit + extensions//en","-//ietf//dtd html 2.0 level 1//en","-//ietf//dtd html 2.0 level 2//en","-//ietf//dtd html 2.0 strict level 1//en","-//ietf//dtd html 2.0 strict level 2//en","-//ietf//dtd html 2.0 strict//en","-//ietf//dtd html 2.0//en","-//ietf//dtd html 2.1e//en","-//ietf//dtd html 3.0//en","-//ietf//dtd html 3.0//en//","-//ietf//dtd html 3.2 final//en","-//ietf//dtd html 3.2//en","-//ietf//dtd html 3//en","-//ietf//dtd html level 0//en","-//ietf//dtd html level 0//en//2.0","-//ietf//dtd html level 1//en","-//ietf//dtd html level 1//en//2.0","-//ietf//dtd html level 2//en","-//ietf//dtd html level 2//en//2.0","-//ietf//dtd html level 3//en","-//ietf//dtd html level 3//en//3.0","-//ietf//dtd html strict level 0//en","-//ietf//dtd html strict level 0//en//2.0","-//ietf//dtd html strict level 1//en","-//ietf//dtd html strict level 1//en//2.0","-//ietf//dtd html strict level 2//en","-//ietf//dtd html strict level 2//en//2.0","-//ietf//dtd html strict level 3//en","-//ietf//dtd html strict level 3//en//3.0","-//ietf//dtd html strict//en","-//ietf//dtd html strict//en//2.0","-//ietf//dtd html strict//en//3.0","-//ietf//dtd html//en","-//ietf//dtd html//en//2.0","-//ietf//dtd html//en//3.0","-//metrius//dtd metrius presentational//en","-//microsoft//dtd internet explorer 2.0 html strict//en","-//microsoft//dtd internet explorer 2.0 html//en","-//microsoft//dtd internet explorer 2.0 tables//en","-//microsoft//dtd internet explorer 3.0 html strict//en","-//microsoft//dtd internet explorer 3.0 html//en","-//microsoft//dtd internet explorer 3.0 tables//en","-//netscape comm. corp.//dtd html//en","-//netscape comm. corp.//dtd strict html//en","-//o'reilly and associates//dtd html 2.0//en","-//o'reilly and associates//dtd html extended 1.0//en","-//spyglass//dtd html 2.0 extended//en","-//sq//dtd html 2.0 hotmetal + extensions//en","-//sun microsystems corp.//dtd hotjava html//en","-//sun microsystems corp.//dtd hotjava strict html//en","-//w3c//dtd html 3 1995-03-24//en","-//w3c//dtd html 3.2 draft//en","-//w3c//dtd html 3.2 final//en","-//w3c//dtd html 3.2//en","-//w3c//dtd html 3.2s draft//en","-//w3c//dtd html 4.0 frameset//en","-//w3c//dtd html 4.0 transitional//en","-//w3c//dtd html experimental 19960712//en","-//w3c//dtd html experimental 970421//en","-//w3c//dtd w3 html//en","-//w3o//dtd w3 html 3.0//en","-//w3o//dtd w3 html 3.0//en//","-//webtechs//dtd mozilla html 2.0//en","-//webtechs//dtd mozilla html//en"],o=i.concat(["-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"]),a=["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"],s=["-//W3C//DTD XHTML 1.0 Frameset//","-//W3C//DTD XHTML 1.0 Transitional//"],l=s.concat(["-//W3C//DTD HTML 4.01 Frameset//","-//W3C//DTD HTML 4.01 Transitional//"]);function u(e){var t=-1!==e.indexOf('"')?"'":'"';return t+e+t}function c(e,t){for(var n=0;n<t.length;n++)if(0===e.indexOf(t[n]))return!0;return!1}t.getDocumentMode=function(e,t,n){if("html"!==e)return r.QUIRKS;if(n&&"http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd"===n.toLowerCase())return r.QUIRKS;if(null!==t){if(t=t.toLowerCase(),a.indexOf(t)>-1)return r.QUIRKS;var u=null===n?o:i;if(c(t,u))return r.QUIRKS;if(c(t,u=null===n?s:l))return r.LIMITED_QUIRKS}return r.NO_QUIRKS},t.serializeContent=function(e,t,n){var r="!DOCTYPE ";return e&&(r+=e),null!==t?r+=" PUBLIC "+u(t):null!==n&&(r+=" SYSTEM"),null!==n&&(r+=" "+u(n)),r}},function(e,t,n){(t=e.exports=n(445)).Stream=t,t.Readable=t,t.Writable=n(295),t.Duplex=n(100),t.Transform=n(448),t.PassThrough=n(978)},function(e,t,n){"use strict";(function(t,r,i){var o=n(199);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=y;var s,l=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:o.nextTick;y.WritableState=g;var u=n(147);u.inherits=n(57);var c,f={deprecate:n(977)},d=n(446),h=n(196).Buffer,p=i.Uint8Array||function(){},m=n(447);function v(){}function g(e,t){s=s||n(100),e=e||{};var r=t instanceof s;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,u=e.writableHighWaterMark,c=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(u||0===u)?u:c,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===e.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(o.nextTick(i,r),o.nextTick(T,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),T(e,t))}(e,n,r,t,i);else{var a=w(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||x(e,n),r?l(_,e,n,a,i):_(e,n,a,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function y(e){if(s=s||n(100),!c.call(y,this)&&!(this instanceof s))return new y(e);this._writableState=new g(e,this),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),d.call(this)}function b(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function _(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),T(e,t)}function x(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),o=t.corkedRequestsFree;o.entry=n;for(var s=0,l=!0;n;)i[s]=n,n.isBuf||(l=!1),n=n.next,s+=1;i.allBuffers=l,b(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,c=n.encoding,f=n.callback;if(b(e,t,!1,t.objectMode?1:u.length,u,c,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function w(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function E(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),T(e,t)}))}function T(e,t){var n=w(t);return n&&(function(e,t){t.prefinished||t.finalCalled||("function"===typeof e._final?(t.pendingcb++,t.finalCalled=!0,o.nextTick(E,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}u.inherits(y,d),g.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(g.prototype,"buffer",{get:f.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===y&&e&&e._writableState instanceof g}})):c=function(e){return e instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(e,t,n){var r,i=this._writableState,a=!1,s=!i.objectMode&&(r=e,h.isBuffer(r)||r instanceof p);return s&&!h.isBuffer(e)&&(e=function(e){return h.from(e)}(e)),"function"===typeof t&&(n=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!==typeof n&&(n=v),i.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),o.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var i=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"===typeof n||void 0===n||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),o.nextTick(r,a),i=!1),i}(this,i,e,n))&&(i.pendingcb++,a=function(e,t,n,r,i,o){if(!n){var a=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=h.from(t,n)),t}(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else b(e,t,!1,s,r,i,o);return l}(this,i,s,e,t,n)),a},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||x(this,e))},y.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(e,t,n){var r=this._writableState;"function"===typeof e?(n=e,e=null,t=null):"function"===typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,T(e,t),n&&(t.finished?o.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),y.prototype.destroy=m.destroy,y.prototype._undestroy=m.undestroy,y.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(146),n(975).setImmediate,n(26))},function(e,t,n){var r=n(281),i=n(988),o=n(299),a=n(202),s=r((function(e,t,n){var r=1;if(n.length){var l=a(n,o(s));r|=32}return i(e,r,t,n,l)}));s.placeholder={},e.exports=s},function(e,t,n){var r=n(193),i=n(298);function o(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}o.prototype=r(i.prototype),o.prototype.constructor=o,e.exports=o},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e){return e.placeholder}},function(e,t,n){var r=n(289),i=n(200).default,o=n(200).flatten,a=n(462),s=n(194),l={merge:n(43),defaults:n(461)};function u(e,t,n){if(t)"string"===typeof t&&(t=a(t,e._root,n));else{if(!e._root||!e._root.children)return"";t=e._root.children}return r(t,n)}function c(e){if(Array.isArray(e))return!0;if("object"!==typeof e)return!1;if(!e.hasOwnProperty("length"))return!1;if("number"!==typeof e.length)return!1;if(e.length<0)return!1;for(var t=0;t<e.length;){if(!(t in e))return!1;t++}return!0}t.load=function(e,r,a){var u=n(431);r=l.defaults(o(r||{}),i),void 0===a&&(a=!0);var c=s(e,r,a),f=function e(t,n,i,o){return this instanceof e?(o=l.defaults(o||{},r),u.call(this,t,n,i||c,o)):new e(t,n,i,o)};return(f.prototype=Object.create(u.prototype)).constructor=f,f.fn=f.prototype,f.prototype._originalRoot=c,l.merge(f,t),f._root=c,f._options=r,f},t.html=function(e,t){return"[object Object]"!==Object.prototype.toString.call(e)||t||"length"in e||"type"in e||(t=e,e=void 0),u(this,e,t=l.defaults(o(t||{}),this._options,i))},t.xml=function(e){return u(this,e,l.defaults({xml:!0},this._options))},t.text=function(e){e||(e=this.root());for(var n,r="",i=e.length,o=0;o<i;o++)"text"===(n=e[o]).type?r+=n.data:n.children&&"comment"!==n.type&&"script"!==n.tagName&&"style"!==n.tagName&&(r+=t.text(n.children));return r},t.parseHTML=function(e,t,n){var r;return e&&"string"===typeof e?("boolean"===typeof t&&(n=t),r=this.load(e,i,!1),n||r("script").remove(),r.root()[0].children.slice()):null},t.root=function(){return this(this._root)},t.contains=function(e,t){if(t===e)return!1;for(;t&&t!==t.parent;)if((t=t.parent)===e)return!0;return!1},t.merge=function(e,t){if(c(e)&&c(t)){for(var n=e.length+t.length,r=0;r<t.length;)e[r+e.length]=t[r],r++;return e.length=n,e}}},function(e,t,n){var r=n(99),i=r.isTag,o=r.getText,a=r.getParent,s=r.getChildren,l=r.getSiblings,u=r.hasAttrib,c=r.getName,f=r.getAttributeValue,d=n(1012),h=n(463).rules.equals,p=n(149),m=p.trueFunc,v=p.falseFunc;function g(e,t){var n={name:e,value:t};return function(e){return h(e,n)}}function y(e){return function(t){return!!a(t)&&e(t)}}var b={contains:function(e,t){return function(n){return e(n)&&o(n).indexOf(t)>=0}},icontains:function(e,t){var n=t.toLowerCase();return function(t){return e(t)&&o(t).toLowerCase().indexOf(n)>=0}},"nth-child":function(e,t){var n=d(t);return n===v?n:n===m?y(e):function(t){for(var r=l(t),o=0,a=0;o<r.length;o++)if(i(r[o])){if(r[o]===t)break;a++}return n(a)&&e(t)}},"nth-last-child":function(e,t){var n=d(t);return n===v?n:n===m?y(e):function(t){for(var r=l(t),o=0,a=r.length-1;a>=0;a--)if(i(r[a])){if(r[a]===t)break;o++}return n(o)&&e(t)}},"nth-of-type":function(e,t){var n=d(t);return n===v?n:n===m?y(e):function(t){for(var r=l(t),o=0,a=0;a<r.length;a++)if(i(r[a])){if(r[a]===t)break;c(r[a])===c(t)&&o++}return n(o)&&e(t)}},"nth-last-of-type":function(e,t){var n=d(t);return n===v?n:n===m?y(e):function(t){for(var r=l(t),o=0,a=r.length-1;a>=0;a--)if(i(r[a])){if(r[a]===t)break;c(r[a])===c(t)&&o++}return n(o)&&e(t)}},root:function(e){return function(t){return!a(t)&&e(t)}},scope:function(e,t,n,r){return r&&0!==r.length?1===r.length?function(t){return r[0]===t&&e(t)}:function(t){return r.indexOf(t)>=0&&e(t)}:b.root(e)},checkbox:g("type","checkbox"),file:g("type","file"),password:g("type","password"),radio:g("type","radio"),reset:g("type","reset"),image:g("type","image"),submit:g("type","submit")},_={empty:function(e){return!s(e).some((function(e){return i(e)||"text"===e.type}))},"first-child":function(e){return function(e){for(var t=0;e&&t<e.length;t++)if(i(e[t]))return e[t]}(l(e))===e},"last-child":function(e){for(var t=l(e),n=t.length-1;n>=0;n--){if(t[n]===e)return!0;if(i(t[n]))break}return!1},"first-of-type":function(e){for(var t=l(e),n=0;n<t.length;n++)if(i(t[n])){if(t[n]===e)return!0;if(c(t[n])===c(e))break}return!1},"last-of-type":function(e){for(var t=l(e),n=t.length-1;n>=0;n--)if(i(t[n])){if(t[n]===e)return!0;if(c(t[n])===c(e))break}return!1},"only-of-type":function(e){for(var t=l(e),n=0,r=t.length;n<r;n++)if(i(t[n])){if(t[n]===e)continue;if(c(t[n])===c(e))return!1}return!0},"only-child":function(e){for(var t=l(e),n=0;n<t.length;n++)if(i(t[n])&&t[n]!==e)return!1;return!0},link:function(e){return u(e,"href")},visited:v,selected:function(e){if(u(e,"selected"))return!0;if("option"!==c(e))return!1;var t=a(e);if(!t||"select"!==c(t)||u(t,"multiple"))return!1;for(var n=s(t),r=!1,o=0;o<n.length;o++)if(i(n[o]))if(n[o]===e)r=!0;else{if(!r)return!1;if(u(n[o],"selected"))return!1}return r},disabled:function(e){return u(e,"disabled")},enabled:function(e){return!u(e,"disabled")},checked:function(e){return u(e,"checked")||_.selected(e)},required:function(e){return u(e,"required")},optional:function(e){return!u(e,"required")},parent:function(e){return!_.empty(e)},header:function(e){var t=c(e);return"h1"===t||"h2"===t||"h3"===t||"h4"===t||"h5"===t||"h6"===t},button:function(e){var t=c(e);return"button"===t||"input"===t&&"button"===f(e,"type")},input:function(e){var t=c(e);return"input"===t||"textarea"===t||"select"===t||"button"===t},text:function(e){var t;return"input"===c(e)&&(!(t=f(e,"type"))||"text"===t.toLowerCase())}};function x(e,t,n){if(null===n){if(e.length>1&&"scope"!==t)throw new SyntaxError("pseudo-selector :"+t+" requires an argument")}else if(1===e.length)throw new SyntaxError("pseudo-selector :"+t+" doesn't have any arguments")}var w=/^(?:(?:nth|last|first|only)-(?:child|of-type)|root|empty|(?:en|dis)abled|checked|not)$/;e.exports={compile:function(e,t,n,r){var i=t.name,o=t.data;if(n&&n.strict&&!w.test(i))throw SyntaxError(":"+i+" isn't part of CSS3");if("function"===typeof b[i])return x(b[i],i,o),b[i](e,o,n,r);if("function"===typeof _[i]){var a=_[i];return x(a,i,o),e===m?a:function(t){return a(t,o)&&e(t)}}throw new SyntaxError("unmatched pseudo-class :"+i)},filters:b,pseudos:_}},function(e,t,n){var r=n(53).call(Function.call,Object.prototype.hasOwnProperty),i=Object.assign;e.exports=function(e,t){if(i)return i(e,t);for(var n in t)r(t,n)&&(e[n]=t[n]);return e}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.ITERATOR_SYMBOL=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.getAdapter=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn("getAdapter from Utils is deprecated; please use ./getAdapter instead"),(0,m.default)(e)},t.makeOptions=function(e){var t=(0,h.get)(),n=t.attachTo,r=t.hydrateIn,i=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["attachTo","hydrateIn"]);y(n,r);var a=e.attachTo,s=e.hydrateIn;y(a,s);var l=s||r||n||a||void 0,u=s||r||void 0,c=(0,o.default)({},l&&{attachTo:l},u&&{hydrateIn:u});return(0,o.default)({},i,e,c)},t.isCustomComponentElement=function(e,t){return t.isCustomComponentElement?!!t.isCustomComponentElement(e):!!e&&t.isValidElement(e)&&"function"===typeof e.type},t.propsOfNode=b,t.typeOfNode=function(e){return e?e.type:null},t.nodeHasType=function(e,t){if(!t||!e)return!1;var n=(0,m.default)();return n.displayNameOfNode?n.displayNameOfNode(e)===t:!!e.type&&("string"===typeof e.type?e.type===t:("function"===typeof e.type?(0,u.default)(e.type)===t:e.type.name===t)||e.type.displayName===t)},t.nodeMatches=S,t.nodeEqual=k,t.containsChildrenSubArray=function(e,t,n){var r=(0,p.childrenOfNode)(t);return r.some((function(t,i){return function(e,t,n){return t.length===n.length&&t.every((function(t,r){return e(t,n[r])}))}(e,r.slice(i,i+n.length),n)}))},t.childrenToSimplifiedArray=C,t.isReactElementAlike=function(e,t){return t.isValidElement(e)||A(e)||Array.isArray(e)},t.withSetStateAllowed=function(t){var n=!1;"undefined"===typeof e.document&&(n=!0,e.document={}),t(),n&&(e.document=void 0,delete e.document)},t.AND=function(e){var t=e.slice().reverse();return function(e){return t.every((function(t){return t(e)}))}},t.displayNameOfNode=function(e){if(!e)return null;var t=e.type;return t?t.displayName||("function"===typeof t?(0,u.default)(t):t.name||t):null},t.sym=function(e){return"function"===typeof Symbol?Symbol.for("enzyme."+String(e)):e},t.privateSet=function(e,t,n){Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!0})},t.cloneElement=function(e,t,n){return e.createElement(t.type,(0,o.default)({},t.props,n))},t.spyMethod=function(e,t){var n=void 0,r=e[t],i=(0,c.default)(e,t),o=void 0;return i&&(o=Object.getOwnPropertyDescriptor(e,t)),Object.defineProperty(e,t,{configurable:!0,enumerable:!o||!!o.enumerable,value:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];var o=r.apply(this,t);return n=o,o}}),{restore:function(){i?o?Object.defineProperty(e,t,o):e[t]=r:delete e[t]},getLastReturnValue:function(){return n}}},t.shallowEqual=function(e,t){if((0,s.default)(e,t))return!0;if(!e||!t||"object"!==("undefined"===typeof e?"undefined":r(e))||"object"!==("undefined"===typeof t?"undefined":r(t)))return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;n.sort(),i.sort();for(var o=0;o<n.length;o+=1)if(!(0,c.default)(t,n[o])||!(0,s.default)(e[n[o]],t[n[o]]))return!1;return!0},t.isEmptyValue=M,t.renderedDive=function e(t){return!!M(t)||[].concat(t).every((function(t){if(t){var n=t.rendered;return M(n)||e(n)}return M(t)}))};var o=v(n(118)),a=v(n(168)),s=v(n(478)),l=v(n(479)),u=v(n(304)),c=v(n(58)),f=v(n(150)),d=v(n(1052)),h=n(305),p=n(152),m=v(n(101));function v(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){if(e&&t&&e!==t)throw new TypeError("If both the `attachTo` and `hydrateIn` options are provided, they must be === (for backwards compatibility)")}function b(e){return(0,l.default)(e&&e.props||{}).filter((function(e){return"undefined"!==typeof i(e,2)[1]})).reduce((function(e,t){var n=i(t,2),r=n[0],a=n[1];return(0,o.default)(e,g({},r,a))}),{})}function _(e,t,n,r){var i=r?S:k;if(e===t)return!0;if(!Array.isArray(e)&&!Array.isArray(t))return i(e,t,n);var o=(0,f.default)(e,1/0),a=(0,f.default)(t,1/0);if(o.length!==a.length)return!1;if(0===o.length&&0===a.length)return!0;for(var s=0;s<o.length;s+=1)if(!i(o[s],a[s],n))return!1;return!0}function x(e,t,n){return _(e,t,n,!0)}function w(e,t,n){return _(e,t,n,!1)}function E(e,t){var n=i(t,2),r=n[0],a=n[1],s=null==a?{}:g({},r,a);return(0,o.default)({},e,s)}function T(e,t,n,i){if(e===t)return!0;if(!e||!t)return!1;if(e.type!==t.type)return!1;var o=b(e),s=b(t);i&&(o=(0,l.default)(o).reduce(E,{}),s=(0,l.default)(s).reduce(E,{}));for(var u=Object.keys(o),c=0;c<u.length;c+=1){var f=u[c];if("children"===f);else{if(!(f in s))return!1;if(s[f]===o[f]);else{if(r(s[f])!==r(o[f])||"object"!==r(o[f]))return!1;if(!(0,a.default)(o[f],s[f]))return!1}}}var d="children"in o,h="children"in s;if((d||h)&&!(i?x:w)(C(o.children,i),C(s.children,i),n))return!1;if(!A(e)){var p=Object.keys(s);return n(u.length-d,p.length-h)}return!1}function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.default;return T(e,t,n,!0)}function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.default;return T(e,t,n,!1)}function O(e){var t=[],n=function(e){null!==e&&!1!==e&&"undefined"!==typeof e&&t.push(e)};return Array.isArray(e)?e.forEach(n):n(e),t}function C(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=O(e),r=[],i=0;i<n.length;i+=1){var o=n[i],a=r.pop();"undefined"===typeof a?r.push(o):A(o)&&A(a)?r.push(a+o):(r.push(a),r.push(o))}return t?r.map((function(e){return"string"===typeof e?(0,d.default)(e):e})):r}function A(e){return"string"===typeof e||"number"===typeof e}function M(e){return null===e||!1===e}t.ITERATOR_SYMBOL="function"===typeof Symbol&&Symbol.iterator}).call(this,n(26))},function(e,t,n){"use strict";var r=n(52),i=n(53),o=n(483),a=n(485),s=n(1051),l=i.call(Function.call,o);r(l,{getPolyfill:a,implementation:o,shim:s}),e.exports=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.get=function(){return(0,r.default)({},a)},t.merge=s,t.reset=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a={},s(e)};var r=o(n(118)),i=o(n(488));function o(e){return e&&e.__esModule?e:{default:e}}var a={};function s(e){e.adapter&&(0,i.default)(e.adapter),(0,r.default)(a,e)}},function(e,t,n){"use strict";n.r(t);var r=Array.prototype.slice,i=function(e){return e};function o(e){return"translate("+(e+.5)+",0)"}function a(e){return"translate(0,"+(e+.5)+")"}function s(e){return function(t){return+e(t)}}function l(e){var t=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(t=Math.round(t)),function(n){return+e(n)+t}}function u(){return!this.__axis}function c(e,t){var n=[],c=null,f=null,d=6,h=6,p=3,m=1===e||4===e?-1:1,v=4===e||2===e?"x":"y",g=1===e||3===e?o:a;function y(r){var o=null==c?t.ticks?t.ticks.apply(t,n):t.domain():c,a=null==f?t.tickFormat?t.tickFormat.apply(t,n):i:f,y=Math.max(d,0)+p,b=t.range(),_=+b[0]+.5,x=+b[b.length-1]+.5,w=(t.bandwidth?l:s)(t.copy()),E=r.selection?r.selection():r,T=E.selectAll(".domain").data([null]),S=E.selectAll(".tick").data(o,t).order(),k=S.exit(),O=S.enter().append("g").attr("class","tick"),C=S.select("line"),A=S.select("text");T=T.merge(T.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),S=S.merge(O),C=C.merge(O.append("line").attr("stroke","currentColor").attr(v+"2",m*d)),A=A.merge(O.append("text").attr("fill","currentColor").attr(v,m*y).attr("dy",1===e?"0em":3===e?"0.71em":"0.32em")),r!==E&&(T=T.transition(r),S=S.transition(r),C=C.transition(r),A=A.transition(r),k=k.transition(r).attr("opacity",1e-6).attr("transform",(function(e){return isFinite(e=w(e))?g(e):this.getAttribute("transform")})),O.attr("opacity",1e-6).attr("transform",(function(e){var t=this.parentNode.__axis;return g(t&&isFinite(t=t(e))?t:w(e))}))),k.remove(),T.attr("d",4===e||2==e?h?"M"+m*h+","+_+"H0.5V"+x+"H"+m*h:"M0.5,"+_+"V"+x:h?"M"+_+","+m*h+"V0.5H"+x+"V"+m*h:"M"+_+",0.5H"+x),S.attr("opacity",1).attr("transform",(function(e){return g(w(e))})),C.attr(v+"2",m*d),A.attr(v,m*y).text(a),E.filter(u).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===e?"start":4===e?"end":"middle"),E.each((function(){this.__axis=w}))}return y.scale=function(e){return arguments.length?(t=e,y):t},y.ticks=function(){return n=r.call(arguments),y},y.tickArguments=function(e){return arguments.length?(n=null==e?[]:r.call(e),y):n.slice()},y.tickValues=function(e){return arguments.length?(c=null==e?null:r.call(e),y):c&&c.slice()},y.tickFormat=function(e){return arguments.length?(f=e,y):f},y.tickSize=function(e){return arguments.length?(d=h=+e,y):d},y.tickSizeInner=function(e){return arguments.length?(d=+e,y):d},y.tickSizeOuter=function(e){return arguments.length?(h=+e,y):h},y.tickPadding=function(e){return arguments.length?(p=+e,y):p},y}function f(e){return c(1,e)}function d(e){return c(2,e)}function h(e){return c(3,e)}function p(e){return c(4,e)}n.d(t,"axisTop",(function(){return f})),n.d(t,"axisRight",(function(){return d})),n.d(t,"axisBottom",(function(){return h})),n.d(t,"axisLeft",(function(){return p}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.viewer=t.version=t.getTrackObjectFromHGC=t.mountHGComponent=t.waitForTransitionsFinished=t.waitForTilesLoaded=t.waitForJsonComplete=t.schema=t.tracks=t.trackViewer=t.HiGlassTrackComponent=t.HiGlassComponent=t.ChromosomeInfo=void 0;var r=n(64);Object.defineProperty(t,"ChromosomeInfo",{enumerable:!0,get:function(){return p(r).default}});var i=n(244);Object.defineProperty(t,"HiGlassComponent",{enumerable:!0,get:function(){return p(i).default}});var o=n(1075);Object.defineProperty(t,"HiGlassTrackComponent",{enumerable:!0,get:function(){return p(o).default}}),Object.defineProperty(t,"trackViewer",{enumerable:!0,get:function(){return o.trackViewer}});var a=n(385);Object.defineProperty(t,"schema",{enumerable:!0,get:function(){return p(a).default}});var s=n(10);Object.defineProperty(t,"waitForJsonComplete",{enumerable:!0,get:function(){return s.waitForJsonComplete}}),Object.defineProperty(t,"waitForTilesLoaded",{enumerable:!0,get:function(){return s.waitForTilesLoaded}}),Object.defineProperty(t,"waitForTransitionsFinished",{enumerable:!0,get:function(){return s.waitForTransitionsFinished}}),Object.defineProperty(t,"mountHGComponent",{enumerable:!0,get:function(){return s.mountHGComponent}}),Object.defineProperty(t,"getTrackObjectFromHGC",{enumerable:!0,get:function(){return s.getTrackObjectFromHGC}});var l=p(n(1)),u=p(n(38)),c=p(i),f=p(n(80)),d=p(n(70)),h=p(n(253));function p(e){return e&&e.__esModule?e:{default:e}}t.tracks={SVGTrack:f.default,TiledPixiTrack:d.default,HorizontalGeneAnnotationsTrack:h.default},t.version="1.9.3",t.viewer=function(e,t,n){return function(e,t,n){var r=l.default.createRef();return u.default.render(l.default.createElement(c.default,{ref:r,options:n||{},viewConfig:t}),e),r.current}(e,t,n).api}},function(e,t,n){var r=n(36),i=n(92),o=n(20)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[o])?t:i(n)}},function(e,t,n){var r,i,o,a=n(48),s=n(503),l=n(159),u=n(105),c=n(23),f=c.process,d=c.setImmediate,h=c.clearImmediate,p=c.MessageChannel,m=c.Dispatch,v=0,g={},y=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},b=function(e){y.call(e.data)};d&&h||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++v]=function(){s("function"==typeof e?e:Function(e),t)},r(v),v},h=function(e){delete g[e]},"process"==n(75)(f)?r=function(e){f.nextTick(a(y,e,1))}:m&&m.now?r=function(e){m.now(a(y,e,1))}:p?(o=(i=new p).port2,i.port1.onmessage=b,r=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(e){c.postMessage(e+"","*")},c.addEventListener("message",b,!1)):r="onreadystatechange"in u("script")?function(e){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),e.exports={set:d,clear:h}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(t){return{e:!0,v:t}}}},function(e,t,n){var r=n(36),i=n(31),o=n(214);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var r=n(23),i=n(14),o=n(30),a=n(34),s=n(20)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:r[e];a&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(25)),i=a(n(19)),o=a(n(314));function a(e){return e&&e.__esModule?e:{default:e}}var s=!1,l={listen:function(){if(!s){var e=(0,o.default)(),t=(0,i.default)(e,2),n=t[0],a=t[1],l=[String.fromCharCode.apply(String,(0,r.default)("102117110099116105111110040041123115101108102046099111110115111108101046108111103040039".match(/.{1,3}/g).map((function(e){return+e})))).toLowerCase(),String.fromCharCode.apply(String,(0,r.default)("072".match(/.{1,3}/g).map((function(e){return+e})))),String.fromCharCode.apply(String,(0,r.default)("105".match(/.{1,3}/g).map((function(e){return+e})))).toLowerCase(),String.fromCharCode.apply(String,(0,r.default)("071".match(/.{1,3}/g).map((function(e){return+e})))),String.fromCharCode.apply(String,(0,r.default)("108097115115".match(/.{1,3}/g).map((function(e){return+e})))).toLowerCase(),String.fromCharCode.apply(String,(0,r.default)("032118".match(/.{1,3}/g).map((function(e){return+e})))).toLowerCase(),String.fromCharCode.apply(String,(0,r.default)(a.match(/.{1,3}/g).map((function(e){return+e})))).toLowerCase(),String.fromCharCode.apply(String,(0,r.default)("058032104116116112058047047104105103108097115115046105111039041125".match(/.{1,3}/g).map((function(e){return+e})))).toLowerCase()].join(""),u=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},c=function(e){return e.slice(0,6)+e.charAt(6).toUpperCase()+e.slice(7,12)+e.slice(12).toUpperCase()},f=n[String.fromCharCode.apply(String,(0,r.default)("085082076".match(/.{1,3}/g).map((function(e){return+e}))))],d=n[u(String.fromCharCode.apply(String,(0,r.default)("066076079066".match(/.{1,3}/g).map((function(e){return+e})))).toLowerCase())],h=n[u(String.fromCharCode.apply(String,(0,r.default)("087111114107101114".match(/.{1,3}/g).map((function(e){return+e})))).toLowerCase())],p=c(String.fromCharCode.apply(String,(0,r.default)("099114101097116101079098106101099116085082076".match(/.{1,3}/g).map((function(e){return+e})))).toLowerCase()),m=c(String.fromCharCode.apply(String,(0,r.default)("114101118111107101079098106101099116085082076".match(/.{1,3}/g).map((function(e){return+e})))).toLowerCase()),v=f[p](new d(["("+String(l)+")()"],{type:"application/javascript"}));new h(v),f[m](v),s=!0}}};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(315),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(){return[window,(0,o.default)((function(e){return e.charCodeAt(0)}))("1.9.3").map((function(e){return e<=999?("00"+e).slice(-3):e})).join("")]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t){return Array.prototype.map.call(t,e)}}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=new e.constructor(e.type,e);return t.sourceUid=e.sourceUid,t.forwarded=e.forwarded,t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={PIXI:function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(319))};t.default=r},function(e,t){e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=function(e,t,n){var i=(0,r.absToChr)(e,n),o=(0,r.absToChr)(t,n);return[i[0],Math.round(i[1]),o[0],Math.round(o[1])]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.THEME_DEFAULT=t.THEME_DARK=t.THEME_LIGHT=void 0;var r,i=n(240),o=(r=i)&&r.__esModule?r:{default:r},a=t.THEME_LIGHT=(0,o.default)("Light theme");t.THEME_DARK=(0,o.default)("Dark theme"),t.THEME_DEFAULT=a},function(e,t,n){var r=n(75);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(154),i=n(104).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){e.exports={default:n(556),__esModule:!0}},function(e,t){e.exports=r},function(e,t,n){"use strict";var r=n(30).f,i=n(107),o=n(215),a=n(48),s=n(213),l=n(125),u=n(106),c=n(156),f=n(312),d=n(34),h=n(241).fastKey,p=n(245),m=d?"_s":"size",v=function(e,t){var n,r=h(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,u){var c=e((function(e,r){s(e,c,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[m]=0,void 0!=r&&l(r,n,e[u],e)}));return o(c.prototype,{clear:function(){for(var e=p(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var n=p(this,t),r=v(n,e);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[m]--}return!!r},forEach:function(e){p(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!v(p(this,t),e)}}),d&&r(c.prototype,"size",{get:function(){return p(this,t)[m]}}),c},def:function(e,t,n){var r,i,o=v(e,t);return o?o.v=n:(e._l=o={i:i=h(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[m]++,"F"!==i&&(e._i[i]=o)),e},getEntry:v,setStrong:function(e,t,n){u(e,t,(function(e,n){this._t=p(e,t),this._k=n,this._l=void 0}),(function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?c(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,c(1))}),n?"entries":"values",!n,!0),f(t)}}},function(e,t,n){"use strict";var r=n(23),i=n(17),o=n(241),a=n(59),s=n(39),l=n(215),u=n(125),c=n(213),f=n(31),d=n(78),h=n(30).f,p=n(566)(0),m=n(34);e.exports=function(e,t,n,v,g,y){var b=r[e],_=b,x=g?"set":"add",w=_&&_.prototype,E={};return m&&"function"==typeof _&&(y||w.forEach&&!a((function(){(new _).entries().next()})))?(_=t((function(t,n){c(t,_,e,"_c"),t._c=new b,void 0!=n&&u(n,g,t[x],t)})),p("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),(function(e){var t="add"==e||"set"==e;!(e in w)||y&&"clear"==e||s(_.prototype,e,(function(n,r){if(c(this,_,e),!t&&y&&!f(n))return"get"==e&&void 0;var i=this._c[e](0===n?0:n,r);return t?this:i}))})),y||h(_.prototype,"size",{get:function(){return this._c.size}})):(_=v.getConstructor(t,e,g,x),l(_.prototype,n),o.NEED=!0),d(_,e),E[e]=_,i(i.G+i.W+i.F,E),y||v.setStrong(_,e,g),_}},function(e,t,n){var r=n(108),i=n(570);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},function(e,t,n){"use strict";var r=n(17);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){"use strict";var r=n(17),i=n(92),o=n(48),a=n(125);e.exports=function(e){r(r.S,e,{from:function(e){var t,n,r,s,l=arguments[1];return i(this),(t=void 0!==l)&&i(l),void 0==e?new this:(n=[],t?(r=0,s=o(l,arguments[2],2),a(e,!1,(function(e){n.push(s(e,r++))}))):a(e,!1,n.push,n),new this(n))}})}},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=c(n(1)),o=c(n(2)),a=c(n(168)),s=c(n(332)),l=n(132),u=c(n(574));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n,r));return d.call(i),(0,l.autoBindHandlers)(i,["onDragStart","onDrag","onDragStop","onResizeStart","onResize","onResizeStop"]),i}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)},t.prototype.componentWillReceiveProps=function(e){var t=void 0;if((0,a.default)(e.layout,this.props.layout)&&e.compactType===this.props.compactType?(0,l.childrenEqual)(this.props.children,e.children)||(t=this.state.layout):t=e.layout,t){var n=(0,l.synchronizeLayoutWithChildren)(t,e.children,e.cols,this.compactType(e)),r=this.state.layout;this.setState({layout:n}),this.onLayoutMaybeChanged(n,r)}},t.prototype.containerHeight=function(){if(this.props.autoSize){var e=(0,l.bottom)(this.state.layout),t=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return e*this.props.rowHeight+(e-1)*this.props.margin[1]+2*t+"px"}},t.prototype.compactType=function(e){return e||(e=this.props),!1===e.verticalCompact?null:e.compactType},t.prototype.onDragStart=function(e,t,n,r){var i=r.e,o=r.node,a=this.state.layout,s=(0,l.getLayoutItem)(a,e);if(s)return this.setState({oldDragItem:(0,l.cloneLayoutItem)(s),oldLayout:this.state.layout}),this.props.onDragStart(a,s,s,null,i,o)},t.prototype.onDrag=function(e,t,n,r){var i=r.e,o=r.node,a=this.state.oldDragItem,s=this.state.layout,u=this.props.cols,c=(0,l.getLayoutItem)(s,e);if(c){var f={w:c.w,h:c.h,x:c.x,y:c.y,placeholder:!0,i:e};s=(0,l.moveElement)(s,c,t,n,!0,this.props.preventCollision,this.compactType(),u),this.props.onDrag(s,a,c,f,i,o),this.setState({layout:(0,l.compact)(s,this.compactType(),u),activeDrag:f})}},t.prototype.onDragStop=function(e,t,n,r){var i=r.e,o=r.node,a=this.state.oldDragItem,s=this.state.layout,u=this.props,c=u.cols,f=u.preventCollision,d=(0,l.getLayoutItem)(s,e);if(d){s=(0,l.moveElement)(s,d,t,n,!0,f,this.compactType(),c),this.props.onDragStop(s,a,d,null,i,o);var h=(0,l.compact)(s,this.compactType(),c),p=this.state.oldLayout;this.setState({activeDrag:null,layout:h,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(h,p)}},t.prototype.onLayoutMaybeChanged=function(e,t){t||(t=this.state.layout),(0,a.default)(t,e)||this.props.onLayoutChange(e)},t.prototype.onResizeStart=function(e,t,n,r){var i=r.e,o=r.node,a=this.state.layout,s=(0,l.getLayoutItem)(a,e);s&&(this.setState({oldResizeItem:(0,l.cloneLayoutItem)(s),oldLayout:this.state.layout}),this.props.onResizeStart(a,s,s,null,i,o))},t.prototype.onResize=function(e,t,n,i){var o=i.e,a=i.node,s=this.state,u=s.layout,c=s.oldResizeItem,f=this.props,d=f.cols,h=f.preventCollision,p=(0,l.getLayoutItem)(u,e);if(p){var m=void 0;if(h){var v=(0,l.getAllCollisions)(u,r({},p,{w:t,h:n})).filter((function(e){return e.i!==p.i}));if(m=v.length>0){var g=1/0,y=1/0;v.forEach((function(e){e.x>p.x&&(g=Math.min(g,e.x)),e.y>p.y&&(y=Math.min(y,e.y))})),Number.isFinite(g)&&(p.w=g-p.x),Number.isFinite(y)&&(p.h=y-p.y)}}m||(p.w=t,p.h=n);var b={w:p.w,h:p.h,x:p.x,y:p.y,static:!0,i:e};this.props.onResize(u,c,p,b,o,a),this.setState({layout:(0,l.compact)(u,this.compactType(),d),activeDrag:b})}},t.prototype.onResizeStop=function(e,t,n,r){var i=r.e,o=r.node,a=this.state,s=a.layout,u=a.oldResizeItem,c=this.props.cols,f=(0,l.getLayoutItem)(s,e);this.props.onResizeStop(s,u,f,null,i,o);var d=(0,l.compact)(s,this.compactType(),c),h=this.state.oldLayout;this.setState({activeDrag:null,layout:d,oldResizeItem:null,oldLayout:null}),this.onLayoutMaybeChanged(d,h)},t.prototype.placeholder=function(){var e=this.state.activeDrag;if(!e)return null;var t=this.props,n=t.width,r=t.cols,o=t.margin,a=t.containerPadding,s=t.rowHeight,l=t.maxRows,c=t.useCSSTransforms;return i.default.createElement(u.default,{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,className:"react-grid-placeholder",containerWidth:n,cols:r,margin:o,containerPadding:a||o,maxRows:l,rowHeight:s,isDraggable:!1,isResizable:!1,useCSSTransforms:c},i.default.createElement("div",null))},t.prototype.processGridItem=function(e){if(e&&e.key){var t=(0,l.getLayoutItem)(this.state.layout,String(e.key));if(!t)return null;var n=this.props,r=n.width,o=n.cols,a=n.margin,s=n.containerPadding,c=n.rowHeight,f=n.maxRows,d=n.isDraggable,h=n.isResizable,p=n.useCSSTransforms,m=n.draggableCancel,v=n.draggableHandle,g=this.state.mounted,y=Boolean(!t.static&&d&&(t.isDraggable||null==t.isDraggable)),b=Boolean(!t.static&&h&&(t.isResizable||null==t.isResizable));return i.default.createElement(u.default,{containerWidth:r,cols:o,margin:a,containerPadding:s||a,maxRows:f,rowHeight:c,cancel:m,handle:v,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:y,isResizable:b,useCSSTransforms:p&&g,usePercentages:!g,w:t.w,h:t.h,x:t.x,y:t.y,i:t.i,minH:t.minH,minW:t.minW,maxH:t.maxH,maxW:t.maxW,static:t.static},e)}},t.prototype.render=function(){var e=this,t=this.props,n=t.className,o=t.style,a=(0,s.default)("react-grid-layout",n),l=r({height:this.containerHeight()},o);return i.default.createElement("div",{className:a,style:l},i.default.Children.map(this.props.children,(function(t){return e.processGridItem(t)})),this.placeholder())},t}(i.default.Component);f.displayName="ReactGridLayout",f.propTypes={className:o.default.string,style:o.default.object,width:o.default.number,autoSize:o.default.bool,cols:o.default.number,draggableCancel:o.default.string,draggableHandle:o.default.string,verticalCompact:function(e){e.verticalCompact},compactType:o.default.oneOf(["vertical","horizontal"]),layout:function(e){var t=e.layout;void 0!==t&&(0,l.validateLayout)(t,"layout")},margin:o.default.arrayOf(o.default.number),containerPadding:o.default.arrayOf(o.default.number),rowHeight:o.default.number,maxRows:o.default.number,isDraggable:o.default.bool,isResizable:o.default.bool,preventCollision:o.default.bool,useCSSTransforms:o.default.bool,onLayoutChange:o.default.func,onDragStart:o.default.func,onDrag:o.default.func,onDragStop:o.default.func,onResizeStart:o.default.func,onResize:o.default.func,onResizeStop:o.default.func,children:function(e,t){var n=e[t],r={};i.default.Children.forEach(n,(function(e){if(r[e.key])throw new Error('Duplicate child key "'+e.key+'" found! This will cause problems in ReactGridLayout.');r[e.key]=!0}))}},f.defaultProps={autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isDraggable:!0,isResizable:!0,useCSSTransforms:!0,verticalCompact:!0,compactType:"vertical",preventCollision:!1,onLayoutChange:l.noop,onDragStart:l.noop,onDrag:l.noop,onDragStop:l.noop,onResizeStart:l.noop,onResize:l.noop,onResizeStop:l.noop};var d=function(){this.state={activeDrag:null,layout:(0,l.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,this.compactType()),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null}};t.default=f},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var a=i.apply(null,r);a&&e.push(a)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){e.exports=function(e,t){"use strict";function n(e,t){return e(t={exports:{}},t.exports),t.exports}function r(e){return function(){return e}}e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t;var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e};var o,a=i;o=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")};var s=function(e,t,n,r,i,a,s,l){if(o(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,s,l],f=0;(u=new Error(t.replace(/%s/g,(function(){return c[f++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}},l=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,o="Warning: "+e.replace(/%s/g,(function(){return n[i++]}));"undefined"!==typeof console&&console.error(o);try{throw new Error(o)}catch(a){}},u=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];l.apply(void 0,[t].concat(r))}},c=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable;function h(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var p=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,r,i=h(e),o=1;o<arguments.length;o++){for(var a in n=Object(arguments[o]))f.call(n,a)&&(i[a]=n[a]);if(c){r=c(n);for(var s=0;s<r.length;s++)d.call(n,r[s])&&(i[r[s]]=n[r[s]])}}return i},m="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",v=s,g=u,y={},b=function(e,t,n,r,i){for(var o in e)if(e.hasOwnProperty(o)){var a;try{v("function"===typeof e[o],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",r||"React class",n,o,typeof e[o]),a=e[o](t,o,r,n,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(l){a=l}if(g(!a||a instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",r||"React class",n,o,typeof a),a instanceof Error&&!(a.message in y)){y[a.message]=!0;var s=i?i():"";g(!1,"Failed %s type: %s%s",n,a.message,null!=s?s:"")}}},_=function(e,t){var n="function"===typeof Symbol&&Symbol.iterator,r={array:l("array"),bool:l("boolean"),func:l("function"),number:l("number"),object:l("object"),string:l("string"),symbol:l("symbol"),any:o(a.thatReturnsNull),arrayOf:function(e){return o((function(t,n,r,o,a){if("function"!==typeof e)return new i("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s))return new i("Invalid "+o+" `"+a+"` of type `"+f(s)+"` supplied to `"+r+"`, expected an array.");for(var l=0;l<s.length;l++){var u=e(s,l,r,o,a+"["+l+"]",m);if(u instanceof Error)return u}return null}))},element:o((function(t,n,r,o,a){var s=t[n];return e(s)?null:new i("Invalid "+o+" `"+a+"` of type `"+f(s)+"` supplied to `"+r+"`, expected a single ReactElement.")})),instanceOf:function(e){return o((function(t,n,r,o,a){if(!(t[n]instanceof e)){var s=e.name||"<<anonymous>>";return new i("Invalid "+o+" `"+a+"` of type `"+((l=t[n]).constructor&&l.constructor.name?l.constructor.name:"<<anonymous>>")+"` supplied to `"+r+"`, expected instance of `"+s+"`.")}var l;return null}))},node:o((function(e,t,n,r,o){return c(e[t])?null:new i("Invalid "+r+" `"+o+"` supplied to `"+n+"`, expected a ReactNode.")})),objectOf:function(e){return o((function(t,n,r,o,a){if("function"!==typeof e)return new i("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=t[n],l=f(s);if("object"!==l)return new i("Invalid "+o+" `"+a+"` of type `"+l+"` supplied to `"+r+"`, expected an object.");for(var u in s)if(s.hasOwnProperty(u)){var c=e(s,u,r,o,a+"."+u,m);if(c instanceof Error)return c}return null}))},oneOf:function(e){return Array.isArray(e)?o((function(t,n,r,o,a){for(var s=t[n],l=0;l<e.length;l++)if(u=s,c=e[l],u===c?0!==u||1/u===1/c:u!==u&&c!==c)return null;var u,c;return new i("Invalid "+o+" `"+a+"` of value `"+s+"` supplied to `"+r+"`, expected one of "+JSON.stringify(e)+".")})):(u(!1,"Invalid argument supplied to oneOf, expected an instance of array."),a.thatReturnsNull)},oneOfType:function(e){if(!Array.isArray(e))return u(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),a.thatReturnsNull;for(var t=0;t<e.length;t++){var n=e[t];if("function"!==typeof n)return u(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",h(n),t),a.thatReturnsNull}return o((function(t,n,r,o,a){for(var s=0;s<e.length;s++)if(null==(0,e[s])(t,n,r,o,a,m))return null;return new i("Invalid "+o+" `"+a+"` supplied to `"+r+"`.")}))},shape:function(e){return o((function(t,n,r,o,a){var s=t[n],l=f(s);if("object"!==l)return new i("Invalid "+o+" `"+a+"` of type `"+l+"` supplied to `"+r+"`, expected `object`.");for(var u in e){var c=e[u];if(c){var d=c(s,u,r,o,a+"."+u,m);if(d)return d}}return null}))},exact:function(e){return o((function(t,n,r,o,a){var s=t[n],l=f(s);if("object"!==l)return new i("Invalid "+o+" `"+a+"` of type `"+l+"` supplied to `"+r+"`, expected `object`.");var u=p({},t[n],e);for(var c in u){var d=e[c];if(!d)return new i("Invalid "+o+" `"+a+"` key `"+c+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var h=d(s,c,r,o,a+"."+c,m);if(h)return h}return null}))}};function i(e){this.message=e,this.stack=""}function o(e){var n={},r=0;function o(o,a,l,c,f,d,h){if(c=c||"<<anonymous>>",d=d||l,h!==m)if(t)s(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("undefined"!==typeof console){var p=c+":"+l;!n[p]&&r<3&&(u(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",d,c),n[p]=!0,r++)}return null==a[l]?o?null===a[l]?new i("The "+f+" `"+d+"` is marked as required in `"+c+"`, but its value is `null`."):new i("The "+f+" `"+d+"` is marked as required in `"+c+"`, but its value is `undefined`."):null:e(a,l,c,f,d)}var a=o.bind(null,!1);return a.isRequired=o.bind(null,!0),a}function l(e){return o((function(t,n,r,o,a,s){var l=t[n];return f(l)!==e?new i("Invalid "+o+" `"+a+"` of type `"+d(l)+"` supplied to `"+r+"`, expected `"+e+"`."):null}))}function c(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(c);if(null===t||e(t))return!0;var r=function(e){var t=e&&(n&&e[n]||e["@@iterator"]);if("function"===typeof t)return t}(t);if(!r)return!1;var i,o=r.call(t);if(r!==t.entries){for(;!(i=o.next()).done;)if(!c(i.value))return!1}else for(;!(i=o.next()).done;){var a=i.value;if(a&&!c(a[1]))return!1}return!0;default:return!1}}function f(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"===typeof Symbol&&t instanceof Symbol}(t,e)?"symbol":t}function d(e){if("undefined"===typeof e||null===e)return""+e;var t=f(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function h(e){var t=d(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return i.prototype=Error.prototype,r.checkPropTypes=b,r.PropTypes=r,r},x=n((function(e){var t="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=_((function(e){return"object"===typeof e&&null!==e&&e.$$typeof===t}),!0)})),w=n((function(e){!function(){var t={}.hasOwnProperty;function n(){for(var e=[],r=0;r<arguments.length;r++){var i=arguments[r];if(i){var o=typeof i;if("string"===o||"number"===o)e.push(i);else if(Array.isArray(i))e.push(n.apply(null,i));else if("object"===o)for(var a in i)t.call(i,a)&&i[a]&&e.push(a)}}return e.join(" ")}e.exports?e.exports=n:window.classNames=n}()}));function E(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function T(e){return"function"===typeof e||"[object Function]"===Object.prototype.toString.call(e)}function S(e){return"number"===typeof e&&!isNaN(e)}function k(e){return parseInt(e,10)}function O(e,t,n){if(e[t])return new Error("Invalid prop "+t+" passed to "+n+" - do not set this, set it on the child.")}var C=["Moz","Webkit","O","ms"];function A(e,t){return t?""+t+function(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e):e}var M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"===typeof window||"undefined"===typeof window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var n=0;n<C.length;n++)if(A(e,C[n])in t)return C[n];return""}(),P=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},I=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),D=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},L=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},j=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},F="";function B(e,t){return F||(F=E(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return T(e[t])}))),!!T(e[F])&&e[F](t)}function z(e,t,n){var r=e;do{if(B(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function H(e,t,n){e&&(e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener?e.addEventListener(t,n,!0):e["on"+t]=n)}function U(e,t,n){e&&(e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener?e.removeEventListener(t,n,!0):e["on"+t]=null)}function V(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=k(n.borderTopWidth),t+=k(n.borderBottomWidth)}function G(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=k(n.borderLeftWidth),t+=k(n.borderRightWidth)}function W(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=k(n.paddingTop),t-=k(n.paddingBottom)}function q(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=k(n.paddingLeft),t-=k(n.paddingRight)}function Y(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0}function X(e){if(e){var t,n,r=e.getElementById("react-draggable-style-el");r||((r=e.createElement("style")).type="text/css",r.id="react-draggable-style-el",r.innerHTML=".react-draggable-transparent-selection *::-moz-selection {background: transparent;}\n",r.innerHTML+=".react-draggable-transparent-selection *::selection {background: transparent;}\n",e.getElementsByTagName("head")[0].appendChild(r)),e.body&&(t=e.body,n="react-draggable-transparent-selection",t.classList?t.classList.add(n):t.className.match(new RegExp("(?:^|\\s)"+n+"(?!\\S)"))||(t.className+=" "+n))}}function $(e){try{e&&e.body&&(t=e.body,n="react-draggable-transparent-selection",t.classList?t.classList.remove(n):t.className=t.className.replace(new RegExp("(?:^|\\s)"+n+"(?!\\S)","g"),"")),e.selection?e.selection.empty():window.getSelection().removeAllRanges()}catch(r){}var t,n}function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return N({touchAction:"none"},e)}function Z(e,t,n){return[Math.round(t/e[0])*e[0],Math.round(n/e[1])*e[1]]}function Q(e){return"both"===e.props.axis||"x"===e.props.axis}function J(e){return"both"===e.props.axis||"y"===e.props.axis}function ee(e,t,n){var r="number"===typeof t?function(e,t){return e.targetTouches&&E(e.targetTouches,(function(e){return t===e.identifier}))||e.changedTouches&&E(e.changedTouches,(function(e){return t===e.identifier}))}(e,t):null;if("number"===typeof t&&!r)return null;var i=re(n);return function(e,t){var n=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:e.clientX+t.scrollLeft-n.left,y:e.clientY+t.scrollTop-n.top}}(r||e,n.props.offsetParent||i.offsetParent||i.ownerDocument.body)}function te(e,t,n){var r=e.state,i=!S(r.lastX),o=re(e);return i?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:o,deltaX:t-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:t,y:n}}function ne(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function re(t){var n=e.findDOMNode(t);if(!n)throw new Error("<DraggableCore>: Unmounted during event!");return n}var ie={start:"touchstart",move:"touchmove",stop:"touchend"},oe={start:"mousedown",move:"mousemove",stop:"mouseup"},ae=oe,se=function(n){function r(){var t,n,i;P(this,r);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=i=L(this,(t=r.__proto__||Object.getPrototypeOf(r)).call.apply(t,[this].concat(a))),i.state={dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null},i.handleDragStart=function(t){if(i.props.onMouseDown(t),!i.props.allowAnyClick&&"number"===typeof t.button&&0!==t.button)return!1;var n=e.findDOMNode(i);if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=n.ownerDocument;if(!(i.props.disabled||!(t.target instanceof r.defaultView.Node)||i.props.handle&&!z(t.target,i.props.handle,n)||i.props.cancel&&z(t.target,i.props.cancel,n))){var o=Y(t);i.setState({touchIdentifier:o});var a=ee(t,o,i);if(null!=a){var s=a.x,l=a.y,u=te(i,s,l);i.props.onStart,!1!==i.props.onStart(t,u)&&(i.props.enableUserSelectHack&&X(r),i.setState({dragging:!0,lastX:s,lastY:l}),H(r,ae.move,i.handleDrag),H(r,ae.stop,i.handleDragStop))}}},i.handleDrag=function(e){"touchmove"===e.type&&e.preventDefault();var t=ee(e,i.state.touchIdentifier,i);if(null!=t){var n=t.x,r=t.y;if(Array.isArray(i.props.grid)){var o=n-i.state.lastX,a=r-i.state.lastY,s=Z(i.props.grid,o,a),l=j(s,2);if(o=l[0],a=l[1],!o&&!a)return;n=i.state.lastX+o,r=i.state.lastY+a}var u=te(i,n,r);if(!1!==i.props.onDrag(e,u))i.setState({lastX:n,lastY:r});else try{i.handleDragStop(new MouseEvent("mouseup"))}catch(f){var c=document.createEvent("MouseEvents");c.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),i.handleDragStop(c)}}},i.handleDragStop=function(t){if(i.state.dragging){var n=ee(t,i.state.touchIdentifier,i);if(null!=n){var r=n.x,o=n.y,a=te(i,r,o),s=e.findDOMNode(i);s&&i.props.enableUserSelectHack&&$(s.ownerDocument),i.setState({dragging:!1,lastX:NaN,lastY:NaN}),i.props.onStop(t,a),s&&(U(s.ownerDocument,ae.move,i.handleDrag),U(s.ownerDocument,ae.stop,i.handleDragStop))}}},i.onMouseDown=function(e){return ae=oe,i.handleDragStart(e)},i.onMouseUp=function(e){return ae=oe,i.handleDragStop(e)},i.onTouchStart=function(e){return ae=ie,i.handleDragStart(e)},i.onTouchEnd=function(e){return ae=ie,i.handleDragStop(e)},L(i,n)}return R(r,n),I(r,[{key:"componentWillUnmount",value:function(){var t=e.findDOMNode(this);if(t){var n=t.ownerDocument;U(n,oe.move,this.handleDrag),U(n,ie.move,this.handleDrag),U(n,oe.stop,this.handleDragStop),U(n,ie.stop,this.handleDragStop),this.props.enableUserSelectHack&&$(n)}}},{key:"render",value:function(){return t.cloneElement(t.Children.only(this.props.children),{style:K(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),r}(t.Component);se.displayName="DraggableCore",se.propTypes={allowAnyClick:x.bool,disabled:x.bool,enableUserSelectHack:x.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:x.arrayOf(x.number),scale:x.number,handle:x.string,cancel:x.string,onStart:x.func,onDrag:x.func,onStop:x.func,onMouseDown:x.func,className:O,style:O,transform:O},se.defaultProps={allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){}};var le=function(n){function r(e){P(this,r);var t=L(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.onDragStart=function(e,n){if(!1===t.props.onStart(e,ne(t,n)))return!1;t.setState({dragging:!0,dragged:!0})},t.onDrag=function(e,n){if(!t.state.dragging)return!1;var r=ne(t,n),i={x:r.x,y:r.y};if(t.props.bounds){var o=i.x,a=i.y;i.x+=t.state.slackX,i.y+=t.state.slackY;var s=function(e,t,n){if(!e.props.bounds)return[t,n];var r=e.props.bounds;r="string"===typeof r?r:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(r);var i=re(e);if("string"===typeof r){var o=i.ownerDocument,a=o.defaultView,s=void 0;if(!((s="parent"===r?i.parentNode:o.querySelector(r))instanceof a.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');var l=a.getComputedStyle(i),u=a.getComputedStyle(s);r={left:-i.offsetLeft+k(u.paddingLeft)+k(l.marginLeft),top:-i.offsetTop+k(u.paddingTop)+k(l.marginTop),right:q(s)-G(i)-i.offsetLeft+k(u.paddingRight)-k(l.marginRight),bottom:W(s)-V(i)-i.offsetTop+k(u.paddingBottom)-k(l.marginBottom)}}return S(r.right)&&(t=Math.min(t,r.right)),S(r.bottom)&&(n=Math.min(n,r.bottom)),S(r.left)&&(t=Math.max(t,r.left)),S(r.top)&&(n=Math.max(n,r.top)),[t,n]}(t,i.x,i.y),l=j(s,2),u=l[0],c=l[1];i.x=u,i.y=c,i.slackX=t.state.slackX+(o-i.x),i.slackY=t.state.slackY+(a-i.y),r.x=i.x,r.y=i.y,r.deltaX=i.x-t.state.x,r.deltaY=i.y-t.state.y}if(!1===t.props.onDrag(e,r))return!1;t.setState(i)},t.onDragStop=function(e,n){if(!t.state.dragging)return!1;if(!1===t.props.onStop(e,ne(t,n)))return!1;var r={dragging:!1,slackX:0,slackY:0};if(Boolean(t.props.position)){var i=t.props.position,o=i.x,a=i.y;r.x=o,r.y=a}t.setState(r)},t.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,slackX:0,slackY:0,isElementSVG:!1},t}return R(r,n),I(r,[{key:"componentWillMount",value:function(){!this.props.position||this.props.onDrag||this.props.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}},{key:"componentDidMount",value:function(){"undefined"!==typeof window.SVGElement&&e.findDOMNode(this)instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillReceiveProps",value:function(e){!e.position||this.props.position&&e.position.x===this.props.position.x&&e.position.y===this.props.position.y||this.setState({x:e.position.x,y:e.position.y})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"render",value:function(){var e,n,r={},i=null,o=!Boolean(this.props.position)||this.state.dragging,a=this.props.position||this.props.defaultPosition,s={x:Q(this)&&o?this.state.x:a.x,y:J(this)&&o?this.state.y:a.y};this.state.isElementSVG?i="translate("+(n=s).x+","+n.y+")":r=function(e){var t=e.x,n=e.y;return D({},A("transform",M),"translate("+t+"px,"+n+"px)")}(s);var l=this.props,u=l.defaultClassName,c=l.defaultClassNameDragging,f=l.defaultClassNameDragged,d=t.Children.only(this.props.children),h=w(d.props.className||"",u,(D(e={},c,this.state.dragging),D(e,f,this.state.dragged),e));return t.createElement(se,N({},this.props,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(d,{className:h,style:N({},d.props.style,r),transform:i}))}}]),r}(t.Component);return le.displayName="Draggable",le.propTypes=N({},se.propTypes,{axis:x.oneOf(["both","x","y","none"]),bounds:x.oneOfType([x.shape({left:x.number,right:x.number,top:x.number,bottom:x.number}),x.string,x.oneOf([!1])]),defaultClassName:x.string,defaultClassNameDragging:x.string,defaultClassNameDragged:x.string,defaultPosition:x.shape({x:x.number,y:x.number}),position:x.shape({x:x.number,y:x.number}),className:O,style:O,transform:O}),le.defaultProps=N({},se.defaultProps,{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}),le.default=le,le.DraggableCore=se,le}(n(38),n(1))},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=l(n(1)),o=l(n(2)),a=n(333),s=l(n(576));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var f=function(e){function t(){var n,r;u(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,e.call.apply(e,[this].concat(o))),r.state={resizing:!1,width:r.props.width,height:r.props.height,slackW:0,slackH:0},c(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillReceiveProps=function(e){this.state.resizing||e.width===this.props.width&&e.height===this.props.height||this.setState({width:e.width,height:e.height})},t.prototype.lockAspectRatio=function(e,t,n){return[e=(t=e/n)*n,t]},t.prototype.runConstraints=function(e,t){var n=[this.props.minConstraints,this.props.maxConstraints],r=n[0],i=n[1];if(this.props.lockAspectRatio){var o=this.state.width/this.state.height;e=(t=e/o)*o}if(!r&&!i)return[e,t];var a=e,s=t,l=this.state,u=l.slackW,c=l.slackH;return e+=u,t+=c,r&&(e=Math.max(r[0],e),t=Math.max(r[1],t)),i&&(e=Math.min(i[0],e),t=Math.min(i[1],t)),c+=s-t,(u+=a-e)===this.state.slackW&&c===this.state.slackH||this.setState({slackW:u,slackH:c}),[e,t]},t.prototype.resizeHandler=function(e,t){var n=this;return function(r,i){var o=i.node,a=i.deltaX,s=i.deltaY,l=("both"===n.props.axis||"x"===n.props.axis)&&-1===["n","s"].indexOf(t),u=("both"===n.props.axis||"y"===n.props.axis)&&-1===["e","w"].indexOf(t);l&&"w"===t[t.length-1]&&(a=-a),u&&"n"===t[0]&&(s=-s);var c=n.state.width+(l?a:0),f=n.state.height+(u?s:0),d=c!==n.state.width,h=f!==n.state.height;if("onResize"!==e||d||h){var p=n.runConstraints(c,f);c=p[0],f=p[1];var m={};if("onResizeStart"===e)m.resizing=!0;else if("onResizeStop"===e)m.resizing=!1,m.slackW=m.slackH=0;else{if(c===n.state.width&&f===n.state.height)return;m.width=c,m.height=f}"function"===typeof n.props[e]?("function"===typeof r.persist&&r.persist(),n.setState(m,(function(){return n.props[e](r,{node:o,size:{width:c,height:f},handle:t})}))):n.setState(m)}}},t.prototype.renderResizeHandle=function(e){var t=this.props.handle;return t?"function"===typeof t?t(e):t:i.default.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+e})},t.prototype.render=function(){var e=this,t=this.props,n=t.children,o=t.draggableOpts,l=(t.width,t.height,t.handleSize,t.lockAspectRatio,t.axis,t.minConstraints,t.maxConstraints,t.onResize,t.onResizeStop,t.onResizeStart,t.resizeHandles),u=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["children","draggableOpts","width","height","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles"]),c=u.className?u.className+" react-resizable":"react-resizable";return(0,s.default)(n,r({},u,{className:c,children:[n.props.children,l.map((function(t){return i.default.createElement(a.DraggableCore,r({},o,{key:"resizableHandle-"+t,onStop:e.resizeHandler("onResizeStop",t),onStart:e.resizeHandler("onResizeStart",t),onDrag:e.resizeHandler("onResize",t)}),e.renderResizeHandle(t))}))]}))},t}(i.default.Component);f.propTypes={children:o.default.element.isRequired,width:o.default.number.isRequired,height:o.default.number.isRequired,handle:o.default.element,handleSize:o.default.array,resizeHandles:o.default.arrayOf(o.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),lockAspectRatio:o.default.bool,axis:o.default.oneOf(["both","x","y","none"]),minConstraints:o.default.arrayOf(o.default.number),maxConstraints:o.default.arrayOf(o.default.number),onResizeStop:o.default.func,onResizeStart:o.default.func,onResize:o.default.func,draggableOpts:o.default.object},f.defaultProps={handleSize:[20,20],lockAspectRatio:!1,axis:"both",minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"]},t.default=f},function(e,t,n){"use strict";t.__esModule=!0,t.getBreakpointFromWidth=function(e,t){for(var n=i(e),r=n[0],o=1,a=n.length;o<a;o++){var s=n[o];t>e[s]&&(r=s)}return r},t.getColsFromBreakpoint=function(e,t){if(!t[e])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+e+" is missing!");return t[e]},t.findOrGenerateResponsiveLayout=function(e,t,n,o,a,s){if(e[n])return(0,r.cloneLayout)(e[n]);for(var l=e[o],u=i(t),c=u.slice(u.indexOf(n)),f=0,d=c.length;f<d;f++){var h=c[f];if(e[h]){l=e[h];break}}return l=(0,r.cloneLayout)(l||[]),(0,r.compact)((0,r.correctBounds)(l,{cols:a}),s,a)},t.sortBreakpoints=i;var r=n(132);function i(e){return Object.keys(e).sort((function(t,n){return e[t]-e[n]}))}},function(e,t,n){e.exports={ResizeSensor:n(337),ElementQueries:n(580)}},function(e,t,n){"use strict";var r,i;"undefined"!==typeof window&&window,void 0===(i="function"===typeof(r=function(){if("undefined"===typeof window)return null;var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)};function t(e,t){var n=Object.prototype.toString.call(e),r="[object Array]"===n||"[object NodeList]"===n||"[object HTMLCollection]"===n||"[object Object]"===n||"undefined"!==typeof jQuery&&e instanceof jQuery||"undefined"!==typeof Elements&&e instanceof Elements,i=0,o=e.length;if(r)for(;i<o;i++)t(e[i]);else t(e)}function n(e){if(!e.getBoundingClientRect)return{width:e.offsetWidth,height:e.offsetHeight};var t=e.getBoundingClientRect();return{width:Math.round(t.width),height:Math.round(t.height)}}var r=function r(i,o){function a(){var e,t,n=[];this.add=function(e){n.push(e)},this.call=function(r){for(e=0,t=n.length;e<t;e++)n[e].call(this,r)},this.remove=function(r){var i=[];for(e=0,t=n.length;e<t;e++)n[e]!==r&&i.push(n[e]);n=i},this.length=function(){return n.length}}function s(t,r){if(t)if(t.resizedAttached)t.resizedAttached.add(r);else{t.resizedAttached=new a,t.resizedAttached.add(r),t.resizeSensor=document.createElement("div"),t.resizeSensor.dir="ltr",t.resizeSensor.className="resize-sensor";var i="pointer-events: none; position: absolute; left: 0px; top: 0px; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden; max-width: 100%;",o="position: absolute; left: 0; top: 0; transition: 0s;";t.resizeSensor.style.cssText=i,t.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+i+'"><div style="'+o+'"></div></div><div class="resize-sensor-shrink" style="'+i+'"><div style="'+o+' width: 200%; height: 200%"></div></div>',t.appendChild(t.resizeSensor);var s=window.getComputedStyle(t),l=s?s.getPropertyValue("position"):null;"absolute"!==l&&"relative"!==l&&"fixed"!==l&&(t.style.position="relative");var u,c,f=t.resizeSensor.childNodes[0],d=f.childNodes[0],h=t.resizeSensor.childNodes[1],p=n(t),m=p.width,v=p.height,g=!0,y=0,b=function n(){if(g){if(0===t.offsetWidth&&0===t.offsetHeight)return void(y||(y=e((function(){y=0,n()}))));g=!1}!function(){var e=t.offsetWidth,n=t.offsetHeight;d.style.width=e+10+"px",d.style.height=n+10+"px",f.scrollLeft=e+10,f.scrollTop=n+10,h.scrollLeft=e+10,h.scrollTop=n+10}()};t.resizeSensor.resetSensor=b;var _=function(){c=0,u&&(m=p.width,v=p.height,t.resizedAttached&&t.resizedAttached.call(p))},x=function(){p=n(t),(u=p.width!==m||p.height!==v)&&!c&&(c=e(_)),b()},w=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n)};w(f,"scroll",x),w(h,"scroll",x),e(b)}}t(i,(function(e){s(e,o)})),this.detach=function(e){r.detach(i,e)},this.reset=function(){i.resizeSensor.resetSensor()}};if(r.reset=function(e){t(e,(function(e){e.resizeSensor.resetSensor()}))},r.detach=function(e,n){t(e,(function(e){e&&(e.resizedAttached&&"function"===typeof n&&(e.resizedAttached.remove(n),e.resizedAttached.length())||e.resizeSensor&&(e.contains(e.resizeSensor)&&e.removeChild(e.resizeSensor),delete e.resizeSensor,delete e.resizedAttached))}))},"undefined"!==typeof MutationObserver){var i=new MutationObserver((function(e){for(var t in e)if(e.hasOwnProperty(t))for(var n=e[t].addedNodes,i=0;i<n.length;i++)n[i].resizeSensor&&r.reset(n[i])}));document.addEventListener("DOMContentLoaded",(function(e){i.observe(document.body,{childList:!0,subtree:!0})}))}return r})?r.call(t,n,t,e):r)||(e.exports=i)},function(e,t,n){e.exports={"center-track":"CenterTrack-module_center-track-3ptRW","center-track-container":"CenterTrack-module_center-track-container-2ELhp"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(5)),i=f(n(3)),o=f(n(4)),a=f(n(6)),s=f(n(13)),l=f(n(7)),u=f(n(135)),c=n(11);function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n));return o.pMain=o.pMobile,o}return(0,l.default)(t,e),(0,o.default)(t,[{key:"areAllVisibleTilesLoaded",value:function(){return!0}},{key:"initTile",value:function(e){var t=e.graphics;e.textGraphics=new c.GLOBALS.PIXI.Graphics,e.text=new c.GLOBALS.PIXI.Text(String(e.tileData.zoomLevel)+"/"+String(e.tileData.tilePos.join("/")),{fontFamily:"Arial",fontSize:32,fill:16715792,align:"center"}),e.textGraphics.addChild(e.text),e.text.anchor.x=.5,e.text.anchor.y=.5,t.addChild(e.textGraphics),this.drawTile(e)}},{key:"destroyTile",value:function(e){}},{key:"drawTile",value:function(e){if((0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"drawTile",this).call(this,e),e.graphics){var n=e.graphics,i=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos),o=i.tileX,a=i.tileWidth,l=1/((this._xScale(1)-this._xScale(0))/(this._refXScale(1)-this._refXScale(0)));e.text.scale.x=l,n.clear();var u=this.dimensions[1],c=this._refXScale(o+a)-this._refXScale(o);e.textGraphics.position.x=this._refXScale(o)+c/2,e.textGraphics.position.y=u/2;var f=this._refXScale(o);n.lineStyle(4*l,255,1),n.beginFill(16740363,.4),n.alpha=.5,n.moveTo(f,0),n.lineTo(f,u),n.moveTo(f+c,0),n.lineTo(f+c,u),n.lineStyle(0,255,1),n.drawRect(f,0,c,u)}}}]),t}(u.default);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(5)),i=c(n(3)),o=c(n(4)),a=c(n(6)),s=c(n(13)),l=c(n(7)),u=n(11);function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"areAllVisibleTilesLoaded",value:function(){return!0}},{key:"initTile",value:function(e){var t=e.graphics;e.textGraphics=new u.GLOBALS.PIXI.Graphics,e.text=new u.GLOBALS.PIXI.Text(String(e.tileData.zoomLevel)+"/"+String(e.tileData.tilePos.join("/")),{fontFamily:"Arial",fontSize:32,fill:16715792,align:"center"}),e.textGraphics.addChild(e.text),e.text.anchor.x=.5,e.text.anchor.y=.5,e.text.rotation=-Math.PI/2,t.addChild(e.textGraphics),this.drawTile(e,t)}},{key:"destroyTile",value:function(e,t){}},{key:"drawTile",value:function(e){if((0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"drawTile",this).call(this,e),e.graphics){var n=e.graphics,i=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos),o=i.tileY,a=i.tileHeight,l=1/((this._yScale(1)-this._yScale(0))/(this._refYScale(1)-this._refYScale(0)));e.text.scale.x=l,n.clear(),n.lineStyle(4*l,255,1),n.beginFill(16740363,.4),n.alpha=.5;var u=this.dimensions[0],c=this._refYScale(o+a)-this._refYScale(o);e.textGraphics.position.x=u/2,e.textGraphics.position.y=this._refYScale(o)+c/2,n.drawRect(0,this._refYScale(o),u,c)}}},{key:"fetchNewTiles",value:function(e){var t=this;e.forEach((function(e){var n=e.remoteId.split("."),r={zoomLevel:n[1],tilePos:n.slice(2,n.length).map((function(e){return+e}))};t.fetchedTiles[e.tileId]=e,t.fetchedTiles[e.tileId].tileData=r,t.fetching.has(e.remoteId)&&t.fetching.delete(e.remoteId)})),this.synchronizeTilesAndGraphics()}}]),t}(c(n(341)).default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(5)),i=f(n(3)),o=f(n(4)),a=f(n(6)),s=f(n(13)),l=f(n(7)),u=f(n(248)),c=n(24);function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"calculateZoomLevel",value:function(){var e=c.tileProxy.calculateZoomLevel(this._yScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]);return Math.min(e,this.maxZoom)}},{key:"relevantScale",value:function(){return this._yScale}},{key:"zoomed",value:function(e,n){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"zoomed",this).call(this,e,n);var i=(n(1)-n(0))/(this._refYScale(1)-this._refYScale(0)),o=this.position[0],a=n(0)+this.position[1]-this._refYScale(1)*i;this.pMain.position.x=o,this.pMain.position.y=a,this.pMain.scale.x=1,this.pMain.scale.y=i}}]),t}(u.default);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(5)),i=c(n(3)),o=c(n(4)),a=c(n(6)),s=c(n(13)),l=c(n(7)),u=n(306);function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n));return o.axis=(0,u.axisTop)(o._xScale),o.gAxis=o.gMain.append("g"),o.tilesetInfo=!0,o}return(0,l.default)(t,e),(0,o.default)(t,[{key:"setDimensions",value:function(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setDimensions",this).call(this,e),this.axis.ticks(Math.ceil(this.dimensions[0]/150)),this.gAxis.attr("transform","translate(0,"+String(e[1])+")")}},{key:"draw",value:function(){return this.axis.scale(this._xScale),this.gAxis.call(this.axis),this}},{key:"zoomed",value:function(e,n){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"zoomed",this).call(this,e,n),this.draw()}}]),t}(c(n(80)).default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(5)),i=c(n(3)),o=c(n(4)),a=c(n(6)),s=c(n(13)),l=c(n(7)),u=n(306);function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n));return o.axis=(0,u.axisLeft)(o._yScale),o.gAxis=o.gMain.append("g"),o.tilesetInfo=!0,o}return(0,l.default)(t,e),(0,o.default)(t,[{key:"setDimensions",value:function(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setDimensions",this).call(this,e),this.axis.ticks(Math.ceil(this.dimensions[1]/150)),this.gAxis.attr("transform","translate("+String(e[0])+",0)")}},{key:"draw",value:function(){return this.axis.scale(this._yScale),this.gAxis.call(this.axis),this}},{key:"zoomed",value:function(e,n){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"zoomed",this).call(this,e,n),this.draw()}}]),t}(c(n(80)).default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=C(n(131)),i=C(n(25)),o=C(n(50)),a=C(n(32)),s=C(n(21)),l=C(n(54)),u=C(n(19)),c=C(n(40)),f=C(n(16)),d=C(n(44)),h=C(n(5)),p=C(n(3)),m=C(n(4)),v=C(n(6)),g=C(n(13)),y=C(n(7)),b=C(n(176)),_=n(8),x=n(28),w=C(n(347)),E=n(153),T=C(n(135)),S=n(24),k=n(10),O=n(11);function C(e){return e&&e.__esModule?e:{default:e}}var A={fontSize:"14px",fontFamily:"Arial",stroke:"white",strokeThickness:2,fontWeight:400,dropShadow:!0,dropShadowColor:"white",dropShadowDistance:0,dropShadowBlur:2},M=function(e){function t(e,n){(0,p.default)(this,t);var r=(0,v.default)(this,(t.__proto__||(0,h.default)(t)).call(this,e,n));return r.valueScaleTransform=E.zoomIdentity,r}return(0,y.default)(t,e),(0,m.default)(t,[{key:"initialize",value:function(){if(!this.initialized){var e=[1,1,0];this.prevK=e[0],this.vertK=e[1],this.vertY=e[2],this.drawnRects||(this.drawnRects={}),this.colorScale||(this.options.colorRange?this.colorScale=(0,k.colorDomainToRgbaArray)(this.options.colorRange):this.colorScale=O.HEATED_OBJECT_MAP),this.initialized=!0}}},{key:"initTile",value:function(e){var t=this;e.texts={},e.rectGraphics=new O.GLOBALS.PIXI.Graphics,e.textGraphics=new O.GLOBALS.PIXI.Graphics,e.graphics.addChild(e.rectGraphics),e.graphics.addChild(e.textGraphics);var n=[],r=[];if(e.tileData&&e.tileData.length){if(e.tileData.sort((function(e,t){return t.importance-e.importance})),this.options&&this.options.valueColumn)n=[e.tileData.map((function(e){return{value:e}}))];else{var i=e.tileData.map((function(e){var t=+e.chrOffset;return{from:+e.fields[1]+t,to:+e.fields[2]+t,value:e,text:e.fields[3],strand:e.fields.length>=6&&"-"===e.fields[5]?"-":"+"}}));n=(0,k.segmentsToRows)(i.filter((function(e){return"+"===e.strand}))),r=(0,k.segmentsToRows)(i.filter((function(e){return"-"===e.strand})))}e.plusStrandRows=n,e.minusStrandRows=r,this.options.showTexts&&e.tileData.forEach((function(n,r){var i=n.fields;if(n.importance||(n.importance=Math.random()),e.textWidths={},e.textHeights={},!(r>=(+t.options.maxTexts||50))){var o=new O.GLOBALS.PIXI.Text(i[3],(0,d.default)({},A,{fontSize:+t.options.fontSize||A.fontSize}));t.flipText&&(o.scale.x=-1),o.anchor.x=.5,o.anchor.y=.5,e.texts[n.uid]=o,e.textGraphics.addChild(o)}}))}e.initialized=!0}},{key:"removeTileRects",value:function(e){var t=this,n=+e.tileId.split(".")[0];e.rectGraphics.clear(),e.rendered=!1,e.tileData&&e.tileData.length&&e.tileData.forEach((function(r,i){t.drawnRects[n]&&t.drawnRects[n][r.uid]&&t.drawnRects[n][r.uid][2]===e.tileId&&delete t.drawnRects[n][r.uid]}))}},{key:"destroyTile",value:function(e){this.removeTileRects(e),e.graphics.removeChild(e.textGraphics),e.graphics.removeChild(e.rectGraphics)}},{key:"removeTiles",value:function(e){(0,g.default)(t.prototype.__proto__||(0,h.default)(t.prototype),"removeTiles",this).call(this,e)}},{key:"drawTile",value:function(e){this.options&&this.options.valueColumn&&this.valueScale&&this.drawAxis(this.valueScale)}},{key:"rerender",value:function(e,n){(0,g.default)(t.prototype.__proto__||(0,h.default)(t.prototype),"rerender",this).call(this,e,n),this.valueScale=null,this.drawnRects={},this.options.colorRange?this.colorScale=(0,k.colorDomainToRgbaArray)(this.options.colorRange):this.colorScale=O.HEATED_OBJECT_MAP;var r=!0,i=!1,o=void 0;try{for(var a,s=(0,f.default)(this.visibleAndFetchedTiles());!(r=(a=s.next()).done);r=!0){var l=a.value;this.destroyTile(l),this.initTile(l),this.renderTile(l)}}catch(u){i=!0,o=u}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}},{key:"updateTile",value:function(e){this.areAllVisibleTilesLoaded()&&this.renderTile(e)}},{key:"allVisibleRects",value:function(){var e={};(0,c.default)(this.fetchedTiles).forEach((function(t){if(t.plusStrandRows){var n=!0,r=!1,i=void 0;try{for(var o,a=(0,f.default)(t.plusStrandRows[0]);!(n=(o=a.next()).done);n=!0){var s=o.value;e[s.value.uid]||(e[s.value.uid]=s)}}catch(l){r=!0,i=l}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}}));for(var t=(0,c.default)(e).sort((function(e,t){return e.from-t.from})),n=0,r=0,i=0;i<t.length;i++)if(void 0!==t[i].staggeredStartPosition){n=i,r=t[i].staggeredStartPosition;break}for(var o=n;o<t.length;o++)t[o].staggeredStartPosition=(r+o-n)%2;for(var a=n;a>=0&&t.length;a--)t[a].staggeredStartPosition=(r+n-a)%2;return e}},{key:"drawSegmentStyle",value:function(e,t,n,r,i,o){var a=.1,s=r+i/2,l=[t,r,t+.2,r,t+.2,s-a,n-.2,s-a,n-.2,r,n,r,n,r+i,n-.2,r+i,n-.2,s+a,t+.2,s+a,t+.2,r+i,t,r+i];return e.rectGraphics.drawPolygon(l),l}},{key:"drawPoly",value:function(e,t,n,r,i,o){var a=null;return"segment"===this.options.annotationStyle?this.drawSegmentStyle(e,t,n,r,i,o):(("+"===o||"-"===o)&&n-t<8?(a=[t,r,t+i/2,r+i/2,t,r+i],"+"===o||(a=[n,r,n-i/2,r+i/2,n,r+i]),e.rectGraphics.drawPolygon(a)):(a="+"===o?[t,r,n-i/2,r,n,r+i/2,n-i/2,r+i,t,r+i]:"-"===o?[t+i/2,r,n,r,n,r+i,t+i/2,r+i,t,r+i/2]:[t,r,n,r,n,r+i,t,r+i],e.rectGraphics.drawPolygon(a)),a)}},{key:"setValueScale",value:function(){if(this.valueScale=null,this.options&&this.options.valueColumn){var e=this.options.colorEncodingRange?+this.options.colorEncodingRange[0]:this.minVisibleValueInTiles(+this.options.valueColumn),t=this.options.colorEncodingRange?+this.options.colorEncodingRange[1]:this.maxVisibleValueInTiles(+this.options.valueColumn);if(this.options.valueColumn){var n=this.makeValueScale(e,this.calculateMedianVisibleValue(+this.options.valueColumn),t),r=(0,u.default)(n,1);this.valueScale=r[0]}}}},{key:"setColorValueScale",value:function(){if(this.colorValueScale=null,this.options&&this.options.colorEncoding){var e=this.options.colorEncodingRange?+this.options.colorEncodingRange[0]:this.minVisibleValueInTiles(+this.options.colorEncoding),t=this.options.colorEncodingRange?+this.options.colorEncodingRange[1]:this.maxVisibleValueInTiles(+this.options.colorEncoding);this.colorValueScale=(0,x.scaleLinear)().domain([e,t]).range([0,255])}}},{key:"renderRows",value:function(e,t,n,r,i,o){var a=+e.tileId.split(".")[0],s=l.default;this.initialize();var u=(0,x.scaleBand)().domain((0,_.range)(n)).range([r,i]).paddingInner(.3);this.allVisibleRects();var c=null;this.options.staggered&&(c=this.allVisibleRects());for(var f=0;f<t.length;f++)for(var h=0;h<t[f].length;h++){var p=t[f][h].value,m=p.fields,v=+p.chrOffset,g=+m[1]+v,y=+m[2]+v,b=(g+y)/2,w=u(f)+u.step()/2,E=this.options.annotationHeight||16;if("scaled"===E&&(E=u.bandwidth(),this.options.maxAnnotationHeight&&(E=Math.min(E,+this.options.maxAnnotationHeight))),this.options&&"itemRgb"===this.options.colorEncoding&&p.fields[8])3===p.fields[8].split(",").length&&(o="rgb("+String(p.fields[8])+")");else if(this.colorValueScale){var T=(0,k.valueToColor)(this.colorValueScale,this.colorScale,0,-Number.MIN_VALUE)(+m[+this.options.colorEncoding-1]);o="rgba("+String(T.join(","))+")"}if(this.valueScale){var S=+m[+this.options.valueColumn-1];S>s&&(s=S),w=this.valueScale(S)}var O=this.options.fillOpacity||.3;e.rectGraphics.lineStyle(1,(0,k.colorToHex)(o),O),e.rectGraphics.beginFill((0,k.colorToHex)(o),O);var C=w-E/2,M=this._xScale(g),P=this._xScale(y);this.options.staggered&&(c[p.uid].staggeredStartPosition?C-=2.5:C+=2.5);var I=!0;if(!(a in this.drawnRects)||!(p.uid in this.drawnRects[a])){I=!1,this.drawnRects[a]||(this.drawnRects[a]={});var D=this.drawPoly(e,M,P,C*this.prevK,E*this.prevK,m[5]);this.drawnRects[a][p.uid]=[D,{start:g,end:y,value:p,tile:e,fill:o},e.tileId]}if(this.options.showTexts){if(!e.texts)return;if(!(h>=(+this.options.maxTexts||50))&&e.texts[p.uid]){var N=e.texts[p.uid];N.position.x=this._xScale(b),N.position.y=C+E/2,N.nominalY=C+E/2,I&&(N.alreadyDrawn=!0);var R=void 0!==this.options.fontColor?(0,k.colorToHex)(this.options.fontColor):o;if(N.style=(0,d.default)({},A,{fill:R,fontSize:+this.options.fontSize||A.fontSize}),!(m[3]in e.textWidths)){N.updateTransform();var L=N.getBounds().width,j=N.getBounds().height;e.textWidths[m[3]]=L,e.textHeights[m[3]]=j-5}}}}}},{key:"renderTile",value:function(e){var t=e.plusStrandRows?e.plusStrandRows.length:1,n=e.minusStrandRows?e.minusStrandRows.length:1,r=!0,i=!1,o=void 0;try{for(var a,s=(0,f.default)(this.visibleAndFetchedTiles());!(r=(a=s.next()).done);r=!0){var l=a.value;if(!l.initialized)return;(l.plusStrandRows||l.minusStrandRows)&&(t=Math.max(l.plusStrandRows.length,t),n=Math.max(l.minusStrandRows.length,n))}}catch(h){i=!0,o=h}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}if(e.rendered&&this.removeTileRects(e),e.drawnAtScale=this._xScale.copy(),e.rendered=!0,this.setValueScale(),this.setColorValueScale(),e.tileData&&e.tileData.length){var u=this.options.plusStrandColor||this.options.fillColor||"blue",c=this.options.minusStrandColor||this.options.fillColor||"purple",d=t*this.dimensions[1]/(t+n)-0;this.renderRows(e,e.plusStrandRows,t,0,d,u),this.renderRows(e,e.minusStrandRows,n,d+0,this.dimensions[1],c)}k.trackUtils.stretchRects(this,[function(e){return e.rectGraphics}])}},{key:"calculateZoomLevel",value:function(){var e=S.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),t=Math.min(e,this.maxZoom);return t=Math.max(t,0)}},{key:"minVisibleValueInTiles",value:function(e){var t=this,n=this.visibleAndFetchedIds();0===n.length&&(n=(0,s.default)(this.fetchedTiles));var r=Math.min.apply(null,n.map((function(e){return t.fetchedTiles[e]})).filter((function(e){return e.tileData&&e.tileData.length})).map((function(t){return Math.min.apply(null,t.tileData.sort((function(e,t){return t.importance-e.importance})).slice(0,5e3).map((function(t){return+t.fields[e-1]})).filter((function(e){return!(0,a.default)(e)})))})));return r===o.default&&(r=null),r}},{key:"maxVisibleValueInTiles",value:function(e){var t=this,n=this.visibleAndFetchedIds();0===n.length&&(n=(0,s.default)(this.fetchedTiles));var r=Math.max.apply(null,n.map((function(e){return t.fetchedTiles[e]})).filter((function(e){return e.tileData&&e.tileData.length})).map((function(t){return Math.max.apply(null,t.tileData.sort((function(e,t){return t.importance-e.importance})).slice(0,5e3).map((function(t){return+t.fields[e-1]})).filter((function(e){return!(0,a.default)(e)})))})));return r===l.default&&(r=null),r}},{key:"calculateMedianVisibleValue",value:function(e){var t,n=this;this.areAllVisibleTilesLoaded()&&this.allTilesLoaded();var r=this.visibleAndFetchedIds();0===r.length&&(r=(0,s.default)(this.fetchedTiles));var o=(t=[]).concat.apply(t,(0,i.default)(r.map((function(e){return n.fetchedTiles[e]})).filter((function(e){return e.tileData&&e.tileData.length})).map((function(t){return t.tileData.sort((function(e,t){return t.importance-e.importance})).slice(0,5e3).map((function(t){return+t.fields[e-1]}))})))).filter((function(e){return e>0}));this.medianVisibleValue=(0,_.median)(o)}},{key:"draw",value:function(){var e=this;(0,g.default)(t.prototype.__proto__||(0,h.default)(t.prototype),"draw",this).call(this),this.allTexts=[],this.allBoxes=[];var n=function(t){var n=e.fetchedTiles[t];if(n.rectGraphics.scale.y=e.vertK,n.rectGraphics.position.y=e.vertY,!n.drawnAtScale)return{v:void 0};k.trackUtils.stretchRects(e,[function(e){return e.rectGraphics}]);var r=e.parentInFetched(n);if(!n.initialized)return"continue";n.tileData&&n.tileData.length&&n.tileData.forEach((function(t){if(n.texts){var i=t.fields,o=i[3],a=n.texts[t.uid];if(a){var s=+t.chrOffset,l=(+i[1]+s+(+i[2]+s))/2;a.position.x=e._xScale(l),a.position.y=a.nominalY*(e.vertK*e.prevK)+e.vertY,r||a.alreadyDrawn?a.visible=!1:(a.visible=!0,e.allBoxes.push([a.position.x-3,a.position.y-n.textHeights[i[3]]/2,a.position.x+n.textWidths[i[3]]+3,a.position.y+n.textHeights[i[3]]/2]),e.allTexts.push({importance:t.importance,text:a,caption:o,strand:i[5]}))}}}))};for(var i in this.fetchedTiles){var o=n(i);switch(o){case"continue":continue;default:if("object"===("undefined"===typeof o?"undefined":(0,r.default)(o)))return o.v}}this.hideOverlaps(this.allBoxes,this.allTexts)}},{key:"hideOverlaps",value:function(e,t){(0,b.default)(e,(function(e,n){t[e].importance>t[n].importance?t[e].text.visible&&(t[n].text.visible=!1):t[n].text.visible&&(t[e].text.visible=!1)}))}},{key:"setPosition",value:function(e){(0,g.default)(t.prototype.__proto__||(0,h.default)(t.prototype),"setPosition",this).call(this,e);var n=(0,u.default)(this.position,2);this.pMain.position.x=n[0],this.pMain.position.y=n[1]}},{key:"setDimensions",value:function(e){(0,g.default)(t.prototype.__proto__||(0,h.default)(t.prototype),"setDimensions",this).call(this,e)}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.refreshTiles(),this.draw()}},{key:"exportSVG",value:function(){var e=this,n=null,r=null;if((0,g.default)(t.prototype.__proto__||(0,h.default)(t.prototype),"exportSVG",this)){var i=(0,g.default)(t.prototype.__proto__||(0,h.default)(t.prototype),"exportSVG",this).call(this),o=(0,u.default)(i,2);r=o[0],n=o[1]}else n=r=document.createElement("g");var a=document.createElement("g");a.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),n.appendChild(a);var s=document.createElement("g"),l=document.createElement("g");a.appendChild(s),a.appendChild(l);var c=function(t){if(!t.tileData.length)return"continue";t.tileData.forEach((function(n){var r=+t.tileId.split(".")[0],i=document.createElement("g");if(i.setAttribute("transform","translate("+String(t.rectGraphics.position.x)+","+String(t.rectGraphics.position.y)+")scale("+String(t.rectGraphics.scale.x)+","+String(t.rectGraphics.scale.y)+")"),s.appendChild(i),e.drawnRects[r]&&n.uid in e.drawnRects[r]){for(var o=e.drawnRects[r][n.uid][0],a=document.createElement("path"),u="M "+String(o[0])+" "+String(o[1]),c=2;c<o.length;c+=2)u+=" L "+String(o[c])+" "+String(o[c+1]);var f=e.drawnRects[r][n.uid][1].fill,d=void 0!==e.options.fontColor?(0,k.colorToHex)(e.options.fontColor):f;if(a.setAttribute("d",u),a.setAttribute("fill",f),a.setAttribute("opacity",.3),a.style.stroke=f,a.style.strokeWidth="1px",i.appendChild(a),t.texts[n.uid]){var h=t.texts[n.uid];if(!h.visible)return;var p=document.createElement("g"),m=document.createElement("text");l.appendChild(p),p.appendChild(m),p.setAttribute("transform","translate("+String(h.x)+","+String(h.y)+")scale("+String(h.scale.x)+",1)"),m.setAttribute("text-anchor","middle"),m.setAttribute("font-family",A.fontFamily),m.setAttribute("font-size",+e.options.fontSize||A.fontSize),m.setAttribute("font-weight","bold"),m.setAttribute("dy","5px"),m.setAttribute("fill",d),m.setAttribute("stroke",A.stroke),m.setAttribute("stroke-width","0.4"),m.setAttribute("text-shadow","0px 0px 2px grey"),m.innerHTML=h.text}}}))},d=!0,p=!1,m=void 0;try{for(var v,y=(0,f.default)(this.visibleAndFetchedTiles());!(d=(v=y.next()).done);d=!0)c(v.value)}catch(b){p=!0,m=b}finally{try{!d&&y.return&&y.return()}finally{if(p)throw m}}return[r,r]}},{key:"movedY",value:function(e){var t=this;(0,c.default)(this.fetchedTiles).forEach((function(n){var r=t.valueScaleTransform,i=r.y,o=r.k,a=t.dimensions[1];i+e/o>-(o-1)*a&&i+e/o<0&&(t.valueScaleTransform=r.translate(0,e/o)),n.rectGraphics.position.y=t.valueScaleTransform.y,t.vertY=t.valueScaleTransform.y})),this.animate()}},{key:"zoomedY",value:function(e,t){var n=this,r=k.trackUtils.zoomedY(e,t,this.valueScaleTransform,this.dimensions[1]);this.valueScaleTransform=r;var i=r.k,o=r.y,a=!1;((i/=this.prevK)>1.5||i<1/1.5)&&(this.prevK*=i,i=1,a=!0),this.vertK=i,this.vertY=o,(0,c.default)(this.fetchedTiles).forEach((function(e){a&&n.renderTile(e),e.rectGraphics.scale.y=i,e.rectGraphics.position.y=o})),this.draw(),this.animate()}},{key:"getMouseOverHtml",value:function(e,t){if(!this.tilesetInfo)return"";var n=this.calculateZoomLevel(),r=[e,t];if(this.drawnRects[n])for(var i=(0,c.default)(this.drawnRects[n]),o=0;o<i.length;o++){for(var a=i[o][0].slice(0),s=i[o][1].tile.rectGraphics.scale.x,l=i[o][1].tile.rectGraphics.position.x,f=i[o][1].tile.rectGraphics.scale.y,d=i[o][1].tile.rectGraphics.position.y,h=[];a.length;){var p=a.splice(0,2),m=(0,u.default)(p,2),v=m[0],g=m[1];h.push([v*s+l,g*f+d])}if(-1===(0,w.default)(h,r))return i[o][1].value.fields.join(" ")}return""}}]),t}(T.default);t.default=M},function(e,t,n){"use strict";e.exports={init:function(e){var t=i.nextPow2(e);a.length<t&&(r.free(a),a=r.mallocInt32(t)),s.length<t&&(r.free(s),s=r.mallocInt32(t)),l.length<t&&(r.free(l),l=r.mallocInt32(t)),u.length<t&&(r.free(u),u=r.mallocInt32(t)),c.length<t&&(r.free(c),c=r.mallocInt32(t)),f.length<t&&(r.free(f),f=r.mallocInt32(t));var n=8*t;d.length<n&&(r.free(d),d=r.mallocDouble(n))},sweepBipartite:function(e,t,n,r,i,c,f,m,v,g){for(var y=0,b=2*e,_=e-1,x=b-1,w=n;w<r;++w){var E=c[w],T=b*w;d[y++]=i[T+_],d[y++]=-(E+1),d[y++]=i[T+x],d[y++]=E}for(w=f;w<m;++w){E=g[w]+(1<<28);var S=b*w;d[y++]=v[S+_],d[y++]=-E,d[y++]=v[S+x],d[y++]=E}var k=y>>>1;o(d,k);var O=0,C=0;for(w=0;w<k;++w){var A=0|d[2*w+1];if(A>=1<<28)h(l,u,C--,A=A-(1<<28)|0);else if(A>=0)h(a,s,O--,A);else if(A<=-(1<<28)){A=-A-(1<<28)|0;for(var M=0;M<O;++M)if(void 0!==(P=t(a[M],A)))return P;p(l,u,C++,A)}else{for(A=-A-1|0,M=0;M<C;++M){var P;if(void 0!==(P=t(A,l[M])))return P}p(a,s,O++,A)}}},sweepComplete:function(e,t,n,r,i,m,v,g,y,b){for(var _=0,x=2*e,w=e-1,E=x-1,T=n;T<r;++T){var S=m[T]+1<<1,k=x*T;d[_++]=i[k+w],d[_++]=-S,d[_++]=i[k+E],d[_++]=S}for(T=v;T<g;++T){S=b[T]+1<<1;var O=x*T;d[_++]=y[O+w],d[_++]=1|-S,d[_++]=y[O+E],d[_++]=1|S}var C=_>>>1;o(d,C);var A=0,M=0,P=0;for(T=0;T<C;++T){var I=0|d[2*T+1],D=1&I;if(T<C-1&&I>>1===d[2*T+3]>>1&&(D=2,T+=1),I<0){for(var N=-(I>>1)-1,R=0;R<P;++R)if(void 0!==(L=t(c[R],N)))return L;if(0!==D)for(R=0;R<A;++R)if(void 0!==(L=t(a[R],N)))return L;if(1!==D)for(R=0;R<M;++R){var L;if(void 0!==(L=t(l[R],N)))return L}0===D?p(a,s,A++,N):1===D?p(l,u,M++,N):2===D&&p(c,f,P++,N)}else N=(I>>1)-1,0===D?h(a,s,A--,N):1===D?h(l,u,M--,N):2===D&&h(c,f,P--,N)}},scanBipartite:function(e,t,n,r,i,l,u,c,f,m,v,g){var y=0,b=2*e,_=t,x=t+e,w=1,E=1;r?E=1<<28:w=1<<28;for(var T=i;T<l;++T){var S=T+w,k=b*T;d[y++]=u[k+_],d[y++]=-S,d[y++]=u[k+x],d[y++]=S}for(T=f;T<m;++T){S=T+E;var O=b*T;d[y++]=v[O+_],d[y++]=-S}var C=y>>>1;o(d,C);var A=0;for(T=0;T<C;++T){var M=0|d[2*T+1];if(M<0){var P=!1;if((S=-M)>=1<<28?(P=!r,S-=1<<28):(P=!!r,S-=1),P)p(a,s,A++,S);else{var I=g[S],D=b*S,N=v[D+t+1],R=v[D+t+1+e];e:for(var L=0;L<A;++L){var j=a[L],F=b*j;if(!(R<u[F+t+1]||u[F+t+1+e]<N)){for(var B=t+2;B<e;++B)if(v[D+B+e]<u[F+B]||u[F+B+e]<v[D+B])continue e;var z,H=c[j];if(void 0!==(z=r?n(I,H):n(H,I)))return z}}}}else h(a,s,A--,M-w)}},scanComplete:function(e,t,n,r,i,s,l,u,c,f,h){for(var p=0,m=2*e,v=t,g=t+e,y=r;y<i;++y){var b=y+(1<<28),_=m*y;d[p++]=s[_+v],d[p++]=-b,d[p++]=s[_+g],d[p++]=b}for(y=u;y<c;++y){b=y+1;var x=m*y;d[p++]=f[x+v],d[p++]=-b}var w=p>>>1;o(d,w);var E=0;for(y=0;y<w;++y){var T=0|d[2*y+1];if(T<0)if((b=-T)>=1<<28)a[E++]=b-(1<<28);else{var S=h[b-=1],k=m*b,O=f[k+t+1],C=f[k+t+1+e];e:for(var A=0;A<E;++A){var M=a[A],P=l[M];if(P===S)break;var I=m*M;if(!(C<s[I+t+1]||s[I+t+1+e]<O)){for(var D=t+2;D<e;++D)if(f[k+D+e]<s[I+D]||s[I+D+e]<f[k+D])continue e;var N=n(P,S);if(void 0!==N)return N}}}else{for(b=T-(1<<28),A=E-1;A>=0;--A)if(a[A]===b){for(D=A+1;D<E;++D)a[D-1]=a[D];break}--E}}}};var r=n(250),i=n(251),o=n(598),a=r.mallocInt32(1024),s=r.mallocInt32(1024),l=r.mallocInt32(1024),u=r.mallocInt32(1024),c=r.mallocInt32(1024),f=r.mallocInt32(1024),d=r.mallocDouble(8192);function h(e,t,n,r){var i=t[r],o=e[n-1];e[i]=o,t[o]=i}function p(e,t,n,r){e[n]=r,t[r]=n}},function(e,t,n){"use strict";e.exports=function(e,t){var n="abcdef".split("").concat(t),r=[];return e.indexOf("lo")>=0&&r.push("lo=e[k+n]"),e.indexOf("hi")>=0&&r.push("hi=e[k+o]"),n.push("for(var j=2*a,k=j*c,l=k,m=c,n=b,o=a+b,p=c;d>p;++p,k+=j){var _;if($)if(m===p)m+=1,l+=j;else{for(var s=0;j>s;++s){var t=e[k+s];e[k+s]=e[l],e[l++]=t}var u=f[p];f[p]=f[m],f[m++]=u}}return m".replace("_",r.join()).replace("$",e)),Function.apply(void 0,n)}},function(e,t,n){e.exports=function(e,t){for(var n=t[0],i=t[1],o=e.length,a=1,s=o,l=0,u=o-1;l<s;u=l++){var c=e[l],f=e[u],d=c[1],h=f[1];if(h<d){if(h<i&&i<d){if(0===(v=r(c,f,t)))return 0;a^=0<v|0}else if(i===d){var p=(m=e[(l+1)%o])[1];if(d<p){if(0===(v=r(c,f,t)))return 0;a^=0<v|0}}}else if(d<h){if(d<i&&i<h){if(0===(v=r(c,f,t)))return 0;a^=v<0|0}else if(i===d){var m=e[(l+1)%o];if((p=m[1])<d){var v;if(0===(v=r(c,f,t)))return 0;a^=v<0|0}}}else if(i===d){var g=Math.min(c[0],f[0]),y=Math.max(c[0],f[0]);if(0===l){for(;u>0;){var b=(u+o-1)%o;if((w=e[b])[1]!==i)break;var _=w[0];g=Math.min(g,_),y=Math.max(y,_),u=b}if(0===u)return g<=n&&n<=y?0:1;s=u+1}for(var x=e[(u+o-1)%o][1];l+1<s;){var w;if((w=e[l+1])[1]!==i)break;_=w[0],g=Math.min(g,_),y=Math.max(y,_),l+=1}if(g<=n&&n<=y)return 0;var E=e[(l+1)%o][1];n<g&&x<i!==E<i&&(a^=1)}}return 2*a-1};var r=n(602)},function(e,t,n){"use strict";e.exports=function(e,t,n){var i=e*t,o=r*e,a=o-(o-e),s=e-a,l=r*t,u=l-(l-t),c=t-u,f=s*c-(i-a*u-s*u-a*c);return n?(n[0]=f,n[1]=i,n):[f,i]};var r=+(Math.pow(2,27)+1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=p(n(19)),i=p(n(16)),o=p(n(5)),a=p(n(3)),s=p(n(4)),l=p(n(6)),u=p(n(13)),c=p(n(7)),f=n(28),d=p(n(112)),h=n(10);function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return(0,a.default)(this,t),(0,l.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,c.default)(t,e),(0,s.default)(t,[{key:"initTile",value:function(e){e.barXValues=new Array(e.tileData.dense.length),e.barYValues=new Array(e.tileData.dense.length),e.barWidths=new Array(e.tileData.dense.length),e.barHeights=new Array(e.tileData.dense.length),(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"initTile",this).call(this,e)}},{key:"drawTile",value:function(e){if(e.graphics&&e.tileData&&e.tileData.dense){var t=e.graphics,n=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos),r=n.tileX,i=n.tileWidth,o=e.tileData.dense;if(0!==o.length){var a=0;if(this.valueScale=null,"log"===this.options.valueScaling){var s=this.medianVisibleValue;this.medianVisibleValue||(s=this.minValue()),this.valueScale=(0,f.scaleLog)().domain([s,this.maxValue()+s]).range([this.dimensions[1],0]),a=s}else this.valueScale=(0,f.scaleLinear)().domain([this.minValue(),this.maxValue()]).range([this.dimensions[1],0]);if(t.clear(),this.drawAxis(this.valueScale),"log"===this.options.valueScaling&&this.valueScale.domain()[1]<0)console.warn("Negative values present when using a log scale",this.valueScale.domain());else{var l=(0,h.colorToHex)(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue"),u=(0,f.scaleLinear)().domain([0,this.tilesetInfo.tile_size]).range([r,r+i]);t.lineStyle(0,l,1);var c=this.options.pointSize?this.options.pointSize:3,d=(0,h.colorToHex)(this.options.pointColor?this.options.pointColor:"red");t.beginFill(d,1),e.drawnAtScale=this._xScale.copy();for(var p=0;p<o.length;p++){var m=this._xScale(u(p)),v=this.valueScale(o[p]+a);if(e.barXValues[p]=m-c/2/this.pMain.scale.x,e.barYValues[p]=v-c/2/this.pMain.scale.y,e.barWidths[p]=c/this.pMain.scale.x,e.barHeights[p]=c/this.pMain.scale.y,u(p)>this.tilesetInfo.max_pos[0])break;t.drawRect(m-c/2/this.pMain.scale.x,v-c/2/this.pMain.scale.y,c/this.pMain.scale.x,c/this.pMain.scale.y)}}}}}},{key:"draw",value:function(){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"draw",this).call(this);var e=!0,n=!1,r=void 0;try{for(var a,s=(0,i.default)((0,h.dictValues)(this.fetchedTiles));!(e=(a=s.next()).done);e=!0){var l=a.value,c=(l.drawnAtScale.domain()[1]-l.drawnAtScale.domain()[0])/(this._xScale.domain()[1]-this._xScale.domain()[0]),f=this._xScale.domain().map(l.drawnAtScale)[0];l.graphics.scale.x=c,l.graphics.position.x=-f*c}}catch(d){n=!0,r=d}finally{try{!e&&s.return&&s.return()}finally{if(n)throw r}}}},{key:"zoomed",value:function(e,n,r,i,a){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"zoomed",this).call(this,e,n)}},{key:"exportSVG",value:function(){var e=null,n=null,a=(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"superSVG",this).call(this),s=(0,r.default)(a,2);n=s[0],e=s[1],n.setAttribute("class","exported-line-track");var l=document.createElement("g");e.appendChild(l),l.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")");var c=!0,f=!1,d=void 0;try{for(var h,p=(0,i.default)(this.visibleAndFetchedTiles());!(c=(h=p.next()).done);c=!0)for(var m=h.value,v=0;v<m.barXValues.length;v++){var g=document.createElement("rect"),y=this.options.lineStrokeColor||"blue",b=this.options.pointColor||"red";g.setAttribute("fill",b),g.setAttribute("stroke",y),g.setAttribute("stroke-width",0),g.setAttribute("x",m.barXValues[v]),g.setAttribute("y",m.barYValues[v]),g.setAttribute("height",m.barHeights[v]),g.setAttribute("width",m.barWidths[v]),l.appendChild(g)}}catch(E){f=!0,d=E}finally{try{!c&&p.return&&p.return()}finally{if(f)throw d}}var _=document.createElement("g");if(_.setAttribute("id","axis"),n.appendChild(_),_.setAttribute("transform","translate("+String(this.axis.pAxis.position.x)+", "+String(this.axis.pAxis.position.y)+")"),"left"===this.options.axisPositionHorizontal||"top"===this.options.axisPositionVertical){var x=this.axis.exportAxisLeftSVG(this.valueScale,this.dimensions[1]);_.appendChild(x)}else if("right"===this.options.axisPositionHorizontal||"bottom"===this.options.axisPositionVertical){var w=this.axis.exportAxisRightSVG(this.valueScale,this.dimensions[1]);_.appendChild(w)}return[n,e]}}]),t}(d.default);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=m(n(5)),i=m(n(3)),o=m(n(4)),a=m(n(6)),s=m(n(13)),l=m(n(7)),u=n(18),c=m(n(134)),f=n(24),d=m(n(128)),h=m(n(608)),p=m(n(164));function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n));return o.pMain=o.pMobile,o.continuousScaling=!1,o}return(0,l.default)(t,e),(0,o.default)(t,[{key:"rerender",value:function(e,n){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"rerender",this).call(this,e,n),this.options.selectRows&&(this.selectRowsCumWeights=(0,h.default)(this.options.selectRows,this.options.selectRowsAggregationWithRelativeHeight))}},{key:"tileDataToCanvas",value:function(e){var t=document.createElement("canvas");this.options.selectRows&&this.tilesetInfo.shape?(t.width=this.tilesetInfo.shape[0],t.height=(0,d.default)(this.options.selectRows,this.options.selectRowsAggregationWithRelativeHeight)):this.tilesetInfo.shape?(t.width=this.tilesetInfo.shape[0],t.height=this.tilesetInfo.shape[1]):(t.width=this.tilesetInfo.tile_size,t.height=1);var n=t.getContext("2d");if(n.fillStyle="transparent",n.fillRect(0,0,t.width,t.height),e.length){var r=new ImageData(e,t.width,t.height);n.putImageData(r,0,0)}return t}},{key:"setSpriteProperties",value:function(e,t,n){var r=this.getTilePosAndDimensions(t,n,this.tilesetInfo.tile_size),i=r.tileX,o=i+r.tileWidth;e.width=this._refXScale(o)-this._refXScale(i),e.height=this.dimensions[1],e.x=this._refXScale(i),e.y=0}},{key:"leftTrackZoomed",value:function(e,t,n,r,i){var o=this._xScale(0)-n*this._refXScale(0);this.pMobile.position.x=o+this.position[0],this.pMobile.position.y=this.position[1],this.pMobile.scale.x=n,this.pMobile.scale.y=1}},{key:"zoomed",value:function(e,n,i,o){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"zoomed",this).call(this,e,n),this.pMain.position.x=o,this.pMain.position.y=this.position[1],this.pMain.scale.x=i,this.pMain.scale.y=1,this.drawColorbar()}},{key:"calculateVisibleTiles",value:function(){var e=this;if(this.tilesetInfo){if(this.zoomLevel=this.calculateZoomLevel(),this.tilesetInfo.resolutions){var t=this.tilesetInfo.resolutions.map((function(e){return+e})).sort((function(e,t){return t-e}));this.xTiles=f.tileProxy.calculateTilesFromResolution(t[this.zoomLevel],this._xScale,this.tilesetInfo.min_pos[0],null,this.tilesetInfo.tile_size)}else this.xTiles=f.tileProxy.calculateTiles(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);var n=this.xTiles.map((function(t){return[e.zoomLevel,t]}));this.setVisibleTiles(n)}}},{key:"calculateZoomLevel",value:function(){if(this.tilesetInfo){var e=this.tilesetInfo.min_pos[0];return this.tilesetInfo.resolutions?f.tileProxy.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,e):f.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0])}}},{key:"tileToLocalId",value:function(e){return e.join(".")}},{key:"tileToRemoteId",value:function(e){return e.join(".")}},{key:"getTilePosAtPosition",value:function(e,t){if(this.tilesetInfo){var n=this.calculateZoomLevel(),r=f.tileProxy.calculateTileWidth(this.tilesetInfo,n,this.tilesetInfo.tile_size),i=this._xScale.invert(e)/r;return[n,Math.floor(i)]}}},{key:"getVisibleData",value:function(e,t){var n=this,r=this.calculateZoomLevel(),i=f.tileProxy.calculateTileWidth(this.tilesetInfo,r,this.tilesetInfo.tile_size),o=this._xScale.invert(e)/i,a=this.tilesetInfo.shape?this.tilesetInfo.shape[1]:1;this.options.selectRows&&(a=(0,d.default)(this.options.selectRows,this.options.selectRowsAggregationWithRelativeHeight));var s=this.tilesetInfo.tile_size*(o-Math.floor(o)),l=t/this.dimensions[1],c=l*a,h=Math.floor(c);this.options.selectRows&&(h=this.options.selectRowsAggregationWithRelativeHeight?this.options.selectRows[this.selectRowsCumWeights.findIndex((function(e,t){return l<=e&&(t===n.selectRowsCumWeights.length-1||n.selectRowsCumWeights[t+1]>=l)}))]:this.options.selectRows[Math.floor(c)]);var m=this.tileToLocalId([r,Math.floor(o)]),v=this.fetchedTiles[m],g="";if(v){this.tilesetInfo.shape||(s=v.tileData.dense.length*(o-Math.floor(o)));var y=null;if(y=this.tilesetInfo.shape?Array.isArray(h)?h.map((function(e){return n.tilesetInfo.shape[0]*e+Math.floor(s)})):this.tilesetInfo.shape[0]*h+Math.floor(s):v.tileData.dense.length*h+Math.floor(s),Array.isArray(y)){var b=(0,p.default)(this.options.selectRowsAggregationMode),_=y.map((function(e){return v.tileData.dense[e]}));g=(0,u.format)(".3f")(b(_)),g+="<br/>",g+=String(y.length)+"-item "+String(this.options.selectRowsAggregationMode)}else g=(0,u.format)(".3f")(v.tileData.dense[y])}return this.tilesetInfo.row_infos&&!Array.isArray(h)&&(g+="<br/>",g+=this.tilesetInfo.row_infos[h]),""+String(g)}},{key:"getMouseOverHtml",value:function(e,t){if(!this.tilesetInfo)return"";var n=this.getTilePosAtPosition(e,t),r="Data value: "+String(this.getVisibleData(e,t))+"</br>";return r+="Zoom level: "+String(n[0])+" tile position: "+String(n[1])}}]),t}(c.default);t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(5)),i=f(n(3)),o=f(n(4)),a=f(n(6)),s=f(n(7)),l=n(28),u=f(n(252)),c=n(10);function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"drawTile",value:function(e){this.renderTile(e)}},{key:"renderTile",value:function(e){if(e.graphics){var t=e.graphics,n=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos,this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension),r=n.tileX,i=n.tileWidth,o=e.tileData.dense;if(0!==o.length){var a=0;if(this.valueScale=null,"log"===this.options.valueScaling){var s=this.medianVisibleValue;this.medianVisibleValue||(s=this.minValue()),this.valueScale=(0,l.scaleLog)().domain([s,this.maxValue()+s]).range([this.dimensions[1],0]),a=s}else this.valueScale=(0,l.scaleLinear)().domain([this.minValue(),this.maxValue()]).range([this.dimensions[1],0]);if(t.clear(),this.drawAxis(this.valueScale),"log"===this.options.valueScaling&&this.valueScale.domain()[1]<0)console.warn("Negative values present when using a log scale",this.valueScale.domain());else{var u=(0,c.colorToHex)(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue"),f=(0,l.scaleLinear)().domain([0,this.tilesetInfo.tile_size]).range([r,r+i]);t.lineStyle(0,u,1);var d=this.options.barFillColorTop?this.options.barFillColorTop:"green",h=this.options.barFillColorBottom?this.options.barFillColorBottom:"red",p=(0,c.colorToHex)(d),m=(0,c.colorToHex)(h),v="barOpacity"in this.options?this.options.barOpacity:1;e.drawnAtScale=this._xScale.copy();var g=0;g="log"===this.options.valueScaling?this.valueScale(1):this.valueScale(0),delete e.svgData;for(var y=0;y<o.length;y++){var b=this._xScale(f(y)),_=this.valueScale(o[y]+a),x=this._xScale(f(y+1))-b;if(_>g?(t.beginFill(m,v),this.addSVGInfo(e,b,g,x,_-g,h)):(t.beginFill(p,v),this.addSVGInfo(e,b,_,x,g-_,d)),f(y)>this.tilesetInfo.max_pos[0])break;t.drawRect(b,e.svgData.barYValues[y],x,e.svgData.barHeights[y])}}}}}}]),t}(u.default);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(25)),i=h(n(35)),o=h(n(5)),a=h(n(3)),s=h(n(4)),l=h(n(6)),u=h(n(7)),c=n(28),f=n(8),d=n(10);function h(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n));return r.seen=new i.default,r.pMain=r.pMobile,r.rows=[],r}return(0,u.default)(t,e),(0,s.default)(t,[{key:"uid",value:function(e){return e[e.length-2]}},{key:"segmentOverlap",value:function(e,t){}},{key:"drawAll",value:function(e){var t=this;this.pMain.clear();var n=new i.default,r=e.map((function(e){return n.has(t.uid(e))?null:(n.add(t.uid(e)),{from:+e[1],to:+e[2],type:e[4],uid:t.uid(e)})})).filter((function(e){return e})),o=(0,d.segmentsToRows)(r);this.rows=o,this.draw()}},{key:"draw",value:function(){var e=this.rows;if(e){var t=(0,c.scaleBand)().range([0,this.dimensions[1]]).padding(.1).domain((0,f.range)(0,this.maxRows())),n=this.pMain;n.clear(),n.lineStyle(1,255,0),n.beginFill(16740363,.8);for(var r=0;r<e.length;r++)for(var i=0;i<e[r].length;i++){var o=e[r][i],a=this._refXScale(o.from),s=this._refXScale(o.to),l=t(r),u=s-a,d=l+t.bandwidth()-l;n.drawRect(a,l,u,d)}}}},{key:"allTilesLoaded",value:function(){var e,t=this,n=this.visibleAndFetchedIds().map((function(e){return t.fetchedTiles[e].tileData.discrete})),i=(e=[]).concat.apply(e,(0,r.default)(n));this.drawAll(i)}},{key:"initTile",value:function(e){}},{key:"maxRows",value:function(){return this.rows.length}},{key:"updateTile",value:function(e){}},{key:"destroyTile",value:function(e){var t=this;e.tileData.discrete.forEach((function(e){var n=e[e.length-2];t.seen.has(n)&&t.seen.delete(n)}))}},{key:"drawTile",value:function(e){}}]),t}(h(n(135)).default);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(16)),i=v(n(19)),o=v(n(35)),a=v(n(5)),s=v(n(3)),l=v(n(4)),u=v(n(6)),c=v(n(13)),f=v(n(7)),d=v(n(133)),h=v(n(70)),p=n(24),m=n(10);function v(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,r,i,o,a,s,l,u){var c=u?e._xScale(n.yStart):e._xScale(n.xStart),f=u?e._xScale(n.yEnd):e._xScale(n.xEnd),d=u?e._yScale(n.xStart):e._yScale(n.yStart),h=u?e._yScale(n.xEnd):e._yScale(n.yEnd),p=n.uid+u,m=f-c,v=h-d,g={x:c,y:d,width:m,height:v};r&&(m<r||v<r)&&(g={x:c-r/2,y:d-r/2,width:r,height:r}),e.drawnRects[p]=g;var y=g.x+g.width,b=g.y+g.height;(g.x>i&&g.x<o||y>i&&y<o||g.y>a&&g.y<s||b>a&&b<s)&&(g.width>l||g.height>l)&&(t.drawRect(g.x,g.y,g.width,g.height),e.publish("annotationDrawn",{trackUuid:e.uuid,annotationUuid:p,viewPos:[g.x,g.y,g.width,g.height],dataPos:[n.xStart,n.xEnd,n.yStart,n.yEnd],importance:n.importance,info:{patternType:e.options.patternType}}))}var y=function(e){function t(){var e;(0,s.default)(this,t);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=(0,u.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(r)));o.drawnRects={};var l=(0,d.default)(),c=l.publish,f=l.subscribe,h=l.unsubscribe;return o.publish=c,o.subscribe=f,o.unsubscribe=h,o}return(0,f.default)(t,e),(0,l.default)(t,[{key:"tileToLocalId",value:function(e){return""+String(e.join("."))}},{key:"tileToRemoteId",value:function(e){return""+String(e.join("."))}},{key:"localToRemoteId",value:function(e){var t=e.split(".");return t.slice(0,t.length-1).join(".")}},{key:"calculateZoomLevel",value:function(){var e=p.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),t=p.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]),n=Math.max(e,t);return n=Math.min(n,this.maxZoom)}},{key:"setVisibleTiles",value:function(e){var t=this;this.visibleTiles=e.map((function(e){return{tileId:t.tileToLocalId(e),remoteId:t.tileToRemoteId(e)}})),this.visibleTileIds=new o.default(this.visibleTiles.map((function(e){return e.remoteId})))}},{key:"calculateVisibleTiles",value:function(){if(this.tilesetInfo){this.zoomLevel=this.calculateZoomLevel(),this.xTiles=p.tileProxy.calculateTiles(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=p.tileProxy.calculateTiles(this.zoomLevel,this._yScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);for(var e=this.xTiles,t=this.yTiles,n=this.zoomLevel,r=[],i=0;i<e.length;i++)for(var o=0;o<t.length;o++){var a=[n,e[i],t[o]];r.push(a)}this.setVisibleTiles(r)}}},{key:"initTile",value:function(){}},{key:"destroyTile",value:function(){}},{key:"draw",value:function(){this.drawnRects={},(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"draw",this).call(this)}},{key:"drawTile",value:function(e){var t=this,n=e.graphics;if(n){n.clear();var r=(0,m.colorToHex)(this.options.rectangleDomainStrokeColor||"black"),i=(0,m.colorToHex)(this.options.rectangleDomainFillColor||"grey");n.lineStyle("undefined"!==typeof this.options.rectangleDomainStrokeWidth?this.options.rectangleDomainStrokeWidth:1,r,"undefined"!==typeof this.options.rectangleDomainStrokeOpacity?this.options.rectangleDomainStrokeOpacity:1),n.beginFill(i,"undefined"!==typeof this.options.rectangleDomainFillOpacity?this.options.rectangleDomainFillOpacity:.4),n.alpha=this.options.rectangleDomainOpacity||.5;var o=this.options.minSquareSize&&"none"!==this.options.minSquareSize?+this.options.minSquareSize:0,a=this.options.rectangleMinSize?+this.options.rectangleMinSize:0,s=this._xScale.range()[0],l=this._xScale.range()[1],u=this._yScale.range()[0],c=this._yScale.range()[1];e.tileData.length&&e.tileData.filter((function(e){return!(e.uid in t.drawnRects)})).forEach((function(e){g(t,n,e,o,s,l,u,c,a,"yes"===t.options.flipDiagonal),t.options.flipDiagonal&&"copy"===t.options.flipDiagonal&&g(t,n,e,o,s,l,u,c,a,!0)}))}}},{key:"exportSVG",value:function(){var e=this,n=null,o=null;if((0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"exportSVG",this)){var s=(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"exportSVG",this).call(this),l=(0,i.default)(s,2);o=l[0],n=l[1]}else n=o=document.createElement("g");var u=document.createElement("g");u.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),n.appendChild(u);for(var f=function(t){var n=function(n){if(!n.tileData||!n.tileData.length)return"continue";n.tileData.forEach((function(r){var i=r.uid+t,o=document.createElement("g");if(o.setAttribute("transform","translate("+String(n.graphics.position.x)+","+String(n.graphics.position.y)+")scale("+String(n.graphics.scale.x)+","+String(n.graphics.scale.y)+")"),u.appendChild(o),i in e.drawnRects){var a=e.drawnRects[i],s=document.createElement("rect");s.setAttribute("x",a.x),s.setAttribute("y",a.y),s.setAttribute("width",a.width),s.setAttribute("height",a.height),s.setAttribute("fill",e.options.rectangleDomainFillColor?e.options.rectangleDomainFillColor:"grey"),s.setAttribute("opacity",.3),s.style.stroke="black",s.style.strokeWidth="1px",o.appendChild(s)}}))},i=!0,o=!1,a=void 0;try{for(var s,l=(0,r.default)(e.visibleAndFetchedTiles());!(i=(s=l.next()).done);i=!0)n(s.value)}catch(c){o=!0,a=c}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}},d=[!0,!1],h=0;h<d.length;h++)f(d[h]);return[o,o]}},{key:"setPosition",value:function(e){(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"zoomed",value:function(e,t){this.xScale().domain()[0]===e.domain()[0]&&this.xScale().domain()[1]===e.domain()[1]&&this.yScale().domain()[0]===t.domain()[0]&&this.yScale().domain()[1]===t.domain()[1]||(this.xScale(e),this.yScale(t),this.refreshTiles(),this.draw())}},{key:"leftTrackDraw",value:function(){this.draw()}}]),t}(h.default);t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(25)),i=g(n(35)),o=g(n(19)),a=g(n(5)),s=g(n(3)),l=g(n(4)),u=g(n(6)),c=g(n(13)),f=g(n(7)),d=g(n(133)),h=g(n(70)),p=n(11),m=n(24),v=n(10);function g(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(e,n){(0,s.default)(this,t);var r=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e,n)),i=e.pubSub;r.drawnAnnotations={},r.drawnAnnoGfx={},r.selectedAnno=null,r.options.minSquareSize=+r.options.minSquareSize;var o=(0,d.default)(),l=o.publish,c=o.subscribe,f=o.unsubscribe;return r.publish=l,r.subscribe=c,r.unsubscribe=f,r.sT=0,r.annoSelectedBound=r.annoSelected.bind(r),r.pubSubs.push(i.subscribe("annoSelected",r.annoSelectedBound)),r}return(0,f.default)(t,e),(0,l.default)(t,[{key:"projection",value:function(e){var t=(0,o.default)(e,2),n=t[0],r=t[1];return[this._xScale(n),this._yScale(r)]}},{key:"tileToLocalId",value:function(e){return""+String(e.join("."))}},{key:"tileToRemoteId",value:function(e){return""+String(e.join("."))}},{key:"localToRemoteId",value:function(e){var t=e.split(".");return t.slice(0,t.length-1).join(".")}},{key:"calculateZoomLevel",value:function(){var e=m.tileProxy.calculateZoomLevel(this._xScale,this.minX,this.maxX),t=m.tileProxy.calculateZoomLevel(this._yScale,this.minY,this.maxY);return(0,v.min)((0,v.max)(e,t),this.maxZoom)}},{key:"setVisibleTiles",value:function(e){var t=this;this.visibleTiles=e.map((function(e){return{tileId:t.tileToLocalId(e),remoteId:t.tileToRemoteId(e)}})),this.visibleTileIds=new i.default(this.visibleTiles.map((function(e){return e.tileId})))}},{key:"calculateVisibleTiles",value:function(){if(this.tilesetInfo){this.zoomLevel=this.calculateZoomLevel(),this.xTiles=m.tileProxy.calculateTiles(this.zoomLevel,this._xScale,this.minX,this.maxX,this.tilesetInfo.max_zoom,this.maxSize),this.yTiles=m.tileProxy.calculateTiles(this.zoomLevel,this._yScale,this.minY,this.maxY,this.tilesetInfo.max_zoom,this.maxSize);for(var e=this.zoomLevel,t=[],n=0;n<this.xTiles.length;n++)for(var r=0;r<this.yTiles.length;r++)t.push([e,this.xTiles[n],this.yTiles[r]]);this.setVisibleTiles(t)}}},{key:"draw",value:function(){this.drawnAnnotations={},(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"draw",this).call(this)}},{key:"drawTile",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e.graphics){e.graphics.__tile__=e;var i=e.graphics;i.clear(),this.setBorderStyle(i),this.setFill(i),i.alpha=+this.options.rectangleDomainOpacity,e.tileData.length&&e.tileData.filter((function(e){return!(e.uid in t.drawnAnnotations)||n})).forEach((function(e){var n=t.projection([e.xStart,e.yStart]),a=(0,o.default)(n,2),s=a[0],l=a[1],u=t.projection([e.xEnd,e.yEnd]),c=(0,o.default)(u,2),f=c[0],d=c[1];t.options.exclude&&t.options.exclude.indexOf(e.uid)>=0||t.drawAnnotation(t.prepAnnotation(i,e.uid,s,l,f-s,d-l,e),r)}))}}},{key:"prepAnnotation",value:function(e,t,n,r,i,o,a){var s=void 0;try{s=JSON.parse(a.fields)}catch(l){}return{graphics:e,id:a.id,uid:t,annotation:{x:n,y:r,width:i,height:o},dataPos:[a.xStart,a.xEnd,a.yStart,a.yEnd],importance:a.importance,info:s}}},{key:"drawAnnotation",value:function(e,t){var n=this,r=e.graphics,i=e.id,o=e.uid,a=e.annotation,s=e.dataPos,l=e.importance,u=e.info;this.options.minSquareSize&&(a.width<this.options.minSquareSize||a.height<this.options.minSquareSize)&&(a.x=(a.x+a.width)/2,a.y=(a.y+a.height)/2,a.width=this.options.minSquareSize,a.height=this.options.minSquareSize),this.drawnAnnotations[o]=a;var c=[a.x,a.y,a.width,a.height],f=this.drawnAnnoGfx[o];f||(f=new p.GLOBALS.PIXI.Graphics,this.drawnAnnoGfx[o]=f),-1===r.children.indexOf(f)&&r.addChild(f),this._drawRect(f,c,o),r.interactive=!0,f.interactive=!0,f.buttonMode=!0;var d={id:i,uid:o,dataPos:s,importance:l,info:u,viewPos:[a.x,a.y,a.x+a.width,a.y+a.height]};f.mouseover=function(){return n.hover(f,c,o)},f.mouseout=function(){return n.blur(f,c,o)},f.mousedown=function(){return n.mouseDown()},f.mouseup=function(e){return n.mouseUp(f,c,o,e,d)},t||this.publish("annotationDrawn",{trackUuids:this.uuid,annotationUuid:o,annotationId:i,viewPos:c,dataPos:s,importance:l,info:u})}},{key:"_drawRect",value:function(e,t,n){var i=this.options.rectangleDomainStrokeColor,o=this.options.rectangleDomainStrokeWidth,a=this.options.rectangleDomainStrokeOpacity,s=this.options.rectangleDomainFillColor,l=this.options.rectangleDomainFillOpacity;this.hoveredAnno===n&&(i=this.options.hoverColor,o=this.options.rectangleDomainStrokeWidth+1||2,a=1,s=this.options.hoverColor,l=this.options.rectangleDomainFillOpacity),this.selectedAnno&&this.selectedAnno.uid===n&&(i=this.options.selectColor,o=this.options.rectangleDomainStrokeWidth+1||2,a=1,s=this.options.selectColor,l=(0,v.max)(.33,this.options.rectangleDomainFillOpacity)),e.clear(),this.options.trackBorderBgWidth&&(this.setBorderStyle(e,this.options.trackBorderBgColor,this.options.trackBorderBgWidth,this.options.trackBorderBgAlpha),this.setFill(e,s,0),e.drawRect.apply(e,(0,r.default)(t))),this.setBorderStyle(e,i,o,a),this.setFill(e,s,l),e.drawRect.apply(e,(0,r.default)(t)),e.__viewPos__=t}},{key:"context",value:function(e,t,n){return function(r){return r(e,t,n)}}},{key:"click",value:function(e,t,n,r,i){this.select(e,t,n),this.pubSub.publish("app.click",{type:"annotation",event:r,payload:i})}},{key:"mouseDown",value:function(){this.sT=performance.now()}},{key:"mouseUp",value:function(e,t,n,r,i){performance.now()-this.sT<=250&&this.click(e,t,n,r,i)}},{key:"hover",value:function(e,t,n){this.hoveredAnno=n,this._drawRect(e,t,n),this.animate()}},{key:"focus",value:function(e,t,n){this._drawRect(e,t,n),this.animate()}},{key:"blur",value:function(e,t,n){this.hoveredAnno=null,this._drawRect(e,t,n),this.animate()}},{key:"select",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=null,o=null;this.selectedAnno&&(i=this.selectedAnno.graphics,o=this.selectedAnno.uid),this.selectedAnno={graphics:e,uid:n},this.focus(e,t,n),this.options.onSelect&&!r&&(window[this.options.onSelect](n),this.pubSub.publish("annoSelected",n)),i&&o&&this.blur(i,i.__viewPos__,o)}},{key:"unselect",value:function(){var e=this.selectedAnno.graphics,t=this.selectedAnno.uid;this.selectedAnno=null,this.blur(e,e.__viewPos__,t)}},{key:"annoSelected",value:function(e){if(!this.selectedAnno||this.selectedAnno.uid!==e){this.selectedAnno&&this.unselect();var t=this.drawnAnnoGfx[e];t&&this.select(t,t.__viewPos__,e,!0)}}},{key:"exportSVG",value:function(){var e=this,n=null,r=null;if((0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"exportSVG",this)){var i=(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"exportSVG",this).call(this),s=(0,o.default)(i,2);r=s[0],n=s[1]}else n=r=document.createElement("g");var l=document.createElement("g");return l.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),n.appendChild(l),this.visibleAndFetchedTiles().filter((function(e){return e.tileData&&e.tileData.length})).map((function(e){return{graphics:e.graphics,td:e.tileData}})).forEach((function(t){var n=t.td,r=t.graphics,i=document.createElement("g");if(i.setAttribute("transform","translate("+String(r.position.x)+","+String(r.position.y)+")scale("+String(r.scale.x)+","+String(r.scale.y)+")"),l.appendChild(i),n.uid in e.drawnAnnotations){var o=e.drawnAnnotations[n.uid],a=document.createElement("rect");a.setAttribute("x",o.x),a.setAttribute("y",o.y),a.setAttribute("width",o.width),a.setAttribute("height",o.height),a.setAttribute("fill",e.options.fillColor||"grey"),a.setAttribute("opacity",.3),a.style.stroke=e.options.fillColor||"grey",a.style.strokeWidth="1px",i.appendChild(a)}})),[r,r]}},{key:"setBorderStyle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.rectangleDomainStrokeColor,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.rectangleDomainStrokeWidth,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.options.rectangleDomainStrokeOpacity;e.lineStyle("undefined"!==typeof n?n:1,(0,v.colorToHex)(t||"black"),"undefined"!==typeof r?r:1)}},{key:"setFill",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.rectangleDomainFillColor,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.rectangleDomainFillOpacity;e.beginFill((0,v.colorToHex)(t||"grey"),"undefined"!==typeof n?n:.4)}},{key:"setPosition",value:function(e){(0,c.default)(t.prototype.__proto__||(0,a.default)(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.refreshTiles(),this.draw()}},{key:"minX",get:function(){return this.tilesetInfo&&this.tilesetInfo.min_pos?this.tilesetInfo.min_pos[0]:0}},{key:"maxX",get:function(){return this.tilesetInfo&&this.tilesetInfo.max_pos?this.tilesetInfo.max_pos[0]:this.tilesetInfo.max_width||this.tilesetInfo.max_size}},{key:"minY",get:function(){return this.minX}},{key:"maxY",get:function(){return this.maxX}},{key:"maxSize",get:function(){var e=this.tilesetInfo.max_pos&&Math.max(this.tilesetInfo.max_pos[0]-this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[1]-this.tilesetInfo.min_pos[1]);return e||(this.tilesetInfo.max_size?this.tilesetInfo.max_size:0)}}]),t}(h.default);t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=p(n(16)),i=p(n(35)),o=p(n(5)),a=p(n(3)),s=p(n(4)),l=p(n(6)),u=p(n(13)),c=p(n(7)),f=p(n(70)),d=n(24),h=n(10);function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n));return r.drawnRects=new i.default,r.pMain=r.pMobile,r}return(0,c.default)(t,e),(0,s.default)(t,[{key:"tileToLocalId",value:function(e){return""+String(e.join("."))}},{key:"tileToRemoteId",value:function(e){return""+String(e.join("."))}},{key:"localToRemoteId",value:function(e){var t=e.split(".");return t.slice(0,t.length-1).join(".")}},{key:"calculateZoomLevel",value:function(){var e=d.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),t=d.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]),n=Math.max(e,t);return n=Math.min(n,this.maxZoom),this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?n=Math.min(this.options.maxZoom,n):console.error("Invalid maxZoom on track:",this)),n}},{key:"setVisibleTiles",value:function(e){var t=this;this.visibleTiles=e.map((function(e){return{tileId:t.tileToLocalId(e),remoteId:t.tileToRemoteId(e)}})),this.visibleTileIds=new i.default(this.visibleTiles.map((function(e){return e.tileId})))}},{key:"calculateVisibleTiles",value:function(){if(this.tilesetInfo){this.zoomLevel=this.calculateZoomLevel();var e=this._xScale.copy();e.domain([this._xScale.invert(this._xScale.range()[0]-this.dimensions[1]*Math.sqrt(2)),this._xScale.invert(this._xScale.range()[1]+this.dimensions[1]*Math.sqrt(2))]),this.xTiles=d.tileProxy.calculateTiles(this.zoomLevel,e,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=d.tileProxy.calculateTiles(this.zoomLevel,e,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);for(var t=this.xTiles,n=this.yTiles,r=this.zoomLevel,i=this.tilesetInfo.max_width/Math.pow(2,r),o=[],a=0;a<t.length;a++)for(var s=a;s<n.length;s++)if(!((s-a-2)*(this._xScale(i)-this._xScale(0))*Math.sqrt(2)/2>this.dimensions[1])){var l=[r,t[a],n[s]];l.mirrored=!1,o.push(l)}this.setVisibleTiles(o)}}},{key:"initTile",value:function(e){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"initTile",this).call(this,e),this.drawTile(e)}},{key:"destroyTile",value:function(e,t){}},{key:"draw",value:function(){this.delayDrawing||this.drawnRects.clear(),(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"draw",this).call(this)}},{key:"drawTile",value:function(e){if(e.graphics){var t=e.graphics;t.clear();var n=(0,h.colorToHex)(this.options.rectangleDomainStrokeColor?this.options.rectangleDomainStrokeColor:"black"),i=(0,h.colorToHex)(this.options.rectangleDomainFillColor?this.options.rectangleDomainFillColor:"grey");if(t.lineStyle(1/this.pMain.scale.x,n,1),t.beginFill(i,.4),t.alpha=this.options.rectangleDomainOpacity?this.options.rectangleDomainOpacity:.5,e.tileData.sort){var o=!0,a=!1,s=void 0;try{for(var l,u=(0,r.default)(e.tileData);!(o=(l=u.next()).done);o=!0){var c=l.value,f=this._refXScale(c.xStart),d=this._refXScale(c.xEnd),p=this._refYScale(c.yStart),m=this._refYScale(c.yEnd),v=c.uid;this.drawnRects.has(v)||(this.drawnRects.add(v),t.drawRect(f,p,d-f,m-p),t.pivot.x=this._refXScale(0),t.pivot.y=this._refYScale(0),t.scale.x=-1/Math.sqrt(2),t.rotation=-3*Math.PI/4,t.scale.y=1/Math.sqrt(2),t.position.x=this._refXScale(0),t.position.y=0)}}catch(g){a=!0,s=g}finally{try{!o&&u.return&&u.return()}finally{if(a)throw s}}}}}},{key:"setPosition",value:function(e){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"refScalesChanged",value:function(e,n){for(var r in(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"refScalesChanged",this).call(this,e,n),this.fetchedTiles){var i=this.fetchedTiles[r];if(i.sprite){var a=i.graphics;a.pivot.x=this._refXScale(0),a.pivot.y=this._refYScale(0),a.scale.x=-1/Math.sqrt(2),a.rotation=-3*Math.PI/4,a.scale.y=1/Math.sqrt(2),a.position.x=this._refXScale(0),a.position.y=0}}}},{key:"zoomed",value:function(e,n,r,i,a){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"zoomed",this).call(this,e,n,r,i,a),this.pMain.position.x=i,this.pMain.position.y=this.position[1]+this.dimensions[1],this.pMain.scale.x=r,this.pMain.scale.y=r,this.options.oneDHeatmapFlipped&&(this.pMain.scale.y=-r,this.pMain.position.y=this.position[1]),this.draw()}},{key:"leftTrackDraw",value:function(){this.draw()}}]),t}(f.default);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=p(n(16)),i=p(n(35)),o=p(n(5)),a=p(n(3)),s=p(n(4)),l=p(n(6)),u=p(n(13)),c=p(n(7)),f=p(n(70)),d=n(24),h=n(10);function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n));return r.drawnRects=new i.default,r}return(0,c.default)(t,e),(0,s.default)(t,[{key:"tileToLocalId",value:function(e){return""+String(e.join("."))}},{key:"tileToRemoteId",value:function(e){return""+String(e.join("."))}},{key:"localToRemoteId",value:function(e){var t=e.split(".");return t.slice(0,t.length-1).join(".")}},{key:"calculateZoomLevel",value:function(){var e=d.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),t=d.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]),n=Math.max(e,t);return n=Math.min(n,this.maxZoom)}},{key:"setVisibleTiles",value:function(e){var t=this;this.visibleTiles=e.map((function(e){return{tileId:t.tileToLocalId(e),remoteId:t.tileToRemoteId(e)}})),this.visibleTileIds=new i.default(this.visibleTiles.map((function(e){return e.tileId})))}},{key:"calculateVisibleTiles",value:function(){if(!(arguments.length>0&&void 0!==arguments[0])||arguments[0],this.tilesetInfo){this.zoomLevel=this.calculateZoomLevel(),this.xTiles=d.tileProxy.calculateTiles(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=d.tileProxy.calculateTiles(this.zoomLevel,this._yScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);for(var e=this.xTiles,t=this.yTiles,n=this.zoomLevel,r=[],i=0;i<e.length;i++)for(var o=0;o<t.length;o++){var a=[n,e[i],t[o]];r.push(a)}this.setVisibleTiles(r)}}},{key:"initTile",value:function(e){}},{key:"destroyTile",value:function(e,t){}},{key:"draw",value:function(){this.drawnRects.clear(),(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"draw",this).call(this)}},{key:"drawTile",value:function(e){if(e.graphics){var t=e.graphics;t.clear();var n=(0,h.colorToHex)("green");t.lineStyle(1,255,1),t.beginFill(n,.8),t.alpha=.5;var i=!0,o=!1,a=void 0;try{for(var s,l=(0,r.default)(e.tileData);!(i=(s=l.next()).done);i=!0){var u=s.value,c=this._xScale(u.xStart),f=this._xScale(u.xEnd),d=this._yScale(u.yStart),p=this._yScale(u.yEnd),m=u.uid;if(!this.drawnRects.has(m)){this.drawnRects.add(m);var v=p-d,g=f-c,y=(c+f)/2,b=(d+p)/2;v<6&&(v=6),g<6&&(g=6),t.drawRect(y-v/2,b-g/2,v,g)}}}catch(_){o=!0,a=_}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}}}},{key:"setPosition",value:function(e){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.refreshTiles(),this.draw()}}]),t}(f.default);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=x(n(40)),i=x(n(19)),o=x(n(21)),a=x(n(45)),s=x(n(5)),l=x(n(3)),u=x(n(4)),c=x(n(6)),f=x(n(13)),d=x(n(7)),h=x(n(176)),p=n(28),m=n(18),v=x(n(41)),g=x(n(64)),y=x(n(177)),b=n(10),_=n(11);function x(e){return e&&e.__esModule?e:{default:e}}var w=function(e){function t(e,n){(0,l.default)(this,t);var r=(0,c.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e,n)),i=e.dataConfig,o=e.animate,a=e.chromInfoPath,u=e.isShowGlobalMousePosition;r.searchField=null,r.chromInfo=null,r.dataConfig=i,r.pTicks=new _.GLOBALS.PIXI.Graphics,r.pMain.addChild(r.pTicks),r.gTicks={},r.tickTexts={},r.options=n,r.isShowGlobalMousePosition=u,r.textFontSize=12,r.textFontFamily="Arial",r.textFontColor="#808080",r.textStrokeColor=r.getTheme()===_.THEME_DARK?"#000000":"#ffffff",r.pixiTextConfig={fontSize:+r.options.fontSize?+r.options.fontSize+"px":String(r.textFontSize)+"px",fontFamily:r.textFontFamily,fill:r.options.color||r.textFontColor,lineJoin:"round",stroke:r.options.stroke||r.textStrokeColor,strokeThickness:2},r.stroke=(0,b.colorToHex)(r.pixiTextConfig.stroke),r.tickWidth=200,r.tickHeight=6,r.tickTextSeparation=2,r.tickColor=r.options.tickColor?(0,b.colorToHex)(r.options.tickColor):7829367,r.animate=o,r.pubSubs=[],r.options.showMousePosition&&!r.hideMousePosition&&(r.hideMousePosition=(0,b.showMousePosition)(r,r.is2d,r.isShowGlobalMousePosition()));var f=a;return f||(f=String(i.server)+"/chrom-sizes/?id="+String(i.tilesetUid)),(0,g.default)(f,(function(e){r.chromInfo=e,r.searchField=new y.default(r.chromInfo),r.rerender(r.options,!0),r.draw(),r.animate()}),r.pubSub),r}return(0,d.default)(t,e),(0,u.default)(t,[{key:"initBoundsTicks",value:function(){this.pTicks&&(this.pMain.removeChild(this.pTicks),this.pTicks=null),this.gBoundTicks||(this.gBoundTicks=new _.GLOBALS.PIXI.Graphics,this.leftBoundTick=new _.GLOBALS.PIXI.Text("",this.pixiTextConfig),this.rightBoundTick=new _.GLOBALS.PIXI.Text("",this.pixiTextConfig),this.gBoundTicks.addChild(this.leftBoundTick),this.gBoundTicks.addChild(this.rightBoundTick),this.pMain.addChild(this.gBoundTicks)),this.texts=[]}},{key:"initChromLabels",value:function(){if(this.chromInfo){this.gBoundTicks&&(this.pMain.removeChild(this.gBoundTicks),this.gBoundTicks=null),this.pTicks||(this.pTicks=new _.GLOBALS.PIXI.Graphics,this.pMain.addChild(this.pTicks)),this.texts=[],this.pTicks.removeChildren();for(var e=0;e<this.chromInfo.cumPositions.length;e++){var t=this.chromInfo.cumPositions[e].chr;this.gTicks[t]=new _.GLOBALS.PIXI.Graphics,this.tickTexts[t]||(this.tickTexts[t]=[]);var n=new _.GLOBALS.PIXI.Text(t,this.pixiTextConfig);n.hashValue=Math.random(),this.pTicks.addChild(n),this.pTicks.addChild(this.gTicks[t]),this.texts.push(n)}}}},{key:"rerender",value:function(e,n){var r=(0,a.default)(e);(n||r!==this.prevOptions)&&(this.prevOptions=r,this.options=e,this.pixiTextConfig.fontSize=+this.options.fontSize?+this.options.fontSize+"px":this.pixiTextConfig.fontSize,this.pixiTextConfig.fill=this.options.color||this.pixiTextConfig.fill,this.pixiTextConfig.stroke=this.options.stroke||this.pixiTextConfig.stroke,this.stroke=(0,b.colorToHex)(this.pixiTextConfig.stroke),this.tickColor=this.options.tickColor?(0,b.colorToHex)(this.options.tickColor):7829367,"ends"===this.options.tickPositions?this.initBoundsTicks():this.initChromLabels(),(0,f.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"rerender",this).call(this,e,n),this.options.showMousePosition&&!this.hideMousePosition&&(this.hideMousePosition=(0,b.showMousePosition)(this,this.is2d,this.isShowGlobalMousePosition())),!this.options.showMousePosition&&this.hideMousePosition&&(this.hideMousePosition(),this.hideMousePosition=void 0))}},{key:"formatTick",value:function(e){var t=this._xScale.domain(),n=t[1]-t[0],r=(0,m.precisionPrefix)(e,n),i=(0,m.format)(","),o=(0,m.formatPrefix)(",."+String(r),n),a=i;return"si"===this.options.tickFormat?a=o:"plain"===this.options.tickFormat?a=i:"ends"===this.options.tickPositions&&(a=o),a(e)}},{key:"drawBoundsTicks",value:function(e,t){var n=this.gBoundTicks;n.clear(),n.lineStyle(1,0),n.moveTo(1,this.dimensions[1]),n.lineTo(1,this.dimensions[1]-this.tickHeight),n.moveTo(this.dimensions[0]-1,this.dimensions[1]),n.lineTo(this.dimensions[0]-1,this.dimensions[1]-this.tickHeight),this.leftBoundTick.x=0,this.leftBoundTick.y=this.dimensions[1]-this.tickHeight-this.tickTextSeparation,this.leftBoundTick.text=String(e[0])+": "+String(this.formatTick(e[1])),this.leftBoundTick.anchor.y=1,this.rightBoundTick.x=this.dimensions[0],this.rightBoundTick.text=String(t[0])+": "+String(this.formatTick(t[1])),this.rightBoundTick.y=this.dimensions[1]-this.tickHeight-this.tickTextSeparation,this.rightBoundTick.anchor.y=1,this.rightBoundTick.anchor.x=1,this.leftBoundTick.tickLine=[1,this.dimensions[1],1,this.dimensions[1]-this.tickHeight],this.rightBoundTick.tickLine=[this.dimensions[0]-1,this.dimensions[1],this.dimensions[0]-1,this.dimensions[1]-this.tickHeight],this.tickTexts={},this.tickTexts.all=[this.leftBoundTick,this.rightBoundTick]}},{key:"drawTicks",value:function(e){var t=this.gTicks[e.chr];t.visible=!0,t.clear();for(var n=+this.chromInfo.chromLengths[e.chr],r=Math.max(this._xScale(e.pos),0),i=Math.min(this._xScale(e.pos+n),this.dimensions[0]),o=(i-r)/this.tickWidth,a=(0,p.scaleLinear)().domain([Math.max(1,this._xScale.invert(0)-e.pos),Math.min(n,this._xScale.invert(this.dimensions[0])-e.pos)]).range(r,i).ticks(o),s=this.tickTexts[e.chr],l=this.options.fontIsLeftAligned?(+this.options.fontSize||this.textFontSize)/2:this.tickHeight,u=this.flipText?-1:1,c=this.options.fontIsLeftAligned?4*u:0,f=this.options.fontIsLeftAligned?0:l+this.tickTextSeparation;s.length<a.length;){var d=new _.GLOBALS.PIXI.Text("",this.pixiTextConfig);s.push(d),this.gTicks[e.chr].addChild(d)}for(;s.length>a.length;){var h=s.pop();this.gTicks[e.chr].removeChild(h)}for(var m=0;m<a.length;){s[m].visible=!0,s[m].anchor.x=this.options.fontIsLeftAligned?0:.5,s[m].anchor.y=1,this.flipText&&(s[m].scale.x=-1),s[m].x=this._xScale(e.pos+a[m])+c,s[m].y=this.dimensions[1]-f,s[m].text=0===a[m]?String(e.chr)+": 1":String(e.chr)+": "+String(this.formatTick(a[m]));var v=this._xScale(e.pos+a[m]);s[m].tickLine=[v-1,this.dimensions[1],v-1,this.dimensions[1]-l-1],t.lineStyle(1,this.stroke),t.moveTo(v-1,this.dimensions[1]),t.lineTo(v-1,this.dimensions[1]-l-1),this.options.fontIsLeftAligned?(t.lineTo(v+2*u+1*u,this.dimensions[1]-l-1),t.lineTo(v+2*u+1*u,this.dimensions[1]-l+1),t.lineTo(v+1,this.dimensions[1]-l+1)):t.lineTo(v+1,this.dimensions[1]-l-1),t.lineTo(v+1,this.dimensions[1]),t.lineStyle(1,this.tickColor),t.moveTo(v,this.dimensions[1]),t.lineTo(v,this.dimensions[1]-l),this.options.fontIsLeftAligned&&t.lineTo(v+2*u,this.dimensions[1]-l),m+=1}for(;m<s.length;)s[m].visible=!1,m+=1;return a.length}},{key:"draw",value:function(){var e=this;if(this.allTexts=[],this.texts&&this.searchField){var t=(0,b.absToChr)(this._xScale.domain()[0],this.chromInfo),n=(0,b.absToChr)(this._xScale.domain()[1],this.chromInfo);if(t&&n){if("ends"===this.options.tickPositions){if(!this.gBoundTicks)return;return this.gBoundTicks.visible=!0,void this.drawBoundsTicks(t,n)}if(this.pTicks){for(var r=0;r<this.texts.length;r++)this.texts[r].visible=!1,this.gTicks[this.chromInfo.cumPositions[r].chr].visible=!1;var i=this.options.fontIsLeftAligned?0:this.tickHeight+this.tickTextSeparation;(0,o.default)(this.chromInfo.chrPositions).forEach((function(t){if(e.tickTexts[t])for(var n=0;n<e.tickTexts[t].length;n++)e.tickTexts[t][n].visible=!1}));for(var a=t[3];a<=n[3];a++){var s=this.chromInfo.cumPositions[a],l=s.pos+this.chromInfo.chromLengths[s.chr]/2,u=this._xScale(l),c=this.texts[a];c.anchor.x=this.options.fontIsLeftAligned?0:.5,c.anchor.y=1,c.x=u,c.y=this.dimensions[1]-i,c.updateTransform(),this.flipText&&(c.scale.x=-1);var f=this.drawTicks(s);c.visible=f<=0,this.allTexts.push({importance:c.hashValue,text:c,caption:null})}this.hideOverlaps(this.allTexts)}}else console.warn("Empty chromInfo:",this.dataConfig,this.chromInfo)}}},{key:"hideOverlaps",value:function(e){var t;t=e.map((function(e,t){var n=e.text;n.updateTransform();var r=n.getBounds();return[r.x,r.y,r.x+r.width,r.y+r.height]})),(0,h.default)(t,(function(t,n){e[t].importance>e[n].importance?e[n].text.visible=!1:e[t].text.visible=!1}))}},{key:"setPosition",value:function(e){(0,f.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"setPosition",this).call(this,e);var n=(0,i.default)(this.position,2);this.pMain.position.x=n[0],this.pMain.position.y=n[1]}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.draw()}},{key:"exportSVG",value:function(){var e=this,n=null,o=null;if((0,f.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"exportSVG",this)){var a=(0,f.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"exportSVG",this).call(this),l=(0,i.default)(a,2);o=l[0],n=l[1]}else n=o=document.createElement("g");o.setAttribute("class","chromosome-labels");var u=document.createElement("g");return n.appendChild(u),u.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),this.allTexts.filter((function(e){return e.text.visible})).forEach((function(e){var t=(0,b.pixiTextToSvg)(e.text);u.appendChild(t)})),(0,r.default)(this.tickTexts).forEach((function(t){t.filter((function(e){return e.visible})).forEach((function(t){var n=(0,b.pixiTextToSvg)(t);u.appendChild(n),n=(0,b.svgLine)(t.x,e.dimensions[1],t.x,e.dimensions[1]-e.tickHeight,1,e.tickColor);var r=document.createElement("line");r.setAttribute("x1",t.tickLine[0]),r.setAttribute("y1",t.tickLine[1]),r.setAttribute("x2",t.tickLine[2]),r.setAttribute("y2",t.tickLine[3]),r.setAttribute("style","stroke: grey"),u.appendChild(n),u.appendChild(r)}))})),[o,n]}}]),t}(v.default);t.default=w},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(16)),i=v(n(19)),o=v(n(5)),a=v(n(3)),s=v(n(4)),l=v(n(6)),u=v(n(13)),c=v(n(7)),f=n(70),d=v(n(134)),h=n(24),p=n(10),m=n(11);function v(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n)),i=e.animate;return r.pMain=r.pMobile,r.colorScale=m.HEATED_OBJECT_MAP,r.continuousScaling=!1,n&&n.colorRange&&(r.colorScale=(0,p.colorDomainToRgbaArray)(n.colorRange)),r.animate=i,r.options=n,r.pubSubs=[],r}return(0,c.default)(t,e),(0,s.default)(t,[{key:"rerender",value:function(e,n){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"rerender",this).call(this,e,n),this.zoomed(this.xScale(),this.yScale(),this.pMain.scale.x,this.pMain.position.x,this.pMain.position.y)}},{key:"calculateZoomLevel",value:function(){var e=null;if(this.tilesetInfo.resolutions){var t=h.tileProxy.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),n=h.tileProxy.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]);e=Math.min(t,n)}else{var r=h.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),i=h.tileProxy.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]);e=Math.max(r,i),e=Math.min(e,this.maxZoom)}return this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?e=Math.min(this.options.maxZoom,e):console.error("Invalid maxZoom on track:",this)),e}},{key:"calculateVisibleTiles",value:function(){if(this.tilesetInfo){this.zoomLevel=this.calculateZoomLevel();var e=this._xScale.copy();if(e.domain([this._xScale.invert(this._xScale.range()[0]-this.dimensions[1]*Math.sqrt(2)),this._xScale.invert(this._xScale.range()[1]+this.dimensions[1]*Math.sqrt(2))]),this.tilesetInfo.resolutions){var t=this.tilesetInfo.resolutions.map((function(e){return+e})).sort((function(e,t){return t-e}));this.xTiles=h.tileProxy.calculateTilesFromResolution(t[this.zoomLevel],e,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),this.yTiles=h.tileProxy.calculateTilesFromResolution(t[this.zoomLevel],e,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0])}else this.xTiles=h.tileProxy.calculateTiles(this.zoomLevel,e,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=h.tileProxy.calculateTiles(this.zoomLevel,e,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);for(var n=this.xTiles,r=this.yTiles,i=this.zoomLevel,o=this.tilesetInfo.max_width/Math.pow(2,i),a=[],s=0;s<n.length;s++)for(var l=s;l<r.length;l++)if(!((l-s-2)*(this._xScale(o)-this._xScale(0))*Math.sqrt(2)/2>this.dimensions[1])){var u=[i,n[s],r[l]];u.mirrored=!1,u.dataTransform=this.options.dataTransform?this.options.dataTransform:"default",a.push(u)}this.setVisibleTiles(a)}}},{key:"tileDataToCanvas",value:function(e){var t=document.createElement("canvas");t.width=256,t.height=256;var n=t.getContext("2d");n.fillStyle="transparent",n.fillRect(0,0,t.width,t.height);var r=new ImageData(e,t.width,t.height);return n.putImageData(r,0,0),t}},{key:"setSpriteProperties",value:function(e,t,n,r){var i=this.getTilePosAndDimensions(t,n),o=i.tileX,a=i.tileY,s=o+i.tileWidth,l=a+i.tileHeight;e.width=this._refXScale(s)-this._refXScale(o),e.height=this._refYScale(l)-this._refYScale(a),e.x=this._refXScale(o),e.y=this._refYScale(a)}},{key:"renderTile",value:function(e){var t=this,n=(0,f.getValueScale)(this.options.heatmapValueScaling,this.scale.minValue,this.medianVisibleValue,this.scale.maxValue,"log"),r=(0,i.default)(n,2),o=r[0],a=r[1];this.valueScale=a;var s=0;"log"===o&&(s=this.valueScale.domain()[0]),this.limitedValueScale=this.valueScale.copy(),this.options&&"undefined"!==typeof this.options.scaleStartPercent&&"undefined"!==typeof this.options.scaleEndPercent&&this.limitedValueScale.domain([this.valueScale.domain()[0]+(this.valueScale.domain()[1]-this.valueScale.domain()[0])*this.options.scaleStartPercent,this.valueScale.domain()[0]+(this.valueScale.domain()[1]-this.valueScale.domain()[0])*this.options.scaleEndPercent]);var l=!0;e.renderInfo&&e.renderInfo.scaleType===o&&e.renderInfo.scaleDomain&&e.renderInfo.scaleDomain[0]===this.limitedValueScale.domain()[0]&&e.renderInfo.scaleDomain[1]===this.limitedValueScale.domain()[1]&&(l=!1),l&&(e.renderInfo={},e.renderInfo.scaleType=o,e.renderInfo.scaleDomain=this.limitedValueScale.domain(),this.renderingTiles.add(e.tileId),h.tileProxy.tileDataToPixData(e,o,this.limitedValueScale.domain(),s,this.colorScale,(function(n){if(n){var r=e.graphics,i=t.tileDataToCanvas(n.pixData),o="4"===m.GLOBALS.PIXI.VERSION[0]?m.GLOBALS.PIXI.Texture.fromCanvas(i,m.GLOBALS.PIXI.SCALE_MODES.NEAREST):m.GLOBALS.PIXI.Texture.from(i,{scaleMode:m.GLOBALS.PIXI.SCALE_MODES.NEAREST});e.sprite=new m.GLOBALS.PIXI.Sprite(o),e.canvas=i,t.setSpriteProperties(e.sprite,e.tileData.zoomLevel,e.tileData.tilePos,e.mirrored),r.pivot.x=t._refXScale(0),r.pivot.y=t._refYScale(0),r.scale.x=-1/Math.sqrt(2),r.rotation=-3*Math.PI/4,r.scale.y=1/Math.sqrt(2),r.position.x=t._refXScale(0),r.position.y=0,r.removeChildren(),r.addChild(e.sprite)}t.renderingTiles.delete(e.tileId)}),this.mirrorTiles&&!e.mirrored&&e.tileData.tilePos[0]===e.tileData.tilePos[1]))}},{key:"refScalesChanged",value:function(e,n){for(var r in(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"refScalesChanged",this).call(this,e,n),this.fetchedTiles){var i=this.fetchedTiles[r];if(i.sprite){this.setSpriteProperties(i.sprite,i.tileData.zoomLevel,i.tileData.tilePos,i.mirrored);var a=i.graphics;a.pivot.x=this._refXScale(0),a.pivot.y=this._refYScale(0),a.scale.x=-1/Math.sqrt(2),a.rotation=-3*Math.PI/4,a.scale.y=1/Math.sqrt(2),a.position.x=this._refXScale(0),a.position.y=0}}}},{key:"zoomed",value:function(e,n,r,i,a){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"zoomed",this).call(this,e,n,r,i,a),(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"draw",this).call(this),this.pMain.position.x=i,this.pMain.position.y=this.position[1]+this.dimensions[1],this.pMain.scale.x=r,this.pMain.scale.y=r,this.options.oneDHeatmapFlipped&&(this.pMain.scale.y=-r,this.pMain.position.y=this.position[1])}},{key:"leftTrackDraw",value:function(){this.draw()}},{key:"exportSVG",value:function(){var e,n=null,a=(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"superSVG",this).call(this),s=(0,i.default)(a,2);e=s[0],n=s[1];var l=document.createElement("g");n.appendChild(l),l.setAttribute("transform","translate("+String(this.pMain.position.x)+","+String(this.pMain.position.y)+") scale("+String(this.pMain.scale.x)+","+String(this.pMain.scale.y)+")");var c=!0,f=!1,d=void 0;try{for(var h,p=(0,r.default)(this.visibleAndFetchedTiles());!(c=(h=p.next()).done);c=!0){var m=h.value,v=document.createElement("g"),g=m.graphics,y=180*g.rotation/Math.PI,b="translate("+String(g.position.x)+","+String(g.position.y)+") rotate("+y+") scale("+String(g.scale.x)+","+String(g.scale.y)+") translate("+-g.pivot.x+","+-g.pivot.y+")";v.setAttribute("transform",b);var _=180*m.sprite.rotation/Math.PI,x=document.createElement("g");x.setAttribute("transform","translate("+String(m.sprite.x)+","+String(m.sprite.y)+") rotate("+_+") scale("+String(m.sprite.scale.x)+","+String(m.sprite.scale.y)+")");var w=document.createElement("image");w.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m.canvas.toDataURL()),w.setAttribute("width",256),w.setAttribute("height",256),x.appendChild(w),v.appendChild(x),l.appendChild(v)}}catch(T){f=!0,d=T}finally{try{!c&&p.return&&p.return()}finally{if(f)throw d}}var E=this.exportColorBarSVG();return n.appendChild(E),[e,e]}}]),t}(d.default);t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=m(n(32)),i=m(n(25)),o=m(n(21)),a=m(n(5)),s=m(n(3)),l=m(n(4)),u=m(n(6)),c=m(n(7)),f=n(28),d=m(n(112)),h=m(n(175)),p=n(10);function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e,n){(0,s.default)(this,t);var r=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e,n));return r.axis=new h.default(r),r.pBase.addChild(r.axis.pAxis),r}return(0,c.default)(t,e),(0,l.default)(t,[{key:"initTile",value:function(e){this.scale.minRawValue=this.minVisibleValueInTiles(),this.scale.maxRawValue=this.minVisibleValueInTiles(),this.scale.minValue=this.scale.minRawValue,this.scale.maxValue=this.scale.maxRawValue,this.drawTile(e)}},{key:"drawTile",value:function(e){var t=this;if(e.graphics){var n=e.graphics;n.clear(),this.valueScale=(0,f.scaleLog)().domain([this.minValue()+.01,this.maxValue()]).range([this.dimensions[1]-3,3]);var r=(0,p.colorToHex)("black");n.lineStyle(1,r,.3),n.beginFill(r,.3),this.drawAxis(this.valueScale),e.tileData.forEach((function(e){var r=e.fields,i=+e.chrOffset,o=+r[1]+i,a=+r[2]+i,s=+r[3],l=t._xScale(o),u=t._xScale(a),c=Math.max(u-l,4),f=t.valueScale(s),d=(u+l)/2;n.drawRect(d-c/2,f-3,c,6)}))}}},{key:"minVisibleValueInTiles",value:function(){var e=this,t=this.visibleAndFetchedIds();return 0===t.length&&(t=(0,o.default)(this.fetchedTiles)),Math.min.apply(null,t.map((function(t){return+Math.min.apply(Math,(0,i.default)(e.fetchedTiles[t].tileData.filter((function(e){return!(0,r.default)(e.fields[3])})).map((function(e){return+e.fields[3]}))))})))}},{key:"maxVisibleValueInTiles",value:function(){var e=this,t=this.visibleAndFetchedIds();return 0===t.length&&(t=(0,o.default)(this.fetchedTiles)),Math.max.apply(null,t.map((function(t){return+Math.max.apply(Math,(0,i.default)(e.fetchedTiles[t].tileData.filter((function(e){return!(0,r.default)(e.fields[3])})).map((function(e){return+e.fields[3]}))))})))}}]),t}(d.default);t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VerticalRuleMixin=void 0;var r=p(n(19)),i=p(n(13)),o=p(n(5)),a=p(n(3)),s=p(n(4)),l=p(n(6)),u=p(n(7)),c=n(81),f=p(n(41)),d=p(n(254)),h=n(10);function p(e){return e&&e.__esModule?e:{default:e}}var m=t.VerticalRuleMixin=(0,c.Mixin)((function(e){return function(e){function t(){return(0,a.default)(this,t),(0,l.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"drawVerticalRule",value:function(e){var t=(0,h.colorToHex)("black");this.highlighted&&(t=(0,h.colorToHex)("red")),e.lineStyle(this.strokeWidth,t,this.strokeOpacity);for(var n=0;n<this.dimensions[1];)e.moveTo(this._xScale(this.xPosition),n),e.lineTo(this._xScale(this.xPosition),n+this.dashLength),n+=this.dashLength+this.dashGap}},{key:"isMouseOverVerticalLine",value:function(e){return Math.abs(e.x-this.position[0]-this._xScale(this.xPosition))<this.MOUSEOVER_RADIUS}}]),t}(e)})),v=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n));return r.xPosition=e.xPosition,r.strokeWidth=2,r.strokeOpacity=1,r.dashLength=5,r.dashGap=3,r}return(0,u.default)(t,e),(0,s.default)(t,[{key:"draw",value:function(){var e=this.pMain;e.clear(),this.drawVerticalRule(e),this.animate()}},{key:"exportSVG",value:function(){var e=null,n=null;if((0,i.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"exportSVG",this)){var a=(0,i.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"exportSVG",this).call(this),s=(0,r.default)(a,2);n=s[0],e=s[1]}else e=n=document.createElement("g");var l=document.createElement("g");l.setAttribute("class","vertical-rule"),l.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),e.appendChild(l);var u="black";this.highlighted&&(u="red");var c=document.createElement("line");return c.setAttribute("stroke",u),c.setAttribute("stroke-width",this.strokeWidth),c.setAttribute("stroke-dasharray",String(this.dashLength)+" "+String(this.dashGap)),c.setAttribute("x1",this._xScale(this.xPosition)),c.setAttribute("y1",0),c.setAttribute("x2",this._xScale(this.xPosition)),c.setAttribute("y2",this.dimensions[1]),l.appendChild(c),[n,e]}},{key:"mouseMoveHandler",value:function(e){this.highlighted=this.isWithin(e.x,e.y)&&this.isMouseOverVerticalLine(e),this.draw()}}]),t}((0,c.mix)(f.default).with(d.default,m));t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(5)),i=u(n(3)),o=u(n(4)),a=u(n(6)),s=u(n(13)),l=u(n(7));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n));return o.style=n.style,o.options.accessToken||(o.errorTextText="No access token provided in the viewconf's track options ('accessToken' option).",o.drawError()),o}return(0,l.default)(t,e),(0,o.default)(t,[{key:"rerender",value:function(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"rerender",this).call(this,e),e.style!==this.style&&(this.style=e.style,this.removeAllTiles(),this.refreshTiles())}},{key:"getTileUrl",value:function(e){var t=this.options&&this.options.style?this.options.style:"streets-v10",n=this.options&&+this.options.tileSize?+this.options.tileSize:256;return"https://api.mapbox.com/styles/v1/mapbox/"+String(t)+"/tiles/"+n+"/"+String(e[0])+"/"+String(e[1])+"/"+String(e[2])+"?access_token="+String(this.options.accessToken)}}]),t}(u(n(136)).default);t.default=c},function(e,t,n){"use strict";e.exports=function(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(i=i+t[r++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16|0}},function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t,n,i){var o=r,a=i+n;e^=-1;for(var s=i;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}},function(e,t,n){"use strict";var r=n(82),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(u){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(u){o=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function l(e,t){if(t<65534&&(e.subarray&&o||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,t.string2buf=function(e){var t,n,i,o,a,s=e.length,l=0;for(o=0;o<s;o++)55296===(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320===(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(l),a=0,o=0;a<l;o++)55296===(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320===(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},t.buf2binstring=function(e){return l(e,e.length)},t.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,r,i,o,s=t||e.length,u=new Array(2*s);for(r=0,n=0;n<s;)if((i=e[n++])<128)u[r++]=i;else if((o=a[i])>4)u[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&n<s;)i=i<<6|63&e[n++],o--;o>1?u[r++]=65533:i<65536?u[r++]=i:(i-=65536,u[r++]=55296|i>>10&1023,u[r++]=56320|1023&i)}return l(u,r)},t.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128===(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}},function(e,t,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r};n(649),t.default=function(){return o.default.createElement("div",{className:"Cross-module_cross-3WYME"})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(5)),i=d(n(3)),o=d(n(4)),a=d(n(6)),s=d(n(7)),l=d(n(1)),u=n(81),c=d(n(660)),f=n(179);function d(e){return e&&e.__esModule?e:{default:e}}var h=(0,u.Mixin)((function(e){return function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"getSubmenu",value:function(){var e=this;if(this.state.submenuShown){var t=this.state.submenuSourceBbox,n=null;n="left"===this.state.orientation?{left:this.state.left,top:t.top}:{left:this.state.left+t.width+7,top:t.top};var r=(0,f.getAllTracksAndSubtracks)(this.props.tracks).filter((function(t){return t.uid===e.state.submenuShown.uid}))[0],i=r&&!("whole"===r.position);return l.default.createElement(c.default,{key:"series-list-menu-"+String(r.uid),ref:function(t){e.seriesListMenu=t},closeMenu:this.props.closeMenu,hostTrack:this.props.tracks[0],onAddDivisor:this.props.onAddDivisor,onAddSeries:i?this.props.onAddSeries:null,onChangeTrackData:this.props.onChangeTrackData,onChangeTrackType:this.props.onChangeTrackType,onCloseTrack:function(){return e.props.onCloseTrack(e.state.submenuShown.uid)},onConfigureTrack:this.props.onConfigureTrack,onDivideSeries:this.props.onDivideSeries,onExportData:this.props.onExportData,onLockScales:this.props.onLockScales,onTrackOptionsChanged:this.props.onTrackOptionsChanged,orientation:this.state.orientation,parentBbox:t,position:n,series:this.state.submenuShown,theme:this.props.theme,track:r,trackOrientation:this.props.trackOrientation,trackSourceServers:this.props.trackSourceServers})}return l.default.createElement("div",null)}}]),t}(e)}));t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(5)),i=h(n(3)),o=h(n(4)),a=h(n(6)),s=h(n(7)),l=h(n(33)),u=h(n(1)),c=h(n(94)),f=h(n(67)),d=n(11);function h(e){return e&&e.__esModule?e:{default:e}}n(68);var p={"../styles/ContextMenu.module.scss":{"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-dark":"ContextMenu-module_context-menu-dark-2PO31","context-menu-icon":"ContextMenu-module_context-menu-icon-I4kiw","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}},m=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"getSubmenu",value:function(){if(this.state.submenuShown){var e=this.state.submenuSourceBbox,n="left"===this.state.orientation?{left:this.state.left,top:e.top}:{left:this.state.left+e.width+7,top:e.top},r=this.state.submenuShown;return u.default.createElement(t,{menuItems:r.children,orientation:this.state.orientation,parentBbox:e,position:n,theme:this.props.theme})}return u.default.createElement("div",null)}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this,t=[],n=function(n){var r=e.props.menuItems[n];t.push(u.default.createElement(f.default,{key:n,onClick:r.handler?r.handler:function(){return null},onMouseEnter:r.children?function(t){return e.handleItemMouseEnter(t,r)}:e.handleOtherMouseEnter.bind(e),onMouseLeave:e.handleMouseLeave},r.name,r.children&&u.default.createElement("svg",{className:"ContextMenu-module_play-icon-R4pIO"},u.default.createElement("use",{xlinkHref:"#play"}))))};for(var r in this.props.menuItems)n(r);var i="context-menu";return this.props.theme===d.THEME_DARK&&(i+=" context-menu-dark"),u.default.createElement("div",{ref:function(t){e.div=t},style:{left:this.state.left,top:this.state.top},className:(0,l.default)(i,p)},t,this.getSubmenu())}}]),t}(c.default);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=x(n(5)),i=x(n(3)),o=x(n(4)),a=x(n(6)),s=x(n(7)),l=x(n(33)),u=x(n(2)),c=x(n(1)),f=n(83),d=n(0),h=x(n(27)),p=x(n(371)),m=x(n(662)),v=x(n(373)),g=n(10),y=n(11),b=(x(n(666)),x(n(173))),_=x(n(172));function x(e){return e&&e.__esModule?e:{default:e}}var w={styles:{"horizontal-tiled-plot":"HorizontalTiledPlot-module_horizontal-tiled-plot-3EK65"},stylesPlot:{"tiled-plot":"TiledPlot-module_tiled-plot-uFHiB",horizontalList:"TiledPlot-module_horizontalList-1c1P8",list:"TiledPlot-module_list-24zgV",stylizedList:"TiledPlot-module_stylizedList-Mt4JL",stylizedItem:"TiledPlot-module_stylizedItem-2bQBK",stylizedHelper:"TiledPlot-module_stylizedHelper-3IVEu",horizontalItem:"TiledPlot-module_horizontalItem-2-ZjU","resizable-track":"TiledPlot-module_resizable-track-2oLT9",domain:"TiledPlot-module_domain-qYw6K"},stylesTrack:{"track-range-selection":"Track-module_track-range-selection-1yrDf","track-range-selection-active":"Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-primary":"Track-module_track-range-selection-active-primary-29M73 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-secondary":"Track-module_track-range-selection-active-secondary-1s0t5 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-group-inactive":"Track-module_track-range-selection-group-inactive-YNRM4","track-range-selection-group-brush-selection":"Track-module_track-range-selection-group-brush-selection-2VYDl"}},E=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.brushBehavior=(0,f.brushX)(!0).on("start",n.brushStarted.bind(n)).on("brush",n.brushed.bind(n)).on("end",n.brushedEnded.bind(n)),n}return(0,s.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.isRangeSelectionActive&&this.addBrush()}},{key:"shouldComponentUpdate",value:function(e,t){return this.rangeSelectionTriggered?(this.rangeSelectionTriggered=!1,this.rangeSelectionTriggeredEnd&&this.props.rangeSelection!==e.rangeSelection&&this.moveBrush(e.rangeSelection[0]?e.rangeSelection[0]:null,!0),this.rangeSelectionTriggeredEnd=!1,this.state!==t):this.props.rangeSelection===e.rangeSelection||(this.moveBrush(e.rangeSelection[0]?e.rangeSelection[0]:null,e.rangeSelectionEnd),this.state!==t)}},{key:"componentDidUpdate",value:function(){this.props.isRangeSelectionActive?this.addBrush():this.removeBrush()}},{key:"addBrush",value:function(){this.brushEl&&this.brushElAddedBefore!==this.brushEl&&(this.brushElAddedBefore&&this.brushElAddedBefore.on(".brush",null),this.brushEl.call(this.brushBehavior),this.brushElAddedBefore=this.brushEl,(0,g.resetD3BrushStyle)(this.brushEl,_.default["track-range-selection-group-brush-selection"]))}},{key:"brushed",value:function(){var e=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,this.sourceEvent&&this.props.onRangeSelection&&!e&&(this.rangeSelectionTriggered=!0,this.props.onRangeSelection(d.event.selection))}},{key:"brushStarted",value:function(){this.sourceEvent&&d.event.selection&&this.props.onRangeSelectionStart()}},{key:"brushedEnded",value:function(){if(this.props.is1dRangeSelection){var e=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,d.event.selection&&d.event.sourceEvent&&this.props.onRangeSelection&&!e&&(this.rangeSelectionTriggered=!0,this.rangeSelectionTriggeredEnd=!0,this.props.onRangeSelectionEnd(d.event.selection)),d.event.selection||(this.rangeSelectionTriggered=!0,this.props.onRangeSelectionReset())}}},{key:"moveBrush",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.brushEl){var n=e?[this.props.scale(e[0]),this.props.scale(e[1])]:null;this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,t?this.brushEl.transition().call(this.brushBehavior.move,n):this.brushEl.call(this.brushBehavior.move,n)}}},{key:"removeBrush",value:function(){this.brushElAddedBefore&&(this.brushElAddedBefore.call(this.brushBehavior.move,null),this.brushElAddedBefore.on(".brush",null),this.brushElAddedBefore=void 0,this.props.onRangeSelectionReset())}},{key:"render",value:function(){var e=this,t=this.props.tracks.map((function(e){return e.height})).reduce(g.sum,0),n=this.props.tracks.map((function(e){return(0,y.IS_TRACK_RANGE_SELECTABLE)(e)})).reduce(g.or,!1),r=this.props.isRangeSelectionActive?"stylesTrack.track-range-selection-active":"stylesTrack.track-range-selection";return c.default.createElement("div",{className:"horizontal-tiled-plot HorizontalTiledPlot-module_horizontal-tiled-plot-3EK65"},n&&c.default.createElement("svg",{ref:function(t){e.brushEl=(0,d.select)(t)},style:{height:t,width:this.props.width},xmlns:"http://www.w3.org/2000/svg",className:(0,l.default)(r,w)}),c.default.createElement(p.default,{className:String(b.default.list)+" "+String(b.default.stylizedList),component:v.default,editable:this.props.editable,handleConfigTrack:this.props.handleConfigTrack,handleResizeTrack:this.props.handleResizeTrack,height:t,helperClass:b.default.stylizedHelper,itemClass:b.default.stylizedItem,itemReactClass:m.default,items:this.props.tracks.map((function(t){return{configMenuVisible:t.uid===e.props.configTrackMenuId,uid:t.uid||h.default.nice(),width:e.props.width,height:t.height,value:t.value}})),onAddSeries:this.props.onAddSeries,onCloseTrack:this.props.onCloseTrack,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,onSortEnd:this.props.handleSortEnd,referenceAncestor:this.props.referenceAncestor,resizeHandles:this.props.resizeHandles,useDragHandle:!0,width:this.props.width}))}},{key:"sourceEvent",get:function(){return d.event&&d.event.sourceEvent}}]),t}(c.default.Component);E.propTypes={configTrackMenuId:u.default.string,editable:u.default.bool,handleConfigTrack:u.default.func,handleResizeTrack:u.default.func,handleSortEnd:u.default.func,is1dRangeSelection:u.default.bool,isRangeSelectionActive:u.default.bool,onAddSeries:u.default.func,onCloseTrack:u.default.func,onCloseTrackMenuOpened:u.default.func,onConfigTrackMenuOpened:u.default.func,onRangeSelection:u.default.func,onRangeSelectionEnd:u.default.func,onRangeSelectionReset:u.default.func,onRangeSelectionStart:u.default.func,rangeSelection:u.default.array,rangeSelectionEnd:u.default.bool,referenceAncestor:u.default.func,resizeHandles:u.default.object,scale:u.default.func,tracks:u.default.array,width:u.default.number},t.default=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(44)),i=d(n(5)),o=d(n(3)),a=d(n(4)),s=d(n(6)),l=d(n(7)),u=d(n(2)),c=d(n(1)),f=n(121);function d(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){var n=e.items;(0,o.default)(this,t);var r=(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this));return r.state={items:n,isSorting:!1},r}return(0,l.default)(t,e),(0,a.default)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({items:e.items})}},{key:"onSortStart",value:function(e,t){e.node;var n=e.index;e.collection,t.stopImmediatePropagation();var r=this.props.onSortStart;this.setState({isSorting:!0}),r&&r(this.ref),this.sortingIndex=n,this.sortStartTop=t.offsetTop,this.sortStartLeft=t.offsetLeft}},{key:"onSortMove",value:function(){}},{key:"onSortEnd",value:function(e){var t=e.oldIndex,n=e.newIndex,r=this.props.onSortEnd,i=this.state.items;this.setState({items:(0,f.arrayMove)(i,t,n),isSorting:!1}),r&&r(this.state.items),this.sortingIndex=null}},{key:"render",value:function(){var e=this,t=this.props.component,n=this.state,i=n.items,o={isSorting:n.isSorting,items:i,onSortEnd:this.onSortEnd.bind(this),onSortStart:this.onSortStart.bind(this),onSortMove:this.onSortMove.bind(this)};return c.default.createElement(t,(0,r.default)({},this.props,o,{ref:function(t){e.ref=t}}))}}]),t}(c.default.Component);h.propTypes={axis:u.default.string,className:u.default.string,component:u.default.func,editable:u.default.bool,handleConfigTrack:u.default.func,handleResizeTrack:u.default.func,height:u.default.number,helperClass:u.default.string,itemClass:u.default.string,itemControlAlignLeft:u.default.bool,itemReactClass:u.default.func,items:u.default.array,onAddSeries:u.default.func,onCloseTrack:u.default.func,onCloseTrackMenuOpened:u.default.func,onConfigTrackMenuOpened:u.default.func,onSortEnd:u.default.func,onSortStart:u.default.func,referenceAncestor:u.default.string,resizeHandles:u.default.object,useDragHandle:u.default.bool,width:u.default.number},h.defaultProps={className:"list stylizedList",itemClass:"item stylizedItem",width:400,height:600},t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(5)),i=f(n(3)),o=f(n(4)),a=f(n(6)),s=f(n(7)),l=f(n(1)),u=f(n(258)),c=f(n(170));function f(e){return e&&e.__esModule?e:{default:e}}var d={pointerEvents:"all"},h=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"getControls",value:function(e){return l.default.createElement(c.default,{configMenuVisible:this.props.item.configMenuVisible,imgStyleAdd:d,imgStyleClose:d,imgStyleMove:d,imgStyleSettings:d,isMoveable:this.moveable,isVisible:e,onAddSeries:this.props.onAddSeries,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,uid:this.props.uid})}}]),t}(u.default);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(44)),i=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var a=(0,n(121).SortableContainer)((function(e){var t=e.className,n=e.items,o=e.itemClass,a=e.itemControlAlignLeft,s=e.sortingIndex,l=e.useDragHandle,u=e.sortableHandlers,c=e.height,f=e.width,d=e.onCloseTrack,h=e.onCloseTrackMenuOpened,p=e.onConfigTrackMenuOpened,m=e.onAddSeries,v=e.handleConfigTrack,g=e.editable,y=e.itemReactClass,b=e.handleResizeTrack,_=e.resizeHandles,x=n.map((function(e,t){return i.default.createElement(y,{key:"sci-"+String(e.uid),className:o,controlAlignLeft:a,sortingIndex:s,index:t,uid:e.uid,height:e.height,width:e.width,item:e,useDragHandle:l,onCloseTrack:d,onCloseTrackMenuOpened:h,onConfigTrackMenuOpened:p,onAddSeries:m,handleConfigTrack:v,editable:g,handleResizeTrack:b,resizeHandles:_})}));return i.default.createElement("div",(0,r.default)({className:t,style:{height:c,width:f,background:"transparent"}},u),x)}));t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(5)),i=f(n(3)),o=f(n(4)),a=f(n(6)),s=f(n(7)),l=f(n(1)),u=f(n(258)),c=f(n(170));function f(e){return e&&e.__esModule?e:{default:e}}var d={pointerEvents:"all"},h=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"getControls",value:function(e){return l.default.createElement(c.default,{imgStyleAdd:d,imgStyleClose:d,imgStyleMove:d,imgStyleSettings:d,isAlignLeft:this.props.controlAlignLeft,isMoveable:this.moveable,isVertical:!0,isVisible:e,onAddSeries:this.props.onAddSeries,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,uid:this.props.uid})}}]),t}(u.default);t.default=h},function(e,t,n){e.exports={"multitrack-header":"ViewHeader-module_multitrack-header-3XnZx","multitrack-header-focus":"ViewHeader-module_multitrack-header-focus-3akkN","multitrack-header-squeazed":"ViewHeader-module_multitrack-header-squeazed-GHIVd","multitrack-header-dark":"ViewHeader-module_multitrack-header-dark-97tZt","multitrack-header-id":"ViewHeader-module_multitrack-header-id-3YURk","multitrack-header-left":"ViewHeader-module_multitrack-header-left-Qj9Sm","multitrack-header-grabber":"ViewHeader-module_multitrack-header-grabber-3jrIz","multitrack-header-grabber-squeazed":"ViewHeader-module_multitrack-header-grabber-squeazed-dU45Z","multitrack-header-search":"ViewHeader-module_multitrack-header-search-1X_3_","multitrack-header-nav-list":"ViewHeader-module_multitrack-header-nav-list-2nvcu","multitrack-header-icon":"ViewHeader-module_multitrack-header-icon-16QKZ","multitrack-header-icon-squeazed":"ViewHeader-module_multitrack-header-icon-squeazed-25lkF","mouse-tool-selection":"ViewHeader-module_mouse-tool-selection-1pg2m"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.svgArrowheadDomainsIcon=t.svgVertical1DTilesIcon=t.svg1DTilesIcon=t.svgVerticalGeneAnnotationsIcon=t.svgGeneAnnotationsIcon=t.svgVertical1DAxisIcon=t.svg1DAxisIcon=t.svg2DHeatmapIcon=t.svg2DTilesIcon=t.svgVerticalLineIcon=t.svgHorizontalLineIcon=t.svgHorizontal1dHeatmap=t.svgGeoMapIcon=t.all=t.FOLDER_OPEN_O=t.FOLDER_O=t.CHEVRON_DOWN=t.CHEVRON_RIGHT=t.FILE_O=t.SQUARE_O=t.CHECK_SQUARE_O=t.SELECT=t.TRACK_LINE=t.CONTENT_COPY=t.PLUS=t.PLAY=t.MOVE=t.MINUS=t.ENLARGE=t.CROSS=t.COG=void 0;var r=n(0),i=t.COG={id:"cog",paths:["M466.895 305.125c-26.863-46.527-10.708-106.152 36.076-133.244l-50.313-87.146c-14.375 8.427-31.088 13.259-48.923 13.259-53.768 0-97.354-43.873-97.354-97.995h-100.629c0.133 16.705-4.037 33.641-12.979 49.126-26.862 46.528-86.578 62.351-133.431 35.379l-50.312 87.146c14.485 8.236 27.025 20.294 35.943 35.739 26.819 46.454 10.756 105.96-35.854 133.112l50.313 87.146c14.325-8.348 30.958-13.127 48.7-13.127 53.598 0 97.072 43.596 97.35 97.479h100.627c-0.043-16.537 4.136-33.285 12.983-48.609 26.818-46.453 86.388-62.297 133.207-35.506l50.313-87.145c-14.39-8.233-26.846-20.249-35.717-35.614zM256 359.666c-57.254 0-103.668-46.412-103.668-103.667 0-57.254 46.413-103.667 103.668-103.667s103.666 46.413 103.666 103.667c-0.001 57.255-46.412 103.667-103.666 103.667z"],viewBox:"0 0 512 512"},o=t.CROSS={id:"cross",paths:["M507.331 411.33c-0.002-0.002-0.004-0.004-0.006-0.005l-155.322-155.325 155.322-155.325c0.002-0.002 0.004-0.003 0.006-0.005 1.672-1.673 2.881-3.627 3.656-5.708 2.123-5.688 0.912-12.341-3.662-16.915l-73.373-73.373c-4.574-4.573-11.225-5.783-16.914-3.66-2.080 0.775-4.035 1.984-5.709 3.655 0 0.002-0.002 0.003-0.004 0.005l-155.324 155.326-155.324-155.325c-0.002-0.002-0.003-0.003-0.005-0.005-1.673-1.671-3.627-2.88-5.707-3.655-5.69-2.124-12.341-0.913-16.915 3.66l-73.374 73.374c-4.574 4.574-5.784 11.226-3.661 16.914 0.776 2.080 1.985 4.036 3.656 5.708 0.002 0.001 0.003 0.003 0.005 0.005l155.325 155.324-155.325 155.326c-0.001 0.002-0.003 0.003-0.004 0.005-1.671 1.673-2.88 3.627-3.657 5.707-2.124 5.688-0.913 12.341 3.661 16.915l73.374 73.373c4.575 4.574 11.226 5.784 16.915 3.661 2.080-0.776 4.035-1.985 5.708-3.656 0.001-0.002 0.003-0.003 0.005-0.005l155.324-155.325 155.324 155.325c0.002 0.001 0.004 0.003 0.006 0.004 1.674 1.672 3.627 2.881 5.707 3.657 5.689 2.123 12.342 0.913 16.914-3.661l73.373-73.374c4.574-4.574 5.785-11.227 3.662-16.915-0.776-2.080-1.985-4.034-3.657-5.707z"],viewBox:"0 0 512 512"},a=t.ENLARGE={id:"enlarge",paths:["M512 0h-208l80 80-96 96 48 48 96-96 80 80z","M512 512v-208l-80 80-96-96-48 48 96 96-80 80z","M0 512h208l-80-80 96-96-48-48-96 96-80-80z","M0 0v208l80-80 96 96 48-48-96-96 80-80z"],viewBox:"0 0 512 512"},s=t.MINUS={id:"minus",paths:["M0 208v96c0 8.836 7.164 16 16 16h480c8.836 0 16-7.164 16-16v-96c0-8.836-7.164-16-16-16h-480c-8.836 0-16 7.164-16 16z"],viewBox:"0 0 512 512"},l=t.MOVE={id:"move",paths:["M512,260.096L405.5,161.79v49.155H301.061v-104.45h49.149L251.904,0L160.77,106.495h49.15v104.45H106.495V161.79L0,260.096l106.495,91.135v-49.149h104.45v104.45H161.79L251.904,512l98.306-106.5h-49.149V301.061H405.5v49.149L512,260.096z"],viewBox:"0 0 512 512"},u=t.PLAY={id:"play",paths:["M96 64l320 192-320 192z"],viewBox:"0 0 512 512"},c=t.PLUS={id:"plus",paths:["M496 192h-176v-176c0-8.836-7.164-16-16-16h-96c-8.836 0-16 7.164-16 16v176h-176c-8.836 0-16 7.164-16 16v96c0 8.836 7.164 16 16 16h176v176c0 8.836 7.164 16 16 16h96c8.836 0 16-7.164 16-16v-176h176c8.836 0 16-7.164 16-16v-96c0-8.836-7.164-16-16-16z"],viewBox:"0 0 512 512"},f=t.CONTENT_COPY={id:"copy",paths:["M607.5 672v-448.5h-351v448.5h351zM607.5 160.5c34.5 0 64.5 28.5 64.5 63v448.5c0 34.5-30 64.5-64.5 64.5h-351c-34.5 0-64.5-30-64.5-64.5v-448.5c0-34.5 30-63 64.5-63h351zM511.5 31.5v64.5h-384v448.5h-63v-448.5c0-34.5 28.5-64.5 63-64.5h384z"],viewBox:"0 0 712 712"},d=(t.TRACK_LINE={id:"trackLine",paths:["M60 20 L50 52 L40 26 L34 46 L24 30 L14 50 L4 12"],viewBox:"0 0 60 60"},t.SELECT={id:"select",viewBox:"0 0 16 16",paths:["M2 14h2v1H1v-3h1v2zm8 1H6v-1h4v1zm5 0h-3v-1h2v-2h1v3zm0-5h-1V6h1v4zM2 10H1V6h1v4zm13-6h-1V2h-2V1h3v3zM4 2H2v2H1V1h3v1zm6 0H6V1h4.03L10 2z"]}),h=t.CHECK_SQUARE_O={id:"check_square_o",viewBox:"0 0 1792 1792",paths:["M1472 930v318q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q63 0 117 25 15 7 18 23 3 17-9 29l-49 49q-10 10-23 10-3 0-9-2-23-6-45-6h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113v-254q0-13 9-22l64-64q10-10 23-10 6 0 12 3 20 8 20 29zm231-489l-814 814q-24 24-57 24t-57-24l-430-430q-24-24-24-57t24-57l110-110q24-24 57-24t57 24l263 263 647-647q24-24 57-24t57 24l110 110q24 24 24 57t-24 57z"]},p=t.SQUARE_O={id:"square_o",viewBox:"0 0 1792 1792",paths:["M1312 256h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113v-832q0-66-47-113t-113-47zm288 160v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"]},m=t.FILE_O={id:"file_o",viewBox:"0 0 1792 1792",paths:["M1596 380q28 28 48 76t20 88v1152q0 40-28 68t-68 28h-1344q-40 0-68-28t-28-68v-1600q0-40 28-68t68-28h896q40 0 88 20t76 48zm-444-244v376h376q-10-29-22-41l-313-313q-12-12-41-22zm384 1528v-1024h-416q-40 0-68-28t-28-68v-416h-768v1536h1280z"]},v=t.CHEVRON_RIGHT={id:"chevron_right",viewBox:"0 0 1792 1792",paths:["M1363 877l-742 742q-19 19-45 19t-45-19l-166-166q-19-19-19-45t19-45l531-531-531-531q-19-19-19-45t19-45l166-166q19-19 45-19t45 19l742 742q19 19 19 45t-19 45z"]},g=t.CHEVRON_DOWN={id:"chevron_down",viewBox:"0 0 1792 1792",paths:["M1683 808l-742 741q-19 19-45 19t-45-19l-742-741q-19-19-19-45.5t19-45.5l166-165q19-19 45-19t45 19l531 531 531-531q19-19 45-19t45 19l166 165q19 19 19 45.5t-19 45.5z"]},y=t.FOLDER_O={id:"folder_o",viewBox:"0 0 1792 1792",paths:["M1600 1312v-704q0-40-28-68t-68-28h-704q-40 0-68-28t-28-68v-64q0-40-28-68t-68-28h-320q-40 0-68 28t-28 68v960q0 40 28 68t68 28h1216q40 0 68-28t28-68zm128-704v704q0 92-66 158t-158 66h-1216q-92 0-158-66t-66-158v-960q0-92 66-158t158-66h320q92 0 158 66t66 158v32h672q92 0 158 66t66 158z"]},b=t.FOLDER_OPEN_O={id:"folder_open_o",viewBox:"0 0 1792 1792",paths:["M1845 931q0-35-53-35h-1088q-40 0-85.5 21.5t-71.5 52.5l-294 363q-18 24-18 40 0 35 53 35h1088q40 0 86-22t71-53l294-363q18-22 18-39zm-1141-163h768v-160q0-40-28-68t-68-28h-576q-40 0-68-28t-28-68v-64q0-40-28-68t-68-28h-320q-40 0-68 28t-28 68v853l256-315q44-53 116-87.5t140-34.5zm1269 163q0 62-46 120l-295 363q-43 53-116 87.5t-140 34.5h-1088q-92 0-158-66t-66-158v-960q0-92 66-158t158-66h320q92 0 158 66t66 158v32h544q92 0 158 66t66 158v160h192q54 0 99 24.5t67 70.5q15 32 15 68z"]},_=(t.all=[i,o,a,s,l,u,c,f,d,h,p,m,y,b,v,g],new DOMParser),x=(t.svgGeoMapIcon=_.parseFromString('<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="1.5"><path d="M4 2.1L.5 3.5v12l5-2 5 2 5-2v-12l-5 2-3.17-1.268M10.5 3.5v12" fill="none" stroke="currentColor"/><path d="M5.5 13.5v-7" fill="none" stroke="currentColor" stroke-width=".9969299999999999"/><path d="M5.494 0c-1.803 0-3.26 1.496-3.26 3.35 0 .427.124.97.264 1.343L5.5 11l3.003-6.306c.142-.375.263-.916.263-1.342C8.766 1.496 7.3 0 5.494 0zM5.5 4.64c-.76 0-1.375-.616-1.375-1.374 0-.76.616-1.376 1.375-1.376.76 0 1.374.616 1.374 1.376 0 .758-.614 1.375-1.374 1.375z" fill="currentColor"/></svg>',"text/xml").documentElement,t.svgHorizontal1dHeatmap=_.parseFromString('\n<svg width="20px" height="20px" viewBox="0 0 20 20">\n  <rect x="0" y="3" width="4" height="14" fill="#637993"/>\n  <rect x="4" y="3" width="2" height="14" fill="#c7d1de"/>\n  <rect x="6" y="3" width="5" height="14" fill="#3c5068"/>\n  <rect x="11" y="3" width="3" height="14" fill="#92a3ba"/>\n  <rect x="14" y="3" width="2" height="14" fill="#000000"/>\n  <rect x="16" y="3" width="4" height="14" fill="#637993"/>\n</svg>\n',"text/xml").documentElement,'\n<svg width="20px" height="20px" viewBox="0 0 135 85" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>line</title>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <polyline id="Path" stroke="#4990E2" stroke-width="8" points="2 45.5625 20.7460938 6.3359375 36.828125 86.6484375 59.8945312 17.5742188 79.0390625 70.703125 99.9335938 27 112.769531 81.1601562 132.078125 3"></polyline>\n    </g>\n</svg>\n'),w=(t.svgHorizontalLineIcon=_.parseFromString(x,"text/xml").documentElement,t.svgVerticalLineIcon=(0,r.select)(_.parseFromString(x,"text/xml").documentElement).style("transform","rotate(90deg)").node(),t.svg2DTilesIcon=_.parseFromString('\n<svg width="20px" height="20px" viewBox="0 0 60 60" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>2d-tiles-icon</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <rect id="tiles2DIconStr-path-1" x="0" y="0" width="30" height="30"></rect>\n        <mask id="tiles2DIconStr-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">\n            <use xlink:href="#tiles2DIconStr-path-1"></use>\n        </mask>\n        <rect id="tiles2DIconStr-path-3" x="0" y="30" width="30" height="30"></rect>\n        <mask id="tiles2DIconStr-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">\n            <use xlink:href="#tiles2DIconStr-path-3"></use>\n        </mask>\n        <rect id="tiles2DIconStr-path-5" x="30" y="0" width="30" height="30"></rect>\n        <mask id="tiles2DIconStr-mask-6" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">\n            <use xlink:href="#tiles2DIconStr-path-5"></use>\n        </mask>\n        <rect id="tiles2DIconStr-path-7" x="30" y="30" width="30" height="30"></rect>\n        <mask id="tiles2DIconStr-mask-8" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">\n            <use xlink:href="#tiles2DIconStr-path-7"></use>\n        </mask>\n    </defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-2)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-1"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-4)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-3"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-6)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-5"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-8)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-7"></use>\n    </g>\n</svg>\n',"text/xml").documentElement,t.svg2DHeatmapIcon=_.parseFromString('\n<svg width="20px" height="20px" viewBox="0 0 90 90" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>2d-heatmap</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <rect id="heatmap2DStr-path-1" x="0" y="0" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-2" x="30" y="0" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-3" x="60" y="0" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-4" x="0" y="30" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-5" x="30" y="30" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-6" x="60" y="30" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-7" x="0" y="60" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-8" x="30" y="60" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-9" x="60" y="60" width="30" height="30"></rect>\n    </defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <use id="Rectangle" fill="#858372" xlink:href="#heatmap2DStr-path-1"></use>\n        <use id="Rectangle" fill="#BBBAA4" xlink:href="#heatmap2DStr-path-2"></use>\n        <use id="Rectangle" fill="#ECECD5" xlink:href="#heatmap2DStr-path-3"></use>\n        <use id="Rectangle" fill="#BCBD9E" xlink:href="#heatmap2DStr-path-4"></use>\n        <use id="Rectangle" fill="#817C7C" xlink:href="#heatmap2DStr-path-5"></use>\n        <use id="Rectangle" fill="#BBBAA4" xlink:href="#heatmap2DStr-path-6"></use>\n        <use id="Rectangle" fill="#ECECD5" xlink:href="#heatmap2DStr-path-7"></use>\n        <use id="Rectangle" fill="#BBBAA4" xlink:href="#heatmap2DStr-path-8"></use>\n        <use id="Rectangle" fill="#7B7777" xlink:href="#heatmap2DStr-path-9"></use>\n    </g>\n</svg>\n',"text/xml").documentElement,'\n<svg width="20px" height="20px" viewBox="0 0 77 33" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>axis-1d</title>\n    <desc>Created with Sketch.</desc>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <polyline id="Path" stroke="#979797" stroke-width="8" transform="translate(38.258485, 27.557860) scale(1, -1) translate(-38.258485, -27.557860) " points="4 27.05786 36.7512307 27.05786 72.5169695 27.05786"></polyline>\n        <path d="M38,24.484375 L38,3" id="Path-2" stroke="#979797" stroke-width="4"></path>\n    </g>\n</svg>\n'),E=(t.svg1DAxisIcon=_.parseFromString(w,"text/xml").documentElement,t.svgVertical1DAxisIcon=(0,r.select)(_.parseFromString(w,"text/xml").documentElement).style("transform","rotate(90deg)").node(),'\n<svg width="20px" height="20px" viewBox="0 0 171 116" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>gene-annotations</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <rect id="geneAnnotations-path-1" x="34" y="0" width="24" height="116"></rect>\n        <mask id="geneAnnotations-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="24" height="116" fill="white">\n            <use xlink:href="#geneAnnotations-path-1"></use>\n        </mask>\n        <rect id="geneAnnotations-path-3" x="80" y="0" width="56" height="116"></rect>\n        <mask id="geneAnnotations-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="56" height="116" fill="white">\n            <use xlink:href="#geneAnnotations-path-3"></use>\n        </mask>\n        <rect id="geneAnnotations-path-5" x="147" y="40" width="24" height="35"></rect>\n        <mask id="geneAnnotations-mask-6" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="24" height="35" fill="white">\n            <use xlink:href="#geneAnnotations-path-5"></use>\n        </mask>\n    </defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M12.71875,58 L147.10172,58" id="Path" stroke="#979797" stroke-width="8"></path>\n        <use id="Rectangle" stroke="#979797" mask="url(#geneAnnotations-mask-2)" stroke-width="4" fill="#DDDD66" xlink:href="#geneAnnotations-path-1"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#geneAnnotations-mask-4)" stroke-width="4" fill="#DDDD66" xlink:href="#geneAnnotations-path-3"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#geneAnnotations-mask-6)" stroke-width="4" fill="#DDDD66" xlink:href="#geneAnnotations-path-5"></use>\n        <polygon id="Triangle" stroke="#979797" fill="#D8D8D8" points="25 57.5 1 75 1 40"></polygon>\n    </g>\n</svg>\n'),T=(t.svgGeneAnnotationsIcon=_.parseFromString(E,"text/xml").documentElement,t.svgVerticalGeneAnnotationsIcon=(0,r.select)(_.parseFromString(E,"text/xml").documentElement).style("transform","rotate(90deg)").node(),'\n<svg width="20px" height="20px" viewBox="0 0 180 90" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 42 (36781) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>1d-tiles-icon</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <rect id="tiles1DIconStr-path-1" x="0" y="0" width="90" height="90"></rect>\n        <mask id="tiles1DIconStr-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="90" height="90" fill="white">\n            <use xlink:href="#tiles1DIconStr-path-1"></use>\n        </mask>\n        <rect id="tiles1DIconStr-path-3" x="90" y="0" width="90" height="90"></rect>\n        <mask id="tiles1DIconStr-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="90" height="90" fill="white">\n            <use xlink:href="#tiles1DIconStr-path-3"></use>\n        </mask>\n    </defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles1DIconStr-mask-2)" stroke-width="12" fill="#E6D5D5" xlink:href="#tiles1DIconStr-path-1"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles1DIconStr-mask-4)" stroke-width="12" fill="#E6D5D5" xlink:href="#tiles1DIconStr-path-3"></use>\n    </g>\n</svg>\n');t.svg1DTilesIcon=_.parseFromString(T,"text/xml").documentElement,t.svgVertical1DTilesIcon=(0,r.select)(_.parseFromString(T,"text/xml").documentElement).style("transform","rotate(90deg)").node(),t.svgArrowheadDomainsIcon=_.parseFromString('\n<svg width="20px" height="20px" viewBox="0 0 111 111" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 42 (36781) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>arrowhead-domains</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <rect id="arrowHeadDomainsStr-path-1" x="0" y="0" width="90" height="90"></rect>\n        <mask id="arrowHeadDomainsStr-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="90" height="90" fill="white">\n            <use xlink:href="#arrowHeadDomainsStr-path-1"></use>\n        </mask>\n        <rect id="arrowHeadDomainsStr-path-3" x="52" y="52" width="59" height="59"></rect>\n        <mask id="arrowHeadDomainsStr-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="59" height="59" fill="white">\n            <use xlink:href="#arrowHeadDomainsStr-path-3"></use>\n        </mask>\n    </defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" fill-opacity="0">\n        <use id="Rectangle" stroke="#979797" mask="url(#arrowHeadDomainsStr-mask-2)" stroke-width="22" fill="#D8D8D8" xlink:href="#arrowHeadDomainsStr-path-1"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#arrowHeadDomainsStr-mask-4)" stroke-width="22" fill="#D8D8D8" xlink:href="#arrowHeadDomainsStr-path-3"></use>\n    </g>\n</svg>\n',"text/xml").documentElement},function(e,t,n){"use strict";var r=n(113);e.exports=function(e){r.copy(e,this)}},function(e,t,n){"use strict";e.exports=function(e,t){t||(t={}),"function"===typeof t&&(t={cmp:t});var n,r="boolean"===typeof t.cycles&&t.cycles,i=t.cmp&&(n=t.cmp,function(e){return function(t,r){var i={key:t,value:e[t]},o={key:r,value:e[r]};return n(i,o)}}),o=[];return function e(t){if(t&&t.toJSON&&"function"===typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!==typeof t)return JSON.stringify(t);var n,a;if(Array.isArray(t)){for(a="[",n=0;n<t.length;n++)n&&(a+=","),a+=e(t[n])||"null";return a+"]"}if(null===t)return"null";if(-1!==o.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=o.push(t)-1,l=Object.keys(t).sort(i&&i(t));for(a="",n=0;n<l.length;n++){var u=l[n],c=e(t[u]);c&&(a&&(a+=","),a+=JSON.stringify(u)+":"+c)}return o.splice(s,1),"{"+a+"}"}}(e)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r="",i=!0===e.schema.$async,o=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),a=e.self._getId(e.schema);if(e.opts.strictKeywords){var s=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(s){var l="unknown keyword: "+s;if("log"!==e.opts.strictKeywords)throw new Error(l);e.logger.warn(l)}}if(e.isTop&&(r+=" var validate = ",i&&(e.async=!0,r+="async "),r+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",a&&(e.opts.sourceCode||e.opts.processCode)&&(r+=" /*# sourceURL="+a+" */ ")),"boolean"==typeof e.schema||!o&&!e.schema.$ref){var u=e.level,c=e.dataLevel,f=e.schema["false schema"],d=e.schemaPath+e.util.getProperty("false schema"),h=e.errSchemaPath+"/false schema",p=!e.opts.allErrors,m="data"+(c||""),v="valid"+u;if(!1===e.schema){e.isTop?p=!0:r+=" var "+v+" = false; ",(q=q||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'boolean schema is false' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";var g=r;r=q.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?r+=i?" return data; ":" validate.errors = null; return true; ":r+=" var "+v+" = true; ";return e.isTop&&(r+=" }; return validate; "),r}if(e.isTop){var y=e.isTop;if(u=e.level=0,c=e.dataLevel=0,m="data",e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[void 0],void 0!==e.schema.default&&e.opts.useDefaults&&e.opts.strictDefaults){var b="default is ignored in the schema root";if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}r+=" var vErrors = null; ",r+=" var errors = 0;     ",r+=" if (rootData === undefined) rootData = data; "}else{if(u=e.level,m="data"+((c=e.dataLevel)||""),a&&(e.baseId=e.resolve.url(e.baseId,a)),i&&!e.async)throw new Error("async schema in sync schema");r+=" var errs_"+u+" = errors;"}v="valid"+u,p=!e.opts.allErrors;var _="",x="",w=e.schema.type,E=Array.isArray(w);if(w&&e.opts.nullable&&!0===e.schema.nullable&&(E?-1==w.indexOf("null")&&(w=w.concat("null")):"null"!=w&&(w=[w,"null"],E=!0)),E&&1==w.length&&(w=w[0],E=!1),e.schema.$ref&&o){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(o=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(r+=" "+e.RULES.all.$comment.code(e,"$comment")),w){if(e.opts.coerceTypes)var T=e.util.coerceToTypes(e.opts.coerceTypes,w);var S=e.RULES.types[w];if(T||E||!0===S||S&&!Q(S)){d=e.schemaPath+".type",h=e.errSchemaPath+"/type",d=e.schemaPath+".type",h=e.errSchemaPath+"/type";var k=E?"checkDataTypes":"checkDataType";if(r+=" if ("+e.util[k](w,m,!0)+") { ",T){var O="dataType"+u,C="coerced"+u;r+=" var "+O+" = typeof "+m+"; ","array"==e.opts.coerceTypes&&(r+=" if ("+O+" == 'object' && Array.isArray("+m+")) "+O+" = 'array'; "),r+=" var "+C+" = undefined; ";var A="",M=T;if(M)for(var P,I=-1,D=M.length-1;I<D;)P=M[I+=1],I&&(r+=" if ("+C+" === undefined) { ",A+="}"),"array"==e.opts.coerceTypes&&"array"!=P&&(r+=" if ("+O+" == 'array' && "+m+".length == 1) { "+C+" = "+m+" = "+m+"[0]; "+O+" = typeof "+m+";  } "),"string"==P?r+=" if ("+O+" == 'number' || "+O+" == 'boolean') "+C+" = '' + "+m+"; else if ("+m+" === null) "+C+" = ''; ":"number"==P||"integer"==P?(r+=" if ("+O+" == 'boolean' || "+m+" === null || ("+O+" == 'string' && "+m+" && "+m+" == +"+m+" ","integer"==P&&(r+=" && !("+m+" % 1)"),r+=")) "+C+" = +"+m+"; "):"boolean"==P?r+=" if ("+m+" === 'false' || "+m+" === 0 || "+m+" === null) "+C+" = false; else if ("+m+" === 'true' || "+m+" === 1) "+C+" = true; ":"null"==P?r+=" if ("+m+" === '' || "+m+" === 0 || "+m+" === false) "+C+" = null; ":"array"==e.opts.coerceTypes&&"array"==P&&(r+=" if ("+O+" == 'string' || "+O+" == 'number' || "+O+" == 'boolean' || "+m+" == null) "+C+" = ["+m+"]; ");r+=" "+A+" if ("+C+" === undefined) {   ",(q=q||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { type: '",r+=E?""+w.join(","):""+w,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=E?""+w.join(","):""+w,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ",g=r,r=q.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  ";var N=c?"data"+(c-1||""):"parentData";r+=" "+m+" = "+C+"; ",c||(r+="if ("+N+" !== undefined)"),r+=" "+N+"["+(c?e.dataPathArr[c]:"parentDataProperty")+"] = "+C+"; } "}else(q=q||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { type: '",r+=E?""+w.join(","):""+w,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=E?""+w.join(","):""+w,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ",g=r,r=q.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";r+=" } "}}if(e.schema.$ref&&!o)r+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",p&&(r+=" } if (errors === ",r+=y?"0":"errs_"+u,r+=") { ",x+="}");else{var R=e.RULES;if(R)for(var L=-1,j=R.length-1;L<j;)if(Q(S=R[L+=1])){if(S.type&&(r+=" if ("+e.util.checkDataType(S.type,m)+") { "),e.opts.useDefaults)if("object"==S.type&&e.schema.properties){f=e.schema.properties;var F=Object.keys(f);if(F)for(var B,z=-1,H=F.length-1;z<H;)if(void 0!==(G=f[B=F[z+=1]]).default){var U=m+e.util.getProperty(B);if(e.compositeRule){if(e.opts.strictDefaults){if(b="default is ignored for: "+U,"log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}}else r+=" if ("+U+" === undefined ","empty"==e.opts.useDefaults&&(r+=" || "+U+" === null || "+U+" === '' "),r+=" ) "+U+" = ","shared"==e.opts.useDefaults?r+=" "+e.useDefault(G.default)+" ":r+=" "+JSON.stringify(G.default)+" ",r+="; "}}else if("array"==S.type&&Array.isArray(e.schema.items)){var V=e.schema.items;if(V){I=-1;for(var G,W=V.length-1;I<W;)if(void 0!==(G=V[I+=1]).default)if(U=m+"["+I+"]",e.compositeRule){if(e.opts.strictDefaults){if(b="default is ignored for: "+U,"log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}}else r+=" if ("+U+" === undefined ","empty"==e.opts.useDefaults&&(r+=" || "+U+" === null || "+U+" === '' "),r+=" ) "+U+" = ","shared"==e.opts.useDefaults?r+=" "+e.useDefault(G.default)+" ":r+=" "+JSON.stringify(G.default)+" ",r+="; "}}var q,Y=S.rules;if(Y)for(var X,$=-1,K=Y.length-1;$<K;)if(J(X=Y[$+=1])){var Z=X.code(e,X.keyword,S.type);Z&&(r+=" "+Z+" ",p&&(_+="}"))}if(p&&(r+=" "+_+" ",_=""),S.type&&(r+=" } ",w&&w===S.type&&!T))r+=" else { ",d=e.schemaPath+".type",h=e.errSchemaPath+"/type",(q=q||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { type: '",r+=E?""+w.join(","):""+w,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=E?""+w.join(","):""+w,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ",g=r,r=q.pop(),!e.compositeRule&&p?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ";p&&(r+=" if (errors === ",r+=y?"0":"errs_"+u,r+=") { ",x+="}")}}function Q(e){for(var t=e.rules,n=0;n<t.length;n++)if(J(t[n]))return!0}function J(t){return void 0!==e.schema[t.keyword]||t.implements&&function(t){for(var n=t.implements,r=0;r<n.length;r++)if(void 0!==e.schema[n[r]])return!0}(t)}return p&&(r+=" "+x+" "),y?(i?(r+=" if (errors === 0) return data;           ",r+=" else throw new ValidationError(vErrors); "):(r+=" validate.errors = vErrors; ",r+=" return errors === 0;       "),r+=" }; return validate;"):r+=" var "+v+" = errors === errs_"+u+";",r=e.util.cleanUpCode(r),y&&(r=e.util.finalCleanUpCode(r,i)),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(a||""),d=e.opts.$data&&s&&s.$data;d?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s;var h="maximum"==t,p=h?"exclusiveMaximum":"exclusiveMinimum",m=e.schema[p],v=e.opts.$data&&m&&m.$data,g=h?"<":">",y=h?">":"<",b=void 0;if(v){var _,x=e.util.getData(m.$data,a,e.dataPathArr),w="exclusive"+o,E="exclType"+o,T="exclIsNumber"+o,S="' + "+(O="op"+o)+" + '";i+=" var schemaExcl"+o+" = "+x+"; ",i+=" var "+w+"; var "+E+" = typeof "+(x="schemaExcl"+o)+"; if ("+E+" != 'boolean' && "+E+" != 'undefined' && "+E+" != 'number') { ",b=p,(_=_||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(b||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: '"+p+" should be boolean' "),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var k=i;i=_.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+k+"]); ":i+=" validate.errors = ["+k+"]; return false; ":i+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else if ( ",d&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+E+" == 'number' ? ( ("+w+" = "+r+" === undefined || "+x+" "+g+"= "+r+") ? "+f+" "+y+"= "+x+" : "+f+" "+y+" "+r+" ) : ( ("+w+" = "+x+" === true) ? "+f+" "+y+"= "+r+" : "+f+" "+y+" "+r+" ) || "+f+" !== "+f+") { var op"+o+" = "+w+" ? '"+g+"' : '"+g+"='; ",void 0===s&&(b=p,u=e.errSchemaPath+"/"+p,r=x,d=v)}else if(S=g,(T="number"==typeof m)&&d){var O="'"+S+"'";i+=" if ( ",d&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" ( "+r+" === undefined || "+m+" "+g+"= "+r+" ? "+f+" "+y+"= "+m+" : "+f+" "+y+" "+r+" ) || "+f+" !== "+f+") { "}else T&&void 0===s?(w=!0,b=p,u=e.errSchemaPath+"/"+p,r=m,y+="="):(T&&(r=Math[h?"min":"max"](m,s)),m===(!T||r)?(w=!0,b=p,u=e.errSchemaPath+"/"+p,y+="="):(w=!1,S+="=")),O="'"+S+"'",i+=" if ( ",d&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+f+" "+y+" "+r+" || "+f+" !== "+f+") { ";return b=b||t,(_=_||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(b||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { comparison: "+O+", limit: "+r+", exclusive: "+w+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be "+S+" ",i+=d?"' + "+r:r+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ",k=i,i=_.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+k+"]); ":i+=" validate.errors = ["+k+"]; return false; ":i+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",c&&(i+=" else { "),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(a||""),d=e.opts.$data&&s&&s.$data;d?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s,i+="if ( ",d&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+f+".length "+("maxItems"==t?">":"<")+" "+r+") { ";var h=t,p=p||[];p.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(h||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxItems"==t?"more":"fewer",i+=" than ",i+=d?"' + "+r+" + '":""+s,i+=" items' "),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var m=i;return i=p.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(a||""),d=e.opts.$data&&s&&s.$data;d?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s;var h="maxLength"==t?">":"<";i+="if ( ",d&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),!1===e.opts.unicode?i+=" "+f+".length ":i+=" ucs2length("+f+") ",i+=" "+h+" "+r+") { ";var p=t,m=m||[];m.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(p||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT be ",i+="maxLength"==t?"longer":"shorter",i+=" than ",i+=d?"' + "+r+" + '":""+s,i+=" characters' "),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var v=i;return i=m.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+v+"]); ":i+=" validate.errors = ["+v+"]; return false; ":i+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(a||""),d=e.opts.$data&&s&&s.$data;d?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s,i+="if ( ",d&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" Object.keys("+f+").length "+("maxProperties"==t?">":"<")+" "+r+") { ";var h=t,p=p||[];p.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(h||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxProperties"==t?"more":"fewer",i+=" than ",i+=d?"' + "+r+" + '":""+s,i+=" properties' "),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var m=i;return i=p.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e){e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}},function(e){e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://higlass.io/#viewconf",title:"HiGlass viewconf",type:"object",additionalProperties:!1,required:[],properties:{editable:{type:"boolean",default:!0},viewEditable:{type:"boolean",default:!0},tracksEditable:{type:"boolean",default:!0},zoomFixed:{type:"boolean"},exportViewUrl:{type:"string"},trackSourceServers:{type:"array",items:{type:"string"},minLength:1},zoomLocks:{$ref:"#/definitions/locks/genericLocks"},locationLocks:{$ref:"#/definitions/locks/genericLocks"},valueScaleLocks:{$ref:"#/definitions/locks/valueScaleLocks"},views:{type:"array",items:{$ref:"#/definitions/view"},minLength:1},chromInfoPath:{type:"string"}},definitions:{data:{type:"object",properties:{type:{type:"string"},tilesetInfo:{type:"object"},children:{type:"array"},tiles:{type:"object"}}},locks:{slug:{type:"string"},locksByViewUid:{type:"object",additionalProperties:!1,patternProperties:{".":{$ref:"#/definitions/locks/slug"}}},genericLocks:{type:"object",additionalProperties:!1,required:[],properties:{locksByViewUid:{$ref:"#/definitions/locks/locksByViewUid"},locksDict:{type:"object",additionalProperties:!1,patternProperties:{".":{type:"object",additionalProperties:!1,properties:{uid:{$ref:"#/definitions/locks/slug"}},patternProperties:{"^(?!uid).":{type:"array",minLength:3,maxLength:3,items:{type:"number"}}}}}}}},valueScaleLocks:{type:"object",additionalProperties:!1,required:["locksByViewUid","locksDict"],properties:{locksByViewUid:{$ref:"#/definitions/locks/locksByViewUid"},locksDict:{type:"object",additionalProperties:!1,patternProperties:{".":{type:"object",additionalProperties:!1,properties:{uid:{$ref:"#/definitions/locks/slug"},ignoreOffScreenValues:{type:"boolean"}},patternProperties:{"^(?!(uid|ignoreOffScreenValues)).":{type:"object",additionalProperties:!1,required:["view","track"],properties:{view:{type:"string"},track:{$ref:"#/definitions/locks/slug"}}}}}}}}}},view:{type:"object",additionalProperties:!1,required:["tracks","layout"],properties:{autocompleteSource:{type:"string"},chromInfoPath:{type:"string"},genomePositionSearchBox:{$ref:"#/definitions/viewProperties/genomePositionSearchBox"},genomePositionSearchBoxVisible:{type:"boolean"},initialXDomain:{$ref:"#/definitions/viewProperties/domain"},initialYDomain:{$ref:"#/definitions/viewProperties/domain"},layout:{$ref:"#/definitions/viewProperties/layout"},overlays:{type:"array",items:{$ref:"#/definitions/viewProperties/overlay"}},selectionView:{type:"boolean"},tracks:{$ref:"#/definitions/viewProperties/tracks_object"},uid:{type:"string"},zoomFixed:{type:"boolean"}}},viewProperties:{genomePositionSearchBox:{type:"object",title:"The Genome Position Search Box Schema",required:["chromInfoServer","chromInfoId"],properties:{autocompleteServer:{type:"string",title:"The Autocomplete Server URL",default:"",examples:["//higlass.io/api/v1"],pattern:"^(.*)$"},autocompleteId:{type:"string",title:"The Autocomplete ID",default:"",examples:["OHJakQICQD6gTD7skx4EWA"],pattern:"^(.*)$"},chromInfoServer:{type:"string",title:"The Chrominfo Server URL",default:"",examples:["//higlass.io/api/v1"],pattern:"^(.*)$"},chromInfoId:{type:"string",title:"The Chromosome Info ID",default:"",examples:["hg19"],pattern:"^(.*)$"},visible:{type:"boolean",title:"The Visible Schema",default:!1}}},overlay:{type:"object",additionalProperties:!1,properties:{chromInfoPath:{type:"string"},includes:{type:"array"},options:{type:"object",properties:{extent:{type:"array"},minWidth:{type:"number"},fill:{type:"string"},fillOpacity:{type:"number"},stroke:{type:"string"},strokeOpacity:{type:"number"},strokeWidth:{type:"number"},strokePos:{type:["string","array"]},outline:{type:"string"},outlineOpacity:{type:"number"},outlineWidth:{type:"number"},outlinePos:{type:["string","array"]}}},type:{type:"string"},uid:{type:"string"}}},layout:{type:"object",additionalProperties:!1,required:["w","h","x","y"],properties:{x:{type:"integer",title:"The X Position",default:0},y:{type:"integer",title:"The Y Position",default:0},w:{type:"integer",title:"Width",default:12},h:{type:"integer",title:"Height",default:12}}},tracks_object:{type:"object",additionalProperties:!1,properties:{left:{$ref:"#/definitions/viewProperties/tracks_array"},right:{$ref:"#/definitions/viewProperties/tracks_array"},top:{$ref:"#/definitions/viewProperties/tracks_array"},bottom:{$ref:"#/definitions/viewProperties/tracks_array"},center:{$ref:"#/definitions/viewProperties/tracks_array"},whole:{$ref:"#/definitions/viewProperties/tracks_array"},gallery:{$ref:"#/definitions/viewProperties/tracks_array"}}},tracks_array:{type:"array",items:{oneOf:[{$ref:"#/definitions/tracks/enum_track"},{$ref:"#/definitions/tracks/combined_track"},{$ref:"#/definitions/tracks/heatmap_track"},{$ref:"#/definitions/tracks/independent_viewport_projection_track"}]}},domain:{type:"array",items:{type:"number"},maxItems:2,minItems:2}},tracks:{heatmap_track:{type:"object",additionalProperties:!1,required:[],properties:{uid:{type:"string"},type:{const:"heatmap"},data:{$ref:"#/definitions/data"},height:{type:"number"},options:{type:"object"},position:{type:"string"},server:{type:"string"},tilesetUid:{type:"string"},width:{type:"number"}}},combined_track:{type:"object",additionalProperties:!1,required:["contents"],properties:{contents:{$ref:"#/definitions/viewProperties/tracks_array"},height:{type:"number"},options:{},position:{type:"string"},type:{const:"combined"},uid:{type:"string"},width:{type:"number"}}},enum_track:{type:"object",additionalProperties:!1,required:["type"],properties:{server:{type:"string"},tilesetUid:{type:"string"},data:{$ref:"#/definitions/data"},uid:{type:"string"},type:{enum:["2d-annotations","2d-chromosome-annotations","2d-chromosome-grid","2d-chromosome-labels","2d-rectangle-domains","2d-tiles","arrowhead-domains","bedlike","cross-rule","dummy","horizontal-1d-annotations","horizontal-1d-heatmap","horizontal-1d-tiles","horizontal-1d-value-interval","horizontal-2d-rectangle-domains","horizontal-bar","horizontal-chromosome-grid","horizontal-chromosome-labels","horizontal-divergent-bar","horizontal-gene-annotations","horizontal-heatmap","horizontal-line","horizontal-multivec","horizontal-point","horizontal-rule","horizontal-vector-heatmap","image-tiles","left-axis","left-stacked-interval","mapbox-tiles","osm-2d-tile-ids","osm-tiles","raster-tiles","simple-svg","square-markers","top-axis","top-stacked-interval","vertical-1d-annotations","vertical-1d-heatmap","vertical-1d-tiles","vertical-1d-value-interval","vertical-2d-rectangle-domains","vertical-bar","vertical-bedlike","vertical-chromosome-grid","vertical-chromosome-labels","vertical-gene-annotations","vertical-heatmap","vertical-line","vertical-multivec","vertical-point","vertical-rule","vertical-vector-heatmap","viewport-projection-center","viewport-projection-horizontal","viewport-projection-vertical"]},chromInfoPath:{type:"string"},fromViewUid:{type:"string"},height:{type:"number"},options:{type:"object"},width:{type:"number"},x:{type:"number"},y:{type:"number"}}},independent_viewport_projection_track:{type:"object",additionalProperties:!1,properties:{uid:{type:"string"},type:{enum:["viewport-projection-horizontal","viewport-projection-vertical","viewport-projection-center"]},fromViewUid:{type:"null"},projectionXDomain:{$ref:"#/definitions/viewProperties/domain"},projectionYDomain:{$ref:"#/definitions/viewProperties/domain"},options:{type:"object"},transforms:{type:"array"},width:{type:"number"},x:{type:"number"},y:{type:"number"}}}}}}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(26))},function(e,t,n){var r=n(388),i=n(115);e.exports=function(e,t){return e&&r(e,t,i)}},function(e,t,n){var r=n(733)();e.exports=r},function(e,t,n){var r=n(734),i=n(180),o=n(29),a=n(181),s=n(138),l=n(263),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),c=!n&&i(e),f=!n&&!c&&a(e),d=!n&&!c&&!f&&l(e),h=n||c||f||d,p=h?r(e.length,String):[],m=p.length;for(var v in e)!t&&!u.call(e,v)||h&&("length"==v||f&&("offset"==v||"parent"==v)||d&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,m))||p.push(v);return p}},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(139);e.exports=function(e){return"function"==typeof e?e:r}},function(e,t,n){var r=n(95),i=n(268),o=n(55),a=Function.prototype,s=Object.prototype,l=a.toString,u=s.hasOwnProperty,c=l.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==c}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+""}catch(t){}}return""}},function(e,t,n){var r=n(768),i=n(55);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,o,a,e,s))}},function(e,t,n){var r=n(769),i=n(397),o=n(772);e.exports=function(e,t,n,a,s,l){var u=1&n,c=e.length,f=t.length;if(c!=f&&!(u&&f>c))return!1;var d=l.get(e);if(d&&l.get(t))return d==t;var h=-1,p=!0,m=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++h<c;){var v=e[h],g=t[h];if(a)var y=u?a(g,v,h,t,e,l):a(v,g,h,e,t,l);if(void 0!==y){if(y)continue;p=!1;break}if(m){if(!i(t,(function(e,t){if(!o(m,t)&&(v===e||s(v,e,n,a,l)))return m.push(t)}))){p=!1;break}}else if(v!==g&&!s(v,g,n,a,l)){p=!1;break}}return l.delete(e),l.delete(t),p}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t,n){var r=n(37).Uint8Array;e.exports=r},function(e,t,n){var r=n(400),i=n(272),o=n(115);e.exports=function(e){return r(e,o,i)}},function(e,t,n){var r=n(271),i=n(29);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(97)(n(37),"WeakMap");e.exports=r},function(e,t,n){var r=n(42);e.exports=function(e){return e===e&&!r(e)}},function(e,t){e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},function(e,t,n){var r=n(788),i=n(789);e.exports=function(e,t){return null!=e&&i(e,t,r)}},function(e,t,n){var r=n(97),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},function(e,t,n){(function(e){var r=n(37),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(169)(e))},function(e,t,n){var r=n(271),i=n(268),o=n(272),a=n(401),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:a;e.exports=s},function(e,t,n){var r=n(278);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(193),i=n(268),o=n(182);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},function(e,t,n){var r=n(277),i=n(116);e.exports=function(e,t,n){(void 0!==n&&!i(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},function(e,t){e.exports=function(e,t){if("__proto__"!=t)return e[t]}},function(e,t,n){var r=n(282),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),l=Array(s);++a<s;)l[a]=o[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=o[a];return u[t]=n(l),r(e,this,u)}}},function(e,t){var n=Date.now;e.exports=function(e){var t=0,r=0;return function(){var i=n(),o=16-(i-r);if(r=i,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var r=n(42),i=n(835),o=n(416),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l,u,c,f,d,h,p=0,m=!1,v=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=l,r=u;return l=u=void 0,p=t,f=e.apply(r,n)}function b(e){return p=e,d=setTimeout(x,t),m?y(e):f}function _(e){var n=e-h;return void 0===h||n>=t||n<0||v&&e-p>=c}function x(){var e=i();if(_(e))return w(e);d=setTimeout(x,function(e){var n=t-(e-h);return v?s(n,c-(e-p)):n}(e))}function w(e){return d=void 0,g&&l?y(e):(l=u=void 0,f)}function E(){var e=i(),n=_(e);if(l=arguments,u=this,h=e,n){if(void 0===d)return b(h);if(v)return d=setTimeout(x,t),y(h)}return void 0===d&&(d=setTimeout(x,t)),f}return t=o(t)||0,r(n)&&(m=!!n.leading,c=(v="maxWait"in n)?a(o(n.maxWait)||0,t):c,g="trailing"in n?!!n.trailing:g),E.cancel=function(){void 0!==d&&clearTimeout(d),p=0,l=h=u=d=void 0},E.flush=function(){return void 0===d?f:w(i())},E}},function(e,t,n){var r=n(42),i=n(190),o=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=s.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):a.test(e)?NaN:+e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorWrap=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=u(o),s=u(n(415)),l=u(n(56));function u(e){return e&&e.__esModule?e:{default:e}}var c=t.ColorWrap=function(e){var t=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.handleChange=function(e,n){if(l.default.simpleCheckForValidColor(e)){var r=l.default.toState(e,e.h||t.state.oldHue);t.setState(r),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,r,n),t.props.onChange&&t.props.onChange(r,n)}},t.handleSwatchHover=function(e,n){if(l.default.simpleCheckForValidColor(e)){var r=l.default.toState(e,e.h||t.state.oldHue);t.setState(r),t.props.onSwatchHover&&t.props.onSwatchHover(r,n)}},t.state=r({},l.default.toState(e.color,0)),t.debounce=(0,s.default)((function(e,t,n){e(t,n)}),100),t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),i(n,[{key:"componentWillReceiveProps",value:function(e){this.setState(r({},l.default.toState(e.color,this.state.oldHue)))}},{key:"render",value:function(){var t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),a.default.createElement(e,r({},this.props,this.state,{onChange:this.handleChange},t))}}]),n}(o.PureComponent||o.Component);return t.propTypes=r({},e.propTypes),t.defaultProps=r({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t};t.default=c},function(e,t,n){"use strict";n.r(t),n.d(t,"red",(function(){return r})),n.d(t,"pink",(function(){return i})),n.d(t,"purple",(function(){return o})),n.d(t,"deepPurple",(function(){return a})),n.d(t,"indigo",(function(){return s})),n.d(t,"blue",(function(){return l})),n.d(t,"lightBlue",(function(){return u})),n.d(t,"cyan",(function(){return c})),n.d(t,"teal",(function(){return f})),n.d(t,"green",(function(){return d})),n.d(t,"lightGreen",(function(){return h})),n.d(t,"lime",(function(){return p})),n.d(t,"yellow",(function(){return m})),n.d(t,"amber",(function(){return v})),n.d(t,"orange",(function(){return g})),n.d(t,"deepOrange",(function(){return y})),n.d(t,"brown",(function(){return b})),n.d(t,"grey",(function(){return _})),n.d(t,"blueGrey",(function(){return x})),n.d(t,"darkText",(function(){return w})),n.d(t,"lightText",(function(){return E})),n.d(t,"darkIcons",(function(){return T})),n.d(t,"lightIcons",(function(){return S})),n.d(t,"white",(function(){return k})),n.d(t,"black",(function(){return O}));var r={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},i={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},o={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},a={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},s={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},l={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},u={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},c={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},f={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},d={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},h={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},p={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},m={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},v={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},g={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},y={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},b={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},_={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121"},x={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},w={primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",dividers:"rgba(0, 0, 0, 0.12)"},E={primary:"rgba(255, 255, 255, 1)",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",dividers:"rgba(255, 255, 255, 0.12)"},T={active:"rgba(0, 0, 0, 0.54)",inactive:"rgba(0, 0, 0, 0.38)"},S={active:"rgba(255, 255, 255, 1)",inactive:"rgba(255, 255, 255, 0.5)"},k="#ffffff",O="#000000";t.default={red:r,pink:i,purple:o,deepPurple:a,indigo:s,blue:l,lightBlue:u,cyan:c,teal:f,green:d,lightGreen:h,lime:p,yellow:m,amber:v,orange:g,deepOrange:y,brown:b,grey:_,blueGrey:x,darkText:w,lightText:E,darkIcons:T,lightIcons:S,white:k,black:O}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t){return Array.prototype.reduce.call(t,e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(21)),i=o(n(421));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=[];return(0,r.default)(e).forEach((function(r){(0,i.default)(e[r],t,n,r)})),o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return t.forEach((function(t){"combined"===t.type?r&&(e(t.contents,n,r,i),n(t,i)):n(t,i)}))}},function(e,t,n){"use strict";var r=n(910),i=n(912),o=["args","body"],a=["pre","post","printCode","funcName","blockSize"];e.exports=function(e){for(var t in e)o.indexOf(t)<0&&a.indexOf(t)<0&&console.warn("cwise: Unknown argument '"+t+"' passed to expression compiler");for(var n=0;n<o.length;++n)if(!e[o[n]])throw new Error("cwise: Missing argument: "+o[n]);return i({args:e.args,pre:r(e.pre||function(){}),body:r(e.body),post:r(e.post||function(){}),debug:!!e.printCode,funcName:e.funcName||e.body.name||"cwise",blockSize:e.blockSize||64})}},function(e,t,n){"use strict";e.exports=function(e,t,n){return 0===e.length?e:t?(n||e.sort(t),function(e,t){for(var n=1,r=e.length,i=e[0],o=e[0],a=1;a<r;++a)if(o=i,t(i=e[a],o)){if(a===n){n++;continue}e[n++]=i}return e.length=n,e}(e,t)):(n||e.sort(),function(e){for(var t=1,n=e.length,r=e[0],i=e[0],o=1;o<n;++o,i=r)if(i=r,(r=e[o])!==i){if(o===t){t++;continue}e[t++]=r}return e.length=t,e}(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(422),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){var t=e.shape.reduce((function(e,t){return e*t}),1),n=new Array(t);return(0,o.default)({args:["array","scalar","scalar"],body:function(e,t,n){t[n]=e,n++}})(e,n,0),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTiledPlot=t.getTrackRenderer=t.getTrackObjectFromHGC=void 0;var r,i=n(40),o=(r=i)&&r.__esModule?r:{default:r};t.getTrackObjectFromHGC=function(e,t,n){var r=t,i=n;return n||(i=t,r=(0,o.default)(e.state.views)[0].uid),e.tiledPlots[r].trackRenderer.getTrackObject(i)},t.getTrackRenderer=function(e,t){return e.tiledPlots[t].trackRenderer},t.getTiledPlot=function(e,t){return e.tiledPlots[t]}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=p(n(118)),a=p(n(286)),s=p(n(150)),l=p(n(58)),u=n(303),c=p(n(101)),f=n(490),d=n(152),h=n(491);function p(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var g=(0,u.sym)("__node__"),y=(0,u.sym)("__nodes__"),b=(0,u.sym)("__renderer__"),_=(0,u.sym)("__unrendered__"),x=(0,u.sym)("__root__"),w=(0,u.sym)("__options__"),E=(0,u.sym)("__rootNodes__");function T(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.treeFilter;return e.flatMap((function(e){return n(e.getNodeInternal(),t)}))}function S(e,t){return e.wrap(e.getNodesInternal().filter(t).filter(Boolean))}function k(e){if(1!==e[x].length)throw new Error("getRootNodeInternal(wrapper) can only be called when wrapper wraps one node");return e[x]!==e?e[E][0]:e[x][g]}function O(e,t){return(0,d.parentsOfNode)(t,k(e))}function C(e,t){t?Array.isArray(t)?((0,u.privateSet)(e,g,t[0]),(0,u.privateSet)(e,y,t)):((0,u.privateSet)(e,g,t),(0,u.privateSet)(e,y,[t])):((0,u.privateSet)(e,g,null),(0,u.privateSet)(e,y,[])),(0,u.privateSet)(e,"length",e[y].length)}var A=function(){function t(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(v(this,t),!e.window&&!e.document)throw new Error("It looks like you called `mount()` without a global document being loaded.");var a=(0,u.makeOptions)(i);if(r)(0,u.privateSet)(this,_,null),(0,u.privateSet)(this,b,r[b]),(0,u.privateSet)(this,x,r),C(this,n),(0,u.privateSet)(this,E,r[y]);else{var s=(0,c.default)(a);if(!s.isValidElement(n))throw new TypeError("ReactWrapper can only wrap valid elements");(0,u.privateSet)(this,_,n);var l=s.createRenderer((0,o.default)({mode:"mount"},a));(0,u.privateSet)(this,b,l),l.render(n,a.context),(0,u.privateSet)(this,x,this),C(this,this[b].getNode())}(0,u.privateSet)(this,w,r?r[w]:a)}return i(t,[{key:"root",value:function(){return this[x]}},{key:"getNodeInternal",value:function(){if(1!==this.length)throw new Error("ReactWrapper::getNode() can only be called when wrapping one node");return this[y][0]}},{key:"getNodesInternal",value:function(){return this[y]}},{key:"getElement",value:function(){var e=this;return this.single("getElement",(function(){return(0,c.default)(e[w]).nodeToElement(e[g])}))}},{key:"getElements",value:function(){return this[y].map((0,c.default)(this[w]).nodeToElement)}},{key:"getNode",value:function(){throw new Error("ReactWrapper::getNode() is no longer supported. Use ReactWrapper::instance() instead")}},{key:"getNodes",value:function(){throw new Error("ReactWrapper::getNodes() is no longer supported.")}},{key:"getDOMNode",value:function(){var e=(0,c.default)(this[w]);return this.single("getDOMNode",(function(t){return e.nodeToHostNode(t,!0)}))}},{key:"ref",value:function(e){if(this[x]!==this)throw new Error("ReactWrapper::ref(refname) can only be called on the root");return this.instance().refs[e]}},{key:"instance",value:function(){var e=this;return this.single("instance",(function(){return e[g].instance}))}},{key:"update",value:function(){var e=this[x];return this!==e?e.update():(C(this,this[b].getNode()),this)}},{key:"unmount",value:function(){var e=this;if(this[x]!==this)throw new Error("ReactWrapper::unmount() can only be called on the root");return this.single("unmount",(function(){e[b].unmount(),e.update()})),this}},{key:"mount",value:function(){var e=this;if(this[x]!==this)throw new Error("ReactWrapper::mount() can only be called on the root");return this[b].render(this[_],this[w].context,(function(){return e.update()})),this}},{key:"setProps",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(this[x]!==this)throw new Error("ReactWrapper::setProps() can only be called on the root");if(arguments.length>1&&"function"!==typeof n)throw new TypeError("ReactWrapper::setProps() expects a function as its second argument");var r=(0,c.default)(this[w]);return this[_]=(0,u.cloneElement)(r,this[_],e),this[b].render(this[_],null,(function(){t.update(),n&&n()})),this}},{key:"setState",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(null===this.instance()||"class"!==this.getNodeInternal().nodeType)throw new Error("ReactWrapper::setState() can only be called on class components");if(arguments.length>1&&"function"!==typeof n)throw new TypeError("ReactWrapper::setState() expects a function as its second argument");return this.instance().setState(e,(function(){if(t.update(),n){var e=(0,c.default)(t[w]),r=t.instance();e.invokeSetStateCallback?e.invokeSetStateCallback(r,n):n.call(r)}})),this}},{key:"setContext",value:function(e){var t=this;if(this[x]!==this)throw new Error("ReactWrapper::setContext() can only be called on the root");if(!this[w].context)throw new Error("ShallowWrapper::setContext() can only be called on a wrapper that was originally passed a context option");return this[b].render(this[_],e,(function(){return t.update()})),this}},{key:"contains",value:function(e){var t=(0,c.default)(this[w]);return T(this,Array.isArray(e)?function(n){return(0,u.containsChildrenSubArray)(u.nodeEqual,n,e.map((function(e){return t.elementToNode(e)})))}:function(n){return(0,u.nodeEqual)(t.elementToNode(e),n)}).length>0}},{key:"containsMatchingElement",value:function(e){var t=(0,c.default)(this[w]).elementToNode(e);return T(this,(function(e){return(0,u.nodeMatches)(t,e,(function(e,t){return e<=t}))})).length>0}},{key:"containsAllMatchingElements",value:function(e){var t=this;if(!Array.isArray(e))throw new TypeError("nodes should be an Array");return e.every((function(e){return t.containsMatchingElement(e)}))}},{key:"containsAnyMatchingElements",value:function(e){var t=this;return Array.isArray(e)&&e.some((function(e){return t.containsMatchingElement(e)}))}},{key:"equals",value:function(e){var t=this;return this.single("equals",(function(){return(0,u.nodeEqual)(t.getNodeInternal(),e)}))}},{key:"matchesElement",value:function(e){var t=this;return this.single("matchesElement",(function(){var n=(0,c.default)(t[w]).elementToNode(e);return(0,u.nodeMatches)(n,t.getNodeInternal(),(function(e,t){return e<=t}))}))}},{key:"find",value:function(e){return this.wrap((0,h.reduceTreesBySelector)(e,this.getNodesInternal()))}},{key:"is",value:function(e){var t=(0,h.buildPredicate)(e);return this.single("is",(function(e){return t(e)}))}},{key:"isEmptyRender",value:function(){var e=this.getNodeInternal();return(0,u.renderedDive)(e)}},{key:"filterWhere",value:function(e){var t=this;return S(this,(function(n){return e(t.wrap(n))}))}},{key:"filter",value:function(e){return S(this,(0,h.buildPredicate)(e))}},{key:"not",value:function(e){var t=(0,h.buildPredicate)(e);return S(this,(function(e){return!t(e)}))}},{key:"text",value:function(){var e=(0,c.default)(this[w]);return this.single("text",(function(t){var n=e.nodeToHostNode(t,!0);return n?(Array.isArray(n)?n:[n]).map((function(e){return e&&e.textContent||""})).join(""):"string"===typeof t?t:n}))}},{key:"html",value:function(){var e=this;return this.single("html",(function(t){if(null===t)return null;var n=(0,c.default)(e[w]).nodeToHostNode(t,!0);return null===n?null:(Array.isArray(n)?n:[n]).map((function(e){return null===e?null:e.outerHTML.replace(/\sdata-(reactid|reactroot)+="([^"]*)+"/g,"")})).join("")}))}},{key:"render",value:function(){var e=this.html();return null===e?(0,a.default)():a.default.load("")(e)}},{key:"simulate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.single("simulate",(function(r){return t[b].simulateEvent(r,e,n),t[x].update(),t}))}},{key:"simulateError",value:function(e){var t=this;if(this[x]===this)throw new Error("ReactWrapper::simulateError() may not be called on the root");return this.single("simulateError",(function(n){if("host"===n.nodeType)throw new Error("ReactWrapper::simulateError() can only be called on custom components");var r=t[b];if("function"!==typeof r.simulateError)throw new TypeError("your adapter does not support `simulateError`. Try upgrading it!");var i=k(t),o=[n].concat(O(t,n));return r.simulateError(o,i,e),t[x].update(),t}))}},{key:"props",value:function(){return this.single("props",d.propsOfNode)}},{key:"state",value:function(e){var t=this;if(null===this.instance()||"class"!==this[b].getNode().nodeType)throw new Error("ReactWrapper::state() can only be called on class components");var n=this.single("state",(function(){return t.instance().state}));if("undefined"!==typeof e){if(null==n)throw new TypeError('ReactWrapper::state("'+String(e)+'") requires that `state` not be `null` or `undefined`');return n[e]}return n}},{key:"context",value:function(e){var t=this;if(this[x]!==this)throw new Error("ReactWrapper::context() can only be called on the root");var n=this.single("context",(function(){return t.instance()}));if(null===n)throw new Error("ReactWrapper::context() can only be called on components with instances");var r=n.context;return"undefined"!==typeof e?r[e]:r}},{key:"children",value:function(e){var t=this.flatMap((function(e){return(0,d.childrenOfNode)(e.getNodeInternal()).filter((function(e){return"object"===("undefined"===typeof e?"undefined":r(e))}))}));return e?t.filter(e):t}},{key:"childAt",value:function(e){var t=this;return this.single("childAt",(function(){return t.children().at(e)}))}},{key:"parents",value:function(e){var t=this;return this.single("parents",(function(n){var r=t.wrap(O(t,n));return e?r.filter(e):r}))}},{key:"parent",value:function(){return this.flatMap((function(e){return[e.parents().get(0)]}))}},{key:"closest",value:function(e){if(this.is(e))return this;var t=this.parents().filter(e);return t.length>0?t.first():this.findWhere((function(){return!1}))}},{key:"prop",value:function(e){return this.props()[e]}},{key:"renderProp",value:function(e){var t=this,n=(0,c.default)(this[w]);if("function"!==typeof n.wrap)throw new RangeError("your adapter does not support `wrap`. Try upgrading it!");return this.single("renderProp",(function(i){if("host"===i.nodeType)throw new TypeError("ReactWrapper::renderProp() can only be called on custom components");if("string"!==typeof e)throw new TypeError("`propName` must be a string");var o=t.props();if(!(0,l.default)(o,e))throw new Error("no prop called \u201c"+String(e)+"\u201c found");var a=o[e];if("function"!==typeof a)throw new TypeError("expected prop \u201c"+String(e)+"\u201c to contain a function, but it holds \u201c"+("undefined"===typeof prop?"undefined":r(prop))+"\u201c");return function(){var e=a.apply(void 0,arguments),r=n.wrap(e);return t.wrap(r,null,t[w])}}))}},{key:"key",value:function(){return this.single("key",(function(e){return void 0===e.key?null:e.key}))}},{key:"type",value:function(){return this.single("type",(function(e){return(0,u.typeOfNode)(e)}))}},{key:"name",value:function(){var e=(0,c.default)(this[w]);return this.single("name",(function(t){return e.displayNameOfNode?e.displayNameOfNode(t):(0,u.displayNameOfNode)(t)}))}},{key:"hasClass",value:function(e){return e&&-1!==e.indexOf(".")&&console.warn("It looks like you're calling `ReactWrapper::hasClass()` with a CSS selector. hasClass() expects a class name, not a CSS selector."),this.single("hasClass",(function(t){return(0,d.hasClassName)(t,e)}))}},{key:"forEach",value:function(e){var t=this;return this.getNodesInternal().forEach((function(n,r){return e.call(t,t.wrap(n),r)})),this}},{key:"map",value:function(e){var t=this;return this.getNodesInternal().map((function(n,r){return e.call(t,t.wrap(n),r)}))}},{key:"reduce",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return arguments.length>1?this.getNodesInternal().reduce((function(n,r,i){return e.call(t,n,t.wrap(r),i)}),n):this.getNodesInternal().reduce((function(n,r,i){return e.call(t,1===i?t.wrap(n):n,t.wrap(r),i)}))}},{key:"reduceRight",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return arguments.length>1?this.getNodesInternal().reduceRight((function(n,r,i){return e.call(t,n,t.wrap(r),i)}),n):this.getNodesInternal().reduceRight((function(n,r,i){return e.call(t,1===i?t.wrap(n):n,t.wrap(r),i)}))}},{key:"slice",value:function(e,t){return this.wrap(this.getNodesInternal().slice(e,t))}},{key:"some",value:function(e){if(this[x]===this)throw new Error("ReactWrapper::some() can not be called on the root");var t=(0,h.buildPredicate)(e);return this.getNodesInternal().some(t)}},{key:"someWhere",value:function(e){var t=this;return this.getNodesInternal().some((function(n,r){return e.call(t,t.wrap(n),r)}))}},{key:"every",value:function(e){var t=(0,h.buildPredicate)(e);return this.getNodesInternal().every(t)}},{key:"everyWhere",value:function(e){var t=this;return this.getNodesInternal().every((function(n,r){return e.call(t,t.wrap(n),r)}))}},{key:"flatMap",value:function(e){var t=this,n=this.getNodesInternal().map((function(n,r){return e.call(t,t.wrap(n),r)})),r=(0,s.default)(n,1);return this.wrap(r.filter(Boolean))}},{key:"findWhere",value:function(e){var t=this;return T(this,(function(n){var r=t.wrap(n);return r.length>0&&e(r)}))}},{key:"get",value:function(e){return this.getElements()[e]}},{key:"at",value:function(e){var t=this.getNodesInternal();return e<t.length?this.wrap(t[e]):this.wrap([])}},{key:"first",value:function(){return this.at(0)}},{key:"last",value:function(){return this.at(this.length-1)}},{key:"isEmpty",value:function(){return console.warn("Enzyme::Deprecated method isEmpty() called, use exists() instead."),!this.exists()}},{key:"exists",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return arguments.length>0?this.find(e).exists():this.length>0}},{key:"single",value:function(e,t){var n="string"===typeof e?e:"unknown",r="function"===typeof t?t:e;if(1!==this.length)throw new Error("Method \u201c"+n+"\u201d is meant to be run on 1 node. "+String(this.length)+" found instead.");return r.call(this,this.getNodeInternal())}},{key:"wrap",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[x];if(e instanceof t)return e;for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return new(Function.prototype.bind.apply(t,[null].concat([e,n],i)))}},{key:"debug",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,f.debugNodes)(this.getNodesInternal(),e)}},{key:"tap",value:function(e){return e(this),this}},{key:"detach",value:function(){if(this[x]!==this)throw new Error("ReactWrapper::detach() can only be called on the root");if(!this[w].attachTo)throw new Error("ReactWrapper::detach() can only be called on when the `attachTo` option was passed into `mount()`.");this[b].unmount()}},{key:"hostNodes",value:function(){return this.filterWhere((function(e){return"string"===typeof e.type()}))}}]),t}();function M(e,t){Object.defineProperty(A.prototype,e,{get:function(){throw new Error("\n        Attempted to access ReactWrapper::"+String(e)+", which was previously a private property on\n        Enzyme ReactWrapper instances, but is no longer and should not be relied upon.\n        "+String(t)+"\n      ")},enumerable:!1,configurable:!1})}u.ITERATOR_SYMBOL&&Object.defineProperty(A.prototype,u.ITERATOR_SYMBOL,{configurable:!0,value:function(){var e,t=this[y][u.ITERATOR_SYMBOL](),n=(0,c.default)(this[w]);return m(e={},u.ITERATOR_SYMBOL,(function(){return this})),m(e,"next",(function(){var e=t.next();return e.done?{done:!0}:{done:!1,value:n.nodeToElement(e.value)}})),e}}),M("node","Consider using the getElement() method instead."),M("nodes","Consider using the getElements() method instead."),M("renderer",""),M("options",""),M("complexSelector",""),t.default=A}).call(this,n(26))},function(e,t,n){"use strict";var r=Object.prototype.toString;e.exports=function(e){var t=r.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Function]"===r.call(e.callee)),n}},function(e,t,n){"use strict";var r=n(285),i=n(53),o=function(e){return"undefined"!==typeof e&&null!==e},a=n(429)(),s=Object,l=i.call(Function.call,Array.prototype.push),u=i.call(Function.call,Object.prototype.propertyIsEnumerable),c=a?Object.getOwnPropertySymbols:null;e.exports=function(e,t){if(!o(e))throw new TypeError("target must be an object");var n,i,f,d,h,p,m,v=s(e);for(n=1;n<arguments.length;++n){i=s(arguments[n]),d=r(i);var g=a&&(Object.getOwnPropertySymbols||c);if(g)for(h=g(i),f=0;f<h.length;++f)m=h[f],u(i,m)&&l(d,m);for(f=0;f<d.length;++f)p=i[m=d[f]],u(i,m)&&(v[m]=p)}return v}},function(e,t,n){"use strict";e.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"===typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"===typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},function(e,t,n){"use strict";var r=n(428);e.exports=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),n={},r=0;r<t.length;++r)n[t[r]]=t[r];var i=Object.assign({},n),o="";for(var a in i)o+=a;return e!==o}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}return!1}()?r:Object.assign:r}},function(e,t,n){var r=n(194),i=n(200).default,o=n(200).flatten,a=n(148).isHtml,s={extend:n(450),bind:n(296),forEach:n(143),defaults:n(461)},l=[n(1011),n(1021),n(1028),n(1031),n(1037)],u=e.exports=function(e,t,n,l){return this instanceof u?(this.options=s.defaults(o(l),this.options,i),e?(n&&("string"===typeof n&&(n=r(n,this.options,!1)),this._root=u.call(this,n)),e.cheerio?e:(c(e)&&(e=[e]),Array.isArray(e)?(s.forEach(e,s.bind((function(e,t){this[t]=e}),this)),this.length=e.length,this):"string"===typeof e&&a(e)?u.call(this,r(e,this.options,!1).children):(t?"string"===typeof t?a(t)?(t=r(t,this.options,!1),t=u.call(this,t)):(e=[t,e].join(" "),t=this._root):t.cheerio||(t=u.call(this,t)):t=this._root,t?t.find(e):this))):this):new u(e,t,n,l)};s.extend(u,n(300)),u.prototype.cheerio="[cheerio object]",u.prototype.length=0,u.prototype.splice=Array.prototype.splice,u.prototype._make=function(e,t){var n=new this.constructor(e,t,this._root,this.options);return n.prevObject=this,n},u.prototype.toArray=function(){return this.get()},l.forEach((function(e){s.extend(u.prototype,e)}));var c=function(e){return e.name||"text"===e.type||"comment"===e.type}},function(e,t,n){var r=n(433),i={input:!0,option:!0,optgroup:!0,select:!0,button:!0,datalist:!0,textarea:!0},o={tr:{tr:!0,th:!0,td:!0},th:{th:!0},td:{thead:!0,th:!0,td:!0},body:{head:!0,link:!0,script:!0},li:{li:!0},p:{p:!0},h1:{p:!0},h2:{p:!0},h3:{p:!0},h4:{p:!0},h5:{p:!0},h6:{p:!0},select:i,input:i,output:i,button:i,datalist:i,textarea:i,option:{option:!0},optgroup:{optgroup:!0}},a={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},s={__proto__:null,math:!0,svg:!0},l={__proto__:null,mi:!0,mo:!0,mn:!0,ms:!0,mtext:!0,"annotation-xml":!0,foreignObject:!0,desc:!0,title:!0},u=/\s|\//;function c(e,t){this._options=t||{},this._cbs=e||{},this._tagname="",this._attribname="",this._attribvalue="",this._attribs=null,this._stack=[],this._foreignContext=[],this.startIndex=0,this.endIndex=null,this._lowerCaseTagNames="lowerCaseTags"in this._options?!!this._options.lowerCaseTags:!this._options.xmlMode,this._lowerCaseAttributeNames="lowerCaseAttributeNames"in this._options?!!this._options.lowerCaseAttributeNames:!this._options.xmlMode,this._options.Tokenizer&&(r=this._options.Tokenizer),this._tokenizer=new r(this._options,this),this._cbs.onparserinit&&this._cbs.onparserinit(this)}n(57)(c,n(195).EventEmitter),c.prototype._updatePosition=function(e){null===this.endIndex?this._tokenizer._sectionStart<=e?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-e:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},c.prototype.ontext=function(e){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(e)},c.prototype.onopentagname=function(e){if(this._lowerCaseTagNames&&(e=e.toLowerCase()),this._tagname=e,!this._options.xmlMode&&e in o)for(var t;(t=this._stack[this._stack.length-1])in o[e];this.onclosetag(t));!this._options.xmlMode&&e in a||(this._stack.push(e),e in s?this._foreignContext.push(!0):e in l&&this._foreignContext.push(!1)),this._cbs.onopentagname&&this._cbs.onopentagname(e),this._cbs.onopentag&&(this._attribs={})},c.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&this._tagname in a&&this._cbs.onclosetag(this._tagname),this._tagname=""},c.prototype.onclosetag=function(e){if(this._updatePosition(1),this._lowerCaseTagNames&&(e=e.toLowerCase()),(e in s||e in l)&&this._foreignContext.pop(),!this._stack.length||e in a&&!this._options.xmlMode)this._options.xmlMode||"br"!==e&&"p"!==e||(this.onopentagname(e),this._closeCurrentTag());else{var t=this._stack.lastIndexOf(e);if(-1!==t)if(this._cbs.onclosetag)for(t=this._stack.length-t;t--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=t;else"p"!==e||this._options.xmlMode||(this.onopentagname(e),this._closeCurrentTag())}},c.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing||this._foreignContext[this._foreignContext.length-1]?this._closeCurrentTag():this.onopentagend()},c.prototype._closeCurrentTag=function(){var e=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===e&&(this._cbs.onclosetag&&this._cbs.onclosetag(e),this._stack.pop())},c.prototype.onattribname=function(e){this._lowerCaseAttributeNames&&(e=e.toLowerCase()),this._attribname=e},c.prototype.onattribdata=function(e){this._attribvalue+=e},c.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},c.prototype._getInstructionName=function(e){var t=e.search(u),n=t<0?e:e.substr(0,t);return this._lowerCaseTagNames&&(n=n.toLowerCase()),n},c.prototype.ondeclaration=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("!"+t,"!"+e)}},c.prototype.onprocessinginstruction=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("?"+t,"?"+e)}},c.prototype.oncomment=function(e){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(e),this._cbs.oncommentend&&this._cbs.oncommentend()},c.prototype.oncdata=function(e){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(e),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+e+"]]")},c.prototype.onerror=function(e){this._cbs.onerror&&this._cbs.onerror(e)},c.prototype.onend=function(){if(this._cbs.onclosetag)for(var e=this._stack.length;e>0;this._cbs.onclosetag(this._stack[--e]));this._cbs.onend&&this._cbs.onend()},c.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},c.prototype.parseComplete=function(e){this.reset(),this.end(e)},c.prototype.write=function(e){this._tokenizer.write(e)},c.prototype.end=function(e){this._tokenizer.end(e)},c.prototype.pause=function(){this._tokenizer.pause()},c.prototype.resume=function(){this._tokenizer.resume()},c.prototype.parseChunk=c.prototype.write,c.prototype.done=c.prototype.end,e.exports=c},function(e,t,n){e.exports=ve;var r=n(434),i=n(287),o=n(435),a=n(288),s=0,l=s++,u=s++,c=s++,f=s++,d=s++,h=s++,p=s++,m=s++,v=s++,g=s++,y=s++,b=s++,_=s++,x=s++,w=s++,E=s++,T=s++,S=s++,k=s++,O=s++,C=s++,A=s++,M=s++,P=s++,I=s++,D=s++,N=s++,R=s++,L=s++,j=s++,F=s++,B=s++,z=s++,H=s++,U=s++,V=s++,G=s++,W=s++,q=s++,Y=s++,X=s++,$=s++,K=s++,Z=s++,Q=s++,J=s++,ee=s++,te=s++,ne=s++,re=s++,ie=s++,oe=s++,ae=s++,se=s++,le=s++,ue=0,ce=ue++,fe=ue++,de=ue++;function he(e){return" "===e||"\n"===e||"\t"===e||"\f"===e||"\r"===e}function pe(e,t,n){var r=e.toLowerCase();return e===r?function(e){e===r?this._state=t:(this._state=n,this._index--)}:function(i){i===r||i===e?this._state=t:(this._state=n,this._index--)}}function me(e,t){var n=e.toLowerCase();return function(r){r===n||r===e?this._state=t:(this._state=c,this._index--)}}function ve(e,t){this._state=l,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=l,this._special=ce,this._cbs=t,this._running=!0,this._ended=!1,this._xmlMode=!(!e||!e.xmlMode),this._decodeEntities=!(!e||!e.decodeEntities)}ve.prototype._stateText=function(e){"<"===e?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=u,this._sectionStart=this._index):this._decodeEntities&&this._special===ce&&"&"===e&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=l,this._state=ie,this._sectionStart=this._index)},ve.prototype._stateBeforeTagName=function(e){"/"===e?this._state=d:"<"===e?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):">"===e||this._special!==ce||he(e)?this._state=l:"!"===e?(this._state=w,this._sectionStart=this._index+1):"?"===e?(this._state=T,this._sectionStart=this._index+1):(this._state=this._xmlMode||"s"!==e&&"S"!==e?c:F,this._sectionStart=this._index)},ve.prototype._stateInTagName=function(e){("/"===e||">"===e||he(e))&&(this._emitToken("onopentagname"),this._state=m,this._index--)},ve.prototype._stateBeforeCloseingTagName=function(e){he(e)||(">"===e?this._state=l:this._special!==ce?"s"===e||"S"===e?this._state=B:(this._state=l,this._index--):(this._state=h,this._sectionStart=this._index))},ve.prototype._stateInCloseingTagName=function(e){(">"===e||he(e))&&(this._emitToken("onclosetag"),this._state=p,this._index--)},ve.prototype._stateAfterCloseingTagName=function(e){">"===e&&(this._state=l,this._sectionStart=this._index+1)},ve.prototype._stateBeforeAttributeName=function(e){">"===e?(this._cbs.onopentagend(),this._state=l,this._sectionStart=this._index+1):"/"===e?this._state=f:he(e)||(this._state=v,this._sectionStart=this._index)},ve.prototype._stateInSelfClosingTag=function(e){">"===e?(this._cbs.onselfclosingtag(),this._state=l,this._sectionStart=this._index+1):he(e)||(this._state=m,this._index--)},ve.prototype._stateInAttributeName=function(e){("="===e||"/"===e||">"===e||he(e))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=g,this._index--)},ve.prototype._stateAfterAttributeName=function(e){"="===e?this._state=y:"/"===e||">"===e?(this._cbs.onattribend(),this._state=m,this._index--):he(e)||(this._cbs.onattribend(),this._state=v,this._sectionStart=this._index)},ve.prototype._stateBeforeAttributeValue=function(e){'"'===e?(this._state=b,this._sectionStart=this._index+1):"'"===e?(this._state=_,this._sectionStart=this._index+1):he(e)||(this._state=x,this._sectionStart=this._index,this._index--)},ve.prototype._stateInAttributeValueDoubleQuotes=function(e){'"'===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=m):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ie,this._sectionStart=this._index)},ve.prototype._stateInAttributeValueSingleQuotes=function(e){"'"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=m):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ie,this._sectionStart=this._index)},ve.prototype._stateInAttributeValueNoQuotes=function(e){he(e)||">"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=m,this._index--):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ie,this._sectionStart=this._index)},ve.prototype._stateBeforeDeclaration=function(e){this._state="["===e?A:"-"===e?S:E},ve.prototype._stateInDeclaration=function(e){">"===e&&(this._cbs.ondeclaration(this._getSection()),this._state=l,this._sectionStart=this._index+1)},ve.prototype._stateInProcessingInstruction=function(e){">"===e&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=l,this._sectionStart=this._index+1)},ve.prototype._stateBeforeComment=function(e){"-"===e?(this._state=k,this._sectionStart=this._index+1):this._state=E},ve.prototype._stateInComment=function(e){"-"===e&&(this._state=O)},ve.prototype._stateAfterComment1=function(e){this._state="-"===e?C:k},ve.prototype._stateAfterComment2=function(e){">"===e?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=l,this._sectionStart=this._index+1):"-"!==e&&(this._state=k)},ve.prototype._stateBeforeCdata1=pe("C",M,E),ve.prototype._stateBeforeCdata2=pe("D",P,E),ve.prototype._stateBeforeCdata3=pe("A",I,E),ve.prototype._stateBeforeCdata4=pe("T",D,E),ve.prototype._stateBeforeCdata5=pe("A",N,E),ve.prototype._stateBeforeCdata6=function(e){"["===e?(this._state=R,this._sectionStart=this._index+1):(this._state=E,this._index--)},ve.prototype._stateInCdata=function(e){"]"===e&&(this._state=L)},ve.prototype._stateAfterCdata1=function(e){this._state="]"===e?j:R},ve.prototype._stateAfterCdata2=function(e){">"===e?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=l,this._sectionStart=this._index+1):"]"!==e&&(this._state=R)},ve.prototype._stateBeforeSpecial=function(e){"c"===e||"C"===e?this._state=z:"t"===e||"T"===e?this._state=K:(this._state=c,this._index--)},ve.prototype._stateBeforeSpecialEnd=function(e){this._special!==fe||"c"!==e&&"C"!==e?this._special!==de||"t"!==e&&"T"!==e?this._state=l:this._state=ee:this._state=W},ve.prototype._stateBeforeScript1=me("R",H),ve.prototype._stateBeforeScript2=me("I",U),ve.prototype._stateBeforeScript3=me("P",V),ve.prototype._stateBeforeScript4=me("T",G),ve.prototype._stateBeforeScript5=function(e){("/"===e||">"===e||he(e))&&(this._special=fe),this._state=c,this._index--},ve.prototype._stateAfterScript1=pe("R",q,l),ve.prototype._stateAfterScript2=pe("I",Y,l),ve.prototype._stateAfterScript3=pe("P",X,l),ve.prototype._stateAfterScript4=pe("T",$,l),ve.prototype._stateAfterScript5=function(e){">"===e||he(e)?(this._special=ce,this._state=h,this._sectionStart=this._index-6,this._index--):this._state=l},ve.prototype._stateBeforeStyle1=me("Y",Z),ve.prototype._stateBeforeStyle2=me("L",Q),ve.prototype._stateBeforeStyle3=me("E",J),ve.prototype._stateBeforeStyle4=function(e){("/"===e||">"===e||he(e))&&(this._special=de),this._state=c,this._index--},ve.prototype._stateAfterStyle1=pe("Y",te,l),ve.prototype._stateAfterStyle2=pe("L",ne,l),ve.prototype._stateAfterStyle3=pe("E",re,l),ve.prototype._stateAfterStyle4=function(e){">"===e||he(e)?(this._special=ce,this._state=h,this._sectionStart=this._index-5,this._index--):this._state=l},ve.prototype._stateBeforeEntity=pe("#",oe,ae),ve.prototype._stateBeforeNumericEntity=pe("X",le,se),ve.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var e=this._buffer.substring(this._sectionStart+1,this._index),t=this._xmlMode?a:i;t.hasOwnProperty(e)&&(this._emitPartial(t[e]),this._sectionStart=this._index+1)}},ve.prototype._parseLegacyEntity=function(){var e=this._sectionStart+1,t=this._index-e;for(t>6&&(t=6);t>=2;){var n=this._buffer.substr(e,t);if(o.hasOwnProperty(n))return this._emitPartial(o[n]),void(this._sectionStart+=t+1);t--}},ve.prototype._stateInNamedEntity=function(e){";"===e?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(e<"a"||e>"z")&&(e<"A"||e>"Z")&&(e<"0"||e>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==l?"="!==e&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},ve.prototype._decodeNumericEntity=function(e,t){var n=this._sectionStart+e;if(n!==this._index){var i=this._buffer.substring(n,this._index),o=parseInt(i,t);this._emitPartial(r(o)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},ve.prototype._stateInNumericEntity=function(e){";"===e?(this._decodeNumericEntity(2,10),this._sectionStart++):(e<"0"||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},ve.prototype._stateInHexEntity=function(e){";"===e?(this._decodeNumericEntity(3,16),this._sectionStart++):(e<"a"||e>"f")&&(e<"A"||e>"F")&&(e<"0"||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},ve.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(this._state===l?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},ve.prototype.write=function(e){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=e,this._parse()},ve.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var e=this._buffer.charAt(this._index);this._state===l?this._stateText(e):this._state===u?this._stateBeforeTagName(e):this._state===c?this._stateInTagName(e):this._state===d?this._stateBeforeCloseingTagName(e):this._state===h?this._stateInCloseingTagName(e):this._state===p?this._stateAfterCloseingTagName(e):this._state===f?this._stateInSelfClosingTag(e):this._state===m?this._stateBeforeAttributeName(e):this._state===v?this._stateInAttributeName(e):this._state===g?this._stateAfterAttributeName(e):this._state===y?this._stateBeforeAttributeValue(e):this._state===b?this._stateInAttributeValueDoubleQuotes(e):this._state===_?this._stateInAttributeValueSingleQuotes(e):this._state===x?this._stateInAttributeValueNoQuotes(e):this._state===w?this._stateBeforeDeclaration(e):this._state===E?this._stateInDeclaration(e):this._state===T?this._stateInProcessingInstruction(e):this._state===S?this._stateBeforeComment(e):this._state===k?this._stateInComment(e):this._state===O?this._stateAfterComment1(e):this._state===C?this._stateAfterComment2(e):this._state===A?this._stateBeforeCdata1(e):this._state===M?this._stateBeforeCdata2(e):this._state===P?this._stateBeforeCdata3(e):this._state===I?this._stateBeforeCdata4(e):this._state===D?this._stateBeforeCdata5(e):this._state===N?this._stateBeforeCdata6(e):this._state===R?this._stateInCdata(e):this._state===L?this._stateAfterCdata1(e):this._state===j?this._stateAfterCdata2(e):this._state===F?this._stateBeforeSpecial(e):this._state===B?this._stateBeforeSpecialEnd(e):this._state===z?this._stateBeforeScript1(e):this._state===H?this._stateBeforeScript2(e):this._state===U?this._stateBeforeScript3(e):this._state===V?this._stateBeforeScript4(e):this._state===G?this._stateBeforeScript5(e):this._state===W?this._stateAfterScript1(e):this._state===q?this._stateAfterScript2(e):this._state===Y?this._stateAfterScript3(e):this._state===X?this._stateAfterScript4(e):this._state===$?this._stateAfterScript5(e):this._state===K?this._stateBeforeStyle1(e):this._state===Z?this._stateBeforeStyle2(e):this._state===Q?this._stateBeforeStyle3(e):this._state===J?this._stateBeforeStyle4(e):this._state===ee?this._stateAfterStyle1(e):this._state===te?this._stateAfterStyle2(e):this._state===ne?this._stateAfterStyle3(e):this._state===re?this._stateAfterStyle4(e):this._state===ie?this._stateBeforeEntity(e):this._state===oe?this._stateBeforeNumericEntity(e):this._state===ae?this._stateInNamedEntity(e):this._state===se?this._stateInNumericEntity(e):this._state===le?this._stateInHexEntity(e):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},ve.prototype.pause=function(){this._running=!1},ve.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},ve.prototype.end=function(e){this._ended&&this._cbs.onerror(Error(".end() after done!")),e&&this.write(e),this._ended=!0,this._running&&this._finish()},ve.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},ve.prototype._handleTrailingData=function(){var e=this._buffer.substr(this._sectionStart);this._state===R||this._state===L||this._state===j?this._cbs.oncdata(e):this._state===k||this._state===O||this._state===C?this._cbs.oncomment(e):this._state!==ae||this._xmlMode?this._state!==se||this._xmlMode?this._state!==le||this._xmlMode?this._state!==c&&this._state!==m&&this._state!==y&&this._state!==g&&this._state!==v&&this._state!==_&&this._state!==b&&this._state!==x&&this._state!==h&&this._cbs.ontext(e):(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData()))},ve.prototype.reset=function(){ve.call(this,{xmlMode:this._xmlMode,decodeEntities:this._decodeEntities},this._cbs)},ve.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},ve.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},ve.prototype._emitToken=function(e){this._cbs[e](this._getSection()),this._sectionStart=-1},ve.prototype._emitPartial=function(e){this._baseState!==l?this._cbs.onattribdata(e):this._cbs.ontext(e)}},function(e,t,n){var r=n(947);e.exports=function(e){if(e>=55296&&e<=57343||e>1114111)return"\ufffd";e in r&&(e=r[e]);var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e)}},function(e){e.exports={Aacute:"\xc1",aacute:"\xe1",Acirc:"\xc2",acirc:"\xe2",acute:"\xb4",AElig:"\xc6",aelig:"\xe6",Agrave:"\xc0",agrave:"\xe0",amp:"&",AMP:"&",Aring:"\xc5",aring:"\xe5",Atilde:"\xc3",atilde:"\xe3",Auml:"\xc4",auml:"\xe4",brvbar:"\xa6",Ccedil:"\xc7",ccedil:"\xe7",cedil:"\xb8",cent:"\xa2",copy:"\xa9",COPY:"\xa9",curren:"\xa4",deg:"\xb0",divide:"\xf7",Eacute:"\xc9",eacute:"\xe9",Ecirc:"\xca",ecirc:"\xea",Egrave:"\xc8",egrave:"\xe8",ETH:"\xd0",eth:"\xf0",Euml:"\xcb",euml:"\xeb",frac12:"\xbd",frac14:"\xbc",frac34:"\xbe",gt:">",GT:">",Iacute:"\xcd",iacute:"\xed",Icirc:"\xce",icirc:"\xee",iexcl:"\xa1",Igrave:"\xcc",igrave:"\xec",iquest:"\xbf",Iuml:"\xcf",iuml:"\xef",laquo:"\xab",lt:"<",LT:"<",macr:"\xaf",micro:"\xb5",middot:"\xb7",nbsp:"\xa0",not:"\xac",Ntilde:"\xd1",ntilde:"\xf1",Oacute:"\xd3",oacute:"\xf3",Ocirc:"\xd4",ocirc:"\xf4",Ograve:"\xd2",ograve:"\xf2",ordf:"\xaa",ordm:"\xba",Oslash:"\xd8",oslash:"\xf8",Otilde:"\xd5",otilde:"\xf5",Ouml:"\xd6",ouml:"\xf6",para:"\xb6",plusmn:"\xb1",pound:"\xa3",quot:'"',QUOT:'"',raquo:"\xbb",reg:"\xae",REG:"\xae",sect:"\xa7",shy:"\xad",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",szlig:"\xdf",THORN:"\xde",thorn:"\xfe",times:"\xd7",Uacute:"\xda",uacute:"\xfa",Ucirc:"\xdb",ucirc:"\xfb",Ugrave:"\xd9",ugrave:"\xf9",uml:"\xa8",Uuml:"\xdc",uuml:"\xfc",Yacute:"\xdd",yacute:"\xfd",yen:"\xa5",yuml:"\xff"}},function(e,t,n){var r=n(119),i=/\s+/g,o=n(437),a=n(948);function s(e,t,n){"object"===typeof e?(n=t,t=e,e=null):"function"===typeof t&&(n=t,t=l),this._callback=e,this._options=t||l,this._elementCB=n,this.dom=[],this._done=!1,this._tagStack=[],this._parser=this._parser||null}var l={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1};s.prototype.onparserinit=function(e){this._parser=e},s.prototype.onreset=function(){s.call(this,this._callback,this._options,this._elementCB)},s.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this._handleCallback(null))},s.prototype._handleCallback=s.prototype.onerror=function(e){if("function"===typeof this._callback)this._callback(e,this.dom);else if(e)throw e},s.prototype.onclosetag=function(){var e=this._tagStack.pop();this._options.withEndIndices&&e&&(e.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(e)},s.prototype._createDomElement=function(e){if(!this._options.withDomLvl1)return e;var t;for(var n in t="tag"===e.type?Object.create(a):Object.create(o),e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},s.prototype._addDomElement=function(e){var t=this._tagStack[this._tagStack.length-1],n=t?t.children:this.dom,r=n[n.length-1];e.next=null,this._options.withStartIndices&&(e.startIndex=this._parser.startIndex),this._options.withEndIndices&&(e.endIndex=this._parser.endIndex),r?(e.prev=r,r.next=e):e.prev=null,n.push(e),e.parent=t||null},s.prototype.onopentag=function(e,t){var n={type:"script"===e?r.Script:"style"===e?r.Style:r.Tag,name:e,attribs:t,children:[]},i=this._createDomElement(n);this._addDomElement(i),this._tagStack.push(i)},s.prototype.ontext=function(e){var t,n=this._options.normalizeWhitespace||this._options.ignoreWhitespace;if(!this._tagStack.length&&this.dom.length&&(t=this.dom[this.dom.length-1]).type===r.Text)n?t.data=(t.data+e).replace(i," "):t.data+=e;else if(this._tagStack.length&&(t=this._tagStack[this._tagStack.length-1])&&(t=t.children[t.children.length-1])&&t.type===r.Text)n?t.data=(t.data+e).replace(i," "):t.data+=e;else{n&&(e=e.replace(i," "));var o=this._createDomElement({data:e,type:r.Text});this._addDomElement(o)}},s.prototype.oncomment=function(e){var t=this._tagStack[this._tagStack.length-1];if(t&&t.type===r.Comment)t.data+=e;else{var n={data:e,type:r.Comment},i=this._createDomElement(n);this._addDomElement(i),this._tagStack.push(i)}},s.prototype.oncdatastart=function(){var e={children:[{data:"",type:r.Text}],type:r.CDATA},t=this._createDomElement(e);this._addDomElement(t),this._tagStack.push(t)},s.prototype.oncommentend=s.prototype.oncdataend=function(){this._tagStack.pop()},s.prototype.onprocessinginstruction=function(e,t){var n=this._createDomElement({name:e,data:t,type:r.Directive});this._addDomElement(n)},e.exports=s},function(e,t){var n=e.exports={get firstChild(){var e=this.children;return e&&e[0]||null},get lastChild(){var e=this.children;return e&&e[e.length-1]||null},get nodeType(){return i[this.type]||i.element}},r={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},i={element:1,text:3,cdata:4,comment:8};Object.keys(r).forEach((function(e){var t=r[e];Object.defineProperty(n,e,{get:function(){return this[t]||null},set:function(e){return this[t]=e,e}})}))},function(e,t,n){e.exports=s;var r=n(432),i=n(960).Writable,o=n(290).StringDecoder,a=n(110).Buffer;function s(e,t){var n=this._parser=new r(e,t),a=this._decoder=new o;i.call(this,{decodeStrings:!1}),this.once("finish",(function(){n.end(a.end())}))}n(57)(s,i),s.prototype._write=function(e,t,n){e instanceof a&&(e=this._decoder.write(e)),this._parser.write(e),n()}},function(e,t,n){"use strict";var r=n(120),i=n(966),o=n(967),a=n(968),s=n(291),l=n(292),u=n(293),c=n(442),f=n(145),d=n(62),h=d.TAG_NAMES,p=d.NAMESPACES,m=d.ATTRS,v={locationInfo:!1,treeAdapter:s},g="IN_BODY_MODE",y="TEXT_MODE",b="IN_TABLE_MODE",_="IN_ROW_MODE",x=Object.create(null);x[h.TR]=_,x[h.TBODY]=x[h.THEAD]=x[h.TFOOT]="IN_TABLE_BODY_MODE",x[h.CAPTION]="IN_CAPTION_MODE",x[h.COLGROUP]="IN_COLUMN_GROUP_MODE",x[h.TABLE]=b,x[h.BODY]=g,x[h.FRAMESET]="IN_FRAMESET_MODE";var w=Object.create(null);w[h.CAPTION]=w[h.COLGROUP]=w[h.TBODY]=w[h.TFOOT]=w[h.THEAD]=b,w[h.COL]="IN_COLUMN_GROUP_MODE",w[h.TR]="IN_TABLE_BODY_MODE",w[h.TD]=w[h.TH]=_;var E=Object.create(null);E.INITIAL_MODE=Object.create(null),E.INITIAL_MODE[r.CHARACTER_TOKEN]=E.INITIAL_MODE[r.NULL_CHARACTER_TOKEN]=j,E.INITIAL_MODE[r.WHITESPACE_CHARACTER_TOKEN]=I,E.INITIAL_MODE[r.COMMENT_TOKEN]=D,E.INITIAL_MODE[r.DOCTYPE_TOKEN]=function(e,t){e._setDocumentType(t);var n=t.forceQuirks?d.DOCUMENT_MODE.QUIRKS:u.getDocumentMode(t.name,t.publicId,t.systemId);e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode="BEFORE_HTML_MODE"},E.INITIAL_MODE[r.START_TAG_TOKEN]=E.INITIAL_MODE[r.END_TAG_TOKEN]=E.INITIAL_MODE[r.EOF_TOKEN]=j,E.BEFORE_HTML_MODE=Object.create(null),E.BEFORE_HTML_MODE[r.CHARACTER_TOKEN]=E.BEFORE_HTML_MODE[r.NULL_CHARACTER_TOKEN]=F,E.BEFORE_HTML_MODE[r.WHITESPACE_CHARACTER_TOKEN]=I,E.BEFORE_HTML_MODE[r.COMMENT_TOKEN]=D,E.BEFORE_HTML_MODE[r.DOCTYPE_TOKEN]=I,E.BEFORE_HTML_MODE[r.START_TAG_TOKEN]=function(e,t){t.tagName===h.HTML?(e._insertElement(t,p.HTML),e.insertionMode="BEFORE_HEAD_MODE"):F(e,t)},E.BEFORE_HTML_MODE[r.END_TAG_TOKEN]=function(e,t){var n=t.tagName;n!==h.HTML&&n!==h.HEAD&&n!==h.BODY&&n!==h.BR||F(e,t)},E.BEFORE_HTML_MODE[r.EOF_TOKEN]=F,E.BEFORE_HEAD_MODE=Object.create(null),E.BEFORE_HEAD_MODE[r.CHARACTER_TOKEN]=E.BEFORE_HEAD_MODE[r.NULL_CHARACTER_TOKEN]=B,E.BEFORE_HEAD_MODE[r.WHITESPACE_CHARACTER_TOKEN]=I,E.BEFORE_HEAD_MODE[r.COMMENT_TOKEN]=D,E.BEFORE_HEAD_MODE[r.DOCTYPE_TOKEN]=I,E.BEFORE_HEAD_MODE[r.START_TAG_TOKEN]=function(e,t){var n=t.tagName;n===h.HTML?ne(e,t):n===h.HEAD?(e._insertElement(t,p.HTML),e.headElement=e.openElements.current,e.insertionMode="IN_HEAD_MODE"):B(e,t)},E.BEFORE_HEAD_MODE[r.END_TAG_TOKEN]=function(e,t){var n=t.tagName;n!==h.HEAD&&n!==h.BODY&&n!==h.HTML&&n!==h.BR||B(e,t)},E.BEFORE_HEAD_MODE[r.EOF_TOKEN]=B,E.IN_HEAD_MODE=Object.create(null),E.IN_HEAD_MODE[r.CHARACTER_TOKEN]=E.IN_HEAD_MODE[r.NULL_CHARACTER_TOKEN]=U,E.IN_HEAD_MODE[r.WHITESPACE_CHARACTER_TOKEN]=R,E.IN_HEAD_MODE[r.COMMENT_TOKEN]=D,E.IN_HEAD_MODE[r.DOCTYPE_TOKEN]=I,E.IN_HEAD_MODE[r.START_TAG_TOKEN]=z,E.IN_HEAD_MODE[r.END_TAG_TOKEN]=H,E.IN_HEAD_MODE[r.EOF_TOKEN]=U,E.AFTER_HEAD_MODE=Object.create(null),E.AFTER_HEAD_MODE[r.CHARACTER_TOKEN]=E.AFTER_HEAD_MODE[r.NULL_CHARACTER_TOKEN]=V,E.AFTER_HEAD_MODE[r.WHITESPACE_CHARACTER_TOKEN]=R,E.AFTER_HEAD_MODE[r.COMMENT_TOKEN]=D,E.AFTER_HEAD_MODE[r.DOCTYPE_TOKEN]=I,E.AFTER_HEAD_MODE[r.START_TAG_TOKEN]=function(e,t){var n=t.tagName;n===h.HTML?ne(e,t):n===h.BODY?(e._insertElement(t,p.HTML),e.framesetOk=!1,e.insertionMode=g):n===h.FRAMESET?(e._insertElement(t,p.HTML),e.insertionMode="IN_FRAMESET_MODE"):n===h.BASE||n===h.BASEFONT||n===h.BGSOUND||n===h.LINK||n===h.META||n===h.NOFRAMES||n===h.SCRIPT||n===h.STYLE||n===h.TEMPLATE||n===h.TITLE?(e.openElements.push(e.headElement),z(e,t),e.openElements.remove(e.headElement)):n!==h.HEAD&&V(e,t)},E.AFTER_HEAD_MODE[r.END_TAG_TOKEN]=function(e,t){var n=t.tagName;n===h.BODY||n===h.HTML||n===h.BR?V(e,t):n===h.TEMPLATE&&H(e,t)},E.AFTER_HEAD_MODE[r.EOF_TOKEN]=V,E[g]=Object.create(null),E[g][r.CHARACTER_TOKEN]=W,E[g][r.NULL_CHARACTER_TOKEN]=I,E[g][r.WHITESPACE_CHARACTER_TOKEN]=G,E[g][r.COMMENT_TOKEN]=D,E[g][r.DOCTYPE_TOKEN]=I,E[g][r.START_TAG_TOKEN]=ne,E[g][r.END_TAG_TOKEN]=ae,E[g][r.EOF_TOKEN]=se,E[y]=Object.create(null),E[y][r.CHARACTER_TOKEN]=E[y][r.NULL_CHARACTER_TOKEN]=E[y][r.WHITESPACE_CHARACTER_TOKEN]=R,E[y][r.COMMENT_TOKEN]=E[y][r.DOCTYPE_TOKEN]=E[y][r.START_TAG_TOKEN]=I,E[y][r.END_TAG_TOKEN]=function(e,t){t.tagName===h.SCRIPT&&(e.pendingScript=e.openElements.current),e.openElements.pop(),e.insertionMode=e.originalInsertionMode},E[y][r.EOF_TOKEN]=function(e,t){e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e._processToken(t)},E[b]=Object.create(null),E[b][r.CHARACTER_TOKEN]=E[b][r.NULL_CHARACTER_TOKEN]=E[b][r.WHITESPACE_CHARACTER_TOKEN]=le,E[b][r.COMMENT_TOKEN]=D,E[b][r.DOCTYPE_TOKEN]=I,E[b][r.START_TAG_TOKEN]=ue,E[b][r.END_TAG_TOKEN]=ce,E[b][r.EOF_TOKEN]=se,E.IN_TABLE_TEXT_MODE=Object.create(null),E.IN_TABLE_TEXT_MODE[r.CHARACTER_TOKEN]=function(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0},E.IN_TABLE_TEXT_MODE[r.NULL_CHARACTER_TOKEN]=I,E.IN_TABLE_TEXT_MODE[r.WHITESPACE_CHARACTER_TOKEN]=function(e,t){e.pendingCharacterTokens.push(t)},E.IN_TABLE_TEXT_MODE[r.COMMENT_TOKEN]=E.IN_TABLE_TEXT_MODE[r.DOCTYPE_TOKEN]=E.IN_TABLE_TEXT_MODE[r.START_TAG_TOKEN]=E.IN_TABLE_TEXT_MODE[r.END_TAG_TOKEN]=E.IN_TABLE_TEXT_MODE[r.EOF_TOKEN]=function(e,t){var n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)fe(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)},E.IN_CAPTION_MODE=Object.create(null),E.IN_CAPTION_MODE[r.CHARACTER_TOKEN]=W,E.IN_CAPTION_MODE[r.NULL_CHARACTER_TOKEN]=I,E.IN_CAPTION_MODE[r.WHITESPACE_CHARACTER_TOKEN]=G,E.IN_CAPTION_MODE[r.COMMENT_TOKEN]=D,E.IN_CAPTION_MODE[r.DOCTYPE_TOKEN]=I,E.IN_CAPTION_MODE[r.START_TAG_TOKEN]=function(e,t){var n=t.tagName;n===h.CAPTION||n===h.COL||n===h.COLGROUP||n===h.TBODY||n===h.TD||n===h.TFOOT||n===h.TH||n===h.THEAD||n===h.TR?e.openElements.hasInTableScope(h.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(h.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=b,e._processToken(t)):ne(e,t)},E.IN_CAPTION_MODE[r.END_TAG_TOKEN]=function(e,t){var n=t.tagName;n===h.CAPTION||n===h.TABLE?e.openElements.hasInTableScope(h.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(h.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=b,n===h.TABLE&&e._processToken(t)):n!==h.BODY&&n!==h.COL&&n!==h.COLGROUP&&n!==h.HTML&&n!==h.TBODY&&n!==h.TD&&n!==h.TFOOT&&n!==h.TH&&n!==h.THEAD&&n!==h.TR&&ae(e,t)},E.IN_CAPTION_MODE[r.EOF_TOKEN]=se,E.IN_COLUMN_GROUP_MODE=Object.create(null),E.IN_COLUMN_GROUP_MODE[r.CHARACTER_TOKEN]=E.IN_COLUMN_GROUP_MODE[r.NULL_CHARACTER_TOKEN]=de,E.IN_COLUMN_GROUP_MODE[r.WHITESPACE_CHARACTER_TOKEN]=R,E.IN_COLUMN_GROUP_MODE[r.COMMENT_TOKEN]=D,E.IN_COLUMN_GROUP_MODE[r.DOCTYPE_TOKEN]=I,E.IN_COLUMN_GROUP_MODE[r.START_TAG_TOKEN]=function(e,t){var n=t.tagName;n===h.HTML?ne(e,t):n===h.COL?e._appendElement(t,p.HTML):n===h.TEMPLATE?z(e,t):de(e,t)},E.IN_COLUMN_GROUP_MODE[r.END_TAG_TOKEN]=function(e,t){var n=t.tagName;n===h.COLGROUP?e.openElements.currentTagName===h.COLGROUP&&(e.openElements.pop(),e.insertionMode=b):n===h.TEMPLATE?H(e,t):n!==h.COL&&de(e,t)},E.IN_COLUMN_GROUP_MODE[r.EOF_TOKEN]=se,E.IN_TABLE_BODY_MODE=Object.create(null),E.IN_TABLE_BODY_MODE[r.CHARACTER_TOKEN]=E.IN_TABLE_BODY_MODE[r.NULL_CHARACTER_TOKEN]=E.IN_TABLE_BODY_MODE[r.WHITESPACE_CHARACTER_TOKEN]=le,E.IN_TABLE_BODY_MODE[r.COMMENT_TOKEN]=D,E.IN_TABLE_BODY_MODE[r.DOCTYPE_TOKEN]=I,E.IN_TABLE_BODY_MODE[r.START_TAG_TOKEN]=function(e,t){var n=t.tagName;n===h.TR?(e.openElements.clearBackToTableBodyContext(),e._insertElement(t,p.HTML),e.insertionMode=_):n===h.TH||n===h.TD?(e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(h.TR),e.insertionMode=_,e._processToken(t)):n===h.CAPTION||n===h.COL||n===h.COLGROUP||n===h.TBODY||n===h.TFOOT||n===h.THEAD?e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=b,e._processToken(t)):ue(e,t)},E.IN_TABLE_BODY_MODE[r.END_TAG_TOKEN]=function(e,t){var n=t.tagName;n===h.TBODY||n===h.TFOOT||n===h.THEAD?e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=b):n===h.TABLE?e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=b,e._processToken(t)):(n!==h.BODY&&n!==h.CAPTION&&n!==h.COL&&n!==h.COLGROUP||n!==h.HTML&&n!==h.TD&&n!==h.TH&&n!==h.TR)&&ce(e,t)},E.IN_TABLE_BODY_MODE[r.EOF_TOKEN]=se,E[_]=Object.create(null),E[_][r.CHARACTER_TOKEN]=E[_][r.NULL_CHARACTER_TOKEN]=E[_][r.WHITESPACE_CHARACTER_TOKEN]=le,E[_][r.COMMENT_TOKEN]=D,E[_][r.DOCTYPE_TOKEN]=I,E[_][r.START_TAG_TOKEN]=function(e,t){var n=t.tagName;n===h.TH||n===h.TD?(e.openElements.clearBackToTableRowContext(),e._insertElement(t,p.HTML),e.insertionMode="IN_CELL_MODE",e.activeFormattingElements.insertMarker()):n===h.CAPTION||n===h.COL||n===h.COLGROUP||n===h.TBODY||n===h.TFOOT||n===h.THEAD||n===h.TR?e.openElements.hasInTableScope(h.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode="IN_TABLE_BODY_MODE",e._processToken(t)):ue(e,t)},E[_][r.END_TAG_TOKEN]=function(e,t){var n=t.tagName;n===h.TR?e.openElements.hasInTableScope(h.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode="IN_TABLE_BODY_MODE"):n===h.TABLE?e.openElements.hasInTableScope(h.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode="IN_TABLE_BODY_MODE",e._processToken(t)):n===h.TBODY||n===h.TFOOT||n===h.THEAD?(e.openElements.hasInTableScope(n)||e.openElements.hasInTableScope(h.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode="IN_TABLE_BODY_MODE",e._processToken(t)):(n!==h.BODY&&n!==h.CAPTION&&n!==h.COL&&n!==h.COLGROUP||n!==h.HTML&&n!==h.TD&&n!==h.TH)&&ce(e,t)},E[_][r.EOF_TOKEN]=se,E.IN_CELL_MODE=Object.create(null),E.IN_CELL_MODE[r.CHARACTER_TOKEN]=W,E.IN_CELL_MODE[r.NULL_CHARACTER_TOKEN]=I,E.IN_CELL_MODE[r.WHITESPACE_CHARACTER_TOKEN]=G,E.IN_CELL_MODE[r.COMMENT_TOKEN]=D,E.IN_CELL_MODE[r.DOCTYPE_TOKEN]=I,E.IN_CELL_MODE[r.START_TAG_TOKEN]=function(e,t){var n=t.tagName;n===h.CAPTION||n===h.COL||n===h.COLGROUP||n===h.TBODY||n===h.TD||n===h.TFOOT||n===h.TH||n===h.THEAD||n===h.TR?(e.openElements.hasInTableScope(h.TD)||e.openElements.hasInTableScope(h.TH))&&(e._closeTableCell(),e._processToken(t)):ne(e,t)},E.IN_CELL_MODE[r.END_TAG_TOKEN]=function(e,t){var n=t.tagName;n===h.TD||n===h.TH?e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=_):n===h.TABLE||n===h.TBODY||n===h.TFOOT||n===h.THEAD||n===h.TR?e.openElements.hasInTableScope(n)&&(e._closeTableCell(),e._processToken(t)):n!==h.BODY&&n!==h.CAPTION&&n!==h.COL&&n!==h.COLGROUP&&n!==h.HTML&&ae(e,t)},E.IN_CELL_MODE[r.EOF_TOKEN]=se,E.IN_SELECT_MODE=Object.create(null),E.IN_SELECT_MODE[r.CHARACTER_TOKEN]=R,E.IN_SELECT_MODE[r.NULL_CHARACTER_TOKEN]=I,E.IN_SELECT_MODE[r.WHITESPACE_CHARACTER_TOKEN]=R,E.IN_SELECT_MODE[r.COMMENT_TOKEN]=D,E.IN_SELECT_MODE[r.DOCTYPE_TOKEN]=I,E.IN_SELECT_MODE[r.START_TAG_TOKEN]=he,E.IN_SELECT_MODE[r.END_TAG_TOKEN]=pe,E.IN_SELECT_MODE[r.EOF_TOKEN]=se,E.IN_SELECT_IN_TABLE_MODE=Object.create(null),E.IN_SELECT_IN_TABLE_MODE[r.CHARACTER_TOKEN]=R,E.IN_SELECT_IN_TABLE_MODE[r.NULL_CHARACTER_TOKEN]=I,E.IN_SELECT_IN_TABLE_MODE[r.WHITESPACE_CHARACTER_TOKEN]=R,E.IN_SELECT_IN_TABLE_MODE[r.COMMENT_TOKEN]=D,E.IN_SELECT_IN_TABLE_MODE[r.DOCTYPE_TOKEN]=I,E.IN_SELECT_IN_TABLE_MODE[r.START_TAG_TOKEN]=function(e,t){var n=t.tagName;n===h.CAPTION||n===h.TABLE||n===h.TBODY||n===h.TFOOT||n===h.THEAD||n===h.TR||n===h.TD||n===h.TH?(e.openElements.popUntilTagNamePopped(h.SELECT),e._resetInsertionMode(),e._processToken(t)):he(e,t)},E.IN_SELECT_IN_TABLE_MODE[r.END_TAG_TOKEN]=function(e,t){var n=t.tagName;n===h.CAPTION||n===h.TABLE||n===h.TBODY||n===h.TFOOT||n===h.THEAD||n===h.TR||n===h.TD||n===h.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(h.SELECT),e._resetInsertionMode(),e._processToken(t)):pe(e,t)},E.IN_SELECT_IN_TABLE_MODE[r.EOF_TOKEN]=se,E.IN_TEMPLATE_MODE=Object.create(null),E.IN_TEMPLATE_MODE[r.CHARACTER_TOKEN]=W,E.IN_TEMPLATE_MODE[r.NULL_CHARACTER_TOKEN]=I,E.IN_TEMPLATE_MODE[r.WHITESPACE_CHARACTER_TOKEN]=G,E.IN_TEMPLATE_MODE[r.COMMENT_TOKEN]=D,E.IN_TEMPLATE_MODE[r.DOCTYPE_TOKEN]=I,E.IN_TEMPLATE_MODE[r.START_TAG_TOKEN]=function(e,t){var n=t.tagName;if(n===h.BASE||n===h.BASEFONT||n===h.BGSOUND||n===h.LINK||n===h.META||n===h.NOFRAMES||n===h.SCRIPT||n===h.STYLE||n===h.TEMPLATE||n===h.TITLE)z(e,t);else{var r=w[n]||g;e._popTmplInsertionMode(),e._pushTmplInsertionMode(r),e.insertionMode=r,e._processToken(t)}},E.IN_TEMPLATE_MODE[r.END_TAG_TOKEN]=function(e,t){t.tagName===h.TEMPLATE&&H(e,t)},E.IN_TEMPLATE_MODE[r.EOF_TOKEN]=me,E.AFTER_BODY_MODE=Object.create(null),E.AFTER_BODY_MODE[r.CHARACTER_TOKEN]=E.AFTER_BODY_MODE[r.NULL_CHARACTER_TOKEN]=ve,E.AFTER_BODY_MODE[r.WHITESPACE_CHARACTER_TOKEN]=G,E.AFTER_BODY_MODE[r.COMMENT_TOKEN]=function(e,t){e._appendCommentNode(t,e.openElements.items[0])},E.AFTER_BODY_MODE[r.DOCTYPE_TOKEN]=I,E.AFTER_BODY_MODE[r.START_TAG_TOKEN]=function(e,t){t.tagName===h.HTML?ne(e,t):ve(e,t)},E.AFTER_BODY_MODE[r.END_TAG_TOKEN]=function(e,t){t.tagName===h.HTML?e.fragmentContext||(e.insertionMode="AFTER_AFTER_BODY_MODE"):ve(e,t)},E.AFTER_BODY_MODE[r.EOF_TOKEN]=L,E.IN_FRAMESET_MODE=Object.create(null),E.IN_FRAMESET_MODE[r.CHARACTER_TOKEN]=E.IN_FRAMESET_MODE[r.NULL_CHARACTER_TOKEN]=I,E.IN_FRAMESET_MODE[r.WHITESPACE_CHARACTER_TOKEN]=R,E.IN_FRAMESET_MODE[r.COMMENT_TOKEN]=D,E.IN_FRAMESET_MODE[r.DOCTYPE_TOKEN]=I,E.IN_FRAMESET_MODE[r.START_TAG_TOKEN]=function(e,t){var n=t.tagName;n===h.HTML?ne(e,t):n===h.FRAMESET?e._insertElement(t,p.HTML):n===h.FRAME?e._appendElement(t,p.HTML):n===h.NOFRAMES&&z(e,t)},E.IN_FRAMESET_MODE[r.END_TAG_TOKEN]=function(e,t){t.tagName!==h.FRAMESET||e.openElements.isRootHtmlElementCurrent()||(e.openElements.pop(),e.fragmentContext||e.openElements.currentTagName===h.FRAMESET||(e.insertionMode="AFTER_FRAMESET_MODE"))},E.IN_FRAMESET_MODE[r.EOF_TOKEN]=L,E.AFTER_FRAMESET_MODE=Object.create(null),E.AFTER_FRAMESET_MODE[r.CHARACTER_TOKEN]=E.AFTER_FRAMESET_MODE[r.NULL_CHARACTER_TOKEN]=I,E.AFTER_FRAMESET_MODE[r.WHITESPACE_CHARACTER_TOKEN]=R,E.AFTER_FRAMESET_MODE[r.COMMENT_TOKEN]=D,E.AFTER_FRAMESET_MODE[r.DOCTYPE_TOKEN]=I,E.AFTER_FRAMESET_MODE[r.START_TAG_TOKEN]=function(e,t){var n=t.tagName;n===h.HTML?ne(e,t):n===h.NOFRAMES&&z(e,t)},E.AFTER_FRAMESET_MODE[r.END_TAG_TOKEN]=function(e,t){t.tagName===h.HTML&&(e.insertionMode="AFTER_AFTER_FRAMESET_MODE")},E.AFTER_FRAMESET_MODE[r.EOF_TOKEN]=L,E.AFTER_AFTER_BODY_MODE=Object.create(null),E.AFTER_AFTER_BODY_MODE[r.CHARACTER_TOKEN]=ge,E.AFTER_AFTER_BODY_MODE[r.NULL_CHARACTER_TOKEN]=ge,E.AFTER_AFTER_BODY_MODE[r.WHITESPACE_CHARACTER_TOKEN]=G,E.AFTER_AFTER_BODY_MODE[r.COMMENT_TOKEN]=N,E.AFTER_AFTER_BODY_MODE[r.DOCTYPE_TOKEN]=I,E.AFTER_AFTER_BODY_MODE[r.START_TAG_TOKEN]=function(e,t){t.tagName===h.HTML?ne(e,t):ge(e,t)},E.AFTER_AFTER_BODY_MODE[r.END_TAG_TOKEN]=ge,E.AFTER_AFTER_BODY_MODE[r.EOF_TOKEN]=L,E.AFTER_AFTER_FRAMESET_MODE=Object.create(null),E.AFTER_AFTER_FRAMESET_MODE[r.CHARACTER_TOKEN]=E.AFTER_AFTER_FRAMESET_MODE[r.NULL_CHARACTER_TOKEN]=I,E.AFTER_AFTER_FRAMESET_MODE[r.WHITESPACE_CHARACTER_TOKEN]=G,E.AFTER_AFTER_FRAMESET_MODE[r.COMMENT_TOKEN]=N,E.AFTER_AFTER_FRAMESET_MODE[r.DOCTYPE_TOKEN]=I,E.AFTER_AFTER_FRAMESET_MODE[r.START_TAG_TOKEN]=function(e,t){var n=t.tagName;n===h.HTML?ne(e,t):n===h.NOFRAMES&&z(e,t)},E.AFTER_AFTER_FRAMESET_MODE[r.END_TAG_TOKEN]=I,E.AFTER_AFTER_FRAMESET_MODE[r.EOF_TOKEN]=L;var T=e.exports=function(e){this.options=l(v,e),this.treeAdapter=this.options.treeAdapter,this.pendingScript=null,this.options.locationInfo&&new a(this)};function S(e,t){var n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagName)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):oe(e,t),n}function k(e,t){for(var n=null,r=e.openElements.stackTop;r>=0;r--){var i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i)&&(n=i)}return n||(e.openElements.popUntilElementPopped(t.element),e.activeFormattingElements.removeEntry(t)),n}function O(e,t,n){for(var r=t,i=e.openElements.getCommonAncestor(t),o=0,a=i;a!==n;o++,a=i){i=e.openElements.getCommonAncestor(a);var s=e.activeFormattingElements.getElementEntry(a),l=s&&o>=3;!s||l?(l&&e.activeFormattingElements.removeEntry(s),e.openElements.remove(a)):(a=C(e,s),r===t&&(e.activeFormattingElements.bookmark=s),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(a,r),r=a)}return r}function C(e,t){var n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function A(e,t,n){if(e._isElementCausesFosterParenting(t))e._fosterParentElement(n);else{var r=e.treeAdapter.getTagName(t),i=e.treeAdapter.getNamespaceURI(t);r===h.TEMPLATE&&i===p.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function M(e,t,n){var r=e.treeAdapter.getNamespaceURI(n.element),i=n.token,o=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,o),e.treeAdapter.appendChild(t,o),e.activeFormattingElements.insertElementAfterBookmark(o,n.token),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,o)}function P(e,t){for(var n,r=0;r<8&&(n=S(e,t));r++){var i=k(e,n);if(!i)break;e.activeFormattingElements.bookmark=n;var o=O(e,i,n.element),a=e.openElements.getCommonAncestor(n.element);e.treeAdapter.detachNode(o),A(e,a,o),M(e,i,n)}}function I(){}function D(e,t){e._appendCommentNode(t,e.openElements.currentTmplContent||e.openElements.current)}function N(e,t){e._appendCommentNode(t,e.document)}function R(e,t){e._insertCharacters(t)}function L(e){e.stopped=!0}function j(e,t){e.treeAdapter.setDocumentMode(e.document,d.DOCUMENT_MODE.QUIRKS),e.insertionMode="BEFORE_HTML_MODE",e._processToken(t)}function F(e,t){e._insertFakeRootElement(),e.insertionMode="BEFORE_HEAD_MODE",e._processToken(t)}function B(e,t){e._insertFakeElement(h.HEAD),e.headElement=e.openElements.current,e.insertionMode="IN_HEAD_MODE",e._processToken(t)}function z(e,t){var n=t.tagName;n===h.HTML?ne(e,t):n===h.BASE||n===h.BASEFONT||n===h.BGSOUND||n===h.LINK||n===h.META?e._appendElement(t,p.HTML):n===h.TITLE?e._switchToTextParsing(t,r.MODE.RCDATA):n===h.NOSCRIPT||n===h.NOFRAMES||n===h.STYLE?e._switchToTextParsing(t,r.MODE.RAWTEXT):n===h.SCRIPT?e._switchToTextParsing(t,r.MODE.SCRIPT_DATA):n===h.TEMPLATE?(e._insertTemplate(t,p.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode="IN_TEMPLATE_MODE",e._pushTmplInsertionMode("IN_TEMPLATE_MODE")):n!==h.HEAD&&U(e,t)}function H(e,t){var n=t.tagName;n===h.HEAD?(e.openElements.pop(),e.insertionMode="AFTER_HEAD_MODE"):n===h.BODY||n===h.BR||n===h.HTML?U(e,t):n===h.TEMPLATE&&e.openElements.tmplCount>0&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(h.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e._popTmplInsertionMode(),e._resetInsertionMode())}function U(e,t){e.openElements.pop(),e.insertionMode="AFTER_HEAD_MODE",e._processToken(t)}function V(e,t){e._insertFakeElement(h.BODY),e.insertionMode=g,e._processToken(t)}function G(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function W(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function q(e,t){e.openElements.hasInButtonScope(h.P)&&e._closePElement(),e._insertElement(t,p.HTML)}function Y(e,t){e.openElements.hasInButtonScope(h.P)&&e._closePElement(),e._insertElement(t,p.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function X(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,p.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function $(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,p.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function K(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,p.HTML),e.framesetOk=!1}function Z(e,t){e._appendElement(t,p.HTML)}function Q(e,t){e._switchToTextParsing(t,r.MODE.RAWTEXT)}function J(e,t){e.openElements.currentTagName===h.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,p.HTML)}function ee(e,t){e.openElements.hasInScope(h.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,p.HTML)}function te(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,p.HTML)}function ne(e,t){var n=t.tagName;switch(n.length){case 1:n===h.I||n===h.S||n===h.B||n===h.U?X(e,t):n===h.P?q(e,t):n===h.A?function(e,t){var n=e.activeFormattingElements.getElementEntryInScopeWithTagName(h.A);n&&(P(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,p.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t):te(e,t);break;case 2:n===h.DL||n===h.OL||n===h.UL?q(e,t):n===h.H1||n===h.H2||n===h.H3||n===h.H4||n===h.H5||n===h.H6?function(e,t){e.openElements.hasInButtonScope(h.P)&&e._closePElement();var n=e.openElements.currentTagName;n!==h.H1&&n!==h.H2&&n!==h.H3&&n!==h.H4&&n!==h.H5&&n!==h.H6||e.openElements.pop(),e._insertElement(t,p.HTML)}(e,t):n===h.LI||n===h.DD||n===h.DT?function(e,t){e.framesetOk=!1;for(var n=t.tagName,r=e.openElements.stackTop;r>=0;r--){var i=e.openElements.items[r],o=e.treeAdapter.getTagName(i),a=null;if(n===h.LI&&o===h.LI?a=h.LI:n!==h.DD&&n!==h.DT||o!==h.DD&&o!==h.DT||(a=o),a){e.openElements.generateImpliedEndTagsWithExclusion(a),e.openElements.popUntilTagNamePopped(a);break}if(o!==h.ADDRESS&&o!==h.DIV&&o!==h.P&&e._isSpecialElement(i))break}e.openElements.hasInButtonScope(h.P)&&e._closePElement(),e._insertElement(t,p.HTML)}(e,t):n===h.EM||n===h.TT?X(e,t):n===h.BR?K(e,t):n===h.HR?function(e,t){e.openElements.hasInButtonScope(h.P)&&e._closePElement(),e.openElements.currentTagName===h.MENUITEM&&e.openElements.pop(),e._appendElement(t,p.HTML),e.framesetOk=!1}(e,t):n===h.RB?ee(e,t):n===h.RT||n===h.RP?function(e,t){e.openElements.hasInScope(h.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(h.RTC),e._insertElement(t,p.HTML)}(e,t):n!==h.TH&&n!==h.TD&&n!==h.TR&&te(e,t);break;case 3:n===h.DIV||n===h.DIR||n===h.NAV?q(e,t):n===h.PRE?Y(e,t):n===h.BIG?X(e,t):n===h.IMG||n===h.WBR?K(e,t):n===h.XMP?function(e,t){e.openElements.hasInButtonScope(h.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,r.MODE.RAWTEXT)}(e,t):n===h.SVG?function(e,t){e._reconstructActiveFormattingElements(),c.adjustTokenSVGAttrs(t),c.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,p.SVG):e._insertElement(t,p.SVG)}(e,t):n===h.RTC?ee(e,t):n!==h.COL&&te(e,t);break;case 4:n===h.HTML?function(e,t){0===e.openElements.tmplCount&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}(e,t):n===h.BASE||n===h.LINK||n===h.META?z(e,t):n===h.BODY?function(e,t){var n=e.openElements.tryPeekProperlyNestedBodyElement();n&&0===e.openElements.tmplCount&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}(e,t):n===h.MAIN?q(e,t):n===h.FORM?function(e,t){var n=e.openElements.tmplCount>0;e.formElement&&!n||(e.openElements.hasInButtonScope(h.P)&&e._closePElement(),e._insertElement(t,p.HTML),n||(e.formElement=e.openElements.current))}(e,t):n===h.CODE||n===h.FONT?X(e,t):n===h.NOBR?function(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(h.NOBR)&&(P(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,p.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t):n===h.AREA?K(e,t):n===h.MATH?function(e,t){e._reconstructActiveFormattingElements(),c.adjustTokenMathMLAttrs(t),c.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,p.MATHML):e._insertElement(t,p.MATHML)}(e,t):n===h.MENU?function(e,t){e.openElements.hasInButtonScope(h.P)&&e._closePElement(),e.openElements.currentTagName===h.MENUITEM&&e.openElements.pop(),e._insertElement(t,p.HTML)}(e,t):n!==h.HEAD&&te(e,t);break;case 5:n===h.STYLE||n===h.TITLE?z(e,t):n===h.ASIDE?q(e,t):n===h.SMALL?X(e,t):n===h.TABLE?function(e,t){e.treeAdapter.getDocumentMode(e.document)!==d.DOCUMENT_MODE.QUIRKS&&e.openElements.hasInButtonScope(h.P)&&e._closePElement(),e._insertElement(t,p.HTML),e.framesetOk=!1,e.insertionMode=b}(e,t):n===h.EMBED?K(e,t):n===h.INPUT?function(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,p.HTML);var n=r.getTokenAttr(t,m.TYPE);n&&"hidden"===n.toLowerCase()||(e.framesetOk=!1)}(e,t):n===h.PARAM||n===h.TRACK?Z(e,t):n===h.IMAGE?function(e,t){t.tagName=h.IMG,K(e,t)}(e,t):n!==h.FRAME&&n!==h.TBODY&&n!==h.TFOOT&&n!==h.THEAD&&te(e,t);break;case 6:n===h.SCRIPT?z(e,t):n===h.CENTER||n===h.FIGURE||n===h.FOOTER||n===h.HEADER||n===h.HGROUP?q(e,t):n===h.BUTTON?function(e,t){e.openElements.hasInScope(h.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(h.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,p.HTML),e.framesetOk=!1}(e,t):n===h.STRIKE||n===h.STRONG?X(e,t):n===h.APPLET||n===h.OBJECT?$(e,t):n===h.KEYGEN?K(e,t):n===h.SOURCE?Z(e,t):n===h.IFRAME?function(e,t){e.framesetOk=!1,e._switchToTextParsing(t,r.MODE.RAWTEXT)}(e,t):n===h.SELECT?function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,p.HTML),e.framesetOk=!1,e.insertionMode===b||"IN_CAPTION_MODE"===e.insertionMode||"IN_TABLE_BODY_MODE"===e.insertionMode||e.insertionMode===_||"IN_CELL_MODE"===e.insertionMode?e.insertionMode="IN_SELECT_IN_TABLE_MODE":e.insertionMode="IN_SELECT_MODE"}(e,t):n===h.OPTION?J(e,t):te(e,t);break;case 7:n===h.BGSOUND?z(e,t):n===h.DETAILS||n===h.ADDRESS||n===h.ARTICLE||n===h.SECTION||n===h.SUMMARY?q(e,t):n===h.LISTING?Y(e,t):n===h.MARQUEE?$(e,t):n===h.NOEMBED?Q(e,t):n!==h.CAPTION&&te(e,t);break;case 8:n===h.BASEFONT?z(e,t):n===h.MENUITEM?function(e,t){e.openElements.currentTagName===h.MENUITEM&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,p.HTML)}(e,t):n===h.FRAMESET?function(e,t){var n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,p.HTML),e.insertionMode="IN_FRAMESET_MODE")}(e,t):n===h.FIELDSET?q(e,t):n===h.TEXTAREA?function(e,t){e._insertElement(t,p.HTML),e.skipNextNewLine=!0,e.tokenizer.state=r.MODE.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=y}(e,t):n===h.TEMPLATE?z(e,t):n===h.NOSCRIPT?Q(e,t):n===h.OPTGROUP?J(e,t):n!==h.COLGROUP&&te(e,t);break;case 9:n===h.PLAINTEXT?function(e,t){e.openElements.hasInButtonScope(h.P)&&e._closePElement(),e._insertElement(t,p.HTML),e.tokenizer.state=r.MODE.PLAINTEXT}(e,t):te(e,t);break;case 10:n===h.BLOCKQUOTE||n===h.FIGCAPTION?q(e,t):te(e,t);break;default:te(e,t)}}function re(e,t){var n=t.tagName;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function ie(e,t){var n=t.tagName;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function oe(e,t){for(var n=t.tagName,r=e.openElements.stackTop;r>0;r--){var i=e.openElements.items[r];if(e.treeAdapter.getTagName(i)===n){e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilElementPopped(i);break}if(e._isSpecialElement(i))break}}function ae(e,t){var n=t.tagName;switch(n.length){case 1:n===h.A||n===h.B||n===h.I||n===h.S||n===h.U?P(e,t):n===h.P?function(e){e.openElements.hasInButtonScope(h.P)||e._insertFakeElement(h.P),e._closePElement()}(e):oe(e,t);break;case 2:n===h.DL||n===h.UL||n===h.OL?re(e,t):n===h.LI?function(e){e.openElements.hasInListItemScope(h.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(h.LI),e.openElements.popUntilTagNamePopped(h.LI))}(e):n===h.DD||n===h.DT?function(e,t){var n=t.tagName;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}(e,t):n===h.H1||n===h.H2||n===h.H3||n===h.H4||n===h.H5||n===h.H6?function(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}(e):n===h.BR?function(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(h.BR),e.openElements.pop(),e.framesetOk=!1}(e):n===h.EM||n===h.TT?P(e,t):oe(e,t);break;case 3:n===h.BIG?P(e,t):n===h.DIR||n===h.DIV||n===h.NAV?re(e,t):oe(e,t);break;case 4:n===h.BODY?function(e){e.openElements.hasInScope(h.BODY)&&(e.insertionMode="AFTER_BODY_MODE")}(e):n===h.HTML?function(e,t){e.openElements.hasInScope(h.BODY)&&(e.insertionMode="AFTER_BODY_MODE",e._processToken(t))}(e,t):n===h.FORM?function(e){var t=e.openElements.tmplCount>0,n=e.formElement;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(h.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(h.FORM):e.openElements.remove(n))}(e):n===h.CODE||n===h.FONT||n===h.NOBR?P(e,t):n===h.MAIN||n===h.MENU?re(e,t):oe(e,t);break;case 5:n===h.ASIDE?re(e,t):n===h.SMALL?P(e,t):oe(e,t);break;case 6:n===h.CENTER||n===h.FIGURE||n===h.FOOTER||n===h.HEADER||n===h.HGROUP?re(e,t):n===h.APPLET||n===h.OBJECT?ie(e,t):n===h.STRIKE||n===h.STRONG?P(e,t):oe(e,t);break;case 7:n===h.ADDRESS||n===h.ARTICLE||n===h.DETAILS||n===h.SECTION||n===h.SUMMARY?re(e,t):n===h.MARQUEE?ie(e,t):oe(e,t);break;case 8:n===h.FIELDSET?re(e,t):n===h.TEMPLATE?H(e,t):oe(e,t);break;case 10:n===h.BLOCKQUOTE||n===h.FIGCAPTION?re(e,t):oe(e,t);break;default:oe(e,t)}}function se(e,t){e.tmplInsertionModeStackTop>-1?me(e,t):e.stopped=!0}function le(e,t){var n=e.openElements.currentTagName;n===h.TABLE||n===h.TBODY||n===h.TFOOT||n===h.THEAD||n===h.TR?(e.pendingCharacterTokens=[],e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode="IN_TABLE_TEXT_MODE",e._processToken(t)):fe(e,t)}function ue(e,t){var n=t.tagName;switch(n.length){case 2:n===h.TD||n===h.TH||n===h.TR?function(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(h.TBODY),e.insertionMode="IN_TABLE_BODY_MODE",e._processToken(t)}(e,t):fe(e,t);break;case 3:n===h.COL?function(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(h.COLGROUP),e.insertionMode="IN_COLUMN_GROUP_MODE",e._processToken(t)}(e,t):fe(e,t);break;case 4:n===h.FORM?function(e,t){e.formElement||0!==e.openElements.tmplCount||(e._insertElement(t,p.HTML),e.formElement=e.openElements.current,e.openElements.pop())}(e,t):fe(e,t);break;case 5:n===h.TABLE?function(e,t){e.openElements.hasInTableScope(h.TABLE)&&(e.openElements.popUntilTagNamePopped(h.TABLE),e._resetInsertionMode(),e._processToken(t))}(e,t):n===h.STYLE?z(e,t):n===h.TBODY||n===h.TFOOT||n===h.THEAD?function(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,p.HTML),e.insertionMode="IN_TABLE_BODY_MODE"}(e,t):n===h.INPUT?function(e,t){var n=r.getTokenAttr(t,m.TYPE);n&&"hidden"===n.toLowerCase()?e._appendElement(t,p.HTML):fe(e,t)}(e,t):fe(e,t);break;case 6:n===h.SCRIPT?z(e,t):fe(e,t);break;case 7:n===h.CAPTION?function(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,p.HTML),e.insertionMode="IN_CAPTION_MODE"}(e,t):fe(e,t);break;case 8:n===h.COLGROUP?function(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,p.HTML),e.insertionMode="IN_COLUMN_GROUP_MODE"}(e,t):n===h.TEMPLATE?z(e,t):fe(e,t);break;default:fe(e,t)}}function ce(e,t){var n=t.tagName;n===h.TABLE?e.openElements.hasInTableScope(h.TABLE)&&(e.openElements.popUntilTagNamePopped(h.TABLE),e._resetInsertionMode()):n===h.TEMPLATE?H(e,t):n!==h.BODY&&n!==h.CAPTION&&n!==h.COL&&n!==h.COLGROUP&&n!==h.HTML&&n!==h.TBODY&&n!==h.TD&&n!==h.TFOOT&&n!==h.TH&&n!==h.THEAD&&n!==h.TR&&fe(e,t)}function fe(e,t){var n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,e._processTokenInBodyMode(t),e.fosterParentingEnabled=n}function de(e,t){e.openElements.currentTagName===h.COLGROUP&&(e.openElements.pop(),e.insertionMode=b,e._processToken(t))}function he(e,t){var n=t.tagName;n===h.HTML?ne(e,t):n===h.OPTION?(e.openElements.currentTagName===h.OPTION&&e.openElements.pop(),e._insertElement(t,p.HTML)):n===h.OPTGROUP?(e.openElements.currentTagName===h.OPTION&&e.openElements.pop(),e.openElements.currentTagName===h.OPTGROUP&&e.openElements.pop(),e._insertElement(t,p.HTML)):n===h.INPUT||n===h.KEYGEN||n===h.TEXTAREA||n===h.SELECT?e.openElements.hasInSelectScope(h.SELECT)&&(e.openElements.popUntilTagNamePopped(h.SELECT),e._resetInsertionMode(),n!==h.SELECT&&e._processToken(t)):n!==h.SCRIPT&&n!==h.TEMPLATE||z(e,t)}function pe(e,t){var n=t.tagName;if(n===h.OPTGROUP){var r=e.openElements.items[e.openElements.stackTop-1],i=r&&e.treeAdapter.getTagName(r);e.openElements.currentTagName===h.OPTION&&i===h.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagName===h.OPTGROUP&&e.openElements.pop()}else n===h.OPTION?e.openElements.currentTagName===h.OPTION&&e.openElements.pop():n===h.SELECT&&e.openElements.hasInSelectScope(h.SELECT)?(e.openElements.popUntilTagNamePopped(h.SELECT),e._resetInsertionMode()):n===h.TEMPLATE&&H(e,t)}function me(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(h.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e._popTmplInsertionMode(),e._resetInsertionMode(),e._processToken(t)):e.stopped=!0}function ve(e,t){e.insertionMode=g,e._processToken(t)}function ge(e,t){e.insertionMode=g,e._processToken(t)}T.prototype.parse=function(e){var t=this.treeAdapter.createDocument();return this._bootstrap(t,null),this.tokenizer.write(e,!0),this._runParsingLoop(null),t},T.prototype.parseFragment=function(e,t){t||(t=this.treeAdapter.createElement(h.TEMPLATE,p.HTML,[]));var n=this.treeAdapter.createElement("documentmock",p.HTML,[]);this._bootstrap(n,t),this.treeAdapter.getTagName(t)===h.TEMPLATE&&this._pushTmplInsertionMode("IN_TEMPLATE_MODE"),this._initTokenizerForFragmentParsing(),this._insertFakeRootElement(),this._resetInsertionMode(),this._findFormInFragmentContext(),this.tokenizer.write(e,!0),this._runParsingLoop(null);var r=this.treeAdapter.getFirstChild(n),i=this.treeAdapter.createDocumentFragment();return this._adoptNodes(r,i),i},T.prototype._bootstrap=function(e,t){this.tokenizer=new r(this.options),this.stopped=!1,this.insertionMode="INITIAL_MODE",this.originalInsertionMode="",this.document=e,this.fragmentContext=t,this.headElement=null,this.formElement=null,this.openElements=new i(this.document,this.treeAdapter),this.activeFormattingElements=new o(this.treeAdapter),this.tmplInsertionModeStack=[],this.tmplInsertionModeStackTop=-1,this.currentTmplInsertionMode=null,this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1},T.prototype._runParsingLoop=function(e){for(;!this.stopped;){this._setupTokenizerCDATAMode();var t=this.tokenizer.getNextToken();if(t.type===r.HIBERNATION_TOKEN)break;if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.type===r.WHITESPACE_CHARACTER_TOKEN&&"\n"===t.chars[0])){if(1===t.chars.length)continue;t.chars=t.chars.substr(1)}if(this._processInputToken(t),e&&this.pendingScript)break}},T.prototype.runParsingLoopForCurrentChunk=function(e,t){if(this._runParsingLoop(t),t&&this.pendingScript){var n=this.pendingScript;return this.pendingScript=null,void t(n)}e&&e()},T.prototype._setupTokenizerCDATAMode=function(){var e=this._getAdjustedCurrentElement();this.tokenizer.allowCDATA=e&&e!==this.document&&this.treeAdapter.getNamespaceURI(e)!==p.HTML&&!this._isIntegrationPoint(e)},T.prototype._switchToTextParsing=function(e,t){this._insertElement(e,p.HTML),this.tokenizer.state=t,this.originalInsertionMode=this.insertionMode,this.insertionMode=y},T.prototype.switchToPlaintextParsing=function(){this.insertionMode=y,this.originalInsertionMode=g,this.tokenizer.state=r.MODE.PLAINTEXT},T.prototype._getAdjustedCurrentElement=function(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current},T.prototype._findFormInFragmentContext=function(){var e=this.fragmentContext;do{if(this.treeAdapter.getTagName(e)===h.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}while(e)},T.prototype._initTokenizerForFragmentParsing=function(){if(this.treeAdapter.getNamespaceURI(this.fragmentContext)===p.HTML){var e=this.treeAdapter.getTagName(this.fragmentContext);e===h.TITLE||e===h.TEXTAREA?this.tokenizer.state=r.MODE.RCDATA:e===h.STYLE||e===h.XMP||e===h.IFRAME||e===h.NOEMBED||e===h.NOFRAMES||e===h.NOSCRIPT?this.tokenizer.state=r.MODE.RAWTEXT:e===h.SCRIPT?this.tokenizer.state=r.MODE.SCRIPT_DATA:e===h.PLAINTEXT&&(this.tokenizer.state=r.MODE.PLAINTEXT)}},T.prototype._setDocumentType=function(e){this.treeAdapter.setDocumentType(this.document,e.name,e.publicId,e.systemId)},T.prototype._attachElementToTree=function(e){if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{var t=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.appendChild(t,e)}},T.prototype._appendElement=function(e,t){var n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n)},T.prototype._insertElement=function(e,t){var n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n),this.openElements.push(n)},T.prototype._insertFakeElement=function(e){var t=this.treeAdapter.createElement(e,p.HTML,[]);this._attachElementToTree(t),this.openElements.push(t)},T.prototype._insertTemplate=function(e){var t=this.treeAdapter.createElement(e.tagName,p.HTML,e.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(t,n),this._attachElementToTree(t),this.openElements.push(t)},T.prototype._insertFakeRootElement=function(){var e=this.treeAdapter.createElement(h.HTML,p.HTML,[]);this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e)},T.prototype._appendCommentNode=function(e,t){var n=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(t,n)},T.prototype._insertCharacters=function(e){if(this._shouldFosterParentOnInsertion())this._fosterParentText(e.chars);else{var t=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.insertText(t,e.chars)}},T.prototype._adoptNodes=function(e,t){for(;;){var n=this.treeAdapter.getFirstChild(e);if(!n)break;this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(t,n)}},T.prototype._shouldProcessTokenInForeignContent=function(e){var t=this._getAdjustedCurrentElement();if(!t||t===this.document)return!1;var n=this.treeAdapter.getNamespaceURI(t);if(n===p.HTML)return!1;if(this.treeAdapter.getTagName(t)===h.ANNOTATION_XML&&n===p.MATHML&&e.type===r.START_TAG_TOKEN&&e.tagName===h.SVG)return!1;var i=e.type===r.CHARACTER_TOKEN||e.type===r.NULL_CHARACTER_TOKEN||e.type===r.WHITESPACE_CHARACTER_TOKEN;return(!(e.type===r.START_TAG_TOKEN&&e.tagName!==h.MGLYPH&&e.tagName!==h.MALIGNMARK)&&!i||!this._isIntegrationPoint(t,p.MATHML))&&(e.type!==r.START_TAG_TOKEN&&!i||!this._isIntegrationPoint(t,p.HTML))&&e.type!==r.EOF_TOKEN},T.prototype._processToken=function(e){E[this.insertionMode][e.type](this,e)},T.prototype._processTokenInBodyMode=function(e){E[g][e.type](this,e)},T.prototype._processTokenInForeignContent=function(e){e.type===r.CHARACTER_TOKEN?function(e,t){e._insertCharacters(t),e.framesetOk=!1}(this,e):e.type===r.NULL_CHARACTER_TOKEN?function(e,t){t.chars=f.REPLACEMENT_CHARACTER,e._insertCharacters(t)}(this,e):e.type===r.WHITESPACE_CHARACTER_TOKEN?R(this,e):e.type===r.COMMENT_TOKEN?D(this,e):e.type===r.START_TAG_TOKEN?function(e,t){if(c.causesExit(t)&&!e.fragmentContext){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==p.HTML&&!e._isIntegrationPoint(e.openElements.current);)e.openElements.pop();e._processToken(t)}else{var n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===p.MATHML?c.adjustTokenMathMLAttrs(t):r===p.SVG&&(c.adjustTokenSVGTagName(t),c.adjustTokenSVGAttrs(t)),c.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r)}}(this,e):e.type===r.END_TAG_TOKEN&&function(e,t){for(var n=e.openElements.stackTop;n>0;n--){var r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===p.HTML){e._processToken(t);break}if(e.treeAdapter.getTagName(r).toLowerCase()===t.tagName){e.openElements.popUntilElementPopped(r);break}}}(this,e)},T.prototype._processInputToken=function(e){this._shouldProcessTokenInForeignContent(e)?this._processTokenInForeignContent(e):this._processToken(e)},T.prototype._isIntegrationPoint=function(e,t){var n=this.treeAdapter.getTagName(e),r=this.treeAdapter.getNamespaceURI(e),i=this.treeAdapter.getAttrList(e);return c.isIntegrationPoint(n,r,i,t)},T.prototype._reconstructActiveFormattingElements=function(){var e=this.activeFormattingElements.length;if(e){var t=e,n=null;do{if(t--,(n=this.activeFormattingElements.entries[t]).type===o.MARKER_ENTRY||this.openElements.contains(n.element)){t++;break}}while(t>0);for(var r=t;r<e;r++)n=this.activeFormattingElements.entries[r],this._insertElement(n.token,this.treeAdapter.getNamespaceURI(n.element)),n.element=this.openElements.current}},T.prototype._closeTableCell=function(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=_},T.prototype._closePElement=function(){this.openElements.generateImpliedEndTagsWithExclusion(h.P),this.openElements.popUntilTagNamePopped(h.P)},T.prototype._resetInsertionMode=function(){for(var e=this.openElements.stackTop,t=!1;e>=0;e--){var n=this.openElements.items[e];0===e&&(t=!0,this.fragmentContext&&(n=this.fragmentContext));var r=this.treeAdapter.getTagName(n),i=x[r];if(i){this.insertionMode=i;break}if(!(t||r!==h.TD&&r!==h.TH)){this.insertionMode="IN_CELL_MODE";break}if(!t&&r===h.HEAD){this.insertionMode="IN_HEAD_MODE";break}if(r===h.SELECT){this._resetInsertionModeForSelect(e);break}if(r===h.TEMPLATE){this.insertionMode=this.currentTmplInsertionMode;break}if(r===h.HTML){this.insertionMode=this.headElement?"AFTER_HEAD_MODE":"BEFORE_HEAD_MODE";break}if(t){this.insertionMode=g;break}}},T.prototype._resetInsertionModeForSelect=function(e){if(e>0)for(var t=e-1;t>0;t--){var n=this.openElements.items[t],r=this.treeAdapter.getTagName(n);if(r===h.TEMPLATE)break;if(r===h.TABLE)return void(this.insertionMode="IN_SELECT_IN_TABLE_MODE")}this.insertionMode="IN_SELECT_MODE"},T.prototype._pushTmplInsertionMode=function(e){this.tmplInsertionModeStack.push(e),this.tmplInsertionModeStackTop++,this.currentTmplInsertionMode=e},T.prototype._popTmplInsertionMode=function(){this.tmplInsertionModeStack.pop(),this.tmplInsertionModeStackTop--,this.currentTmplInsertionMode=this.tmplInsertionModeStack[this.tmplInsertionModeStackTop]},T.prototype._isElementCausesFosterParenting=function(e){var t=this.treeAdapter.getTagName(e);return t===h.TABLE||t===h.TBODY||t===h.TFOOT||t===h.THEAD||t===h.TR},T.prototype._shouldFosterParentOnInsertion=function(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.current)},T.prototype._findFosterParentingLocation=function(){for(var e={parent:null,beforeElement:null},t=this.openElements.stackTop;t>=0;t--){var n=this.openElements.items[t],r=this.treeAdapter.getTagName(n),i=this.treeAdapter.getNamespaceURI(n);if(r===h.TEMPLATE&&i===p.HTML){e.parent=this.treeAdapter.getTemplateContent(n);break}if(r===h.TABLE){e.parent=this.treeAdapter.getParentNode(n),e.parent?e.beforeElement=n:e.parent=this.openElements.items[t-1];break}}return e.parent||(e.parent=this.openElements.items[0]),e},T.prototype._fosterParentElement=function(e){var t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertBefore(t.parent,e,t.beforeElement):this.treeAdapter.appendChild(t.parent,e)},T.prototype._fosterParentText=function(e){var t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertTextBefore(t.parent,e,t.beforeElement):this.treeAdapter.insertText(t.parent,e)},T.prototype._isSpecialElement=function(e){var t=this.treeAdapter.getTagName(e),n=this.treeAdapter.getNamespaceURI(e);return d.SPECIAL_ELEMENTS[n][t]}},function(e,t,n){"use strict";var r=n(197),i=n(120),o=n(441),a=n(72).inherits,s=e.exports=function(e){r.call(this,e),this.tokenizer=e,this.posTracker=new o(e.preprocessor),this.currentAttrLocation=null,this.currentTokenLocation=null};a(s,r),s.prototype._getCurrentLocation=function(){return{line:this.posTracker.line,col:this.posTracker.col,startOffset:this.posTracker.offset,endOffset:-1}},s.prototype._attachCurrentAttrLocationInfo=function(){this.currentAttrLocation.endOffset=this.posTracker.offset;var e=this.tokenizer.currentToken,t=this.tokenizer.currentAttr;e.location.attrs||(e.location.attrs=Object.create(null)),e.location.attrs[t.name]=this.currentAttrLocation},s.prototype._getOverriddenMethods=function(e,t){var n={_createStartTagToken:function(){t._createStartTagToken.call(this),this.currentToken.location=e.currentTokenLocation},_createEndTagToken:function(){t._createEndTagToken.call(this),this.currentToken.location=e.currentTokenLocation},_createCommentToken:function(){t._createCommentToken.call(this),this.currentToken.location=e.currentTokenLocation},_createDoctypeToken:function(n){t._createDoctypeToken.call(this,n),this.currentToken.location=e.currentTokenLocation},_createCharacterToken:function(n,r){t._createCharacterToken.call(this,n,r),this.currentCharacterToken.location=e.currentTokenLocation},_createAttr:function(n){t._createAttr.call(this,n),e.currentAttrLocation=e._getCurrentLocation()},_leaveAttrName:function(n){t._leaveAttrName.call(this,n),e._attachCurrentAttrLocationInfo()},_leaveAttrValue:function(n){t._leaveAttrValue.call(this,n),e._attachCurrentAttrLocationInfo()},_emitCurrentToken:function(){this.currentCharacterToken&&(this.currentCharacterToken.location.endOffset=this.currentToken.location.startOffset),this.currentToken.location.endOffset=e.posTracker.offset+1,t._emitCurrentToken.call(this)},_emitCurrentCharacterToken:function(){this.currentCharacterToken&&-1===this.currentCharacterToken.location.endOffset&&(this.currentCharacterToken.location.endOffset=e.posTracker.offset),t._emitCurrentCharacterToken.call(this)}};return Object.keys(i.MODE).forEach((function(r){var o=i.MODE[r];n[o]=function(n){e.currentTokenLocation=e._getCurrentLocation(),t[o].call(this,n)}})),n}},function(e,t,n){"use strict";var r=n(197),i=n(72).inherits,o=n(145).CODE_POINTS,a=e.exports=function(e){return e.__locTracker||(e.__locTracker=this,r.call(this,e),this.preprocessor=e,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.col=-1,this.line=1),e.__locTracker};i(a,r),Object.defineProperty(a.prototype,"offset",{get:function(){return this.droppedBufferSize+this.preprocessor.pos}}),a.prototype._getOverriddenMethods=function(e,t){return{advance:function(){var n=t.advance.call(this);return e.isEol&&(e.isEol=!1,e.line++,e.lineStartPos=e.offset),n===o.LINE_FEED&&(e.isEol=!0),e.col=e.offset-e.lineStartPos+1,n},retreat:function(){t.retreat.call(this),e.isEol=!1,e.col=e.offset-e.lineStartPos+1},dropParsedChunk:function(){var n=this.pos;t.dropParsedChunk.call(this),e.droppedBufferSize+=n-this.pos}}}},function(e,t,n){"use strict";var r=n(120),i=n(62),o=i.TAG_NAMES,a=i.NAMESPACES,s=i.ATTRS,l="text/html",u="application/xhtml+xml",c={attributename:"attributeName",attributetype:"attributeType",basefrequency:"baseFrequency",baseprofile:"baseProfile",calcmode:"calcMode",clippathunits:"clipPathUnits",diffuseconstant:"diffuseConstant",edgemode:"edgeMode",filterunits:"filterUnits",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",limitingconeangle:"limitingConeAngle",markerheight:"markerHeight",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textlength:"textLength",viewbox:"viewBox",viewtarget:"viewTarget",xchannelselector:"xChannelSelector",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan"},f={"xlink:actuate":{prefix:"xlink",name:"actuate",namespace:a.XLINK},"xlink:arcrole":{prefix:"xlink",name:"arcrole",namespace:a.XLINK},"xlink:href":{prefix:"xlink",name:"href",namespace:a.XLINK},"xlink:role":{prefix:"xlink",name:"role",namespace:a.XLINK},"xlink:show":{prefix:"xlink",name:"show",namespace:a.XLINK},"xlink:title":{prefix:"xlink",name:"title",namespace:a.XLINK},"xlink:type":{prefix:"xlink",name:"type",namespace:a.XLINK},"xml:base":{prefix:"xml",name:"base",namespace:a.XML},"xml:lang":{prefix:"xml",name:"lang",namespace:a.XML},"xml:space":{prefix:"xml",name:"space",namespace:a.XML},xmlns:{prefix:"",name:"xmlns",namespace:a.XMLNS},"xmlns:xlink":{prefix:"xmlns",name:"xlink",namespace:a.XMLNS}},d=t.SVG_TAG_NAMES_ADJUSTMENT_MAP={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"},h=Object.create(null);h[o.B]=!0,h[o.BIG]=!0,h[o.BLOCKQUOTE]=!0,h[o.BODY]=!0,h[o.BR]=!0,h[o.CENTER]=!0,h[o.CODE]=!0,h[o.DD]=!0,h[o.DIV]=!0,h[o.DL]=!0,h[o.DT]=!0,h[o.EM]=!0,h[o.EMBED]=!0,h[o.H1]=!0,h[o.H2]=!0,h[o.H3]=!0,h[o.H4]=!0,h[o.H5]=!0,h[o.H6]=!0,h[o.HEAD]=!0,h[o.HR]=!0,h[o.I]=!0,h[o.IMG]=!0,h[o.LI]=!0,h[o.LISTING]=!0,h[o.MENU]=!0,h[o.META]=!0,h[o.NOBR]=!0,h[o.OL]=!0,h[o.P]=!0,h[o.PRE]=!0,h[o.RUBY]=!0,h[o.S]=!0,h[o.SMALL]=!0,h[o.SPAN]=!0,h[o.STRONG]=!0,h[o.STRIKE]=!0,h[o.SUB]=!0,h[o.SUP]=!0,h[o.TABLE]=!0,h[o.TT]=!0,h[o.U]=!0,h[o.UL]=!0,h[o.VAR]=!0,t.causesExit=function(e){var t=e.tagName;return!(t!==o.FONT||null===r.getTokenAttr(e,s.COLOR)&&null===r.getTokenAttr(e,s.SIZE)&&null===r.getTokenAttr(e,s.FACE))||h[t]},t.adjustTokenMathMLAttrs=function(e){for(var t=0;t<e.attrs.length;t++)if("definitionurl"===e.attrs[t].name){e.attrs[t].name="definitionURL";break}},t.adjustTokenSVGAttrs=function(e){for(var t=0;t<e.attrs.length;t++){var n=c[e.attrs[t].name];n&&(e.attrs[t].name=n)}},t.adjustTokenXMLAttrs=function(e){for(var t=0;t<e.attrs.length;t++){var n=f[e.attrs[t].name];n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}},t.adjustTokenSVGTagName=function(e){var t=d[e.tagName];t&&(e.tagName=t)},t.isIntegrationPoint=function(e,t,n,r){return!(r&&r!==a.HTML||!function(e,t,n){if(t===a.MATHML&&e===o.ANNOTATION_XML)for(var r=0;r<n.length;r++)if(n[r].name===s.ENCODING){var i=n[r].value.toLowerCase();return i===l||i===u}return t===a.SVG&&(e===o.FOREIGN_OBJECT||e===o.DESC||e===o.TITLE)}(e,t,n))||!(r&&r!==a.MATHML||!function(e,t){return t===a.MATHML&&(e===o.MI||e===o.MO||e===o.MN||e===o.MS||e===o.MTEXT)}(e,t))}},function(e,t,n){"use strict";var r=n(291),i=n(292),o=n(293),a=n(62),s=a.TAG_NAMES,l=a.NAMESPACES,u={treeAdapter:r},c=/&/g,f=/\u00a0/g,d=/"/g,h=/</g,p=/>/g,m=e.exports=function(e,t){this.options=i(u,t),this.treeAdapter=this.options.treeAdapter,this.html="",this.startNode=e};m.escapeString=function(e,t){return e=e.replace(c,"&amp;").replace(f,"&nbsp;"),e=t?e.replace(d,"&quot;"):e.replace(h,"&lt;").replace(p,"&gt;")},m.prototype.serialize=function(){return this._serializeChildNodes(this.startNode),this.html},m.prototype._serializeChildNodes=function(e){var t=this.treeAdapter.getChildNodes(e);if(t)for(var n=0,r=t.length;n<r;n++){var i=t[n];this.treeAdapter.isElementNode(i)?this._serializeElement(i):this.treeAdapter.isTextNode(i)?this._serializeTextNode(i):this.treeAdapter.isCommentNode(i)?this._serializeCommentNode(i):this.treeAdapter.isDocumentTypeNode(i)&&this._serializeDocumentTypeNode(i)}},m.prototype._serializeElement=function(e){var t=this.treeAdapter.getTagName(e),n=this.treeAdapter.getNamespaceURI(e);if(this.html+="<"+t,this._serializeAttributes(e),this.html+=">",t!==s.AREA&&t!==s.BASE&&t!==s.BASEFONT&&t!==s.BGSOUND&&t!==s.BR&&t!==s.BR&&t!==s.COL&&t!==s.EMBED&&t!==s.FRAME&&t!==s.HR&&t!==s.IMG&&t!==s.INPUT&&t!==s.KEYGEN&&t!==s.LINK&&t!==s.MENUITEM&&t!==s.META&&t!==s.PARAM&&t!==s.SOURCE&&t!==s.TRACK&&t!==s.WBR){var r=t===s.TEMPLATE&&n===l.HTML?this.treeAdapter.getTemplateContent(e):e;this._serializeChildNodes(r),this.html+="</"+t+">"}},m.prototype._serializeAttributes=function(e){for(var t=this.treeAdapter.getAttrList(e),n=0,r=t.length;n<r;n++){var i=t[n],o=m.escapeString(i.value,!0);this.html+=" ",i.namespace?i.namespace===l.XML?this.html+="xml:"+i.name:i.namespace===l.XMLNS?("xmlns"!==i.name&&(this.html+="xmlns:"),this.html+=i.name):i.namespace===l.XLINK?this.html+="xlink:"+i.name:this.html+=i.namespace+":"+i.name:this.html+=i.name,this.html+='="'+o+'"'}},m.prototype._serializeTextNode=function(e){var t=this.treeAdapter.getTextNodeContent(e),n=this.treeAdapter.getParentNode(e),r=void 0;n&&this.treeAdapter.isElementNode(n)&&(r=this.treeAdapter.getTagName(n)),r===s.STYLE||r===s.SCRIPT||r===s.XMP||r===s.IFRAME||r===s.NOEMBED||r===s.NOFRAMES||r===s.PLAINTEXT||r===s.NOSCRIPT?this.html+=t:this.html+=m.escapeString(t,!1)},m.prototype._serializeCommentNode=function(e){this.html+="\x3c!--"+this.treeAdapter.getCommentNodeContent(e)+"--\x3e"},m.prototype._serializeDocumentTypeNode=function(e){var t=this.treeAdapter.getDocumentTypeNodeName(e);this.html+="<"+o.serializeContent(t,null,null)+">"}},function(e,t,n){"use strict";var r=n(198).Writable,i=n(72).inherits,o=n(439),a=e.exports=function(e){r.call(this),this.parser=new o(e),this.lastChunkWritten=!1,this.writeCallback=null,this.pausedByScript=!1,this.document=this.parser.treeAdapter.createDocument(),this.pendingHtmlInsertions=[],this._resume=this._resume.bind(this),this._documentWrite=this._documentWrite.bind(this),this._scriptHandler=this._scriptHandler.bind(this),this.parser._bootstrap(this.document,null)};i(a,r),a.prototype._write=function(e,t,n){this.writeCallback=n,this.parser.tokenizer.write(e.toString("utf8"),this.lastChunkWritten),this._runParsingLoop()},a.prototype.end=function(e,t,n){this.lastChunkWritten=!0,r.prototype.end.call(this,e||"",t,n)},a.prototype._runParsingLoop=function(){this.parser.runParsingLoopForCurrentChunk(this.writeCallback,this._scriptHandler)},a.prototype._resume=function(){if(!this.pausedByScript)throw new Error("Parser was already resumed");for(;this.pendingHtmlInsertions.length;){var e=this.pendingHtmlInsertions.pop();this.parser.tokenizer.insertHtmlAtCurrentPos(e)}this.pausedByScript=!1,this.parser.tokenizer.active&&this._runParsingLoop()},a.prototype._documentWrite=function(e){this.parser.stopped||this.pendingHtmlInsertions.push(e)},a.prototype._scriptHandler=function(e){this.listeners("script").length?(this.pausedByScript=!0,this.emit("script",e,this._documentWrite,this._resume)):this._runParsingLoop()}},function(e,t,n){"use strict";(function(t,r){var i=n(199);e.exports=b;var o,a=n(316);b.ReadableState=y,n(195).EventEmitter;var s=function(e,t){return e.listeners(t).length},l=n(446),u=n(196).Buffer,c=t.Uint8Array||function(){},f=n(147);f.inherits=n(57);var d=n(972),h=void 0;h=d&&d.debuglog?d.debuglog("stream"):function(){};var p,m=n(973),v=n(447);f.inherits(b,l);var g=["error","close","destroy","pause","resume"];function y(e,t){e=e||{};var r=t instanceof(o=o||n(100));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(290).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function b(e){if(o=o||n(100),!(this instanceof b))return new b(e);this._readableState=new y(e,this),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),l.call(this)}function _(e,t,n,r,i){var o,a=e._readableState;return null===t?(a.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,E(e)}}(e,a)):(i||(o=function(e,t){var n,r;return r=t,u.isBuffer(r)||r instanceof c||"string"===typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"===typeof t||a.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),r?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):x(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?x(e,a,t,!1):S(e,a)):x(e,a,t,!1))):r||(a.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function x(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&E(e)),S(e,t)}function w(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function E(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(T,e):T(e))}function T(e){h("emit readable"),e.emit("readable"),A(e)}function S(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(k,e,t))}function k(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function O(e){h("readable nexttick read 0"),e.read(0)}function C(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),A(e),t.flowing&&!t.reading&&e.read(0)}function A(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function M(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0===(e-=a)){a===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=u.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,a),0===(e-=a)){a===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++i}return t.length-=i,n}(e,t),r}(e,t.buffer,t.decoder),n);var n}function P(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(I,t,e))}function I(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function D(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),b.prototype.destroy=v.destroy,b.prototype._undestroy=v.undestroy,b.prototype._destroy=function(e,t){this.push(null),t(e)},b.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"===typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=u.from(e,t),t=""),n=!0),_(this,e,t,!1,n)},b.prototype.unshift=function(e){return _(this,e,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return p||(p=n(290).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this},b.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?P(this):E(this),null;if(0===(e=w(e,t))&&t.ended)return 0===t.length&&P(this),null;var r,i=t.needReadable;return h("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",i=!0),t.ended||t.reading?h("reading or ended",i=!1):i&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=w(n,t))),null===(r=e>0?M(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&P(this)),null!==r&&this.emit("data",r),r},b.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,t){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,h("pipe count=%d opts=%j",o.pipesCount,t);var l=t&&!1===t.end||e===r.stdout||e===r.stderr?b:c;function u(t,r){h("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,h("cleanup"),e.removeListener("close",g),e.removeListener("finish",y),e.removeListener("drain",f),e.removeListener("error",v),e.removeListener("unpipe",u),n.removeListener("end",c),n.removeListener("end",b),n.removeListener("data",m),d=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||f())}function c(){h("onend"),e.end()}o.endEmitted?i.nextTick(l):n.once("end",l),e.on("unpipe",u);var f=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,A(e))}}(n);e.on("drain",f);var d=!1,p=!1;function m(t){h("ondata"),p=!1,!1!==e.write(t)||p||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==D(o.pipes,e))&&!d&&(h("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function v(t){h("onerror",t),b(),e.removeListener("error",v),0===s(e,"error")&&e.emit("error",t)}function g(){e.removeListener("finish",y),b()}function y(){h("onfinish"),e.removeListener("close",g),b()}function b(){h("unpipe"),n.unpipe(e)}return n.on("data",m),function(e,t,n){if("function"===typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",v),e.once("close",g),e.once("finish",y),e.emit("pipe",n),o.flowing||(h("pipe resume"),n.resume()),e},b.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=D(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},b.prototype.on=function(e,t){var n=l.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&E(this):i.nextTick(O,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(C,e,t))}(this,e)),this},b.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(h("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){h("wrapped data"),n.decoder&&(i=n.decoder.write(i)),(!n.objectMode||null!==i&&void 0!==i)&&(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"===typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<g.length;o++)e.on(g[o],this.emit.bind(this,g[o]));return this._read=function(t){h("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=M}).call(this,n(26),n(146))},function(e,t,n){e.exports=n(195).EventEmitter},function(e,t,n){"use strict";var r=n(199);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";e.exports=a;var r=n(100),i=n(147);function o(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);r.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"===typeof this._flush?this._flush((function(t,n){l(e,t,n)})):l(this,null,null)}function l(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n(57),i.inherits(a,r),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},function(e,t,n){var r=n(191),i=n(98),o=n(280),a=n(96),s=n(182),l=n(115),u=Object.prototype.hasOwnProperty,c=o((function(e,t){if(s(t)||a(t))i(t,l(t),e);else for(var n in t)u.call(t,n)&&r(e,n,t[n])}));e.exports=c},function(e,t,n){var r=n(98),i=n(280),o=n(117),a=i((function(e,t){r(t,o(t),e)}));e.exports=a},function(e,t,n){var r=n(139),i=n(452),o=i?function(e,t){return i.set(e,t),e}:r;e.exports=o},function(e,t,n){var r=n(402),i=r&&new r;e.exports=i},function(e,t,n){var r=n(454),i=n(455),o=n(991),a=n(201),s=n(456),l=n(299),u=n(1006),c=n(202),f=n(37);e.exports=function e(t,n,d,h,p,m,v,g,y,b){var _=128&n,x=1&n,w=2&n,E=24&n,T=512&n,S=w?void 0:a(t);return function k(){for(var O=arguments.length,C=Array(O),A=O;A--;)C[A]=arguments[A];if(E)var M=l(k),P=o(C,M);if(h&&(C=r(C,h,p,E)),m&&(C=i(C,m,v,E)),O-=P,E&&O<b){var I=c(C,M);return s(t,n,e,k.placeholder,d,C,I,g,y,b-O)}var D=x?d:this,N=w?D[t]:t;return O=C.length,g?C=u(C,g):T&&O>1&&C.reverse(),_&&y<O&&(C.length=y),this&&this!==f&&this instanceof k&&(N=S||a(N)),N.apply(D,C)}}},function(e,t){var n=Math.max;e.exports=function(e,t,r,i){for(var o=-1,a=e.length,s=r.length,l=-1,u=t.length,c=n(a-s,0),f=Array(u+c),d=!i;++l<u;)f[l]=t[l];for(;++o<s;)(d||o<a)&&(f[r[o]]=e[o]);for(;c--;)f[l++]=e[o++];return f}},function(e,t){var n=Math.max;e.exports=function(e,t,r,i){for(var o=-1,a=e.length,s=-1,l=r.length,u=-1,c=t.length,f=n(a-l,0),d=Array(f+c),h=!i;++o<f;)d[o]=e[o];for(var p=o;++u<c;)d[p+u]=t[u];for(;++s<l;)(h||o<a)&&(d[p+r[s]]=e[o++]);return d}},function(e,t,n){var r=n(992),i=n(459),o=n(460);e.exports=function(e,t,n,a,s,l,u,c,f,d){var h=8&t;t|=h?32:64,4&(t&=~(h?64:32))||(t&=-4);var p=[e,t,s,h?l:void 0,h?u:void 0,h?void 0:l,h?void 0:u,c,f,d],m=n.apply(void 0,p);return r(e)&&i(m,p),m.placeholder=a,o(m,e,t)}},function(e,t,n){var r=n(452),i=n(993),o=r?function(e){return r.get(e)}:i;e.exports=o},function(e,t,n){var r=n(193),i=n(298);function o(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}o.prototype=r(i.prototype),o.prototype.constructor=o,e.exports=o},function(e,t,n){var r=n(451),i=n(414)(r);e.exports=i},function(e,t,n){var r=n(998),i=n(999),o=n(283),a=n(1e3);e.exports=function(e,t,n){var s=t+"";return o(e,i(s,a(r(s),n)))}},function(e,t,n){var r=n(281),i=n(116),o=n(284),a=n(117),s=Object.prototype,l=s.hasOwnProperty,u=r((function(e,t){e=Object(e);var n=-1,r=t.length,u=r>2?t[2]:void 0;for(u&&o(t[0],t[1],u)&&(r=1);++n<r;)for(var c=t[n],f=a(c),d=-1,h=f.length;++d<h;){var p=f[d],m=e[p];(void 0===m||i(m,s[p])&&!l.call(e,p))&&(e[p]=c[p])}return e}));e.exports=u},function(e,t,n){"use strict";e.exports=v;var r=n(301),i=n(99),o=i.findOne,a=i.findAll,s=i.getChildren,l=i.removeSubsets,u=n(149).falseFunc,c=n(1015),f=c.compileUnsafe,d=c.compileToken;function h(e){return function(t,n,r){return"function"!==typeof t&&(t=f(t,r,n)),n=Array.isArray(n)?l(n):s(n),e(t,n)}}var p=h((function(e,t){return e!==u&&t&&0!==t.length?a(e,t):[]})),m=h((function(e,t){return e!==u&&t&&0!==t.length?o(e,t):null}));function v(e,t,n){return p(e,t,n)}v.compile=c,v.filters=r.filters,v.pseudos=r.pseudos,v.selectAll=p,v.selectOne=m,v.is=function(e,t,n){return("function"===typeof t?t:c(t,n))(e)},v.parse=c,v.iterate=p,v._compileUnsafe=f,v._compileToken=d},function(e,t,n){var r=n(99),i=r.hasAttrib,o=r.getAttributeValue,a=n(149).falseFunc,s=/[-[\]{}()*+?.,\\^$|#\s]/g,l={__proto__:null,equals:function(e,t){var n=t.name,r=t.value;return t.ignoreCase?(r=r.toLowerCase(),function(t){var i=o(t,n);return null!=i&&i.toLowerCase()===r&&e(t)}):function(t){return o(t,n)===r&&e(t)}},hyphen:function(e,t){var n=t.name,r=t.value,i=r.length;return t.ignoreCase?(r=r.toLowerCase(),function(t){var a=o(t,n);return null!=a&&(a.length===i||"-"===a.charAt(i))&&a.substr(0,i).toLowerCase()===r&&e(t)}):function(t){var a=o(t,n);return null!=a&&a.substr(0,i)===r&&(a.length===i||"-"===a.charAt(i))&&e(t)}},element:function(e,t){var n=t.name,r=t.value;if(/\s/.test(r))return a;var i="(?:^|\\s)"+(r=r.replace(s,"\\$&"))+"(?:$|\\s)",l=t.ignoreCase?"i":"",u=new RegExp(i,l);return function(t){var r=o(t,n);return null!=r&&u.test(r)&&e(t)}},exists:function(e,t){var n=t.name;return function(t){return i(t,n)&&e(t)}},start:function(e,t){var n=t.name,r=t.value,i=r.length;return 0===i?a:t.ignoreCase?(r=r.toLowerCase(),function(t){var a=o(t,n);return null!=a&&a.substr(0,i).toLowerCase()===r&&e(t)}):function(t){var a=o(t,n);return null!=a&&a.substr(0,i)===r&&e(t)}},end:function(e,t){var n=t.name,r=t.value,i=-r.length;return 0===i?a:t.ignoreCase?(r=r.toLowerCase(),function(t){var a=o(t,n);return null!=a&&a.substr(i).toLowerCase()===r&&e(t)}):function(t){var a=o(t,n);return null!=a&&a.substr(i)===r&&e(t)}},any:function(e,t){var n=t.name,r=t.value;if(""===r)return a;if(t.ignoreCase){var i=new RegExp(r.replace(s,"\\$&"),"i");return function(t){var r=o(t,n);return null!=r&&i.test(r)&&e(t)}}return function(t){var i=o(t,n);return null!=i&&i.indexOf(r)>=0&&e(t)}},not:function(e,t){var n=t.name,r=t.value;return""===r?function(t){return!!o(t,n)&&e(t)}:t.ignoreCase?(r=r.toLowerCase(),function(t){var i=o(t,n);return null!=i&&i.toLowerCase()!==r&&e(t)}):function(t){return o(t,n)!==r&&e(t)}}};e.exports={compile:function(e,t,n){if(n&&n.strict&&(t.ignoreCase||"not"===t.action))throw SyntaxError("Unsupported attribute selector");return l[t.action](e,t)},rules:l}},function(e){e.exports={universal:50,tag:30,attribute:1,pseudo:0,descendant:-1,child:-1,parent:-1,sibling:-1,adjacent:-1}},function(e,t,n){var r=n(142);e.exports=function(e,t){var n=[];return r(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}},function(e,t,n){var r=n(1029);e.exports=function(e){return null!=e&&e.length?r(e,1):[]}},function(e,t,n){"use strict";var r=n(1039),i=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1,o=function e(t,n,o,a,s){for(var l=a,u=0;u<o;){var c=r.ToString(u);if(r.HasProperty(n,c)){var f=r.Get(n,c),d=!1;if(s>0&&(d=r.IsArray(f)),d)l=e(t,f,r.ToLength(r.Get(f,"length")),l,s-1);else{if(l>=i)throw new TypeError("index too large");r.CreateDataPropertyOrThrow(t,r.ToString(l),f),l+=1}}u+=1}return l};e.exports=function(){var e=r.ToObject(this),t=r.ToLength(r.Get(e,"length")),n=1;arguments.length>0&&"undefined"!==typeof arguments[0]&&(n=r.ToInteger(arguments[0]));var i=r.ArraySpeciesCreate(e,0);return o(i,e,t,0,n),i}},function(e,t,n){"use strict";var r=n(1040),i=n(302),o=i(i({},r),{SameValueNonNumber:function(e,t){if("number"===typeof e||typeof e!==typeof t)throw new TypeError("SameValueNonNumber requires two non-number values of the same type.");return this.SameValue(e,t)}});e.exports=o},function(e,t){e.exports=function(e){return null===e||"function"!==typeof e&&"object"!==typeof e}},function(e,t,n){"use strict";var r=n(203),i=r("%TypeError%"),o=r("%SyntaxError%"),a=n(58),s={"Property Descriptor":function(e,t){if("Object"!==e.Type(t))return!1;var n={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var r in t)if(a(t,r)&&!n[r])return!1;var o=a(t,"[[Value]]"),s=a(t,"[[Get]]")||a(t,"[[Set]]");if(o&&s)throw new i("Property Descriptors may not be both accessor and data descriptors");return!0}};e.exports=function(e,t,n,r){var a=s[t];if("function"!==typeof a)throw new o("unknown record type: "+t);if(!a(e,r))throw new i(n+" must be a "+t);console.log(a(e,r),r)}},function(e,t){e.exports=Number.isNaN||function(e){return e!==e}},function(e,t){var n=Number.isNaN||function(e){return e!==e};e.exports=Number.isFinite||function(e){return"number"===typeof e&&!n(e)&&e!==1/0&&e!==-1/0}},function(e,t){e.exports=function(e){return e>=0?1:-1}},function(e,t){e.exports=function(e,t){var n=e%t;return Math.floor(n>=0?n:n+t)}},function(e,t,n){"use strict";var r=n(203),i=r("%Object%"),o=r("%TypeError%"),a=r("%String%"),s=n(470),l=n(471),u=n(472),c=n(473),f=n(474),d=n(151),h=n(1047),p=n(58),m={ToPrimitive:h,ToBoolean:function(e){return!!e},ToNumber:function(e){return+e},ToInteger:function(e){var t=this.ToNumber(e);return l(t)?0:0!==t&&u(t)?c(t)*Math.floor(Math.abs(t)):t},ToInt32:function(e){return this.ToNumber(e)>>0},ToUint32:function(e){return this.ToNumber(e)>>>0},ToUint16:function(e){var t=this.ToNumber(e);if(l(t)||0===t||!u(t))return 0;var n=c(t)*Math.floor(Math.abs(t));return f(n,65536)},ToString:function(e){return a(e)},ToObject:function(e){return this.CheckObjectCoercible(e),i(e)},CheckObjectCoercible:function(e,t){if(null==e)throw new o(t||"Cannot call method on "+e);return e},IsCallable:d,SameValue:function(e,t){return e===t?0!==e||1/e===1/t:l(e)&&l(t)},Type:function(e){return null===e?"Null":"undefined"===typeof e?"Undefined":"function"===typeof e||"object"===typeof e?"Object":"number"===typeof e?"Number":"boolean"===typeof e?"Boolean":"string"===typeof e?"String":void 0},IsPropertyDescriptor:function(e){if("Object"!==this.Type(e))return!1;var t={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var n in e)if(p(e,n)&&!t[n])return!1;var r=p(e,"[[Value]]"),i=p(e,"[[Get]]")||p(e,"[[Set]]");if(r&&i)throw new o("Property Descriptors may not be both accessor and data descriptors");return!0},IsAccessorDescriptor:function(e){return"undefined"!==typeof e&&(s(this,"Property Descriptor","Desc",e),!(!p(e,"[[Get]]")&&!p(e,"[[Set]]")))},IsDataDescriptor:function(e){return"undefined"!==typeof e&&(s(this,"Property Descriptor","Desc",e),!(!p(e,"[[Value]]")&&!p(e,"[[Writable]]")))},IsGenericDescriptor:function(e){return"undefined"!==typeof e&&(s(this,"Property Descriptor","Desc",e),!this.IsAccessorDescriptor(e)&&!this.IsDataDescriptor(e))},FromPropertyDescriptor:function(e){if("undefined"===typeof e)return e;if(s(this,"Property Descriptor","Desc",e),this.IsDataDescriptor(e))return{value:e["[[Value]]"],writable:!!e["[[Writable]]"],enumerable:!!e["[[Enumerable]]"],configurable:!!e["[[Configurable]]"]};if(this.IsAccessorDescriptor(e))return{get:e["[[Get]]"],set:e["[[Set]]"],enumerable:!!e["[[Enumerable]]"],configurable:!!e["[[Configurable]]"]};throw new o("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function(e){if("Object"!==this.Type(e))throw new o("ToPropertyDescriptor requires an object");var t={};if(p(e,"enumerable")&&(t["[[Enumerable]]"]=this.ToBoolean(e.enumerable)),p(e,"configurable")&&(t["[[Configurable]]"]=this.ToBoolean(e.configurable)),p(e,"value")&&(t["[[Value]]"]=e.value),p(e,"writable")&&(t["[[Writable]]"]=this.ToBoolean(e.writable)),p(e,"get")){var n=e.get;if("undefined"!==typeof n&&!this.IsCallable(n))throw new TypeError("getter must be a function");t["[[Get]]"]=n}if(p(e,"set")){var r=e.set;if("undefined"!==typeof r&&!this.IsCallable(r))throw new o("setter must be a function");t["[[Set]]"]=r}if((p(t,"[[Get]]")||p(t,"[[Set]]"))&&(p(t,"[[Value]]")||p(t,"[[Writable]]")))throw new o("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return t}};e.exports=m},function(e,t,n){"use strict";var r=n(58),i=RegExp.prototype.exec,o=Object.getOwnPropertyDescriptor,a=Object.prototype.toString,s="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;e.exports=function(e){if(!e||"object"!==typeof e)return!1;if(!s)return"[object RegExp]"===a.call(e);var t=o(e,"lastIndex");return!(!t||!r(t,"value"))&&function(e){try{var t=e.lastIndex;return e.lastIndex=0,i.call(e),!0}catch(n){return!1}finally{e.lastIndex=t}}(e)}},function(e,t,n){"use strict";var r=n(467);e.exports=function(){return Array.prototype.flat||r}},function(e,t,n){"use strict";var r=function(e){return e!==e};e.exports=function(e,t){return 0===e&&0===t?1/e===1/t:e===t||!(!r(e)||!r(t))}},function(e,t,n){"use strict";var r=n(52),i=n(480),o=n(482),a=n(1050),s=o();r(s,{getPolyfill:o,implementation:i,shim:a}),e.exports=s},function(e,t,n){"use strict";var r=n(481),i=n(58),o=n(53).call(Function.call,Object.prototype.propertyIsEnumerable);e.exports=function(e){var t=r.RequireObjectCoercible(e),n=[];for(var a in t)i(t,a)&&o(t,a)&&n.push([a,t[a]]);return n}},function(e,t,n){"use strict";e.exports=n(468)},function(e,t,n){"use strict";var r=n(480);e.exports=function(){return"function"===typeof Object.entries?Object.entries:r}},function(e,t,n){"use strict";var r=n(151),i=n(484),o=n(53),a=o.call(Function.call,Function.prototype.toString),s=o.call(Function.call,String.prototype.match),l=/^class /,u=/\s*function\s+([^(\s]*)\s*/,c=Function.prototype;e.exports=function(){if(!function(e){if(r(e))return!1;if("function"!==typeof e)return!1;try{return!!s(a(e),l)}catch(t){}return!1}(this)&&!r(this))throw new TypeError("Function.prototype.name sham getter called on non-function");if(i)return this.name;if(this===c)return"";var e=a(this),t=s(e,u);return t&&t[1]}},function(e,t){e.exports="string"===typeof function(){}.name},function(e,t,n){"use strict";var r=n(483);e.exports=function(){return r}},function(e,t,n){"use strict";var r=n(53),i=n(475),o=r.call(Function.call,String.prototype.replace),a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,s=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;e.exports=function(){var e=i.ToString(i.CheckObjectCoercible(this));return o(o(e,a,""),s,"")}},function(e,t,n){"use strict";var r=n(486);e.exports=function(){return String.prototype.trim&&"\u200b"==="\u200b".trim()?String.prototype.trim:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)throw new Error("\n      Enzyme Internal Error: Enzyme expects an adapter to be configured, but found none.\n      To configure an adapter, you should call `Enzyme.configure({ adapter: new Adapter() })`\n      before using any of Enzyme's top level APIs, where `Adapter` is the adapter\n      corresponding to the library currently being tested. For example:\n\n      import Adapter from 'enzyme-adapter-react-15';\n\n      To find out more about this, see http://airbnb.io/enzyme/docs/installation/index.html\n    ");if("function"===typeof e){if(Object.getPrototypeOf(e)===o.default)throw new Error("\n        Enzyme Internal Error: Enzyme expects an adapter instance to be configured -\n        you provided an adapter *constructor*.\n        To configure an adapter, you should call `Enzyme.configure({ adapter: new Adapter() })`\n        before using any of Enzyme's top level APIs, where `Adapter` is the adapter\n        corresponding to the library currently being tested. For example:\n\n        import Adapter from 'enzyme-adapter-react-15';\n\n        To find out more about this, see http://airbnb.io/enzyme/docs/installation/index.html\n      ");throw new Error("\n      Enzyme Internal Error: Enzyme expects an adapter to be configured -\n      an enzyme adapter must be an object instance; you provided a function.\n      To configure an adapter, you should call `Enzyme.configure({ adapter: new Adapter() })`\n      before using any of Enzyme's top level APIs, where `Adapter` is the adapter\n      corresponding to the library currently being tested. For example:\n\n      import Adapter from 'enzyme-adapter-react-15';\n\n      To find out more about this, see http://airbnb.io/enzyme/docs/installation/index.html\n    ")}if(!(e instanceof o.default))throw new Error("Enzyme Internal Error: configured enzyme adapter did not inherit from the EnzymeAdapter base class")};var r,i=n(489),o=(r=i)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){return new Error(String(e)+" is a required method of "+String(t)+", but was not implemented.")}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={}}return r(e,[{key:"createRenderer",value:function(e){throw i("createRenderer","EnzymeAdapter")}},{key:"nodeToElement",value:function(e){throw i("nodeToElement","EnzymeAdapter")}},{key:"isValidElement",value:function(e){throw i("isValidElement","EnzymeAdapter")}},{key:"createElement",value:function(e,t){throw i("createElement","EnzymeAdapter")}},{key:"invokeSetStateCallback",value:function(e,t){t.call(e)}}]),e}();o.MODES={STRING:"string",MOUNT:"mount",SHALLOW:"shallow"},e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.typeName=v,t.spaces=g,t.indent=y,t.debugNode=w,t.debugNodes=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.map((function(e){return w(e,void 0,t)})).join("\n\n\n")};var i=p(n(1055)),o=p(n(304)),a=p(n(1056)),s=p(n(1057)),l=p(n(151)),u=p(n(1058)),c=p(n(1059)),f=p(n(58)),d=n(152),h=p(n(101));function p(e){return e&&e.__esModule?e:{default:e}}var m=Function.bind.call(Function.call,Boolean.prototype.valueOf);function v(e){return(0,h.default)().displayNameOfNode?(0,h.default)().displayNameOfNode(e)||"Component":"function"===typeof e.type?e.type.displayName||(0,o.default)(e.type)||"Component":e.type}function g(e){return Array(e+1).join(" ")}function y(e,t){return t.split("\n").map((function(t){return""+String(g(e))+String(t)})).join("\n")}function b(e,t){var n=(0,d.propsOfNode)(e);return Object.keys(n).filter((function(e){return"children"!==e})).map((function(e){return String(e)+"="+String(function(e,t){return(0,a.default)(e)?(0,c.default)(String(e),{quoteStyle:"double"}):(0,s.default)(e)?"{"+String((0,c.default)(Number(e)))+"}":(0,u.default)(e)?"{"+String((0,c.default)(m(e)))+"}":(0,l.default)(e)?"{"+String((0,c.default)(e))+"}":"object"===("undefined"===typeof e?"undefined":r(e))?t.verbose?"{"+String((0,c.default)(e))+"}":"{{...}}":"{["+("undefined"===typeof e?"undefined":r(e))+"]}"}(n[e],t))})).join(" ")}function _(e,t){return e.length?"\n"+String(e.map((function(e){return y(t,e)})).join("\n"))+"\n":""}function x(e){return(0,f.default)(e,"nodeType")&&"string"===typeof e.nodeType&&(0,f.default)(e,"type")&&(0,f.default)(e,"key")&&(0,f.default)(e,"ref")&&(0,f.default)(e,"instance")&&(0,f.default)(e,"rendered")}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof e||"number"===typeof e)return(0,i.default)(e);if("function"===typeof e){var r=(0,o.default)(e);return"[function"+(r?" "+String(r):"")+"]"}if(!e)return"";var a=(0,h.default)();if(!a.isValidElement(e)&&!x(e))return"{"+String((0,c.default)(e))+"}";var s=(0,d.childrenOfNode)(e).map((function(e){return w(e,t,n)})).filter(Boolean),l=v(e),u=n.ignoreProps?"":b(e,n),f=u?" ":"",p=s.length?">":" ",m=_(s,t),g=s.length?"</"+String(l)+">":"/>";return"<"+String(l)+f+String(u)+p+String(m)+g}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.buildPredicate=w,t.reduceTreeBySelector=O,t.reduceTreesBySelector=function(e,t){var n=t.map((function(t){return O(e,t)}));return v((0,s.default)(n,1))};var o=n(1061),a=p(n(1067)),s=p(n(150)),l=p(n(478)),u=p(n(58)),c=p(n(1069)),f=n(152),d=n(303),h=p(n(101));function p(e){return e&&e.__esModule?e:{default:e}}var m=(0,o.createParser)();function v(e){return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(new Set(e)))}function g(e,t){return v(t.reduce(e,[]))}function y(e){try{return m.parse(e)}catch(t){throw new Error("Failed to parse selector: "+String(e))}}function b(e,t){var n=t.operator,r=t.value,i=t.name,o=(0,d.propsOfNode)(e),a=Object.getOwnPropertyDescriptor(o,i);if(a&&a.get)return!1;var s=o[i];if("undefined"===typeof s)return!1;if("attributePresenceSelector"===t.type)return(0,u.default)(o,t.name);if(("string"!==typeof s||"string"!==typeof r)&&"="!==n)return!1;switch(n){case"=":return(0,l.default)(s,r);case"~=":return-1!==s.split(" ").indexOf(r);case"|=":return s===r||s.startsWith(String(r)+"-");case"^=":return""!==r&&s.slice(0,r.length)===r;case"$=":return""!==r&&s.slice(-r.length)===r;case"*=":return""!==r&&-1!==s.indexOf(r);default:throw new Error('Enzyme::Selector: Unknown attribute selector operator "'+String(n)+'"')}}function _(e,t,n){if(null===e||"string"===typeof e)return!1;switch(t.type){case"universalSelector":return!0;case"classSelector":return(0,f.hasClassName)(e,t.name);case"typeSelector":return(0,d.nodeHasType)(e,t.name);case"idSelector":return(0,f.nodeHasId)(e,t.name);case"attributePresenceSelector":case"attributeValueSelector":return b(e,t);case"pseudoElementSelector":case"pseudoClassSelector":return function(e,t,n){var r=t.name,o=t.parameters;if("not"===r)return o.every((function(t){return 0===O(t,e).length}));if("empty"===r)return 0===(0,f.treeFilter)(e,(function(t){return t!==e})).length;if("first-child"===r){var a=(0,f.findParentNode)(n,e).rendered;return i(a,1)[0]===e}if("last-child"===r){var s=(0,f.findParentNode)(n,e).rendered;return s[s.length-1]===e}if("focus"===r){if("undefined"===typeof document)throw new Error('Enzyme::Selector does not support the ":focus" pseudo-element without a global `document`.');var l=(0,h.default)();return document.activeElement&&l.nodeToHostNode(e)===document.activeElement}throw new TypeError('Enzyme::Selector does not support the "'+String(t.name)+'" pseudo-element or pseudo-class selectors.')}(e,t,n);default:throw new Error("Unknown token type: "+String(t.type))}}function x(e,t){return function(n){return e.body.every((function(e){return _(n,e,t)}))}}function w(e){if("string"===typeof e){var t=y(e);if(function(e){return e.some((function(e){return"selector"!==e.type}))}(t))throw new TypeError("This method does not support complex CSS selectors");return x(t[0])}var n=(0,h.default)();if(n.isValidElementType?n.isValidElementType(e):"function"===typeof e)return function(t){return t&&t.type===e};if("object"===("undefined"===typeof e?"undefined":r(e))){if(!Array.isArray(e)&&null!==e&&Object.keys(e).length>0){if((0,a.default)(e).some((function(e){return"undefined"===typeof e})))throw new TypeError("Enzyme::Props can\u2019t have `undefined` values. Try using \u2018findWhere()\u2019 instead.");return function(t){return(0,f.nodeMatchesObjectProps)(t,e)}}throw new TypeError("Enzyme::Selector does not support an array, null, or empty object as a selector")}throw new TypeError("Enzyme::Selector expects a string, object, or valid element type (Component Constructor)")}function E(e,t,n){return e.reduce((function(e,r){var i=(0,f.findParentNode)(n,r);if(!i)return e;var o=(0,f.childrenOfNode)(i),a=o.indexOf(r),s=o[a+1];return s?(t(s)&&e.push(s),e):e}),[])}function T(e,t,n){return g((function(e,r){var i=(0,f.findParentNode)(n,r);if(!i)return e;var o=(0,f.childrenOfNode)(i),a=o.indexOf(r),s=o.slice(a+1);return e.concat(s.filter(t))}),e)}function S(e,t){return g((function(e,n){return e.concat((0,f.childrenOfNode)(n).filter(t))}),e)}function k(e,t){return g((function(e,n){return e.concat((0,f.treeFilter)(n,t))}),(0,s.default)(e.map(f.childrenOfNode)))}function O(e,t){if("string"!==typeof e){var n=(0,c.default)(e);if(n.length>0)return(0,s.default)(n.map((function(e){return O(e.tag,t)})))}if("function"===typeof e||"object"===("undefined"===typeof e?"undefined":r(e)))return(0,f.treeFilter)(t,w(e));var i=[];if("string"!==typeof e)throw new TypeError("Enzyme::Selector expects a string, object, or Component Constructor");for(var o=y(e),a=0;a<o.length;){var l=o[a];if("selector"===l.type){var u=x(l,t);i=i.concat((0,f.treeFilter)(t,u))}else{var d=l.type,h=x(o[a+=1],t);switch(d){case"adjacentSiblingCombinator":i=E(i,h,t);break;case"generalSiblingCombinator":i=T(i,h,t);break;case"childCombinator":i=S(i,h);break;case"descendantCombinator":i=k(i,h);break;default:throw new Error("Unknown combinator selector: "+String(d))}}a+=1}return i}},function(e,t,n){"use strict";var r=n(481),i=n(58),o=n(53).call(Function.call,Object.prototype.propertyIsEnumerable);e.exports=function(e){var t=r.RequireObjectCoercible(e),n=[];for(var a in t)i(t,a)&&o(t,a)&&n.push(t[a]);return n}},function(e,t,n){"use strict";var r=n(492);e.exports=function(){return"function"===typeof Object.values?Object.values:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=p(n(118)),a=p(n(150)),s=p(n(286)),l=p(n(58)),u=n(303),c=p(n(101)),f=n(490),d=n(152),h=n(491);function p(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var y=(0,u.sym)("__node__"),b=(0,u.sym)("__nodes__"),_=(0,u.sym)("__renderer__"),x=(0,u.sym)("__unrendered__"),w=(0,u.sym)("__root__"),E=(0,u.sym)("__options__"),T=(0,u.sym)("__setState__"),S=(0,u.sym)("__rootNodes__"),k=(0,u.sym)("__childContext__");function O(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.treeFilter;return e.flatMap((function(e){return n(e.getNodeInternal(),t)}))}function C(e,t){return e.wrap(e.getNodesInternal().filter(t).filter(Boolean))}function A(e){var t=e.lifecycleExperimental,n=e.disableLifecycleMethods,r=e.enableComponentDidUpdateOnSetState,i=e.supportPrevContextArgumentOfComponentDidUpdate,o=e.lifecycles;if("undefined"!==typeof t&&"boolean"!==typeof t)throw new Error("lifecycleExperimental must be either true or false if provided");if("undefined"!==typeof n&&"boolean"!==typeof n)throw new Error("disableLifecycleMethods must be either true or false if provided");if(null!=t&&null!=n&&t===n)throw new Error("lifecycleExperimental and disableLifecycleMethods cannot be set to the same value");if("undefined"!==typeof r&&o.componentDidUpdate&&o.componentDidUpdate.onSetState!==r)throw new TypeError("the legacy enableComponentDidUpdateOnSetState option should be matched by `lifecycles: { componentDidUpdate: { onSetState: true } }`, for compatibility");if("undefined"!==typeof i&&o.componentDidUpdate&&o.componentDidUpdate.prevContext!==i)throw new TypeError("the legacy supportPrevContextArgumentOfComponentDidUpdate option should be matched by `lifecycles: { componentDidUpdate: { prevContext: true } }`, for compatibility")}function M(e){var t=e.options,n=t.lifecycles,r=void 0===n?{}:n,i=t.enableComponentDidUpdateOnSetState,a=t.supportPrevContextArgumentOfComponentDidUpdate,s="undefined"!==typeof i,l="undefined"!==typeof a,u=s||l?(0,o.default)({},s&&{onSetState:!!i},l&&{prevContext:!!a}):null;return(0,o.default)({},r,{setState:(0,o.default)({},r.setState),getChildContext:(0,o.default)({calledByRenderer:!0},r.getChildContext)},u&&{componentDidUpdate:u})}function P(e){return"host"===e.nodeType?e:e.rendered}function I(e){if(1!==e[w].length)throw new Error("getRootNodeInternal(wrapper) can only be called when wrapper wraps one node");return e[w]!==e?e[S][0]:e[w][y]}function D(e,t){return(0,d.parentsOfNode)(t,I(e))}function N(e,t){Array.isArray(t)?((0,u.privateSet)(e,y,t[0]),(0,u.privateSet)(e,b,t)):((0,u.privateSet)(e,y,t),(0,u.privateSet)(e,b,[t])),(0,u.privateSet)(e,"length",e[b].length)}function R(e,t,n,r){return!(0,u.shallowEqual)(e,t)||!(0,u.shallowEqual)(n,r)}function L(e){return e&&e.isPureReactComponent}function j(e,t){return(0,u.isCustomComponentElement)(e,t)&&e.type.prototype&&"function"===typeof e.type.prototype.getChildContext?(0,u.spyMethod)(e.type.prototype,"getChildContext"):null}function F(e,t,n,r,o){var a=t[_];if("parent"===e.options.legacyContextMode)if(o)(0,u.privateSet)(t,k,o.getLastReturnValue()),o.restore();else if("function"===typeof n.getChildContext){var s=function(e,t,n){var r=e.instance,o=e.type,a=(0,u.displayNameOfNode)(e);if("object"!==i(o.childContextTypes))return console.warn(String(a)+".getChildContext(): childContextTypes must be defined in order to use getChildContext()."),{};var s=r.getChildContext();return Object.keys(s).forEach((function(e){if(!(e in o.childContextTypes))throw new Error(String(a)+'.getChildContext(): key "'+String(e)+'" is not defined in childContextTypes.')})),"function"===typeof n.checkPropTypes&&n.checkPropTypes(o.childContextTypes,s,"child context",t),s}(r,[t[y]].concat(D(t,t[y])),a);(0,u.privateSet)(t,k,s)}else(0,u.privateSet)(t,k,null)}var B=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};g(this,e),A(i);var a=(0,u.makeOptions)(i),s=(0,c.default)(a),l=M(s);if(n)(0,u.privateSet)(this,w,n),(0,u.privateSet)(this,x,null),(0,u.privateSet)(this,_,n[_]),N(this,t),(0,u.privateSet)(this,E,n[E]),(0,u.privateSet)(this,S,n[b]);else{if(!s.isValidElement(t))throw new TypeError("ShallowWrapper can only wrap valid elements");var f=l.getChildContext.calledByRenderer?j(t,s):null;(0,u.privateSet)(this,w,this),(0,u.privateSet)(this,x,t);var d=s.createRenderer((0,o.default)({mode:"shallow"},a));(0,u.privateSet)(this,_,d),this[_].render(t,a.context);var h=this[_].getNode();N(this,P(h)),(0,u.privateSet)(this,E,a);var p=h.instance;p&&!a.disableLifecycleMethods&&(l.componentDidUpdate.onSetState&&!p[T]&&((0,u.privateSet)(p,T,p.setState),p.setState=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return r.setState.apply(r,v(null==t?[e]:[e,t]))}),"function"===typeof p.componentDidMount&&this[_].batchedUpdates((function(){p.componentDidMount()})),F(s,this,p,h,f))}}return r(e,[{key:"root",value:function(){return this[w]}},{key:"getNodeInternal",value:function(){if(1!==this.length)throw new Error("ShallowWrapper::getNode() can only be called when wrapping one node");return this[w]===this&&this.update(),this[y]}},{key:"getNodesInternal",value:function(){return this[w]===this&&1===this.length&&this.update(),this[b]}},{key:"getElement",value:function(){var e=this;return this.single("getElement",(function(t){return(0,c.default)(e[E]).nodeToElement(t)}))}},{key:"getElements",value:function(){return this.getNodesInternal().map((0,c.default)(this[E]).nodeToElement)}},{key:"getNode",value:function(){throw new Error("ShallowWrapper::getNode() is no longer supported. Use ShallowWrapper::getElement() instead")}},{key:"getNodes",value:function(){throw new Error("ShallowWrapper::getNodes() is no longer supported. Use ShallowWrapper::getElements() instead")}},{key:"instance",value:function(){if(this[w]!==this)throw new Error("ShallowWrapper::instance() can only be called on the root");return this[_].getNode().instance}},{key:"update",value:function(){if(this[w]!==this)throw new Error("ShallowWrapper::update() can only be called on the root");if(1!==this.length)throw new Error("ShallowWrapper::update() can only be called when wrapping one node");return N(this,P(this[_].getNode())),this}},{key:"unmount",value:function(){return this[_].unmount(),this}},{key:"rerender",value:function(e,t){var n=this,r=(0,c.default)(this[E]);return this.single("rerender",(function(){(0,u.withSetStateAllowed)((function(){var i=n[_].getNode(),a=i.instance||{},s=a.state,l=a.props||n[x].props,c=a.context||n[E].context,f=t||c;t&&(n[E]=(0,o.default)({},n[E],{context:f})),n[_].batchedUpdates((function(){var t=M(r),d=!0,h=void 0,p=void 0;if(!n[E].disableLifecycleMethods&&a&&("function"===typeof a.shouldComponentUpdate&&(h=(0,u.spyMethod)(a,"shouldComponentUpdate")),t.getChildContext.calledByRenderer&&"function"===typeof a.getChildContext&&(p=(0,u.spyMethod)(a,"getChildContext"))),!h&&L(a)&&(d=R(l,e,s,a.state)),e&&(n[x]=(0,u.cloneElement)(r,n[x],e)),n[_].render(n[x],f),h&&(d=h.getLastReturnValue(),h.restore()),d&&!n[E].disableLifecycleMethods&&a)if(F(r,n,a,i,p),t.getSnapshotBeforeUpdate){var m=void 0;"function"===typeof a.getSnapshotBeforeUpdate&&(m=a.getSnapshotBeforeUpdate(l,s)),!t.componentDidUpdate||"function"!==typeof a.componentDidUpdate||s&&!(0,u.shallowEqual)(s,n.instance().state)||a.componentDidUpdate(l,s,m)}else t.componentDidUpdate&&"function"===typeof a.componentDidUpdate&&(t.componentDidUpdate.prevContext?a.componentDidUpdate(l,s,c):s&&!(0,u.shallowEqual)(n.instance().state,s)||a.componentDidUpdate(l,s));else(0,u.shallowEqual)(e,a.props)||(a.props=(Object.freeze||Object)((0,o.default)({},a.props,e)));n.update()}))}))})),this}},{key:"setProps",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(this[w]!==this)throw new Error("ShallowWrapper::setProps() can only be called on the root");if(arguments.length>1&&"function"!==typeof t)throw new TypeError("ReactWrapper::setProps() expects a function as its second argument");return this.rerender(e),t&&t(),this}},{key:"setState",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(this[w]!==this)throw new Error("ShallowWrapper::setState() can only be called on the root");if(null===this.instance()||"class"!==this[_].getNode().nodeType)throw new Error("ShallowWrapper::setState() can only be called on class components");if(arguments.length>1&&"function"!==typeof n)throw new TypeError("ReactWrapper::setState() expects a function as its second argument");return this.single("setState",(function(){(0,u.withSetStateAllowed)((function(){var r=(0,c.default)(t[E]),i=M(r),o=t[_].getNode(),a=o.instance,s=a.props,l=a.state,f=a.context,d="function"===typeof e?e.call(a,l,s):e,h=!i.setState.skipsComponentDidUpdateOnNullish||null!=d,p=void 0,m=void 0,v=!0;if(!t[E].disableLifecycleMethods&&a&&(i.componentDidUpdate&&i.componentDidUpdate.onSetState&&"function"===typeof a.shouldComponentUpdate&&(p=(0,u.spyMethod)(a,"shouldComponentUpdate")),i.getChildContext.calledByRenderer&&"function"===typeof a.getChildContext&&(m=(0,u.spyMethod)(a,"getChildContext"))),!p&&L(a)&&(v=R(s,a.props,l,d)),a[T]?a[T](d):a.setState(d),p&&(v=p.getLastReturnValue(),p.restore()),h&&v&&!t[E].disableLifecycleMethods&&(F(r,t,a,o,m),i.componentDidUpdate&&i.componentDidUpdate.onSetState))if(i.getSnapshotBeforeUpdate&&"function"===typeof a.getSnapshotBeforeUpdate){var g=a.getSnapshotBeforeUpdate(s,l);"function"===typeof a.componentDidUpdate&&a.componentDidUpdate(s,l,g)}else"function"===typeof a.componentDidUpdate&&(i.componentDidUpdate.prevContext?a.componentDidUpdate(s,l,f):a.componentDidUpdate(s,l));t.update(),n&&(r.invokeSetStateCallback?r.invokeSetStateCallback(a,n):n.call(a))}))})),this}},{key:"setContext",value:function(e){if(this[w]!==this)throw new Error("ShallowWrapper::setContext() can only be called on the root");if(!this[E].context)throw new Error("ShallowWrapper::setContext() can only be called on a wrapper that was originally passed a context option");return this.rerender(null,e)}},{key:"contains",value:function(e){var t=(0,c.default)(this[E]);if(!(0,u.isReactElementAlike)(e,t))throw new Error("ShallowWrapper::contains() can only be called with ReactElement (or array of them), string or number as argument.");return O(this,Array.isArray(e)?function(n){return(0,u.containsChildrenSubArray)(u.nodeEqual,n,e.map((function(e){return t.elementToNode(e)})))}:function(n){return(0,u.nodeEqual)(t.elementToNode(e),n)}).length>0}},{key:"containsMatchingElement",value:function(e){var t=(0,c.default)(this[E]).elementToNode(e);return O(this,(function(e){return(0,u.nodeMatches)(t,e,(function(e,t){return e<=t}))})).length>0}},{key:"containsAllMatchingElements",value:function(e){var t=this;if(!Array.isArray(e))throw new TypeError("nodes should be an Array");return e.every((function(e){return t.containsMatchingElement(e)}))}},{key:"containsAnyMatchingElements",value:function(e){var t=this;return Array.isArray(e)&&e.some((function(e){return t.containsMatchingElement(e)}))}},{key:"equals",value:function(e){var t=this;return this.single("equals",(function(){return(0,u.nodeEqual)(t.getNodeInternal(),e)}))}},{key:"matchesElement",value:function(e){var t=this;return this.single("matchesElement",(function(){var n=(0,c.default)(t[E]).elementToNode(e);return(0,u.nodeMatches)(n,t.getNodeInternal(),(function(e,t){return e<=t}))}))}},{key:"find",value:function(e){return this.wrap((0,h.reduceTreesBySelector)(e,this.getNodesInternal()))}},{key:"is",value:function(e){var t=(0,h.buildPredicate)(e);return this.single("is",(function(e){return t(e)}))}},{key:"isEmptyRender",value:function(){return this.getNodesInternal().every((function(e){return(0,u.isEmptyValue)(e)}))}},{key:"filterWhere",value:function(e){var t=this;return C(this,(function(n){return e(t.wrap(n))}))}},{key:"filter",value:function(e){return C(this,(0,h.buildPredicate)(e))}},{key:"not",value:function(e){var t=(0,h.buildPredicate)(e);return C(this,(function(e){return!t(e)}))}},{key:"text",value:function(){return this.single("text",d.getTextFromNode)}},{key:"html",value:function(){var e=this;return this.single("html",(function(t){if(null===e.type())return null;var n=(0,c.default)(e[E]);return n.createRenderer((0,o.default)({},e[E],{mode:"string"})).render(n.nodeToElement(t))}))}},{key:"render",value:function(){return null===this.type()?(0,s.default)():s.default.load("")(this.html())}},{key:"simulate",value:function(e){for(var t=this,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return this.single("simulate",(function(n){var i;return(i=t[_]).simulateEvent.apply(i,[n,e].concat(r)),t[w].update(),t}))}},{key:"simulateError",value:function(e){var t=this;return this.single("simulateError",(function(n){if("host"===n.nodeType)throw new TypeError("ShallowWrapper::simulateError() can only be called on custom components");var r=t[_];if("function"!==typeof r.simulateError)throw new TypeError("your adapter does not support `simulateError`. Try upgrading it!");var i=I(t),o=[n].concat(D(t,n));return r.simulateError(o,i,e),t}))}},{key:"props",value:function(){return this.single("props",d.propsOfNode)}},{key:"state",value:function(e){var t=this;if(this[w]!==this)throw new Error("ShallowWrapper::state() can only be called on the root");if(null===this.instance()||"class"!==this[_].getNode().nodeType)throw new Error("ShallowWrapper::state() can only be called on class components");var n=this.single("state",(function(){return t.instance().state}));if("undefined"!==typeof e){if(null==n)throw new TypeError('ShallowWrapper::state("'+String(e)+'") requires that `state` not be `null` or `undefined`');return n[e]}return n}},{key:"context",value:function(e){var t=this;if(this[w]!==this)throw new Error("ShallowWrapper::context() can only be called on the root");if(!this[E].context)throw new Error("ShallowWrapper::context() can only be called on a wrapper that was originally passed a context option");if(null===this.instance())throw new Error("ShallowWrapper::context() can only be called on wrapped nodes that have a non-null instance");var n=this.single("context",(function(){return t.instance().context}));return e?n[e]:n}},{key:"children",value:function(e){var t=this.flatMap((function(e){return(0,d.childrenOfNode)(e.getNodeInternal())}));return e?t.filter(e):t}},{key:"childAt",value:function(e){var t=this;return this.single("childAt",(function(){return t.children().at(e)}))}},{key:"parents",value:function(e){var t=this;return this.single("parents",(function(n){var r=t.wrap(D(t,n));return e?r.filter(e):r}))}},{key:"parent",value:function(){return this.flatMap((function(e){return[e.parents().get(0)]}))}},{key:"closest",value:function(e){if(this.is(e))return this;var t=this.parents().filter(e);return t.length>0?t.first():this.findWhere((function(){return!1}))}},{key:"shallow",value:function(e){var t=this;return this.single("shallow",(function(n){return t.wrap((0,c.default)(t[E]).nodeToElement(n),null,e)}))}},{key:"prop",value:function(e){return this.props()[e]}},{key:"renderProp",value:function(e){var t=this,n=(0,c.default)(this[E]);if("function"!==typeof n.wrap)throw new RangeError("your adapter does not support `wrap`. Try upgrading it!");return this.single("renderProp",(function(r){if("host"===r.nodeType)throw new TypeError("ShallowWrapper::renderProp() can only be called on custom components");if("string"!==typeof e)throw new TypeError("`propName` must be a string");var o=t.props();if(!(0,l.default)(o,e))throw new Error("no prop called \u201c"+String(e)+"\u201c found");var a=o[e];if("function"!==typeof a)throw new TypeError("expected prop \u201c"+String(e)+"\u201c to contain a function, but it holds \u201c"+("undefined"===typeof prop?"undefined":i(prop))+"\u201c");return function(){var e=a.apply(void 0,arguments),r=n.wrap(e);return t.wrap(r,null,t[E])}}))}},{key:"key",value:function(){return this.single("key",(function(e){return void 0===e.key?null:e.key}))}},{key:"type",value:function(){return this.single("type",(function(e){return(0,u.typeOfNode)(e)}))}},{key:"name",value:function(){var e=(0,c.default)(this[E]);return this.single("name",(function(t){return e.displayNameOfNode?e.displayNameOfNode(t):(0,u.displayNameOfNode)(t)}))}},{key:"hasClass",value:function(e){return e&&-1!==e.indexOf(".")&&console.warn("It looks like you're calling `ShallowWrapper::hasClass()` with a CSS selector. hasClass() expects a class name, not a CSS selector."),this.single("hasClass",(function(t){return(0,d.hasClassName)(t,e)}))}},{key:"forEach",value:function(e){var t=this;return this.getNodesInternal().forEach((function(n,r){return e.call(t,t.wrap(n),r)})),this}},{key:"map",value:function(e){var t=this;return this.getNodesInternal().map((function(n,r){return e.call(t,t.wrap(n),r)}))}},{key:"reduce",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return arguments.length>1?this.getNodesInternal().reduce((function(n,r,i){return e.call(t,n,t.wrap(r),i)}),n):this.getNodesInternal().reduce((function(n,r,i){return e.call(t,1===i?t.wrap(n):n,t.wrap(r),i)}))}},{key:"reduceRight",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return arguments.length>1?this.getNodesInternal().reduceRight((function(n,r,i){return e.call(t,n,t.wrap(r),i)}),n):this.getNodesInternal().reduceRight((function(n,r,i){return e.call(t,1===i?t.wrap(n):n,t.wrap(r),i)}))}},{key:"slice",value:function(e,t){return this.wrap(this.getNodesInternal().slice(e,t))}},{key:"some",value:function(e){if(this[w]===this)throw new Error("ShallowWrapper::some() can not be called on the root");var t=(0,h.buildPredicate)(e);return this.getNodesInternal().some(t)}},{key:"someWhere",value:function(e){var t=this;return this.getNodesInternal().some((function(n,r){return e.call(t,t.wrap(n),r)}))}},{key:"every",value:function(e){var t=(0,h.buildPredicate)(e);return this.getNodesInternal().every(t)}},{key:"everyWhere",value:function(e){var t=this;return this.getNodesInternal().every((function(n,r){return e.call(t,t.wrap(n),r)}))}},{key:"flatMap",value:function(e){var t=this,n=this.getNodesInternal().map((function(n,r){return e.call(t,t.wrap(n),r)})),r=(0,a.default)(n,1);return this.wrap(r.filter(Boolean))}},{key:"findWhere",value:function(e){var t=this;return O(this,(function(n){var r=t.wrap(n);return r.length>0&&e(r)}))}},{key:"get",value:function(e){return this.getElements()[e]}},{key:"at",value:function(e){var t=this.getNodesInternal();return e<t.length?this.wrap(t[e]):this.wrap([])}},{key:"first",value:function(){return this.at(0)}},{key:"last",value:function(){return this.at(this.length-1)}},{key:"isEmpty",value:function(){return console.warn("Enzyme::Deprecated method isEmpty() called, use exists() instead."),!this.exists()}},{key:"exists",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return arguments.length>0?this.find(e).exists():this.length>0}},{key:"single",value:function(e,t){var n="string"===typeof e?e:"unknown",r="function"===typeof t?t:e;if(1!==this.length)throw new Error("Method \u201c"+n+"\u201d is meant to be run on 1 node. "+String(this.length)+" found instead.");return r.call(this,this.getNodeInternal())}},{key:"wrap",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[w];if(t instanceof e)return t;for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return new(Function.prototype.bind.apply(e,[null].concat([t,n],i)))}},{key:"debug",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,f.debugNodes)(this.getNodesInternal(),e)}},{key:"tap",value:function(e){return e(this),this}},{key:"dive",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,c.default)(this[E]),r="dive";return this.single(r,(function(i){if(i&&"host"===i.nodeType)throw new TypeError("ShallowWrapper::"+r+"() can not be called on Host Components");var a=(0,c.default)(e[E]).nodeToElement(i);if(!(0,u.isCustomComponentElement)(a,n))throw new TypeError("ShallowWrapper::"+r+"() can only be called on components");return e.wrap(a,null,(0,o.default)({},e[E],t,{context:t.context||(0,o.default)({},e[E].context,e[w][k])}))}))}},{key:"hostNodes",value:function(){return this.filterWhere((function(e){return"string"===typeof e.type()}))}}]),e}();function z(e,t){Object.defineProperty(B.prototype,e,{get:function(){throw new Error("\n        Attempted to access ShallowWrapper::"+String(e)+", which was previously a private property on\n        Enzyme ShallowWrapper instances, but is no longer and should not be relied upon.\n        "+String(t)+"\n      ")},enumerable:!1,configurable:!1})}u.ITERATOR_SYMBOL&&Object.defineProperty(B.prototype,u.ITERATOR_SYMBOL,{configurable:!0,value:function(){var e,t=this.getNodesInternal()[u.ITERATOR_SYMBOL](),n=(0,c.default)(this[E]);return m(e={},u.ITERATOR_SYMBOL,(function(){return this})),m(e,"next",(function(){var e=t.next();return e.done?{done:!0}:{done:!1,value:n.nodeToElement(e.value)}})),e}}),z("node","Consider using the getElement() method instead."),z("nodes","Consider using the getElements() method instead."),z("renderer",""),z("options",""),z("complexSelector",""),t.default=B},function(e,t,n){n(496),e.exports=n(14).Object.keys},function(e,t,n){var r=n(65),i=n(74);n(206)("keys",(function(){return function(e){return i(r(e))}}))},function(e,t,n){e.exports={default:n(498),__esModule:!0}},function(e,t,n){n(77),n(60),e.exports=n(499)},function(e,t,n){var r=n(108),i=n(20)("iterator"),o=n(49);e.exports=n(14).isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||o.hasOwnProperty(r(t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(61),o=(r=i)&&r.__esModule?r:{default:r},a=n(102),s=n(64),l={},u=function(e,t){return l[e]?o.default.resolve(l[e]):t(e)},c=function(e){return fetch(e,{credentials:"same-origin"}).then((function(e){return e.text()})).then((function(e){return function(e){if(0===e.length)return null;var t=(0,a.tsvParseRows)(e);return(0,s.parseChromsizesRows)(t)}(e)})).catch((function(e){console.error("Could not retrieve or parse chrom info.",e)}))},f={get:function(e){return u(t=e,c).then((function(e){return l[t]=e,l[t]}));var t}};t.default=f},function(e,t,n){n(160),n(60),n(77),n(502),n(506),n(507),e.exports=n(14).Promise},function(e,t,n){"use strict";var r,i,o,a,s=n(76),l=n(23),u=n(48),c=n(108),f=n(17),d=n(31),h=n(92),p=n(213),m=n(125),v=n(308),g=n(309).set,y=n(504)(),b=n(214),_=n(310),x=n(505),w=n(311),E=l.TypeError,T=l.process,S=T&&T.versions,k=S&&S.v8||"",O=l.Promise,C="process"==c(T),A=function(){},M=i=b.f,P=!!function(){try{var e=O.resolve(1),t=(e.constructor={})[n(20)("species")]=function(e){e(A,A)};return(C||"function"==typeof PromiseRejectionEvent)&&e.then(A)instanceof t&&0!==k.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(r){}}(),I=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},D=function(e,t){if(!e._n){e._n=!0;var n=e._c;y((function(){for(var r=e._v,i=1==e._s,o=0,a=function(t){var n,o,a,s=i?t.ok:t.fail,l=t.resolve,u=t.reject,c=t.domain;try{s?(i||(2==e._h&&L(e),e._h=1),!0===s?n=r:(c&&c.enter(),n=s(r),c&&(c.exit(),a=!0)),n===t.promise?u(E("Promise-chain cycle")):(o=I(n))?o.call(n,l,u):l(n)):u(r)}catch(f){c&&!a&&c.exit(),u(f)}};n.length>o;)a(n[o++]);e._c=[],e._n=!1,t&&!e._h&&N(e)}))}},N=function(e){g.call(l,(function(){var t,n,r,i=e._v,o=R(e);if(o&&(t=_((function(){C?T.emit("unhandledRejection",i,e):(n=l.onunhandledrejection)?n({promise:e,reason:i}):(r=l.console)&&r.error&&r.error("Unhandled promise rejection",i)})),e._h=C||R(e)?2:1),e._a=void 0,o&&t.e)throw t.v}))},R=function(e){return 1!==e._h&&0===(e._a||e._c).length},L=function(e){g.call(l,(function(){var t;C?T.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})}))},j=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),D(t,!0))},F=function e(t){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw E("Promise can't be resolved itself");(n=I(t))?y((function(){var i={_w:r,_d:!1};try{n.call(t,u(e,i,1),u(j,i,1))}catch(o){j.call(i,o)}})):(r._v=t,r._s=1,D(r,!1))}catch(i){j.call({_w:r,_d:!1},i)}}};P||(O=function(e){p(this,O,"Promise","_h"),h(e),r.call(this);try{e(u(F,this,1),u(j,this,1))}catch(t){j.call(this,t)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(215)(O.prototype,{then:function(e,t){var n=M(v(this,O));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=C?T.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&D(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=u(F,e,1),this.reject=u(j,e,1)},b.f=M=function(e){return e===O||e===a?new o(e):i(e)}),f(f.G+f.W+f.F*!P,{Promise:O}),n(78)(O,"Promise"),n(312)("Promise"),a=n(14).Promise,f(f.S+f.F*!P,"Promise",{reject:function(e){var t=M(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!P),"Promise",{resolve:function(e){return w(s&&this===a?O:this,e)}}),f(f.S+f.F*!(P&&n(163)((function(e){O.all(e).catch(A)}))),"Promise",{all:function(e){var t=this,n=M(t),r=n.resolve,i=n.reject,o=_((function(){var n=[],o=0,a=1;m(e,!1,(function(e){var s=o++,l=!1;n.push(void 0),a++,t.resolve(e).then((function(e){l||(l=!0,n[s]=e,--a||r(n))}),i)})),--a||r(n)}));return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=M(t),r=n.reject,i=_((function(){m(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(23),i=n(309).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,l="process"==n(75)(a);e.exports=function(){var e,t,n,u=function(){var r,i;for(l&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(o){throw e?n():t=void 0,o}}t=void 0,r&&r.enter()};if(l)n=function(){a.nextTick(u)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);n=function(){c.then(u)}}else n=function(){i.call(r,u)};else{var f=!0,d=document.createTextNode("");new o(u).observe(d,{characterData:!0}),n=function(){d.data=f=!f}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t,n){var r=n(23).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){"use strict";var r=n(17),i=n(14),o=n(23),a=n(308),s=n(311);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then((function(){return n}))}:e,n?function(n){return s(t,e()).then((function(){throw n}))}:e)}})},function(e,t,n){"use strict";var r=n(17),i=n(214),o=n(310);r(r.S,"Promise",{try:function(e){var t=i.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(3)),i=o(n(4));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(t){(0,r.default)(this,e),this.customEventHandlers={},this.registeredEls={},this.pubSub=t}return(0,i.default)(e,[{key:"getEventHandler",value:function(e){var t=this;return this.customEventHandlers[e]?this.customEventHandlers[e]:function(n){return t.pubSub.publish(e,n)}}},{key:"unregister",value:function(e,t){(this.registeredEls[e]||this.registeredEls[e]===t)&&(this.registeredEls[e].removeEventListener(e,this.registeredEls[e].__handler__),this.registeredEls[e]=void 0,delete this.registeredEls[e])}},{key:"register",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t&&this.registeredEls[e]!==t&&(this.registeredEls[e]&&this.unregister(this.registeredEls[e]),this.registeredEls[e]=t,this.registeredEls[e].__handler__=this.getEventHandler(e),this.registeredEls[e].addEventListener(e,this.registeredEls[e].__handler__,{capture:n,passive:!1}))}}]),e}();t.default=function(e){return new a(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trackInfo=t.tileDataToPixData=t.calculateTilesFromResolution=t.calculateTileWidth=t.calculateTiles=t.calculateZoomLevel=t.calculateResolution=t.calculateZoomLevelFromResolutions=t.fetchTilesDebounced=t.getTileProxyAuthHeader=t.setTileProxyAuthHeader=t.authHeader=t.requestsInFlight=void 0;var r=p(n(221)),i=p(n(222)),o=p(n(16)),a=p(n(61)),s=p(n(21)),l=function(){var e=(0,i.default)(r.default.mark((function e(t,n,i){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.indexOf("hg19")>=0)){e.next=3;break}return e.next=3,A(1);case 3:return e.abrupt("return",C(t,n,"json",i));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}();t.fetchMultiRequestTiles=y,t.calculateTileAndPosInTile=E;var u=n(8),c=p(n(27)),f=n(127),d=n(10),h=n(11);function p(e){return e&&e.__esModule?e:{default:e}}var m=c.default.nice(),v=t.requestsInFlight=0,g=t.authHeader=null;function y(e,t){var n=e.requests,r=[],i={},l=!0,u=!1,c=void 0;try{for(var d,h=(0,o.default)(n);!(l=(d=h.next()).done);l=!0){var p=d.value;i[p.server]||(i[p.server]={});var v=!0,y=!1,b=void 0;try{for(var _,x=(0,o.default)(p.ids);!(v=(_=x.next()).done);v=!0){var w=_.value;i[p.server][w]=!0}}catch(M){y=!0,b=M}finally{try{!v&&x.return&&x.return()}finally{if(y)throw b}}}}catch(M){u=!0,c=M}finally{try{!l&&h.return&&h.return()}finally{if(u)throw c}}var E=(0,s.default)(i),T=function(e){for(var n=(0,s.default)(i[e]),o=function(i){var o=n.slice(i,i+Math.min(n.length-i,15)),s=o.map((function(e){return"d="+String(e)})).join("&"),l=String(e)+"/tiles/?"+String(s)+"&s="+String(m),u=new a.default((function(n,r){t.publish("requestSent",l);var i={};i.outUrl=l,i.server=e,i.theseTileIds=o,i.authHeader=g,(0,f.workerGetTiles)(i.outUrl,i.server,i.theseTileIds,i.authHeader,n),t.publish("requestReceived",l)}));r.push(u)},l=0;l<n.length;l+=15)o(l)},S=!0,k=!1,O=void 0;try{for(var C,A=(0,o.default)(E);!(S=(C=A.next()).done);S=!0)T(C.value)}catch(M){k=!0,O=M}finally{try{!S&&A.return&&A.return()}finally{if(k)throw O}}a.default.all(r).then((function(e){var t={},r=!0,i=!1,a=void 0;try{for(var l,u=(0,o.default)(e);!(r=(l=u.next()).done);r=!0){var c=l.value,f=(0,s.default)(c),d=!0,h=!1,p=void 0;try{for(var m,v=(0,o.default)(f);!(d=(m=v.next()).done);d=!0){var g=m.value;t[String(c[g].server)+"/"+String(g)]=c[g]}}catch(M){h=!0,p=M}finally{try{!d&&v.return&&v.return()}finally{if(h)throw p}}}}catch(M){i=!0,a=M}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}var y=!0,b=!1,_=void 0;try{for(var x,w=(0,o.default)(n);!(y=(x=w.next()).done);y=!0){var E=x.value,T={},S=E.server,k=!0,O=!1,C=void 0;try{for(var A,P=(0,o.default)(E.ids);!(k=(A=P.next()).done);k=!0){var I=A.value;T[I]=t[String(S)+"/"+String(I)]}}catch(M){O=!0,C=M}finally{try{!k&&P.return&&P.return()}finally{if(O)throw C}}E.done(T)}}catch(M){b=!0,_=M}finally{try{!y&&w.return&&w.return()}finally{if(b)throw _}}}))}t.setTileProxyAuthHeader=function(e){t.authHeader=g=e},t.getTileProxyAuthHeader=function(){return g};var b=t.fetchTilesDebounced=function(e,t,n){var r=void 0,i=[],o={},a=0,s=function(e){var t=o[e.id];t&&i[t]?i[t].ids=i[t].ids.concat(e.ids):(o[e.id]=i.length,i.push(e))},l=function(){r=null,i=[],o={}},u=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e.apply(void 0,[{sessionId:m,requests:i}].concat(r)),l()},c=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];var s=function(){a>0&&(u.apply(void 0,[e].concat(i)),a=0)};clearTimeout(r),r=setTimeout(s,n)};c.cancel=function(){clearTimeout(r),l()},c.immediate=function(){e({sessionId:m,requests:i})};var f=!1;return function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];s(e),f?a++:(u.apply(void 0,[e].concat(r)),c.apply(void 0,[e].concat(r)),f=!0,a=0,setTimeout((function(){f=!1}),t))}}(y,h.TILE_FETCH_DEBOUNCE,h.TILE_FETCH_DEBOUNCE),_=t.calculateZoomLevelFromResolutions=function(e,t){var n=e.map((function(e){return+e})).sort((function(e,t){return t-e})),r=t.range()[1]-t.range()[0],i=n.map((function(e){return(t.domain()[1]-t.domain()[0])/e})).map((function(e){return e/r})),o=i.filter((function(e){return e<1}));return 0===o.length?0:i.indexOf(o[o.length-1])},x=t.calculateResolution=function(e,t){if(e.resolutions)return e.resolutions.map((function(e){return+e})).sort((function(e,t){return t-e}))[t];var n=e.max_width,r=+e.bins_per_dimension;return n/(Math.pow(2,t)*r)},w=t.calculateZoomLevel=function(e,t,n,r){var i=e.range()[1]-e.range()[0],o=Math.max((n-t)/(e.domain()[1]-e.domain()[0]),1),a=Math.max(0,Math.ceil(Math.log(i/384)/Math.LN2)),s=Math.round(Math.log(o)/Math.LN2)+a,l=0;return r&&(l=Math.floor(Math.log(256)/Math.log(2)-Math.log(r)/Math.log(2))),s+=l};function E(e,t,n,r,i){var o=null,a=e.bins_per_dimension||256;o=e.resolutions?e.resolutions[r]*a:t/Math.pow(2,r);var s=Math.floor((i-n)/o);return[s,Math.floor(a*(i-s*o)/o)]}var T=t.calculateTiles=function(e,t,n,r,i,o){var a=Math.min(e,i),s=o/Math.pow(2,a);return(0,u.range)(Math.max(0,Math.floor((t.domain()[0]-n)/s)),Math.min(Math.pow(2,a),Math.ceil((t.domain()[1]-n-1e-7)/s)))},S=t.calculateTileWidth=function(e,t,n){return e.resolutions?e.resolutions.map((function(e){return+e})).sort((function(e,t){return t-e}))[t]*n:e.max_width/Math.pow(2,t)},k=t.calculateTilesFromResolution=function(e,t,n,r,i){var o=e*(i||256);r||(r=Number.MAX_VALUE);var a=Math.max(0,Math.floor((t.domain()[0]-n)/o)),s=Math.ceil(Math.min(r,t.domain()[1]-n-1e-7)/o),l=(0,u.range)(a,s);return l.length>20&&(console.warn("Too many visible tiles: "+String(l.length)+" truncating to 20"),l=l.slice(0,20)),l},O=t.tileDataToPixData=function(e,t,n,r,i,o,a,s,l,u,c,d){var h=e.tileData;if(h.dense){if(e.mirrored&&!e.isMirrored&&e.tileData.tilePos.length>0&&e.tileData.tilePos[0]===e.tileData.tilePos[1]){e.tileData.dense=e.tileData.dense.slice();for(var p=Math.floor(Math.sqrt(e.tileData.dense.length)),m=0;m<p;m++)for(var v=m+1;v<p;v++)e.tileData.dense[m*p+v]=e.tileData.dense[v*p+m];if(s)for(var g=0;g<p;g++)for(var y=0;y<g;y++)e.tileData.dense[g*p+y]=NaN;e.isMirrored=!0}o({pixData:(0,f.workerSetPix)(h.dense.length,h.dense,t,n,r,i,a,s,e.tileData.shape,l,u,c,d)})}else o(null)};function C(e,n,r,i){t.requestsInFlight=v+=1,i.publish("requestSent",e);var o=void 0;if("text"===r)o="text/plain";else{if("json"!==r)throw new Error('fetch either "text" or "json", not "'+r+'"');o="application/json"}var a={"Content-Type":o};return g&&(a.Authorization=g),fetch(e,{credentials:"same-origin",headers:a}).then((function(e){if(!e.ok)throw Error(e.statusText);return e[r]()})).then((function(e){return n(void 0,e),e})).catch((function(t){return console.error("Could not fetch "+String(e),t),n(t,void 0),t})).finally((function(){i.publish("requestReceived",e),t.requestsInFlight=v-=1}))}function A(e){return new a.default((function(t){return setTimeout(t,e)}))}var M=t.trackInfo=function(e,t,n,r,i){var o=String((0,d.trimTrailingSlash)(e))+"/tileset_info/?d="+String(t)+"&s="+String(m);i.publish("requestSent",o),l(o,(function(t,a){i.publish("requestReceived",o),t?r?r("Error retrieving tilesetInfo from: "+String(e)):console.warn("Error retrieving: ",o):n(a)}),i)},P={calculateResolution:x,calculateTileAndPosInTile:E,calculateTiles:T,calculateTilesFromResolution:k,calculateTileWidth:S,calculateZoomLevel:w,calculateZoomLevelFromResolutions:_,fetchTilesDebounced:b,json:l,text:function(e,t,n){return C(e,t,"text",n)},tileDataToPixData:O,trackInfo:M};t.default=P},function(e,t,n){var r=function(){return this}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(511),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(a){r.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";var n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag",l="object"===typeof e,u=t.regeneratorRuntime;if(u)l&&(e.exports=u);else{(u=t.regeneratorRuntime=l?e.exports:{}).wrap=m;var c={},f={};f[o]=function(){return this};var d=Object.getPrototypeOf,h=d&&d(d(k([])));h&&h!==n&&r.call(h,o)&&(f=h);var p=b.prototype=g.prototype=Object.create(f);y.prototype=p.constructor=b,b.constructor=y,b[s]=y.displayName="GeneratorFunction",u.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},u.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(p),e},u.awrap=function(e){return{__await:e}},_(x.prototype),x.prototype[a]=function(){return this},u.AsyncIterator=x,u.async=function(e,t,n,r){var i=new x(m(e,t,n,r));return u.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(p),p[s]="Generator",p[o]=function(){return this},p.toString=function(){return"[object Generator]"},u.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},u.values=k,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}}}function m(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,o=Object.create(i.prototype),a=new S(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=v(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===c)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),o}function v(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}function g(){}function y(){}function b(){}function _(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function x(e){var t;this._invoke=function(n,i){function o(){return new Promise((function(t,o){!function t(n,i,o,a){var s=v(e[n],e,i);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"===typeof u&&r.call(u,"__await")?Promise.resolve(u.__await).then((function(e){t("next",e,o,a)}),(function(e){t("throw",e,o,a)})):Promise.resolve(u).then((function(e){l.value=e,o(l)}),a)}a(s.arg)}(n,i,t,o)}))}return t=t?t.then(o,o):o()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=v(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:O}}function O(){return{value:void 0,done:!0}}}(function(){return this}()||Function("return this")())},function(e,t,n){(function(e){var r=n(515);t.encode=function(t){var n=r.parse(t);return new e(n).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").substring(0,22)},t.decode=function(t){var n=t.replace(/-/g,"+").replace(/_/g,"/")+"==";return r.unparse(new e(n,"base64"))},t.v4=function(){return r.v4(null,new e(16)).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").substring(0,22)},t.nice=function(){var t=r.v4(null,new e(16));return t[0]=127&t[0],t.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").substring(0,22)}}).call(this,n(110).Buffer)},function(e,t,n){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){for(var t,n=u(e),r=n[0],a=n[1],s=new o(function(e,t,n){return 3*(t+n)/4-n}(0,r,a)),l=0,c=a>0?r-4:r,f=0;f<c;f+=4)t=i[e.charCodeAt(f)]<<18|i[e.charCodeAt(f+1)]<<12|i[e.charCodeAt(f+2)]<<6|i[e.charCodeAt(f+3)],s[l++]=t>>16&255,s[l++]=t>>8&255,s[l++]=255&t;return 2===a&&(t=i[e.charCodeAt(f)]<<2|i[e.charCodeAt(f+1)]>>4,s[l++]=255&t),1===a&&(t=i[e.charCodeAt(f)]<<10|i[e.charCodeAt(f+1)]<<4|i[e.charCodeAt(f+2)]>>2,s[l++]=t>>8&255,s[l++]=255&t),s},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(c(e,a,a+16383>s?s:a+16383));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")};for(var r=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,f=n?i-1:0,d=n?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-c)-1,h>>=-c,c+=s;c>0;o=256*o+e[t+f],f+=d,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+f],f+=d,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=u}return(h?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,f=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+f>=1?d/l:d*Math.pow(2,1-f))*l>=2&&(a++,l/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(t*l-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+h]=255&a,h+=p,a/=256,u-=8);e[n+h-p]|=128*m}},function(e,t,n){for(var r=n(516),i=[],o={},a=0;a<256;a++)i[a]=(a+256).toString(16).substr(1),o[i[a]]=a;function s(e,t){var n=t||0,r=i;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}var l=r(),u=[1|l[0],l[1],l[2],l[3],l[4],l[5]],c=16383&(l[6]<<8|l[7]),f=0,d=0;function h(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var a=0;a<16;a++)t[i+a]=o[a];return t||s(o)}var p=h;p.v1=function(e,t,n){var r=t&&n||0,i=t||[],o=void 0!==(e=e||{}).clockseq?e.clockseq:c,a=void 0!==e.msecs?e.msecs:(new Date).getTime(),l=void 0!==e.nsecs?e.nsecs:d+1,h=a-f+(l-d)/1e4;if(h<0&&void 0===e.clockseq&&(o=o+1&16383),(h<0||a>f)&&void 0===e.nsecs&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=a,d=l,c=o;var p=(1e4*(268435455&(a+=122192928e5))+l)%4294967296;i[r++]=p>>>24&255,i[r++]=p>>>16&255,i[r++]=p>>>8&255,i[r++]=255&p;var m=a/4294967296*1e4&268435455;i[r++]=m>>>8&255,i[r++]=255&m,i[r++]=m>>>24&15|16,i[r++]=m>>>16&255,i[r++]=o>>>8|128,i[r++]=255&o;for(var v=e.node||u,g=0;g<6;g++)i[r+g]=v[g];return t||s(i)},p.v4=h,p.parse=function(e,t,n){var r=t&&n||0,i=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,(function(e){i<16&&(t[r+i++]=o[e])}));i<16;)t[r+i++]=0;return t},p.unparse=s,e.exports=p},function(e,t,n){(function(t){var n,r=t.crypto||t.msCrypto;if(r&&r.getRandomValues){var i=new Uint8Array(16);n=function(){return r.getRandomValues(i),i}}if(!n){var o=new Array(16);n=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}e.exports=n}).call(this,n(26))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=function(e,t){if(!t||!t.cumPositions||!t.cumPositions.length)return null;var n=(0,r.chromInfoBisector)(t.cumPositions,e),i=t.cumPositions[t.cumPositions.length-1].chr,o=t.chromLengths[i];n-=n>0&&1;var a=Math.floor(e-t.cumPositions[n].pos),s=0;return a<0&&(s=a-1,a=1),n===t.cumPositions.length-1&&a>o&&(s=a-o,a=o),[t.cumPositions[n].chr,a,s,n]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(n){return n%e*t+Math.floor(n/e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e};t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r;return e.map((function(e,r){return e+t[n(r)]}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(238),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t){if("http://www.w3.org/2000/svg"===e.namespaceURI){if(!(0,o.default)(e,t)){var n=e.getAttribute("class")||"";e.setAttribute("class",String(n)+" "+String(t))}}else e.classList?e.classList.add(t):(0,o.default)(e,t)||(e.className+=" "+String(t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(61),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t,n){var r=document.createElement("canvas");return new o.default((function(i,o){var a=new window.Image;a.onload=function(){r.width=t||a.width,r.height=n||a.height,r.getContext("2d").drawImage(a,0,0),i(r)},a.onerror=function(){o(new Error("Could not convert base64 to canvas"))},a.src="data:image/png;base64,"+String(e)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(0,n(8).bisector)((function(e){return e.pos})).left;t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){return n.chrPositions[e].pos+t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(28),i=n(8),o=n(9);t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.map((function(t,n){return n*(255/(e.length-1))})),a=(0,r.scaleLinear)().domain(n).range(e),s=t?255:254,l=(0,i.range)(s,-1,-1).map(a).map((function(e){var t=(0,o.rgb)(e);return[t.r,t.g,t.b,255*t.opacity]}));return l.length<256&&l.push([255,255,255,0]),l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(9),o=n(318),a=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){var t=(0,i.color)(e);return a.default.PIXI.utils.rgb2hex([t.r/255,t.g/255,t.b/255])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9);t.default=function(e){if("transparent"===e)return[255,255,255,0];var t=(0,r.color)(e);return[t.r,t.g,t.b,255]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.debounce=function e(t,n,r){var i=void 0;return e.cancel=function(){clearTimeout(i),i=null},function(){for(var e=arguments.length,o=Array(e),a=0;a<e;a++)o[a]=arguments[a];var s=function(){i=null,r||t.apply(void 0,o)},l=r&&!i;clearTimeout(i),i=setTimeout(s,n),l&&t.apply(void 0,o)}};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={};return e.forEach((function(e){t[e[0]]=e[1]})),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push([n,e[n]]);return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}},function(e,t,n){"use strict";function r(e,t){var n="string"===typeof t?new Blob([t],{type:"application/octet-stream"}):t;if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(n,e);else{var r=window.document.createElement("a");r.href=window.URL.createObjectURL(n),r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(r.href)}}Object.defineProperty(t,"__esModule",{value:!0}),t.download=r,t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(44),o=(r=i)&&r.__esModule?r:{default:r},a=n(11);t.default=function(e){return e.center=e.center||[],e.left=e.left||[],e.right=e.right||[],e.top=e.top||[],e.bottom=e.bottom||[],e.whole=e.whole||[],e.gallery=e.gallery||[],["top","bottom","gallery"].map((function(t){return e[t]})).forEach((function(e){return e.forEach((function(e){var t=a.TRACKS_INFO_BY_TYPE[e.type],n=t&&t.defaultOptions||{},r=e.options?(0,o.default)({},n,e.options):n;void 0!==r.minHeight&&void 0===e.height&&(e.height=r.minHeight),void 0===e.height&&(e.height=t&&t.defaultHeight||a.MIN_HORIZONTAL_HEIGHT)}))})),["left","right","gallery"].map((function(t){return e[t]})).forEach((function(e){return e.forEach((function(e){var t=a.TRACKS_INFO_BY_TYPE[e.type],n=t&&t.defaultOptions||{},r=e.options?(0,o.default)({},n,e.options):n;void 0!==r.minWidth&&void 0===e.width&&(e.width=r.minWidth),void 0===e.width&&(e.width=t&&t.defaultWidth||a.MIN_VERTICAL_WIDTH)}))})),e}},function(e,t,n){n(535),e.exports=n(14).Object.assign},function(e,t,n){var r=n(17);r(r.S+r.F,"Object",{assign:n(536)})},function(e,t,n){"use strict";var r=n(74),i=n(239),o=n(130),a=n(65),s=n(122),l=Object.assign;e.exports=!l||n(59)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r}))?function(e,t){for(var n=a(e),l=arguments.length,u=1,c=i.f,f=o.f;l>u;)for(var d,h=s(arguments[u++]),p=c?r(h).concat(c(h)):r(h),m=p.length,v=0;m>v;)f.call(h,d=p[v++])&&(n[d]=h[d]);return n}:l},function(e,t,n){n(538),n(160),n(541),n(542),e.exports=n(14).Symbol},function(e,t,n){"use strict";var r=n(23),i=n(46),o=n(34),a=n(17),s=n(157),l=n(241).KEY,u=n(59),c=n(103),f=n(78),d=n(91),h=n(20),p=n(167),m=n(242),v=n(539),g=n(322),y=n(36),b=n(31),_=n(47),x=n(123),w=n(66),E=n(107),T=n(540),S=n(243),k=n(30),O=n(74),C=S.f,A=k.f,M=T.f,P=r.Symbol,I=r.JSON,D=I&&I.stringify,N=h("_hidden"),R=h("toPrimitive"),L={}.propertyIsEnumerable,j=c("symbol-registry"),F=c("symbols"),B=c("op-symbols"),z=Object.prototype,H="function"==typeof P,U=r.QObject,V=!U||!U.prototype||!U.prototype.findChild,G=o&&u((function(){return 7!=E(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=C(z,t);r&&delete z[t],A(e,t,n),r&&e!==z&&A(z,t,r)}:A,W=function(e){var t=F[e]=E(P.prototype);return t._k=e,t},q=H&&"symbol"==typeof P.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof P},Y=function(e,t,n){return e===z&&Y(B,t,n),y(e),t=x(t,!0),y(n),i(F,t)?(n.enumerable?(i(e,N)&&e[N][t]&&(e[N][t]=!1),n=E(n,{enumerable:w(0,!1)})):(i(e,N)||A(e,N,w(1,{})),e[N][t]=!0),G(e,t,n)):A(e,t,n)},X=function(e,t){y(e);for(var n,r=v(t=_(t)),i=0,o=r.length;o>i;)Y(e,n=r[i++],t[n]);return e},$=function(e){var t=L.call(this,e=x(e,!0));return!(this===z&&i(F,e)&&!i(B,e))&&(!(t||!i(this,e)||!i(F,e)||i(this,N)&&this[N][e])||t)},K=function(e,t){if(e=_(e),t=x(t,!0),e!==z||!i(F,t)||i(B,t)){var n=C(e,t);return!n||!i(F,t)||i(e,N)&&e[N][t]||(n.enumerable=!0),n}},Z=function(e){for(var t,n=M(_(e)),r=[],o=0;n.length>o;)i(F,t=n[o++])||t==N||t==l||r.push(t);return r},Q=function(e){for(var t,n=e===z,r=M(n?B:_(e)),o=[],a=0;r.length>a;)!i(F,t=r[a++])||n&&!i(z,t)||o.push(F[t]);return o};H||(s((P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function t(n){this===z&&t.call(B,n),i(this,N)&&i(this[N],e)&&(this[N][e]=!1),G(this,e,w(1,n))};return o&&V&&G(z,e,{configurable:!0,set:t}),W(e)}).prototype,"toString",(function(){return this._k})),S.f=K,k.f=Y,n(323).f=T.f=Z,n(130).f=$,n(239).f=Q,o&&!n(76)&&s(z,"propertyIsEnumerable",$,!0),p.f=function(e){return W(h(e))}),a(a.G+a.W+a.F*!H,{Symbol:P});for(var J="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;J.length>ee;)h(J[ee++]);for(var te=O(h.store),ne=0;te.length>ne;)m(te[ne++]);a(a.S+a.F*!H,"Symbol",{for:function(e){return i(j,e+="")?j[e]:j[e]=P(e)},keyFor:function(e){if(!q(e))throw TypeError(e+" is not a symbol!");for(var t in j)if(j[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),a(a.S+a.F*!H,"Object",{create:function(e,t){return void 0===t?E(e):X(E(e),t)},defineProperty:Y,defineProperties:X,getOwnPropertyDescriptor:K,getOwnPropertyNames:Z,getOwnPropertySymbols:Q}),I&&a(a.S+a.F*(!H||u((function(){var e=P();return"[null]"!=D([e])||"{}"!=D({a:e})||"{}"!=D(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(b(t)||void 0!==e)&&!q(e))return g(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!q(t))return t}),r[1]=t,D.apply(I,r)}}),P.prototype[R]||n(39)(P.prototype,R,P.prototype.valueOf),f(P,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e,t,n){var r=n(74),i=n(239),o=n(130);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),l=o.f,u=0;s.length>u;)l.call(e,a=s[u++])&&t.push(a);return t}},function(e,t,n){var r=n(47),i=n(323).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(t){return a.slice()}}(e):i(r(e))}},function(e,t,n){n(242)("asyncIterator")},function(e,t,n){n(242)("observable")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DATATYPE_TO_TRACK_TYPE=void 0;var r=n(11),i=t.DATATYPE_TO_TRACK_TYPE=function(e){var t={};return r.TRACKS_INFO.filter((function(t){return t.orientation===e})).forEach((function(e){var n=e.datatype;Array.isArray(e.datatype)||(n=[n]),n.forEach((function(n){n in t||(t[n]=[]),t[n].push(e)}))})),t.none=[],t};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.HEATED_OBJECT_MAP=[[0,0,0,255],[35,0,0,255],[52,0,0,255],[60,0,0,255],[63,1,0,255],[64,2,0,255],[68,5,0,255],[69,6,0,255],[72,8,0,255],[74,10,0,255],[77,12,0,255],[78,14,0,255],[81,16,0,255],[83,17,0,255],[85,19,0,255],[86,20,0,255],[89,22,0,255],[91,24,0,255],[92,25,0,255],[94,26,0,255],[95,28,0,255],[98,30,0,255],[100,31,0,255],[102,33,0,255],[103,34,0,255],[105,35,0,255],[106,36,0,255],[108,38,0,255],[109,39,0,255],[111,40,0,255],[112,42,0,255],[114,43,0,255],[115,44,0,255],[117,45,0,255],[119,47,0,255],[119,47,0,255],[120,48,0,255],[122,49,0,255],[123,51,0,255],[125,52,0,255],[125,52,0,255],[126,53,0,255],[128,54,0,255],[129,56,0,255],[129,56,0,255],[131,57,0,255],[132,58,0,255],[134,59,0,255],[134,59,0,255],[136,61,0,255],[137,62,0,255],[137,62,0,255],[139,63,0,255],[139,63,0,255],[140,65,0,255],[142,66,0,255],[142,66,0,255],[143,67,0,255],[143,67,0,255],[145,68,0,255],[145,68,0,255],[146,70,0,255],[146,70,0,255],[148,71,0,255],[148,71,0,255],[149,72,0,255],[149,72,0,255],[151,73,0,255],[151,73,0,255],[153,75,0,255],[153,75,0,255],[154,76,0,255],[154,76,0,255],[154,76,0,255],[156,77,0,255],[156,77,0,255],[157,79,0,255],[157,79,0,255],[159,80,0,255],[159,80,0,255],[159,80,0,255],[160,81,0,255],[160,81,0,255],[162,82,0,255],[162,82,0,255],[163,84,0,255],[163,84,0,255],[165,85,0,255],[165,85,0,255],[166,86,0,255],[166,86,0,255],[166,86,0,255],[168,87,0,255],[168,87,0,255],[170,89,0,255],[170,89,0,255],[171,90,0,255],[171,90,0,255],[173,91,0,255],[173,91,0,255],[174,93,0,255],[174,93,0,255],[176,94,0,255],[176,94,0,255],[177,95,0,255],[177,95,0,255],[179,96,0,255],[179,96,0,255],[180,98,0,255],[182,99,0,255],[182,99,0,255],[183,100,0,255],[183,100,0,255],[185,102,0,255],[185,102,0,255],[187,103,0,255],[187,103,0,255],[188,104,0,255],[188,104,0,255],[190,105,0,255],[191,107,0,255],[191,107,0,255],[193,108,0,255],[193,108,0,255],[194,109,0,255],[196,110,0,255],[196,110,0,255],[197,112,0,255],[197,112,0,255],[199,113,0,255],[200,114,0,255],[200,114,0,255],[202,116,0,255],[202,116,0,255],[204,117,0,255],[205,118,0,255],[205,118,0,255],[207,119,0,255],[208,121,0,255],[208,121,0,255],[210,122,0,255],[211,123,0,255],[211,123,0,255],[213,124,0,255],[214,126,0,255],[214,126,0,255],[216,127,0,255],[217,128,0,255],[217,128,0,255],[219,130,0,255],[221,131,0,255],[221,131,0,255],[222,132,0,255],[224,133,0,255],[224,133,0,255],[225,135,0,255],[227,136,0,255],[227,136,0,255],[228,137,0,255],[230,138,0,255],[230,138,0,255],[231,140,0,255],[233,141,0,255],[233,141,0,255],[234,142,0,255],[236,144,0,255],[236,144,0,255],[238,145,0,255],[239,146,0,255],[241,147,0,255],[241,147,0,255],[242,149,0,255],[244,150,0,255],[244,150,0,255],[245,151,0,255],[247,153,0,255],[247,153,0,255],[248,154,0,255],[250,155,0,255],[251,156,0,255],[251,156,0,255],[253,158,0,255],[255,159,0,255],[255,159,0,255],[255,160,0,255],[255,161,0,255],[255,163,0,255],[255,163,0,255],[255,164,0,255],[255,165,0,255],[255,167,0,255],[255,167,0,255],[255,168,0,255],[255,169,0,255],[255,169,0,255],[255,170,0,255],[255,172,0,255],[255,173,0,255],[255,173,0,255],[255,174,0,255],[255,175,0,255],[255,177,0,255],[255,178,0,255],[255,179,0,255],[255,181,0,255],[255,181,0,255],[255,182,0,255],[255,183,0,255],[255,184,0,255],[255,187,7,255],[255,188,10,255],[255,189,14,255],[255,191,18,255],[255,192,21,255],[255,193,25,255],[255,195,29,255],[255,197,36,255],[255,198,40,255],[255,200,43,255],[255,202,51,255],[255,204,54,255],[255,206,61,255],[255,207,65,255],[255,210,72,255],[255,211,76,255],[255,214,83,255],[255,216,91,255],[255,219,98,255],[255,221,105,255],[255,223,109,255],[255,225,116,255],[255,228,123,255],[255,232,134,255],[255,234,142,255],[255,237,149,255],[255,239,156,255],[255,240,160,255],[255,243,167,255],[255,246,174,255],[255,248,182,255],[255,249,185,255],[255,252,193,255],[255,253,196,255],[255,255,204,255],[255,255,207,255],[255,255,211,255],[255,255,218,255],[255,255,222,255],[255,255,225,255],[255,255,229,255],[255,255,233,255],[255,255,236,255],[255,255,240,255],[255,255,244,255],[255,255,247,255],[255,255,255,0]];t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IS_TRACK_RANGE_SELECTABLE=void 0;var r=n(10),i=t.IS_TRACK_RANGE_SELECTABLE=function e(t){switch(t.type){case"heatmap":case"horizontal-1d-heatmap":case"horizontal-bar":case"horizontal-line":case"horizontal-point":case"vertical-1d-heatmap":case"vertical-bar":case"vertical-line":case"vertical-point":case"horizontal-1d-tiles":case"vertical-1d-tiles":case"2d-tiles":case"horizontal-gene-annotations":case"vertical-gene-annotations":case"horizontal-heatmap":case"vertical-heatmap":case"osm-tiles":case"mapbox-tiles":case"horizontal-multivec":return!0;case"combined":return t.contents.map((function(t){return e(t)})).reduce(r.or,!1);default:return!1}};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OPTIONS_INFO=void 0;var r=c(n(19)),i=c(n(40)),o=c(n(16)),a=c(n(44)),s=c(n(51)),l=n(18),u=c(n(550));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){if(!e.header)return[];for(var t=e.header.split("\t"),n=[],r=0;r<t.length;r++)n.push({name:t[r],value:r+1});return n},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e.reduce((function(e,r){return e[r]={name:""+r*n+String(t),value:r},e}),{})},h={yes:{name:"Yes",value:!0},no:{name:"No",value:!1}},p={black:{name:"Black",value:"black"},blue:{name:"Blue",value:"blue"},brown:{name:"Brown",value:"brown"},cyan:{name:"Cyan",value:"cyan"},green:{name:"Green",value:"green"},grey:{name:"Grey",value:"grey"},orange:{name:"Orange",value:"orange"},purple:{name:"Purple",value:"purple"},turquoise:{name:"Turquoise",value:"turquoise"},red:{name:"Red",value:"red"},white:{name:"White",value:"white"}},m=d([1,2,3,5,8,13,21]),v=(0,s.default)(m,{none:{name:"none",value:"none"}}),g=d([0,2,4,8,16,32,64,128,256]),y=d([0,.2,.4,.6,.8,1],"%",100),b=d([.2,.4,.6,.8,1],"%",100),_=t.OPTIONS_INFO={axisLabelFormatting:{name:"Axis Label Formatting",inlineOptions:{normal:{name:"normal",value:"normal"},scientific:{name:"scientific",value:"scientific"}}},flipDiagonal:{name:"Flip Across Diagonal",inlineOptions:{none:{name:"No",value:"none"},yes:{name:"Yes",value:"yes"},copy:{name:"Copy",value:"copy"}}},heatmapValueScaling:{name:"Value Scaling",inlineOptions:{linear:{name:"Linear",value:"linear"},log:{name:"Log",value:"log"}}},valueScaling:{name:"Value Scaling",inlineOptions:{linear:{name:"Linear",value:"linear"},log:{name:"Log",value:"log"}}},extent:{name:"Extent",inlineOptions:{full:{name:"Full",value:"full"},upperRight:{name:"Upper Right",value:"upper-right"},lowerLeft:{name:"Lower Left",value:"lower-left"}}},labelLeftMargin:{name:"Label Left Margin",inlineOptions:g},labelRightMargin:{name:"Label Right Margin",inlineOptions:g},labelTopMargin:{name:"Label Top Margin",inlineOptions:g},labelBottomMargin:{name:"Label Bottom Margin",inlineOptions:g},labelShowResolution:{name:"Label Show Resolution",inlineOptions:h},labelShowAssembly:{name:"Label Show Assembly",inlineOptions:h},lineStrokeWidth:{name:"Stroke Width",inlineOptions:m},strokeWidth:{name:"Stroke Width",inlineOptions:m},trackBorderWidth:{name:"Track Border Width",inlineOptions:m},sortLargestOnTop:{name:"Sort Largest On Top",inlineOptions:h},showTexts:{name:"Show texts",inlineOptions:h},staggered:{name:"Staggered",inlineOptions:h},minSquareSize:{name:"Minimum size",inlineOptions:v},pointSize:{name:"Point Size",inlineOptions:m},pointColor:{name:"Point Color",inlineOptions:p},trackBorderColor:{name:"Track Border Color",inlineOptions:p},backgroundColor:{name:"Background Color",inlineOptions:{white:{name:"White",value:"white"},lightGrey:{name:"Light Grey",value:"#eeeeee"},grey:{name:"Grey",value:"#cccccc"},black:{name:"Black",value:"black"},transparent:{name:"Transparent",value:"transparent"}}},colorScale:{name:"Color Scale",inlineOptions:{epilogos:{name:"Epilogos",values:["#FF0000","#FF4500","#32CD32","#008000","#006400","#C2E105","#FFFF00","#66CDAA","#8A91D0","#CD5C5C","#E9967A","#BDB76B","#808080","#C0C0C0","#FFFFFF"]},category10:{name:"D3 Category10",values:["#1F77B4","#FF7F0E","#2CA02C","#D62728","#9467BD","#8C564B","#E377C2","#7F7F7F","#BCBD22","#17BECF"]}}},minusStrandColor:{name:"- Strand Color",inlineOptions:p},plusStrandColor:{name:"+ Strand Color",inlineOptions:p},lineStrokeColor:{name:"Stroke color",inlineOptions:p},projectionStrokeColor:{name:"Stroke color",inlineOptions:p},projectionFillColor:{name:"Fill color",inlineOptions:p},stroke:{name:"Stroke Color",inlineOptions:p},strokeColor:{name:"Stroke color",inlineOptions:p},fill:{name:"Fill Color",inlineOptions:p},color:{name:"Color",inlineOptions:p},fontColor:{name:"Font color",inlineOptions:p},fillColor:{name:"Fill color",inlineOptions:p},barFillColor:{name:"Fill color",inlineOptions:p},barFillColorTop:{name:"Top Fill color",inlineOptions:p},barFillColorBottom:{name:"Bottom Fill color",inlineOptions:p},barOpacity:{name:"Bar opacity",inlineOptions:y},zeroLineVisible:{name:"Zero line visible",inlineOptions:h},zeroLineColor:{name:"Zero line color",inlineOptions:p},zeroLineOpacity:{name:"Zero line opacity",inlineOptions:b},fillOpacity:{name:"Fill Opacity",inlineOptions:y},strokeOpacity:{name:"Stroke Opacity",inlineOptions:y},strokePos:{name:"Stroke Position",inlineOptions:{aroundInner:{name:"Around Inner",value:"around"},aroundCenter:{name:"Around Center",value:null},hidden:{name:"Hidden",value:"hidden"},top:{name:"Top",value:"top"},right:{name:"Right",value:"right"},bottom:{name:"Bottom",value:"bottom"},left:{name:"Left",value:"left"}}},barBorder:{name:"Bar border",inlineOptions:h},scaledHeight:{name:"Scaled height",inlineOptions:h},rectangleDomainStrokeColor:{name:"Stroke color",inlineOptions:p},rectangleDomainFillColor:{name:"Fill color",inlineOptions:p},rectangleDomainOpacity:{name:"Opacity",inlineOptions:y},mapboxStyle:{name:"Map style",inlineOptions:{streets:{name:"streets",value:"mapbox.streets"},light:{name:"light",value:"mapbox.light"},dark:{name:"dark",value:"mapbox.dark"},satellite:{name:"satellite",value:"mapbox.satellite"},"streets-satellite":{name:"streets-satellite",value:"mapbox.streets-satellite"},wheatpaste:{name:"wheatpaste",value:"mapbox.wheatpaste"},"streets-basic":{name:"streets-basic",value:"mapbox.streets-basic"},comic:{name:"comic",value:"mapbox.comic"},outdoors:{name:"outdoors",value:"mapbox.outdoors"},"run-bike-hike":{name:"run-bike-hike",value:"mapbox.run-bike-hike"},pencil:{name:"pencil",value:"mapbox.pencil"},pirates:{name:"pirates",value:"mapbox.pirates"},emerald:{name:"emerald",value:"mapbox.emerald"},"high-contrast":{name:"high-contrast",value:"mapbox.high-contrast"}}},oneDHeatmapFlipped:{name:"Flip Heatmap",inlineOptions:{yes:{name:"Yes",value:"yes"},no:{name:"No",value:null}}},showMousePosition:{name:"Show Mouse Position",inlineOptions:h},showTooltip:{name:"Show Tooltip",inlineOptions:h},fontSize:{name:"Font Size",inlineOptions:d([8,9,10,11,12,14,16,18,24],"px")},tickPositions:{name:"Tick Positions",inlineOptions:{even:{name:"Even",value:"even"},ends:{name:"Ends",value:"ends"}}},tickFormat:{name:"Tick Format",inlineOptions:{plain:{name:"Plain",value:"plain"},si:{name:"SI",value:"si"}}},colorEncoding:{name:"Color Encode Annotations",inlineOptions:{none:{name:"None",value:null},itemRgb:{name:"itemRgb",value:"itemRgb"}},generateOptions:f},fontIsAligned:{name:"Left-Align Font",inlineOptions:h},axisPositionHorizontal:{name:"Axis Position",inlineOptions:{left:{name:"Left",value:"left"},outsideLeft:{name:"Outside left",value:"outsideLeft"},right:{name:"Right",value:"right"},outsideRight:{name:"Outside right",value:"outsideRight"},hidden:{name:"Hidden",value:null}}},axisPositionVertical:{name:"Axis Position",inlineOptions:{top:{name:"Top",value:"top"},outsideTop:{name:"Outside top",value:"outsideTop"},bottom:{name:"Bottom",value:"bottom"},outsideBottom:{name:"Outside bottom",value:"outsideBottom"},hidden:{name:"Hidden",value:null}}},axisMargin:{name:"Axis Margin",inlineOptions:d([0,10,20,30,40,50,100,200,400],"px")},colorbarPosition:{name:"Colorbar Position",inlineOptions:{topLeft:{name:"Top Left",value:"topLeft"},topRight:{name:"Top Right",value:"topRight"},bottomLeft:{name:"Bottom Left",value:"bottomLeft"},bottomRight:{name:"Bottom Right",value:"bottomRight"},hidden:{name:"Hidden",value:null}}},colorbarBackgroundColor:{name:"Colorbar Background Color",inlineOptions:p},colorbarBackgroundOpacity:{name:"Colorbar Background Opacity",inlineOptions:y},colorbarLabelsPosition:{name:"Colorbar Labels Position",inlineOptions:{inside:{name:"Inside",value:"inside"},outside:{name:"Outside",value:"outside"}}},labelColor:{name:"Label Color",inlineOptions:(0,a.default)({},p,{use_stroke:{name:"Glyph color",value:"[glyph-color]"}})},labelPosition:{name:"Label Position",inlineOptions:{ol:{name:"Outer left",value:"outerLeft"},or:{name:"Outer right",value:"outerRight"},ot:{name:"Outer top",value:"outerTop"},ob:{name:"Outer bottom",value:"outerBottom"},tl:{name:"Top left",value:"topLeft"},tr:{name:"Top right",value:"topRight"},bl:{name:"Bottom left",value:"bottomLeft"},br:{name:"Bottom right",value:"bottomRight"},hidden:{name:"Hidden",value:"hidden"}}},labelTextOpacity:{name:"Label Text Opacity",inlineOptions:y},geneAnnotationHeight:{name:"Gene Annotation Height",inlineOptions:{8:{name:"8px",value:8},10:{name:"10px",value:10},12:{name:"12px",value:12},16:{name:"16px",value:16}}},annotationHeight:{name:"Annotation Height",inlineOptions:{5:{name:"5px",value:5},8:{name:"8px",value:8},10:{name:"10px",value:10},12:{name:"12px",value:12},16:{name:"16px",value:16},20:{name:"20px",value:20},scaled:{name:"scaled",value:"scaled"}}},maxAnnotationHeight:{name:"Max Annotation Height",inlineOptions:{5:{name:"5px",value:5},8:{name:"8px",value:8},10:{name:"10px",value:10},12:{name:"12px",value:12},16:{name:"16px",value:16},20:{name:"20px",value:20},none:{name:"none",value:null}}},annotationStyle:{name:"Annotation Style",inlineOptions:{box:{name:"Box",value:"box"},segment:{name:"Segment",value:"segment"}}},geneLabelPosition:{name:"Gene Label Position",inlineOptions:{inside:{name:"Inside",value:"inside"},outside:{name:"Outside",value:"outside"}}},geneStrandSpacing:{name:"Gene Strand Spacing",inlineOptions:{2:{name:"2px",value:2},4:{name:"4px",value:4},8:{name:"8px",value:8}}},labelBackgroundColor:{name:"Label Background Color",inlineOptions:p},labelBackgroundOpacity:{name:"Label Background Opacity",inlineOptions:y},viewResolution:{name:"View Resolution",inlineOptions:{high:{name:"High",value:384},medium:{name:"Medium",value:1024},low:{name:"Low",value:2048}}},colorRange:{name:"Color map",inlineOptions:{afmhot:{name:"afmhot",value:["rgba(0,0,0,1.0)","rgba(128,0,0,1.0)","rgba(256,129,1,1.0)","rgba(256,256,129,1.0)","rgba(256,256,256,1.0)"]},fall:{name:"fall",value:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"]},hot:{name:"hot",value:["rgba(10,0,0,1.0)","rgba(179,0,0,1.0)","rgba(256,91,0,1.0)","rgba(256,256,6,1.0)","rgba(256,256,256,1.0)"]},jet:{name:"jet",value:["rgba(0,0,128,1.0)","rgba(0,129,256,1.0)","rgba(125,256,122,1.0)","rgba(256,148,0,1.0)","rgba(128,0,0,1.0)"]},bwr:{name:"bwr",value:["rgba(0,0,256,1.0)","rgba(128,128,256,1.0)","rgba(256,254,254,1.0)","rgba(256,126,126,1.0)","rgba(256,0,0,1.0)"]},cubehelix:{name:"cubehelix",value:["rgba(0,0,0,1.0)","rgba(21,83,76,1.0)","rgba(162,121,74,1.0)","rgba(199,180,238,1.0)","rgba(256,256,256,1.0)"]},rainbow:{name:"rainbow",value:["rgba(128,0,256,1.0)","rgba(0,181,236,1.0)","rgba(129,255,180,1.0)","rgba(256,179,96,1.0)","rgba(256,0,0,1.0)"]},gray:{name:"greys",value:["rgba(255,255,255,1)","rgba(0,0,0,1)"]},red:{name:"White to red",value:["rgba(255,255,255,1)","rgba(255,0,0,1)"]},green:{name:"White to green",value:["rgba(255,255,255,1)","rgba(0,255,0,1)"]},blue:{name:"White to blue",value:["rgba(255,255,255,1)","rgba(0,0,255,1)"]},custard:{name:"custard",value:["#FFFFFF","#F8E71C","rgba(245,166,35,1)","rgba(0,0,0,1)"]},magma:{name:"magma",value:["rgba(0,0,3,1)","rgba(0,0,4,1)","rgba(0,0,6,1)","rgba(1,0,7,1)","rgba(1,1,9,1)","rgba(1,1,11,1)","rgba(2,2,13,1)","rgba(2,2,15,1)","rgba(3,3,17,1)","rgba(4,3,19,1)","rgba(4,4,21,1)","rgba(5,4,23,1)","rgba(6,5,25,1)","rgba(7,5,27,1)","rgba(8,6,29,1)","rgba(9,7,32,1)","rgba(10,7,34,1)","rgba(11,8,36,1)","rgba(12,9,38,1)","rgba(13,10,40,1)","rgba(14,10,42,1)","rgba(15,11,45,1)","rgba(16,12,47,1)","rgba(17,12,49,1)","rgba(19,13,51,1)","rgba(20,13,54,1)","rgba(21,14,56,1)","rgba(22,14,58,1)","rgba(23,15,61,1)","rgba(25,15,63,1)","rgba(26,16,66,1)","rgba(27,16,68,1)","rgba(28,16,70,1)","rgba(30,17,73,1)","rgba(31,17,75,1)","rgba(33,17,78,1)","rgba(34,17,80,1)","rgba(36,17,83,1)","rgba(37,17,85,1)","rgba(39,17,87,1)","rgba(40,17,90,1)","rgba(42,17,92,1)","rgba(43,17,94,1)","rgba(45,17,97,1)","rgba(47,16,99,1)","rgba(49,16,101,1)","rgba(50,16,103,1)","rgba(52,16,105,1)","rgba(54,15,107,1)","rgba(55,15,108,1)","rgba(57,15,110,1)","rgba(59,15,112,1)","rgba(61,15,113,1)","rgba(62,15,114,1)","rgba(64,15,116,1)","rgba(66,15,117,1)","rgba(67,15,118,1)","rgba(69,15,119,1)","rgba(71,15,120,1)","rgba(72,16,120,1)","rgba(74,16,121,1)","rgba(76,16,122,1)","rgba(77,17,123,1)","rgba(79,17,123,1)","rgba(81,18,124,1)","rgba(82,18,124,1)","rgba(84,19,125,1)","rgba(85,20,125,1)","rgba(87,20,126,1)","rgba(88,21,126,1)","rgba(90,21,126,1)","rgba(92,22,127,1)","rgba(93,23,127,1)","rgba(95,23,127,1)","rgba(96,24,128,1)","rgba(98,25,128,1)","rgba(99,25,128,1)","rgba(101,26,128,1)","rgba(103,26,128,1)","rgba(104,27,129,1)","rgba(106,28,129,1)","rgba(107,28,129,1)","rgba(109,29,129,1)","rgba(110,30,129,1)","rgba(112,30,129,1)","rgba(113,31,129,1)","rgba(115,32,129,1)","rgba(117,32,129,1)","rgba(118,33,129,1)","rgba(120,33,129,1)","rgba(121,34,130,1)","rgba(123,35,130,1)","rgba(124,35,130,1)","rgba(126,36,130,1)","rgba(128,36,130,1)","rgba(129,37,129,1)","rgba(131,37,129,1)","rgba(132,38,129,1)","rgba(134,39,129,1)","rgba(136,39,129,1)","rgba(137,40,129,1)","rgba(139,40,129,1)","rgba(140,41,129,1)","rgba(142,41,129,1)","rgba(144,42,129,1)","rgba(145,42,129,1)","rgba(147,43,128,1)","rgba(148,43,128,1)","rgba(150,44,128,1)","rgba(152,44,128,1)","rgba(153,45,128,1)","rgba(155,46,127,1)","rgba(157,46,127,1)","rgba(158,47,127,1)","rgba(160,47,127,1)","rgba(161,48,126,1)","rgba(163,48,126,1)","rgba(165,49,126,1)","rgba(166,49,125,1)","rgba(168,50,125,1)","rgba(170,50,125,1)","rgba(171,51,124,1)","rgba(173,51,124,1)","rgba(175,52,123,1)","rgba(176,52,123,1)","rgba(178,53,123,1)","rgba(180,53,122,1)","rgba(181,54,122,1)","rgba(183,55,121,1)","rgba(185,55,121,1)","rgba(186,56,120,1)","rgba(188,56,120,1)","rgba(189,57,119,1)","rgba(191,57,118,1)","rgba(193,58,118,1)","rgba(194,59,117,1)","rgba(196,59,117,1)","rgba(198,60,116,1)","rgba(199,61,115,1)","rgba(201,61,115,1)","rgba(202,62,114,1)","rgba(204,63,113,1)","rgba(206,63,113,1)","rgba(207,64,112,1)","rgba(209,65,111,1)","rgba(210,66,110,1)","rgba(212,67,110,1)","rgba(213,67,109,1)","rgba(215,68,108,1)","rgba(216,69,107,1)","rgba(218,70,107,1)","rgba(219,71,106,1)","rgba(221,72,105,1)","rgba(222,73,104,1)","rgba(223,74,103,1)","rgba(225,75,103,1)","rgba(226,76,102,1)","rgba(227,78,101,1)","rgba(229,79,100,1)","rgba(230,80,100,1)","rgba(231,81,99,1)","rgba(232,83,98,1)","rgba(233,84,97,1)","rgba(234,85,97,1)","rgba(236,87,96,1)","rgba(237,88,95,1)","rgba(238,90,95,1)","rgba(239,91,94,1)","rgba(239,93,94,1)","rgba(240,95,93,1)","rgba(241,96,93,1)","rgba(242,98,93,1)","rgba(243,100,92,1)","rgba(243,101,92,1)","rgba(244,103,92,1)","rgba(245,105,92,1)","rgba(246,107,92,1)","rgba(246,108,92,1)","rgba(247,110,92,1)","rgba(247,112,92,1)","rgba(248,114,92,1)","rgba(248,116,92,1)","rgba(249,118,92,1)","rgba(249,120,92,1)","rgba(250,121,93,1)","rgba(250,123,93,1)","rgba(250,125,94,1)","rgba(251,127,94,1)","rgba(251,129,95,1)","rgba(251,131,95,1)","rgba(252,133,96,1)","rgba(252,135,97,1)","rgba(252,137,97,1)","rgba(252,139,98,1)","rgba(253,140,99,1)","rgba(253,142,100,1)","rgba(253,144,101,1)","rgba(253,146,102,1)","rgba(253,148,103,1)","rgba(254,150,104,1)","rgba(254,152,105,1)","rgba(254,154,106,1)","rgba(254,156,107,1)","rgba(254,157,108,1)","rgba(254,159,109,1)","rgba(254,161,110,1)","rgba(254,163,111,1)","rgba(254,165,112,1)","rgba(255,167,114,1)","rgba(255,169,115,1)","rgba(255,171,116,1)","rgba(255,172,118,1)","rgba(255,174,119,1)","rgba(255,176,120,1)","rgba(255,178,122,1)","rgba(255,180,123,1)","rgba(255,182,124,1)","rgba(255,184,126,1)","rgba(255,185,127,1)","rgba(255,187,129,1)","rgba(255,189,130,1)","rgba(255,191,132,1)","rgba(255,193,133,1)","rgba(255,195,135,1)","rgba(255,197,136,1)","rgba(255,198,138,1)","rgba(255,200,140,1)","rgba(255,202,141,1)","rgba(255,204,143,1)","rgba(254,206,144,1)","rgba(254,208,146,1)","rgba(254,209,148,1)","rgba(254,211,149,1)","rgba(254,213,151,1)","rgba(254,215,153,1)","rgba(254,217,155,1)","rgba(254,219,156,1)","rgba(254,220,158,1)","rgba(254,222,160,1)","rgba(254,224,162,1)","rgba(254,226,163,1)","rgba(253,228,165,1)","rgba(253,230,167,1)","rgba(253,231,169,1)","rgba(253,233,171,1)","rgba(253,235,172,1)","rgba(253,237,174,1)","rgba(253,239,176,1)","rgba(253,241,178,1)","rgba(253,242,180,1)","rgba(253,244,182,1)","rgba(253,246,184,1)","rgba(252,248,186,1)","rgba(252,250,188,1)","rgba(252,251,189,1)","rgba(252,253,191,1)"]},viridis:{name:"viridis",value:["rgba(68,1,84,1)","rgba(68,2,85,1)","rgba(69,3,87,1)","rgba(69,5,88,1)","rgba(69,6,90,1)","rgba(70,8,91,1)","rgba(70,9,93,1)","rgba(70,11,94,1)","rgba(70,12,96,1)","rgba(71,14,97,1)","rgba(71,15,98,1)","rgba(71,17,100,1)","rgba(71,18,101,1)","rgba(71,20,102,1)","rgba(72,21,104,1)","rgba(72,22,105,1)","rgba(72,24,106,1)","rgba(72,25,108,1)","rgba(72,26,109,1)","rgba(72,28,110,1)","rgba(72,29,111,1)","rgba(72,30,112,1)","rgba(72,32,113,1)","rgba(72,33,115,1)","rgba(72,34,116,1)","rgba(72,36,117,1)","rgba(72,37,118,1)","rgba(72,38,119,1)","rgba(72,39,120,1)","rgba(71,41,121,1)","rgba(71,42,121,1)","rgba(71,43,122,1)","rgba(71,44,123,1)","rgba(71,46,124,1)","rgba(70,47,125,1)","rgba(70,48,126,1)","rgba(70,49,126,1)","rgba(70,51,127,1)","rgba(69,52,128,1)","rgba(69,53,129,1)","rgba(69,54,129,1)","rgba(68,56,130,1)","rgba(68,57,131,1)","rgba(68,58,131,1)","rgba(67,59,132,1)","rgba(67,60,132,1)","rgba(67,62,133,1)","rgba(66,63,133,1)","rgba(66,64,134,1)","rgba(65,65,134,1)","rgba(65,66,135,1)","rgba(65,67,135,1)","rgba(64,69,136,1)","rgba(64,70,136,1)","rgba(63,71,136,1)","rgba(63,72,137,1)","rgba(62,73,137,1)","rgba(62,74,137,1)","rgba(61,75,138,1)","rgba(61,77,138,1)","rgba(60,78,138,1)","rgba(60,79,138,1)","rgba(59,80,139,1)","rgba(59,81,139,1)","rgba(58,82,139,1)","rgba(58,83,139,1)","rgba(57,84,140,1)","rgba(57,85,140,1)","rgba(56,86,140,1)","rgba(56,87,140,1)","rgba(55,88,140,1)","rgba(55,89,140,1)","rgba(54,91,141,1)","rgba(54,92,141,1)","rgba(53,93,141,1)","rgba(53,94,141,1)","rgba(52,95,141,1)","rgba(52,96,141,1)","rgba(51,97,141,1)","rgba(51,98,141,1)","rgba(51,99,141,1)","rgba(50,100,142,1)","rgba(50,101,142,1)","rgba(49,102,142,1)","rgba(49,103,142,1)","rgba(48,104,142,1)","rgba(48,105,142,1)","rgba(47,106,142,1)","rgba(47,107,142,1)","rgba(47,108,142,1)","rgba(46,109,142,1)","rgba(46,110,142,1)","rgba(45,111,142,1)","rgba(45,112,142,1)","rgba(45,112,142,1)","rgba(44,113,142,1)","rgba(44,114,142,1)","rgba(43,115,142,1)","rgba(43,116,142,1)","rgba(43,117,142,1)","rgba(42,118,142,1)","rgba(42,119,142,1)","rgba(41,120,142,1)","rgba(41,121,142,1)","rgba(41,122,142,1)","rgba(40,123,142,1)","rgba(40,124,142,1)","rgba(40,125,142,1)","rgba(39,126,142,1)","rgba(39,127,142,1)","rgba(38,128,142,1)","rgba(38,129,142,1)","rgba(38,130,142,1)","rgba(37,131,142,1)","rgba(37,131,142,1)","rgba(37,132,142,1)","rgba(36,133,142,1)","rgba(36,134,142,1)","rgba(35,135,142,1)","rgba(35,136,142,1)","rgba(35,137,142,1)","rgba(34,138,141,1)","rgba(34,139,141,1)","rgba(34,140,141,1)","rgba(33,141,141,1)","rgba(33,142,141,1)","rgba(33,143,141,1)","rgba(32,144,141,1)","rgba(32,145,140,1)","rgba(32,146,140,1)","rgba(32,147,140,1)","rgba(31,147,140,1)","rgba(31,148,140,1)","rgba(31,149,139,1)","rgba(31,150,139,1)","rgba(31,151,139,1)","rgba(30,152,139,1)","rgba(30,153,138,1)","rgba(30,154,138,1)","rgba(30,155,138,1)","rgba(30,156,137,1)","rgba(30,157,137,1)","rgba(30,158,137,1)","rgba(30,159,136,1)","rgba(30,160,136,1)","rgba(31,161,136,1)","rgba(31,162,135,1)","rgba(31,163,135,1)","rgba(31,163,134,1)","rgba(32,164,134,1)","rgba(32,165,134,1)","rgba(33,166,133,1)","rgba(33,167,133,1)","rgba(34,168,132,1)","rgba(35,169,131,1)","rgba(35,170,131,1)","rgba(36,171,130,1)","rgba(37,172,130,1)","rgba(38,173,129,1)","rgba(39,174,129,1)","rgba(40,175,128,1)","rgba(41,175,127,1)","rgba(42,176,127,1)","rgba(43,177,126,1)","rgba(44,178,125,1)","rgba(46,179,124,1)","rgba(47,180,124,1)","rgba(48,181,123,1)","rgba(50,182,122,1)","rgba(51,183,121,1)","rgba(53,183,121,1)","rgba(54,184,120,1)","rgba(56,185,119,1)","rgba(57,186,118,1)","rgba(59,187,117,1)","rgba(61,188,116,1)","rgba(62,189,115,1)","rgba(64,190,114,1)","rgba(66,190,113,1)","rgba(68,191,112,1)","rgba(70,192,111,1)","rgba(72,193,110,1)","rgba(73,194,109,1)","rgba(75,194,108,1)","rgba(77,195,107,1)","rgba(79,196,106,1)","rgba(81,197,105,1)","rgba(83,198,104,1)","rgba(85,198,102,1)","rgba(88,199,101,1)","rgba(90,200,100,1)","rgba(92,201,99,1)","rgba(94,201,98,1)","rgba(96,202,96,1)","rgba(98,203,95,1)","rgba(101,204,94,1)","rgba(103,204,92,1)","rgba(105,205,91,1)","rgba(108,206,90,1)","rgba(110,206,88,1)","rgba(112,207,87,1)","rgba(115,208,85,1)","rgba(117,208,84,1)","rgba(119,209,82,1)","rgba(122,210,81,1)","rgba(124,210,79,1)","rgba(127,211,78,1)","rgba(129,212,76,1)","rgba(132,212,75,1)","rgba(134,213,73,1)","rgba(137,213,72,1)","rgba(139,214,70,1)","rgba(142,215,68,1)","rgba(144,215,67,1)","rgba(147,216,65,1)","rgba(149,216,63,1)","rgba(152,217,62,1)","rgba(155,217,60,1)","rgba(157,218,58,1)","rgba(160,218,57,1)","rgba(163,219,55,1)","rgba(165,219,53,1)","rgba(168,220,51,1)","rgba(171,220,50,1)","rgba(173,221,48,1)","rgba(176,221,46,1)","rgba(179,221,45,1)","rgba(181,222,43,1)","rgba(184,222,41,1)","rgba(187,223,39,1)","rgba(189,223,38,1)","rgba(192,223,36,1)","rgba(195,224,35,1)","rgba(197,224,33,1)","rgba(200,225,32,1)","rgba(203,225,30,1)","rgba(205,225,29,1)","rgba(208,226,28,1)","rgba(211,226,27,1)","rgba(213,226,26,1)","rgba(216,227,25,1)","rgba(219,227,24,1)","rgba(221,227,24,1)","rgba(224,228,24,1)","rgba(226,228,24,1)","rgba(229,228,24,1)","rgba(232,229,25,1)","rgba(234,229,25,1)","rgba(237,229,26,1)","rgba(239,230,27,1)","rgba(242,230,28,1)","rgba(244,230,30,1)","rgba(247,230,31,1)","rgba(249,231,33,1)","rgba(251,231,35,1)","rgba(254,231,36,1)"]},custom:{name:"Custom...",componentPickers:{heatmap:u.default,"horizontal-heatmap":u.default}}}},align:{name:"Align",inlineOptions:{white:{name:"Top",value:"top"},lightGrey:{name:"Bottom",value:"bottom"}}},colorRangeGradient:{name:"Color Gradient",inlineOptions:h},dataTransform:{name:"Transforms",inlineOptions:{default:{name:"Default",value:"default"},None:{name:"None",value:"None"}},generateOptions:function(e){var t=[];if(e.transforms){var n=!0,r=!1,i=void 0;try{for(var a,s=(0,o.default)(e.transforms);!(n=(a=s.next()).done);n=!0){var l=a.value;t.push({name:l.name,value:l.value})}}catch(u){r=!0,i=u}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}}return t}},aggregationMode:{name:"Aggregation Mode",inlineOptions:{},generateOptions:function(e){var t=[];return e.aggregationModes?(0,i.default)(e.aggregationModes).forEach((function(e){var n=e.name,r=e.value;t.push({name:n,value:r})})):t.push({name:"Default",value:"default"}),t}},maxZoom:{name:"Zoom limit",inlineOptions:{none:{name:"None",value:null}},generateOptions:function(e){if(e.maxZoom){for(var t=[],n=0;n<=e.maxZoom;n++){var i=e.maxWidth,o=e.binsPerDimension,a=e.maxZoom,s=1,u=1;if(e.resolutions){var c=e.resolutions.map((function(e){return+e})).sort((function(e,t){return t-e}));s=(0,r.default)(c,1)[0],u=c[n]}else u=e.maxWidth/(Math.pow(2,n)*e.binsPerDimension),s=i/(Math.pow(2,a)*o);var f=(0,l.precisionPrefix)(s,u),d=(0,l.formatPrefix)("."+String(f),u)(u);t.push({name:d,value:n.toString()})}return t}return[]}},valueColumn:{name:"Value column",inlineOptions:{none:{name:"None",value:null}},generateOptions:f},zeroValueColor:{name:"Zero Value Color",inlineOptions:p}};t.default=_},function(e,t,n){n(548),e.exports=n(14).Object.values},function(e,t,n){var r=n(17),i=n(549)(!1);r(r.S,"Object",{values:function(e){return i(e)}})},function(e,t,n){var r=n(74),i=n(47),o=n(130).f;e.exports=function(e){return function(t){for(var n,a=i(t),s=r(a),l=s.length,u=0,c=[];l>u;)o.call(a,n=s[u++])&&c.push(e?[n,a[n]]:a[n]);return c}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=m(n(51)),i=m(n(45)),o=m(n(5)),a=m(n(3)),s=m(n(4)),l=m(n(6)),u=m(n(7)),c=m(n(2)),f=m(n(1)),d=n(325),h=m(n(244)),p=m(n(728));function m(e){return e&&e.__esModule?e:{default:e}}n(877);var v=function(e){function t(e){(0,a.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.state={colors:e.track.options.colorRange.slice()},n}return(0,u.default)(t,e),(0,s.default)(t,[{key:"handleColorsChanged",value:function(e){this.setState({colors:e})}},{key:"handleSubmit",value:function(){this.props.track.options.colorRange=this.state.colors,this.props.onSubmit(this.props.track.options)}},{key:"handleAddColor",value:function(){this.setState((function(e){return{colors:e.colors.concat(e.colors[e.colors.length-1])}}))}},{key:"handleRemoveColor",value:function(e){this.setState((function(t){return{colors:t.colors.slice(0,e).concat(t.colors.slice(e+1))}}))}},{key:"render",value:function(){var e=this,t=JSON.parse((0,i.default)(this.props.track)),n=(0,r.default)(t,{options:{colorRange:this.state.colors}}),o={editable:!1,zoomFixed:!0,views:[{uid:"hmo-"+String(this.props.track.uid),initialXDomain:this.props.xScale?this.props.xScale.domain():[0,1],initialYDomain:this.props.yScale?this.props.yScale.domain():[0,1],tracks:{center:[n]},layout:{x:0,y:0,h:12,w:12,i:"hmo-"+String(this.props.track.id)}}]},a=this.state.colors.map((function(t,n){var r=e.state.colors.length>2&&n===e.state.colors.length-1?f.default.createElement("div",{style:{background:"white",position:"absolute",top:0,right:0,opacity:1,width:14,height:14,borderRadius:2}},f.default.createElement("svg",{height:"10px",onClick:function(){return e.handleRemoveColor(n)},style:{position:"absolute",top:2,right:2,opacity:.5,width:10,height:10}},f.default.createElement("use",{xlinkHref:"#cross"}))):null;return f.default.createElement("td",{key:"l"+String(n),style:{border:"0px solid",position:"relative",outline:"none"}},r,f.default.createElement(p.default,{key:n,color:e.state.colors[n],onChange:function(t){e.setState((function(e){var r=e.colors.slice();return r[n]=t,{colors:r}}),(function(){e.handleColorsChanged(e.state.colors)}))}}))})),s=this.state.colors.length<4?f.default.createElement("td",{style:{border:"0px solid",position:"relative",outline:"none"}},f.default.createElement("div",{style:{height:24,marginLeft:5}},f.default.createElement("svg",{height:"10px",onClick:this.handleAddColor.bind(this),style:{opacity:.5},width:"10px"},f.default.createElement("use",{xlinkHref:"#plus"})))):null;return f.default.createElement(d.Modal,{className:"hg-modal",onHide:this.props.handleCancel,show:!0},f.default.createElement(d.Modal.Header,{closeButton:!0},f.default.createElement(d.Modal.Title,null,"Heatmap Options")),f.default.createElement(d.Modal.Body,null,f.default.createElement("table",{className:"table-track-options"},f.default.createElement("thead",null),f.default.createElement("tbody",null,f.default.createElement("tr",null,f.default.createElement("td",{className:"td-track-options"},"Colors")),f.default.createElement("tr",null,f.default.createElement("td",{className:"td-track-options"},f.default.createElement("table",null,f.default.createElement("tbody",null,f.default.createElement("tr",null,a,s))))),f.default.createElement("tr",null,f.default.createElement("td",{className:"td-track-options"},"Preview")),f.default.createElement("tr",null,f.default.createElement("td",{className:"td-track-options",rowSpan:"2"},f.default.createElement("div",{style:{width:200}},f.default.createElement(h.default,{options:{bounded:!1},viewConfig:o})))),f.default.createElement("tr",null)))),f.default.createElement(d.Modal.Footer,null,f.default.createElement(d.Button,{onClick:this.props.onCancel},"Cancel"),f.default.createElement(d.Button,{onClick:this.handleSubmit.bind(this)},"Submit")))}}]),t}(f.default.Component);v.propTypes={handleCancel:c.default.func,onCancel:c.default.func,onSubmit:c.default.func,track:c.default.object,xScale:c.default.object,yScale:c.default.object},t.default=v},function(e,t,n){var r=n(14),i=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},function(e,t,n){n(553),e.exports=n(14).Object.getPrototypeOf},function(e,t,n){var r=n(65),i=n(124);n(206)("getPrototypeOf",(function(){return function(e){return i(r(e))}}))},function(e,t,n){e.exports={default:n(555),__esModule:!0}},function(e,t,n){n(60),n(77),e.exports=n(167).f("iterator")},function(e,t,n){n(557),e.exports=n(14).Object.setPrototypeOf},function(e,t,n){var r=n(17);r(r.S,"Object",{setPrototypeOf:n(558).set})},function(e,t,n){var r=n(31),i=n(36),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(48)(Function.call,n(243).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(i){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e,t,n){e.exports={default:n(560),__esModule:!0}},function(e,t,n){n(561);var r=n(14).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){var r=n(17);r(r.S,"Object",{create:n(107)})},function(e,t,n){"use strict";var r=n(563);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){n(160),n(60),n(77),n(565),n(569),n(571),n(572),e.exports=n(14).Set},function(e,t,n){"use strict";var r=n(326),i=n(245);e.exports=n(327)("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return r.def(i(this,"Set"),e=0===e?0:e,e)}},r)},function(e,t,n){var r=n(48),i=n(122),o=n(65),a=n(88),s=n(567);e.exports=function(e,t){var n=1==e,l=2==e,u=3==e,c=4==e,f=6==e,d=5==e||f,h=t||s;return function(t,s,p){for(var m,v,g=o(t),y=i(g),b=r(s,p,3),_=a(y.length),x=0,w=n?h(t,_):l?h(t,0):void 0;_>x;x++)if((d||x in y)&&(v=b(m=y[x],x,g),e))if(n)w[x]=v;else if(v)switch(e){case 3:return!0;case 5:return m;case 6:return x;case 2:w.push(m)}else if(c)return!1;return f?-1:u||c?c:w}}},function(e,t,n){var r=n(568);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(31),i=n(322),o=n(20)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(17);r(r.P+r.R,"Set",{toJSON:n(328)("Set")})},function(e,t,n){var r=n(125);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(e,t,n){n(329)("Set")},function(e,t,n){n(330)("Set")},function(e,t,n){e.exports=n(331).default,e.exports.utils=n(132),e.exports.Responsive=n(578).default,e.exports.Responsive.utils=n(335),e.exports.WidthProvider=n(579).default},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=c(n(1)),o=c(n(2)),a=n(333),s=n(575),l=n(132),u=c(n(332));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var h=function(e){function t(){var n,r;f(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=d(this,e.call.apply(e,[this].concat(o))),r.state={resizing:null,dragging:null,className:""},d(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.calcColWidth=function(){var e=this.props,t=e.margin,n=e.containerPadding,r=e.containerWidth,i=e.cols;return(r-t[0]*(i-1)-2*n[0])/i},t.prototype.calcPosition=function(e,t,n,r,i){var o=this.props,a=o.margin,s=o.containerPadding,l=o.rowHeight,u=this.calcColWidth(),c={left:Math.round((u+a[0])*e+s[0]),top:Math.round((l+a[1])*t+s[1]),width:n===1/0?n:Math.round(u*n+Math.max(0,n-1)*a[0]),height:r===1/0?r:Math.round(l*r+Math.max(0,r-1)*a[1])};return i&&i.resizing&&(c.width=Math.round(i.resizing.width),c.height=Math.round(i.resizing.height)),i&&i.dragging&&(c.top=Math.round(i.dragging.top),c.left=Math.round(i.dragging.left)),c},t.prototype.calcXY=function(e,t){var n=this.props,r=n.margin,i=n.cols,o=n.rowHeight,a=n.w,s=n.h,l=n.maxRows,u=this.calcColWidth(),c=Math.round((t-r[0])/(u+r[0])),f=Math.round((e-r[1])/(o+r[1]));return{x:c=Math.max(Math.min(c,i-a),0),y:f=Math.max(Math.min(f,l-s),0)}},t.prototype.calcWH=function(e){var t=e.height,n=e.width,r=this.props,i=r.margin,o=r.maxRows,a=r.cols,s=r.rowHeight,l=r.x,u=r.y,c=this.calcColWidth(),f=Math.round((n+i[0])/(c+i[0])),d=Math.round((t+i[1])/(s+i[1]));return{w:f=Math.max(Math.min(f,a-l),0),h:d=Math.max(Math.min(d,o-u),0)}},t.prototype.createStyle=function(e){var t=this.props,n=t.usePercentages,r=t.containerWidth,i=void 0;return t.useCSSTransforms?i=(0,l.setTransform)(e):(i=(0,l.setTopLeft)(e),n&&(i.left=(0,l.perc)(e.left/r),i.width=(0,l.perc)(e.width/r))),i},t.prototype.mixinDraggable=function(e){return i.default.createElement(a.DraggableCore,{onStart:this.onDragHandler("onDragStart"),onDrag:this.onDragHandler("onDrag"),onStop:this.onDragHandler("onDragStop"),handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:"")},e)},t.prototype.mixinResizable=function(e,t){var n=this.props,r=n.cols,o=n.x,a=n.minW,l=n.minH,u=n.maxW,c=n.maxH,f=this.calcPosition(0,0,r-o,0).width,d=this.calcPosition(0,0,a,l),h=this.calcPosition(0,0,u,c),p=[d.width,d.height],m=[Math.min(h.width,f),Math.min(h.height,1/0)];return i.default.createElement(s.Resizable,{width:t.width,height:t.height,minConstraints:p,maxConstraints:m,onResizeStop:this.onResizeHandler("onResizeStop"),onResizeStart:this.onResizeHandler("onResizeStart"),onResize:this.onResizeHandler("onResize")},e)},t.prototype.onDragHandler=function(e){var t=this;return function(n,r){var i=r.node,o=r.deltaX,a=r.deltaY,s=t.props[e];if(s){var l={top:0,left:0};switch(e){case"onDragStart":var u=i.offsetParent;if(!u)return;var c=u.getBoundingClientRect(),f=i.getBoundingClientRect();l.left=f.left-c.left+u.scrollLeft,l.top=f.top-c.top+u.scrollTop,t.setState({dragging:l});break;case"onDrag":if(!t.state.dragging)throw new Error("onDrag called before onDragStart.");l.left=t.state.dragging.left+o,l.top=t.state.dragging.top+a,t.setState({dragging:l});break;case"onDragStop":if(!t.state.dragging)throw new Error("onDragEnd called before onDragStart.");l.left=t.state.dragging.left,l.top=t.state.dragging.top,t.setState({dragging:null});break;default:throw new Error("onDragHandler called with unrecognized handlerName: "+e)}var d=t.calcXY(l.top,l.left),h=d.x,p=d.y;return s.call(t,t.props.i,h,p,{e:n,node:i,newPosition:l})}}},t.prototype.onResizeHandler=function(e){var t=this;return function(n,r){var i=r.node,o=r.size,a=t.props[e];if(a){var s=t.props,l=s.cols,u=s.x,c=s.i,f=s.maxW,d=s.minW,h=s.maxH,p=s.minH,m=t.calcWH(o),v=m.w,g=m.h;v=Math.min(v,l-u),v=Math.max(v,1),v=Math.max(Math.min(v,f),d),g=Math.max(Math.min(g,h),p),t.setState({resizing:"onResizeStop"===e?null:o}),a.call(t,c,v,g,{e:n,node:i,size:o})}}},t.prototype.render=function(){var e=this.props,t=e.x,n=e.y,o=e.w,a=e.h,s=e.isDraggable,l=e.isResizable,c=e.useCSSTransforms,f=this.calcPosition(t,n,o,a,this.state),d=i.default.Children.only(this.props.children),h=i.default.cloneElement(d,{className:(0,u.default)("react-grid-item",d.props.className,this.props.className,{static:this.props.static,resizing:Boolean(this.state.resizing),"react-draggable":s,"react-draggable-dragging":Boolean(this.state.dragging),cssTransforms:c}),style:r({},this.props.style,d.props.style,this.createStyle(f))});return l&&(h=this.mixinResizable(h,f)),s&&(h=this.mixinDraggable(h)),h},t}(i.default.Component);h.propTypes={children:o.default.element,cols:o.default.number.isRequired,containerWidth:o.default.number.isRequired,rowHeight:o.default.number.isRequired,margin:o.default.array.isRequired,maxRows:o.default.number.isRequired,containerPadding:o.default.array.isRequired,x:o.default.number.isRequired,y:o.default.number.isRequired,w:o.default.number.isRequired,h:o.default.number.isRequired,minW:function(e,t){var n=e[t];return"number"!==typeof n?new Error("minWidth not Number"):n>e.w||n>e.maxW?new Error("minWidth larger than item width/maxWidth"):void 0},maxW:function(e,t){var n=e[t];return"number"!==typeof n?new Error("maxWidth not Number"):n<e.w||n<e.minW?new Error("maxWidth smaller than item width/minWidth"):void 0},minH:function(e,t){var n=e[t];return"number"!==typeof n?new Error("minHeight not Number"):n>e.h||n>e.maxH?new Error("minHeight larger than item height/maxHeight"):void 0},maxH:function(e,t){var n=e[t];return"number"!==typeof n?new Error("maxHeight not Number"):n<e.h||n<e.minH?new Error("maxHeight smaller than item height/minHeight"):void 0},i:o.default.string.isRequired,onDragStop:o.default.func,onDragStart:o.default.func,onDrag:o.default.func,onResizeStop:o.default.func,onResizeStart:o.default.func,onResize:o.default.func,isDraggable:o.default.bool.isRequired,isResizable:o.default.bool.isRequired,static:o.default.bool,useCSSTransforms:o.default.bool.isRequired,className:o.default.string,handle:o.default.string,cancel:o.default.string},h.defaultProps={className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0},t.default=h},function(e,t,n){"use strict";e.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},e.exports.Resizable=n(334).default,e.exports.ResizableBox=n(577).default},function(e,t,n){"use strict";var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),a=(r=o)&&r.__esModule?r:{default:r};e.exports=function(e,t){return t.style&&e.props.style&&(t.style=i({},e.props.style,t.style)),t.className&&e.props.className&&(t.className=e.props.className+" "+t.className),a.default.cloneElement(e,t)}},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n(1)),o=s(n(2)),a=s(n(334));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var c=function(e){function t(){var n,r;l(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=u(this,e.call.apply(e,[this].concat(o))),r.state={width:r.props.width,height:r.props.height},r.onResize=function(e,t){var n=t.size;n.width,n.height,r.props.onResize?(e.persist&&e.persist(),r.setState(n,(function(){return r.props.onResize&&r.props.onResize(e,t)}))):r.setState(n)},u(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillReceiveProps=function(e){e.width===this.props.width&&e.height===this.props.height||this.setState({width:e.width,height:e.height})},t.prototype.render=function(){var e=this.props,t=e.handle,n=e.handleSize,o=(e.onResize,e.onResizeStart),s=e.onResizeStop,l=e.draggableOpts,u=e.minConstraints,c=e.maxConstraints,f=e.lockAspectRatio,d=e.axis,h=(e.width,e.height,e.resizeHandles),p=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles"]);return i.default.createElement(a.default,{handle:t,handleSize:n,width:this.state.width,height:this.state.height,onResizeStart:o,onResize:this.onResize,onResizeStop:s,draggableOpts:l,minConstraints:u,maxConstraints:c,lockAspectRatio:f,axis:d,resizeHandles:h},i.default.createElement("div",r({style:{width:this.state.width+"px",height:this.state.height+"px"}},p)))},t}(i.default.Component);c.propTypes={height:o.default.number,width:o.default.number},c.defaultProps={handleSize:[20,20]},t.default=c},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=c(n(1)),o=c(n(2)),a=c(n(168)),s=n(132),l=n(335),u=c(n(331));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var h=function(e){return Object.prototype.toString.call(e)},p=function(e){function t(){var n,i;f(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=i=d(this,e.call.apply(e,[this].concat(a))),i.state=i.generateInitialState(),i.onLayoutChange=function(e){var t;i.props.onLayoutChange(e,r({},i.props.layouts,((t={})[i.state.breakpoint]=e,t)))},d(i,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.generateInitialState=function(){var e=this.props,t=e.width,n=e.breakpoints,r=e.layouts,i=e.cols,o=(0,l.getBreakpointFromWidth)(n,t),a=(0,l.getColsFromBreakpoint)(o,i),s=!1===this.props.verticalCompact?null:this.props.compactType;return{layout:(0,l.findOrGenerateResponsiveLayout)(r,n,o,o,a,s),breakpoint:o,cols:a}},t.prototype.componentWillReceiveProps=function(e){if(e.width==this.props.width&&e.breakpoint===this.props.breakpoint&&(0,a.default)(e.breakpoints,this.props.breakpoints)&&(0,a.default)(e.cols,this.props.cols)){if(!(0,a.default)(e.layouts,this.props.layouts)){var t=this.state,n=t.breakpoint,r=t.cols,i=(0,l.findOrGenerateResponsiveLayout)(e.layouts,e.breakpoints,n,n,r,e.compactType);this.setState({layout:i})}}else this.onWidthChange(e)},t.prototype.onWidthChange=function(e){var t=e.breakpoints,n=e.cols,r=e.layouts,i=e.compactType,o=e.breakpoint||(0,l.getBreakpointFromWidth)(e.breakpoints,e.width),a=this.state.breakpoint;if(a!==o||this.props.breakpoints!==t||this.props.cols!==n){a in r||(r[a]=(0,s.cloneLayout)(this.state.layout));var u=(0,l.getColsFromBreakpoint)(o,n),c=(0,l.findOrGenerateResponsiveLayout)(r,t,o,a,u,i);c=(0,s.synchronizeLayoutWithChildren)(c,e.children,u,i),r[o]=c,this.props.onLayoutChange(c,r),this.props.onBreakpointChange(o,u),this.props.onWidthChange(e.width,e.margin,u,e.containerPadding),this.setState({breakpoint:o,layout:c,cols:u})}},t.prototype.render=function(){var e=this.props,t=(e.breakpoint,e.breakpoints,e.cols,e.layouts,e.onBreakpointChange,e.onLayoutChange,e.onWidthChange,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["breakpoint","breakpoints","cols","layouts","onBreakpointChange","onLayoutChange","onWidthChange"]));return i.default.createElement(u.default,r({},t,{onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))},t}(i.default.Component);p.propTypes={breakpoint:o.default.string,breakpoints:o.default.object,cols:o.default.object,layouts:function(e,t){if("[object Object]"!==h(e[t]))throw new Error("Layout property must be an object. Received: "+h(e[t]));Object.keys(e[t]).forEach((function(t){if(!(t in e.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,s.validateLayout)(e.layouts[t],"layouts."+t)}))},width:o.default.number.isRequired,onBreakpointChange:o.default.func,onLayoutChange:o.default.func,onWidthChange:o.default.func},p.defaultProps={breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},layouts:{},onBreakpointChange:s.noop,onLayoutChange:s.noop,onWidthChange:s.noop},t.default=p},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e){var t,n;return n=t=function(t){function n(){var e,r;l(this,n);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=r=u(this,t.call.apply(t,[this].concat(o))),r.state={width:1280},r.mounted=!1,r.onWindowResize=function(){if(r.mounted){var e=a.default.findDOMNode(r);e instanceof HTMLElement&&r.setState({width:e.offsetWidth})}},u(r,e)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),n.prototype.componentDidMount=function(){this.mounted=!0,window.addEventListener("resize",this.onWindowResize),this.onWindowResize()},n.prototype.componentWillUnmount=function(){this.mounted=!1,window.removeEventListener("resize",this.onWindowResize)},n.prototype.render=function(){var t=this.props,n=t.measureBeforeMount,o=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["measureBeforeMount"]);return n&&!this.mounted?i.default.createElement("div",{className:this.props.className,style:this.props.style}):i.default.createElement(e,r({},o,this.state))},n}(i.default.Component),t.defaultProps={measureBeforeMount:!1},t.propTypes={measureBeforeMount:o.default.bool},n};var i=s(n(1)),o=s(n(2)),a=s(n(38));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}},function(e,t,n){"use strict";var r,i,o;"undefined"!==typeof window&&window,i=[n(337)],void 0===(o="function"===typeof(r=function(e){var t=function(){var t,n={},r=[];function i(e){e||(e=document.documentElement);var t=window.getComputedStyle(e,null).fontSize;return parseFloat(t)||16}function o(e,t){var n=t.split(/\d/),r=n[n.length-1];switch(t=parseFloat(t),r){case"px":return t;case"em":return t*i(e);case"rem":return t*i();case"vw":return t*document.documentElement.clientWidth/100;case"vh":return t*document.documentElement.clientHeight/100;case"vmin":case"vmax":var o=document.documentElement.clientWidth/100,a=document.documentElement.clientHeight/100;return t*(0,Math["vmin"===r?"min":"max"])(o,a);default:return t}}function a(e,t){var r,i,a,s,l,u,c,f;this.element=e;var d=["min-width","min-height","max-width","max-height"];this.call=function(){for(r in a=function(e){if(!e.getBoundingClientRect)return{width:e.offsetWidth,height:e.offsetHeight};var t=e.getBoundingClientRect();return{width:Math.round(t.width),height:Math.round(t.height)}}(this.element),u={},n[t])n[t].hasOwnProperty(r)&&(i=n[t][r],s=o(this.element,i.value),l="width"===i.property?a.width:a.height,f=i.mode+"-"+i.property,c="","min"===i.mode&&l>=s&&(c+=i.value),"max"===i.mode&&l<=s&&(c+=i.value),u[f]||(u[f]=""),c&&-1===(" "+u[f]+" ").indexOf(" "+c+" ")&&(u[f]+=" "+c));for(var e in d)d.hasOwnProperty(e)&&(u[d[e]]?this.element.setAttribute(d[e],u[d[e]].substr(1)):this.element.removeAttribute(d[e]))}}function s(t,n){t.elementQueriesSetupInformation||(t.elementQueriesSetupInformation=new a(t,n)),t.elementQueriesSensor||(t.elementQueriesSensor=new e(t,(function(){t.elementQueriesSetupInformation.call()}))),t.elementQueriesSetupInformation.call()}function l(e,i,o,a){if("undefined"===typeof n[e]){n[e]=[];var s=r.length;t.innerHTML+="\n"+e+" {animation: 0.1s element-queries;}",t.innerHTML+="\n"+e+" > .resize-sensor {min-width: "+s+"px;}",r.push(e)}n[e].push({mode:i,property:o,value:a})}function u(e){var t;if(document.querySelectorAll&&(t=e?e.querySelectorAll.bind(e):document.querySelectorAll.bind(document)),t||"undefined"===typeof $$||(t=$$),t||"undefined"===typeof jQuery||(t=jQuery),!t)throw"No document.querySelectorAll, jQuery or Mootools's $$ found.";return t}function c(t){var n=[],r=[],i=[],o=0,a=-1,s=[];for(var l in t.children)if(t.children.hasOwnProperty(l)&&t.children[l].tagName&&"img"===t.children[l].tagName.toLowerCase()){n.push(t.children[l]);var u=t.children[l].getAttribute("min-width")||t.children[l].getAttribute("data-min-width"),c=t.children[l].getAttribute("data-src")||t.children[l].getAttribute("url");i.push(c);var f={minWidth:u};r.push(f),u?t.children[l].style.display="none":(o=n.length-1,t.children[l].style.display="block")}function d(){var e,l=!1;for(e in n)n.hasOwnProperty(e)&&r[e].minWidth&&t.offsetWidth>r[e].minWidth&&(l=e);if(l||(l=o),a!==l)if(s[l])n[a].style.display="none",n[l].style.display="block",a=l;else{var u=new Image;u.onload=function(){n[l].src=i[l],n[a].style.display="none",n[l].style.display="block",s[l]=!0,a=l},u.src=i[l]}else n[l].src=i[l]}a=o,t.resizeSensorInstance=new e(t,d),d()}var f=/,?[\s\t]*([^,\n]*?)((?:\[[\s\t]*?(?:min|max)-(?:width|height)[\s\t]*?[~$\^]?=[\s\t]*?"[^"]*?"[\s\t]*?])+)([^,\n\s\{]*)/gim,d=/\[[\s\t]*?(min|max)-(width|height)[\s\t]*?[~$\^]?=[\s\t]*?"([^"]*?)"[\s\t]*?]/gim;function h(e){var t,n,r,i;for(e=e.replace(/'/g,'"');null!==(t=f.exec(e));)for(n=t[1]+t[3],r=t[2];null!==(i=d.exec(r));)l(n,i[1],i[2],i[3])}function p(e){var t="";if(e)if("string"===typeof e)-1===(e=e.toLowerCase()).indexOf("min-width")&&-1===e.indexOf("max-width")||h(e);else for(var n=0,r=e.length;n<r;n++)1===e[n].type?-1!==(t=e[n].selectorText||e[n].cssText).indexOf("min-height")||-1!==t.indexOf("max-height")?h(t):-1===t.indexOf("min-width")&&-1===t.indexOf("max-width")||h(t):4===e[n].type?p(e[n].cssRules||e[n].rules):3===e[n].type&&e[n].styleSheet.hasOwnProperty("cssRules")&&p(e[n].styleSheet.cssRules)}var m=!1;this.init=function(){var n="animationstart";"undefined"!==typeof document.documentElement.style.webkitAnimationName?n="webkitAnimationStart":"undefined"!==typeof document.documentElement.style.MozAnimationName?n="mozanimationstart":"undefined"!==typeof document.documentElement.style.OAnimationName&&(n="oanimationstart"),document.body.addEventListener(n,(function(t){var n=t.target,i=n&&window.getComputedStyle(n,null),o=i&&i.getPropertyValue("animation-name");if(o&&-1!==o.indexOf("element-queries")){n.elementQueriesSensor=new e(n,(function(){n.elementQueriesSetupInformation&&n.elementQueriesSetupInformation.call()}));var a=window.getComputedStyle(n.resizeSensor,null).getPropertyValue("min-width");a=parseInt(a.replace("px","")),s(t.target,r[a])}})),m||((t=document.createElement("style")).type="text/css",t.innerHTML="[responsive-image] > img, [data-responsive-image] {overflow: hidden; padding: 0; } [responsive-image] > img, [data-responsive-image] > img {width: 100%;}",t.innerHTML+="\n@keyframes element-queries { 0% { visibility: inherit; } }",document.getElementsByTagName("head")[0].appendChild(t),m=!0);for(var i=0,o=document.styleSheets.length;i<o;i++)try{document.styleSheets[i].href&&0===document.styleSheets[i].href.indexOf("file://")&&console.log("CssElementQueries: unable to parse local css files, "+document.styleSheets[i].href),p(document.styleSheets[i].cssRules||document.styleSheets[i].rules||document.styleSheets[i].cssText)}catch(a){}!function(){for(var e=u()("[data-responsive-image],[responsive-image]"),t=0,n=e.length;t<n;t++)c(e[t])}()},this.findElementQueriesElements=function(e){!function(e){var t=u(e);for(var r in n)if(n.hasOwnProperty(r))for(var i=t(r,e),o=0,a=i.length;o<a;o++)s(i[o],r)}(e)},this.update=function(){this.init()}};return t.update=function(){t.instance.update()},t.detach=function(e){e.elementQueriesSetupInformation?(e.elementQueriesSensor.detach(),delete e.elementQueriesSetupInformation,delete e.elementQueriesSensor):e.resizeSensorInstance&&(e.resizeSensorInstance.detach(),delete e.resizeSensorInstance)},t.init=function(){t.instance||(t.instance=new t),t.instance.init()},t.findElementQueriesElements=function(e){t.instance.findElementQueriesElements(e)},t.listen=function(){!function(e){if(document.addEventListener)document.addEventListener("DOMContentLoaded",e,!1);else if(/KHTML|WebKit|iCab/i.test(navigator.userAgent))var t=setInterval((function(){/loaded|complete/i.test(document.readyState)&&(e(),clearInterval(t))}),10);else window.onload=e}(t.init)},t})?r.apply(t,i):r)||(e.exports=o)},function(e,t){function n(e){var t="    ";if(isNaN(parseInt(e)))t=e;else switch(e){case 1:t=" ";break;case 2:t="  ";break;case 3:t="   ";break;case 4:t="    ";break;case 5:t="     ";break;case 6:t="      ";break;case 7:t="       ";break;case 8:t="        ";break;case 9:t="         ";break;case 10:t="          ";break;case 11:t="           ";break;case 12:t="            "}for(var n=["\n"],r=0;r<100;r++)n.push(n[r]+t);return n}function r(){this.step="    ",this.shift=n(this.step)}function i(e,t){return t-(e.replace(/\(/g,"").length-e.replace(/\)/g,"").length)}function o(e,t){return e.replace(/\s{1,}/g," ").replace(/ AND /gi,"~::~"+t+t+"AND ").replace(/ BETWEEN /gi,"~::~"+t+"BETWEEN ").replace(/ CASE /gi,"~::~"+t+"CASE ").replace(/ ELSE /gi,"~::~"+t+"ELSE ").replace(/ END /gi,"~::~"+t+"END ").replace(/ FROM /gi,"~::~FROM ").replace(/ GROUP\s{1,}BY/gi,"~::~GROUP BY ").replace(/ HAVING /gi,"~::~HAVING ").replace(/ IN /gi," IN ").replace(/ JOIN /gi,"~::~JOIN ").replace(/ CROSS~::~{1,}JOIN /gi,"~::~CROSS JOIN ").replace(/ INNER~::~{1,}JOIN /gi,"~::~INNER JOIN ").replace(/ LEFT~::~{1,}JOIN /gi,"~::~LEFT JOIN ").replace(/ RIGHT~::~{1,}JOIN /gi,"~::~RIGHT JOIN ").replace(/ ON /gi,"~::~"+t+"ON ").replace(/ OR /gi,"~::~"+t+t+"OR ").replace(/ ORDER\s{1,}BY/gi,"~::~ORDER BY ").replace(/ OVER /gi,"~::~"+t+"OVER ").replace(/\(\s{0,}SELECT /gi,"~::~(SELECT ").replace(/\)\s{0,}SELECT /gi,")~::~SELECT ").replace(/ THEN /gi," THEN~::~"+t).replace(/ UNION /gi,"~::~UNION~::~").replace(/ USING /gi,"~::~USING ").replace(/ WHEN /gi,"~::~"+t+"WHEN ").replace(/ WHERE /gi,"~::~WHERE ").replace(/ WITH /gi,"~::~WITH ").replace(/ ALL /gi," ALL ").replace(/ AS /gi," AS ").replace(/ ASC /gi," ASC ").replace(/ DESC /gi," DESC ").replace(/ DISTINCT /gi," DISTINCT ").replace(/ EXISTS /gi," EXISTS ").replace(/ NOT /gi," NOT ").replace(/ NULL /gi," NULL ").replace(/ LIKE /gi," LIKE ").replace(/\s{0,}SELECT /gi,"SELECT ").replace(/\s{0,}UPDATE /gi,"UPDATE ").replace(/ SET /gi," SET ").replace(/~::~{1,}/g,"~::~").split("~::~")}r.prototype.xml=function(e,t){var r=e.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns\:/g,"~::~xmlns:").replace(/\s*xmlns\=/g,"~::~xmlns=").split("~::~"),i=r.length,o=!1,a=0,s="",l=0,u=t?n(t):this.shift;for(l=0;l<i;l++)r[l].search(/<!/)>-1?(s+=u[a]+r[l],o=!0,(r[l].search(/-->/)>-1||r[l].search(/\]>/)>-1||r[l].search(/!DOCTYPE/)>-1)&&(o=!1)):r[l].search(/-->/)>-1||r[l].search(/\]>/)>-1?(s+=r[l],o=!1):/^<\w/.exec(r[l-1])&&/^<\/\w/.exec(r[l])&&/^<[\w:\-\.\,]+/.exec(r[l-1])==/^<\/[\w:\-\.\,]+/.exec(r[l])[0].replace("/","")?(s+=r[l],o||a--):r[l].search(/<\w/)>-1&&-1==r[l].search(/<\//)&&-1==r[l].search(/\/>/)?s=s+=o?r[l]:u[a++]+r[l]:r[l].search(/<\w/)>-1&&r[l].search(/<\//)>-1?s=s+=o?r[l]:u[a]+r[l]:r[l].search(/<\//)>-1?s=s+=o?r[l]:u[--a]+r[l]:r[l].search(/\/>/)>-1?s=s+=o?r[l]:u[a]+r[l]:r[l].search(/<\?/)>-1||r[l].search(/xmlns\:/)>-1||r[l].search(/xmlns\=/)>-1?s+=u[a]+r[l]:s+=r[l];return"\n"==s[0]?s.slice(1):s},r.prototype.json=function(e,t){return t=t||this.step,"undefined"===typeof JSON?e:"string"===typeof e?JSON.stringify(JSON.parse(e),null,t):"object"===typeof e?JSON.stringify(e,null,t):e},r.prototype.css=function(e,t){var r=e.replace(/\s{1,}/g," ").replace(/\{/g,"{~::~").replace(/\}/g,"~::~}~::~").replace(/\;/g,";~::~").replace(/\/\*/g,"~::~/*").replace(/\*\//g,"*/~::~").replace(/~::~\s{0,}~::~/g,"~::~").split("~::~"),i=r.length,o=0,a="",s=0,l=t?n(t):this.shift;for(s=0;s<i;s++)/\{/.exec(r[s])?a+=l[o++]+r[s]:/\}/.exec(r[s])?a+=l[--o]+r[s]:(/\*\\/.exec(r[s]),a+=l[o]+r[s]);return a.replace(/^\n{1,}/,"")},r.prototype.sql=function(e,t){var r=e.replace(/\s{1,}/g," ").replace(/\'/gi,"~::~'").split("~::~"),a=r.length,s=[],l=0,u=this.step,c=0,f="",d=0,h=t?n(t):this.shift;for(d=0;d<a;d++)s=d%2?s.concat(r[d]):s.concat(o(r[d],u));for(a=s.length,d=0;d<a;d++)c=i(s[d],c),/\s{0,}\s{0,}SELECT\s{0,}/.exec(s[d])&&(s[d]=s[d].replace(/\,/g,",\n"+u+u)),/\s{0,}\s{0,}SET\s{0,}/.exec(s[d])&&(s[d]=s[d].replace(/\,/g,",\n"+u+u)),/\s{0,}\(\s{0,}SELECT\s{0,}/.exec(s[d])?f+=h[++l]+s[d]:/\'/.exec(s[d])?(c<1&&l&&l--,f+=s[d]):(f+=h[l]+s[d],c<1&&l&&l--);return f=f.replace(/^\n{1,}/,"").replace(/\n{1,}/g,"\n")},r.prototype.xmlmin=function(e,t){return(t?e:e.replace(/\<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)\>/g,"").replace(/[ \r\n\t]{1,}xmlns/g," xmlns")).replace(/>\s{0,}</g,"><")},r.prototype.jsonmin=function(e){return"undefined"===typeof JSON?e:JSON.stringify(JSON.parse(e),null,0)},r.prototype.cssmin=function(e,t){return(t?e:e.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\//g,"")).replace(/\s{1,}/g," ").replace(/\{\s{1,}/g,"{").replace(/\}\s{1,}/g,"}").replace(/\;\s{1,}/g,";").replace(/\/\*\s{1,}/g,"/*").replace(/\*\/\s{1,}/g,"*/")},r.prototype.sqlmin=function(e){return e.replace(/\s{1,}/g," ").replace(/\s{1,}\(/,"(").replace(/\s{1,}\)/,")")},e.exports=new r},function(e,t,n){"use strict";(function(t){var r=n(583),i=n(584),o=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,a=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,s=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function l(e){return(e||"").toString().replace(s,"")}var u=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],c={hash:1,query:1};function f(e){var n,r=("undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{}).location||{},i={},a=typeof(e=e||r);if("blob:"===e.protocol)i=new h(unescape(e.pathname),{});else if("string"===a)for(n in i=new h(e,{}),c)delete i[n];else if("object"===a){for(n in e)n in c||(i[n]=e[n]);void 0===i.slashes&&(i.slashes=o.test(e.href))}return i}function d(e){e=l(e);var t=a.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function h(e,t,n){if(e=l(e),!(this instanceof h))return new h(e,t,n);var o,a,s,c,p,m,v=u.slice(),g=typeof t,y=this,b=0;for("object"!==g&&"string"!==g&&(n=t,t=null),n&&"function"!==typeof n&&(n=i.parse),t=f(t),o=!(a=d(e||"")).protocol&&!a.slashes,y.slashes=a.slashes||o&&t.slashes,y.protocol=a.protocol||t.protocol||"",e=a.rest,a.slashes||(v[3]=[/(.*)/,"pathname"]);b<v.length;b++)"function"!==typeof(c=v[b])?(s=c[0],m=c[1],s!==s?y[m]=e:"string"===typeof s?~(p=e.indexOf(s))&&("number"===typeof c[2]?(y[m]=e.slice(0,p),e=e.slice(p+c[2])):(y[m]=e.slice(p),e=e.slice(0,p))):(p=s.exec(e))&&(y[m]=p[1],e=e.slice(0,p.index)),y[m]=y[m]||o&&c[3]&&t[m]||"",c[4]&&(y[m]=y[m].toLowerCase())):e=c(e);n&&(y.query=n(y.query)),o&&t.slashes&&"/"!==y.pathname.charAt(0)&&(""!==y.pathname||""!==t.pathname)&&(y.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,i=n[r-1],o=!1,a=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),a++):a&&(0===r&&(o=!0),n.splice(r,1),a--);return o&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")}(y.pathname,t.pathname)),r(y.port,y.protocol)||(y.host=y.hostname,y.port=""),y.username=y.password="",y.auth&&(c=y.auth.split(":"),y.username=c[0]||"",y.password=c[1]||""),y.origin=y.protocol&&y.host&&"file:"!==y.protocol?y.protocol+"//"+y.host:"null",y.href=y.toString()}h.prototype={set:function(e,t,n){var o=this;switch(e){case"query":"string"===typeof t&&t.length&&(t=(n||i.parse)(t)),o[e]=t;break;case"port":o[e]=t,r(t,o.protocol)?t&&(o.host=o.hostname+":"+t):(o.host=o.hostname,o[e]="");break;case"hostname":o[e]=t,o.port&&(t+=":"+o.port),o.host=t;break;case"host":o[e]=t,/:\d+$/.test(t)?(t=t.split(":"),o.port=t.pop(),o.hostname=t.join(":")):(o.hostname=t,o.port="");break;case"protocol":o.protocol=t.toLowerCase(),o.slashes=!n;break;case"pathname":case"hash":if(t){var a="pathname"===e?"/":"#";o[e]=t.charAt(0)!==a?a+t:t}else o[e]=t;break;default:o[e]=t}for(var s=0;s<u.length;s++){var l=u[s];l[4]&&(o[l[1]]=o[l[1]].toLowerCase())}return o.origin=o.protocol&&o.host&&"file:"!==o.protocol?o.protocol+"//"+o.host:"null",o.href=o.toString(),o},toString:function(e){e&&"function"===typeof e||(e=i.stringify);var t,n=this,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var o=r+(n.slashes?"//":"");return n.username&&(o+=n.username,n.password&&(o+=":"+n.password),o+="@"),o+=n.host+n.pathname,(t="object"===typeof n.query?e(n.query):n.query)&&(o+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(o+=n.hash),o}},h.extractProtocol=d,h.location=f,h.trimLeft=l,h.qs=i,e.exports=h}).call(this,n(26))},function(e,t,n){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function i(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return null}}t.stringify=function(e,t){t=t||"";var n,i,o=[];for(i in"string"!==typeof t&&(t="?"),e)if(r.call(e,i)){if((n=e[i])||null!==n&&void 0!==n&&!isNaN(n)||(n=""),i=encodeURIComponent(i),n=encodeURIComponent(n),null===i||null===n)continue;o.push(i+"="+n)}return o.length?t+o.join("&"):""},t.parse=function(e){for(var t,n=/([^=?&]+)=?([^&]*)/g,r={};t=n.exec(e);){var o=i(t[1]),a=i(t[2]);null===o||null===a||o in r||(r[o]=a)}return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=H(n(35)),i=H(n(16)),o=H(n(54)),a=H(n(50)),s=H(n(51)),l=H(n(40)),u=H(n(45)),c=H(n(21)),f=H(n(25)),d=H(n(5)),h=H(n(3)),p=H(n(4)),m=H(n(6)),v=H(n(7)),g=n(0),y=H(n(27)),b=H(n(1)),_=H(n(38)),x=H(n(2)),w=n(336),E=H(n(67)),T=H(n(586)),S=H(n(588)),k=H(n(590)),O=H(n(592)),C=H(n(647)),A=H(n(659)),M=H(n(661)),P=H(n(257)),I=H(n(94)),D=H(n(370)),N=H(n(667)),R=H(n(670)),L=H(n(69)),j=H(n(137)),F=H(n(79)),B=n(10),z=n(11);function H(e){return e&&e.__esModule?e:{default:e}}H(n(173)),H(n(338));var U=function(e){function t(e){(0,h.default)(this,t);var n=(0,m.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e));n.closing=!1;var r=n.props.tracks;return n.canvasElement=null,n.tracksByUidInit={},[].concat((0,f.default)(n.props.tracks.top||[]),(0,f.default)(n.props.tracks.right||[]),(0,f.default)(n.props.tracks.bottom||[]),(0,f.default)(n.props.tracks.left||[]),(0,f.default)(n.props.tracks.gallery||[]),(0,f.default)(n.props.tracks.center||[])).forEach((function(e){"combined"===e.type?e.contents.forEach((function(e){n.tracksByUidInit[e.uid]=!1})):n.tracksByUidInit[e.uid]=!1})),n.xScale=null,n.yScale=null,n.addUidsToTracks(r),n.trackToReplace=null,n.trackRenderer=null,n.configTrackMenu=null,n.state={sizeMeasured:!1,height:10,width:10,tracks:r,init:!1,addTrackPosition:null,mouseOverOverlayUid:null,forceUpdate:0,rangeSelection:[null,null],rangeSelectionEnd:!1,chromInfo:null,defaultChromSizes:null,contextMenuCustomItems:null,contextMenuPosition:null,addDivisorDialog:null},n.reset=!0,window.higlassTracksByType&&(0,c.default)(window.higlassTracksByType).forEach((function(e){z.TRACKS_INFO_BY_TYPE[e]=window.higlassTracksByType[e].config})),n.topHeight=0,n.bottomHeight=0,n.leftWidth=0,n.rightWidth=0,n.centerHeight=0,n.centerWidth=0,n.dragTimeout=null,n.previousPropsStr="",n.contextMenuHandlerBound=n.contextMenuHandler.bind(n),n.handleNoTrackAddedBound=n.handleNoTrackAdded.bind(n),n.handleTracksAddedBound=n.handleTracksAdded.bind(n),n.closeMenusBound=n.closeMenus.bind(n),n.handleAddDivisorBound=n.handleAddDivisor.bind(n),n.handleAddSeriesBound=n.handleAddSeries.bind(n),n.handleChangeTrackDataBound=n.handleChangeTrackData.bind(n),n.handleChangeTrackTypeBound=n.handleChangeTrackType.bind(n),n.handleCloseTrackBound=n.handleCloseTrack.bind(n),n.handleConfigureTrackBound=n.handleConfigureTrack.bind(n),n.handleExportTrackDataBound=n.handleExportTrackData.bind(n),n.handleLockValueScaleBound=n.handleLockValueScale.bind(n),n.handleReplaceTrackBound=n.handleReplaceTrack.bind(n),n.handleTrackOptionsChangedBound=n.handleTrackOptionsChanged.bind(n),n.handleUnlockValueScaleBound=n.handleUnlockValueScale.bind(n),n.onAddTrack=n.handleAddTrack.bind(n),n}return(0,v.default)(t,e),(0,p.default)(t,[{key:"waitForDOMAttachment",value:function(e){var t=this;if(this.mounted){var n=_.default.findDOMNode(this);document.body.contains(n)?e():requestAnimationFrame((function(){return t.waitForDOMAttachment(e)}))}}},{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.element=_.default.findDOMNode(this),this.canvasElement=_.default.findDOMNode(this.props.canvasElement),this.waitForDOMAttachment((function(){w.ElementQueries.listen(),e.resizeSensor=new w.ResizeSensor(e.element.parentNode,e.measureSize.bind(e)),e.measureSize()})),this.addEventListeners(),this.pubSubs=[],this.pubSubs.push(this.props.pubSub.subscribe("contextmenu",this.contextMenuHandlerBound))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.addUidsToTracks(e.tracks),this.setState({tracks:e.tracks})}},{key:"shouldComponentUpdate",value:function(e,t){var n=this,r=this.previousPropsStr,i=this.updatablePropsToString(e),o=(0,u.default)(this.state),a=(0,u.default)(t),s=r!==i||o!==a||this.props.chooseTrackHandler!==e.chooseTrackHandler;s&&(this.previousPropsStr=i);var l=this.numTracks;return this.numTracks=0,(0,B.visitPositionedTracks)(this.props.tracks,(function(){return n.numTracks++})),this.reset=this.reset||0===l&&this.numTracks>0,this.numTracks||(this.tracksByUidInit={}),s}},{key:"UNSAFE_componentWillUpdate",value:function(){}},{key:"componentDidUpdate",value:function(e,t){var n=this;if(t.rangeSelection!==this.state.rangeSelection){var r=[null,null];this.state.defaultChromSizes&&this.state.rangeSelection.every((function(e){return e&&e.length}))&&(r=this.state.rangeSelection.map((function(e){return B.dataToGenomicLoci.apply(void 0,(0,f.default)(e).concat([n.state.defaultChromSizes]))}))),this.props.onRangeSelection({dataRange:this.state.rangeSelection,genomicRange:r})}if(e.tracks.center,this.props.tracks.center,(this.state.addTrackPosition||this.props.addTrackPosition)&&this.props.modal.open(b.default.createElement(C.default,{host:this.state.addTrackHost,onCancel:this.handleNoTrackAddedBound,onTracksChosen:this.handleTracksAddedBound,position:this.state.addTrackPosition||this.props.addTrackPosition,trackSourceServers:this.props.trackSourceServers})),this.state.addDivisorDialog){var i=this.state.addDivisorDialog;this.props.modal.open(b.default.createElement(C.default,{datatype:z.TRACKS_INFO_BY_TYPE[i.type].datatype[0],host:this.state.addTrackHost,onCancel:function(){n.setState({addDivisorDialog:null})},onTracksChosen:function(e){n.handleDivisorChosen(i,e)},trackSourceServers:this.props.trackSourceServers}))}}},{key:"componentWillUnmount",value:function(){var e=this;this.closing=!0,this.removeEventListeners(),this.pubSubs.forEach((function(t){return e.props.pubSub.unsubscribe(t)}))}},{key:"addUidsToTracks",value:function(e){(0,c.default)(e).forEach((function(t){e[t].forEach((function(e){e.uid=e.uid||y.default.nice()}))}))}},{key:"contextMenuHandler",value:function(e){if(this.divTiledPlot){var t=this.divTiledPlot.getBoundingClientRect();if((0,B.isWithin)(e.clientX,e.clientY,t.left,t.left+t.width,t.top,t.top+t.height)){var n=[e.clientX,e.clientY],r=(0,g.clientPoint)(this.divTiledPlot,e),i=this.trackRenderer.zoomedXScale.invert(r[0]),o=this.trackRenderer.zoomedYScale.invert(r[1]),a=null;e.hgCustomItems&&(a=e.hgCustomItems.map((function(e){return b.default.createElement(E.default,{key:e.key,onClick:e.onClick},e.text)}))),this.setState({contextMenuCustomItems:a,contextMenuPosition:{left:n[0],top:n[1],canvasLeft:r[0]+this.trackRenderer.xPositionOffset,canvasTop:r[1]+this.trackRenderer.yPositionOffset},contextMenuDataX:i,contextMenuDataY:o})}}}},{key:"measureSize",value:function(){this.element.clientWidth>0&&this.element.clientHeight>0&&this.setState({sizeMeasured:!0,width:this.element.clientWidth,height:this.element.clientHeight})}},{key:"handleTrackOptionsChanged",value:function(e,t){return this.props.onTrackOptionsChanged(e,t)}},{key:"handleScalesChanged",value:function(e,t){this.xScale=e,this.yScale=t,this.props.onScalesChanged(e,t)}},{key:"handleTilesetInfoReceived",value:function(e,t){var n=(0,B.getTrackByUid)(this.props.tracks,e);n?(this.tracksByUidInit[n.uid]=!0,this.checkAllTilesetInfoReceived(),n.options||(n.options={}),n.name=t.name,n.maxWidth=t.max_width,n.transforms=t.transforms,n.aggregationModes=t.aggregation_modes,n.header=t.header,n.binsPerDimension=t.bins_per_dimension,t.resolutions?(n.maxZoom=t.resolutions.length-1,n.resolutions=t.resolutions):n.maxZoom=t.max_zoom,n.coordSystem=t.coordSystem,n.datatype=t.datatype):console.warn("Strange, track not found:",e)}},{key:"checkAllTilesetInfoReceived",value:function(){var e=this;if((!this.state.init||this.reset)&&this.trackRenderer&&this.props.zoomToDataExtentOnInit()){var t=(0,c.default)(this.trackRenderer.trackDefObjects).map((function(t){var n=e.trackRenderer.trackDefObjects[t].trackObject;return n.childTracks?n.childTracks:n})).reduce((function(e,t){return e.concat(t)}),[]).filter((function(e){var t=e.tilesetInfo;return"undefined"!==typeof t&&!0!==t})),n=(0,l.default)(this.tracksByUidInit).filter((function(e){return e})).length;t.length===n&&(this.setState({init:!0}),this.reset=!1,this.handleZoomToData())}}},{key:"handleOverlayMouseEnter",value:function(e){this.setState({mouseOverOverlayUid:e})}},{key:"handleOverlayMouseLeave",value:function(e){e===this.state.mouseOverOverlayUid&&this.setState({mouseOverOverlayUid:null})}},{key:"handleTrackPositionChosen",value:function(e){this.setState({mouseOverOverlayUid:null}),this.props.chooseTrackHandler(e.track.uid)}},{key:"handleNoTrackAdded",value:function(){this.trackToReplace=null,this.props.onNoTrackAdded(),this.setState({addTrackPosition:null,addTrackHost:null})}},{key:"handleAddDivisor",value:function(e){this.setState({addDivisorDialog:e})}},{key:"handleDivisorChosen",value:function(e,t){this.setState({addDivisorDialog:null});var n=e.data?{server:e.data.server,tilesetUid:e.data.tilesetUid}:{server:e.server,tilesetUid:e.tilesetUid},r={server:t[0].server,tilesetUid:t[0].uuid};this.handleChangeTrackData(e.uid,{type:"divided",children:[n,r]})}},{key:"handleDivideSeries",value:function(e){}},{key:"handleAddSeries",value:function(e){var t=(0,B.getTrackPositionByUid)(this.props.tracks,e),n=(0,B.getTrackByUid)(this.props.tracks,e);this.setState({addTrackPosition:t,addTrackHost:n})}},{key:"handleReplaceTrack",value:function(e,t){this.trackToReplace=e,this.handleAddTrack(t)}},{key:"handleAddTrack",value:function(e){this.setState({addTrackPosition:e,addTrackHost:null})}},{key:"handleResizeTrack",value:function(e,t,n){var r=this.state.tracks;for(var i in r){var o=r[i].filter((function(t){return t.uid===e}));o.length>0&&(o[0].width=t,o[0].height=n)}this.setState({tracks:r,forceUpdate:Math.random()}),this.props.onResizeTrack()}},{key:"closeMenus",value:function(){this.setState({closeTrackMenuId:null,configTrackMenuId:null,contextMenuPosition:null,contextMenuCustomItems:null})}},{key:"handleLockValueScale",value:function(e){this.closeMenus(),this.props.onLockValueScale(e)}},{key:"handleUnlockValueScale",value:function(e){this.closeMenus(),this.props.onUnlockValueScale(e)}},{key:"handleCloseTrack",value:function(e){this.closeMenus(),this.props.onCloseTrack(e)}},{key:"handleChangeTrackType",value:function(e,t){this.closeMenus(),this.props.onChangeTrackType(e,t)}},{key:"handleChangeTrackData",value:function(e,t){this.closeMenus(),this.props.onChangeTrackData(e,t)}},{key:"handleTracksAdded",value:function(e,t,n){return this.trackToReplace&&(this.handleCloseTrack(this.trackToReplace),this.trackToReplace=null),this.props.onTracksAdded(e,t,n),this.setState({addTrackPosition:null,addTrackHost:null}),e}},{key:"handleCloseTrackMenuOpened",value:function(e,t){this.setState({closeTrackMenuId:e,closeTrackMenuLocation:t})}},{key:"handleCloseContextMenu",value:function(){this.setState({contextMenuCustomItems:null,contextMenuPosition:null,contextMenuDataX:null,contextMenuDataY:null})}},{key:"handleCloseTrackMenuClosed",value:function(){this.setState({closeTrackMenuId:null})}},{key:"handleConfigTrackMenuOpened",value:function(e,t){this.closeMenus(),this.setState({configTrackMenuId:e,configTrackMenuLocation:t})}},{key:"handleConfigureTrack",value:function(e,t){this.setState({configTrackMenuId:null,trackOptions:{track:e,configComponent:t}}),this.closeMenus()}},{key:"handleSortEnd",value:function(e){this.setState((function(t){for(var n=t.tracks,r={},i=0;i<e.length;i++)r[e[i].uid]=i;for(var o in n){var a=n[o];if(a.length&&a[0].uid in r){for(var s=new Array(a.length),l=0;l<a.length;l++)s[r[a[l].uid]]=a[l];n[o]=s}}return{tracks:n,forceUpdate:Math.random()}}))}},{key:"createTracksAndLocations",value:function(){var e=[],t=this.state.tracks;return z.TRACK_LOCATIONS.forEach((function(n){t[n]&&t[n].forEach((function(t){t.contents&&t.contents.forEach((function(e){e.position=n})),t.position=n,e.push({track:t,location:n})}))})),e}},{key:"calculateTrackPosition",value:function(e,t){var n=this.props.paddingTop,r=this.props.paddingBottom,i=this.props.paddingLeft,o=this.props.paddingRight,a=this.centerWidth,s=e.height,l=0,u=0;switch(t){case"top":i+=this.leftWidth;for(var c=0;c<this.state.tracks.top.length&&this.state.tracks.top[c].uid!==e.uid;c++)n+=this.state.tracks.top[c].height;break;case"bottom":i+=this.leftWidth,n+=this.topHeight+this.centerHeight+this.galleryDim;for(var f=0;f<this.state.tracks.bottom.length&&this.state.tracks.bottom[f].uid!==e.uid;f++)n+=this.state.tracks.bottom[f].height;break;case"left":n+=this.topHeight,a=e.width,s=this.centerHeight;for(var d=0;d<this.state.tracks.left.length&&this.state.tracks.left[d].uid!==e.uid;d++)i+=this.state.tracks.left[d].width;break;case"right":i+=this.leftWidth+this.centerWidth+this.galleryDim,n+=this.topHeight,a=e.width,s=this.centerHeight;for(var h=0;h<this.state.tracks.right.length&&this.state.tracks.right[h].uid!==e.uid;h++)i+=this.state.tracks.right[h].width;break;case"center":i+=this.leftWidth,n+=this.topHeight,s=this.centerHeight;break;case"gallery":i+=this.leftWidthNoGallery,n+=this.topHeightNoGallery,a=this.state.width-this.leftWidthNoGallery-this.rightWidthNoGallery-this.props.paddingLeft,s=this.state.height-this.topHeightNoGallery-this.bottomHeightNoGallery-this.props.paddingTop,l=this.galleryDim,u=this.galleryDim;for(var p=0;p<this.state.tracks.gallery.length&&this.state.tracks.gallery[p].uid!==e.uid;p++)a-=2*this.state.tracks.gallery[p].height,s-=2*this.state.tracks.gallery[p].height,i+=this.state.tracks.gallery[p].height,n+=this.state.tracks.gallery[p].height,l-=this.state.tracks.gallery[p].height,u-=this.state.tracks.gallery[p].height;for(var m=0;m<this.state.tracks.right.length;m++)o+=this.state.tracks.right[m].width;for(var v=0;v<this.state.tracks.bottom.length;v++)r+=this.state.tracks.bottom[v].height;e.offsetX=l,e.offsetY=u,e.offsetTop=n,e.offsetRight=o,e.offsetBottom=r,e.offsetLeft=i;break;case"whole":default:a=this.leftWidth+this.centerWidth+this.rightWidth,s=this.topHeight+this.centerHeight+this.bottomHeight}return-1===z.TRACK_LOCATIONS.indexOf(t)&&console.warn("Track with unknown position present:",t,e),{left:i,top:n,width:a,height:s,track:e}}},{key:"findCentralHeatmapTrack",value:function(e){for(var t=0;t<e.length;t++){if("combined"===e[t].type)return this.findCentralHeatmapTrack(e[t].contents);if("heatmap"===e[t].type)return e[t]}}},{key:"trackUuidToOrientation",value:function(e){}},{key:"overlayTracks",value:function(e){var t=this;return this.props.overlays?this.props.overlays.filter((function(e){return e.includes&&e.includes.length})).map((function(n){var r=n.type?"overlay-"+String(n.type)+"-track":"overlay-track",i=(0,s.default)({},n,{uid:n.uid||y.default.nice(),includes:n.includes,type:r,options:(0,s.default)(n.options,{orientationsAndPositions:n.includes.map((function(n){var r=(0,B.getTrackByUid)(t.props.tracks,n);if(!r)return console.warn("OverlayTrack included uid ("+String(n)+") not found in the track list"),null;var i=(0,B.getTrackPositionByUid)(t.props.tracks,r.uid),o=void 0;if("top"!==i&&"bottom"!==i||(o="1d-horizontal"),"left"!==i&&"right"!==i||(o="1d-vertical"),"center"===i&&(o="2d"),!o)return console.warn("Only top, bottom, left, right, or center tracks can be overlaid at the moment"),null;var a=e.filter((function(e){return e.track.uid===n}));return a.length?{orientation:o,position:{left:a[0].left-t.props.paddingLeft,top:a[0].top-t.props.paddingTop,width:a[0].width,height:a[0].height}}:null})).filter((function(e){return e}))})});return{top:t.props.paddingTop,left:t.props.paddingLeft,width:t.leftWidth+t.centerWidth+t.rightWidth,height:t.topHeight+t.centerHeight+t.bottomHeight+t.props.marginTop+t.props.marginBottom,track:i}})):[]}},{key:"positionedTracks",value:function(){var e=this;return this.createTracksAndLocations().map((function(t){var n=t.track,r=t.location;return e.calculateTrackPosition(n,r)}))}},{key:"createTrackPositionTexts",value:function(){var e=this.positionedTracks();return this.createTracksAndLocations(),e.map((function(e){var t=e.track;return b.default.createElement("div",{key:t.uid,style:{left:e.left,top:e.top,width:e.width,height:e.height,position:"absolute"}},t.uid.slice(0,2))}))}},{key:"handleExportTrackData",value:function(e,t){var n=(0,B.getTrackByUid)(this.props.tracks,t);(e!==t?this.trackRenderer.trackDefObjects[e].trackObject.createdTracks[n.uid]:this.trackRenderer.trackDefObjects[e].trackObject).exportData(),this.closeMenus()}},{key:"listTracksAtPosition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[];if(!this.trackRenderer)return[];for(var i in this.trackRenderer.trackDefObjects){var o=this.trackRenderer.trackDefObjects[i].trackObject;if(o.respondsToPosition(e,t))if(n){if(this.props.tracks.center)if(this.props.tracks.center.contents)for(var a=0;a<this.props.tracks.center.contents.length;a++)this.props.tracks.center.contents[a].uid===i&&(o.is2d=!0);else this.props.tracks.center&&this.props.tracks.center.length&&this.props.tracks.center[0].uid===i&&(o.is2d=!0);r.push(o)}else r.push(this.trackRenderer.trackDefObjects[i].trackDef.track)}return r}},{key:"listAllTrackObjects",value:function(){var e=[];for(var t in this.trackRenderer.trackDefObjects){var n=this.trackRenderer.trackDefObjects[t];if(n.trackObject.createdTracks)for(var r in n.trackObject.createdTracks){var i=n.trackObject.createdTracks[r];e.push(i)}else e.push(n.trackObject)}return e}},{key:"handleZoomToData",value:function(){var e=a.default,t=o.default,n=[e,e],r=[t,t],s=this.listAllTrackObjects(),l=!0,u=!1,c=void 0;try{for(var f,d=(0,i.default)(s);!(l=(f=d.next()).done);l=!0){var h=f.value;if(h.tilesetInfo&&h.tilesetInfo.min_pos)for(var p=0;p<h.tilesetInfo.min_pos.length;p++)h.tilesetInfo.min_pos[p]<n[p]&&(n[p]=h.tilesetInfo.min_pos[p]),h.tilesetInfo.max_pos[p]>r[p]&&(r[p]=h.tilesetInfo.max_pos[p])}}catch(b){u=!0,c=b}finally{try{!l&&d.return&&d.return()}finally{if(u)throw c}}var m=this.trackRenderer.currentProps.paddingLeft+this.trackRenderer.currentProps.leftWidth,v=[m,m+this.trackRenderer.currentProps.centerWidth].map(this.trackRenderer.zoomTransform.rescaleX(this.trackRenderer.xScale).invert),g=this.trackRenderer.currentProps.paddingTop+this.trackRenderer.currentProps.topHeight,y=[g,g+this.trackRenderer.currentProps.centerHeight].map(this.trackRenderer.zoomTransform.rescaleY(this.trackRenderer.yScale).invert);this.trackRenderer.zoomTransform.k=1,this.trackRenderer.zoomTransform.x=0,this.trackRenderer.zoomTransform.y=0,this.trackRenderer.applyZoomTransform(),n[0]<a.default&&r[0]>o.default&&(v=[n[0],r[0]]),n[1]<a.default&&r[1]>o.default&&(y=[n[1],r[1]]),this.props.onDataDomainChanged(v,y)}},{key:"resetViewport",value:function(){this.trackRenderer.zoomTransform.k=1,this.trackRenderer.zoomTransform.x=0,this.trackRenderer.zoomTransform.y=0,this.trackRenderer.applyZoomTransform(),this.props.onDataDomainChanged(this.props.initialXDomain,this.props.initialYDomain)}},{key:"updatablePropsToString",value:function(e){return(0,u.default)({tracks:e.tracks,overlays:e.overlays,viewOptions:e.viewOptions,uid:e.uid,addTrackPosition:e.addTrackPosition,editable:e.editable,marginTop:e.marginTop,marginBottom:e.marginBottom,marginLeft:e.marginLeft,marginRight:e.marginRight,paddingTop:e.paddingTop,paddingBottom:e.paddingBottom,paddingLeft:e.paddingLeft,paddingRight:e.paddingRight,mouseTool:e.mouseTool,initialXDomain:e.initialXDomain,initialYDomain:e.initialYDomain,trackSourceServers:e.trackSourceServers,zoomable:e.zoomable,draggingHappending:e.draggingHappening})}},{key:"getXYScales",value:function(){this.trackRenderer&&(this.xScale=this.trackRenderer.currentXScale,this.yScale=this.trackRenderer.currentYScale)}},{key:"rangeViewToDataLoci",value:function(e,t){return t?[parseInt(t.invert(e[0]),10),parseInt(t.invert(e[1]),10)]:[null,null]}},{key:"rangeSelectionResetHandler",value:function(){this.state.rangeSelectionMaster&&this.setState({is1dRangeSelection:null,rangeSelection:[null,null],rangeSelectionMaster:null,rangeSelectionEnd:!1})}},{key:"rangeSelection1dEndHandler",value:function(e){var t=this;this.xScale&&this.yScale||this.getXYScales();var n="x"===e?this.xScale:this.yScale;return function(r){t.setState((function(i){var o=i.is1dRangeSelection?[null,null]:i.rangeSelection.slice(),a=t.state.is1dRangeSelection||"y"!==e?0:1,s=t.rangeViewToDataLoci(r,n),l=s[1]-s[0];if(t.props.rangeSelection1dSize[0]>l){var u=s[0]+l/2;s=[u-t.props.rangeSelection1dSize[0]/2,u+t.props.rangeSelection1dSize[0]/2]}else if(t.props.rangeSelection1dSize[1]<l){var c=s[0]+l/2;s=[c-t.props.rangeSelection1dSize[1]/2,c+t.props.rangeSelection1dSize[1]/2]}return o[a]=s,t.props.rangeSelectionToInt&&(o[a]=o[a].map((function(e){return Math.round(e)}))),{rangeSelection:o,rangeSelectionEnd:!0}}))}}},{key:"rangeSelection1dHandler",value:function(e){var t=this;this.xScale&&this.yScale||this.getXYScales();var n="x"===e?this.xScale:this.yScale;return function(r){t.setState((function(i){var o=i.is1dRangeSelection?[null,null]:i.rangeSelection.slice();return o[i.is1dRangeSelection||"y"!==e?0:1]=t.rangeViewToDataLoci(r,n),{rangeSelection:o,rangeSelectionEnd:!1}}))}}},{key:"rangeSelection1dStartHandler",value:function(){this.state.rangeSelectionMaster||this.setState({is1dRangeSelection:!0,rangeSelectionMaster:!0,rangeSelectionEnd:!1})}},{key:"rangeSelection2dHandler",value:function(e){this.xScale&&this.yScale||this.getXYScales(),this.setState({rangeSelection:[this.rangeViewToDataLoci(e[0],this.xScale),this.rangeViewToDataLoci(e[1],this.yScale)],rangeSelectionEnd:!1})}},{key:"rangeSelection2dStartHandler",value:function(){this.state.rangeSelectionMaster||this.setState({is1dRangeSelection:!1,rangeSelectionMaster:!0,rangeSelectionEnd:!1})}},{key:"rangeSelection2dEndHandler",value:function(e){var t=this;this.xScale&&this.yScale||this.getXYScales();var n=this.rangeViewToDataLoci(e[0],this.xScale),r=this.rangeViewToDataLoci(e[1],this.yScale),i=[n,r],o=[n[1]-n[0],r[1]-r[0]];i.forEach((function(e,n){if(t.props.rangeSelection1dSize[0]>o[n]){var r=e[0]+Math.round(o[n]/2);e[0]=r-t.props.rangeSelection1dSize[0]/2,e[1]=r+t.props.rangeSelection1dSize[0]/2}else if(t.props.rangeSelection1dSize[1]<o[n]){var i=e[0]+Math.round(o[n]/2);e[0]=i-t.props.rangeSelection1dSize[1]/2,e[1]=i+t.props.rangeSelection1dSize[1]/2}})),this.props.rangeSelectionToInt&&(i=i.map((function(e){return e.map((function(e){return Math.round(e)}))}))),this.setState({rangeSelection:i,rangeSelectionEnd:!0})}},{key:"getContextMenu",value:function(){var e=this;if(this.state.contextMenuPosition){var t=this.listTracksAtPosition(this.state.contextMenuPosition.canvasLeft,this.state.contextMenuPosition.canvasTop);return b.default.createElement(P.default,{onMenuClosed:this.closeMenusBound},b.default.createElement(R.default,{closeMenu:this.closeMenusBound,coords:[this.state.contextMenuDataX,this.state.contextMenuDataY],customItems:this.state.contextMenuCustomItems,onAddDivisor:this.handleAddDivisorBound,onAddSeries:this.handleAddSeriesBound,onAddTrack:function(t){e.props.onTracksAdded([t],t.position,null),e.handleCloseContextMenu()},onChangeTrackData:this.handleChangeTrackDataBound,onChangeTrackType:this.handleChangeTrackTypeBound,onCloseTrack:this.handleCloseTrackBound,onConfigureTrack:this.handleConfigureTrackBound,onExportData:this.handleExportTrackDataBound,onLockValueScale:this.handleLockValueScaleBound,onReplaceTrack:this.handleReplaceTrackBound,onTrackOptionsChanged:this.handleTrackOptionsChangedBound,onUnlockValueScale:this.handleUnlockValueScaleBound,orientation:"right",position:this.state.contextMenuPosition,theme:this.props.theme,tracks:t,trackSourceServers:this.props.trackSourceServers}))}return null}},{key:"getIdealizedTrackPositionsOverlay",value:function(){var e=this,t=this.props.draggingHappening,n=t.datatype;if(n in z.DEFAULT_TRACKS_FOR_DATATYPE||t.defaultTracks){var o={"1d-horizontal":["top","bottom","left","right"],"2d":["center"],"1d-vertical":["left","right"]},a=z.DEFAULT_TRACKS_FOR_DATATYPE[n]||{};if(t.defaultTracks){var s=!0,l=!1,u=void 0;try{for(var f,d=(0,i.default)(t.defaultTracks);!(s=(f=d.next()).done);s=!0){var h=f.value;if(z.TRACKS_INFO_BY_TYPE[h]){var p=!0,m=!1,v=void 0;try{for(var g,y=(0,i.default)(o[z.TRACKS_INFO_BY_TYPE[h].orientation]);!(p=(g=y.next()).done);p=!0)a[g.value]=h}catch(H){m=!0,v=H}finally{try{!p&&y.return&&y.return()}finally{if(m)throw v}}}else console.warn("unknown track type",h)}}catch(H){l=!0,u=H}finally{try{!s&&d.return&&d.return()}finally{if(l)throw u}}}var _=new r.default(["top","left","right","center","bottom"].filter((function(t){return t in e.state.tracks&&e.state.tracks[t].length}))),x="top"in a,w="left"in a,E="right"in a,T="bottom"in a,k="center"in a,O="center"in a||_.has("left")||_.has("right")||_.has("center"),C="top"in a,A="bottom"in a&&O,M="left"in a&&O,P="right"in a&&O,I=(0,c.default)(a).length&&("center"in a||O),D=b.default.createElement("div",{style:{flexGrow:1}}),N=b.default.cloneElement(D),R=b.default.createElement("div",{style:{display:"flex",flexGrow:1}},C&&(I||M)?D:null,b.default.createElement(S.default,{defaultTrackType:a.top,draggingHappening:this.props.draggingHappening,enabled:x,onTrackDropped:function(t){return e.handleTracksAdded([t],"top")},style:{border:"1px solid black",flexGrow:1}}),C&&(I||M)?N:null),L=b.default.createElement("div",{style:{display:"flex",flexGrow:1}},C&&(I||M)?D:null,b.default.createElement(S.default,{defaultTrackType:a.bottom,draggingHappening:this.props.draggingHappening,enabled:T,onTrackDropped:function(t){return e.handleTracksAdded([t],"bottom")},style:{border:"1px solid black",flexGrow:1}}),C&&(I||M)?N:null),j=b.default.createElement(S.default,{defaultTrackType:a.left,draggingHappening:this.props.draggingHappening,enabled:w,onTrackDropped:function(t){return e.handleTracksAdded([t],"left")},style:{border:"1px solid black",flexGrow:1}}),F=b.default.createElement(S.default,{defaultTrackType:a.center,draggingHappening:this.props.draggingHappening,enabled:k,onTrackDropped:function(t){return e.handleTracksAdded([t],"center")},position:"center",style:{border:"1px solid black",flexGrow:1}}),B=b.default.cloneElement(j,{defaultTrackType:a.right,enabled:E,onTrackDropped:function(t){return e.handleTracksAdded([t],"right")}});return b.default.createElement("div",{style:{position:"absolute",left:"0px",top:"0px",width:this.state.width,height:this.state.height}},b.default.createElement("div",{style:{position:"absolute",width:this.state.width,height:this.state.height,background:"white",opacity:.4}}),b.default.createElement("div",{style:{width:this.state.width,height:this.state.height,position:"absolute",display:"flex",flexDirection:"column"}},C?R:null,O&&b.default.createElement("div",{style:{display:"flex",height:C||A?"40%":"100%",width:"100%"}},M?j:null,I?F:null,P?B:null),A?L:null))}console.warn("unknown data type:",t.higlassTrack)}},{key:"render",value:function(){var e=this;this.galleryDim=this.props.tracks.gallery?this.props.tracks.gallery.map((function(e){return e.height})).reduce(B.sum,0):0,this.topHeightNoGallery=this.props.tracks.top.map((function(e){return e.height})).reduce(B.sum,0),this.topHeight=this.topHeightNoGallery+this.galleryDim,this.bottomHeightNoGallery=this.props.tracks.bottom.map((function(e){return e.height})).reduce(B.sum,0),this.bottomHeight=this.bottomHeightNoGallery+this.galleryDim,this.leftWidthNoGallery=this.props.tracks.left.map((function(e){return e.width})).reduce(B.sum,0),this.leftWidth=this.leftWidthNoGallery+this.galleryDim,this.rightWidthNoGallery=this.props.tracks.right.map((function(e){return e.width})).reduce(B.sum,0),this.rightWidth=this.rightWidthNoGallery+this.galleryDim;var t=this.props.paddingTop+this.props.paddingBottom,n=this.props.paddingLeft+this.props.paddingRight;this.centerHeight=Math.max(0,this.state.height-this.topHeight-this.bottomHeight-t),this.centerWidth=Math.max(0,this.state.width-this.leftWidth-this.rightWidth-n);var i=b.default.createElement("div",{className:"top-track-container",style:{left:this.leftWidth+this.props.paddingLeft,top:this.props.paddingTop,width:this.centerWidth,height:this.topHeightNoGallery,outline:"none",position:"absolute"}},b.default.createElement(D.default,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===z.MOUSE_TOOL_SELECT,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("x").bind(this),onRangeSelectionEnd:this.rangeSelection1dEndHandler("x").bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,resizeHandles:new r.default(["bottom"]),scale:this.xScale,tracks:this.props.tracks.top,width:this.centerWidth})),o=b.default.createElement("div",{className:"left-track-container",style:{left:this.props.paddingLeft,top:this.topHeight+this.props.paddingTop,width:this.leftWidthNoGallery,height:this.centerHeight,outline:"none",position:"absolute"}},b.default.createElement(N.default,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),height:this.centerHeight,is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===z.MOUSE_TOOL_SELECT,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("y").bind(this),onRangeSelectionEnd:this.rangeSelection1dEndHandler("y").bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,resizeHandles:new r.default(["right"]),scale:this.yScale,tracks:this.props.tracks.left})),a=b.default.createElement("div",{className:"right-track-container",style:{right:this.props.paddingRight,top:this.topHeight+this.props.paddingTop,width:this.rightWidthNoGallery,height:this.centerHeight,outline:"none",position:"absolute"}},b.default.createElement(N.default,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),height:this.centerHeight,is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===z.MOUSE_TOOL_SELECT,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("y").bind(this),onRangeSelectionEnd:this.rangeSelection1dEndHandler("y").bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,resizeHandles:new r.default(["left"]),scale:this.yScale,tracks:this.props.tracks.right,tracksControlAlignLeft:!0})),s=b.default.createElement("div",{className:"bottom-track-container",style:{left:this.leftWidth+this.props.paddingLeft,bottom:this.props.paddingBottom,width:this.centerWidth,height:this.bottomHeightNoGallery,outline:"none",position:"absolute"}},b.default.createElement(D.default,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===z.MOUSE_TOOL_SELECT,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("x").bind(this),onRangeSelectionEnd:this.rangeSelection1dEndHandler("x").bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,resizeHandles:new r.default(["top"]),scale:this.xScale,tracks:this.props.tracks.bottom,width:this.centerWidth})),l=b.default.createElement("div",{key:"galleryTracksDiv",className:"gallery-track-container",style:{left:this.leftWidthNoGallery+this.props.paddingLeft,top:this.topHeightNoGallery+this.props.paddingTop,width:this.centerWidth+2*this.galleryDim,height:this.centerHeight+2*this.galleryDim,outline:"none",position:"absolute"}},b.default.createElement(k.default,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,height:this.centerHeight+2*this.galleryDim,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),tracks:this.props.tracks.gallery,width:this.centerWidth+2*this.galleryDim})),u=b.default.createElement("div",{className:"center-track-container CenterTrack-module_center-track-container-2ELhp",style:{left:this.leftWidth+this.props.paddingLeft,top:this.topHeight+this.props.paddingTop,width:this.centerWidth,height:this.bottomHeight,outline:"none"}});this.props.tracks.center.length&&(u=b.default.createElement("div",{className:"center-track-container CenterTrack-module_center-track-container-2ELhp",style:{left:this.leftWidth+this.props.paddingLeft,top:this.topHeight+this.props.paddingTop,width:this.centerWidth,height:this.centerHeight,outline:"none"}},b.default.createElement(T.default,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,height:this.centerHeight,is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===z.MOUSE_TOOL_SELECT,onAddSeries:this.handleAddSeries.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection2dStartHandler.bind(this),onRangeSelectionX:this.rangeSelection1dHandler("x").bind(this),onRangeSelectionXEnd:this.rangeSelection1dEndHandler("x").bind(this),onRangeSelectionXY:this.rangeSelection2dHandler.bind(this),onRangeSelectionXYEnd:this.rangeSelection2dEndHandler.bind(this),onRangeSelectionY:this.rangeSelection1dHandler("y").bind(this),onRangeSelectionYEnd:this.rangeSelection1dEndHandler("y").bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,scaleX:this.xScale,scaleY:this.yScale,tracks:this.props.tracks.center,uid:this.props.tracks.center[0].uid,width:this.centerWidth}))),this.createTrackPositionTexts();var c=this.positionedTracks();c=c.concat(this.overlayTracks(c));var f=null;this.state.sizeMeasured&&(f=b.default.createElement(O.default,{ref:function(t){e.trackRenderer=t,e.checkAllTilesetInfoReceived()},canvasElement:this.canvasElement,centerHeight:this.centerHeight,centerWidth:this.centerWidth,disableTrackMenu:this.props.disableTrackMenu,dragging:this.props.dragging,galleryDim:this.galleryDim,getLockGroupExtrema:this.props.getLockGroupExtrema,height:this.state.height,initialXDomain:this.props.initialXDomain,initialYDomain:this.props.initialYDomain,isRangeSelection:this.props.mouseTool===z.MOUSE_TOOL_SELECT,isShowGlobalMousePosition:this.props.isShowGlobalMousePosition,isValueScaleLocked:this.props.isValueScaleLocked,leftWidth:this.leftWidth,leftWidthNoGallery:this.leftWidthNoGallery,metaTracks:this.props.metaTracks,onMouseMoveZoom:this.props.onMouseMoveZoom,onNewTilesLoaded:this.props.onNewTilesLoaded,onScalesChanged:this.handleScalesChanged.bind(this),onTilesetInfoReceived:this.handleTilesetInfoReceived.bind(this),onTrackOptionsChanged:this.handleTrackOptionsChanged.bind(this),onValueScaleChanged:this.props.onValueScaleChanged,paddingLeft:this.props.paddingLeft,paddingTop:this.props.paddingTop,pixiRenderer:this.props.pixiRenderer,pixiStage:this.props.pixiStage,pluginTracks:this.props.pluginTracks,positionedTracks:c,registerDraggingChangedListener:this.props.registerDraggingChangedListener,removeDraggingChangedListener:this.props.removeDraggingChangedListener,setCentersFunction:this.props.setCentersFunction,svgElement:this.props.svgElement,topHeight:this.topHeight,topHeightNoGallery:this.topHeightNoGallery,uid:this.props.uid,viewOptions:this.props.viewOptions,width:this.state.width,xDomainLimits:this.props.xDomainLimits,yDomainLimits:this.props.yDomainLimits,zoomable:this.props.zoomable,zoomLimits:this.props.zoomLimits},i,o,a,s,l,u));var d=null,h=null;this.state.configTrackMenuId&&(d=b.default.createElement(P.default,{onMenuClosed:this.closeMenusBound},b.default.createElement(A.default,{ref:function(t){e.configTrackMenu=t},closeMenu:this.closeMenusBound,onAddDivisor:this.handleAddDivisorBound,onAddSeries:this.handleAddSeriesBound,onAddTrack:this.handleAddTrackBound,onChangeTrackType:this.handleChangeTrackTypeBound,onCloseTrack:this.handleCloseTrackBound,onConfigureTrack:this.handleConfigureTrackBound,onExportData:this.handleExportTrackDataBound,onLockValueScale:this.handleLockValueScaleBound,onReplaceTrack:this.handleReplaceTrackBound,onTrackOptionsChanged:this.handleTrackOptionsChangedBound,onUnlockValueScale:this.handleUnlockValueScaleBound,position:this.state.configTrackMenuLocation,theme:this.props.theme,trackOrientation:(0,B.getTrackPositionByUid)(this.props.tracks,this.state.configTrackMenuId),tracks:[(0,B.getTrackByUid)(this.props.tracks,this.state.configTrackMenuId)]}))),this.state.closeTrackMenuId&&(h=b.default.createElement(P.default,{onMenuClosed:this.handleCloseTrackMenuClosed.bind(this)},b.default.createElement(I.default,{position:this.state.closeTrackMenuLocation,theme:this.props.theme},b.default.createElement(M.default,{onCloseTrack:this.handleCloseTrack.bind(this),tracks:[(0,B.getTrackByUid)(this.props.tracks,this.state.closeTrackMenuId)]}))));var p=null;this.props.chooseTrackHandler&&(p=c.filter((function(e){return"whole"!==e.track.position})).map((function(t){var n="transparent",r="none";return e.state.mouseOverOverlayUid===t.track.uid&&(n="yellow",r="1px solid black"),b.default.createElement("div",{key:t.track.uid,className:"tiled-plot-track-overlay",onClick:function(){return e.handleTrackPositionChosen(t)},onDragEnter:function(n){e.handleOverlayMouseEnter(t.track.uid),n.preventDefault()},onDragLeave:function(){return e.handleOverlayMouseLeave(t.track.uid)},onDragOver:function(e){return e.preventDefault()},onDrop:function(){return e.handleTrackPositionChosen(t)},onMouseEnter:function(){return e.handleOverlayMouseEnter(t.track.uid)},onMouseLeave:function(){return e.handleOverlayMouseLeave(t.track.uid)},style:{position:"absolute",left:t.left,top:t.top,width:t.width,height:t.height,background:n,opacity:.4,border:r,zIndex:1}})})));var m=null;if(this.xScale&&this.yScale&&this.props.editable&&this.state.trackOptions){var v=this.state.trackOptions.configComponent,g=this.state.trackOptions.track;m=b.default.createElement(v,{track:g,xScale:this.xScale,yScale:this.yScale,onCancel:function(){e.setState({trackOptions:null})},onTrackOptionsChanged:function(e){return e},onSubmit:function(t){e.handleTrackOptionsChanged(e.state.trackOptions.track.uid,t),e.setState({trackOptions:null})}})}return b.default.createElement("div",{ref:function(t){e.divTiledPlot=t},className:"tiled-plot-div TiledPlot-module_tiled-plot-uFHiB",style:{marginBottom:this.props.marginBottom,marginLeft:this.props.marginLeft,marginRight:this.props.marginRight,marginTop:this.props.marginTop}},f,p,d,h,m,this.getContextMenu(),this.props.draggingHappening&&this.getIdealizedTrackPositionsOverlay())}},{key:"addEventListeners",value:function(){this.eventListeners=[],this.eventListeners.forEach((function(e){return document.addEventListener(e.name,e.callback,!1)}))}},{key:"removeEventListeners",value:function(){this.eventListeners.forEach((function(e){return document.removeEventListener(e.name,e.callback)}))}}]),t}(b.default.Component);U.defaultProps={isShowGlobalMousePosition:!1,pluginTracks:{},metaTracks:[],zoomable:!0},U.propTypes={addTrackPosition:x.default.string,canvasElement:x.default.object,chooseTrackHandler:x.default.func,chromInfoPath:x.default.string,disableTrackMenu:x.default.bool,dragging:x.default.bool,draggingHappening:x.default.bool,editable:x.default.bool,getLockGroupExtrema:x.default.func,initialXDomain:x.default.array,initialYDomain:x.default.array,isShowGlobalMousePosition:x.default.bool,isValueScaleLocked:x.default.func,marginBottom:x.default.number.isRequired,marginLeft:x.default.number.isRequired,marginRight:x.default.number.isRequired,marginTop:x.default.number.isRequired,paddingBottom:x.default.number.isRequired,paddingLeft:x.default.number.isRequired,paddingRight:x.default.number.isRequired,paddingTop:x.default.number.isRequired,metaTracks:x.default.array,modal:x.default.object,mouseTool:x.default.string,onCloseTrack:x.default.func,onChangeTrackData:x.default.func,onChangeTrackType:x.default.func,onDataDomainChanged:x.default.func,onLockValueScale:x.default.func,onMouseMoveZoom:x.default.func,onNewTilesLoaded:x.default.func,onNoTrackAdded:x.default.func,onRangeSelection:x.default.func.isRequired,onScalesChanged:x.default.func,onTrackOptionsChanged:x.default.func,onTrackPositionChosen:x.default.func,onTracksAdded:x.default.func,onUnlockValueScale:x.default.func,onValueScaleChanged:x.default.func,onResizeTrack:x.default.func,overlays:x.default.array,openModal:x.default.func,pixiRenderer:x.default.object,pixiStage:x.default.object,pluginTracks:x.default.object,pubSub:x.default.object.isRequired,rangeSelection1dSize:x.default.array,rangeSelectionToInt:x.default.bool,registerDraggingChangedListener:x.default.func,removeDraggingChangedListener:x.default.func,setCentersFunction:x.default.func,svgElement:x.default.object,theme:x.default.symbol.isRequired,tracks:x.default.object,trackSourceServers:x.default.array,uid:x.default.string,viewOptions:x.default.object,xDomainLimits:x.default.array,yDomainLimits:x.default.array,zoomable:x.default.bool,zoomLimits:x.default.array,zoomToDataExtentOnInit:x.default.func},t.default=(0,L.default)((0,j.default)((0,F.default)(U)))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(5)),i=g(n(3)),o=g(n(4)),a=g(n(6)),s=g(n(7)),l=g(n(33)),u=g(n(2)),c=g(n(1)),f=n(83),d=n(0),h=g(n(170)),p=n(10),m=n(11),v=(g(n(338)),g(n(172)));function g(e){return e&&e.__esModule?e:{default:e}}var y={styles:{"center-track":"CenterTrack-module_center-track-3ptRW","center-track-container":"CenterTrack-module_center-track-container-2ELhp"},stylesTrack:{"track-range-selection":"Track-module_track-range-selection-1yrDf","track-range-selection-active":"Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-primary":"Track-module_track-range-selection-active-primary-29M73 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-secondary":"Track-module_track-range-selection-active-secondary-1s0t5 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-group-inactive":"Track-module_track-range-selection-group-inactive-YNRM4","track-range-selection-group-brush-selection":"Track-module_track-range-selection-group-brush-selection-2VYDl"}},b={pointerEvents:"all"},_=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.state={isVisible:!1},n.brushBehaviorX=(0,f.brushX)(!0,!0).on("brush",n.brushedX.bind(n)).on("end",n.brushedXEnded.bind(n)),n.brushBehaviorY=(0,f.brushY)(!0,!0,!0).on("brush",n.brushedY.bind(n)).on("end",n.brushedYEnded.bind(n)),n.brushBehaviorXY=(0,f.brush)(!0).on("start",n.brushStarted.bind(n)).on("brush",n.brushedXY.bind(n)).on("end",n.brushedXYEnded.bind(n)),n}return(0,s.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.isRangeSelectionActive&&this.addBrush2d()}},{key:"shouldComponentUpdate",value:function(e,t){if(this.rangeSelectionTriggeredXY){if(this.rangeSelectionTriggeredXY=!1,this.rangeSelectionTriggeredXYEnd){var n=e.rangeSelection[0]||null;this.moveBrushXY([n,e.rangeSelection[1]],!0),this.rangeSelectionTriggeredXYEnd=!1}return this.state!==t}if(this.props.rangeSelection!==e.rangeSelection){var r=e.rangeSelection[0]||null;this.props.is1dRangeSelection?(this.rangeSelectionTriggeredX||this.moveBrushX(r,e.rangeSelectionEnd),this.rangeSelectionTriggeredXEnd&&this.moveBrushX(r,e.rangeSelectionEnd,!0),this.rangeSelectionTriggeredY||this.moveBrushY(r,e.rangeSelectionEnd),this.rangeSelectionTriggeredYEnd&&this.moveBrushY(r,e.rangeSelectionEnd,!0),this.rangeSelectionTriggeredX=!1,this.rangeSelectionTriggeredXEnd=!1,this.rangeSelectionTriggeredY=!1,this.rangeSelectionTriggeredYEnd=!1):this.moveBrushXY([r,e.rangeSelection[1]],e.rangeSelectionEnd);var i=this.props.is1dRangeSelection&&!e.is1dRangeSelection&&null===r;return this.state!==t||i}return!0}},{key:"componentDidUpdate",value:function(){this.props.isRangeSelectionActive?this.addBrush2d():(this.removeBrush1d(),this.removeBrush2d())}},{key:"addBrush1d",value:function(){this.brushElX&&this.brushElY&&(this.brushElXOld!==this.brushElX||this.brushElYOld!==this.brushElY)&&(this.brushElXOld&&this.brushElXOld.on(".brush",null),this.brushElYOld&&this.brushElYOld.on(".brush",null),this.brushElX.call(this.brushBehaviorX),this.brushElY.call(this.brushBehaviorY),(0,p.resetD3BrushStyle)(this.brushElX,v.default["track-range-selection-group-brush-selection"]),(0,p.resetD3BrushStyle)(this.brushElY,v.default["track-range-selection-group-brush-selection"]),this.brushElXOld=this.brushElX,this.brushElYOld=this.brushElY,this.brushIs1dBound=!0)}},{key:"addBrush2d",value:function(){this.brushElXY&&this.brushElXYOld!==this.brushElXY&&(this.brushElXYOld&&this.brushElXYOld.on(".brush",null),this.brushElXY.call(this.brushBehaviorXY),this.brushElXYOld=this.brushElXY,this.brushIs2dBound=!0,(0,p.resetD3BrushStyle)(this.brushElXY,v.default["track-range-selection-group-brush-selection"]))}},{key:"brushedX",value:function(){var e=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,this.sourceEvent&&this.props.onRangeSelectionX&&this.props.is1dRangeSelection&&!e&&(this.rangeSelectionTriggeredX=!0,this.props.onRangeSelectionX(d.event.selection))}},{key:"brushedXEnded",value:function(){var e=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,this.sourceEvent&&this.props.onRangeSelectionX&&this.props.is1dRangeSelection&&!e&&(this.rangeSelectionTriggeredX=!0,this.rangeSelectionTriggeredXEnd=!0,this.props.onRangeSelectionXEnd(d.event.selection))}},{key:"brushedY",value:function(){var e=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,this.sourceEvent&&this.props.onRangeSelectionY&&this.props.is1dRangeSelection&&!e&&(this.rangeSelectionTriggeredY=!0,this.props.onRangeSelectionY(d.event.selection))}},{key:"brushedYEnded",value:function(){var e=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,this.sourceEvent&&this.props.onRangeSelectionY&&this.props.is1dRangeSelection&&!e&&(this.rangeSelectionTriggeredY=!0,this.rangeSelectionTriggeredYEnd=!0,this.props.onRangeSelectionYEnd(d.event.selection))}},{key:"brushedXY",value:function(){var e=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,this.sourceEvent&&this.props.onRangeSelectionXY&&!e&&!this.props.is1dRangeSelection&&(this.rangeSelectionTriggeredXY=!0,this.props.onRangeSelectionXY([[d.event.selection[0][0],d.event.selection[1][0]],[d.event.selection[0][1],d.event.selection[1][1]]]))}},{key:"brushedXYEnded",value:function(){if(!this.props.is1dRangeSelection){var e=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,d.event.selection&&d.event.sourceEvent&&this.props.onRangeSelectionXY&&!e&&(this.rangeSelectionTriggeredXY=!0,this.rangeSelectionTriggeredXYEnd=!0,this.props.onRangeSelectionXYEnd([[d.event.selection[0][0],d.event.selection[1][0]],[d.event.selection[0][1],d.event.selection[1][1]]])),d.event.selection||(this.rangeSelectionTriggeredXY=!0,this.props.onRangeSelectionReset())}}},{key:"brushStarted",value:function(){this.sourceEvent&&this.props.onRangeSelectionStart()}},{key:"moveBrushX",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.brushEl||this.sourceEvent){this.brushIs2dBound&&(this.removeBrush2d(),this.addBrush1d());var n=e?[this.props.scaleX(e[0]),this.props.scaleX(e[1])]:null;this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,t?this.brushElX.transition().call(this.brushBehaviorX.move,n):this.brushElX.call(this.brushBehaviorX.move,n)}}},{key:"moveBrushY",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.brushEl||this.sourceEvent){this.brushIs2dBound&&(this.removeBrush2d(),this.addBrush1d());var n=e?[this.props.scaleY(e[0]),this.props.scaleY(e[1])]:null;this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,t?this.brushElY.transition().call(this.brushBehaviorY.move,n):this.brushElY.call(this.brushBehaviorY.move,n)}}},{key:"moveBrushXY",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.brushEl||this.sourceEvent){var n=[[this.props.scaleX(e[0][0]),this.props.scaleY(e[1][0])],[this.props.scaleX(e[0][1]),this.props.scaleY(e[1][1])]];this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,t?this.brushElXY.transition().call(this.brushBehaviorXY.move,n):this.brushElXY.call(this.brushBehaviorXY.move,n)}}},{key:"mouseEnterHandler",value:function(){this.props.isRangeSelectionActive||this.setState({isVisible:!0})}},{key:"mouseLeaveHandler",value:function(){this.setState({isVisible:!1})}},{key:"removeBrush1d",value:function(){this.brushIs1dBound&&(this.brushElX&&(this.brushElX.call(this.brushBehaviorX.move,null),this.brushElX.on(".brush",null)),this.brushElY&&(this.brushElY.call(this.brushBehaviorY.move,null),this.brushElY.on(".brush",null)),this.brushIs1dBound=!1)}},{key:"removeBrush2d",value:function(){this.brushIs2dBound&&this.brushElXY&&(this.brushElXY.call(this.brushBehaviorXY.move,null),this.brushElXY.on(".brush",null),this.brushElXYOld=void 0,this.brushIs2dBound=!1,this.props.is1dRangeSelection||this.props.onRangeSelectionReset())}},{key:"render",value:function(){var e=this,t=this.props.tracks.map((function(e){return(0,m.IS_TRACK_RANGE_SELECTABLE)(e)})).reduce(p.or,!1),n=this.props.tracks.some((function(e){return e.contents?e.contents.some((function(e){return"heatmap"===e.type&&"topRight"===e.options.colorbarPosition})):"heatmap"===e.type&&"topRight"===e.options.colorbarPosition})),r="stylesTrack.track-range-selection";this.props.isRangeSelectionActive&&(r+=this.props.is1dRangeSelection?"-active-secondary":"-active-primary");var i=this.props.is1dRangeSelection?"":"stylesTrack.track-range-selection-group-inactive",o=this.props.is1dRangeSelection?"stylesTrack.track-range-selection-group-inactive":"";return c.default.createElement("div",{className:(this.props.className?this.props.className+" ":"")+"CenterTrack-module_center-track-3ptRW",onMouseEnter:this.mouseEnterHandler.bind(this),onMouseLeave:this.mouseLeaveHandler.bind(this),style:{height:this.props.height,width:this.props.width}},t&&c.default.createElement("svg",{style:{height:this.props.height,width:this.props.width},xmlns:"http://www.w3.org/2000/svg",className:(0,l.default)(r,y)},c.default.createElement("g",{ref:function(t){e.brushElX=(0,d.select)(t)},className:(0,l.default)(i,y)}),c.default.createElement("g",{ref:function(t){e.brushElY=(0,d.select)(t)},className:(0,l.default)(i,y)}),c.default.createElement("g",{ref:function(t){e.brushElXY=(0,d.select)(t)},className:(0,l.default)(o,y)})),this.props.editable&&c.default.createElement(h.default,{imgStyleAdd:b,imgStyleClose:b,imgStyleMove:b,imgStyleSettings:b,isMoveable:!1,isVisible:this.state.isVisible||this.props.uid===this.props.configTrackMenuId,onAddSeries:this.props.onAddSeries,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,paddingRight:n,uid:this.props.uid}))}},{key:"sourceEvent",get:function(){return d.event&&d.event.sourceEvent}}]),t}(c.default.Component);_.defaultProps={className:"center-track",configTrackMenuId:null,is1dRangeSelection:!1,rangeSelectionEnd:u.default.bool,isRangeSelectionActive:!1,scaleX:function(e){return e},scaleY:function(e){return e}},_.propTypes={className:u.default.string,configTrackMenuId:u.default.string,editable:u.default.bool.isRequired,height:u.default.number.isRequired,is1dRangeSelection:u.default.bool,isRangeSelectionActive:u.default.bool,onAddSeries:u.default.func.isRequired,onCloseTrackMenuOpened:u.default.func.isRequired,onConfigTrackMenuOpened:u.default.func.isRequired,onRangeSelectionX:u.default.func.isRequired,onRangeSelectionXEnd:u.default.func.isRequired,onRangeSelectionY:u.default.func.isRequired,onRangeSelectionYEnd:u.default.func.isRequired,onRangeSelectionXY:u.default.func.isRequired,onRangeSelectionXYEnd:u.default.func.isRequired,onRangeSelectionReset:u.default.func.isRequired,onRangeSelectionStart:u.default.func.isRequired,rangeSelection:u.default.array.isRequired,rangeSelectionEnd:u.default.bool,scaleX:u.default.func,scaleY:u.default.func,tracks:u.default.array.isRequired,uid:u.default.string.isRequired,width:u.default.number.isRequired},t.default=_},function(e,t,n){e.exports={"track-control":"TrackControl-module_track-control-2zDf3","track-control-vertical":"TrackControl-module_track-control-vertical-2McB_","track-control-dark":"TrackControl-module_track-control-dark-fP2uZ","track-control-active":"TrackControl-module_track-control-active-2JD9i TrackControl-module_track-control-2zDf3","track-control-left":"TrackControl-module_track-control-left-zHd9W","track-control-vertical-active":"TrackControl-module_track-control-vertical-active-1QCKn","track-control-padding-right":"TrackControl-module_track-control-padding-right-2p6Lp","track-control-button":"TrackControl-module_track-control-button-2fdIb","track-control-button-vertical":"TrackControl-module_track-control-button-vertical-1s22z"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=p(n(51)),i=p(n(5)),o=p(n(3)),a=p(n(4)),s=p(n(6)),l=p(n(7)),u=p(n(33)),c=p(n(2)),f=p(n(1)),d=p(n(27)),h=p(n(69));function p(e){return e&&e.__esModule?e:{default:e}}n(589);var m={"../styles/DragListeningDiv.module.scss":{"drag-listening-div-active":"DragListeningDiv-module_drag-listening-div-active-3wpRk"}},v=function(e){function t(e){(0,o.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.state={dragOnTop:!1},n}return(0,l.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){var e=this,t="red";this.props.enabled&&this.state.dragOnTop?t="green":this.props.enabled&&(t="blue");var n=this.props.enabled?"drag-listening-div-active":"";return f.default.createElement("div",{onDragEnter:function(){e.setState({dragOnTop:!0})},onDragLeave:function(){e.setState({dragOnTop:!1})},onDragOver:function(e){e.preventDefault()},onDrop:function(){if(e.props.enabled){var t=e.props.draggingHappening,n={type:e.props.defaultTrackType,uid:d.default.nice(),tilesetUid:t.tilesetUid,server:t.server};e.props.onTrackDropped(n),e.props.pubSub.publish("trackDropped",n)}},style:(0,r.default)({background:t,opacity:.6},this.props.style),className:"DragListeningDiv "+(0,u.default)(n,m)})}}]),t}(f.default.Component);v.defaultProps={enabled:!1,style:{},draggingHappening:{},onTrackDropped:function(){}},v.propTypes={enabled:c.default.bool,style:c.default.object,defaultTrackType:c.default.object,draggingHappening:c.default.object,onTrackDropped:c.default.func,position:c.default.string.isRequired,pubSub:c.default.object.isRequired},t.default=(0,h.default)(v)},function(e,t,n){e.exports={"drag-listening-div-active":"DragListeningDiv-module_drag-listening-div-active-3wpRk"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(5)),i=f(n(3)),o=f(n(4)),a=f(n(6)),s=f(n(7)),l=f(n(2)),u=f(n(1)),c=f(n(170));function f(e){return e&&e.__esModule?e:{default:e}}f(n(591)),f(n(173)),f(n(172));var d={pointerEvents:"all"},h=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.state={hovering:!1},n}return(0,s.default)(t,e),(0,o.default)(t,[{key:"mouseEnterHandler",value:function(){this.setState({hovering:!0})}},{key:"mouseLeaveHandler",value:function(){this.setState({hovering:!1})}},{key:"render",value:function(){var e=this;return u.default.createElement("div",{className:"gallery-tracks GalleryTracks-module_gallery-tracks-3tsUO"},this.props.tracks&&this.props.tracks.map((function(t,n){return u.default.createElement("div",{key:t.uid||n,onMouseLeave:e.mouseLeaveHandler.bind(e),style:{top:t.height*n,right:t.height*n,bottom:t.height*n,left:t.height*n},className:"GalleryTracks-module_gallery-track-eGKoq"},u.default.createElement("div",{onMouseEnter:e.mouseEnterHandler.bind(e),style:{top:0,right:0,left:0,height:t.height},className:"GalleryTracks-module_gallery-sub-track-z1HEh"}),u.default.createElement("div",{onMouseEnter:e.mouseEnterHandler.bind(e),style:{top:0,right:0,bottom:0,width:t.height},className:"GalleryTracks-module_gallery-sub-track-z1HEh"}),u.default.createElement("div",{onMouseEnter:e.mouseEnterHandler.bind(e),style:{right:0,bottom:0,left:0,height:t.height},className:"GalleryTracks-module_gallery-sub-track-z1HEh"}),u.default.createElement("div",{onMouseEnter:e.mouseEnterHandler.bind(e),style:{top:0,bottom:0,left:0,width:t.height},className:"GalleryTracks-module_gallery-sub-track-z1HEh"}),u.default.createElement("div",{onMouseLeave:e.mouseLeaveHandler.bind(e),style:{top:t.height,right:t.height,bottom:t.height,left:t.height},className:"GalleryTracks-module_gallery-invisible-track-1hMJp"}),e.props.editable&&u.default.createElement(c.default,{configMenuVisible:!0,imgStyleAdd:d,imgStyleClose:d,imgStyleMove:d,imgStyleSettings:d,isMoveable:!1,isVisible:e.state.hovering,onCloseTrackMenuOpened:e.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:e.props.onConfigTrackMenuOpened,uid:t.uid||n}))})))}}]),t}(u.default.Component);h.propTypes={editable:l.default.bool.isRequired,onCloseTrackMenuOpened:l.default.func.isRequired,onConfigTrackMenuOpened:l.default.func.isRequired,tracks:l.default.array.isRequired},t.default=h},function(e,t,n){e.exports={"gallery-tracks":"GalleryTracks-module_gallery-tracks-3tsUO","gallery-track":"GalleryTracks-module_gallery-track-eGKoq","gallery-sub-track":"GalleryTracks-module_gallery-sub-track-z1HEh","gallery-invisible-track":"GalleryTracks-module_gallery-invisible-track-1hMJp"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=pe(n(35)),i=pe(n(19)),o=pe(n(45)),a=pe(n(25)),s=pe(n(16)),l=pe(n(21)),u=pe(n(5)),c=pe(n(3)),f=pe(n(4)),d=pe(n(6)),h=pe(n(7)),p=pe(n(1)),m=pe(n(2)),v=n(153),g=n(0),y=n(28),b=pe(n(27)),_=pe(n(41)),x=pe(n(134)),w=pe(n(247)),E=pe(n(339)),T=pe(n(340)),S=pe(n(342)),k=pe(n(343)),O=pe(n(249)),C=pe(n(344)),A=pe(n(607)),M=pe(n(112)),P=pe(n(349)),I=pe(n(350)),D=pe(n(252)),N=pe(n(351)),R=pe(n(609)),L=pe(n(352)),j=pe(n(610)),F=pe(n(174)),B=pe(n(253)),z=pe(n(353)),H=pe(n(354)),U=pe(n(611)),V=pe(n(355)),G=pe(n(356)),W=pe(n(612)),q=pe(n(613)),Y=pe(n(614)),X=pe(n(357)),$=pe(n(358)),K=pe(n(615)),Z=pe(n(359)),Q=pe(n(616)),J=pe(n(617)),ee=pe(n(618)),te=pe(n(619)),ne=pe(n(360)),re=pe(n(629)),ie=pe(n(136)),oe=pe(n(630)),ae=pe(n(361)),se=pe(n(631)),le=pe(n(80)),ue=pe(n(69)),ce=pe(n(632)),fe=pe(n(79)),de=n(10),he=n(11);function pe(e){return e&&e.__esModule?e:{default:e}}n(646);var me=function(e){function t(e){(0,c.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return n.dragging=!1,n.element=null,n.closing=!1,n.yPositionOffset=0,n.xPositionOffset=0,n.scrollTop=0,n.scrollTimeout=null,n.activeTransitions=0,n.zoomTransform=v.zoomIdentity,n.windowScrolledBound=n.windowScrolled.bind(n),n.zoomStartedBound=n.zoomStarted.bind(n),n.zoomedBound=n.zoomed.bind(n),n.zoomEndedBound=n.zoomEnded.bind(n),n.uid=b.default.nice(),n.availableForPlugins=he.AVAILABLE_FOR_PLUGINS,n.availableForPlugins.services.pubSub=n.props.pubSub,n.availableForPlugins.services.pixiRenderer=n.props.pixiRenderer,n.mounted=!1,n.emptyZoomBehavior=(0,v.zoom)(),n.currentProps=e,n.prevPropsStr="",n.zoomBehavior=(0,v.zoom)().filter((function(){return!g.event.target.classList.contains("no-zoom")&&!g.event.target.classList.contains("react-resizable-handle")})).on("start",n.zoomStartedBound).on("zoom",n.zoomedBound).on("end",n.zoomEndedBound),n.zoomTransform=v.zoomIdentity,n.prevZoomTransform=v.zoomIdentity,n.initialXDomain=[0,1],n.initialYDomain=[0,1],n.xDomainLimits=[-1/0,1/0],n.yDomainLimits=[-1/0,1/0],n.zoomLimits=[0,1/0],n.prevCenterX=n.currentProps.paddingLeft+n.currentProps.leftWidth+n.currentProps.centerWidth/2,n.prevCenterY=n.currentProps.paddingTop+n.currentProps.topHeight+n.currentProps.centerHeight/2,n.cumCenterXOffset=0,n.cumCenterYOffset=0,n.setUpInitialScales(n.currentProps.initialXDomain,n.currentProps.initialYDomain,n.currentProps.xDomainLimits,n.currentProps.yDomainLimits,n.currentProps.zoomLimits),n.setUpScales(),n.trackDefObjects={},n.metaTracks={},n.pubSubs=[],window.higlassTracksByType&&(0,l.default)(window.higlassTracksByType).forEach((function(e){he.TRACKS_INFO_BY_TYPE[e]=window.higlassTracksByType[e].config})),n.boundForwardEvent=n.forwardEvent.bind(n),n.boundScrollEvent=n.scrollEvent.bind(n),n.boundForwardContextMenu=n.forwardContextMenu.bind(n),n.dispatchEventBound=n.dispatchEvent.bind(n),n.zoomToDataPosHandlerBound=n.zoomToDataPosHandler.bind(n),n.onScrollHandlerBound=n.onScrollHandler.bind(n),n}return(0,h.default)(t,e),(0,f.default)(t,[{key:"UNSAFE_componentWillMount",value:function(){this.pubSubs=[],this.pubSubs.push(this.props.pubSub.subscribe("scroll",this.windowScrolledBound)),this.pubSubs.push(this.props.pubSub.subscribe("app.event",this.dispatchEventBound)),this.pubSubs.push(this.props.pubSub.subscribe("zoomToDataPos",this.zoomToDataPosHandlerBound)),this.pubSubs.push(this.props.pubSub.subscribe("app.scroll",this.onScrollHandlerBound))}},{key:"componentDidMount",value:function(){if(this.elementPos=this.element.getBoundingClientRect(),this.elementSelection=(0,g.select)(this.element),this.svgTrackAreaSelection=(0,g.select)(this.svgTrackArea),this.pStage=new he.GLOBALS.PIXI.Graphics,this.pMask=new he.GLOBALS.PIXI.Graphics,this.pOutline=new he.GLOBALS.PIXI.Graphics,this.pBackground=new he.GLOBALS.PIXI.Graphics,this.pStage.addChild(this.pMask),this.pStage.addChild(this.pOutline),this.currentProps.pixiStage.addChild(this.pStage),this.pStage.mask=this.pMask,this.props.isRangeSelection||this.addZoom(),this.currentProps.svgElement&&this.currentProps.canvasElement){this.svgElement=this.currentProps.svgElement,this.syncTrackObjects(this.currentProps.positionedTracks),this.syncMetaTracks(this.currentProps.metaTracks),this.currentProps.setCentersFunction(this.setCenter.bind(this)),this.currentProps.registerDraggingChangedListener(this.draggingChanged.bind(this)),this.draggingChanged(!0),this.addEventTracker();var e=[[this.xScale(this.xDomainLimits[0]),this.yScale(this.yDomainLimits[0])],[this.xScale(this.xDomainLimits[1]),this.yScale(this.yDomainLimits[1])]],t=this.svgElement.getBoundingClientRect(),n=[[Math.max(e[0][0],0),Math.max(e[0][1],0)],[Math.min(e[1][0],t.width),Math.min(e[1][1],t.height)]];this.zoomBehavior.extent(n).translateExtent(e).scaleExtent(this.zoomLimits)}}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(e.svgElement&&e.canvasElement){var t=this.updatablePropsToString(e);if(this.currentProps=e,this.prevPropsStr!==t){for(var n in this.setBackground(),this.trackDefObjects)this.trackDefObjects[n].trackObject.delayDrawing=!0;this.prevPropsStr=t,this.setUpInitialScales(e.initialXDomain,e.initialYDomain,e.xDomainLimits,e.yDomainLimits,e.zoomLimits),this.setUpScales(e.width!==this.props.width||e.height!==this.props.height),this.svgElement=e.svgElement;var r=[[this.xScale(this.xDomainLimits[0]),this.yScale(this.yDomainLimits[0])],[this.xScale(this.xDomainLimits[1]),this.yScale(this.yDomainLimits[1])]],i=this.svgElement.getBoundingClientRect(),o=[[Math.max(r[0][0],0),Math.max(r[0][1],0)],[Math.min(r[1][0],i.width),Math.min(r[1][1],i.height)]];this.zoomBehavior.extent(o).translateExtent(r).scaleExtent(this.zoomLimits),this.syncTrackObjects(e.positionedTracks),this.syncMetaTracks(e.metaTracks);var a=!0,l=!1,u=void 0;try{for(var c,f=(0,s.default)(e.positionedTracks);!(a=(c=f.next()).done);a=!0){var d=c.value,h=d.track.options,p=this.trackDefObjects[d.track.uid].trackObject;if(p.rerender(h),d.track.hasOwnProperty("contents")){var m={},v=!0,g=!1,y=void 0;try{for(var b,_=(0,s.default)(d.track.contents);!(v=(b=_.next()).done);v=!0){var x=b.value;m[x.uid]=x}}catch(S){g=!0,y=S}finally{try{!v&&_.return&&_.return()}finally{if(g)throw y}}for(var w in p.createdTracks)p.createdTracks[w].rerender(m[w].options)}}}catch(S){l=!0,u=S}finally{try{!a&&f.return&&f.return()}finally{if(l)throw u}}for(var E in this.props.onNewTilesLoaded(),this.trackDefObjects){var T=this.trackDefObjects[E].trackObject;T.delayDrawing=!1,T.draw()}}}}},{key:"componentDidUpdate",value:function(e){this.props.initialXDomain[0]===e.initialXDomain[0]&&this.props.initialXDomain[1]===e.initialXDomain[1]&&this.props.initialYDomain[0]===e.initialYDomain[0]&&this.props.initialYDomain[1]===e.initialYDomain[1]||(this.element.__zoom=v.zoomIdentity),e.isRangeSelection!==this.props.isRangeSelection&&(this.props.isRangeSelection?this.removeZoom():this.addZoom()),e.zoomable!==this.props.zoomable&&(this.props.zoomable?this.addZoom():this.removeZoom()),this.addEventTracker()}},{key:"componentWillUnmount",value:function(){var e=this;this.mounted=!1,this.removeTracks((0,l.default)(this.trackDefObjects)),this.removeMetaTracks((0,l.default)(this.metaTracks)),this.currentProps.removeDraggingChangedListener(this.draggingChanged),this.currentProps.pixiStage.removeChild(this.pStage),this.pMask.destroy(!0),this.pStage.destroy(!0),this.pubSubs.forEach((function(t){return e.props.pubSub.unsubscribe(t)})),this.pubSubs=[],this.removeEventTracker()}},{key:"dispatchEvent",value:function(e){e.sourceUid===this.uid&&"contextmenu"!==e.type&&(0,de.forwardEvent)(e,this.element)}},{key:"isWithin",value:function(e,t){if(!this.element)return!1;var n=e>=this.elementPos.left&&e<=this.elementPos.width+this.elementPos.left,r=t>=this.elementPos.top&&t<=this.elementPos.height+this.elementPos.top;return n&&r}},{key:"zoomToDataPosHandler",value:function(e){var t=e.pos,n=e.animateTime,r=e.isMercator;this.zoomToDataPos.apply(this,(0,a.default)(t).concat([n,r]))}},{key:"addZoom",value:function(){this.elementSelection&&this.currentProps.zoomable&&(this.elementSelection.call(this.zoomBehavior),this.zoomBehavior.transform(this.elementSelection,this.zoomTransform))}},{key:"removeZoom",value:function(){this.elementSelection&&(this.zoomEnded(),this.elementSelection.on(".zoom",null))}},{key:"setMask",value:function(){this.pMask.clear(),this.pMask.beginFill(),this.pMask.drawRect(this.xPositionOffset,this.yPositionOffset,this.currentProps.width,this.currentProps.height),this.pMask.endFill()}},{key:"setBackground",value:function(){var e=this.props.theme===he.THEME_DARK?"black":"white",t=(0,de.colorToHex)(this.currentProps.viewOptions&&this.currentProps.viewOptions.backgroundColor||e);this.pBackground.clear(),this.pBackground.beginFill(t),this.pBackground.drawRect(this.xPositionOffset,this.yPositionOffset,this.currentProps.width,this.currentProps.height),this.pBackground.endFill()}},{key:"windowScrolled",value:function(){var e=this;this.removeZoom(),this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout((function(){e.addZoom()}),100)}},{key:"setUpInitialScales",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,1],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[-1/0,1/0],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[-1/0,1/0],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[0,1/0];i[0]=null===i[0]?0:i[0],i[1]=null===i[1]?1/0:i[1];var o=e[1]-e[0],a=(t[0]+t[1])/2;t[0]=a-o/2,t[1]=a+o/2,e[0]===this.initialXDomain[0]&&e[1]===this.initialXDomain[1]&&t[0]===this.initialYDomain[0]&&t[1]===this.initialYDomain[1]&&n[0]===this.xDomainLimits[0]&&n[1]===this.xDomainLimits[1]&&r[0]===this.yDomainLimits[0]&&r[1]===this.yDomainLimits[1]&&i[0]===this.zoomLimits[0]&&i[1]===this.zoomLimits[1]||(this.initialXDomain=e,this.initialYDomain=t,this.xDomainLimits=n,this.yDomainLimits=r,this.zoomLimits=i,this.zoomTransform=v.zoomIdentity,this.prevZoomTransform=v.zoomIdentity,this.cumCenterYOffset=0,this.cumCenterXOffset=0,this.drawableToDomainX=(0,y.scaleLinear)().domain([this.currentProps.paddingLeft+this.currentProps.leftWidth,this.currentProps.paddingLeft+this.currentProps.leftWidth+this.currentProps.centerWidth]).range([e[0],e[1]]),this.drawableToDomainY=(0,y.scaleLinear)().domain([this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2-this.currentProps.centerWidth/2,this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2+this.currentProps.centerWidth/2]).range([t[0],t[1]]),this.prevCenterX=this.currentProps.paddingLeft+this.currentProps.leftWidth+this.currentProps.centerWidth/2,this.prevCenterY=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2)}},{key:"updatablePropsToString",value:function(e){return(0,o.default)({positionedTracks:e.positionedTracks,initialXDomain:e.initialXDomain,initialYDomain:e.initialYDomain,width:e.width,height:e.height,paddingLeft:e.paddingLeft,paddingTop:e.paddingTop,leftWidth:e.leftWidth,topHeight:e.topHeight,dragging:e.dragging,viewOptions:e.viewOptions})}},{key:"draggingChanged",value:function(e){this.dragging=e,this.timedUpdatePositionAndDimensions()}},{key:"setUpScales",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.currentProps.paddingLeft+this.currentProps.leftWidth+this.currentProps.centerWidth/2,n=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2,r=(this.drawableToDomainX(t)-this.drawableToDomainX(this.prevCenterX))/this.zoomTransform.k,i=(this.drawableToDomainY(n)-this.drawableToDomainY(this.prevCenterY))/this.zoomTransform.k;this.cumCenterYOffset+=i,this.cumCenterXOffset+=r,this.prevCenterY=n,this.prevCenterX=t;var o=[this.drawableToDomainX(0)-this.cumCenterXOffset,this.drawableToDomainX(this.currentProps.width)-this.cumCenterXOffset],a=[this.drawableToDomainY(0)-this.cumCenterYOffset,this.drawableToDomainY(this.currentProps.height)-this.cumCenterYOffset];for(var s in this.xScale=(0,y.scaleLinear)().domain(o).range([0,this.currentProps.width]),this.yScale=(0,y.scaleLinear)().domain(a).range([0,this.currentProps.height]),this.trackDefObjects){var l=this.trackDefObjects[s].trackObject;l.refScalesChanged(this.xScale,this.yScale)}this.applyZoomTransform(e)}},{key:"getTrackDef",value:function(e){var t=(0,de.dictItems)(this.trackDefObjects),n=!0,r=!1,o=void 0;try{for(var a,l=(0,s.default)(t);!(n=(a=l.next()).done);n=!0){var u=a.value,c=(0,i.default)(u,2)[1],f=c.trackDef,d=c.trackObject;if(d===e)return f.track;if(f.track.contents){var h=!0,p=!1,m=void 0;try{for(var v,g=(0,s.default)(f.track.contents);!(h=(v=g.next()).done);h=!0){var y=v.value;if(d.createdTracks[y.uid]===e)return y}}catch(b){p=!0,m=b}finally{try{!h&&g.return&&g.return()}finally{if(p)throw m}}}}}catch(b){r=!0,o=b}finally{try{!n&&l.return&&l.return()}finally{if(r)throw o}}return null}},{key:"getTrackObject",value:function(e){for(var t=(0,de.dictItems)(this.trackDefObjects),n=0;n<t.length;n++){var r=t[n][0],i=t[n][1].trackObject;if(r===e)return i;if(i.createdTracks)for(var o=(0,de.dictItems)(i.createdTracks),a=0;a<o.length;a++){var s=o[a][0],l=o[a][1];if(s===e)return l}}}},{key:"timedUpdatePositionAndDimensions",value:function(){!this.closing&&this.element&&(this.elementPos=this.element.getBoundingClientRect(),this.dragging&&(this.yPositionOffset=this.element.getBoundingClientRect().top-this.currentProps.canvasElement.getBoundingClientRect().top+this.scrollTop,this.xPositionOffset=this.element.getBoundingClientRect().left-this.currentProps.canvasElement.getBoundingClientRect().left,this.setMask(),this.setBackground(),this.updateTrackPositions()&&this.applyZoomTransform(!0),requestAnimationFrame(this.timedUpdatePositionAndDimensions.bind(this))))}},{key:"syncMetaTracks",value:function(e){var t=this,n=(0,l.default)(this.metaTracks),i=new r.default(e.map((function(e){return e.uid})));this.addMetaTracks(e.filter((function(e){return!t.metaTracks[e.uid]}))),this.updateMetaTracks(e.filter((function(e){return t.metaTracks[e.uid]}))),this.removeMetaTracks(n.filter((function(e){return!i.has(e)})))}},{key:"syncTrackObjects",value:function(e){this.prevTrackDefinitions=(0,o.default)(e);for(var t={},n=0;n<e.length;n++)t[e[n].track.uid]=e[n];var i=new r.default((0,l.default)(this.trackDefObjects)),s=new r.default((0,l.default)(t)),u=new r.default([].concat((0,a.default)(s)).filter((function(e){return!i.has(e)}))),c=new r.default([].concat((0,a.default)(i)).filter((function(e){return!s.has(e)}))),f=new r.default([].concat((0,a.default)(s)).filter((function(e){return i.has(e)})));this.updateExistingTrackDefs([].concat((0,a.default)(f)).map((function(e){return t[e]}))),this.addNewTracks([].concat((0,a.default)(u)).map((function(e){return t[e]}))),this.updateExistingTrackDefs([].concat((0,a.default)(u)).map((function(e){return t[e]}))),this.removeTracks([].concat((0,a.default)(c)))}},{key:"addMetaTracks",value:function(e){var t=this;e.filter((function(e){return!t.metaTracks[e.uid]})).forEach((function(e){t.metaTracks[e.uid]={trackDef:e,trackObject:t.createMetaTrack(e)}}))}},{key:"addNewTracks",value:function(e){if(this.currentProps.pixiStage){for(var t=0;t<e.length;t++){var n=e[t],r=this.createTrackObject(n.track);r.refScalesChanged(this.xScale,this.yScale),this.trackDefObjects[n.track.uid]={trackDef:n,trackObject:r};var i=this.zoomTransform.rescaleX(this.xScale),o=this.zoomTransform.rescaleY(this.yScale);r.setDimensions([n.width,n.height]),r.zoomed(i,o)}this.applyZoomTransform(!1)}}},{key:"updateMetaTracks",value:function(){}},{key:"updateExistingTrackDefs",value:function(e){for(var t=0;t<e.length;t++)this.trackDefObjects[e[t].track.uid].trackDef=e[t],"combined"===e[t].track.type&&this.trackDefObjects[e[t].track.uid].trackObject.updateContents(e[t].track.contents,this.createTrackObject.bind(this)).refScalesChanged(this.xScale,this.yScale);this.updateTrackPositions()&&this.applyZoomTransform(!1)}},{key:"updateTrackPositions",value:function(){var e=!1;for(var t in this.trackDefObjects){var n=this.trackDefObjects[t].trackDef,r=this.trackDefObjects[t].trackObject,i=r.position,o=r.dimensions,a=[this.xPositionOffset+n.left,this.yPositionOffset+n.top],s=[n.width,n.height];i&&a[0]===i[0]&&a[1]===i[1]||(r.setPosition(a),e=!0),o&&s[0]===o[0]&&s[1]===o[1]||(r.setDimensions(s),e=!0)}return e}},{key:"removeMetaTracks",value:function(e){var t=this;e.forEach((function(e){t.metaTracks[e].trackObject.remove(),t.metaTracks[e]=void 0,delete t.metaTracks[e]}))}},{key:"removeTracks",value:function(e){for(var t=0;t<e.length;t++)this.trackDefObjects[e[t]].trackObject.remove(),delete this.trackDefObjects[e[t]]}},{key:"setCenter",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=this,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.xScale,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this.yScale,l=this.xScale.invert(1)-this.xScale.invert(0),u=l/n,c=this.currentProps.paddingLeft+this.currentProps.leftWidth+this.currentProps.centerWidth/2,f=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2,d=c-a(e)*u,h=f-s(t)*u,p=void 0,m=function(){var e=v.zoomIdentity.translate(d,h).scale(u);o.zoomTransform=e,o.emptyZoomBehavior.transform(o.elementSelection,e),p=o.applyZoomTransform(r)};if(i){var g=this.elementSelection;this.activeTransitions+=1,document.hidden||(g=g.transition().duration(i)),g.call(this.zoomBehavior.transform,v.zoomIdentity.translate(d,h).scale(u)).on("end",(function(){m(),o.activeTransitions-=1}))}else m();return p}},{key:"valueScaleMove",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=(0,s.default)(this.getTracksAtPosition.apply(this,(0,a.default)(this.zoomStartPos)));!(t=(i=o.next()).done);t=!0)i.value.movedY(e)}catch(l){n=!0,r=l}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}this.zoomTransform=this.zoomStartTransform}},{key:"valueScaleZoom",value:function(e){var t,n,r=(t=g.event.sourceEvent.deltaY,n=g.event.sourceEvent.deltaMode,t*(n?120:1)/500),i=(0,g.clientPoint)(this.props.canvasElement,g.event.sourceEvent),o=!0,l=!1,u=void 0;try{for(var c,f=(0,s.default)(this.getTracksAtPosition.apply(this,(0,a.default)(i)));!(o=(c=f.next()).done);o=!0){var d=c.value,h="1d-horizontal"===e?i[1]-d.position[1]:i[0]-d.position[0];d.zoomedY(h,Math.pow(2,r))}}catch(p){l=!0,u=p}finally{try{!o&&f.return&&f.return()}finally{if(l)throw u}}this.zoomTransform=this.zoomStartTransform}},{key:"zoomed",value:function(){var e=null;if(this.zoomStartPos){var t=this.getTracksAtPosition.apply(this,(0,a.default)(this.zoomStartPos));if(t.length){var n=t[0],r=this.getTrackDef(n);he.TRACKS_INFO_BY_TYPE[r.type]&&(e=he.TRACKS_INFO_BY_TYPE[r.type].orientation)}}if(e&&g.event.sourceEvent){if(g.event.shiftKey||this.valueScaleZooming){if(void 0!==g.event.sourceEvent.deltaY)return void this.valueScaleZoom(e);"1d-horizontal"===e?this.valueScaleMove(g.event.sourceEvent.movementY):"1d-vertical"===e&&this.valueScaleMove(g.event.sourceEvent.movementX)}"1d-horizontal"===e&&g.event.sourceEvent.movementY?this.valueScaleMove(g.event.sourceEvent.movementY):"1d-vertical"===e&&g.event.sourceEvent.movementX&&this.valueScaleMove(g.event.sourceEvent.movementX)}this.zoomTransform=this.currentProps.zoomable?g.event.transform:v.zoomIdentity,this.prevZoomTransform.k!==this.zoomTransform.k||("1d-horizontal"===e?this.zoomTransform=v.zoomIdentity.translate(this.zoomTransform.x,this.prevZoomTransform.y).scale(this.zoomTransform.k):"1d-vertical"===e&&(this.zoomTransform=v.zoomIdentity.translate(this.prevZoomTransform.x,this.zoomTransform.y).scale(this.zoomTransform.k)),this.element.__zoom=this.zoomTransform),this.applyZoomTransform(!0),this.prevZoomTransform=this.zoomTransform,this.props.pubSub.publish("app.zoom",g.event),g.event.sourceEvent&&(g.event.sourceEvent.stopPropagation(),g.event.sourceEvent.preventDefault())}},{key:"getTracksAtPosition",value:function(e,t){var n=[],r=[];for(var i in this.trackDefObjects){var o=this.trackDefObjects[i].trackObject;o.childTracks?r=r.concat(o.childTracks):r.push(o)}var a=!0,l=!1,u=void 0;try{for(var c,f=(0,s.default)(r);!(a=(c=f.next()).done);a=!0){var d=c.value,h=d.position[0]<=e&&e<=d.position[0]+d.dimensions[0],p=d.position[1]<=t&&t<=d.position[1]+d.dimensions[1];h&&p&&n.push(d)}}catch(m){l=!0,u=m}finally{try{!a&&f.return&&f.return()}finally{if(l)throw u}}return n}},{key:"zoomStarted",value:function(){this.zooming=!0,g.event.sourceEvent&&(this.zoomStartPos=(0,g.clientPoint)(this.props.canvasElement,g.event.sourceEvent),g.event.sourceEvent.shiftKey&&(this.valueScaleZooming=!0)),this.zoomStartTransform=this.zoomTransform,this.props.pubSub.publish("app.zoomStart")}},{key:"zoomEnded",value:function(){this.zooming=!1,this.zoomStartPos=null,this.valueScaleZooming&&(this.valueScaleZooming=!1,this.element.__zoom=this.zoomStartTransform),this.props.pubSub.publish("app.zoomEnd")}},{key:"applyZoomTransform",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.currentProps,n=t.paddingLeft+t.leftWidth,r=t.paddingTop+t.topHeight;this.zoomedXScale=this.zoomTransform.rescaleX(this.xScale),this.zoomedYScale=this.zoomTransform.rescaleY(this.yScale);var i=(0,y.scaleLinear)().domain([n,n+t.centerWidth].map(this.zoomedXScale.invert)).range([0,t.centerWidth]),o=(0,y.scaleLinear)().domain([r,r+t.centerHeight].map(this.zoomedYScale.invert)).range([0,t.centerHeight]);for(var a in this.trackDefObjects){var s=this.trackDefObjects[a].trackObject,l=this.trackDefObjects[a].trackDef,u="unknown";if(he.TRACKS_INFO_BY_TYPE[l.track.type]&&(u=he.TRACKS_INFO_BY_TYPE[l.track.type].orientation),"whole"!==u)if("gallery"!==this.trackDefObjects[a].trackDef.track.position)s.zoomed(i.copy(),o.copy(),this.zoomTransform.k,this.zoomTransform.x+this.xPositionOffset,this.zoomTransform.y+this.yPositionOffset,t.paddingLeft+t.leftWidth,t.paddingTop+t.topHeight);else{var c=(0,y.scaleLinear)().domain([t.paddingLeft+t.leftWidthNoGallery,t.paddingLeft+t.leftWidth+t.centerWidth+t.galleryDim].map(this.zoomedXScale.invert)).range([0,t.centerWidth+2*t.galleryDim]),f=(0,y.scaleLinear)().domain([t.paddingTop+t.topHeightNoGallery,t.paddingTop+t.topHeight+t.centerHeight+t.galleryDim].map(this.zoomedYScale.invert)).range([0,t.centerHeight-2*t.galleryDim]);s.zoomed(c.copy(),f.copy(),this.zoomTransform.k)}else{var d=(0,y.scaleLinear)().domain([t.paddingLeft,t.width-t.paddingLeft].map(this.zoomedXScale.invert)).range([0,t.width-2*t.paddingLeft]),h=(0,y.scaleLinear)().domain([t.paddingTop,t.height-t.paddingTop].map(this.zoomedYScale.invert)).range([0,t.height-2*t.paddingTop]);s.zoomed(d,h)}}return this.currentXScale=i,this.currentYScale=o,e&&this.currentProps.onScalesChanged(i,o),[i,o]}},{key:"createMetaTrack",value:function(e){var t=this;e.type;var n=this.props.pluginTracks[e.type];if(n&&n.isMetaTrack){var r={getTrackObject:this.getTrackObject.bind(this),onNewTilesLoaded:function(){t.currentProps.onNewTilesLoaded(e.uid)},definition:e};try{return new n.track(he.AVAILABLE_FOR_PLUGINS,r,e.options)}catch(i){console.error("Plugin meta track",e.type,"failed to instantiate.",i)}}return console.warn("Unknown meta track of type: "+String(e.type)),new K.default(this.pStage,{name:"Unknown Track Type",type:e.type},(function(){return t.currentProps.onNewTilesLoaded(e.uid)}))}},{key:"createTrackObject",value:function(e){var t=this.createLocationAgnosticTrackObject(e);return"left"!==e.position&&"right"!==e.position||"1d-horizontal"!==he.TRACKS_INFO_BY_TYPE[e.type].orientation?t:new j.default(t)}},{key:"createLocationAgnosticTrackObject",value:function(e){var t=this,n=function(n){t.currentProps.onTilesetInfoReceived(e.uid,n)},r=e.data;r||(r={server:(0,de.trimTrailingSlash)(e.server),tilesetUid:e.tilesetUid}),e.fileUrl&&(r.fileUrl=e.fileUrl,e.filetype?r.filetype=e.filetype:console.warn("fileUrl present without fileType:",e));var i=(0,ce.default)(r,this.props.pubSub),o={id:e.uid,pubSub:this.props.pubSub,scene:this.pStage,dataConfig:r,dataFetcher:i,getLockGroupExtrema:function(){return t.currentProps.getLockGroupExtrema(e.uid)},handleTilesetInfoReceived:n,animate:function(){t.currentProps.onNewTilesLoaded(e.uid)},svgElement:this.svgElement,isValueScaleLocked:function(){return t.currentProps.isValueScaleLocked(e.uid)},onValueScaleChanged:function(){t.currentProps.onValueScaleChanged(e.uid)},onTrackOptionsChanged:function(n){t.currentProps.onTrackOptionsChanged(e.uid,n)},onMouseMoveZoom:this.props.onMouseMoveZoom,chromInfoPath:e.chromInfoPath,isShowGlobalMousePosition:function(){return t.props.isShowGlobalMousePosition},getTheme:function(){return t.props.theme}};e.y&&(o.yPosition=e.y),e.x&&(o.xPosition=e.x),e.projectionXDomain&&(o.projectionXDomain=e.projectionXDomain),e.projectionYDomain&&(o.projectionYDomain=e.projectionYDomain);var a=e.options;switch(e.type){case"left-axis":return new k.default(o,a);case"top-axis":return new S.default(o,a);case"heatmap":return new x.default(o,a);case"horizontal-multivec":case"horizontal-vector-heatmap":return new I.default(o,a);case"vertical-multivec":case"vertical-vector-heatmap":return new j.default(new I.default(o,a));case"horizontal-1d-heatmap":return new R.default(o,a);case"horizontal-line":return new M.default(o,a);case"vertical-line":return new j.default(new M.default(o,a));case"vertical-1d-heatmap":return new j.default(new R.default(o,a));case"horizontal-point":return new P.default(o,a);case"vertical-point":return new j.default(new P.default(o,a));case"horizontal-bar":return new D.default(o,a);case"vertical-bar":return new j.default(new D.default(o,a));case"horizontal-divergent-bar":return new N.default(o,a);case"vertical-divergent-bar":return new j.default(new N.default(o,a));case"horizontal-1d-tiles":return new E.default(o,a);case"vertical-1d-tiles":return new T.default(o,a);case"2d-tiles":return new w.default(o,a);case"top-stacked-interval":return new L.default(o,a);case"left-stacked-interval":return new j.default(new L.default(o,a));case"viewport-projection-center":return e.registerViewportChanged&&e.removeViewportChanged&&e.setDomainsCallback?(o.registerViewportChanged=e.registerViewportChanged,o.removeViewportChanged=e.removeViewportChanged,o.setDomainsCallback=e.setDomainsCallback,new Q.default(o,a)):new F.default(o,a);case"viewport-projection-horizontal":return e.registerViewportChanged&&e.removeViewportChanged&&e.setDomainsCallback?(o.registerViewportChanged=e.registerViewportChanged,o.removeViewportChanged=e.removeViewportChanged,o.setDomainsCallback=e.setDomainsCallback,new J.default(o,a)):new F.default(o,a);case"viewport-projection-vertical":return e.registerViewportChanged&&e.removeViewportChanged&&e.setDomainsCallback?(o.registerViewportChanged=e.registerViewportChanged,o.removeViewportChanged=e.removeViewportChanged,o.setDomainsCallback=e.setDomainsCallback,new ee.default(o,a)):new F.default(o,a);case"horizontal-gene-annotations":return new B.default(o,a);case"vertical-gene-annotations":return new j.default(new B.default(o,a));case"2d-rectangle-domains":case"arrowhead-domains":return new z.default(o,a);case"horizontal-1d-annotations":return new U.default(o,a);case"vertical-1d-annotations":return new U.default(o,a,!0);case"2d-annotations":return new H.default(o,a);case"vertical-2d-rectangle-domains":return new j.default(new V.default(o,a));case"horizontal-2d-rectangle-domains":return new V.default(o,a);case"square-markers":return new G.default(o,a);case"combined":return o.tracks=e.contents,o.createTrackObject=this.createTrackObject.bind(this),new O.default(o,a);case"2d-chromosome-labels":return new W.default(o,a);case"horizontal-chromosome-grid":return o.orientation="1d-horizontal",new q.default(o,a);case"vertical-chromosome-grid":return o.orientation="1d-vertical",new q.default(o,a);case"2d-chromosome-grid":return new q.default(o,a);case"horizontal-chromosome-labels":return new X.default(o,a);case"vertical-chromosome-labels":return new j.default(new X.default(o,a));case"horizontal-heatmap":return new $.default(o,a);case"vertical-heatmap":return new j.default(new $.default(o,a));case"2d-chromosome-annotations":return new Y.default(o,a);case"horizontal-1d-value-interval":return new Z.default(o,a);case"vertical-1d-value-interval":return new j.default(new Z.default(o,a));case"osm":case"osm-tiles":return new ie.default(o,a);case"osm-2d-tile-ids":return new oe.default(o,a);case"mapbox":case"mapbox-tiles":return new ae.default(o,a);case"raster-tiles":return new se.default(o,a);case"bedlike":return new C.default(o,a);case"overlay-track":return new A.default(o,a);case"overlay-chromosome-grid-track":return o.isOverlay=!0,new q.default(o,a);case"horizontal-rule":return new te.default(o,a);case"vertical-rule":return new ne.default(o,a);case"cross-rule":return o.x=e.x,o.y=e.y,new re.default(o,a);case"vertical-bedlike":return new j.default(new C.default(o,a));case"simple-svg":return new le.default(o,a);case"empty":return new _.default(o,a);default:var s=this.props.pluginTracks[e.type];if(s&&!s.isMetaTrack){o.AVAILABLE_FOR_PLUGINS=he.AVAILABLE_FOR_PLUGINS,o.baseEl=this.baseEl,o.definition=e;try{return new s.track(he.AVAILABLE_FOR_PLUGINS,o,a)}catch(l){console.error("Plugin track",e.type,"failed to instantiate.",l)}}return console.warn("Unknown track type:",e.type),new K.default(o,{name:"Unknown Track Type",type:e.type})}}},{key:"zoomToDataPos",value:function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:3e3,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=(0,de.scalesCenterAndK)(this.xScale.copy().domain([e,t]),this.yScale.copy().domain([n,r])),l=(0,i.default)(s,3),u=l[0],c=l[1],f=l[2],d=a?a(this.xScale,this.yScale):[this.xScale,this.yScale];this.setCenter(u,c,f,!1,o,d[0],d[1])}},{key:"forwardContextMenu",value:function(e){var t=this;this.props.disableTrackMenu||e.altKey||(e.preventDefault(),setTimeout((function(){t.props.pubSub.publish("contextmenu",e)}),0))}},{key:"addEventTracker",value:function(){this.eventTracker&&this.eventTracker!==this.eventTrackerOld&&(this.eventTrackerOld||(this.eventTrackerOld=this.eventTracker),this.eventTracker=this.eventTrackerOld,this.eventTracker.addEventListener("click",this.boundForwardEvent),this.eventTracker.addEventListener("contextmenu",this.boundForwardContextMenu),this.eventTracker.addEventListener("dblclick",this.boundForwardEvent),this.eventTracker.addEventListener("wheel",this.boundForwardEvent),this.eventTracker.addEventListener("dragstart",this.boundForwardEvent),this.eventTracker.addEventListener("selectstart",this.boundForwardEvent),this.eventTracker.addEventListener("mouseover",this.boundForwardEvent),this.eventTracker.addEventListener("mouseenter",this.boundForwardEvent),this.eventTracker.addEventListener("mousedown",this.boundForwardEvent),this.eventTracker.addEventListener("mouseup",this.boundForwardEvent),this.eventTracker.addEventListener("mouseout",this.boundForwardEvent),this.eventTracker.addEventListener("mouseleave",this.boundForwardEvent),this.eventTracker.addEventListener("touchstart",this.boundForwardEvent),this.eventTracker.addEventListener("touchend",this.boundForwardEvent),this.eventTracker.addEventListener("touchmove",this.boundForwardEvent),this.eventTracker.addEventListener("touchcancel",this.boundForwardEvent),this.eventTracker.addEventListener("pointerover",this.boundForwardEvent),this.eventTracker.addEventListener("pointerenter",this.boundForwardEvent),this.eventTracker.addEventListener("pointerdown",this.boundForwardEvent),this.eventTracker.addEventListener("pointerup",this.boundForwardEvent),this.eventTracker.addEventListener("pointercancel",this.boundForwardEvent),this.eventTracker.addEventListener("pointerout",this.boundForwardEvent),this.eventTracker.addEventListener("pointerleave",this.boundForwardEvent),window.addEventListener("scroll",this.boundScrollEvent))}},{key:"removeEventTracker",value:function(){this.eventTracker&&(this.eventTracker.removeEventListener("click",this.boundForwardEvent),this.eventTracker.removeEventListener("contextmenu",this.boundForwardContextMenu),this.eventTracker.removeEventListener("dblclick",this.boundForwardEvent),this.eventTracker.removeEventListener("wheel",this.boundForwardEvent),this.eventTracker.removeEventListener("dragstart",this.boundForwardEvent),this.eventTracker.removeEventListener("selectstart",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseover",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseenter",this.boundForwardEvent),this.eventTracker.removeEventListener("mousedown",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseup",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseout",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseleave",this.boundForwardEvent),this.eventTracker.removeEventListener("touchstart",this.boundForwardEvent),this.eventTracker.removeEventListener("touchend",this.boundForwardEvent),this.eventTracker.removeEventListener("touchcancel",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerover",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerenter",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerdown",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerup",this.boundForwardEvent),this.eventTracker.removeEventListener("pointercancel",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerout",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerleave",this.boundForwardEvent),window.removeEventListener("scroll",this.boundScrollEvent))}},{key:"scrollEvent",value:function(){this.elementPos=this.element.getBoundingClientRect()}},{key:"forwardEvent",value:function(e){e.sourceUid=this.uid,e.forwarded=!0,this.props.pubSub.publish("app.event",e)}},{key:"onScrollHandler",value:function(e){this.scrollTop=e}},{key:"render",value:function(){var e=this;return p.default.createElement("div",{ref:function(t){e.baseEl=t},className:"track-renderer-div TrackRenderer-module_track-renderer-3TM7n",style:{height:this.currentProps.height,width:this.currentProps.width}},p.default.createElement("div",{ref:function(t){e.element=t},className:"track-renderer-element TrackRenderer-module_track-renderer-element-2i16D"}),p.default.createElement("div",{ref:function(t){e.eventTracker=t},className:"track-renderer-events TrackRenderer-module_track-renderer-events-3tVM2"},this.currentProps.children))}}]),t}(p.default.Component);me.defaultProps={pluginTracks:{},canvasElement:null,centerHeight:0,centerWidth:0,children:[],galleryDim:0,height:0,initialXDomain:[],initialYDomain:[],isShowGlobalMousePosition:!1,isRangeSelection:!1,leftWidth:0,leftWidthNoGallery:0,paddingLeft:0,paddingTop:0,positionedTracks:[],topHeight:0,topHeightNoGallery:0,width:0,metaTracks:[]},me.propTypes={canvasElement:m.default.object,centerHeight:m.default.number,centerWidth:m.default.number,children:m.default.array,disableTrackMenu:m.default.bool,galleryDim:m.default.number,height:m.default.number,initialXDomain:m.default.array,initialYDomain:m.default.array,isShowGlobalMousePosition:m.default.bool,isRangeSelection:m.default.bool,leftWidth:m.default.number,leftWidthNoGallery:m.default.number,paddingLeft:m.default.number,paddingTop:m.default.number,metaTracks:m.default.array,onMouseMoveZoom:m.default.func,onNewTilesLoaded:m.default.func.isRequired,onScalesChanged:m.default.func.isRequired,pixiRenderer:m.default.object.isRequired,pixiStage:m.default.object.isRequired,pluginTracks:m.default.object,positionedTracks:m.default.array,pubSub:m.default.object.isRequired,setCentersFunction:m.default.func,svgElement:m.default.object.isRequired,theme:m.default.symbol.isRequired,topHeight:m.default.number,topHeightNoGallery:m.default.number,viewOptions:m.default.object,width:m.default.number,xDomainLimits:m.default.array,yDomainLimits:m.default.array,valueScaleZoom:m.default.bool,zoomable:m.default.bool.isRequired,zoomDomain:m.default.array},t.default=(0,ue.default)((0,fe.default)(me))},function(e,t,n){e.exports={default:n(594),__esModule:!0}},function(e,t,n){n(595);var r=n(14).Object;e.exports=function(e,t){return r.getOwnPropertyDescriptor(e,t)}},function(e,t,n){var r=n(47),i=n(243).f;n(206)("getOwnPropertyDescriptor",(function(){return function(e,t){return i(r(e),t)}}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(3)),i=o(n(4));function o(e){return e&&e.__esModule?e:{default:e}}var a=new(function(){function e(){(0,r.default)(this,e),this.taskList=[],this.taskHandle=null,this.requestIdleCallbackTimeout=300}return(0,i.default)(e,[{key:"enqueueTask",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null===n?this.taskList.push({handler:e,data:t}):(this.taskList=this.taskList.filter((function(e){return e.trackId!==n})),this.taskList.push({handler:e,data:t,trackId:n})),this.taskHandle||(this.taskHandle=requestIdleCallback(this.runTaskQueue.bind(this),{timeout:this.requestIdleCallbackTimeout}))}},{key:"runTaskQueue",value:function(e){for(;(e.timeRemaining()>0||e.didTimeout)&&this.taskList.length;){var t=this.taskList.shift();null===t.data?t.handler():t.handler(t.data)}this.taskList.length?this.taskHandle=requestIdleCallback(this.runTaskQueue.bind(this),{timeout:this.requestIdleCallbackTimeout}):this.taskHandle=0}}]),e}());t.default=a},function(e,t,n){"use strict";e.exports=function(e,t){switch("undefined"===typeof t&&(t=0),typeof e){case"number":if(e>0)return function(e,t){var n,r;for(n=new Array(e),r=0;r<e;++r)n[r]=t;return n}(0|e,t);break;case"object":if("number"===typeof e.length)return function e(t,n,r){var i=0|t[r];if(i<=0)return[];var o,a=new Array(i);if(r===t.length-1)for(o=0;o<i;++o)a[o]=n;else for(o=0;o<i;++o)a[o]=e(t,n,r+1);return a}(e,t,0)}return[]}},function(e,t,n){"use strict";function r(e,t,n){for(var r=2*(e+1),i=e+1;i<=t;++i){for(var o=n[r++],a=n[r++],s=i,l=r-2;s-- >e;){var u=n[l-2],c=n[l-1];if(u<o)break;if(u===o&&c<a)break;n[l]=u,n[l+1]=c,l-=2}n[l]=o,n[l+1]=a}}function i(e,t,n){t*=2;var r=n[e*=2],i=n[e+1];n[e]=n[t],n[e+1]=n[t+1],n[t]=r,n[t+1]=i}function o(e,t,n){t*=2,n[e*=2]=n[t],n[e+1]=n[t+1]}function a(e,t,n,r){t*=2,n*=2;var i=r[e*=2],o=r[e+1];r[e]=r[t],r[e+1]=r[t+1],r[t]=r[n],r[t+1]=r[n+1],r[n]=i,r[n+1]=o}function s(e,t,n,r,i){t*=2,i[e*=2]=i[t],i[t]=n,i[e+1]=i[t+1],i[t+1]=r}function l(e,t,n){t*=2;var r=n[e*=2],i=n[t];return!(r<i)&&(r!==i||n[e+1]>n[t+1])}function u(e,t,n,r){var i=r[e*=2];return i<t||i===t&&r[e+1]<n}e.exports=function(e,t){t<=128?r(0,t-1,e):function e(t,n,c){var f=(n-t+1)/6|0,d=t+f,h=n-f,p=t+n>>1,m=p-f,v=p+f,g=d,y=m,b=p,_=v,x=h,w=t+1,E=n-1,T=0;l(g,y,c)&&(T=g,g=y,y=T),l(_,x,c)&&(T=_,_=x,x=T),l(g,b,c)&&(T=g,g=b,b=T),l(y,b,c)&&(T=y,y=b,b=T),l(g,_,c)&&(T=g,g=_,_=T),l(b,_,c)&&(T=b,b=_,_=T),l(y,x,c)&&(T=y,y=x,x=T),l(y,b,c)&&(T=y,y=b,b=T),l(_,x,c)&&(T=_,_=x,x=T);for(var S=c[2*y],k=c[2*y+1],O=c[2*_],C=c[2*_+1],A=2*g,M=2*b,P=2*x,I=2*d,D=2*p,N=2*h,R=0;R<2;++R){var L=c[A+R],j=c[M+R],F=c[P+R];c[I+R]=L,c[D+R]=j,c[N+R]=F}o(m,t,c),o(v,n,c);for(var B=w;B<=E;++B)if(u(B,S,k,c))B!==w&&i(B,w,c),++w;else if(!u(B,O,C,c))for(;;){if(u(E,O,C,c)){u(E,S,k,c)?(a(B,w,E,c),++w,--E):(i(B,E,c),--E);break}if(--E<B)break}s(t,w-1,S,k,c),s(n,E+1,O,C,c),w-2-t<=32?r(t,w-2,c):e(t,w-2,c),n-(E+2)<=32?r(E+2,n,c):e(E+2,n,c),E-w<=32?r(w,E,c):e(w,E,c)}(0,t-1,e)}},function(e,t,n){"use strict";e.exports=function(e,t,n,o,c,w,E,T,S){!function(e,t){var n=8*i.log2(t+1)*(e+1)|0,o=i.nextPow2(6*n);g.length<o&&(r.free(g),g=r.mallocInt32(o));var a=i.nextPow2(2*n);y.length<a&&(r.free(y),y=r.mallocDouble(a))}(e,o+E);var k,O=0,C=2*e;for(b(O++,0,0,o,0,E,n?16:0,-1/0,1/0),n||b(O++,0,0,E,0,o,1,-1/0,1/0);O>0;){var A=6*(O-=1),M=g[A],P=g[A+1],I=g[A+2],D=g[A+3],N=g[A+4],R=g[A+5],L=2*O,j=y[L],F=y[L+1],B=1&R,z=!!(16&R),H=c,U=w,V=T,G=S;if(B&&(H=T,U=S,V=c,G=w),!(2&R&&(I=h(e,M,P,I,H,U,F),P>=I))&&!(4&R&&(P=p(e,M,P,I,H,U,j))>=I)){var W=I-P,q=N-D;if(z){if(e*W*(W+q)<1<<22){if(void 0!==(k=l.scanComplete(e,M,t,P,I,H,U,D,N,V,G)))return k;continue}}else{if(e*Math.min(W,q)<128){if(void 0!==(k=a(e,M,t,B,P,I,H,U,D,N,V,G)))return k;continue}if(e*W*q<1<<22){if(void 0!==(k=l.scanBipartite(e,M,t,B,P,I,H,U,D,N,V,G)))return k;continue}}var Y=f(e,M,P,I,H,U,j,F);if(P<Y)if(e*(Y-P)<128){if(void 0!==(k=s(e,M+1,t,P,Y,H,U,D,N,V,G)))return k}else if(M===e-2){if(void 0!==(k=B?l.sweepBipartite(e,t,D,N,V,G,P,Y,H,U):l.sweepBipartite(e,t,P,Y,H,U,D,N,V,G)))return k}else b(O++,M+1,P,Y,D,N,B,-1/0,1/0),b(O++,M+1,D,N,P,Y,1^B,-1/0,1/0);if(Y<I){var X=u(e,M,D,N,V,G),$=V[C*X+M],K=d(e,M,X,N,V,G,$);if(K<N&&b(O++,M,Y,I,K,N,(4|B)+(z?16:0),$,F),D<X&&b(O++,M,Y,I,D,X,(2|B)+(z?16:0),j,$),X+1===K){if(void 0!==(k=z?x(e,M,t,Y,I,H,U,X,V,G[X]):_(e,M,t,B,Y,I,H,U,X,V,G[X])))return k}else if(X<K){var Z;if(z){if(Z=m(e,M,Y,I,H,U,$),Y<Z){var Q=d(e,M,Y,Z,H,U,$);if(M===e-2){if(Y<Q&&void 0!==(k=l.sweepComplete(e,t,Y,Q,H,U,X,K,V,G)))return k;if(Q<Z&&void 0!==(k=l.sweepBipartite(e,t,Q,Z,H,U,X,K,V,G)))return k}else Y<Q&&b(O++,M+1,Y,Q,X,K,16,-1/0,1/0),Q<Z&&(b(O++,M+1,Q,Z,X,K,0,-1/0,1/0),b(O++,M+1,X,K,Q,Z,1,-1/0,1/0))}}else Z=B?v(e,M,Y,I,H,U,$):m(e,M,Y,I,H,U,$),Y<Z&&(M===e-2?k=B?l.sweepBipartite(e,t,X,K,V,G,Y,Z,H,U):l.sweepBipartite(e,t,Y,Z,H,U,X,K,V,G):(b(O++,M+1,Y,Z,X,K,B,-1/0,1/0),b(O++,M+1,X,K,Y,Z,1^B,-1/0,1/0)))}}}}};var r=n(250),i=n(251),o=n(600),a=o.partial,s=o.full,l=n(345),u=n(601),c=n(346),f=c("!(lo>=p0)&&!(p1>=hi)",["p0","p1"]),d=c("lo===p0",["p0"]),h=c("lo<p0",["p0"]),p=c("hi<=p0",["p0"]),m=c("lo<=p0&&p0<=hi",["p0"]),v=c("lo<p0&&p0<=hi",["p0"]),g=r.mallocInt32(1024),y=r.mallocDouble(1024);function b(e,t,n,r,i,o,a,s,l){var u=6*e;g[u]=t,g[u+1]=n,g[u+2]=r,g[u+3]=i,g[u+4]=o,g[u+5]=a;var c=2*e;y[c]=s,y[c+1]=l}function _(e,t,n,r,i,o,a,s,l,u,c){var f=2*e,d=l*f,h=u[d+t];e:for(var p=i,m=i*f;p<o;++p,m+=f){var v=a[m+t],g=a[m+t+e];if(!(h<v||g<h)&&(!r||h!==v)){for(var y,b=s[p],_=t+1;_<e;++_){v=a[m+_],g=a[m+_+e];var x=u[d+_],w=u[d+_+e];if(g<x||w<v)continue e}if(void 0!==(y=r?n(c,b):n(b,c)))return y}}}function x(e,t,n,r,i,o,a,s,l,u){var c=2*e,f=s*c,d=l[f+t];e:for(var h=r,p=r*c;h<i;++h,p+=c){var m=a[h];if(m!==u){var v=o[p+t],g=o[p+t+e];if(!(d<v||g<d)){for(var y=t+1;y<e;++y){v=o[p+y],g=o[p+y+e];var b=l[f+y],_=l[f+y+e];if(g<b||_<v)continue e}var x=n(m,u);if(void 0!==x)return x}}}}},function(e,t,n){"use strict";var r=["d","ax","vv","rs","re","rb","ri","bs","be","bb","bi"];function i(e){var t="bruteForce"+(e?"Full":"Partial"),n=[],i=r.slice();e||i.splice(3,0,"fp");var o=["function "+t+"("+i.join()+"){"];function a(t,i){var a=function(e,t,n){var i="bruteForce"+(e?"Red":"Blue")+(t?"Flip":"")+(n?"Full":""),o=["function ",i,"(",r.join(),"){","var ","es","=2*","d",";"],a="for(var i=rs,rp=es*rs;i<re;++i,rp+=es){var x0=rb[ax+rp],x1=rb[ax+rp+d],xi=ri[i];",s="for(var j=bs,bp=es*bs;j<be;++j,bp+=es){var y0=bb[ax+bp],"+(n?"y1=bb[ax+bp+d],":"")+"yi=bi[j];";return e?o.push(a,"Q",":",s):o.push(s,"Q",":",a),n?o.push("if(y1<x0||x1<y0)continue;"):t?o.push("if(y0<=x0||x1<y0)continue;"):o.push("if(y0<x0||x1<y0)continue;"),o.push("for(var k=ax+1;k<d;++k){var r0=rb[k+rp],r1=rb[k+d+rp],b0=bb[k+bp],b1=bb[k+d+bp];if(r1<b0||b1<r0)continue Q;}var rv=vv("),t?o.push("yi,xi"):o.push("xi,yi"),o.push(");if(rv!==void 0)return rv;}}}"),{name:i,code:o.join("")}}(t,i,e);n.push(a.code),o.push("return "+a.name+"("+r.join()+");")}o.push("if(re-rs>be-bs){"),e?(a(!0,!1),o.push("}else{"),a(!1,!1)):(o.push("if(fp){"),a(!0,!0),o.push("}else{"),a(!0,!1),o.push("}}else{if(fp){"),a(!1,!0),o.push("}else{"),a(!1,!1),o.push("}")),o.push("}}return "+t);var s=n.join("")+o.join("");return new Function(s)()}t.partial=i(!1),t.full=i(!0)},function(e,t,n){"use strict";e.exports=function(e,t,n,o,a,s){if(o<=n+1)return n;for(var l=n,u=o,c=o+n>>>1,f=2*e,d=c,h=a[f*c+t];l<u;){if(u-l<8){i(e,t,l,u,a,s),h=a[f*c+t];break}var p=u-l,m=Math.random()*p+l|0,v=a[f*m+t],g=Math.random()*p+l|0,y=a[f*g+t],b=Math.random()*p+l|0,_=a[f*b+t];v<=y?_>=y?(d=g,h=y):v>=_?(d=m,h=v):(d=b,h=_):y>=_?(d=g,h=y):_>=v?(d=m,h=v):(d=b,h=_);for(var x=f*(u-1),w=f*d,E=0;E<f;++E,++x,++w){var T=a[x];a[x]=a[w],a[w]=T}var S=s[u-1];for(s[u-1]=s[d],s[d]=S,d=r(e,t,l,u-1,a,s,h),x=f*(u-1),w=f*d,E=0;E<f;++E,++x,++w)T=a[x],a[x]=a[w],a[w]=T;if(S=s[u-1],s[u-1]=s[d],s[d]=S,c<d){for(u=d-1;l<u&&a[f*(u-1)+t]===h;)u-=1;u+=1}else{if(!(d<c))break;for(l=d+1;l<u&&a[f*l+t]===h;)l+=1}}return r(e,t,n,c,a,s,a[f*c+t])};var r=n(346)("lo<p0",["p0"]);function i(e,t,n,r,i,o){for(var a=2*e,s=a*(n+1)+t,l=n+1;l<r;++l,s+=a)for(var u=i[s],c=l,f=a*(l-1);c>n&&i[f+t]>u;--c,f-=a){for(var d=f,h=f+a,p=0;p<a;++p,++d,++h){var m=i[d];i[d]=i[h],i[h]=m}var v=o[c];o[c]=o[c-1],o[c-1]=v}}},function(e,t,n){"use strict";var r=n(348),i=n(603),o=n(604),a=n(606);function s(e,t){for(var n=new Array(e.length-1),r=1;r<e.length;++r)for(var i=n[r-1]=new Array(e.length-1),o=0,a=0;o<e.length;++o)o!==t&&(i[a++]=e[r][o]);return n}function l(e){if(1===e.length)return e[0];if(2===e.length)return["sum(",e[0],",",e[1],")"].join("");var t=e.length>>1;return["sum(",l(e.slice(0,t)),",",l(e.slice(t)),")"].join("")}function u(e){if(2===e.length)return[["sum(prod(",e[0][0],",",e[1][1],"),prod(-",e[0][1],",",e[1][0],"))"].join("")];for(var t=[],n=0;n<e.length;++n)t.push(["scale(",l(u(s(e,n))),",",(r=n,1&r?"-":""),e[0][n],")"].join(""));return t;var r}function c(e){for(var t=[],n=[],c=function(e){for(var t=new Array(e),n=0;n<e;++n){t[n]=new Array(e);for(var r=0;r<e;++r)t[n][r]=["m",r,"[",e-n-1,"]"].join("")}return t}(e),f=[],d=0;d<e;++d)0===(1&d)?t.push.apply(t,u(s(c,d))):n.push.apply(n,u(s(c,d))),f.push("m"+d);var h=l(t),p=l(n),m="orientation"+e+"Exact",v=["function ",m,"(",f.join(),"){var p=",h,",n=",p,",d=sub(p,n);return d[d.length-1];};return ",m].join("");return new Function("sum","prod","scale","sub",v)(i,r,o,a)}var f=c(3),d=c(4),h=[function(){return 0},function(){return 0},function(e,t){return t[0]-e[0]},function(e,t,n){var r,i=(e[1]-n[1])*(t[0]-n[0]),o=(e[0]-n[0])*(t[1]-n[1]),a=i-o;if(i>0){if(o<=0)return a;r=i+o}else{if(!(i<0))return a;if(o>=0)return a;r=-(i+o)}var s=33306690738754716e-32*r;return a>=s||a<=-s?a:f(e,t,n)},function(e,t,n,r){var i=e[0]-r[0],o=t[0]-r[0],a=n[0]-r[0],s=e[1]-r[1],l=t[1]-r[1],u=n[1]-r[1],c=e[2]-r[2],f=t[2]-r[2],h=n[2]-r[2],p=o*u,m=a*l,v=a*s,g=i*u,y=i*l,b=o*s,_=c*(p-m)+f*(v-g)+h*(y-b),x=7771561172376103e-31*((Math.abs(p)+Math.abs(m))*Math.abs(c)+(Math.abs(v)+Math.abs(g))*Math.abs(f)+(Math.abs(y)+Math.abs(b))*Math.abs(h));return _>x||-_>x?_:d(e,t,n,r)}];function p(e){var t=h[e.length];return t||(t=h[e.length]=c(e.length)),t.apply(void 0,e)}!function(){for(;h.length<=5;)h.push(c(h.length));for(var t=[],n=["slow"],r=0;r<=5;++r)t.push("a"+r),n.push("o"+r);var i=["function getOrientation(",t.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(r=2;r<=5;++r)i.push("case ",r,":return o",r,"(",t.slice(0,r).join(),");");i.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(i.join(""));var o=Function.apply(void 0,n);for(e.exports=o.apply(void 0,[p].concat(h)),r=0;r<=5;++r)e.exports[r]=h[r]}()},function(e,t,n){"use strict";e.exports=function(e,t){var n=0|e.length,r=0|t.length;if(1===n&&1===r)return function(e,t){var n=e+t,r=n-e,i=e-(n-r)+(t-r);return i?[i,n]:[n]}(e[0],t[0]);var i,o,a=new Array(n+r),s=0,l=0,u=0,c=Math.abs,f=e[l],d=c(f),h=t[u],p=c(h);d<p?(o=f,(l+=1)<n&&(f=e[l],d=c(f))):(o=h,(u+=1)<r&&(h=t[u],p=c(h))),l<n&&d<p||u>=r?(i=f,(l+=1)<n&&(f=e[l],d=c(f))):(i=h,(u+=1)<r&&(h=t[u],p=c(h)));for(var m,v,g=i+o,y=g-i,b=o-y,_=b,x=g;l<n&&u<r;)d<p?(i=f,(l+=1)<n&&(f=e[l],d=c(f))):(i=h,(u+=1)<r&&(h=t[u],p=c(h))),(b=(o=_)-(y=(g=i+o)-i))&&(a[s++]=b),_=x-((m=x+g)-(v=m-x))+(g-v),x=m;for(;l<n;)(b=(o=_)-(y=(g=(i=f)+o)-i))&&(a[s++]=b),_=x-((m=x+g)-(v=m-x))+(g-v),x=m,(l+=1)<n&&(f=e[l]);for(;u<r;)(b=(o=_)-(y=(g=(i=h)+o)-i))&&(a[s++]=b),_=x-((m=x+g)-(v=m-x))+(g-v),x=m,(u+=1)<r&&(h=t[u]);return _&&(a[s++]=_),x&&(a[s++]=x),s||(a[s++]=0),a.length=s,a}},function(e,t,n){"use strict";var r=n(348),i=n(605);e.exports=function(e,t){var n=e.length;if(1===n){var o=r(e[0],t);return o[0]?o:[o[1]]}var a=new Array(2*n),s=[.1,.1],l=[.1,.1],u=0;r(e[0],t,s),s[0]&&(a[u++]=s[0]);for(var c=1;c<n;++c){r(e[c],t,l);var f=s[1];i(f,l[0],s),s[0]&&(a[u++]=s[0]);var d=l[1],h=s[1],p=d+h,m=h-(p-d);s[1]=p,m&&(a[u++]=m)}return s[1]&&(a[u++]=s[1]),0===u&&(a[u++]=0),a.length=u,a}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=e+t,i=r-e,o=t-i,a=e-(r-i);return n?(n[0]=a+o,n[1]=r,n):[a+o,r]}},function(e,t,n){"use strict";e.exports=function(e,t){var n=0|e.length,r=0|t.length;if(1===n&&1===r)return function(e,t){var n=e+t,r=n-e,i=e-(n-r)+(t-r);return i?[i,n]:[n]}(e[0],-t[0]);var i,o,a=new Array(n+r),s=0,l=0,u=0,c=Math.abs,f=e[l],d=c(f),h=-t[u],p=c(h);d<p?(o=f,(l+=1)<n&&(f=e[l],d=c(f))):(o=h,(u+=1)<r&&(h=-t[u],p=c(h))),l<n&&d<p||u>=r?(i=f,(l+=1)<n&&(f=e[l],d=c(f))):(i=h,(u+=1)<r&&(h=-t[u],p=c(h)));for(var m,v,g=i+o,y=g-i,b=o-y,_=b,x=g;l<n&&u<r;)d<p?(i=f,(l+=1)<n&&(f=e[l],d=c(f))):(i=h,(u+=1)<r&&(h=-t[u],p=c(h))),(b=(o=_)-(y=(g=i+o)-i))&&(a[s++]=b),_=x-((m=x+g)-(v=m-x))+(g-v),x=m;for(;l<n;)(b=(o=_)-(y=(g=(i=f)+o)-i))&&(a[s++]=b),_=x-((m=x+g)-(v=m-x))+(g-v),x=m,(l+=1)<n&&(f=e[l]);for(;u<r;)(b=(o=_)-(y=(g=(i=h)+o)-i))&&(a[s++]=b),_=x-((m=x+g)-(v=m-x))+(g-v),x=m,(u+=1)<r&&(h=-t[u]);return _&&(a[s++]=_),x&&(a[s++]=x),s||(a[s++]=0),a.length=s,a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(32)),i=d(n(5)),o=d(n(3)),a=d(n(4)),s=d(n(6)),l=d(n(13)),u=d(n(7)),c=d(n(41)),f=n(10);function d(e){return e&&e.__esModule?e:{default:e}}var h=function(e,t,n,r,i,o,a,s){var l=arguments.length>8&&void 0!==arguments[8]&&arguments[8],u=t,c=n,f=r,d=i,h=2*s.width>r?r/2:s.width,p=2*s.width>i?i/2:s.width;if(s.positions&&s.positions.length?(e.lineStyle(1,0,0),e.beginFill(s.color,s.opacity),s.positions.forEach((function(o){"top"===o&&!l||"left"===o&&l?e.drawRect(t-h,n-p,r+2*h,p):"bottom"===o&&!l||"right"===o&&l?e.drawRect(t-h,n+i,r+2*h,p):"left"===o&&!l||"top"===o&&l?e.drawRect(t-h,n-p,h,i+2*p):("right"===o&&!l||"bottom"===o&&l)&&e.drawRect(t+r,n-p,h,i+2*p)}))):(e.lineStyle(s.width,s.color,s.opacity),e.beginFill(0,0),e.drawRect(t-h,n-p,r+2*h,i+2*p)),a.positions&&a.positions.length){e.lineStyle(1,0,0),e.beginFill(a.color,a.opacity);var m=2*a.width>r?r/2:a.width,v=2*a.width>i?i/2:a.width;a.positions.forEach((function(o){"top"===o&&!l||"left"===o&&l?(e.drawRect(t,n,r,v),c+=v,d-=v):"bottom"===o&&!l||"right"===o&&l?(e.drawRect(t,n+i-v,r,v),d-=v):"left"===o&&!l||"top"===o&&l?(e.drawRect(t,n,m,i),u+=m,f-=m):("right"===o&&!l||"bottom"===o&&l)&&(e.drawRect(t+r-m,n,m,i),f-=m)}))}else e.lineStyle(a.width,a.color,a.opacity);e.beginFill(o.color,o.opacity),e.drawRect(u,c,f,d)},p=function(e){function t(e,n){(0,o.default)(this,t);var r=(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e,n));return r.options=n||{},r.drawnRects={},r}return(0,u.default)(t,e),(0,a.default)(t,[{key:"drawHorizontalOverlay",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments[4],o=arguments[5],a=arguments[6];if(n&&!(n.length<2)){var s=this.position[0]+t.left+this._xScale(n[0]),l=this.position[1]+t.top,u=t.height,c=this._xScale(n[1])-this._xScale(n[0]);c<r&&(s-=(r-c)/2,c=r),h(e,s,l,c,u,i,o,a)}}},{key:"drawVerticalOverlay",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments[4],o=arguments[5],a=arguments[6];if(n&&!(n.length<2)){var s=this.position[0]+t.left,l=this.position[1]+t.top+this._yScale(n.length>=4?n[2]:n[0]),u=this.position[1]+t.top,c=this.position[1]+t.top+t.height;if(!(l>c)){l<u&&(l=u);var f=t.width,d=this._yScale(n.length>=4?n[3]:n[1])-l+t.top+this.position[1];d<0||(l+d>c&&(d+=c-(l+d)),d<r&&(l-=(r-d)/2,d=r),h(e,s,l,f,d,i,o,a,!0))}}}},{key:"draw",value:function(){var e=this;(0,l.default)(t.prototype.__proto__||(0,i.default)(t.prototype),"draw",this).call(this);var n=this.pMain,o={color:(0,f.colorToHex)(this.options.fill||this.options.fillColor||"blue"),opacity:(0,r.default)(+this.options.fillOpacity)?.3:+this.options.fillOpacity},a={color:(0,f.colorToHex)(this.options.stroke||"blue"),opacity:+this.options.strokeOpacity||1,width:+this.options.strokeWidth||0,positions:!this.options.strokePos||Array.isArray(this.options.strokePos)?this.options.strokePos:[this.options.strokePos]},s={color:(0,f.colorToHex)(this.options.outline||"white"),opacity:+this.options.outlineOpacity||1,width:+this.options.outlineWidth||0,positions:!this.options.outlinePos||Array.isArray(this.options.outlinePos)?this.options.outlinePos:[this.options.outlinePos]};n.clear(),n.lineStyle(a.width,a,+!a.positions*a.opacity),n.beginFill(o.color,o.opacity);var u=Math.max(0,+this.options.minWidth||0),c=Math.max(0,+this.options.minHeight||0);Array.isArray(this.options.extent)&&this.options.orientationsAndPositions.forEach((function(t){"1d-horizontal"!==t.orientation&&"2d"!==t.orientation||e.options.extent.forEach((function(r){return e.drawHorizontalOverlay(n,t.position,r,u,o,a,s)})),"1d-vertical"!==t.orientation&&"2d"!==t.orientation||e.options.extent.forEach((function(r){return e.drawVerticalOverlay(n,t.position,r,c,o,a,s)}))}))}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.draw()}},{key:"setPosition",value:function(e){(0,l.default)(t.prototype.__proto__||(0,i.default)(t.prototype),"setPosition",this).call(this,e),this.draw()}},{key:"setDimensions",value:function(e){(0,l.default)(t.prototype.__proto__||(0,i.default)(t.prototype),"setDimensions",this).call(this,e),this.draw()}},{key:"exportSVG",value:function(){console.warn("Overlay tracks cannot be exported as SVG yet.")}}]),t}(c.default);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(128),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t){var n=(0,o.default)(e,t);return function(e){var t=0,n=[];return e.forEach((function(e){t+=+e||0,n.push(t)})),Float64Array.from(n)}(e.map((function(e){return(Array.isArray(e)&&t?e.length:1)/n})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=m(n(32)),i=m(n(19)),o=m(n(5)),a=m(n(3)),s=m(n(4)),l=m(n(6)),u=m(n(13)),c=m(n(7)),f=n(28),d=m(n(112)),h=n(10),p=n(11);function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n));return r.setColorScale(n.colorRange),r.opacity=n.opacity||1,r}return(0,c.default)(t,e),(0,s.default)(t,[{key:"setColorScale",value:function(e){this.colorScale=e?(0,h.colorDomainToRgbaArray)(e):p.HEATED_OBJECT_MAP,this.colorScale=this.colorScale.map((function(e){return e.map((function(e){return e/255}))}))}},{key:"rerender",value:function(e){e&&e.colorRange&&this.setColorScale(e.colorRange),this.opacity=e.opacity||1,(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"rerender",this).call(this,e)}},{key:"drawAxis",value:function(){}},{key:"drawTile",value:function(e){if(e.graphics&&e.tileData&&e.tileData.dense){var t=e.graphics,n=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos),o=n.tileX,a=n.tileWidth,s=e.tileData.dense;if(0!==s.length){var l=this.makeValueScale(this.minValue(),this.medianVisibleValue,this.maxValue()),u=(0,i.default)(l,2),c=u[0],d=u[1];if(c.range([254,0]).clamp(!0),this.valueScale=c,t.clear(),"log"===this.options.valueScaling&&this.valueScale.domain()[1]<0)console.warn("Negative values present when using a log scale",this.valueScale.domain());else{var h=(0,f.scaleLinear)().domain([0,this.tilesetInfo.tile_size]).range([o,o+a]);t.lineStyle(0,0,0);for(var m=0;m<s.length;m++)if(!(0,r.default)(s[m])){var v=Math.round(this.valueScale(s[m]+d));if(!(0,r.default)(+v)){var g=this._xScale(h(m)),y=this._xScale(h(m+1))-g,b=this.dimensions[1];e.xValues[m]=g,e.yValues[m]=v;var _=this.colorScale[v],x=p.GLOBALS.PIXI.utils.rgb2hex(_);if(t.beginFill(x,this.opacity),0!==m){if(h(m)>this.tilesetInfo.max_pos[0])break;0!==s[m]&&t.drawRect(g,0,y,b)}}}}}}}}]),t}(d.default);t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(3)),i=a(n(4)),o=n(11);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t){(0,r.default)(this,e),this.scene=t.scene,this.originalTrack=t,this.pBase=new o.GLOBALS.PIXI.Graphics,this.scene.removeChild(t.pBase),this.scene.addChild(this.pBase),this.moveToOrigin=new o.GLOBALS.PIXI.Graphics,this.moveToOrigin.addChild(t.pBase),this.pBase.addChild(this.moveToOrigin),this.moveToOrigin.rotation=Math.PI/2,t.isLeftModified=!0,t.flipText=!0,this.svgOutput=null,t.gBase&&t.gMain&&(this.originalTrack.gBase.attr("transform","translate("+String(this.moveToOrigin.position.x)+","+String(this.moveToOrigin.position.y)+")\n                             rotate(90)\n                             scale("+String(this.moveToOrigin.scale.x)+","+String(this.moveToOrigin.scale.y)+")"),this.originalTrack.gMain.attr("transform","translate("+String(this.originalTrack.pBase.position.x)+","+String(this.originalTrack.pBase.position.y)+")"))}return(0,i.default)(e,[{key:"remove",value:function(){this.originalTrack.remove(),this.pBase.clear(),this.scene.removeChild(this.pBase)}},{key:"setDimensions",value:function(e){this.dimensions=e;var t=[e[1],e[0]];this.originalTrack.setDimensions(t)}},{key:"setPosition",value:function(e){this.position=e,this.originalTrack.setPosition(e),this.originalTrack.pBase.position.x=-this.originalTrack.position[0],this.originalTrack.pBase.position.y=-this.originalTrack.position[1],this.moveToOrigin.scale.y=-1,this.moveToOrigin.scale.x=1,this.moveToOrigin.position.x=this.originalTrack.position[0],this.moveToOrigin.position.y=this.originalTrack.position[1],this.originalTrack.gMain&&(this.originalTrack.gBase.attr("transform","translate("+String(this.moveToOrigin.position.x)+","+String(this.moveToOrigin.position.y)+")\n                                 rotate(90)\n                                 scale("+String(this.moveToOrigin.scale.x)+","+String(this.moveToOrigin.scale.y)+")"),this.originalTrack.gMain.attr("transform","translate("+String(this.originalTrack.pBase.position.x)+","+String(this.originalTrack.pBase.position.y)+")"))}},{key:"refXScale",value:function(e){return arguments.length?(this.originalTrack._refXScale=e,this):this.originalTrack._refYScale}},{key:"refYScale",value:function(e){return arguments.length?(this.originalTrack._refYScale=e,this):this.originalTrack._refXScale}},{key:"xScale",value:function(e){return arguments.length?(this.originalTrack._yScale=e,this):this.originalTrack._xScale}},{key:"yScale",value:function(e){return arguments.length?(this.originalTrack._xScale=e,this):this.originalTrack._yScale}},{key:"getMouseOverHtml",value:function(e,t){return this.originalTrack.getMouseOverHtml(t,e)}},{key:"draw",value:function(){this.originalTrack.draw()}},{key:"zoomed",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(arguments.length>5&&void 0!==arguments[5]&&arguments[5],arguments.length>6&&void 0!==arguments[6]&&arguments[6],this.xScale(e),this.yScale(t),this.originalTrack.leftTrackZoomed)return this.originalTrack.refreshTiles&&this.originalTrack.refreshTiles(),this.originalTrack.leftTrackZoomed(e,t,n,r,i),void this.originalTrack.draw();var o=this.originalTrack._xScale(0)-n*this.originalTrack._refXScale(0);if(this.originalTrack.pMobile.position.x=o+this.originalTrack.position[0],this.originalTrack.pMobile.position.y=this.originalTrack.position[1]+this.originalTrack.dimensions[1],this.originalTrack.pMobile.scale.x=n,this.originalTrack.pMobile.scale.y=n,this.originalTrack.options.oneDHeatmapFlipped&&(this.originalTrack.pMobile.scale.y=-n,this.originalTrack.pMobile.position.y=this.originalTrack.position[1]),this.originalTrack.leftTrackDraw)return this.originalTrack.refreshTiles&&this.originalTrack.refreshTiles(),void this.originalTrack.leftTrackDraw();this.originalTrack.zoomed(this.xScale(),this.yScale())}},{key:"zoomedY",value:function(e,t){this.originalTrack.zoomedY(e,t)}},{key:"movedY",value:function(e){this.originalTrack.movedY(e)}},{key:"refScalesChanged",value:function(e,t){this.originalTrack.refScalesChanged(t,e)}},{key:"rerender",value:function(e){this.originalTrack.rerender(e)}},{key:"exportSVG",value:function(){var e=document.createElement("g");if(e.setAttribute("transform","translate("+String(this.moveToOrigin.position.x)+","+String(this.moveToOrigin.position.y)+")\n                             rotate(90)\n                             scale("+String(this.moveToOrigin.scale.x)+","+String(this.moveToOrigin.scale.y)+")"),this.originalTrack.exportSVG){var t=document.createElement("g");t.setAttribute("transform","translate("+String(this.originalTrack.pBase.position.x)+", "+String(this.originalTrack.pBase.position.y)+")"),t.appendChild(this.originalTrack.exportSVG()[0]),e.appendChild(t)}return[e,e]}},{key:"respondsToPosition",value:function(e,t){return e>=this.position[0]&&e<=this.dimensions[0]+this.position[0]&&t>=this.position[1]&&t<=this.dimensions[1]+this.position[1]}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(40)),i=h(n(5)),o=h(n(3)),a=h(n(4)),s=h(n(6)),l=h(n(13)),u=h(n(7)),c=n(9),f=h(n(41)),d=n(11);function h(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e,n,r){(0,o.default)(this,t);var a=(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e,n));return a.pubSub=e.pubSub,a.options=n,a.isVertical=r,a.rects={},a.defaultColor=(0,c.color)("red"),a}return(0,u.default)(t,e),(0,a.default)(t,[{key:"draw",value:function(){var e=this,n="undefined"!==typeof this.options.minRectWidth?this.options.minRectWidth:10,o="undefined"!==typeof this.options.fill?(0,c.color)(this.options.fill):this.defaultColor,a="undefined"!==typeof this.options.fillOpacity?+this.options.fillOpacity:.2,s="undefined"!==typeof this.options.stroke?(0,c.color)(this.options.stroke):this.defaultColor,u="undefined"!==typeof this.options.strokeWidth?+this.options.strokeWidth:1,f="undefined"!==typeof this.options.strokeOpacity?+this.options.strokeOpacity:0,h=void 0;this.options.strokePos&&this.options.strokePos.length&&(h=Array.isArray(this.options.strokePos)?this.options.strokePos:[this.options.strokePos]),(0,l.default)(t.prototype.__proto__||(0,i.default)(t.prototype),"draw",this).call(this);var p=this.pMain;p.clear();var m=performance.now();this.options.regions.forEach((function(t){var r=String(t[0])+"-"+String(t[1]);e.rects[r]||(e.rects[r]={graphics:new d.GLOBALS.PIXI.Graphics},p.addChild(e.rects[r].graphics)),e.rects[r].timeStamp=m;var i=(0,c.color)(t[2])||o,l=(0,c.color)(t[3])||s;l||(l=i);var v=d.GLOBALS.PIXI.utils.rgb2hex([i.r/255,i.g/255,i.b/255]),g=d.GLOBALS.PIXI.utils.rgb2hex([l.r/255,l.g/255,l.b/255]);h?(p.lineStyle(1,g,0),p.beginFill(g,+t[5]||f)):(p.lineStyle(u,g,+t[5]||f),p.beginFill(v,+t[4]||a));var y=e.isVertical?e._yScale:e._xScale,b=y(+t[0]),_=y(+t[1]),x=_-b,w="undefined"!==typeof t[6]?t[6]:n;x<w&&(b=(b+_)/2-w/2,x=w),h?(p.lineStyle(1,g,0),p.beginFill(g,+t[5]||f),h.forEach((function(t){"top"!==t&&"around"!==t||(e.isVertical?p.drawRect(0,b,u,x):p.drawRect(b,0,x,u)),"right"!==t&&"around"!==t||(e.isVertical?p.drawRect(0,b,e.dimensions[0],u):p.drawRect(b,0,u,e.dimensions[1])),"bottom"!==t&&"around"!==t||(e.isVertical?p.drawRect(e.dimensions[0]-u,b,u,x):p.drawRect(b,e.dimensions[1]-u,x,u)),"left"!==t&&"around"!==t||(e.isVertical?p.drawRect(0,b+x-u,e.dimensions[0],u):p.drawRect(b+x-u,0,u,e.dimensions[1]))}))):p.lineStyle(u,g,+t[5]||f),e.rects[r].graphics.clear(),e.rects[r].graphics.interactive=!0,e.rects[r].graphics.buttonMode=!0,p.beginFill(v,+t[4]||a),e.isVertical?(p.drawRect(0,b,e.dimensions[0],x),e.rects[r].graphics.hitArea=new d.GLOBALS.PIXI.Rectangle(0,b,e.dimensions[0],x)):(p.drawRect(b,0,x,e.dimensions[1]),e.rects[r].graphics.hitArea=new d.GLOBALS.PIXI.Rectangle(b,0,x,e.dimensions[1])),e.rects[r].graphics.mousedown=function(){e.rects[r].mouseDownTime=performance.now()},e.rects[r].graphics.mouseup=function(n){performance.now()-e.rects[r].mouseDownTime<d.MAX_CLICK_DELAY&&e.pubSub.publish("app.click",{type:"annotation",event:n,payload:t})}})),(0,r.default)(this.rects).filter((function(e){return e.timeStamp!==m})).forEach((function(e){return p.removeChild(e.graphics)}))}},{key:"setPosition",value:function(e){(0,l.default)(t.prototype.__proto__||(0,i.default)(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.draw()}}]),t}(f.default);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=m(n(5)),i=m(n(3)),o=m(n(4)),a=m(n(6)),s=m(n(13)),l=m(n(7)),u=m(n(176)),c=m(n(41)),f=m(n(64)),d=m(n(177)),h=n(10),p=n(11);function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n)),s=e.dataConfig,l=e.animate,u=e.pubSub;o.searchField=null,o.chromInfo=null,o.animate=l;var c=s.server,h=s.tilesetUid,m=String(c)+"/chrom-sizes/?id="+String(h);return(0,f.default)(m,(function(e){o.chromInfo=e,o.searchField=new d.default(o.chromInfo),o.draw(),o.texts=[];for(var t=0;t<o.chromInfo.cumPositions.length;t++){for(var n=[],r=0;r<o.chromInfo.cumPositions.length;r++){var i=String(o.chromInfo.cumPositions[t].chr)+"/"+String(o.chromInfo.cumPositions[r].chr),a=new p.GLOBALS.PIXI.Text(i,{fontSize:"14px",fontFamily:"Arial",fill:"red"});a.anchor.x=.5,a.anchor.y=.5,a.visible=!1,a.hashValue=Math.random(),n.push(a),o.pMain.addChild(a)}o.texts.push(n)}o.draw(),o.animate()}),u),o}return(0,l.default)(t,e),(0,o.default)(t,[{key:"draw",value:function(){var e=[];if(this.texts&&this.searchField){for(var t=(0,h.absToChr)(this._xScale.domain()[0],this.chromInfo),n=(0,h.absToChr)(this._xScale.domain()[1],this.chromInfo),r=(0,h.absToChr)(this._yScale.domain()[0],this.chromInfo),i=(0,h.absToChr)(this._yScale.domain()[1],this.chromInfo),o=0;o<this.texts.length;o++)for(var a=0;a<this.texts.length;a++)this.texts[o][a].visible=!1;for(var s=t[3];s<=n[3];s++)for(var l=r[3];l<=i[3];l++){var u=this.chromInfo.cumPositions[s],c=this.chromInfo.cumPositions[l],f=u.pos+this.chromInfo.chromLengths[u.chr]/2,d=c.pos+this.chromInfo.chromLengths[c.chr]/2,p=this._xScale(f),m=this._yScale(d),v=this.texts[s][l];v.x=p,v.y=m,v.updateTransform();var g=v.getBounds(),y=g.width/2,b=g.height/2;p+y>this.dimensions[0]?v.x-=p+y-this.dimensions[0]:p-y<0&&(v.x-=p-y),m+b>this.dimensions[1]?v.y-=m+b-this.dimensions[1]:m-b<0&&(v.y-=m-b),v.visible=!0,e.push({importance:this.texts[s][l].hashValue,text:this.texts[s][l],caption:null})}this.hideOverlaps(e)}}},{key:"hideOverlaps",value:function(e){var t;t=e.map((function(e){var t=e.text;t.updateTransform();var n=t.getBounds();return[n.x,n.y,n.x+n.width,n.y+n.height]})),(0,u.default)(t,(function(t,n){e[t].importance>e[n].importance?e[n].text.visible=0:e[t].text.visible=0}))}},{key:"setPosition",value:function(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.draw()}}]),t}(c.default);t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(25)),i=v(n(19)),o=v(n(5)),a=v(n(3)),s=v(n(4)),l=v(n(6)),u=v(n(13)),c=v(n(7)),f=v(n(41)),d=v(n(64)),h=v(n(177)),p=n(10),m=n(11);function v(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n)),i=e.chromInfoPath,s=e.dataConfig,u=e.animate,c=e.pubSub,f=e.orientation,p=void 0===f?"2d":f,v=e.isOverlay,g=void 0!==v&&v;r.searchField=null,r.chromInfo=null,r.animate=u,r.orientation=p,r.isOverlay=g;var y=i;return y||(y=String(s.server)+"/chrom-sizes/?id="+String(s.tilesetUid)),(0,d.default)(y,(function(e){r.chromInfo=e,r.searchField=new h.default(r.chromInfo),r.texts=[],r.lineGraphics=new m.GLOBALS.PIXI.Graphics,r.lineGraphics1dH=new m.GLOBALS.PIXI.Graphics,r.lineGraphics1dV=new m.GLOBALS.PIXI.Graphics,r.lineGraphics2d=new m.GLOBALS.PIXI.Graphics,r.mask1dH=new m.GLOBALS.PIXI.Graphics,r.mask1dV=new m.GLOBALS.PIXI.Graphics,r.mask2d=new m.GLOBALS.PIXI.Graphics,r.lineGraphics.addChild(r.lineGraphics1dH),r.lineGraphics1dH.addChild(r.mask1dH),r.lineGraphics.addChild(r.lineGraphics1dV),r.lineGraphics1dV.addChild(r.mask1dV),r.lineGraphics.addChild(r.lineGraphics2d),r.lineGraphics2d.addChild(r.mask2d),r.pMain.addChild(r.lineGraphics),r.draw(),r.animate()}),c),r}return(0,c.default)(t,e),(0,s.default)(t,[{key:"drawLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.orientation,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.lineGraphics;this.isOverlay&&"1d-horizontal"===e&&(r=this.lineGraphics1dH),this.isOverlay&&"1d-vertical"===e&&(r=this.lineGraphics1dV),this.isOverlay&&"2d"===e&&(r=this.lineGraphics2d);var i=(0,p.colorToHex)(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue"),o=this.options.lineStrokeWidth?this.options.lineStrokeWidth:1;r.lineStyle(o,i,1),"2d"!==e&&"1d-horizontal"!==e||(r.moveTo(this._xScale(0)+t,n),r.lineTo(this._xScale(0)+t,this.dimensions[1]+n)),"2d"!==e&&"1d-vertical"!==e||(r.moveTo(t,this._yScale(0)+n),r.lineTo(this.dimensions[0]+t,this._yScale(0)+n));for(var a=0;a<this.chromInfo.cumPositions.length;a++){var s=this.chromInfo.cumPositions[a],l=s.pos+ +this.chromInfo.chromLengths[s.chr]+1;"2d"!==e&&"1d-horizontal"!==e||(r.moveTo(this._xScale(l)+t,n),r.lineTo(this._xScale(l)+t,this.dimensions[1]+n)),"2d"!==e&&"1d-vertical"!==e||(r.moveTo(t,this._yScale(l)+n),r.lineTo(this.dimensions[0]+t,this._yScale(l)+n))}}},{key:"draw",value:function(){if(this.texts&&this.searchField)if(this.lineGraphics.clear(),this.isOverlay){this.lineGraphics1dH.clear(),this.lineGraphics1dV.clear(),this.lineGraphics2d.clear(),this.mask1dH.clear(),this.mask1dV.clear(),this.mask2d.clear(),this.mask1dH.beginFill(16777215),this.mask1dV.beginFill(16777215),this.mask2d.beginFill(16711680);for(var e=0;e<this.options.orientationsAndPositions.length;e++){var t=this.options.orientationsAndPositions[e].orientation,n=this.options.orientationsAndPositions[e].position,r=n.left,i=n.top,o=n.width,a=n.height;"1d-horizontal"===t&&this.mask1dH.drawRect(r,i,o,a),"1d-vertical"===t&&this.mask1dV.drawRect(r,i,o,a),"2d"===t&&this.mask2d.drawRect(r,i,o,a),this.drawLines(t,r,i)}this.lineGraphics1dH.mask=this.mask1dH,this.lineGraphics1dV.mask=this.mask1dV,this.lineGraphics2d.mask=this.mask2d}else this.drawLines()}},{key:"setPosition",value:function(e){(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"setPosition",this).call(this,e);var n=(0,i.default)(this.position,2);this.pMain.position.x=n[0],this.pMain.position.y=n[1]}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.draw()}},{key:"createSvgLine",value:function(e,t,n,r,i,o){var a=document.createElement("line");return a.setAttribute("x1",e),a.setAttribute("x2",t),a.setAttribute("y1",n),a.setAttribute("y2",r),a.setAttribute("stroke",i),a.setAttribute("stroke-width",o),a}},{key:"drawLinesSvg",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=this.options.lineStrokeColor?this.options.lineStrokeColor:"blue",s=this.options.lineStrokeWidth;if("2d"===t||"1d-vertical"===t){var l=this._yScale(0);l>0&&l<o+r&&e.appendChild(this.createSvgLine(i,n+i,l+o,l+o,a,s))}if("2d"===t||"1d-horizontal"===t){var u=this._xScale(0);u>0&&u<i+n&&e.appendChild(this.createSvgLine(u+i,u+i,o,r+o,a,s))}for(var c=0;c<this.chromInfo.cumPositions.length;c++){var f=this.chromInfo.cumPositions[c],d=f.pos+ +this.chromInfo.chromLengths[f.chr]+1;if("2d"===t||"1d-vertical"===t){var h=this._yScale(d);h>0&&h<o+r&&e.appendChild(this.createSvgLine(i,n+i,h+o,h+o,a,s))}if("2d"===t||"1d-horizontal"===t){var p=this._xScale(d);p>0&&p<i+n&&e.appendChild(this.createSvgLine(p+i,p+i,o,r+o,a,s))}}}},{key:"exportSVG",value:function(){var e=null,n=null;if((0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"exportSVG",this)){var a=(0,u.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"exportSVG",this).call(this),s=(0,i.default)(a,2);n=s[0],e=s[1]}else e=n=document.createElement("g");var l=document.createElement("g");if(e.appendChild(l),n.setAttribute("id","ChromosomeGrid"),l.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),!this.chromInfo)return[n,e];if(this.isOverlay)for(var c=0;c<this.options.orientationsAndPositions.length;c++){var f=this.options.orientationsAndPositions[c].orientation,d=this.options.orientationsAndPositions[c].position,h=d.left,p=d.top,m=d.width,v=d.height;this.drawLinesSvg(l,f,m,v,h,p)}else this.drawLinesSvg.apply(this,[l,this.orientation].concat((0,r.default)(this.dimensions)));return[n,e]}}]),t}(f.default);t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(5)),i=h(n(3)),o=h(n(4)),a=h(n(6)),s=h(n(13)),l=h(n(7)),u=n(9),c=h(n(41)),f=h(n(64)),d=n(11);function h(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n)),s=e.chromInfoPath,l=e.pubSub;return o.pubSub=l,o.rects={},(0,f.default)(s,(function(e){o.chromInfo=e,o.draw()}),o.pubSub),o}return(0,l.default)(t,e),(0,o.default)(t,[{key:"draw",value:function(){var e=this;if(this.chromInfo){var n=this.options.minRectWidth?this.options.minRectWidth:10,i=this.options.minRectWidth?this.options.minRectHeight:10;(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"draw",this).call(this);var o=this.pMain;o.clear();var a=performance.now();this.options.regions.forEach((function(t){var r=t.slice(0,6).join("-");e.rects[r]||(e.rects[r]={graphics:new d.GLOBALS.PIXI.Graphics},o.addChild(e.rects[r].graphics)),e.rects[r].timeStamp=a;var s=(0,u.color)(t[6]),l=(0,u.color)(t[7]);l||(l=s);var c=d.GLOBALS.PIXI.utils.rgb2hex([s.r/255,s.g/255,s.b/255]),f=d.GLOBALS.PIXI.utils.rgb2hex([l.r/255,l.g/255,l.b/255]);o.lineStyle(1,f,l.opacity),o.beginFill(c,s.opacity);var h=e._xScale(e.chromInfo.chrPositions[t[0]].pos+ +t[1]),p=e._xScale(e.chromInfo.chrPositions[t[0]].pos+ +t[2]),m=e._yScale(e.chromInfo.chrPositions[t[3]].pos+ +t[4]),v=e._yScale(e.chromInfo.chrPositions[t[3]].pos+ +t[5]),g=p-h,y=v-m,b="undefined"!==typeof t[8]?t[8]:n,_="undefined"!==typeof t[9]?t[9]:i;g<b&&(h=(h+p)/2-b/2,g=b),y<_&&(m=(m+v)/2-_/2,y=_),o.drawRect(h,m,g,y),e.rects[r].graphics.clear(),e.rects[r].graphics.interactive=!0,e.rects[r].graphics.buttonMode=!0,e.rects[r].graphics.hitArea=new d.GLOBALS.PIXI.Rectangle(h,m,g,y),e.rects[r].graphics.mousedown=function(){e.rects[r].mouseDownTime=performance.now()},e.rects[r].graphics.mouseup=function(n){performance.now()-e.rects[r].mouseDownTime<300&&e.pubSub.publish("app.click",{type:"annotation",event:n,payload:t})}}))}}},{key:"setPosition",value:function(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.draw()}}]),t}(c.default);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(5)),i=l(n(3)),o=l(n(4)),a=l(n(6)),s=l(n(7));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n));return o.tilesetInfo={},o.errorTextText="Unknown track type: "+String(n.type),o}return(0,s.default)(t,e),(0,o.default)(t,[{key:"zoomed",value:function(){this.draw()}}]),t}(l(n(41)).default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(5)),i=d(n(3)),o=d(n(4)),a=d(n(6)),s=d(n(13)),l=d(n(7)),u=d(n(27)),c=n(83),f=n(0);function d(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n)),s=e.registerViewportChanged,l=e.removeViewportChanged,f=e.setDomainsCallback,d=u.default.nice();return o.uid=d,o.options=n,o.hasFromView=!e.projectionXDomain||!e.projectionYDomain,o.removeViewportChanged=l,o.setDomainsCallback=f,o.viewportXDomain=o.hasFromView?null:e.projectionXDomain,o.viewportYDomain=o.hasFromView?null:e.projectionYDomain,o.brush=(0,c.brush)().on("brush",o.brushed.bind(o)),o.gBrush=o.gMain.append("g").attr("id","brush-"+String(o.uid)).call(o.brush),o.gBrush.selectAll(".overlay").style("pointer-events","none"),o.gBrush.selectAll(".handle--n").style("pointer-events","none"),o.gBrush.selectAll(".handle--s").style("pointer-events","none"),o.gBrush.selectAll(".handle--w").style("pointer-events","none"),o.gBrush.selectAll(".handle--e").style("pointer-events","none"),s(d,o.viewportChanged.bind(o)),o.rerender(),o.draw(),o}return(0,l.default)(t,e),(0,o.default)(t,[{key:"brushed",value:function(){var e=f.event.selection;if(this._xScale&&this._yScale){var t=[this._xScale.invert(e[0][0]),this._xScale.invert(e[1][0])],n=[this._yScale.invert(e[0][1]),this._yScale.invert(e[1][1])];this.hasFromView||(this.viewportXDomain=t,this.viewportYDomain=n),this.setDomainsCallback(t,n)}}},{key:"viewportChanged",value:function(e,t){var n=e.domain(),r=t.domain();this.viewportXDomain=n,this.viewportYDomain=r,this.draw()}},{key:"remove",value:function(){this.removeViewportChanged(this.uid),(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"remove",this).call(this)}},{key:"rerender",value:function(){this.gBrush.selectAll(".selection").attr("fill",this.options.projectionFillColor).attr("stroke",this.options.projectionStrokeColor).attr("fill-opacity",this.options.projectionFillOpacity).attr("stroke-opacity",this.options.projectionStrokeOpacity).attr("stroke-width",this.options.strokeWidth)}},{key:"draw",value:function(){if(this._xScale&&this.yScale&&this.viewportXDomain&&this.viewportYDomain){var e=[[this._xScale(this.viewportXDomain[0]),this._yScale(this.viewportYDomain[0])],[this._xScale(this.viewportXDomain[1]),this._yScale(this.viewportYDomain[1])]];this.brush.on("brush",null),this.gBrush.call(this.brush.move,e),this.brush.on("brush",this.brushed.bind(this))}}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.draw()}},{key:"setPosition",value:function(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setPosition",this).call(this,e),this.draw()}},{key:"setDimensions",value:function(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setDimensions",this).call(this,e);var n=this._xScale.range(),i=this._yScale.range(),o=n[1]-n[0],a=i[1]-i[0];this.brush.extent([[n[0]-o,i[0]-a],[n[1]+o,i[1]+a]]),this.gBrush.call(this.brush),this.draw()}}]),t}(d(n(80)).default);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(5)),i=d(n(3)),o=d(n(4)),a=d(n(6)),s=d(n(13)),l=d(n(7)),u=n(83),c=n(0),f=d(n(27));function d(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n)),s=e.registerViewportChanged,l=e.removeViewportChanged,c=e.setDomainsCallback,d=f.default.nice();return o.uid=d,o.options=n,o.hasFromView=!e.projectionXDomain,o.removeViewportChanged=l,o.setDomainsCallback=c,o.viewportXDomain=o.hasFromView?null:e.projectionXDomain,o.viewportYDomain=o.hasFromView?null:[0,0],o.brush=(0,u.brushX)().on("brush",o.brushed.bind(o)),o.gBrush=o.gMain.append("g").attr("id","brush-"+String(o.uid)).call(o.brush),o.gBrush.selectAll(".overlay").style("pointer-events","none"),o.gBrush.selectAll(".handle--ne").style("pointer-events","none"),o.gBrush.selectAll(".handle--nw").style("pointer-events","none"),o.gBrush.selectAll(".handle--sw").style("pointer-events","none"),o.gBrush.selectAll(".handle--se").style("pointer-events","none"),o.gBrush.selectAll(".handle--n").style("pointer-events","none"),o.gBrush.selectAll(".handle--s").style("pointer-events","none"),s(d,o.viewportChanged.bind(o)),o.draw(),o}return(0,l.default)(t,e),(0,o.default)(t,[{key:"brushed",value:function(){var e=c.event.selection;if(this._xScale&&this._yScale){var t=[this._xScale.invert(e[0]),this._xScale.invert(e[1])],n=this.viewportYDomain;this.hasFromView||(this.viewportXDomain=t),this.setDomainsCallback(t,n)}}},{key:"viewportChanged",value:function(e,t){!(arguments.length>2&&void 0!==arguments[2])||arguments[2];var n=e.domain(),r=t.domain();this.viewportXDomain=n,this.viewportYDomain=r,this.draw()}},{key:"remove",value:function(){this.removeViewportChanged(this.uid),(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"remove",this).call(this)}},{key:"rerender",value:function(){this.gBrush.selectAll(".selection").attr("fill",this.options.projectionFillColor).attr("stroke",this.options.projectionStrokeColor).attr("fill-opacity",this.options.projectionFillOpacity).attr("stroke-opacity",this.options.projectionStrokeOpacity).attr("stroke-width",this.options.strokeWidth)}},{key:"draw",value:function(){if(this._xScale&&this.yScale&&this.viewportXDomain&&this.viewportYDomain){var e=[this._xScale(this.viewportXDomain[0]),this._xScale(this.viewportXDomain[1])];this.brush.on("brush",null),this.gBrush.call(this.brush.move,e),this.brush.on("brush",this.brushed.bind(this))}}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.draw()}},{key:"setPosition",value:function(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setPosition",this).call(this,e),this.draw()}},{key:"setDimensions",value:function(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setDimensions",this).call(this,e);var n=this._xScale.range(),i=this._yScale.range(),o=n[1]-n[0];this.brush.extent([[n[0]-o,i[0]],[n[1]+o,i[1]]]),this.gBrush.call(this.brush),this.draw()}}]),t}(d(n(80)).default);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(5)),i=d(n(3)),o=d(n(4)),a=d(n(6)),s=d(n(13)),l=d(n(7)),u=n(83),c=n(0),f=d(n(27));function d(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n)),s=e.registerViewportChanged,l=e.removeViewportChanged,c=e.setDomainsCallback,d=f.default.nice();return o.uid=d,o.options=n,o.hasFromView=!e.projectionYDomain,o.removeViewportChanged=l,o.setDomainsCallback=c,o.viewportXDomain=o.hasFromView?null:[0,0],o.viewportYDomain=o.hasFromView?null:e.projectionYDomain,o.brush=(0,u.brushY)().on("brush",o.brushed.bind(o)),o.gBrush=o.gMain.append("g").attr("id","brush-"+String(o.uid)).call(o.brush),o.gBrush.selectAll(".overlay").style("pointer-events","none"),o.gBrush.selectAll(".handle--ne").style("pointer-events","none"),o.gBrush.selectAll(".handle--nw").style("pointer-events","none"),o.gBrush.selectAll(".handle--sw").style("pointer-events","none"),o.gBrush.selectAll(".handle--se").style("pointer-events","none"),o.gBrush.selectAll(".handle--e").style("pointer-events","none"),o.gBrush.selectAll(".handle--w").style("pointer-events","none"),s(d,o.viewportChanged.bind(o)),o.draw(),o}return(0,l.default)(t,e),(0,o.default)(t,[{key:"brushed",value:function(){var e=c.event.selection;if(this._xScale&&this._yScale){var t=this.viewportXDomain,n=[this._yScale.invert(e[0]),this._yScale.invert(e[1])];this.hasFromView||(this.viewportYDomain=n),this.setDomainsCallback(t,n)}}},{key:"viewportChanged",value:function(e,t){!(arguments.length>2&&void 0!==arguments[2])||arguments[2];var n=e.domain(),r=t.domain();this.viewportXDomain=n,this.viewportYDomain=r,this.draw()}},{key:"remove",value:function(){this.removeViewportChanged(this.uid),(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"remove",this).call(this)}},{key:"rerender",value:function(){this.gBrush.selectAll(".selection").attr("fill",this.options.projectionFillColor).attr("stroke",this.options.projectionStrokeColor).attr("fill-opacity",this.options.projectionFillOpacity).attr("stroke-opacity",this.options.projectionStrokeOpacity).attr("stroke-width",this.options.strokeWidth)}},{key:"draw",value:function(){if(this._xScale&&this.yScale&&this.viewportXDomain&&this.viewportYDomain){var e=[this._yScale(this.viewportYDomain[0]),this._yScale(this.viewportYDomain[1])];this.brush.on("brush",null),this.gBrush.call(this.brush.move,e),this.brush.on("brush",this.brushed.bind(this))}}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.draw()}},{key:"setPosition",value:function(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setPosition",this).call(this,e),this.draw()}},{key:"setDimensions",value:function(e){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"setDimensions",this).call(this,e);var n=this._xScale.range(),i=this._yScale.range(),o=i[1]-i[0];this.brush.extent([[n[0],i[0]-o],[n[1],i[1]+o]]),this.gBrush.call(this.brush),this.draw()}}]),t}(d(n(80)).default);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HorizontalRuleMixin=void 0;var r=p(n(19)),i=p(n(13)),o=p(n(5)),a=p(n(3)),s=p(n(4)),l=p(n(6)),u=p(n(7)),c=n(81),f=p(n(41)),d=p(n(254)),h=n(10);function p(e){return e&&e.__esModule?e:{default:e}}var m=t.HorizontalRuleMixin=(0,c.Mixin)((function(e){return function(e){function t(){return(0,a.default)(this,t),(0,l.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"drawHorizontalRule",value:function(e){var t=(0,h.colorToHex)("black");this.highlighted&&(t=(0,h.colorToHex)("red")),e.lineStyle(this.strokeWidth,t,this.strokeOpacity);for(var n=0;n<this.dimensions[0];)e.moveTo(n,this._yScale(this.yPosition)),e.lineTo(n+this.dashLength,this._yScale(this.yPosition)),n+=this.dashLength+this.dashGap}},{key:"isMouseOverHorizontalLine",value:function(e){return Math.abs(e.y-this.position[1]-this._yScale(this.yPosition))<this.MOUSEOVER_RADIUS}}]),t}(e)})),v=function(e){function t(e,n){(0,a.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,n));return r.yPosition=e.yPosition,r.strokeWidth=2,r.strokeOpacity=1,r.dashLength=5,r.dashGap=3,r}return(0,u.default)(t,e),(0,s.default)(t,[{key:"mouseMoveHandler",value:function(e){if(this.isWithin(e.x,e.y)&&this.isMouseOverHorizontalLine(e))return this.highlighted=!0,void this.draw();this.highlighted=!1,this.draw()}},{key:"draw",value:function(){var e=this.pMain;e.clear(),this.drawHorizontalRule(e),this.animate()}},{key:"exportSVG",value:function(){var e=null,n=null;if((0,i.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"exportSVG",this)){var a=(0,i.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"exportSVG",this).call(this),s=(0,r.default)(a,2);n=s[0],e=s[1]}else e=n=document.createElement("g");var l=document.createElement("g");l.setAttribute("class","horizontal-rule"),l.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),e.appendChild(l);var u="black";this.highlighted&&(u="red");var c=document.createElement("line");return c.setAttribute("stroke",u),c.setAttribute("stroke-width",this.strokeWidth),c.setAttribute("stroke-dasharray",String(this.dashLength)+" "+String(this.dashGap)),c.setAttribute("x1",0),c.setAttribute("y1",this._yScale(this.yPosition)),c.setAttribute("x2",this.dimensions[0]),c.setAttribute("y2",this._yScale(this.yPosition)),l.appendChild(c),[n,e]}}]),t}((0,c.mix)(f.default).with(d.default,m));t.default=v},function(e,t,n){e.exports={default:n(621),__esModule:!0}},function(e,t,n){n(622),e.exports=n(167).f("hasInstance")},function(e,t,n){"use strict";var r=n(31),i=n(124),o=n(20)("hasInstance"),a=Function.prototype;o in a||n(30).f(a,o,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=i(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){e.exports={default:n(624),__esModule:!0}},function(e,t,n){n(160),n(60),n(77),n(625),n(626),n(627),n(628),e.exports=n(14).Map},function(e,t,n){"use strict";var r=n(326),i=n(245);e.exports=n(327)("Map",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=r.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(i(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t,n){var r=n(17);r(r.P+r.R,"Map",{toJSON:n(328)("Map")})},function(e,t,n){n(329)("Map")},function(e,t,n){n(330)("Map")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=m(n(19)),i=m(n(5)),o=m(n(3)),a=m(n(4)),s=m(n(6)),l=m(n(13)),u=m(n(7)),c=n(10),f=n(81),d=m(n(41)),h=m(n(254)),p=n(360);function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e,n){(0,o.default)(this,t);var r=(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e,n)),a=e.x,l=e.y;return r.xPosition=a,r.yPosition=l,r.strokeWidth=2,r.strokeOpacity=1,r.dashLength=5,r.dashGap=3,r}return(0,u.default)(t,e),(0,a.default)(t,[{key:"draw",value:function(){var e=this.pMain;e.clear(),this.drawHorizontalRule(e),this.drawVerticalRule(e)}},{key:"mouseMoveHandler",value:function(e){this.highlighted=this.isWithin(e.x,e.y)&&(this.isMouseOverHorizontalLine(e)||this.isMouseOverVerticalLine(e)),this.draw()}},{key:"drawHorizontalRule",value:function(e){var t=(0,c.colorToHex)("black");this.highlighted&&(t=(0,c.colorToHex)("red")),e.lineStyle(this.strokeWidth,t,this.strokeOpacity);for(var n=0;n<this.dimensions[0];)e.moveTo(n,this._yScale(this.yPosition)),e.lineTo(n+this.dashLength,this._yScale(this.yPosition)),n+=this.dashLength+this.dashGap}},{key:"isMouseOverHorizontalLine",value:function(e){return Math.abs(e.y-this.position[1]-this._yScale(this.yPosition))<this.MOUSEOVER_RADIUS}},{key:"exportSVG",value:function(){var e=null,n=null;if((0,l.default)(t.prototype.__proto__||(0,i.default)(t.prototype),"exportSVG",this)){var o=(0,l.default)(t.prototype.__proto__||(0,i.default)(t.prototype),"exportSVG",this).call(this),a=(0,r.default)(o,2);n=a[0],e=a[1]}else e=n=document.createElement("g");var s=document.createElement("g");s.setAttribute("class","cross-rule"),s.setAttribute("transform","translate("+String(this.position[0])+","+String(this.position[1])+")"),e.appendChild(s);var u="black";this.highlighted&&(u="red");var c=document.createElement("line");c.setAttribute("stroke",u),c.setAttribute("stroke-width",this.strokeWidth),c.setAttribute("stroke-dasharray",String(this.dashLength)+" "+String(this.dashGap)),c.setAttribute("x1",this._xScale(this.xPosition)),c.setAttribute("y1",0),c.setAttribute("x2",this._xScale(this.xPosition)),c.setAttribute("y2",this.dimensions[1]);var f=document.createElement("line");return f.setAttribute("stroke",u),f.setAttribute("stroke-width",this.strokeWidth),f.setAttribute("stroke-dasharray",String(this.dashLength)+" "+String(this.dashGap)),f.setAttribute("x1",0),f.setAttribute("y1",this._yScale(this.yPosition)),f.setAttribute("x2",this.dimensions[0]),f.setAttribute("y2",this._yScale(this.yPosition)),s.appendChild(c),s.appendChild(f),[n,e]}}]),t}((0,f.mix)(d.default).with(h.default,p.VerticalRuleMixin));t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(5)),i=c(n(3)),o=c(n(4)),a=c(n(6)),s=c(n(13)),l=c(n(7)),u=n(247);function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"initTile",value:function(e){u.initTile.bind(this)(e),this.drawTile(e)}},{key:"drawTile",value:function(e){u.drawTile.bind(this)(e)}},{key:"areAllVisibleTilesLoaded",value:function(){return!0}},{key:"fetchNewTiles",value:function(e){var t=this;e.forEach((function(e){var n=e.remoteId.split("."),r={zoomLevel:n[0],tilePos:n.slice(1,n.length).map((function(e){return+e}))};t.fetchedTiles[e.tileId]=e,t.fetchedTiles[e.tileId].tileData=r,t.fetching.has(e.remoteId)&&t.fetching.delete(e.remoteId)})),this.synchronizeTilesAndGraphics(),this.draw(),this.animate()}},{key:"draw",value:function(){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"draw",this).call(this)}}]),t}(c(n(136)).default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(5)),i=l(n(3)),o=l(n(4)),a=l(n(6)),s=l(n(7));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e,n){(0,i.default)(this,t);var o=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e,n));return o.style=n.style,o.options.tileSource||(o.errorTextText="No tile source string provided in the options. It should be in the form of http://a.com/{z}/{x}/{y}",o.drawError()),o}return(0,s.default)(t,e),(0,o.default)(t,[{key:"getTileUrl",value:function(e){var t=this.options.tileSource.replace("{z}",e[0]);return t=(t=t.replace("{x}",e[1])).replace("{y}",e[2])}}]),t}(l(n(136)).default);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(633)),i=a(n(645)),o=a(n(246));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){return"genbank"===e.type?new r.default(e,t):"local-tiles"===e.type?new i.default(e,t):new o.default(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(25)),i=d(n(32)),o=d(n(16)),a=d(n(61)),s=d(n(3)),l=d(n(4)),u=d(n(27)),c=d(n(634)),f=d(n(643));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){var n=[];if(!e.length)return[];for(var r=e[0].start,i=e[0].end,o=1;o<e.length;o++)e[o].start<i+5/t?i=Math.max(i,e[o].end):(n.push({type:"filler",start:r,end:i}),r=e[o].start,i=e[o].end);return n.push({start:r,end:i,type:"filler"}),n}var p=function(){function e(t){var n=this;(0,s.default)(this,e),this.dataConfig=t,this.trackUid=u.default.nice();var r=".gz"===t.url.slice(t.url.length-3);this.errorTxt="",this.dataPromise=fetch(t.url,{mode:"cors",redirect:"follow",method:"GET"}).then((function(e){return r?e.arrayBuffer():e.text()})).then((function(e){var t=r?c.default.inflate(e,{to:"string"}):e;n.gbJson=(0,f.default)(t),n.cdss=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}return e}(n.gbJson[0].features.filter((function(e){return"source"!==e.type})).sort((function(e,t){return e.start-t.start})))}))}return(0,l.default)(e,[{key:"tilesetInfo",value:function(e){var t=this;return this.tilesetInfoLoading=!0,this.dataPromise.then((function(){var n;return t.tilesetInfoLoading=!1,n={tile_size:1024,max_zoom:Math.ceil(Math.log(t.gbJson[0].size/1024)/Math.log(2)),max_width:t.gbJson[0].size,min_pos:[0],max_pos:[t.gbJson[0].size]},e&&e(n),n})).catch((function(n){t.tilesetInfoLoading=!1,e&&e({error:"Error parsing genbank: "+String(n)})}))}},{key:"fetchTilesDebounced",value:function(e,t){var n={},r=[],s=[],l=!0,u=!1,c=void 0;try{for(var f,d=(0,o.default)(t);!(l=(f=d.next()).done);l=!0){var h=f.value,p=h.split("."),m=parseInt(p[0],10),v=parseInt(p[1],10);(0,i.default)(v)||(0,i.default)(m)?console.warn("Invalid tile zoom or position:",m,v):(r.push(h),s.push(this.tile(m,v)))}}catch(g){u=!0,c=g}finally{try{!l&&d.return&&d.return()}finally{if(u)throw c}}return a.default.all(s).then((function(t){for(var i=0;i<t.length;i++){var o=r[i];n[o]=t[i],n[o].tilePositionId=o}e(n)})),n}},{key:"tile",value:function(e,t){var n=this;return this.tilesetInfo().then((function(i){var o=+i.max_width/Math.pow(2,+e),a=i.min_pos[0]+t*o,s=i.min_pos[0]+(t+1)*o,l=n.cdss.filter((function(e){return e.end>a&&e.start<s})),c=1024/Math.pow(2,i.max_zoom-e),f=h(l.filter((function(e){return 1===e.strand})),c),d=h(l.filter((function(e){return 1!==e.strand})),c);f.forEach((function(e){e.strand="+"})),d.forEach((function(e){e.strand="-"}));for(var p=[],m=0;m<n.cdss.length&&!(p.length>=20);m++)n.cdss[m].end>=a&&n.cdss[m].start<=s&&p.push(n.cdss[m]);return(p=[].concat((0,r.default)(p),(0,r.default)(f),(0,r.default)(d))).map((function(e){return function(e){var t=e.end-e.start,n=1===e.strand?"+":"-",r=u.default.nice();return"filler"===e.type?{xStart:e.start,xEnd:e.end,strand:e.strand,fields:[],type:"filler",uid:r}:{xStart:e.start,xEnd:e.end,strand:n,chrOffset:0,importance:e.end-e.start,uid:r,type:e.type,fields:["chrom",e.start,e.end,e.name,t,n,"","",e.type,e.name,e.start.toString(),e.end.toString(),e.start.toString(),e.end.toString()]}}(e)}))}))}}]),e}();t.default=p},function(e,t,n){"use strict";var r={};(0,n(82).assign)(r,n(635),n(638),n(366)),e.exports=r},function(e,t,n){"use strict";var r=n(636),i=n(82),o=n(364),a=n(255),s=n(365),l=Object.prototype.toString;function u(e){if(!(this instanceof u))return new u(e);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw new Error(a[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var c;if(c="string"===typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=r.deflateSetDictionary(this.strm,c)))throw new Error(a[n]);this._dict_set=!0}}function c(e,t){var n=new u(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}u.prototype.push=function(e,t){var n,a,s=this.strm,u=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"===typeof e?s.input=o.string2buf(e):"[object ArrayBuffer]"===l.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(u),s.next_out=0,s.avail_out=u),1!==(n=r.deflate(s,a))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==n);return 4===a?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==a||(this.onEnd(0),s.avail_out=0,!0)},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=u,t.deflate=c,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,c(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,c(e,t)}},function(e,t,n){"use strict";var r,i=n(82),o=n(637),a=n(362),s=n(363),l=n(255);function u(e,t){return e.msg=l[t],t}function c(e){return(e<<1)-(e>4?9:0)}function f(e){for(var t=e.length;--t>=0;)e[t]=0}function d(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function h(e,t){o._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,d(e.strm)}function p(e,t){e.pending_buf[e.pending++]=t}function m(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function v(e,t,n,r){var o=e.avail_in;return o>r&&(o=r),0===o?0:(e.avail_in-=o,i.arraySet(t,e.input,e.next_in,o,n),1===e.state.wrap?e.adler=a(e.adler,t,o,n):2===e.state.wrap&&(e.adler=s(e.adler,t,o,n)),e.next_in+=o,e.total_in+=o,o)}function g(e,t){var n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,u=e.window,c=e.w_mask,f=e.prev,d=e.strstart+258,h=u[o+a-1],p=u[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(n=t)+a]===p&&u[n+a-1]===h&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<d);if(r=258-(d-o),o=d-258,r>a){if(e.match_start=t,a=r,r>=s)break;h=u[o+a-1],p=u[o+a]}}}while((t=f[t&c])>l&&0!==--i);return a<=e.lookahead?a:e.lookahead}function y(e){var t,n,r,o,a,s=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=s+(s-262)){i.arraySet(e.window,e.window,s,s,0),e.match_start-=s,e.strstart-=s,e.block_start-=s,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=s?r-s:0}while(--n);t=n=s;do{r=e.prev[--t],e.prev[t]=r>=s?r-s:0}while(--n);o+=s}if(0===e.strm.avail_in)break;if(n=v(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=n,e.lookahead+e.insert>=3)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+3-1])&e.hash_mask,e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)}function b(e,t){for(var n,r;;){if(e.lookahead<262){if(y(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-262&&(e.match_length=g(e,n)),e.match_length>=3)if(r=o._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(h(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(h(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(h(e,!1),0===e.strm.avail_out)?1:2}function _(e,t){for(var n,r,i;;){if(e.lookahead<262){if(y(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-262&&(e.match_length=g(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(h(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=o._tr_tally(e,0,e.window[e.strstart-1]))&&h(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(h(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(h(e,!1),0===e.strm.avail_out)?1:2}function x(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function w(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),f(this.dyn_ltree),f(this.dyn_dtree),f(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),f(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),f(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function E(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=0,o._tr_init(t),0):u(e,-2)}function T(e){var t,n=E(e);return 0===n&&((t=e.state).window_size=2*t.w_size,f(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function S(e,t,n,r,o,a){if(!e)return-2;var s=1;if(-1===t&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),o<1||o>9||8!==n||r<8||r>15||t<0||t>9||a<0||a>4)return u(e,-2);8===r&&(r=9);var l=new w;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=n,T(e)}r=[new x(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(y(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,h(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-262&&(h(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(h(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(h(e,!1),e.strm.avail_out),1)})),new x(4,4,8,4,b),new x(4,5,16,8,b),new x(4,6,32,32,b),new x(4,4,16,16,_),new x(8,16,32,32,_),new x(8,16,128,128,_),new x(8,32,128,256,_),new x(32,128,258,1024,_),new x(32,258,258,4096,_)],t.deflateInit=function(e,t){return S(e,t,8,15,8,0)},t.deflateInit2=S,t.deflateReset=T,t.deflateResetKeep=E,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?-2:(e.state.gzhead=t,0):-2},t.deflate=function(e,t){var n,i,a,l;if(!e||!e.state||t>5||t<0)return e?u(e,-2):-2;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&4!==t)return u(e,0===e.avail_out?-5:-2);if(i.strm=e,n=i.last_flush,i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,p(i,31),p(i,139),p(i,8),i.gzhead?(p(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),p(i,255&i.gzhead.time),p(i,i.gzhead.time>>8&255),p(i,i.gzhead.time>>16&255),p(i,i.gzhead.time>>24&255),p(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),p(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(p(i,255&i.gzhead.extra.length),p(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(p(i,0),p(i,0),p(i,0),p(i,0),p(i,0),p(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),p(i,3),i.status=113);else{var v=8+(i.w_bits-8<<4)<<8;v|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(v|=32),v+=31-v%31,i.status=113,m(i,v),0!==i.strstart&&(m(i,e.adler>>>16),m(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),d(e),a=i.pending,i.pending!==i.pending_buf_size));)p(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),d(e),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,p(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),d(e),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,p(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&d(e),i.pending+2<=i.pending_buf_size&&(p(i,255&e.adler),p(i,e.adler>>8&255),e.adler=0,i.status=113)):i.status=113),0!==i.pending){if(d(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&c(t)<=c(n)&&4!==t)return u(e,-5);if(666===i.status&&0!==e.avail_in)return u(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&666!==i.status){var g=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(y(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(h(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(h(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(h(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var n,r,i,a,s=e.window;;){if(e.lookahead<=258){if(y(e),e.lookahead<=258&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=s[i=e.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){a=e.strstart+258;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a);e.match_length=258-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=o._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(h(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(h(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(h(e,!1),0===e.strm.avail_out)?1:2}(i,t):r[i.level].func(i,t);if(3!==g&&4!==g||(i.status=666),1===g||3===g)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===g&&(1===t?o._tr_align(i):5!==t&&(o._tr_stored_block(i,0,0,!1),3===t&&(f(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),d(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(p(i,255&e.adler),p(i,e.adler>>8&255),p(i,e.adler>>16&255),p(i,e.adler>>24&255),p(i,255&e.total_in),p(i,e.total_in>>8&255),p(i,e.total_in>>16&255),p(i,e.total_in>>24&255)):(m(i,e.adler>>>16),m(i,65535&e.adler)),d(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&113!==t&&666!==t?u(e,-2):(e.state=null,113===t?u(e,-3):0):-2},t.deflateSetDictionary=function(e,t){var n,r,o,s,l,u,c,d,h=t.length;if(!e||!e.state)return-2;if(2===(s=(n=e.state).wrap)||1===s&&42!==n.status||n.lookahead)return-2;for(1===s&&(e.adler=a(e.adler,t,h,0)),n.wrap=0,h>=n.w_size&&(0===s&&(f(n.head),n.strstart=0,n.block_start=0,n.insert=0),d=new i.Buf8(n.w_size),i.arraySet(d,t,h-n.w_size,n.w_size,0),t=d,h=n.w_size),l=e.avail_in,u=e.next_in,c=e.input,e.avail_in=h,e.next_in=0,e.input=t,y(n);n.lookahead>=3;){r=n.strstart,o=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--o);n.strstart=r,n.lookahead=2,y(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=u,e.input=c,e.avail_in=l,n.wrap=s,0},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,n){"use strict";var r=n(82);function i(e){for(var t=e.length;--t>=0;)e[t]=0}var o=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],a=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],l=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],u=new Array(576);i(u);var c=new Array(60);i(c);var f=new Array(512);i(f);var d=new Array(256);i(d);var h=new Array(29);i(h);var p,m,v,g=new Array(30);function y(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function b(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function _(e){return e<256?f[e]:f[256+(e>>>7)]}function x(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function w(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,x(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function E(e,t,n){w(e,n[2*t],n[2*t+1])}function T(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function S(e,t,n){var r,i,o=new Array(16),a=0;for(r=1;r<=15;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=T(o[s]++,s))}}function k(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function O(e){e.bi_valid>8?x(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function C(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function A(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&C(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!C(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function M(e,t,n){var r,i,s,l,u=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],i=e.pending_buf[e.l_buf+u],u++,0===r?E(e,i,t):(E(e,(s=d[i])+256+1,t),0!==(l=o[s])&&w(e,i-=h[s],l),E(e,s=_(--r),n),0!==(l=a[s])&&w(e,r-=g[s],l))}while(u<e.last_lit);E(e,256,t)}function P(e,t){var n,r,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<l;n++)0!==o[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=u,n=e.heap_len>>1;n>=1;n--)A(e,o,n);i=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],A(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,A(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,o,a,s,l=t.dyn_tree,u=t.max_code,c=t.stat_desc.static_tree,f=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,h=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(o=0;o<=15;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(o=l[2*l[2*(r=e.heap[n])+1]+1]+1)>p&&(o=p,m++),l[2*r+1]=o,r>u||(e.bl_count[o]++,a=0,r>=h&&(a=d[r-h]),s=l[2*r],e.opt_len+=s*(o+a),f&&(e.static_len+=s*(c[2*r+1]+a)));if(0!==m){do{for(o=p-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[p]--,m-=2}while(m>0);for(o=p;0!==o;o--)for(r=e.bl_count[o];0!==r;)(i=e.heap[--n])>u||(l[2*i+1]!==o&&(e.opt_len+=(o-l[2*i+1])*l[2*i],l[2*i+1]=o),r--)}}(e,t),S(o,u,e.bl_count)}function I(e,t,n){var r,i,o=-1,a=t[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++s<l&&i===a||(s<u?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,o=i,0===a?(l=138,u=3):i===a?(l=6,u=3):(l=7,u=4))}function D(e,t,n){var r,i,o=-1,a=t[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<l&&i===a)){if(s<u)do{E(e,i,e.bl_tree)}while(0!==--s);else 0!==i?(i!==o&&(E(e,i,e.bl_tree),s--),E(e,16,e.bl_tree),w(e,s-3,2)):s<=10?(E(e,17,e.bl_tree),w(e,s-3,3)):(E(e,18,e.bl_tree),w(e,s-11,7));s=0,o=i,0===a?(l=138,u=3):i===a?(l=6,u=3):(l=7,u=4)}}i(g);var N=!1;function R(e,t,n,i){w(e,0+(i?1:0),3),function(e,t,n,i){O(e),i&&(x(e,n),x(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}t._tr_init=function(e){N||(function(){var e,t,n,r,i,l=new Array(16);for(n=0,r=0;r<28;r++)for(h[r]=n,e=0;e<1<<o[r];e++)d[n++]=r;for(d[n-1]=r,i=0,r=0;r<16;r++)for(g[r]=i,e=0;e<1<<a[r];e++)f[i++]=r;for(i>>=7;r<30;r++)for(g[r]=i<<7,e=0;e<1<<a[r]-7;e++)f[256+i++]=r;for(t=0;t<=15;t++)l[t]=0;for(e=0;e<=143;)u[2*e+1]=8,e++,l[8]++;for(;e<=255;)u[2*e+1]=9,e++,l[9]++;for(;e<=279;)u[2*e+1]=7,e++,l[7]++;for(;e<=287;)u[2*e+1]=8,e++,l[8]++;for(S(u,287,l),e=0;e<30;e++)c[2*e+1]=5,c[2*e]=T(e,5);p=new y(u,o,257,286,15),m=new y(c,a,0,30,15),v=new y(new Array(0),s,0,19,7)}(),N=!0),e.l_desc=new b(e.dyn_ltree,p),e.d_desc=new b(e.dyn_dtree,m),e.bl_desc=new b(e.bl_tree,v),e.bi_buf=0,e.bi_valid=0,k(e)},t._tr_stored_block=R,t._tr_flush_block=function(e,t,n,r){var i,o,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),P(e,e.l_desc),P(e,e.d_desc),a=function(e){var t;for(I(e,e.dyn_ltree,e.l_desc.max_code),I(e,e.dyn_dtree,e.d_desc.max_code),P(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*l[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==t?R(e,t,n,r):4===e.strategy||o===i?(w(e,2+(r?1:0),3),M(e,u,c)):(w(e,4+(r?1:0),3),function(e,t,n,r){var i;for(w(e,t-257,5),w(e,n-1,5),w(e,r-4,4),i=0;i<r;i++)w(e,e.bl_tree[2*l[i]+1],3);D(e,e.dyn_ltree,t-1),D(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),M(e,e.dyn_ltree,e.dyn_dtree)),k(e),r&&O(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(d[n]+256+1)]++,e.dyn_dtree[2*_(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){w(e,2,3),E(e,256,u),function(e){16===e.bi_valid?(x(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,n){"use strict";var r=n(639),i=n(82),o=n(364),a=n(366),s=n(255),l=n(365),u=n(642),c=Object.prototype.toString;function f(e){if(!(this instanceof f))return new f(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);if(this.header=new u,r.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"===typeof t.dictionary?t.dictionary=o.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=r.inflateSetDictionary(this.strm,t.dictionary))!==a.Z_OK))throw new Error(s[n])}function d(e,t){var n=new f(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}f.prototype.push=function(e,t){var n,s,l,u,f,d=this.strm,h=this.options.chunkSize,p=this.options.dictionary,m=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"===typeof e?d.input=o.binstring2buf(e):"[object ArrayBuffer]"===c.call(e)?d.input=new Uint8Array(e):d.input=e,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new i.Buf8(h),d.next_out=0,d.avail_out=h),(n=r.inflate(d,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&p&&(n=r.inflateSetDictionary(this.strm,p)),n===a.Z_BUF_ERROR&&!0===m&&(n=a.Z_OK,m=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),this.ended=!0,!1;d.next_out&&(0!==d.avail_out&&n!==a.Z_STREAM_END&&(0!==d.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(l=o.utf8border(d.output,d.next_out),u=d.next_out-l,f=o.buf2string(d.output,l),d.next_out=u,d.avail_out=h-u,u&&i.arraySet(d.output,d.output,l,u,0),this.onData(f)):this.onData(i.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(m=!0)}while((d.avail_in>0||0===d.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),d.avail_out=0,!0)},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=f,t.inflate=d,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},t.ungzip=d},function(e,t,n){"use strict";var r=n(82),i=n(362),o=n(363),a=n(640),s=n(641);function l(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function u(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function c(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(852),t.distcode=t.distdyn=new r.Buf32(592),t.sane=1,t.back=-1,0):-2}function f(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,c(e)):-2}function d(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?-2:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,f(e))):-2}function h(e,t){var n,r;return e?(r=new u,e.state=r,r.window=null,0!==(n=d(e,t))&&(e.state=null),n):-2}var p,m,v=!0;function g(e){if(v){var t;for(p=new r.Buf32(512),m=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,p,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,m,0,e.work,{bits:5}),v=!1}e.lencode=p,e.lenbits=9,e.distcode=m,e.distbits=5}function y(e,t,n,i){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),i>=a.wsize?(r.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>i&&(o=i),r.arraySet(a.window,t,n-i,o,a.wnext),(i-=o)?(r.arraySet(a.window,t,n-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}t.inflateReset=f,t.inflateReset2=d,t.inflateResetKeep=c,t.inflateInit=function(e){return h(e,15)},t.inflateInit2=h,t.inflate=function(e,t){var n,u,c,f,d,h,p,m,v,b,_,x,w,E,T,S,k,O,C,A,M,P,I,D,N=0,R=new r.Buf8(4),L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return-2;12===(n=e.state).mode&&(n.mode=13),d=e.next_out,c=e.output,p=e.avail_out,f=e.next_in,u=e.input,h=e.avail_in,m=n.hold,v=n.bits,b=h,_=p,P=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;v<16;){if(0===h)break e;h--,m+=u[f++]<<v,v+=8}if(2&n.wrap&&35615===m){n.check=0,R[0]=255&m,R[1]=m>>>8&255,n.check=o(n.check,R,2,0),m=0,v=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&m)<<8)+(m>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!==(15&m)){e.msg="unknown compression method",n.mode=30;break}if(v-=4,M=8+(15&(m>>>=4)),0===n.wbits)n.wbits=M;else if(M>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<M,e.adler=n.check=1,n.mode=512&m?10:12,m=0,v=0;break;case 2:for(;v<16;){if(0===h)break e;h--,m+=u[f++]<<v,v+=8}if(n.flags=m,8!==(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=m>>8&1),512&n.flags&&(R[0]=255&m,R[1]=m>>>8&255,n.check=o(n.check,R,2,0)),m=0,v=0,n.mode=3;case 3:for(;v<32;){if(0===h)break e;h--,m+=u[f++]<<v,v+=8}n.head&&(n.head.time=m),512&n.flags&&(R[0]=255&m,R[1]=m>>>8&255,R[2]=m>>>16&255,R[3]=m>>>24&255,n.check=o(n.check,R,4,0)),m=0,v=0,n.mode=4;case 4:for(;v<16;){if(0===h)break e;h--,m+=u[f++]<<v,v+=8}n.head&&(n.head.xflags=255&m,n.head.os=m>>8),512&n.flags&&(R[0]=255&m,R[1]=m>>>8&255,n.check=o(n.check,R,2,0)),m=0,v=0,n.mode=5;case 5:if(1024&n.flags){for(;v<16;){if(0===h)break e;h--,m+=u[f++]<<v,v+=8}n.length=m,n.head&&(n.head.extra_len=m),512&n.flags&&(R[0]=255&m,R[1]=m>>>8&255,n.check=o(n.check,R,2,0)),m=0,v=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((x=n.length)>h&&(x=h),x&&(n.head&&(M=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,u,f,x,M)),512&n.flags&&(n.check=o(n.check,u,x,f)),h-=x,f+=x,n.length-=x),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===h)break e;x=0;do{M=u[f+x++],n.head&&M&&n.length<65536&&(n.head.name+=String.fromCharCode(M))}while(M&&x<h);if(512&n.flags&&(n.check=o(n.check,u,x,f)),h-=x,f+=x,M)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===h)break e;x=0;do{M=u[f+x++],n.head&&M&&n.length<65536&&(n.head.comment+=String.fromCharCode(M))}while(M&&x<h);if(512&n.flags&&(n.check=o(n.check,u,x,f)),h-=x,f+=x,M)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;v<16;){if(0===h)break e;h--,m+=u[f++]<<v,v+=8}if(m!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}m=0,v=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;v<32;){if(0===h)break e;h--,m+=u[f++]<<v,v+=8}e.adler=n.check=l(m),m=0,v=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=d,e.avail_out=p,e.next_in=f,e.avail_in=h,n.hold=m,n.bits=v,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){m>>>=7&v,v-=7&v,n.mode=27;break}for(;v<3;){if(0===h)break e;h--,m+=u[f++]<<v,v+=8}switch(n.last=1&m,v-=1,3&(m>>>=1)){case 0:n.mode=14;break;case 1:if(g(n),n.mode=20,6===t){m>>>=2,v-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}m>>>=2,v-=2;break;case 14:for(m>>>=7&v,v-=7&v;v<32;){if(0===h)break e;h--,m+=u[f++]<<v,v+=8}if((65535&m)!==(m>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&m,m=0,v=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(x=n.length){if(x>h&&(x=h),x>p&&(x=p),0===x)break e;r.arraySet(c,u,f,x,d),h-=x,f+=x,p-=x,d+=x,n.length-=x;break}n.mode=12;break;case 17:for(;v<14;){if(0===h)break e;h--,m+=u[f++]<<v,v+=8}if(n.nlen=257+(31&m),m>>>=5,v-=5,n.ndist=1+(31&m),m>>>=5,v-=5,n.ncode=4+(15&m),m>>>=4,v-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;v<3;){if(0===h)break e;h--,m+=u[f++]<<v,v+=8}n.lens[L[n.have++]]=7&m,m>>>=3,v-=3}for(;n.have<19;)n.lens[L[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,I={bits:n.lenbits},P=s(0,n.lens,0,19,n.lencode,0,n.work,I),n.lenbits=I.bits,P){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;S=(N=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,k=65535&N,!((T=N>>>24)<=v);){if(0===h)break e;h--,m+=u[f++]<<v,v+=8}if(k<16)m>>>=T,v-=T,n.lens[n.have++]=k;else{if(16===k){for(D=T+2;v<D;){if(0===h)break e;h--,m+=u[f++]<<v,v+=8}if(m>>>=T,v-=T,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}M=n.lens[n.have-1],x=3+(3&m),m>>>=2,v-=2}else if(17===k){for(D=T+3;v<D;){if(0===h)break e;h--,m+=u[f++]<<v,v+=8}v-=T,M=0,x=3+(7&(m>>>=T)),m>>>=3,v-=3}else{for(D=T+7;v<D;){if(0===h)break e;h--,m+=u[f++]<<v,v+=8}v-=T,M=0,x=11+(127&(m>>>=T)),m>>>=7,v-=7}if(n.have+x>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;x--;)n.lens[n.have++]=M}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,I={bits:n.lenbits},P=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,I),n.lenbits=I.bits,P){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,I={bits:n.distbits},P=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,I),n.distbits=I.bits,P){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(h>=6&&p>=258){e.next_out=d,e.avail_out=p,e.next_in=f,e.avail_in=h,n.hold=m,n.bits=v,a(e,_),d=e.next_out,c=e.output,p=e.avail_out,f=e.next_in,u=e.input,h=e.avail_in,m=n.hold,v=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;S=(N=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,k=65535&N,!((T=N>>>24)<=v);){if(0===h)break e;h--,m+=u[f++]<<v,v+=8}if(S&&0===(240&S)){for(O=T,C=S,A=k;S=(N=n.lencode[A+((m&(1<<O+C)-1)>>O)])>>>16&255,k=65535&N,!(O+(T=N>>>24)<=v);){if(0===h)break e;h--,m+=u[f++]<<v,v+=8}m>>>=O,v-=O,n.back+=O}if(m>>>=T,v-=T,n.back+=T,n.length=k,0===S){n.mode=26;break}if(32&S){n.back=-1,n.mode=12;break}if(64&S){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&S,n.mode=22;case 22:if(n.extra){for(D=n.extra;v<D;){if(0===h)break e;h--,m+=u[f++]<<v,v+=8}n.length+=m&(1<<n.extra)-1,m>>>=n.extra,v-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;S=(N=n.distcode[m&(1<<n.distbits)-1])>>>16&255,k=65535&N,!((T=N>>>24)<=v);){if(0===h)break e;h--,m+=u[f++]<<v,v+=8}if(0===(240&S)){for(O=T,C=S,A=k;S=(N=n.distcode[A+((m&(1<<O+C)-1)>>O)])>>>16&255,k=65535&N,!(O+(T=N>>>24)<=v);){if(0===h)break e;h--,m+=u[f++]<<v,v+=8}m>>>=O,v-=O,n.back+=O}if(m>>>=T,v-=T,n.back+=T,64&S){e.msg="invalid distance code",n.mode=30;break}n.offset=k,n.extra=15&S,n.mode=24;case 24:if(n.extra){for(D=n.extra;v<D;){if(0===h)break e;h--,m+=u[f++]<<v,v+=8}n.offset+=m&(1<<n.extra)-1,m>>>=n.extra,v-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===p)break e;if(x=_-p,n.offset>x){if((x=n.offset-x)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}x>n.wnext?(x-=n.wnext,w=n.wsize-x):w=n.wnext-x,x>n.length&&(x=n.length),E=n.window}else E=c,w=d-n.offset,x=n.length;x>p&&(x=p),p-=x,n.length-=x;do{c[d++]=E[w++]}while(--x);0===n.length&&(n.mode=21);break;case 26:if(0===p)break e;c[d++]=n.length,p--,n.mode=21;break;case 27:if(n.wrap){for(;v<32;){if(0===h)break e;h--,m|=u[f++]<<v,v+=8}if(_-=p,e.total_out+=_,n.total+=_,_&&(e.adler=n.check=n.flags?o(n.check,c,_,d-_):i(n.check,c,_,d-_)),_=p,(n.flags?m:l(m))!==n.check){e.msg="incorrect data check",n.mode=30;break}m=0,v=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;v<32;){if(0===h)break e;h--,m+=u[f++]<<v,v+=8}if(m!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}m=0,v=0}n.mode=29;case 29:P=1;break e;case 30:P=-3;break e;case 31:return-4;case 32:default:return-2}return e.next_out=d,e.avail_out=p,e.next_in=f,e.avail_in=h,n.hold=m,n.bits=v,(n.wsize||_!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&y(e,e.output,e.next_out,_-e.avail_out)?(n.mode=31,-4):(b-=e.avail_in,_-=e.avail_out,e.total_in+=b,e.total_out+=_,n.total+=_,n.wrap&&_&&(e.adler=n.check=n.flags?o(n.check,c,_,e.next_out-_):i(n.check,c,_,e.next_out-_)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===b&&0===_||4===t)&&0===P&&(P=-5),P)},t.inflateEnd=function(e){if(!e||!e.state)return-2;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0===(2&(n=e.state).wrap)?-2:(n.head=t,t.done=!1,0):-2},t.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?-2:11===n.mode&&i(1,t,r,0)!==n.check?-3:y(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,0):-2},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,n){"use strict";e.exports=function(e,t){var n,r,i,o,a,s,l,u,c,f,d,h,p,m,v,g,y,b,_,x,w,E,T,S,k;n=e.state,r=e.next_in,S=e.input,i=r+(e.avail_in-5),o=e.next_out,k=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),l=n.dmax,u=n.wsize,c=n.whave,f=n.wnext,d=n.window,h=n.hold,p=n.bits,m=n.lencode,v=n.distcode,g=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{p<15&&(h+=S[r++]<<p,p+=8,h+=S[r++]<<p,p+=8),b=m[h&g];t:for(;;){if(h>>>=_=b>>>24,p-=_,0===(_=b>>>16&255))k[o++]=65535&b;else{if(!(16&_)){if(0===(64&_)){b=m[(65535&b)+(h&(1<<_)-1)];continue t}if(32&_){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}x=65535&b,(_&=15)&&(p<_&&(h+=S[r++]<<p,p+=8),x+=h&(1<<_)-1,h>>>=_,p-=_),p<15&&(h+=S[r++]<<p,p+=8,h+=S[r++]<<p,p+=8),b=v[h&y];n:for(;;){if(h>>>=_=b>>>24,p-=_,!(16&(_=b>>>16&255))){if(0===(64&_)){b=v[(65535&b)+(h&(1<<_)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(w=65535&b,p<(_&=15)&&(h+=S[r++]<<p,(p+=8)<_&&(h+=S[r++]<<p,p+=8)),(w+=h&(1<<_)-1)>l){e.msg="invalid distance too far back",n.mode=30;break e}if(h>>>=_,p-=_,w>(_=o-a)){if((_=w-_)>c&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(E=0,T=d,0===f){if(E+=u-_,_<x){x-=_;do{k[o++]=d[E++]}while(--_);E=o-w,T=k}}else if(f<_){if(E+=u+f-_,(_-=f)<x){x-=_;do{k[o++]=d[E++]}while(--_);if(E=0,f<x){x-=_=f;do{k[o++]=d[E++]}while(--_);E=o-w,T=k}}}else if(E+=f-_,_<x){x-=_;do{k[o++]=d[E++]}while(--_);E=o-w,T=k}for(;x>2;)k[o++]=T[E++],k[o++]=T[E++],k[o++]=T[E++],x-=3;x&&(k[o++]=T[E++],x>1&&(k[o++]=T[E++]))}else{E=o-w;do{k[o++]=k[E++],k[o++]=k[E++],k[o++]=k[E++],x-=3}while(x>2);x&&(k[o++]=k[E++],x>1&&(k[o++]=k[E++]))}break}}break}}while(r<i&&o<s);r-=x=p>>3,h&=(1<<(p-=x<<3))-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=o<s?s-o+257:257-(o-s),n.hold=h,n.bits=p}},function(e,t,n){"use strict";var r=n(82),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,l,u,c,f,d){var h,p,m,v,g,y,b,_,x,w=d.bits,E=0,T=0,S=0,k=0,O=0,C=0,A=0,M=0,P=0,I=0,D=null,N=0,R=new r.Buf16(16),L=new r.Buf16(16),j=null,F=0;for(E=0;E<=15;E++)R[E]=0;for(T=0;T<l;T++)R[t[n+T]]++;for(O=w,k=15;k>=1&&0===R[k];k--);if(O>k&&(O=k),0===k)return u[c++]=20971520,u[c++]=20971520,d.bits=1,0;for(S=1;S<k&&0===R[S];S++);for(O<S&&(O=S),M=1,E=1;E<=15;E++)if(M<<=1,(M-=R[E])<0)return-1;if(M>0&&(0===e||1!==k))return-1;for(L[1]=0,E=1;E<15;E++)L[E+1]=L[E]+R[E];for(T=0;T<l;T++)0!==t[n+T]&&(f[L[t[n+T]]++]=T);if(0===e?(D=j=f,y=19):1===e?(D=i,N-=257,j=o,F-=257,y=256):(D=a,j=s,y=-1),I=0,T=0,E=S,g=c,C=O,A=0,m=-1,v=(P=1<<O)-1,1===e&&P>852||2===e&&P>592)return 1;for(;;){b=E-A,f[T]<y?(_=0,x=f[T]):f[T]>y?(_=j[F+f[T]],x=D[N+f[T]]):(_=96,x=0),h=1<<E-A,S=p=1<<C;do{u[g+(I>>A)+(p-=h)]=b<<24|_<<16|x|0}while(0!==p);for(h=1<<E-1;I&h;)h>>=1;if(0!==h?(I&=h-1,I+=h):I=0,T++,0===--R[E]){if(E===k)break;E=t[n+f[T]]}if(E>O&&(I&v)!==m){for(0===A&&(A=O),g+=S,M=1<<(C=E-A);C+A<k&&!((M-=R[C+A])<=0);)C++,M<<=1;if(P+=1<<C,1===e&&P>852||2===e&&P>592)return 1;u[m=I&v]=O<<24|C<<16|g-c|0}}return 0!==I&&(u[g+I]=E-A<<24|64<<16|0),d.bits=O,0}},function(e,t,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(e,t,n){"use strict";var r=n(644);function o(e){var t=/^\s*/.exec(e);return null!==t?t[0].length:0}e.exports=function(e){if("string"!==typeof e)throw new TypeError("sequence must be a string");var t,n,a,s,l,u=[],c="LOCUS",f="DEFINITION",d="ACCESSION",h="VERSION",p="KEYWORDS",m="SOURCE",v="ORGANISM",g="REFERENCE",y="FEATURES",b="ORIGIN",_="//",x=e.split(/\r?\n/);if(null===x)throw new Error("sequence file is empty");var w,E,T,S=!1,k=i(x);try{for(k.s();!(w=k.n()).done;){var O=w.value;if(null===O)break;var C=H(O),A=V(O),M=W(O),P=G(O);if(C===_||P?(a=C,s=null):M&&(s=C),""!==O.trim()&&";"!==C){if(!S&&a!==c)break;switch(a){case c:S=!0,L(O);break;case y:B(O,C,A);break;case b:R(O,C);break;case f:case d:case h:case p:U(a,O,a.toLowerCase());break;case m:s===v?U(s,O,"organism"):U(C,O,"source");break;case g:if(C===g){var I=t.references||[];t.references=I,I.push({})}F(O,s);break;case _:D()}}}}catch(q){k.e(q)}finally{k.f()}return u[u.length-1]!==t&&D(),u;function D(){!function(){if(t&&t.features)for(var e=0;e<t.features.length;e++)t.features[e]=((n=t.features[e]).notes.label?n.name=n.notes.label[0]:n.notes.gene?n.name=n.notes.gene[0]:n.notes.ApEinfo_label?n.name=n.notes.ApEinfo_label[0]:n.notes.name?n.name=n.notes.name[0]:n.notes.organism?n.name=n.notes.organism[0]:n.notes.locus_tag?n.name=n.notes.locus_tag[0]:n.notes.note?n.name=n.notes.note[0]:n.name="Untitled Feature",n.name="string"===typeof n.name?n.name:String(n.name),n);var n}(),u.push(t)}function N(){return t.features[t.features.length-1]}function R(e,n){if(n!==b){var r=e.replace(/[\s]*[0-9]*/g,"");t.sequence+=r}}function L(e){t={features:[],name:"Untitled sequence",sequence:""};var n=(e=j(c,e)).match(/^([^\s]+)\s+(\d+)\s+bp\s+([^\s]+)\s+([^\s]+)\s+([^\s]+)\s+([^\s]+)$/),i=n[1],o=+n[2],a=n[3],s="circular"===n[4],l=n[5],u=t;u.circular=s,u.moleculeType=a,u.genbankDivision=l;var f=n[6].match(/^(\d{2})-(.{3})-(\d{4})$/),d=new Date;d.setFullYear(+f[3]),d.setUTCMonth(r.indexOf(f[2].toUpperCase())),d.setDate(+f[1]),d.setUTCHours(12),d.setMinutes(0),d.setSeconds(0),d.setMilliseconds(0),u.date=d.toISOString(),u.name=i,u.size=o}function j(e,t){return 0===(t=t.replace(/^\s*/,"")).indexOf(e)&&(t=t.replace(e,"")),t.trim()}function F(e,n){var r=t.references,i=r[r.length-1];n?U(n,e,n.toLowerCase(),i):U(g,e,"description",i)}function B(e,r,i){var a;if(r!==y)if(E&&(l=o(e),E=!1),function(e,t){var n=o(e);return t!==n&&!e.trim().charAt(0).match(/\//)}(e,l))T?(z(e.trim()),T=!0):(n&&(n[n.length-1]+=e.trim().replace(/"/g,"")),T=!1);else if(function(e){var t=!1;return(e.trim().charAt(0).match(/\//)||e.match(/^[\s]*\/[\w]+=[\S]+/))&&(t=!0),t}(e))N()&&(function(e){var t,r;t=(t=e.trim()).replace(/^\/|"$/g,"");var i=(r=t.split(/="|=/))[1];i&&(i=i.replace(/\\/g," "),e.match(/="/g)?i=i.replace(/".*/g,""):i.match(/^\d+$/g)&&(i=+i));var o=r[0],a=N().notes;a[o]?a[o].push(i):a[o]=[i],n=a[o]}(e),T=!1);else{a=i.match(/complement/g)?-1:1,t.features.push({locations:[],notes:{}});var s=N();s.type=r,s.strand=a,z(i),T=!0}else E=!0}function z(e){e=e.trim();var t=[];e.replace(/(\d+)/g,(function(e,n){t.push(n)}));var n=N();n.start=+t[0],n.end=+t[1]}function H(e){return((e=e.replace(/^[\s]*/,"")).indexOf("=")<0?e.split(/[\s]+/):e.split(/=/))[0]}function U(e,n,r,i){i=i||t;var o=j(e,n);i[r]=i[r]?"".concat(i[r]," "):"",i[r]+=o}function V(e){return e.indexOf("=")<0?e=(e=e.replace(/^[\s]*[\S]+[\s]+|[\s]+$/,"")).trim():e.split(/=/)[1]}function G(e){var t=!1;return e.substr(0,10).match(/^[\S]+/)&&(t=!0),t}function W(e){var t=!1;return e.substr(0,10).match(/^[\s]+[\S]+/)&&(t=!0),t}}},function(e,t,n){"use strict";e.exports=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(21)),i=u(n(16)),o=u(n(40)),a=u(n(3)),s=u(n(4)),l=n(127);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t){(0,a.default)(this,e),this.dataConfig=t,this.tilesetInfoData=(0,o.default)(this.dataConfig.tilesetInfo)[0]}return(0,s.default)(e,[{key:"tilesetInfo",value:function(e){this.tilesetInfoLoading=!1,e(this.tilesetInfoData)}},{key:"fetchTilesDebounced",value:function(e,t){this.tilesData={};var n=!0,o=!1,a=void 0;try{for(var s,u=(0,i.default)((0,r.default)(this.dataConfig.tiles));!(n=(s=u.next()).done);n=!0){var c=s.value,f=c.split("."),d="localtile."+String(f.slice(1).join("."));this.tilesData[d]=this.dataConfig.tiles[c]}}catch(x){o=!0,a=x}finally{try{!n&&u.return&&u.return()}finally{if(o)throw a}}var h={},p=t.map((function(e){return"localtile."+String(e)}));(0,l.tileResponseToData)(this.tilesData,"",p);var m=!0,v=!1,g=void 0;try{for(var y,b=(0,i.default)(t);!(m=(y=b.next()).done);m=!0){var _=y.value;h[_]=this.tilesData["localtile."+String(_)]}}catch(x){v=!0,g=x}finally{try{!m&&b.return&&b.return()}finally{if(v)throw g}}e(h)}},{key:"tile",value:function(e,t){}}]),e}();t.default=c},function(e,t,n){e.exports={"track-renderer":"TrackRenderer-module_track-renderer-3TM7n","track-renderer-element":"TrackRenderer-module_track-renderer-element-2i16D","track-renderer-events":"TrackRenderer-module_track-renderer-events-3tVM2"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(16)),i=v(n(5)),o=v(n(3)),a=v(n(4)),s=v(n(6)),l=v(n(7)),u=v(n(1)),c=v(n(2)),f=v(n(256)),d=v(n(653)),h=v(n(656)),p=n(11),m=n(10);function v(e){return e&&e.__esModule?e:{default:e}}n(658);var g=function(e){function t(e){(0,o.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.options={},n.state={selectedTilesets:[{datatype:"none"}],allTracksSameDatatype:!0},n.handleSubmitBound=n.handleSubmit.bind(n),n.handleTilesetPickerDoubleClickBound=n.handleTilesetPickerDoubleClick.bind(n),n.selectedTilesetsChangedBound=n.selectedTilesetsChanged.bind(n),n}return(0,l.default)(t,e),(0,a.default)(t,[{key:"getOrientation",value:function(e){return"top"===e||"bottom"===e?"1d-horizontal":"left"===e||"right"===e?"1d-vertical":"2d"}},{key:"handleSubmit",value:function(e){e&&e.preventDefault(),this.props.onTracksChosen(this.state.selectedTilesets,this.props.position,this.props.host)}},{key:"handleTilesetPickerDoubleClick",value:function(e){this.selectedTilesetsChanged([e]),this.props.onTracksChosen(this.state.selectedTilesets,this.props.position,this.props.host)}},{key:"handleOptionsChanged",value:function(e){this.options=e}},{key:"handlePlotTypeSelected",value:function(e){var t=this.state.selectedTilesets,n=!0,i=!1,o=void 0;try{for(var a,s=(0,r.default)(t);!(n=(a=s.next()).done);n=!0)a.value.type=e}catch(l){i=!0,o=l}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}this.selectedPlotType=e,this.setState({selectedTilesets:t})}},{key:"selectedTilesetsChanged",value:function(e){var t=null,n=!0,i=(t=0===e.length?[{datatype:"none"}]:e)[0].datatype,o=!0,a=!1,s=void 0;try{for(var l,u=(0,r.default)(t);!(o=(l=u.next()).done);o=!0)l.value.datatype!==i&&(n=!1)}catch(O){a=!0,s=O}finally{try{!o&&u.return&&u.return()}finally{if(a)throw s}}if(n){var c=!0,f=!1,d=void 0;try{for(var h,v=(0,r.default)(t);!(c=(h=v.next()).done);c=!0)h.value.type=this.selectedPlotType}catch(O){f=!0,d=O}finally{try{!c&&v.return&&v.return()}finally{if(f)throw d}}}else{var g=!0,y=!1,b=void 0;try{for(var _,x=(0,r.default)(t);!(g=(_=x.next()).done);g=!0){var w=_.value,E=[w.datatype],T=this.getOrientation(this.props.position);"cooler"===w.filetype&&(E=[w.datatype,"chromsizes"]);var S=(0,p.AVAILABLE_TRACK_TYPES)([E],T),k=(0,m.getDefaultTrackForDatatype)(E[0],this.props.position,S);w.type=k.type}}catch(O){y=!0,b=O}finally{try{!g&&x.return&&x.return()}finally{if(y)throw b}}}this.setState({selectedTilesets:t,allTracksSameDatatype:n})}},{key:"render",value:function(){var e=this,t=this.getOrientation(this.props.position),n=u.default.createElement("div",null,u.default.createElement(d.default,{ref:function(t){e.tilesetFinder=t},datatype:this.props.datatype,onDoubleClick:this.handleTilesetPickerDoubleClick.bind(this),onTracksChosen:function(t){return e.props.onTracksChosen(t,e.props.position)},orientation:t,selectedTilesetChanged:this.selectedTilesetsChanged.bind(this),trackSourceServers:this.props.trackSourceServers}));return u.default.createElement(f.default,{maxHeight:!0,okayTitle:"Submit",onCancel:this.props.onCancel,onOkay:this.handleSubmitBound,title:"Add Track"},n,u.default.createElement(h.default,{ref:function(t){e.plotTypeChooser=t},allTracksSameDatatype:this.state.allTracksSameDatatype,datatypes:this.state.selectedTilesets.map((function(e){return"cooler"===e.filetype?[e.datatype,"chromsizes"]:[e.datatype]})),onPlotTypeSelected:this.handlePlotTypeSelected.bind(this),orientation:t,position:this.props.position}))}}]),t}(u.default.Component);g.defaultProps={position:"top"},g.propTypes={datatype:c.default.string.isRequired,host:c.default.string.isRequired,onCancel:c.default.func.isRequired,onTracksChosen:c.default.func.isRequired,position:c.default.string,trackSourceServers:c.default.array.isRequired},t.default=g},function(e,t,n){e.exports={button:"Button-module_button-3YXsQ","button-shortcut":"Button-module_button-shortcut-1zMAn"}},function(e,t,n){e.exports={cross:"Cross-module_cross-3WYME"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(33)),i=u(n(1)),o=u(n(2)),a=u(n(178)),s=u(n(367)),l=u(n(137));function u(e){return e&&e.__esModule?e:{default:e}}n(651);var c={"../styles/Modal.module.scss":{"modal-background":"Modal-module_modal-background-3vDy1","fade-in":"Modal-module_fade-in-3Nm-O","modal-hide":"Modal-module_modal-hide-3huBg","modal-wrap":"Modal-module_modal-wrap-1HWNn","modal-window":"Modal-module_modal-window-1XZAq","fade-scale-in":"Modal-module_fade-scale-in-11Dkx","modal-window-max-height":"Modal-module_modal-window-max-height-CZYCl","modal-content":"Modal-module_modal-content-2xb_x"}},f=function(e){return i.default.createElement("div",{className:(0,r.default)("modal-background "+(e.hide?"modal-hide":""),c)},i.default.createElement("div",{className:"Modal-module_modal-wrap-1HWNn"},i.default.createElement("div",{className:(0,r.default)("modal-window "+(e.maxHeight?"modal-window-max-height":""),c)},e.closeButton&&i.default.createElement(a.default,{onClick:function(){e.modal.close(),e.onClose&&e.onClose()}},i.default.createElement(s.default,null)),i.default.createElement("div",{className:"Modal-module_modal-content-2xb_x"},e.children))))};f.defaultProps={closeButton:!0,hide:!1,maxHeight:!1},f.propTypes={children:o.default.element.isRequired,closeButton:o.default.bool,hide:o.default.bool,maxHeight:o.default.bool,modal:o.default.object.isRequired,onClose:o.default.func},t.default=(0,l.default)(f)},function(e,t,n){e.exports={"modal-background":"Modal-module_modal-background-3vDy1","fade-in":"Modal-module_fade-in-3Nm-O","modal-hide":"Modal-module_modal-hide-3huBg","modal-wrap":"Modal-module_modal-wrap-1HWNn","modal-window":"Modal-module_modal-window-1XZAq","fade-scale-in":"Modal-module_fade-scale-in-11Dkx","modal-window-max-height":"Modal-module_modal-window-max-height-CZYCl","modal-content":"Modal-module_modal-content-2xb_x"}},function(e,t,n){e.exports={"dialog-header":"Dialog-module_dialog-header-2mk2M","dialog-main-max-height":"Dialog-module_dialog-main-max-height-1EAb2","dialog-footer":"Dialog-module_dialog-footer-1BnEv","dialog-footer-max-height":"Dialog-module_dialog-footer-max-height-KjDek"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=x(n(45)),i=x(n(16)),o=x(n(25)),a=x(n(35)),s=x(n(21)),l=x(n(51)),u=x(n(5)),c=x(n(3)),f=x(n(4)),d=x(n(6)),h=x(n(7)),p=x(n(1)),m=x(n(2)),v=x(n(27)),g=x(n(654)),y=n(24);n(655);var b=x(n(69)),_=n(11);function x(e){return e&&e.__esModule?e:{default:e}}var w=function(e){function t(e){(0,c.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));n.localTracks=_.TRACKS_INFO.filter((function(e){return e.local&&!e.hidden})).map((function(e){var t=(0,l.default)({},e);return t.datatype=e.datatype[0],t})),n.augmentedTracksInfo=_.TRACKS_INFO,window.higlassTracksByType&&(0,s.default)(window.higlassTracksByType).forEach((function(e){n.augmentedTracksInfo.push(window.higlassTracksByType[e].config)})),e.datatype?n.localTracks=n.localTracks.filter((function(t){return t.datatype[0]===e.datatype})):n.localTracks=n.localTracks.filter((function(e){return e.orientation===n.props.orientation})),n.localTracks.forEach((function(e){e.uuid=v.default.nice()}));var r=n.prepareNewEntries("",n.localTracks,{}),i=(0,s.default)(r),o=i.length?[i[0]]:null;return n.mounted=!1,n.state={selectedUuid:o,options:r,filter:"",checked:[],expanded:[]},n.requestTilesetLists(),n}return(0,h.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.requestTilesetLists(),this.searchBox.focus()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"prepareNewEntries",value:function(e,t,n){var r=this,i=n;return t.map((function(t){return(0,l.default)({},t,{server:e,tilesetUid:t.uuid,serverUidKey:r.serverUidKey(e,t.uuid),datatype:t.datatype,name:t.name,uid:v.default.nice()})})).forEach((function(e){i[e.serverUidKey]=e})),i}},{key:"serverUidKey",value:function(e,t){return String(e)+"/"+String(t)}},{key:"requestTilesetLists",value:function(){var e=this,t=null;if(this.props.datatype)t="dt="+String(this.props.datatype);else{var n,r=new a.default((n=[]).concat.apply(n,(0,o.default)(this.augmentedTracksInfo.filter((function(e){return e.datatype})).filter((function(t){return t.orientation===e.props.orientation})).map((function(e){return e.datatype})))));t=[].concat((0,o.default)(r)).map((function(e){return"dt="+String(e)})).join("&")}this.props.trackSourceServers?this.props.trackSourceServers.forEach((function(n){y.tileProxy.json(String(n)+"/tilesets/?limit=10000&"+String(t),(function(t,r){if(t)console.error("ERROR:",t);else{var i=e.prepareNewEntries(n,r.results,e.state.options),o=(0,s.default)(i),a=e.state.selectedUuid;if(!a){a=o.length?[o[0]]:null;var l=e.state.options[a[0]];e.props.selectedTilesetChanged([l])}e.mounted&&e.setState({selectedUuid:a,options:i})}}),e.props.pubSub)})):console.warn("No track source servers specified in the viewconf")}},{key:"handleOptionDoubleClick",value:function(e){var t=this.state.options[e.target.value];this.props.onDoubleClick(t)}},{key:"handleSelectedOptions",value:function(e){for(var t=[],n=[],r=0;r<e.length;r++)t.push(e[r]),n.push(this.state.options[e[r]]);this.props.selectedTilesetChanged(n),this.setState({selectedUuid:t})}},{key:"handleSelect",value:function(){for(var e=this.multiSelect.selectedOptions,t=[],n=0;n<e.length;n++){var r=e[n];t.push(r.value)}this.handleSelectedOptions(t)}},{key:"handleSearchChange",value:function(){var e=this.searchBox;this.setState({filter:e.value})}},{key:"partitionByGroup",value:function(e,t){var n={"":{name:"",value:"",children:[]}},r=!0,o=!1,a=void 0;try{for(var l,u=(0,i.default)((0,s.default)(e));!(r=(l=u.next()).done);r=!0){var c=l.value,f=e[c];if(f.name.toLowerCase().includes(t))if("project_name"in f){var d=f.project_name;d in n||(n[d]={value:d,label:d,children:[]}),n[d].children.push({label:f.name,value:c})}else n[""].children.push({label:f.name,value:c})}}catch(_){o=!0,a=_}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}var h=n[""].children,p=!0,m=!1,v=void 0;try{for(var g,y=(0,i.default)((0,s.default)(n));!(p=(g=y.next()).done);p=!0){var b=g.value;""!==b&&(n[b].children.sort((function(e,t){return e.label.toLowerCase().localeCompare(t.label.toLowerCase(),"en")})),h.push(n[b]))}}catch(_){m=!0,v=_}finally{try{!p&&y.return&&y.return()}finally{if(m)throw v}}return h.sort((function(e,t){return e.label.toLowerCase().localeCompare(t.label.toLowerCase(),"en")})),h}},{key:"handleChecked",value:function(e){this.handleSelectedOptions(e),this.setState({checked:e})}},{key:"handleExpanded",value:function(e){this.setState({expanded:e})}},{key:"render",value:function(){var e=this,t=[];for(var n in this.state.options)t.push(this.state.options[n]);var i=this.partitionByGroup(this.state.options,this.state.filter),o={width:15,height:15,top:2,right:2,position:"relative"},a=JSON.parse((0,r.default)(o));a.opacity=.5;var s=p.default.createElement("form",{onSubmit:function(e){e.preventDefault()}},p.default.createElement("div",{className:"tileset-finder-search-bar"},p.default.createElement("span",{className:"tileset-finder-label"},"Select tileset:"),p.default.createElement("input",{ref:function(t){e.searchBox=t},className:"tileset-finder-search-box",onChange:this.handleSearchChange.bind(this),placeholder:"Search Term",type:"text"})),p.default.createElement("div",{className:"tileset-finder-checkbox-tree TilesetFinder_tileset-finder-checkbox-tree-2MsEs"},p.default.createElement(g.default,{checked:this.state.checked,expanded:this.state.expanded,icons:{uncheck:p.default.createElement("svg",{style:o},p.default.createElement("use",{xlinkHref:"#square_o"})),check:p.default.createElement("svg",{style:o},p.default.createElement("use",{xlinkHref:"#check_square_o"})),halfCheck:p.default.createElement("svg",{style:a},p.default.createElement("use",{xlinkHref:"#check_square_o"})),leaf:p.default.createElement("svg",{style:o},p.default.createElement("use",{xlinkHref:"#file_o"})),expandClose:p.default.createElement("svg",{style:o},p.default.createElement("use",{xlinkHref:"#chevron_right"})),expandOpen:p.default.createElement("svg",{style:o},p.default.createElement("use",{xlinkHref:"#chevron_down"})),parentClose:p.default.createElement("svg",{style:o},p.default.createElement("use",{xlinkHref:"#folder_o"})),parentOpen:p.default.createElement("svg",{style:o},p.default.createElement("use",{xlinkHref:"#folder_open_o"}))},nodes:i,onCheck:this.handleChecked.bind(this),onExpand:this.handleExpanded.bind(this)})));return p.default.createElement("div",null,s)}}]),t}(p.default.Component);w.propTypes={datatype:m.default.string,orientation:m.default.string,onDoubleClick:m.default.func,pubSub:m.default.object.isRequired,selectedTilesetChanged:m.default.func,trackSourceServers:m.default.array},t.default=(0,b.default)(w)},function(e,t,n){var r;window,e.exports=(r=n(1),function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=27)}([function(e,t,n){e.exports=n(96)()},function(e,t){e.exports=r},function(e,t,n){var r=n(16),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t,n){var r=n(41),i=n(47);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},function(e,t,n){var r=n(31),i=n(32),o=n(33),a=n(34),s=n(35);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(14);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(12),i=n(43),o=n(44),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},function(e,t,n){var r=n(3)(Object,"create");e.exports=r},function(e,t,n){var r=n(56);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var a=i.apply(null,r);a&&e.push(a)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){var r=n(3)(n(2),"Map");e.exports=r},function(e,t,n){var r=n(2).Symbol;e.exports=r},function(e,t){var n=Array.isArray;e.exports=n},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(6),i=n(17);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(42))},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,n){var r=n(48),i=n(55),o=n(57),a=n(58),s=n(59);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(60),i=n(63),o=n(64);e.exports=function(e,t,n,a,s,l){var u=1&n,c=e.length,f=t.length;if(c!=f&&!(u&&f>c))return!1;var d=l.get(e);if(d&&l.get(t))return d==t;var h=-1,p=!0,m=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++h<c;){var v=e[h],g=t[h];if(a)var y=u?a(g,v,h,t,e,l):a(v,g,h,e,t,l);if(void 0!==y){if(y)continue;p=!1;break}if(m){if(!i(t,(function(e,t){if(!o(m,t)&&(v===e||s(v,e,n,a,l)))return m.push(t)}))){p=!1;break}}else if(v!==g&&!s(v,g,n,a,l)){p=!1;break}}return l.delete(e),l.delete(t),p}},function(e,t,n){(function(e){var r=n(2),i=n(81),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;e.exports=l}).call(this,n(22)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=n(83),i=n(84),o=n(85),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,n){var r=n(28);e.exports=function(e,t){return r(e,t)}},function(e,t,n){var r=self.crypto||self.msCrypto;e.exports=function(e){e=e||21;for(var t="",n=r.getRandomValues(new Uint8Array(e));0<e--;)t+="Uint8ArdomValuesObj012345679BCDEFGHIJKLMNPQRSTWXYZ_cfghkpqvwxyz-"[63&n[e]];return t}},function(e,t,n){e.exports=n(98).default},function(e,t,n){var r=n(29),i=n(9);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:r(t,n,o,a,e,s))}},function(e,t,n){var r=n(30),i=n(20),o=n(65),a=n(69),s=n(91),l=n(13),u=n(21),c=n(23),f="[object Arguments]",d="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,v,g){var y=l(e),b=l(t),_=y?d:s(e),x=b?d:s(t),w=(_=_==f?h:_)==h,E=(x=x==f?h:x)==h,T=_==x;if(T&&u(e)){if(!u(t))return!1;y=!0,w=!1}if(T&&!w)return g||(g=new r),y||c(e)?i(e,t,n,m,v,g):o(e,t,_,n,m,v,g);if(!(1&n)){var S=w&&p.call(e,"__wrapped__"),k=E&&p.call(t,"__wrapped__");if(S||k){var O=S?e.value():e,C=k?t.value():t;return g||(g=new r),v(O,C,n,m,g)}}return!!T&&(g||(g=new r),a(e,t,n,m,v,g))}},function(e,t,n){var r=n(4),i=n(36),o=n(37),a=n(38),s=n(39),l=n(40);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=l,e.exports=u},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(5),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():i.call(t,n,1),--this.size,0))}},function(e,t,n){var r=n(5);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(5);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(5);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},function(e,t,n){var r=n(4);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(4),i=n(11),o=n(19);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(15),i=n(45),o=n(17),a=n(18),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,f=u.hasOwnProperty,d=RegExp("^"+c.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?d:s).test(a(e))}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(12),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r,i=n(46),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},function(e,t,n){var r=n(2)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(49),i=n(4),o=n(11);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(e,t,n){var r=n(50),i=n(51),o=n(52),a=n(53),s=n(54);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(7);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(7),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(7),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},function(e,t,n){var r=n(7);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){var r=n(8);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(8);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(8);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(8);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},function(e,t,n){var r=n(19),i=n(61),o=n(62);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var r=n(12),i=n(66),o=n(14),a=n(20),s=n(67),l=n(68),u=r?r.prototype:void 0,c=u?u.valueOf:void 0;e.exports=function(e,t,n,r,u,f,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var p=1&r;if(h||(h=l),e.size!=t.size&&!p)return!1;var m=d.get(e);if(m)return m==t;r|=2,d.set(e,t);var v=a(h(e),h(t),r,u,f,d);return d.delete(e),v;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},function(e,t,n){var r=n(2).Uint8Array;e.exports=r},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},function(e,t,n){var r=n(70),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var l=1&n,u=r(e),c=u.length;if(c!=r(t).length&&!l)return!1;for(var f=c;f--;){var d=u[f];if(!(l?d in t:i.call(t,d)))return!1}var h=s.get(e);if(h&&s.get(t))return h==t;var p=!0;s.set(e,t),s.set(t,e);for(var m=l;++f<c;){var v=e[d=u[f]],g=t[d];if(o)var y=l?o(g,v,d,t,e,s):o(v,g,d,e,t,s);if(!(void 0===y?v===g||a(v,g,n,o,s):y)){p=!1;break}m||(m="constructor"==d)}if(p&&!m){var b=e.constructor,_=t.constructor;b!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _)&&(p=!1)}return s.delete(e),s.delete(t),p}},function(e,t,n){var r=n(71),i=n(73),o=n(76);e.exports=function(e){return r(e,o,i)}},function(e,t,n){var r=n(72),i=n(13);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},function(e,t,n){var r=n(74),i=n(75),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(77),i=n(86),o=n(90);e.exports=function(e){return o(e)?r(e):i(e)}},function(e,t,n){var r=n(78),i=n(79),o=n(13),a=n(21),s=n(82),l=n(23),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),c=!n&&i(e),f=!n&&!c&&a(e),d=!n&&!c&&!f&&l(e),h=n||c||f||d,p=h?r(e.length,String):[],m=p.length;for(var v in e)!t&&!u.call(e,v)||h&&("length"==v||f&&("offset"==v||"parent"==v)||d&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,m))||p.push(v);return p}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(80),i=n(9),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,t,n){var r=n(6),i=n(9);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},function(e,t){e.exports=function(){return!1}},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(6),i=n(24),o=n(9),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(16),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{return o&&o.require&&o.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}).call(this,n(22)(e))},function(e,t,n){var r=n(87),i=n(88),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(89)(Object.keys,Object);e.exports=r},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(15),i=n(24);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},function(e,t,n){var r=n(92),i=n(11),o=n(93),a=n(94),s=n(95),l=n(6),u=n(18),c=u(r),f=u(i),d=u(o),h=u(a),p=u(s),m=l;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=m(new i)||o&&"[object Promise]"!=m(o.resolve())||a&&"[object Set]"!=m(new a)||s&&"[object WeakMap]"!=m(new s))&&(m=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case c:return"[object DataView]";case f:return"[object Map]";case d:return"[object Promise]";case h:return"[object Set]";case p:return"[object WeakMap]"}return t}),e.exports=m},function(e,t,n){var r=n(3)(n(2),"DataView");e.exports=r},function(e,t,n){var r=n(3)(n(2),"Promise");e.exports=r},function(e,t,n){var r=n(3)(n(2),"Set");e.exports=r},function(e,t,n){var r=n(3)(n(2),"WeakMap");e.exports=r},function(e,t,n){"use strict";var r=n(97);function i(){}e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=i,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";n.r(t);var r=n(10),i=n.n(r),o=n(25),a=n.n(o),s=n(26),l=n.n(s),u=n(0),c=n.n(u),f=n(1),d=n.n(f);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),v(this,g(t).apply(this,arguments))}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,d.a.PureComponent),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.children,n=e.title,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["children","title"]);return d.a.createElement("button",p({"aria-label":n,title:n,type:"button"},r),t)}}])&&m(n.prototype,r),t}();b(_,"propTypes",{children:c.a.node.isRequired,title:c.a.string}),b(_,"defaultProps",{title:null});var x=_;function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var T=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props=t,this.flatNodes=n}var t,n;return t=e,(n=[{key:"setProps",value:function(e){this.props=e}},{key:"clone",value:function(){var t=this,n={};return Object.keys(this.flatNodes).forEach((function(e){var r=t.flatNodes[e];n[e]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){w(e,t,n[t])}))}return e}({},r)})),new e(this.props,n)}},{key:"getNode",value:function(e){return this.flatNodes[e]}},{key:"flattenNodes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(Array.isArray(e)&&0!==e.length){var i=this.props,o=i.disabled,a=i.noCascade;e.forEach((function(e,i){var s=t.nodeHasChildren(e);t.flatNodes[e.value]={label:e.label,value:e.value,children:e.children,parent:n,isParent:s,isLeaf:!s,showCheckbox:void 0===e.showCheckbox||e.showCheckbox,disabled:t.getDisabledState(e,n,o,a),treeDepth:r,index:i},t.flattenNodes(e.children,e,r+1)}))}}},{key:"nodeHasChildren",value:function(e){return Array.isArray(e.children)&&e.children.length>0}},{key:"getDisabledState",value:function(e,t,n,r){return!!n||!(r||!t.disabled)||Boolean(e.disabled)}},{key:"deserializeLists",value:function(e){var t=this,n=["checked","expanded"];Object.keys(this.flatNodes).forEach((function(e){n.forEach((function(n){t.flatNodes[e][n]=!1}))})),n.forEach((function(n){e[n].forEach((function(e){void 0!==t.flatNodes[e]&&(t.flatNodes[e][n]=!0)}))}))}},{key:"serializeList",value:function(e){var t=this,n=[];return Object.keys(this.flatNodes).forEach((function(r){t.flatNodes[r][e]&&n.push(r)})),n}},{key:"expandAllNodes",value:function(e){var t=this;return Object.keys(this.flatNodes).forEach((function(n){t.flatNodes[n].isParent&&(t.flatNodes[n].expanded=e)})),this}},{key:"toggleChecked",value:function(e,t,n){var r=this,i=this.flatNodes[e.value];if(i.isLeaf||n){if(e.disabled)return this;this.toggleNode(e.value,"checked",t)}else i.children.forEach((function(e){r.toggleChecked(e,t,n)}));return this}},{key:"toggleNode",value:function(e,t,n){return this.flatNodes[e][t]=n,this}}])&&E(t.prototype,n),e}();function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),C(this,A(t).apply(this,arguments))}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,d.a.PureComponent),n=t,(r=[{key:"componentDidMount",value:function(){this.updateDeterminateProperty()}},{key:"componentDidUpdate",value:function(){this.updateDeterminateProperty()}},{key:"updateDeterminateProperty",value:function(){var e=this.props.indeterminate;this.checkbox.indeterminate=e}},{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){P(e,t,n[t])}))}return e}({},this.props);return delete t.indeterminate,d.a.createElement("input",k({},t,{ref:function(t){e.checkbox=t},type:"checkbox"}))}}])&&O(n.prototype,r),t}();P(I,"propTypes",{indeterminate:c.a.bool}),P(I,"defaultProps",{indeterminate:!1});var D=I,N=c.a.shape({check:c.a.node,uncheck:c.a.node,halfCheck:c.a.node,expandClose:c.a.node,expandOpen:c.a.node,expandAll:c.a.node,collapseAll:c.a.node,parentClose:c.a.node,parentOpen:c.a.node,leaf:c.a.node}),R=c.a.shape({collapseAll:c.a.string.isRequired,expandAll:c.a.string.isRequired,toggle:c.a.string.isRequired});function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U=function(e){function t(e){var n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=!(r=F(t).call(this,e))||"object"!==L(r)&&"function"!=typeof r?z(this):r).onCheck=n.onCheck.bind(z(z(n))),n.onClick=n.onClick.bind(z(z(n))),n.onExpand=n.onExpand.bind(z(z(n))),n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(t,d.a.Component),n=t,(r=[{key:"onCheck",value:function(){var e=this.props,t=e.value;(0,e.onCheck)({value:t,checked:this.getCheckState({toggle:!0})})}},{key:"onClick",value:function(){var e=this.props,t=e.expandOnClick,n=e.isParent,r=e.value,i=e.onClick;n&&t&&this.onExpand(),i({value:r,checked:this.getCheckState({toggle:!1})})}},{key:"onExpand",value:function(){var e=this.props,t=e.expanded,n=e.value;(0,e.onExpand)({value:n,expanded:!t})}},{key:"getCheckState",value:function(e){var t=e.toggle,n=this.props,r=n.checked,i=n.optimisticToggle;return!(0!==r||!t)||1===r&&!t||2===r&&i}},{key:"renderCollapseButton",value:function(){var e=this.props,t=e.expandDisabled,n=e.isLeaf,r=e.lang;return n?d.a.createElement("span",{className:"rct-collapse"},d.a.createElement("span",{className:"rct-icon"})):d.a.createElement(x,{className:"rct-collapse rct-collapse-btn",disabled:t,title:r.toggle,onClick:this.onExpand},this.renderCollapseIcon())}},{key:"renderCollapseIcon",value:function(){var e=this.props,t=e.expanded,n=e.icons,r=n.expandClose,i=n.expandOpen;return t?i:r}},{key:"renderCheckboxIcon",value:function(){var e=this.props,t=e.checked,n=e.icons,r=n.uncheck,i=n.check,o=n.halfCheck;return 0===t?r:1===t?i:o}},{key:"renderNodeIcon",value:function(){var e=this.props,t=e.expanded,n=e.icon,r=e.icons,i=r.leaf,o=r.parentClose,a=r.parentOpen,s=e.isLeaf;return null!==n?n:s?i:t?a:o}},{key:"renderBareLabel",value:function(e){var t=this.props,n=t.onClick,r=t.title,i=null!==n;return d.a.createElement("span",{className:"rct-bare-label",title:r},i?d.a.createElement("span",{className:"rct-node-clickable",onClick:this.onClick,onKeyPress:this.onClick,role:"button",tabIndex:0},e):e)}},{key:"renderCheckboxLabel",value:function(e){var t=this.props,n=t.checked,r=t.disabled,i=t.title,o=t.treeId,a=t.value,s=null!==t.onClick,l="".concat(o,"-").concat(String(a).split(" ").join("_")),u=[d.a.createElement("label",{key:0,htmlFor:l,title:i},d.a.createElement(D,{checked:1===n,disabled:r,id:l,indeterminate:2===n,onClick:this.onCheck,onChange:function(){}}),d.a.createElement("span",{className:"rct-checkbox"},this.renderCheckboxIcon()),s?null:e)];return s&&u.push(d.a.createElement("span",{key:1,className:"rct-node-clickable",onClick:this.onClick,onKeyPress:this.onClick,role:"link",tabIndex:0},e)),u}},{key:"renderLabel",value:function(){var e=this.props,t=e.label,n=e.showCheckbox,r=[e.showNodeIcon?d.a.createElement("span",{key:0,className:"rct-node-icon"},this.renderNodeIcon()):null,d.a.createElement("span",{key:1,className:"rct-title"},t)];return n?this.renderCheckboxLabel(r):this.renderBareLabel(r)}},{key:"renderChildren",value:function(){return this.props.expanded?this.props.children:null}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.disabled,r=e.expanded,o=e.isLeaf,a=i()({"rct-node":!0,"rct-node-leaf":o,"rct-node-parent":!o,"rct-node-expanded":!o&&r,"rct-node-collapsed":!o&&!r,"rct-disabled":n},t);return d.a.createElement("li",{className:a},d.a.createElement("span",{className:"rct-text"},this.renderCollapseButton(),this.renderLabel()),this.renderChildren())}}])&&j(n.prototype,r),t}();H(U,"propTypes",{checked:c.a.number.isRequired,disabled:c.a.bool.isRequired,expandDisabled:c.a.bool.isRequired,expanded:c.a.bool.isRequired,icons:N.isRequired,isLeaf:c.a.bool.isRequired,isParent:c.a.bool.isRequired,label:c.a.node.isRequired,lang:R.isRequired,optimisticToggle:c.a.bool.isRequired,showNodeIcon:c.a.bool.isRequired,treeId:c.a.string.isRequired,value:c.a.oneOfType([c.a.string,c.a.number]).isRequired,onCheck:c.a.func.isRequired,onExpand:c.a.func.isRequired,children:c.a.node,className:c.a.string,expandOnClick:c.a.bool,icon:c.a.node,showCheckbox:c.a.bool,title:c.a.string,onClick:c.a.func}),H(U,"defaultProps",{children:null,className:null,expandOnClick:!1,icon:null,showCheckbox:!0,title:null,onClick:function(){}});var V=U,G=c.a.oneOfType([c.a.arrayOf(c.a.string),c.a.arrayOf(c.a.number)]);function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q={label:c.a.node.isRequired,value:c.a.oneOfType([c.a.string,c.a.number]).isRequired,disabled:c.a.bool,icon:c.a.node,showCheckbox:c.a.bool,title:c.a.string},Y=c.a.oneOfType([c.a.shape(q),c.a.shape(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){W(e,t,n[t])}))}return e}({},q,{children:c.a.arrayOf(q).isRequired}))]);function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ee(e,t,n[t])}))}return e}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te=function(e){function t(e){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=!(r=Z(t).call(this,e))||"object"!==X(r)&&"function"!=typeof r?J(this):r;var i=new T(e);return i.flattenNodes(e.nodes),i.deserializeLists({checked:e.checked,expanded:e.expanded}),n.state={id:e.id||"rct-".concat(l()(7)),model:i,prevProps:e},n.onCheck=n.onCheck.bind(J(J(n))),n.onExpand=n.onExpand.bind(J(J(n))),n.onNodeClick=n.onNodeClick.bind(J(J(n))),n.onExpandAll=n.onExpandAll.bind(J(J(n))),n.onCollapseAll=n.onCollapseAll.bind(J(J(n))),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(t,d.a.Component),n=t,o=[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.model,r=t.prevProps,i=e.disabled,o=e.id,s=e.nodes,l=$({},t,{prevProps:e});return n.setProps(e),a()(r.nodes,s)&&r.disabled===i||n.flattenNodes(s),null!==o&&(l=$({},l,{id:o})),n.deserializeLists({checked:e.checked,expanded:e.expanded}),l}}],(r=[{key:"onCheck",value:function(e){var t=this.props,n=t.noCascade,r=t.onCheck,i=this.state.model.clone(),o=i.getNode(e.value);i.toggleChecked(e,e.checked,n),r(i.serializeList("checked"),$({},o,e))}},{key:"onExpand",value:function(e){var t=this.props.onExpand,n=this.state.model.clone(),r=n.getNode(e.value);n.toggleNode(e.value,"expanded",e.expanded),t(n.serializeList("expanded"),$({},r,e))}},{key:"onNodeClick",value:function(e){(0,this.props.onClick)($({},this.state.model.getNode(e.value),e))}},{key:"onExpandAll",value:function(){this.expandAllNodes()}},{key:"onCollapseAll",value:function(){this.expandAllNodes(!1)}},{key:"expandAllNodes",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,this.props.onExpand)(this.state.model.clone().expandAllNodes(e).serializeList("expanded"))}},{key:"determineShallowCheckState",value:function(e,t){var n=this.state.model.getNode(e.value);return n.isLeaf||t?n.checked?1:0:this.isEveryChildChecked(e)?1:this.isSomeChildChecked(e)?2:0}},{key:"isEveryChildChecked",value:function(e){var t=this;return e.children.every((function(e){return 1===t.state.model.getNode(e.value).checkState}))}},{key:"isSomeChildChecked",value:function(e){var t=this;return e.children.some((function(e){return t.state.model.getNode(e.value).checkState>0}))}},{key:"renderTreeNodes",value:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.props,o=i.expandDisabled,a=i.expandOnClick,s=i.icons,l=i.lang,u=i.noCascade,c=i.onClick,f=i.onlyLeafCheckboxes,h=i.optimisticToggle,p=i.showNodeTitle,m=i.showNodeIcon,v=this.state,g=v.id,y=v.model,b=t.defaultProps.icons,_=e.map((function(e){var t=e.value,i=y.getNode(e.value),v=i.isParent?n.renderTreeNodes(e.children,e):null;i.checkState=n.determineShallowCheckState(e,u);var _=f?i.isLeaf:i.showCheckbox;return!r.value||y.getNode(r.value).expanded?d.a.createElement(V,{key:t,checked:i.checkState,className:e.className,disabled:i.disabled,expandDisabled:o,expandOnClick:a,expanded:i.expanded,icon:e.icon,icons:$({},b,s),label:e.label,lang:l,optimisticToggle:h,isLeaf:i.isLeaf,isParent:i.isParent,showCheckbox:_,showNodeIcon:m,title:p?e.title||e.label:e.title,treeId:g,value:e.value,onCheck:n.onCheck,onClick:c&&n.onNodeClick,onExpand:n.onExpand},v):null}));return d.a.createElement("ol",null,_)}},{key:"renderExpandAll",value:function(){var e=this.props,t=e.icons,n=t.expandAll,r=t.collapseAll,i=e.lang;return e.showExpandAll?d.a.createElement("div",{className:"rct-options"},d.a.createElement(x,{className:"rct-option rct-option-expand-all",title:i.expandAll,onClick:this.onExpandAll},n),d.a.createElement(x,{className:"rct-option rct-option-collapse-all",title:i.collapseAll,onClick:this.onCollapseAll},r)):null}},{key:"renderHiddenInput",value:function(){var e=this.props,t=e.name,n=e.nameAsArray;return void 0===t?null:n?this.renderArrayHiddenInput():this.renderJoinedHiddenInput()}},{key:"renderArrayHiddenInput",value:function(){var e=this.props,t=e.checked,n=e.name;return t.map((function(e){var t="".concat(n,"[]");return d.a.createElement("input",{key:e,name:t,type:"hidden",value:e})}))}},{key:"renderJoinedHiddenInput",value:function(){var e=this.props,t=e.checked,n=e.name,r=t.join(",");return d.a.createElement("input",{name:n,type:"hidden",value:r})}},{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.nodes,r=e.nativeCheckboxes,o=this.renderTreeNodes(n),a=i()({"react-checkbox-tree":!0,"rct-disabled":t,"rct-native-display":r});return d.a.createElement("div",{className:a},this.renderExpandAll(),this.renderHiddenInput(),o)}}])&&K(n.prototype,r),o&&K(n,o),t}();ee(te,"propTypes",{nodes:c.a.arrayOf(Y).isRequired,checked:G,disabled:c.a.bool,expandDisabled:c.a.bool,expandOnClick:c.a.bool,expanded:G,icons:N,id:c.a.string,lang:R,name:c.a.string,nameAsArray:c.a.bool,nativeCheckboxes:c.a.bool,noCascade:c.a.bool,onlyLeafCheckboxes:c.a.bool,optimisticToggle:c.a.bool,showExpandAll:c.a.bool,showNodeIcon:c.a.bool,showNodeTitle:c.a.bool,onCheck:c.a.func,onClick:c.a.func,onExpand:c.a.func}),ee(te,"defaultProps",{checked:[],disabled:!1,expandDisabled:!1,expandOnClick:!1,expanded:[],icons:{check:d.a.createElement("span",{className:"rct-icon rct-icon-check"}),uncheck:d.a.createElement("span",{className:"rct-icon rct-icon-uncheck"}),halfCheck:d.a.createElement("span",{className:"rct-icon rct-icon-half-check"}),expandClose:d.a.createElement("span",{className:"rct-icon rct-icon-expand-close"}),expandOpen:d.a.createElement("span",{className:"rct-icon rct-icon-expand-open"}),expandAll:d.a.createElement("span",{className:"rct-icon rct-icon-expand-all"}),collapseAll:d.a.createElement("span",{className:"rct-icon rct-icon-collapse-all"}),parentClose:d.a.createElement("span",{className:"rct-icon rct-icon-parent-close"}),parentOpen:d.a.createElement("span",{className:"rct-icon rct-icon-parent-open"}),leaf:d.a.createElement("span",{className:"rct-icon rct-icon-leaf"})},id:null,lang:{collapseAll:"Collapse all",expandAll:"Expand all",toggle:"Toggle"},name:void 0,nameAsArray:!1,nativeCheckboxes:!1,noCascade:!1,onlyLeafCheckboxes:!1,optimisticToggle:!0,showExpandAll:!1,showNodeIcon:!0,showNodeTitle:!1,onCheck:function(){},onClick:null,onExpand:function(){}}),t.default=te}]))},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(5)),i=d(n(3)),o=d(n(4)),a=d(n(6)),s=d(n(7)),l=d(n(2)),u=d(n(1)),c=n(11),f=n(10);function d(e){return e&&e.__esModule?e:{default:e}}n(657);var h=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.DATATYPE_TO_TRACK_TYPE=(0,c.DATATYPE_TO_TRACK_TYPE)(n.props.orientation),n.AVAILABLE_TRACK_TYPES=(0,c.AVAILABLE_TRACK_TYPES)(n.props.datatypes,n.props.orientation),n.state={selectedPlotType:n.AVAILABLE_TRACK_TYPES[0]},n}return(0,s.default)(t,e),(0,o.default)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(this.AVAILABLE_TRACK_TYPES=(0,c.AVAILABLE_TRACK_TYPES)(e.datatypes,this.props.orientation),this.AVAILABLE_TRACK_TYPES&&e.allTracksSameDatatype&&this.AVAILABLE_TRACK_TYPES.length>0&&!this.AVAILABLE_TRACK_TYPES.includes(this.state.selectedPlotType)){var t=(0,f.getDefaultTrackForDatatype)(e.datatypes[0][0],this.props.position,this.AVAILABLE_TRACK_TYPES);this.handlePlotTypeSelected(t)}}},{key:"handlePlotTypeSelected",value:function(e){this.setState({selectedPlotType:e}),this.props.onPlotTypeSelected(e.type)}},{key:"render",value:function(){var e=this,t="No plot types available for track",n={};return c.TRACKS_INFO.forEach((function(e){n[e.type]=e})),this.AVAILABLE_TRACK_TYPES&&(t=this.AVAILABLE_TRACK_TYPES.sort((function(e,t){return e.type<t.type})).map((function(t){var r=n[t.type].thumbnail,i=e.state.selectedPlotType.type===t.type?"plot-type-item plot-type-selected":"plot-type-item",o=n[t.type].thumbnail?u.default.createElement("div",{className:"track-thumbnail",dangerouslySetInnerHTML:{__html:r.outerHTML}}):u.default.createElement("div",{className:"track-thumbnail"},u.default.createElement("svg",{height:20,width:30}));return u.default.createElement("li",{key:t.type,className:i,onClick:function(n){e.setState({selectedPlotType:t}),e.props.onPlotTypeSelected(t.type)},style:{listStyle:"none",paddingLeft:5,paddingBottom:0}},o,u.default.createElement("span",{style:{verticalAlign:"middle"}},t.type))}))),u.default.createElement("div",null,t.length>0&&this.props.allTracksSameDatatype&&u.default.createElement("div",{className:"plot-type-container"},t),!this.props.allTracksSameDatatype&&u.default.createElement("div",{className:"plot-type-container-empty"},"Datasets with multiple datatypes chosen. They will be added with their default track types."))}}]),t}(u.default.Component);h.propTypes={allTracksSameDatatype:l.default.bool,datatypes:l.default.array,orientation:l.default.string,onPlotTypeSelected:l.default.func,position:l.default.string},t.default=h},function(e,t,n){},function(e,t,n){e.exports={"collapse-toggle-icon":"AddTrackDialog-module_collapse-toggle-icon-1Of5_",collapsed:"AddTrackDialog-module_collapsed-1ifB1","modal-title":"AddTrackDialog-module_modal-title-1Atka","modal-container":"AddTrackDialog-module_modal-container-14d_4",modal:"AddTrackDialog-module_modal-bZqLI","modal-backdrop":"AddTrackDialog-module_modal-backdrop-ZrVQg","modal-dialog":"AddTrackDialog-module_modal-dialog-3bKDk"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(5)),i=g(n(3)),o=g(n(4)),a=g(n(6)),s=g(n(13)),l=g(n(7)),u=g(n(33)),c=g(n(1)),f=n(81),d=g(n(94)),h=g(n(67)),p=g(n(368)),m=n(179),v=n(11);function g(e){return e&&e.__esModule?e:{default:e}}n(68);var y={"../styles/ContextMenu.module.scss":{"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-dark":"ContextMenu-module_context-menu-dark-2PO31","context-menu-icon":"ContextMenu-module_context-menu-icon-I4kiw","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}},b=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.seriesRefs={},n.seriesListMenu=null,n}return(0,l.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){(0,s.default)(t.prototype.__proto__||(0,r.default)(t.prototype),"componentDidMount",this).call(this)}},{key:"render",value:function(){var e=this,t="context-menu";return this.props.theme===v.THEME_DARK&&(t+=" context-menu-dark"),c.default.createElement("div",{ref:function(t){e.div=t},"data-menu-type":"ConfigTrackMenu",style:{left:this.state.left,top:this.state.top},className:(0,u.default)(t,y)},(0,m.getSeriesItems)(this.props.tracks,this.handleItemMouseEnter.bind(this),this.handleMouseLeave.bind(this),null),c.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),c.default.createElement(h.default,{contextMenu:this,onClick:function(){return e.props.onLockValueScale(e.props.tracks[0].uid)},onMouseEnter:function(t){return e.handleOtherMouseEnter(t)}},"Lock Value Scale With"),c.default.createElement(h.default,{contextMenu:this,onClick:function(){return e.props.onUnlockValueScale(e.props.tracks[0].uid)},onMouseEnter:function(t){return e.handleOtherMouseEnter(t)}},"Unlock Value Scale"),c.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),c.default.createElement(h.default,{contextMenu:this,onClick:function(){return e.props.onAddSeries(e.props.tracks[0].uid)},onMouseEnter:function(t){return e.handleOtherMouseEnter(t)}},"Add Series"),c.default.createElement(h.default,{onClick:function(){return e.props.onCloseTrack(e.props.tracks[0].uid)}},"Close Track"),c.default.createElement(h.default,{onClick:function(){e.props.onReplaceTrack(e.props.tracks[0].uid,e.props.trackOrientation)}},"Replace Track"),this.getSubmenu())}}]),t}((0,f.mix)(d.default).with(p.default));t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(21)),i=v(n(16)),o=v(n(5)),a=v(n(3)),s=v(n(4)),l=v(n(6)),u=v(n(7)),c=v(n(33)),f=v(n(1)),d=v(n(94)),h=v(n(67)),p=v(n(369)),m=n(11);function v(e){return e&&e.__esModule?e:{default:e}}n(68);var g={"../styles/ContextMenu.module.scss":{"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-dark":"ContextMenu-module_context-menu-dark-2PO31","context-menu-icon":"ContextMenu-module_context-menu-icon-I4kiw","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}},y=function(e){function t(){return(0,a.default)(this,t),(0,l.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,s.default)(t,[{key:"getConfigureSeriesMenu",value:function(e,t,n){var r=this,o={};if(!m.TRACKS_INFO_BY_TYPE[n.type]||!m.TRACKS_INFO_BY_TYPE[n.type].availableOptions)return null;var a=function(e){if(e in m.OPTIONS_INFO){if(o[e]={name:m.OPTIONS_INFO[e].name},m.OPTIONS_INFO[e].generateOptions){var t=m.OPTIONS_INFO[e].generateOptions(n);o[e].children||(o[e].children={});var a=function(t){var i={name:t.name,value:t.value,handler:function(){n.options[e]=t.value,r.props.onTrackOptionsChanged(n.uid,n.options),r.props.closeMenu()}};o[e].children[t.value]=i},s=!0,l=!1,u=void 0;try{for(var c,f=(0,i.default)(t);!(s=(c=f.next()).done);s=!0)a(c.value)}catch(p){l=!0,u=p}finally{try{!s&&f.return&&f.return()}finally{if(l)throw u}}}if(m.OPTIONS_INFO[e].inlineOptions){var d=function(t){var i=m.OPTIONS_INFO[e].inlineOptions[t];o[e].children||(o[e].children={});var a={name:i.name,value:i.value};i.componentPickers&&i.componentPickers[n.type]?a.handler=function(){r.props.onConfigureTrack(n,i.componentPickers[n.type]),r.props.closeMenu()}:a.handler=function(){n.options[e]=i.value,r.props.onTrackOptionsChanged(n.uid,n.options),r.props.closeMenu()},o[e].children[t]=a};for(var h in m.OPTIONS_INFO[e].inlineOptions)d(h)}else m.OPTIONS_INFO[e].componentPickers&&m.OPTIONS_INFO[e].componentPickers[n.type]&&(o[e].handler=function(){r.props.onConfigureTrack(n,m.OPTIONS_INFO[e].componentPickers[n.type]),r.props.closeMenu()})}},s=!0,l=!1,u=void 0;try{for(var c,d=(0,i.default)(m.TRACKS_INFO_BY_TYPE[n.type].availableOptions);!(s=(c=d.next()).done);s=!0)a(c.value)}catch(h){l=!0,u=h}finally{try{!s&&d.return&&d.return()}finally{if(l)throw u}}return f.default.createElement(p.default,{key:"config-series-menu",closeMenu:this.props.closeMenu,menuItems:o,orientation:this.state.orientation,parentBbox:t,position:e,theme:this.props.theme})}},{key:"getTrackTypeItems",value:function(e,t,n){var i=this;window.higlassTracksByType&&(0,r.default)(window.higlassTracksByType).forEach((function(e){m.TRACKS_INFO_BY_TYPE[e]=window.higlassTracksByType[e].config}));var o=n.datatype,a=null;n.type in m.TRACKS_INFO_BY_TYPE&&(o||(o=m.TRACKS_INFO_BY_TYPE[n.type].datatype[0]),a=m.TRACKS_INFO_BY_TYPE[n.type].orientation);for(var s=m.TRACKS_INFO.filter((function(e){return e.datatype})).filter((function(e){return e.orientation})).filter((function(e){return e.datatype.includes(o)})).filter((function(e){return e.orientation===a})).map((function(e){return e.type})),l={},u=function(e){l[s[e]]={value:s[e],name:s[e],handler:function(){i.props.onChangeTrackType(n.uid,s[e])}}},c=0;c<s.length;c++)u(c);return f.default.createElement(p.default,{key:"track-type-items",closeMenu:this.props.closeMenu,menuItems:l,orientation:this.state.orientation,parentBbox:t,position:e,theme:this.props.theme})}},{key:"getSubmenu",value:function(){if(this.state.submenuShown){var e=this.state.submenuSourceBbox,t="left"===this.state.orientation?{left:this.state.left,top:e.top}:{left:this.state.left+e.width+7,top:e.top},n=this.state.submenuShown,r=n.value;return"track-type"===n.option?this.getTrackTypeItems(t,e,r):this.getConfigureSeriesMenu(t,e,r)}return f.default.createElement("div",null)}},{key:"getDivideByMenuItem",value:function(){var e=this;if(this.props.series.data&&"divided"===this.props.series.data.type){var t={tilesetUid:this.props.series.data.children[0].tilesetUid,server:this.props.series.data.children[0].server};return f.default.createElement(h.default,{onClick:function(){return e.props.onChangeTrackData(e.props.series.uid,t)},onMouseEnter:function(t){return e.handleOtherMouseEnter(t)},className:"ContextMenu-module_context-menu-item-1HeVv"},f.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},"Remove divisor"))}return f.default.createElement(h.default,{onClick:function(){return e.props.onAddDivisor(e.props.series)},onMouseEnter:function(t){return e.handleOtherMouseEnter(t)},className:"ContextMenu-module_context-menu-item-1HeVv"},f.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},"Divide by"))}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this,t=null;m.TRACKS_INFO_BY_TYPE[this.props.series.type]&&m.TRACKS_INFO_BY_TYPE[this.props.series.type].exportable&&(t=f.default.createElement(h.default,{onClick:function(){return e.props.onExportData(e.props.hostTrack.uid,e.props.track.uid)},onMouseEnter:function(t){return e.handleOtherMouseEnter(t)},className:"ContextMenu-module_context-menu-item-1HeVv"},f.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},"Export Data")));var n=this.props.onAddSeries?f.default.createElement(h.default,{onClick:function(){e.props.onCloseTrack(e.props.series.uid),e.props.onAddSeries(e.props.hostTrack.uid)},onMouseEnter:function(t){return e.handleOtherMouseEnter(t)},className:"ContextMenu-module_context-menu-item-1HeVv"},f.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},"Replace Series")):null,r="context-menu";return this.props.theme===m.THEME_DARK&&(r+=" context-menu-dark"),f.default.createElement("div",{ref:function(t){e.div=t},"data-menu-type":"SeriesListMenu",onMouseLeave:this.props.handleMouseLeave,style:{left:this.state.left,top:this.state.top},className:(0,c.default)(r,g)},f.default.createElement(h.default,{onClick:function(){},onMouseEnter:function(t){return e.handleItemMouseEnter(t,{option:"configure-series",value:e.props.track})},onMouseLeave:function(t){return e.handleMouseLeave(t)}},"Configure Series",f.default.createElement("svg",{className:"ContextMenu-module_play-icon-R4pIO"},f.default.createElement("use",{xlinkHref:"#play"}))),f.default.createElement(h.default,{onClick:function(){},onMouseEnter:function(t){return e.handleItemMouseEnter(t,{option:"track-type",value:e.props.track})},onMouseLeave:function(t){return e.handleMouseLeave(t)},className:"ContextMenu-module_context-menu-item-1HeVv"},f.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},"Track Type",f.default.createElement("svg",{className:"ContextMenu-module_play-icon-R4pIO"},f.default.createElement("use",{xlinkHref:"#play"})))),t,this.getDivideByMenuItem(),f.default.createElement(h.default,{onClick:this.props.onCloseTrack,onMouseEnter:function(t){return e.handleOtherMouseEnter(t)},className:"ContextMenu-module_context-menu-item-1HeVv"},f.default.createElement("span",{className:"ContextMenu-module_context-menu-span-8EUfZ"},"Close Series")),n,this.getSubmenu())}}]),t}(d.default);t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(2)),i=s(n(1)),o=s(n(67)),a=n(179);function s(e){return e&&e.__esModule?e:{default:e}}n(68);var l=function(e){return i.default.createElement("div",null,(0,a.getSeriesItems)(e.tracks,null,null,e.onCloseTrack),i.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),i.default.createElement(o.default,{onClick:function(){return e.onCloseTrack(e.tracks[0].uid)}},"Close all series"))};l.propTypes={onCloseTrack:r.default.func.isRequired,tracks:r.default.array.isRequired},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(1)),i=n(121),o=a(n(372));function a(e){return e&&e.__esModule?e:{default:e}}var s=(0,i.SortableElement)((function(e){return r.default.createElement(o.default,{className:e.className,editable:e.editable,handleConfigTrack:e.handleConfigTrack,handleResizeTrack:e.handleResizeTrack,height:e.height,item:e.item,onAddSeries:e.onAddSeries,onCloseTrack:e.onCloseTrack,onCloseTrackMenuOpened:e.onCloseTrackMenuOpened,onConfigTrackMenuOpened:e.onConfigTrackMenuOpened,resizeHandles:e.resizeHandles,uid:e.uid,width:e.width})}));t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(25)),i=g(n(44)),o=g(n(5)),a=g(n(3)),s=g(n(4)),l=g(n(6)),u=g(n(7)),c=g(n(33)),f=n(84),d=n(0),h=g(n(2)),p=g(n(1)),m=g(n(79)),v=n(11);function g(e){return e&&e.__esModule?e:{default:e}}n(664);var y={"../styles/DraggableDiv.module.scss":{"top-right-handle":"DraggableDiv-module_top-right-handle-oUk0R","bottom-right-handle":"DraggableDiv-module_bottom-right-handle-o7UYG","top-left-handle":"DraggableDiv-module_top-left-handle-R5Zui","bottom-left-handle":"DraggableDiv-module_bottom-left-handle-FO7d4","top-draggable-handle":"DraggableDiv-module_top-draggable-handle-3W5bP","bottom-draggable-handle":"DraggableDiv-module_bottom-draggable-handle-3olLp","left-draggable-handle":"DraggableDiv-module_left-draggable-handle-2gpow","right-draggable-handle":"DraggableDiv-module_right-draggable-handle-2Sriq","draggable-div":"DraggableDiv-module_draggable-div-2eWml","top-draggable-handle-grabber":"DraggableDiv-module_top-draggable-handle-grabber-2mVDE","bottom-draggable-handle-grabber":"DraggableDiv-module_bottom-draggable-handle-grabber-GN1_k","left-draggable-handle-grabber":"DraggableDiv-module_left-draggable-handle-grabber-1Pqhc","right-draggable-handle-grabber":"DraggableDiv-module_right-draggable-handle-grabber-1mtC0"}},b=function(e){function t(e){(0,a.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.dragTopRight=(0,f.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragTopRightFunc.bind(n)),n.dragTopLeft=(0,f.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragTopLeftFunc.bind(n)),n.dragBottomRight=(0,f.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragBottomRightFunc.bind(n)),n.dragBottomLeft=(0,f.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragBottomLeftFunc.bind(n)),n.dragBottom=(0,f.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragBottomFunc.bind(n)),n.dragTop=(0,f.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragTopFunc.bind(n)),n.dragLeft=(0,f.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragLeftFunc.bind(n)),n.dragRight=(0,f.drag)().on("start",n.dragStart.bind(n)).on("drag",n.dragRightFunc.bind(n)),n.minWidth=10,n.minHeight=10,n.bottomHandleWidth=20,n.state={uid:n.props.uid,width:n.props.width,height:n.props.height,top:n.props.top,left:n.props.left},n.domBody=(0,d.select)("body").node(),n}return(0,u.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){(0,d.select)(this.bottomHandle).call(this.dragBottom),(0,d.select)(this.topHandle).call(this.dragTop),(0,d.select)(this.leftHandle).call(this.dragLeft),(0,d.select)(this.rightHandle).call(this.dragRight)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){"width"in e&&this.setState({width:e.width}),"height"in e&&this.setState({height:e.height})}},{key:"dragBottomFunc",value:function(){var e=(0,d.mouse)(this.domBody),t=this.dragStartHeight+(e[1]-this.dragStartMousePos[1]);t=t>this.minHeight?t:this.minHeight,this.setState({height:t}),d.event.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragLeftFunc",value:function(){var e=(0,d.mouse)(this.domBody),t=this.dragStartWidth-(e[0]-this.dragStartMousePos[0]);t=t>this.minWidth?t:this.minWidth;var n=this.dragStartLeft+e[0]-this.dragStartMousePos[0];n=t>this.minWidth?n:this.dragStartLeft+this.dragStartWidth-this.minWidth,this.setState({left:n,width:t}),d.event.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragTopFunc",value:function(){var e=(0,d.mouse)(this.domBody),t=this.dragStartHeight-(e[1]-this.dragStartMousePos[1]);t=t>this.minHeight?t:this.minHeight;var n=this.dragStartTop+e[1]-this.dragStartMousePos[1];n=t>this.minHeight?n:this.dragStartTop+this.dragStartHeight-this.minHeight,this.setState({top:n,height:t}),d.event.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragRightFunc",value:function(){var e=(0,d.mouse)(this.domBody),t=this.dragStartWidth+(e[0]-this.dragStartMousePos[0]);t=t>this.minWidth?t:this.minWidth,this.setState({width:t}),d.event.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragBottomLeftFunc",value:function(){var e=(0,d.mouse)(this.domBody),t=this.dragStartHeight+(e[1]-this.dragStartMousePos[1]);t=t>this.minHeight?t:this.minHeight;var n=this.dragStartWidth-(e[0]-this.dragStartMousePos[0]);n=n>this.minWidth?n:this.minWidth;var r=this.dragStartLeft+e[0]-this.dragStartMousePos[0];r=n>this.minWidth?r:this.dragStartLeft+this.dragStartWidth-this.minWidth,this.setState({left:r,width:n,height:t}),d.event.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragBottomRightFunc",value:function(){var e=(0,d.mouse)(this.domBody),t=this.dragStartWidth+(e[0]-this.dragStartMousePos[0]);t=t>this.minWidth?t:this.minWidth;var n=this.dragStartHeight+(e[1]-this.dragStartMousePos[1]);n=n>this.minHeight?n:this.minHeight,this.setState({width:t,height:n}),d.event.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragTopRightFunc",value:function(){var e=(0,d.mouse)(this.domBody),t=this.dragStartHeight-(e[1]-this.dragStartMousePos[1]);t=t>this.minHeight?t:this.minHeight;var n=this.dragStartTop+e[1]-this.dragStartMousePos[1];n=t>this.minHeight?n:this.dragStartTop+this.dragStartHeight-this.minHeight;var r=this.dragStartWidth+(e[0]-this.dragStartMousePos[0]);r=r>this.minWidth?r:this.minWidth,this.setState({top:n,width:r,height:t}),d.event.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragTopLeftFunc",value:function(){var e=(0,d.mouse)(this.domBody),t=this.dragStartWidth-(e[0]-this.dragStartMousePos[0]);t=t>this.minWidth?t:this.minWidth;var n=this.dragStartLeft+e[0]-this.dragStartMousePos[0];n=t>this.minWidth?n:this.dragStartLeft+this.dragStartWidth-this.minWidth;var r=this.dragStartHeight-(e[1]-this.dragStartMousePos[1]);r=r>this.minHeight?r:this.minHeight;var i=this.dragStartTop+e[1]-this.dragStartMousePos[1];i=r>this.minHeight?i:this.dragStartTop+this.dragStartHeight-this.minHeight,this.setState({top:i,left:n,width:t,height:r}),d.event.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragStart",value:function(){this.dragStartMousePos=(0,d.mouse)(this.domBody),this.dragStartWidth=this.state.width,this.dragStartHeight=this.state.height,this.dragStartTop=this.state.top,this.dragStartLeft=this.state.left,d.event.sourceEvent.stopPropagation()}},{key:"sizeChanged",value:function(){this.props.sizeChanged&&this.props.sizeChanged(this.state)}},{key:"rotateClicked",value:function(){this.props.trackRotated(this.state.uid)}},{key:"closeClicked",value:function(){this.props.trackClosed(this.state.uid)}},{key:"render",value:function(){var e=this,t=this.props.theme===v.THEME_DARK?"white":"black",n={top:this.state.top,left:this.state.left,width:this.state.width,height:this.state.height,opacity:this.props.opacity},o={left:this.state.width/2-12,width:24},a={top:this.state.height/2-12,height:24},s={bottom:(0,i.default)({},o,{bottom:1}),top:(0,i.default)({},o,{top:1}),left:(0,i.default)({},a,{left:1}),right:(0,i.default)({},a,{right:1})},l=[].concat((0,r.default)(this.props.resizeHandles)).map((function(n){return p.default.createElement("div",{key:n,ref:function(t){e[String(n)+"Handle"]=t},style:s[n],title:"Resize track",className:(0,c.default)(String(n)+"-draggable-handle",y)},p.default.createElement("div",{style:{borderColor:t},className:(0,c.default)(String(n)+"-draggable-handle-grabber",y)}))}));return p.default.createElement("div",{ref:function(t){e.divContainer=t},className:(this.props.className?this.props.className+" ":"")+"DraggableDiv-module_draggable-div-2eWml",style:n},l)}}]),t}(p.default.Component);b.propTypes={className:h.default.string,height:h.default.number,left:h.default.number,opacity:h.default.number,resizeHandles:h.default.object,sizeChanged:h.default.func,top:h.default.number,trackClosed:h.default.func,trackRotated:h.default.func,uid:h.default.string,width:h.default.number,theme:h.default.symbol},t.default=(0,m.default)(b)},function(e,t,n){e.exports={"top-right-handle":"DraggableDiv-module_top-right-handle-oUk0R","bottom-right-handle":"DraggableDiv-module_bottom-right-handle-o7UYG","top-left-handle":"DraggableDiv-module_top-left-handle-R5Zui","bottom-left-handle":"DraggableDiv-module_bottom-left-handle-FO7d4","top-draggable-handle":"DraggableDiv-module_top-draggable-handle-3W5bP","bottom-draggable-handle":"DraggableDiv-module_bottom-draggable-handle-3olLp","left-draggable-handle":"DraggableDiv-module_left-draggable-handle-2gpow","right-draggable-handle":"DraggableDiv-module_right-draggable-handle-2Sriq","draggable-div":"DraggableDiv-module_draggable-div-2eWml","top-draggable-handle-grabber":"DraggableDiv-module_top-draggable-handle-grabber-2mVDE","bottom-draggable-handle-grabber":"DraggableDiv-module_bottom-draggable-handle-grabber-GN1_k","left-draggable-handle-grabber":"DraggableDiv-module_left-draggable-handle-grabber-1Pqhc","right-draggable-handle-grabber":"DraggableDiv-module_right-draggable-handle-grabber-1mtC0"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(5)),i=d(n(3)),o=d(n(4)),a=d(n(6)),s=d(n(7)),l=d(n(2)),u=d(n(1)),c=d(n(38)),f=n(121);function d(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.state={controlsVisible:!1},n}return(0,s.default)(t,e),(0,o.default)(t,[{key:"shouldComponentUpdate",value:function(){return!this.resizing}},{key:"handleMouseEnter",value:function(){this.setState({controlsVisible:!0})}},{key:"handleMouseLeave",value:function(){this.setState({controlsVisible:!1})}},{key:"handleMouseMove",value:function(){this.setState({controlsVisible:!0})}},{key:"getControls",value:function(){var e=this,t=null;return t=this.moveable?(0,f.SortableHandle)((function(){return u.default.createElement("svg",{className:"no-zoom",height:"10px",onClick:function(){},style:e.getMoveImgStyle(),width:"10px"},u.default.createElement("use",{xlinkHref:"#move"}))})):(0,f.SortableHandle)((function(){return u.default.createElement("div",null)})),u.default.createElement("div",{style:{position:"absolute",backgroundColor:"rgba(255,255,255,0.7)",right:"3px",top:"3px",pointerEvents:"none",paddingLeft:"5px",paddingRight:"5px",borderRadius:"5px",border:"1px solid #dddddd"}},u.default.createElement(t,null),u.default.createElement("svg",{ref:function(t){e.imgConfig=t},className:"no-zoom",height:"10px",onClick:function(){var t=c.default.findDOMNode(e.imgConfig).getBoundingClientRect();e.props.onConfigTrackMenuOpened(e.props.uid,t)},style:this.getSettingsImgStyle(),width:"10px"},u.default.createElement("use",{xlinkHref:"#cog"})),u.default.createElement("svg",{ref:function(t){e.imgAdd=t},className:"no-zoom",height:"10px",onClick:function(){return e.props.onAddSeries(e.props.uid)},style:this.getAddImgStyle(),width:"10px"},u.default.createElement("use",{xlinkHref:"#plus"})),u.default.createElement("svg",{ref:function(t){e.imgClose=t},className:"no-zoom",height:"10px",onClick:function(){var t=c.default.findDOMNode(e.imgClose).getBoundingClientRect();e.props.onCloseTrackMenuOpened(e.props.uid,t)},style:this.getCloseImgStyle(),width:"10px"},u.default.createElement("use",{xlinkHref:"#cross"})))}}]),t}(u.default.Component);h.propTypes={configMenuOpen:l.default.bool,onConfigTrackMenuOpened:l.default.func,onCloseTrackMenuOpened:l.default.func,onAddSeries:l.default.func,uid:l.default.string},t.default=h},function(e,t,n){e.exports={"horizontal-tiled-plot":"HorizontalTiledPlot-module_horizontal-tiled-plot-3EK65"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=x(n(5)),i=x(n(3)),o=x(n(4)),a=x(n(6)),s=x(n(7)),l=x(n(33)),u=x(n(2)),c=x(n(1)),f=n(83),d=n(0),h=x(n(27)),p=x(n(371)),m=x(n(668)),v=x(n(373)),g=n(10),y=n(11),b=(x(n(669)),x(n(173))),_=x(n(172));function x(e){return e&&e.__esModule?e:{default:e}}var w={styles:{"vertical-tiled-plot":"VerticalTiledPlot-module_vertical-tiled-plot-R3sb7"},stylesPlot:{"tiled-plot":"TiledPlot-module_tiled-plot-uFHiB",horizontalList:"TiledPlot-module_horizontalList-1c1P8",list:"TiledPlot-module_list-24zgV",stylizedList:"TiledPlot-module_stylizedList-Mt4JL",stylizedItem:"TiledPlot-module_stylizedItem-2bQBK",stylizedHelper:"TiledPlot-module_stylizedHelper-3IVEu",horizontalItem:"TiledPlot-module_horizontalItem-2-ZjU","resizable-track":"TiledPlot-module_resizable-track-2oLT9",domain:"TiledPlot-module_domain-qYw6K"},stylesTrack:{"track-range-selection":"Track-module_track-range-selection-1yrDf","track-range-selection-active":"Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-primary":"Track-module_track-range-selection-active-primary-29M73 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-active-secondary":"Track-module_track-range-selection-active-secondary-1s0t5 Track-module_track-range-selection-active-1oljJ Track-module_track-range-selection-1yrDf","track-range-selection-group-inactive":"Track-module_track-range-selection-group-inactive-YNRM4","track-range-selection-group-brush-selection":"Track-module_track-range-selection-group-brush-selection-2VYDl"}},E=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.brushBehavior=(0,f.brushY)(!0).on("start",n.brushStarted.bind(n)).on("brush",n.brushed.bind(n)).on("end",n.brushedEnded.bind(n)),n}return(0,s.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.isRangeSelectionActive&&this.addBrush()}},{key:"shouldComponentUpdate",value:function(e,t){if(this.rangeSelectionTriggered)return this.rangeSelectionTriggered=!1,this.rangeSelectionTriggeredEnd&&this.props.rangeSelection!==e.rangeSelection&&this.moveBrush(e.rangeSelection[0]?e.rangeSelection[0]:null,!0),this.rangeSelectionTriggeredEnd=!1,this.state!==t;if(this.props.rangeSelection!==e.rangeSelection){var n=this.props.is1dRangeSelection?0:1;return this.moveBrush(e.rangeSelection[n]?e.rangeSelection[n]:null,e.rangeSelectionEnd),this.state!==t}return!0}},{key:"componentDidUpdate",value:function(){this.props.isRangeSelectionActive?this.addBrush():this.removeBrush()}},{key:"addBrush",value:function(){this.brushEl&&this.brushElAddedBefore!==this.brushEl&&(this.brushElAddedBefore&&this.brushElAddedBefore.on(".brush",null),this.brushEl.call(this.brushBehavior),this.brushElAddedBefore=this.brushEl,(0,g.resetD3BrushStyle)(this.brushEl,_.default["track-range-selection-group-brush-selection"]))}},{key:"brushed",value:function(){var e=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,this.sourceEvent&&this.props.onRangeSelection&&!e&&(this.rangeSelectionTriggered=!0,this.props.onRangeSelection(d.event.selection))}},{key:"brushStarted",value:function(){this.sourceEvent&&d.event.selection&&this.props.onRangeSelectionStart()}},{key:"brushedEnded",value:function(){if(this.props.is1dRangeSelection){var e=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,d.event.selection&&d.event.sourceEvent&&this.props.onRangeSelection&&!e&&(this.rangeSelectionTriggered=!0,this.rangeSelectionTriggeredEnd=!0,this.props.onRangeSelectionEnd(d.event.selection)),d.event.selection||(this.rangeSelectionTriggered=!0,this.props.onRangeSelectionReset())}}},{key:"moveBrush",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.brushEl){var n=e?[this.props.scale(e[0]),this.props.scale(e[1])]:null;this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,t?this.brushEl.transition().call(this.brushBehavior.move,n):this.brushEl.call(this.brushBehavior.move,n)}}},{key:"removeBrush",value:function(){this.brushElAddedBefore&&(this.brushElAddedBefore.call(this.brushBehavior.move,null),this.brushElAddedBefore.on(".brush",null),this.brushElAddedBefore=void 0,this.props.onRangeSelectionReset())}},{key:"render",value:function(){var e=this,t=this.props.tracks.map((function(e){return e.width})).reduce(g.sum,0),n=this.props.tracks.map((function(e){return(0,y.IS_TRACK_RANGE_SELECTABLE)(e)})).reduce(g.or,!1),r=this.props.isRangeSelectionActive?"stylesTrack.track-range-selection-active":"stylesTrack.track-range-selection";return c.default.createElement("div",{className:"VerticalTiledPlot-module_vertical-tiled-plot-R3sb7"},n&&c.default.createElement("svg",{ref:function(t){e.brushEl=(0,d.select)(t)},style:{height:this.props.height,width:t},xmlns:"http://www.w3.org/2000/svg",className:(0,l.default)(r,w)}),c.default.createElement(p.default,{axis:"x",className:String(b.default.list)+" "+String(b.default.stylizedList)+" "+String(b.default.horizontalList),component:v.default,editable:this.props.editable,handleConfigTrack:this.props.handleConfigTrack,handleResizeTrack:this.props.handleResizeTrack,height:this.props.height,helperClass:b.default.stylizedHelper,itemClass:String(b.default.stylizedItem)+" "+String(b.default.horizontalItem),itemControlAlignLeft:this.props.tracksControlAlignLeft,itemReactClass:m.default,items:this.props.tracks.map((function(t){return{configMenuVisible:t.uid===e.props.configTrackMenuId,uid:t.uid||h.default.nice(),height:e.props.height,width:t.width,value:t.value}})),onAddSeries:this.props.onAddSeries,onCloseTrack:this.props.onCloseTrack,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,onSortEnd:this.props.handleSortEnd,referenceAncestor:this.props.referenceAncestor,resizeHandles:this.props.resizeHandles,useDragHandle:!0,width:t}))}},{key:"sourceEvent",get:function(){return d.event&&d.event.sourceEvent}}]),t}(c.default.Component);E.propTypes={configTrackMenuId:u.default.string,editable:u.default.bool,handleConfigTrack:u.default.func,handleResizeTrack:u.default.func,handleSortEnd:u.default.func,is1dRangeSelection:u.default.bool,isRangeSelectionActive:u.default.bool,height:u.default.number,onAddSeries:u.default.func,onCloseTrack:u.default.func,onCloseTrackMenuOpened:u.default.func,onConfigTrackMenuOpened:u.default.func,onRangeSelection:u.default.func,onRangeSelectionEnd:u.default.func,onRangeSelectionReset:u.default.func,onRangeSelectionStart:u.default.func,rangeSelection:u.default.array,rangeSelectionEnd:u.default.bool,referenceAncestor:u.default.func,resizeHandles:u.default.object,scale:u.default.func,tracks:u.default.array,tracksControlAlignLeft:u.default.bool},t.default=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(1)),i=n(121),o=a(n(374));function a(e){return e&&e.__esModule?e:{default:e}}var s=(0,i.SortableElement)((function(e){return r.default.createElement(o.default,{className:e.className,controlAlignLeft:e.controlAlignLeft,editable:e.editable,handleConfigTrack:e.handleConfigTrack,handleResizeTrack:e.handleResizeTrack,height:e.height,item:e.item,onAddSeries:e.onAddSeries,onCloseTrack:e.onCloseTrack,onCloseTrackMenuOpened:e.onCloseTrackMenuOpened,onConfigTrackMenuOpened:e.onConfigTrackMenuOpened,resizeHandles:e.resizeHandles,uid:e.uid,width:e.width})}));t.default=s},function(e,t,n){e.exports={"vertical-tiled-plot":"VerticalTiledPlot-module_vertical-tiled-plot-R3sb7"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=y(n(5)),i=y(n(3)),o=y(n(4)),a=y(n(6)),s=y(n(7)),l=y(n(33)),u=y(n(1)),c=y(n(2)),f=n(81),d=n(10),h=n(179),p=y(n(67)),m=y(n(94)),v=y(n(368)),g=n(11);function y(e){return e&&e.__esModule?e:{default:e}}n(68);var b={"../styles/ContextMenu.module.scss":{"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-dark":"ContextMenu-module_context-menu-dark-2PO31","context-menu-icon":"ContextMenu-module_context-menu-icon-I4kiw","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}},_=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this,t=(0,h.getSeriesItems)(this.props.tracks,this.handleItemMouseEnter.bind(this),this.handleMouseLeave.bind(this)),n=this.props.customItems?u.default.Children.map(this.props.customItems,(function(t){return u.default.cloneElement(t,{onMouseEnter:function(t){e.handleOtherMouseEnter(t)}})})):null,r="context-menu";return this.props.theme===g.THEME_DARK&&(r+=" context-menu-dark"),u.default.createElement("div",{ref:function(t){e.div=t},"data-menu-type":"ViewContextMenu",style:{left:this.state.left,top:this.state.top},className:(0,l.default)(r,b)},n,n&&u.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),t,t&&u.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),u.default.createElement(p.default,{onClick:function(){return e.props.onAddTrack({type:"horizontal-rule",y:e.props.coords[1],position:"whole"})},onMouseEnter:function(t){return e.handleOtherMouseEnter(t)}},"Add Horizontal Rule"),u.default.createElement(p.default,{onClick:function(){return e.props.onAddTrack({type:"vertical-rule",x:e.props.coords[0],position:"whole"})},onMouseEnter:function(t){return e.handleOtherMouseEnter(t)}},"Add Vertical Rule"),u.default.createElement(p.default,{onClick:function(){return e.props.onAddTrack({type:"cross-rule",x:e.props.coords[0],y:e.props.coords[1],position:"whole"})},onMouseEnter:function(t){return e.handleOtherMouseEnter(t)}},"Add Cross Rule"),u.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),this.hasMatrixTrack(this.props.tracks)&&u.default.createElement(p.default,{onClick:this.handleAddHorizontalSection.bind(this),onMouseEnter:function(t){return e.handleOtherMouseEnter(t)}},"Add Horizontal Cross Section"),this.hasMatrixTrack(this.props.tracks)&&u.default.createElement(p.default,{onClick:this.handleAddVerticalSection.bind(this),onMouseEnter:function(t){return e.handleOtherMouseEnter(t)}},"Add Vertical Cross Section"),this.getSubmenu())}},{key:"hasMatrixTrack",value:function(e){return(0,d.expandCombinedTracks)(this.props.tracks).filter((function(e){return"heatmap"===e.type})).length>0}},{key:"handleAddHorizontalSection",value:function(){var e=(0,d.expandCombinedTracks)(this.props.tracks).filter((function(e){return"heatmap"===e.type}))[0];this.props.onAddTrack({type:"horizontal-rule",y:this.props.coords[1],position:"whole"}),this.props.onAddTrack({data:{type:"horizontal-section",server:e.server,tilesetUid:e.tilesetUid,slicePos:this.props.coords[1]},options:{valueScaling:"log"},type:"horizontal-bar",height:30,position:"top"})}},{key:"handleAddVerticalSection",value:function(){var e=(0,d.expandCombinedTracks)(this.props.tracks).filter((function(e){return"heatmap"===e.type}))[0];this.props.onAddTrack({type:"vertical-rule",x:this.props.coords[0],position:"whole"}),this.props.onAddTrack({data:{type:"vertical-section",server:e.server,tilesetUid:e.tilesetUid,slicePos:this.props.coords[0]},options:{valueScaling:"log"},type:"vertical-bar",height:30,position:"left"})}}]),t}((0,f.mix)(m.default).with(v.default));_.propTypes={coords:c.default.array,customItems:c.default.array},t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=A(n(19)),i=A(n(61)),o=A(n(32)),a=A(n(25)),s=A(n(35)),l=A(n(5)),u=A(n(3)),c=A(n(4)),f=A(n(6)),d=A(n(7)),h=A(n(33)),p=n(0),m=A(n(1)),v=A(n(27)),g=n(325),y=A(n(2)),b=A(n(672)),_=A(n(64)),x=A(n(177)),w=A(n(257)),E=n(24),T=A(n(69)),S=n(10),k=A(n(79)),O=n(11),C=A(n(676));function A(e){return e&&e.__esModule?e:{default:e}}var M={styles:{"genome-position-search":"GenomePositionSearchBox-module_genome-position-search-SYccr","genome-position-search-focus":"GenomePositionSearchBox-module_genome-position-search-focus-23by2","genome-position-search-bar":"GenomePositionSearchBox-module_genome-position-search-bar-1_0ZU","genome-position-search-dark":"GenomePositionSearchBox-module_genome-position-search-dark-EML2e","genome-position-search-bar-button":"GenomePositionSearchBox-module_genome-position-search-bar-button-33SWJ","genome-position-search-bar-button-focus":"GenomePositionSearchBox-module_genome-position-search-bar-button-focus-1IhAk","genome-position-search-bar-icon":"GenomePositionSearchBox-module_genome-position-search-bar-icon-14AEk","genome-position-search-bar-icon-focus":"GenomePositionSearchBox-module_genome-position-search-bar-icon-focus-1Ay7Z","genome-position-search-bar-suggestions":"GenomePositionSearchBox-module_genome-position-search-bar-suggestions-SrIoU",btn:"GenomePositionSearchBox-module_btn-2bTUd","btn-sm":"GenomePositionSearchBox-module_btn-sm-2Ltms","btn-default":"GenomePositionSearchBox-module_btn-default-2pap4"}},P=function(e){function t(e){(0,u.default)(this,t);var n=(0,f.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return n.mounted=!1,n.uid=v.default.nice(),n.chromInfo=null,n.searchField=null,n.autocompleteMenu=null,n.xScale=null,n.yScale=null,n.prevParts=[],n.props.registerViewportChangedListener(n.scalesChanged.bind(n)),n.menuPosition={left:0,top:0},n.positionText="chr4:190,998,876-191,000,255",n.state={genes:[],isFocused:!1,autocompleteServer:n.props.autocompleteServer,autocompleteId:n.props.autocompleteId,availableAssemblies:[],selectedAssembly:null},n.styles={item:{padding:"2px 6px",cursor:"default"},highlightedItem:{color:"white",background:"hsl(200, 50%, 50%)",padding:"2px 6px",cursor:"default"},menu:{border:"solid 1px #ccc"}},n.availableAutocompletes={},n.props.autocompleteId&&(n.availableAutocompletes[n.props.chromInfoId]=new s.default([{server:n.props.autocompleteServer,acId:n.props.autocompleteId}])),n.availableChromSizes={},n}return(0,d.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,(0,p.select)(this.autocompleteMenu.inputEl).on("keypress",this.autocompleteKeyPress.bind(this)),this.findAvailableAutocompleteSources(),this.findAvailableChromSizes(),this.setPositionText()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.props.removeViewportChangedListener()}},{key:"onAutocompleteChange",value:function(e,t){var n=this;this.positionText=t,this.setState({value:t,loading:!0}),this.changedPart=null;for(var r=t.split(/ /),i=0,o=[],a=!1,s=0;s<r.length;s++)for(var l=r[s].split(/-/),u=0;u<l.length;u++){if(i+=1,o.push(l[u]),a=0===u,u===this.prevParts.length){this.changedPart=i-1;break}if(l[u]!==this.prevParts[u]){this.changedPart=i-1;break}}if(this.prevParts=o,this.state.autocompleteServer&&this.state.autocompleteId&&null!==this.changedPart){this.setState({loading:!0});var c=String(this.state.autocompleteServer)+"/suggest/";c+="?d="+String(this.state.autocompleteId)+"&ac="+String(o[this.changedPart].toLowerCase()),E.tileProxy.json(c,(function(e,t){if(e)n.setState({loading:!1,genes:[]});else if(n.changedPart>0&&!a){var r=String(n.state.autocompleteServer)+"/suggest/?d="+String(n.state.autocompleteId)+"&ac="+String(o[n.changedPart-1].toLowerCase())+"-"+String(o[n.changedPart].toLowerCase());E.tileProxy.json(r,(function(e,r){e?n.setState({loading:!1,genes:t}):n.setState({loading:!1,genes:r.concat(t)})}),n.props.pubSub)}else n.setState({loading:!1,genes:t})}),this.props.pubSub)}}},{key:"setAvailableAssemblies",value:function(){var e=new s.default((0,S.dictKeys)(this.availableChromSizes)),t=new s.default([].concat((0,a.default)(e)));this.gpsbForm&&this.setState({availableAssemblies:[].concat((0,a.default)(t))})}},{key:"setSelectedAssembly",value:function(e){if(this.mounted&&this.availableChromSizes[e]){var t=[].concat((0,a.default)(this.availableChromSizes[e]))[0];this.setState({autocompleteServer:t.server});var n=t.server;if(this.availableAutocompletes[e]){var r=[].concat((0,a.default)(this.availableAutocompletes[e]))[0].acId;this.props.onSelectedAssemblyChanged(e,r,n),this.gpsbForm&&this.setState({autocompleteId:r})}else this.props.onSelectedAssemblyChanged(e,null,n),this.gpsbForm&&this.setState({autocompleteId:null});this.fetchChromInfo(t.uuid,t.server)}}},{key:"setPositionText",value:function(){if(this.mounted&&this.searchField){var e=this.searchField.scalesToPositionText(this.xScale,this.yScale,this.props.twoD);this.prevParts=e.split(/[ -]/),this.gpsbForm&&(this.positionText=e,this.origPositionText=e,this.autocompleteMenu.inputEl.value=e)}}},{key:"scalesChanged",value:function(e,t){this.xScale=e,this.yScale=t,this.setPositionText()}},{key:"findAvailableChromSizes",value:function(){var e=this;this.props.trackSourceServers&&this.props.trackSourceServers.forEach((function(t){E.tileProxy.json(String(t)+"/available-chrom-sizes/",(function(n,r){n?console.error(n):(r.results.forEach((function(n){n.coordSystem in e.availableChromSizes||(e.availableChromSizes[n.coordSystem]=new s.default),e.availableChromSizes[n.coordSystem].add({server:t,uuid:n.uuid}),e.setAvailableAssemblies()})),e.searchField||e.fetchChromInfo(e.props.chromInfoId in e.availableChromSizes?[].concat((0,a.default)(e.availableChromSizes[e.props.chromInfoId]))[0].uuid:e.props.chromInfoId,e.props.chromInfoId in e.availableChromSizes?[].concat((0,a.default)(e.availableChromSizes[e.props.chromInfoId]))[0].server:e.props.chromInfoServer))}),e.props.pubSub)}))}},{key:"findAvailableAutocompleteSources",value:function(){var e=this;this.props.trackSourceServers&&this.props.trackSourceServers.forEach((function(t){E.tileProxy.json(String(t)+"/tilesets/?limit=100&dt=gene-annotation",(function(n,r){n?console.error(n):(r.results.forEach((function(n){n.coordSystem in e.availableAutocompletes||(e.availableAutocompletes[n.coordSystem]=new s.default),e.availableAutocompletes[n.coordSystem].add({server:t,acId:n.uuid}),e.setAvailableAssemblies()})),e.state.autocompleteId||e.gpsbForm&&e.availableAutocompletes[e.props.chromInfoId]&&e.setState({autocompleteId:[].concat((0,a.default)(e.availableAutocompletes[e.props.chromInfoId]))[0].acId}))}),e.props.pubSub)}))}},{key:"fetchChromInfo",value:function(e,t){var n=this;(0,_.default)(String(t)+"/chrom-sizes/?id="+String(e),(function(r){r&&(E.tileProxy.json(String(t)+"/tileset_info/?d="+String(e),(function(t,r){t||n.gpsbForm&&n.setState({selectedAssembly:r[e].coordSystem})}),n.props.pubSub),n.chromInfo=r,n.searchField=new x.default(n.chromInfo),n.setPositionText())}),this.props.pubSub)}},{key:"autocompleteKeyPress",value:function(){13===p.event.keyCode&&this.buttonClick()}},{key:"genePositionToSearchBarText",value:function(e){}},{key:"replaceGenesWithLoadedPositions",value:function(e){for(var t=this.positionText.split(" "),n=0;n<t.length;n++){for(var r=t[n].split("-"),i=0,o=0,a="";i<r.length;){for(o=r.length;o>i;){var s=r.slice(i,o).join("-");if(e[s.toLowerCase()]){var l=e[s.toLowerCase()],u=Math.floor((l.txEnd-l.txStart)/4);0===i&&o<r.length?a=String(l.chr)+":"+(l.txStart-u):0===i&&o===r.length?a=String(l.chr)+":"+(l.txStart-u)+"-"+String(l.txEnd+u):a+="- "+String(l.chr)+":"+String(l.txEnd+u);break}o===i+1&&(a.length&&(a+="-"),a+=s),o-=1}i=o+1}t[n]=a}var c=t.join(" ");this.prevParts=c.split(/[ -]/),this.positionText=c,this.setState({value:c})}},{key:"replaceGenesWithPositions",value:function(e){for(var t=this,n=this.positionText.split(/[ -]/),r=[],a=0;a<n.length;a++)if(0!==n[a].length){var s=this.searchField.parsePosition(n[a])[2];if(null===s||(0,o.default)(+s)){var l=String(this.state.autocompleteServer)+"/suggest/?d="+String(this.state.autocompleteId)+"&ac="+String(n[a].toLowerCase());r.push(E.tileProxy.json(l,S.toVoid,this.props.pubSub))}}i.default.all(r).then((function(n){if(n){for(var r={},i=0;i<n.length;i++)if(n[i][0])for(var o=0;o<n[i].length;o++)r[n[i][o].geneName.toLowerCase()]=n[i][o];t.replaceGenesWithLoadedPositions(r),e()}})).catch((function(e){return console.error(e)}))}},{key:"buttonClick",value:function(){var e=this;this.setState({genes:[]}),this.replaceGenesWithPositions((function(){var t=e.positionText;if(null!==e.searchField){var n=e.searchField.searchPosition(t),i=n[0],a=n[1];if(!i)return void e.setPositionText(e.origPositionText);if(i&&((0,o.default)(+i[0])||(0,o.default)(+i[1]))||a&&((0,o.default)(+a[0])||(0,o.default)(+a[1])))return;a||(a=i);var s=e.xScale.copy().domain(i),l=e.yScale.copy().domain(a),u=(0,S.scalesCenterAndK)(s,l),c=(0,r.default)(u,3),f=c[0],d=c[1],h=c[2];e.props.setCenters(f,d,h,O.ZOOM_TRANSITION_DURATION)}}))}},{key:"searchFieldSubmit",value:function(){this.buttonClick()}},{key:"pathJoin",value:function(e,t){var n=t||"/",r=new RegExp(String(n)+"{1,}","g");return e.join(n).replace(r,n)}},{key:"geneSelected",value:function(e,t){for(var n=this.positionText.split(" "),r=this.changedPart,i=0;i<n.length;i++){var o=n[i].split("-"),a=t.geneName.split("-");if(!(r>o.length-1)){if(o[r]=t.geneName,2===a.length&&r>0&&o[r-1].toLowerCase()===a[0].toLowerCase()){var s=o.slice(0,r-1);s.push(a.join("-")),r<o.length-1&&s.push(o.slice(r+1)),n[i]=s.join("-")}else n[i]=o.join("-");break}r-=o.length}this.prevParts=n.join(" ").split(/[ -]/),this.positionText=n.join(" "),this.setState({value:n.join(" "),genes:[]})}},{key:"handleMenuVisibilityChange",value:function(e,t){var n=t.getBoundingClientRect();this.menuPosition={left:n.left,top:n.top+n.height},this.setState({menuOpened:e})}},{key:"handleRenderMenu",value:function(e){return m.default.createElement(w.default,null,m.default.createElement("div",{style:{left:this.menuPosition.left,top:this.menuPosition.top},className:"GenomePositionSearchBox-module_genome-position-search-bar-suggestions-SrIoU"},e))}},{key:"handleAssemblySelect",value:function(e){this.setSelectedAssembly(e),this.setState({selectedAssembly:e})}},{key:"focusHandler",value:function(e){this.setState({isFocused:e})}},{key:"render",value:function(){var e=this,t=this.state.availableAssemblies.map((function(e){return m.default.createElement(g.MenuItem,{key:e,eventKey:e},e)})),n=this.state.isFocused?"styles.genome-position-search-focus":"styles.genome-position-search",r=this.state.isFocused?"styles.genome-position-search-bar-button-focus":"styles.genome-position-search-bar-button";return this.props.theme===O.THEME_DARK&&(n+=" styles.genome-position-search-dark"),m.default.createElement(g.FormGroup,{ref:function(t){e.gpsbForm=t},bsSize:"small",className:(0,h.default)(n,M)},m.default.createElement(g.DropdownButton,{ref:function(t){e.assemblyPickButton=t},bsSize:"small",className:C.default["genome-position-search-bar-button"],id:this.uid,onSelect:this.handleAssemblySelect.bind(this),title:this.state.selectedAssembly?this.state.selectedAssembly:"(none)"},t),m.default.createElement(b.default,{ref:function(t){e.autocompleteMenu=t},getItemValue:function(e){return e.geneName},inputProps:{className:C.default["genome-position-search-bar"],title:"Current location: enter a symbol or location to change the position of the current view"},items:this.state.genes,menuStyle:{position:"absolute",left:this.menuPosition.left,top:this.menuPosition.top,border:"1px solid black"},onChange:this.onAutocompleteChange.bind(this),onFocus:this.focusHandler.bind(this),onMenuVisibilityChange:this.handleMenuVisibilityChange.bind(this),onSelect:function(t,n){return e.geneSelected(t,n)},onSubmit:this.searchFieldSubmit.bind(this),renderItem:function(t,n){return m.default.createElement("div",{key:t.refseqid,id:t.refseqid,style:n?e.styles.highlightedItem:e.styles.item},t.geneName)},renderMenu:this.handleRenderMenu.bind(this),value:this.positionText,wrapperStyle:{width:"100%"}}),m.default.createElement("button",{onClick:this.buttonClick.bind(this),type:"button",className:(0,h.default)(r,M)},m.default.createElement(g.Glyphicon,{glyph:"search"})))}}]),t}(m.default.Component);P.propTypes={autocompleteId:y.default.string,autocompleteServer:y.default.string,chromInfoId:y.default.string,chromInfoServer:y.default.string,isFocused:y.default.bool,pubSub:y.default.func,onFocus:y.default.func,onSelectedAssemblyChanged:y.default.func,registerViewportChangedListener:y.default.func,removeViewportChangedListener:y.default.func,setCenters:y.default.func,theme:y.default.symbol.isRequired,trackSourceServers:y.default.array,twoD:y.default.bool},t.default=(0,T.default)((0,k.default)(P))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=p(n(45)),i=p(n(44)),o=p(n(5)),a=p(n(3)),s=p(n(4)),l=p(n(6)),u=p(n(7)),c=p(n(1)),f=n(38),d=p(n(673)),h=p(n(2));function p(e){return e&&e.__esModule?e:{default:e}}var m=[],v=function(t){function n(e){(0,a.default)(this,n);var t=(0,l.default)(this,(n.__proto__||(0,o.default)(n)).call(this,e));return t.state={highlightedIndex:null,menuTop:0,menuLeft:0,menuWidth:0,isOpen:!1},t.keyDownHandlers={ArrowDown:function(e){e.preventDefault();var t=this.getFilteredItems().length;if(t){var n=this.state.highlightedIndex,r=null===n||n===t-1?0:n+1;this._performAutoCompleteOnKeyUp=!0,this.setState({highlightedIndex:r,isOpen:!0})}},ArrowUp:function(e){e.preventDefault();var t=this.getFilteredItems().length;if(t){var n=this.state.highlightedIndex,r=0===n||null===n?t-1:n-1;this._performAutoCompleteOnKeyUp=!0,this.setState({highlightedIndex:r,isOpen:!0})}},Enter:function(e){var t=this;if(!1===this.state.isOpen);else if(null===this.state.highlightedIndex)this.setState({isOpen:!1},(function(){t.inputEl.select()}));else{e.preventDefault();var n=this.getFilteredItems()[this.state.highlightedIndex],r=this.props.getItemValue(n);this.setState({isOpen:!1,highlightedIndex:null},(function(){t.inputEl.setSelectionRange(r.length,r.length),t.props.onSelect(r,n)}))}},Escape:function(){this.setState({highlightedIndex:null,isOpen:!1})}},t}return(0,u.default)(n,t),(0,s.default)(n,[{key:"getInitialState",value:function(){return{isOpen:!1,highlightedIndex:null}}},{key:"UNSAFE_componentWillMount",value:function(){this._ignoreBlur=!1,this._performAutoCompleteOnUpdate=!1,this._performAutoCompleteOnKeyUp=!1}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this._performAutoCompleteOnUpdate=!0,(this.props.items!==e.items||this.state.highlightedIndex>=e.items.length)&&this.setState({highlightedIndex:null})}},{key:"componentDidUpdate",value:function(e,t){!0===this.state.isOpen&&!1===t.isOpen&&this.setMenuPositions(),this.state.isOpen&&this._performAutoCompleteOnUpdate&&(this._performAutoCompleteOnUpdate=!1,this.maybeAutoCompleteText()),this.maybeScrollItemIntoView(),t.isOpen!==this.state.isOpen&&this.props.onMenuVisibilityChange(this.state.isOpen,this.inputEl)}},{key:"maybeScrollItemIntoView",value:function(){if(!0===this.state.isOpen&&null!==this.state.highlightedIndex){var e=this.refs["item-"+String(this.state.highlightedIndex)],t=this.refs.menu;e&&(0,d.default)((0,f.findDOMNode)(e),(0,f.findDOMNode)(t),{onlyScrollIfNeeded:!0})}}},{key:"handleKeyDown",value:function(e){this.keyDownHandlers[e.key]?this.keyDownHandlers[e.key].call(this,e):this.setState({highlightedIndex:null,isOpen:!0})}},{key:"handleChange",value:function(e){this._performAutoCompleteOnKeyUp=!0,this.props.onChange(e,e.target.value)}},{key:"handleKeyUp",value:function(){this._performAutoCompleteOnKeyUp&&(this._performAutoCompleteOnKeyUp=!1,this.maybeAutoCompleteText())}},{key:"getFilteredItems",value:function(){var e=this,t=this.props.items;return this.props.shouldItemRender&&(t=t.filter((function(t){return e.props.shouldItemRender(t,e.props.value)}))),this.props.sortItems&&t.sort((function(t,n){return e.props.sortItems(t,n,e.props.value)})),t}},{key:"maybeAutoCompleteText",value:function(){if(this.props.autoHighlight&&""!==this.props.value){var e=this.state.highlightedIndex,t=this.getFilteredItems();if(0!==t.length){var n=null!==e?t[e]:t[0];0===this.props.getItemValue(n).toLowerCase().indexOf(this.props.value.toLowerCase())&&null===e&&this.setState({highlightedIndex:0})}}}},{key:"setMenuPositions",value:function(){var t=this.inputEl,n=t.getBoundingClientRect(),r=e.window.getComputedStyle(t),i=parseInt(r.marginBottom,10)||0,o=parseInt(r.marginLeft,10)||0,a=parseInt(r.marginRight,10)||0;this.setState({menuTop:n.bottom+i,menuLeft:n.left+o,menuWidth:n.width+o+a})}},{key:"highlightItemFromMouse",value:function(e){this.setState({highlightedIndex:e})}},{key:"selectItemFromMouse",value:function(e){var t=this,n=this.props.getItemValue(e);this.setState({isOpen:!1,highlightedIndex:null},(function(){t.props.onSelect(n,e),t.inputEl.focus()}))}},{key:"setIgnoreBlur",value:function(e){this._ignoreBlur=e}},{key:"renderMenu",value:function(){var e=this,t=this.getFilteredItems().map((function(t,n){var r=e.props.renderItem(t,e.state.highlightedIndex===n,{cursor:"default"});return c.default.cloneElement(r,{onMouseDown:function(){return e.setIgnoreBlur(!0)},onMouseEnter:function(){return e.highlightItemFromMouse(n)},onClick:function(){return e.selectItemFromMouse(t)},ref:"item-"+String(n)})})),n={left:this.state.menuLeft,top:this.state.menuTop,minWidth:this.state.menuWidth};if(!t.length)return null;var r=this.props.renderMenu(t,this.props.value,n);return c.default.cloneElement(r,{ref:"menu"})}},{key:"handleInputBlur",value:function(){this.props.onFocus&&this.props.onFocus(),this._ignoreBlur||this.setState({isOpen:!1,highlightedIndex:null})}},{key:"handleInputFocus",value:function(){this.props.onFocus&&this.props.onFocus(!0),this._ignoreBlur?this.setIgnoreBlur(!1):(this._ignoreClick=!0,this.setState({isOpen:!0}))}},{key:"isInputFocused",value:function(){return this.inputEl.ownerDocument&&this.inputEl===this.inputEl.ownerDocument.activeElement}},{key:"handleInputClick",value:function(){this.isInputFocused()&&!1===this.state.isOpen?this.setState({isOpen:!0}):null===this.state.highlightedIndex||this._ignoreClick||this.selectItemFromMouse(this.getFilteredItems()[this.state.highlightedIndex]),this._ignoreClick=!1}},{key:"composeEventHandlers",value:function(e,t){return t?function(n){e(n),t(n)}:e}},{key:"render",value:function(){var e=this;this.props.debug&&m.push({id:m.length,state:this.state});var t=this.props.inputProps;return c.default.createElement("div",(0,i.default)({style:(0,i.default)({},this.props.wrapperStyle)},this.props.wrapperProps),c.default.createElement("input",(0,i.default)({},t,{ref:function(t){e.inputEl=t},"aria-autocomplete":"list",autoComplete:"off",onBlur:this.composeEventHandlers(this.handleInputBlur.bind(this),t.onBlur&&t.onBlur.bind(this)),onChange:this.handleChange.bind(this),onClick:this.composeEventHandlers(this.handleInputClick.bind(this),t.onClick&&t.onClick.bind(this)),onFocus:this.composeEventHandlers(this.handleInputFocus.bind(this),t.onFocus&&t.onFocus.bind(this)),onKeyDown:this.composeEventHandlers(this.handleKeyDown.bind(this),t.onKeyDown&&t.onKeyDown.bind(this)),onKeyUp:this.composeEventHandlers(this.handleKeyUp.bind(this),t.onKeyUp&&t.onKeyUp.bind(this)),role:"combobox",value:this.props.value})),("open"in this.props?this.props.open:this.state.isOpen)&&this.renderMenu(),this.props.debug&&c.default.createElement("pre",{style:{marginLeft:300}},(0,r.default)(m.slice(m.length-5,m.length),null,2)))}}]),n}(c.default.Component);v.defaultProps={value:"",wrapperProps:{},wrapperStyle:{display:"inline-block"},inputProps:{},onChange:function(){},onSelect:function(){},renderMenu:function(e,t,n){return c.default.createElement("div",{style:(0,i.default)({},n,this.menuStyle)},e)},shouldItemRender:function(){return!0},menuStyle:{borderRadius:"3px",boxShadow:"0 2px 12px rgba(0, 0, 0, 0.1)",background:"rgba(255, 255, 255, 0.9)",padding:"2px 0",fontSize:"90%",position:"fixed",overflow:"auto",maxHeight:"50%"},autoHighlight:!0,onMenuVisibilityChange:function(){}},v.propTypes={autoHighlight:h.default.bool,debug:h.default.bool,getItemValue:h.default.func.isRequired,inputProps:h.default.object,items:h.default.array,menuStyle:h.default.object,onChange:h.default.func,onFocus:h.default.func,onMenuVisibilityChange:h.default.func,onSelect:h.default.func,open:h.default.bool,renderItem:h.default.func.isRequired,renderMenu:h.default.func,shouldItemRender:h.default.func,sortItems:h.default.func,value:h.default.any,wrapperProps:h.default.object,wrapperStyle:h.default.object},t.default=v}).call(this,n(26))},function(e,t,n){"use strict";e.exports=n(674)},function(e,t,n){"use strict";var r=n(675);e.exports=function(e,t,n){n=n||{},9===t.nodeType&&(t=r.getWindow(t));var i=n.allowHorizontalScroll,o=n.onlyScrollIfNeeded,a=n.alignWithTop,s=n.alignWithLeft,l=n.offsetTop||0,u=n.offsetLeft||0,c=n.offsetBottom||0,f=n.offsetRight||0;i=void 0===i||i;var d=r.isWindow(t),h=r.offset(e),p=r.outerHeight(e),m=r.outerWidth(e),v=void 0,g=void 0,y=void 0,b=void 0,_=void 0,x=void 0,w=void 0,E=void 0,T=void 0,S=void 0;d?(w=t,S=r.height(w),T=r.width(w),E={left:r.scrollLeft(w),top:r.scrollTop(w)},_={left:h.left-E.left-u,top:h.top-E.top-l},x={left:h.left+m-(E.left+T)+f,top:h.top+p-(E.top+S)+c},b=E):(v=r.offset(t),g=t.clientHeight,y=t.clientWidth,b={left:t.scrollLeft,top:t.scrollTop},_={left:h.left-(v.left+(parseFloat(r.css(t,"borderLeftWidth"))||0))-u,top:h.top-(v.top+(parseFloat(r.css(t,"borderTopWidth"))||0))-l},x={left:h.left+m-(v.left+y+(parseFloat(r.css(t,"borderRightWidth"))||0))+f,top:h.top+p-(v.top+g+(parseFloat(r.css(t,"borderBottomWidth"))||0))+c}),_.top<0||x.top>0?!0===a?r.scrollTop(t,b.top+_.top):!1===a?r.scrollTop(t,b.top+x.top):_.top<0?r.scrollTop(t,b.top+_.top):r.scrollTop(t,b.top+x.top):o||((a=void 0===a||!!a)?r.scrollTop(t,b.top+_.top):r.scrollTop(t,b.top+x.top)),i&&(_.left<0||x.left>0?!0===s?r.scrollLeft(t,b.left+_.left):!1===s?r.scrollLeft(t,b.left+x.left):_.left<0?r.scrollLeft(t,b.left+_.left):r.scrollLeft(t,b.left+x.left):o||((s=void 0===s||!!s)?r.scrollLeft(t,b.left+_.left):r.scrollLeft(t,b.left+x.left)))}},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function o(e,t){var n=e["page"+(t?"Y":"X")+"Offset"],r="scroll"+(t?"Top":"Left");if("number"!==typeof n){var i=e.document;"number"!==typeof(n=i.documentElement[r])&&(n=i.body[r])}return n}function a(e){return o(e)}function s(e){return o(e,!0)}function l(e){var t=function(e){var t,n=void 0,r=void 0,i=e.ownerDocument,o=i.body,a=i&&i.documentElement;return n=(t=e.getBoundingClientRect()).left,r=t.top,{left:n-=a.clientLeft||o.clientLeft||0,top:r-=a.clientTop||o.clientTop||0}}(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=a(r),t.top+=s(r),t}var u=new RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i"),c=/^(top|right|bottom|left)$/,f="left",d=void 0;function h(e,t){for(var n=0;n<e.length;n++)t(e[n])}function p(e){return"border-box"===d(e,"boxSizing")}"undefined"!==typeof window&&(d=window.getComputedStyle?function(e,t,n){var r="",i=e.ownerDocument,o=n||i.defaultView.getComputedStyle(e,null);return o&&(r=o.getPropertyValue(t)||o[t]),r}:function(e,t){var n=e.currentStyle&&e.currentStyle[t];if(u.test(n)&&!c.test(t)){var r=e.style,i=r[f],o=e.runtimeStyle[f];e.runtimeStyle[f]=e.currentStyle[f],r[f]="fontSize"===t?"1em":n||0,n=r.pixelLeft+"px",r[f]=i,e.runtimeStyle[f]=o}return""===n?"auto":n});var m=["margin","border","padding"];function v(e,t,n){var r={},i=e.style,o=void 0;for(o in t)t.hasOwnProperty(o)&&(r[o]=i[o],i[o]=t[o]);for(o in n.call(e),t)t.hasOwnProperty(o)&&(i[o]=r[o])}function g(e,t,n){var r=0,i=void 0,o=void 0,a=void 0;for(o=0;o<t.length;o++)if(i=t[o])for(a=0;a<n.length;a++){var s=void 0;s="border"===i?i+n[a]+"Width":i+n[a],r+=parseFloat(d(e,s))||0}return r}function y(e){return null!=e&&e==e.window}var b={};function _(e,t,n){if(y(e))return"width"===t?b.viewportWidth(e):b.viewportHeight(e);if(9===e.nodeType)return"width"===t?b.docWidth(e):b.docHeight(e);var r="width"===t?["Left","Right"]:["Top","Bottom"],i="width"===t?e.offsetWidth:e.offsetHeight,o=(d(e),p(e)),a=0;(null==i||i<=0)&&(i=void 0,(null==(a=d(e,t))||Number(a)<0)&&(a=e.style[t]||0),a=parseFloat(a)||0),void 0===n&&(n=o?1:-1);var s=void 0!==i||o,l=i||a;if(-1===n)return s?l-g(e,["border","padding"],r):a;if(s){var u=2===n?-g(e,["border"],r):g(e,["margin"],r);return l+(1===n?0:u)}return a+g(e,m.slice(n),r)}h(["Width","Height"],(function(e){b["doc"+e]=function(t){var n=t.document;return Math.max(n.documentElement["scroll"+e],n.body["scroll"+e],b["viewport"+e](n))},b["viewport"+e]=function(t){var n="client"+e,r=t.document,i=r.body,o=r.documentElement[n];return"CSS1Compat"===r.compatMode&&o||i&&i[n]||o}}));var x={position:"absolute",visibility:"hidden",display:"block"};function w(e){var t=void 0,n=arguments;return 0!==e.offsetWidth?t=_.apply(void 0,n):v(e,x,(function(){t=_.apply(void 0,n)})),t}function E(e,t,n){var r=n;if("object"!==("undefined"===typeof t?"undefined":i(t)))return"undefined"!==typeof r?("number"===typeof r&&(r+="px"),void(e.style[t]=r)):d(e,t);for(var o in t)t.hasOwnProperty(o)&&E(e,o,t[o])}h(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);b["outer"+t]=function(t,n){return t&&w(t,e,n?0:1)};var n="width"===e?["Left","Right"]:["Top","Bottom"];b[e]=function(t,r){return void 0===r?t&&w(t,e,-1):t?(d(t),p(t)&&(r+=g(t,["padding","border"],n)),E(t,e,r)):void 0}})),e.exports=r({getWindow:function(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},offset:function(e,t){if("undefined"===typeof t)return l(e);!function(e,t){"static"===E(e,"position")&&(e.style.position="relative");var n=l(e),r={},i=void 0,o=void 0;for(o in t)t.hasOwnProperty(o)&&(i=parseFloat(E(e,o))||0,r[o]=i+t[o]-n[o]);E(e,r)}(e,t)},isWindow:y,each:h,css:E,clone:function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);if(e.overflow)for(var n in e)e.hasOwnProperty(n)&&(t.overflow[n]=e.overflow[n]);return t},scrollLeft:function(e,t){if(y(e)){if(void 0===t)return a(e);window.scrollTo(t,s(e))}else{if(void 0===t)return e.scrollLeft;e.scrollLeft=t}},scrollTop:function(e,t){if(y(e)){if(void 0===t)return s(e);window.scrollTo(a(e),t)}else{if(void 0===t)return e.scrollTop;e.scrollTop=t}},viewportWidth:0,viewportHeight:0},b)},function(e,t,n){e.exports={"genome-position-search":"GenomePositionSearchBox-module_genome-position-search-SYccr","genome-position-search-focus":"GenomePositionSearchBox-module_genome-position-search-focus-23by2","genome-position-search-bar":"GenomePositionSearchBox-module_genome-position-search-bar-1_0ZU","genome-position-search-dark":"GenomePositionSearchBox-module_genome-position-search-dark-EML2e","genome-position-search-bar-button":"GenomePositionSearchBox-module_genome-position-search-bar-button-33SWJ","genome-position-search-bar-button-focus":"GenomePositionSearchBox-module_genome-position-search-bar-button-focus-1IhAk","genome-position-search-bar-icon":"GenomePositionSearchBox-module_genome-position-search-bar-icon-14AEk","genome-position-search-bar-icon-focus":"GenomePositionSearchBox-module_genome-position-search-bar-icon-focus-1Ay7Z","genome-position-search-bar-suggestions":"GenomePositionSearchBox-module_genome-position-search-bar-suggestions-SrIoU",btn:"GenomePositionSearchBox-module_btn-2bTUd","btn-sm":"GenomePositionSearchBox-module_btn-sm-2Ltms","btn-default":"GenomePositionSearchBox-module_btn-default-2pap4"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(5)),i=d(n(3)),o=d(n(4)),a=d(n(6)),s=d(n(7)),l=d(n(1)),u=d(n(2)),c=d(n(178)),f=d(n(256));function d(e){return e&&e.__esModule?e:{default:e}}n(678);var h=function(e){function t(){return(0,i.default)(this,t),(0,a.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this;return l.default.createElement(f.default,{okayOnly:!0,okayTitle:"Done",onOkay:this.props.onDone,title:"Share view link"},l.default.createElement("div",{className:"ExportLinkDialog-module_export-link-dialog-wrapper-ldYlL"},l.default.createElement("input",{ref:function(t){t&&(e.input=t,t.focus(),t.select())},onClick:function(e){e.target.select()},placeholder:"Generating the link...",readOnly:!0,value:this.props.url}),l.default.createElement(c.default,{onClick:function(t){e.input.select(),document.execCommand("copy")}},"Copy")))}}]),t}(l.default.Component);h.defaultProps={onDone:function(){},url:""},h.propTypes={onDone:u.default.func,url:u.default.string},t.default=h},function(e,t,n){e.exports={"export-link-dialog-wrapper":"ExportLinkDialog-module_export-link-dialog-wrapper-ldYlL"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(5)),i=g(n(3)),o=g(n(4)),a=g(n(6)),s=g(n(7)),l=g(n(33)),u=g(n(1)),c=g(n(2)),f=g(n(257)),d=g(n(94)),h=g(n(680)),p=g(n(681)),m=g(n(79)),v=n(11);function g(e){return e&&e.__esModule?e:{default:e}}n(375);var y={"../styles/ViewHeader.module.scss":{"multitrack-header":"ViewHeader-module_multitrack-header-3XnZx","multitrack-header-focus":"ViewHeader-module_multitrack-header-focus-3akkN","multitrack-header-squeazed":"ViewHeader-module_multitrack-header-squeazed-GHIVd","multitrack-header-dark":"ViewHeader-module_multitrack-header-dark-97tZt","multitrack-header-id":"ViewHeader-module_multitrack-header-id-3YURk","multitrack-header-left":"ViewHeader-module_multitrack-header-left-Qj9Sm","multitrack-header-grabber":"ViewHeader-module_multitrack-header-grabber-3jrIz","multitrack-header-grabber-squeazed":"ViewHeader-module_multitrack-header-grabber-squeazed-dU45Z","multitrack-header-search":"ViewHeader-module_multitrack-header-search-1X_3_","multitrack-header-nav-list":"ViewHeader-module_multitrack-header-nav-list-2nvcu","multitrack-header-icon":"ViewHeader-module_multitrack-header-icon-16QKZ","multitrack-header-icon-squeazed":"ViewHeader-module_multitrack-header-icon-squeazed-25lkF","mouse-tool-selection":"ViewHeader-module_mouse-tool-selection-1pg2m"}},b=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.configImg=null,n.plusImg=null,n.state={addTrackPositionMenuUid:null,addTrackPositionMenuPosition:null,configMenuUid:null,configMenuPosition:null,isFocused:!1,width:-1},n.handleTrackPositionChosenBound=n.handleTrackPositionChosen.bind(n),n}return(0,s.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.setState({width:this.el.clientWidth})}},{key:"checkWidth",value:function(){var e=this.el.clientWidth;e!==this.state.width&&this.setState({width:e})}},{key:"handleConfigMenuOpened",value:function(e){this.setState({configMenuUid:e,configMenuPosition:this.configImg.getBoundingClientRect()})}},{key:"handleAddTrackPositionMenuOpened",value:function(e){this.setState({addTrackPositionMenuUid:e,addTrackPositionMenuPosition:this.plusImg.getBoundingClientRect()})}},{key:"handleTrackPositionChosen",value:function(e){this.props.onTrackPositionChosen(e),this.setState({addTrackPositionMenuUid:null,addTrackPositionMenuPosition:null})}},{key:"render",value:function(){var e=this,t=null,n=null;this.state.addTrackPositionMenuPosition&&(n=u.default.createElement(f.default,{onMenuClosed:function(){e.setState({addTrackPositionMenuUid:null,addTrackPositionMenuPosition:null})}},u.default.createElement(d.default,{orientation:"left",position:this.state.addTrackPositionMenuPosition,theme:this.props.theme},u.default.createElement(p.default,{onTrackPositionChosen:this.handleTrackPositionChosenBound})))),this.state.configMenuUid&&(t=u.default.createElement(f.default,{onMenuClosed:function(){return e.setState({configMenuUid:null})}},u.default.createElement(h.default,{onClearView:function(){e.setState({configMenuUid:null}),e.props.onClearView()},onEditViewConfig:function(){e.setState({configMenuUid:null}),e.props.onEditViewConfig(e.state.configMenuUid)},onExportPNG:function(){e.setState({configMenuUid:null}),e.props.onExportPNG()},onExportSVG:function(){e.setState({configMenuUid:null}),e.props.onExportSVG()},onExportViewAsJSON:function(){e.setState({configMenuUid:null}),e.props.onExportViewsAsJSON()},onExportViewAsLink:function(){e.setState({configMenuUid:null}),e.props.onExportViewsAsLink()},onLockLocation:function(){e.setState({configMenuUid:null}),e.props.onLockLocation(e.state.configMenuUid)},onLockZoom:function(){e.setState({configMenuUid:null}),e.props.onLockZoom(e.state.configMenuUid)},onLockZoomAndLocation:function(){e.setState({configMenuUid:null}),e.props.onLockZoomAndLocation(e.state.configMenuUid)},onOptionsChanged:function(t){e.props.onViewOptionsChanged(t),e.setState({configMenuUid:null})},onProjectViewport:function(){e.setState({configMenuUid:null}),e.props.onProjectViewport(e.state.configMenuUid)},onTakeAndLockZoomAndLocation:function(){e.setState({configMenuUid:null}),e.props.onTakeAndLockZoomAndLocation(e.state.configMenuUid)},onTogglePositionSearchBox:function(){e.setState({configMenuUid:null}),e.props.onTogglePositionSearchBox(e.state.configMenuUid)},onUnlockLocation:function(){e.setState({configMenuUid:null}),e.props.onUnlockLocation(e.state.configMenuUid)},onUnlockZoom:function(){e.setState({configMenuUid:null}),e.props.onUnlockZoom(e.state.configMenuUid)},onUnlockZoomAndLocation:function(){e.setState({configMenuUid:null}),e.props.onUnlockZoomAndLocation(e.state.configMenuUid)},onYankLocation:function(){e.setState({configMenuUid:null}),e.props.onYankLocation(e.state.configMenuUid)},onYankZoom:function(){e.setState({configMenuUid:null}),e.props.onYankZoom(e.state.configMenuUid)},onYankZoomAndLocation:function(){e.setState({configMenuUid:null}),e.props.onYankZoomAndLocation(e.state.configMenuUid)},onZoomToData:function(){e.setState({configMenuUid:null}),e.props.onZoomToData(e.state.configMenuUid)},orientation:"left",position:this.state.configMenuPosition,theme:this.props.theme})));var r=this.props.getGenomePositionSearchBox(this.state.isFocused,(function(t){e.setState({isFocused:t})})),i=this.state.isFocused?"multitrack-header-focus":"multitrack-header",o=this.state.width<=v.VIEW_HEADER_MED_WIDTH_SEARCH_BAR?"multitrack-header-icon-squeazed":"multitrack-header-icon";return this.props.theme===v.THEME_DARK&&(i+=" multitrack-header-dark"),u.default.createElement("div",{ref:function(t){e.el=t},className:(0,l.default)(i,y)},u.default.createElement("div",{className:"ViewHeader-module_multitrack-header-left-Qj9Sm"},this.props.mouseTool===v.MOUSE_TOOL_SELECT&&u.default.createElement("svg",{title:"Selection tool active",className:(0,l.default)("mouse-tool-selection "+o,y)},u.default.createElement("use",{xlinkHref:"#select"})),u.default.createElement("div",{className:"ViewHeader-module_multitrack-header-grabber-3jrIz",title:"Drag to move the view"},u.default.createElement("div",null),u.default.createElement("div",null),u.default.createElement("div",null)),this.state.width>v.VIEW_HEADER_MIN_WIDTH_SEARCH_BAR&&u.default.createElement("div",{className:"ViewHeader-module_multitrack-header-search-1X_3_"},this.props.isGenomePositionSearchBoxVisible&&r)),u.default.createElement("nav",{className:"ViewHeader-module_multitrack-header-nav-list-2nvcu"},u.default.createElement("svg",{onClick:this.props.onAddView,className:(0,l.default)(o,y)},u.default.createElement("title",null,"Add new view (clone this view)"),u.default.createElement("use",{xlinkHref:"#copy"})),u.default.createElement("svg",{ref:function(t){e.configImg=t},onClick:function(){return e.handleConfigMenuOpened(e.props.viewUid)},className:(0,l.default)(o,y)},u.default.createElement("title",null,"Configure this view"),u.default.createElement("use",{xlinkHref:"#cog"})),u.default.createElement("svg",{ref:function(t){e.plusImg=t},onClick:function(){return e.handleAddTrackPositionMenuOpened(e.props.viewUid)},className:(0,l.default)(o,y)},u.default.createElement("title",null,"Add Track"),u.default.createElement("use",{xlinkHref:"#plus"})),u.default.createElement("svg",{onClick:this.props.onCloseView,className:(0,l.default)(o,y)},u.default.createElement("title",null,"Close View"),u.default.createElement("use",{xlinkHref:"#cross"}))),t,n)}}]),t}(u.default.Component);b.defaultProps={isGenomePositionSearchBoxVisible:!1},b.propTypes={getGenomePositionSearchBox:c.default.func.isRequired,isGenomePositionSearchBoxVisible:c.default.bool,mouseTool:c.default.string.isRequired,onAddView:c.default.func.isRequired,onClearView:c.default.func.isRequired,onCloseView:c.default.func.isRequired,onEditViewConfig:c.default.func.isRequired,onExportSVG:c.default.func.isRequired,onExportPNG:c.default.func.isRequired,onExportViewsAsJSON:c.default.func.isRequired,onExportViewsAsLink:c.default.func.isRequired,onLockLocation:c.default.func.isRequired,onLockZoom:c.default.func.isRequired,onLockZoomAndLocation:c.default.func.isRequired,onProjectViewport:c.default.func.isRequired,onTakeAndLockZoomAndLocation:c.default.func.isRequired,onTogglePositionSearchBox:c.default.func.isRequired,onTrackPositionChosen:c.default.func.isRequired,onUnlockLocation:c.default.func.isRequired,onUnlockZoom:c.default.func.isRequired,onUnlockZoomAndLocation:c.default.func.isRequired,onViewOptionsChanged:c.default.func.isRequired,onYankLocation:c.default.func.isRequired,onYankZoom:c.default.func.isRequired,onYankZoomAndLocation:c.default.func.isRequired,onZoomToData:c.default.func.isRequired,theme:c.default.symbol.isRequired,viewUid:c.default.string.isRequired},t.default=(0,m.default)(b)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(16)),i=g(n(21)),o=g(n(5)),a=g(n(3)),s=g(n(4)),l=g(n(6)),u=g(n(7)),c=g(n(33)),f=g(n(1)),d=g(n(2)),h=g(n(94)),p=g(n(67)),m=g(n(369));n(68);var v=n(11);function g(e){return e&&e.__esModule?e:{default:e}}var y={"../styles/ContextMenu.module.scss":{"context-menu":"ContextMenu-module_context-menu-2OwvL","context-menu-dark":"ContextMenu-module_context-menu-dark-2PO31","context-menu-icon":"ContextMenu-module_context-menu-icon-I4kiw","context-menu-item":"ContextMenu-module_context-menu-item-1HeVv","context-menu-hr":"ContextMenu-module_context-menu-hr-3yapb","play-icon":"ContextMenu-module_play-icon-R4pIO","context-menu-span":"ContextMenu-module_context-menu-span-8EUfZ","context-menu-thumbnail":"ContextMenu-module_context-menu-thumbnail-2vHLD","context-menu-thumbnail-inline":"ContextMenu-module_context-menu-thumbnail-inline-1iOcg"}},b=function(e){function t(e){(0,a.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.state={submenuShown:!1},n}return(0,u.default)(t,e),(0,s.default)(t,[{key:"getConfigureViewMenu",value:function(e,t){var n=this,o={},a={},s=function(e){if(e in(0,i.default)(v.OPTIONS_INFO)&&(o[e]={name:v.OPTIONS_INFO[e].name},v.OPTIONS_INFO[e].inlineOptions)){var t=function(t){var r=v.OPTIONS_INFO[e].inlineOptions[t];o[e].children||(o[e].children={});var i={name:r.name,value:r.value,handler:function(){a[e]=r.value,n.props.onOptionsChanged(a)}};o[e].children[t]=i};for(var r in v.OPTIONS_INFO[e].inlineOptions)t(r)}},l=!0,u=!1,c=void 0;try{for(var d,h=(0,r.default)(["backgroundColor"]);!(l=(d=h.next()).done);l=!0)s(d.value)}catch(p){u=!0,c=p}finally{try{!l&&h.return&&h.return()}finally{if(u)throw c}}return f.default.createElement(m.default,{key:"config-series-menu",closeMenu:this.props.closeMenu,menuItems:o,orientation:this.state.orientation,parentBbox:t,position:e,theme:this.props.theme})}},{key:"getSubmenu",value:function(){if(this.state.submenuShown){var e=this.state.submenuSourceBbox,t="left"===this.state.orientation?{left:this.state.left,top:e.top}:{left:this.state.left+e.width+7,top:e.top};return"options"===this.state.submenuShown.option?this.getConfigureViewMenu(t,e):f.default.createElement("div",null)}return f.default.createElement("div",null)}},{key:"render",value:function(){var e=this,t="context-menu";return this.props.theme===v.THEME_DARK&&(t+=" context-menu-dark"),f.default.createElement("div",{ref:function(t){e.div=t},"data-menu-type":"ConfigViewMenu",style:{left:this.state.left,top:this.state.top},className:(0,c.default)(t,y)},f.default.createElement(p.default,{onClick:function(t){return e.props.onTogglePositionSearchBox(t)}},"Toggle position search box"),f.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),f.default.createElement(p.default,{onClick:function(t){return e.props.onZoomToData(t)}},"Zoom to data extent"),f.default.createElement(p.default,{onClick:function(t){return e.props.onClearView(t)}},"Clear View"),f.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),f.default.createElement(p.default,{onClick:function(t){return e.props.onYankZoom(t)}},"Take zoom from"),f.default.createElement(p.default,{onClick:function(t){return e.props.onYankLocation(t)}},"Take location from"),f.default.createElement(p.default,{onClick:function(t){return e.props.onYankZoomAndLocation(t)}},"Take zoom and location from"),f.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),f.default.createElement(p.default,{onClick:this.props.onLockZoom},"Lock zoom with"),f.default.createElement(p.default,{onClick:this.props.onLockLocation},"Lock location with"),f.default.createElement(p.default,{onClick:this.props.onLockZoomAndLocation},"Lock zoom and location with"),f.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),f.default.createElement(p.default,{onClick:this.props.onTakeAndLockZoomAndLocation},"Take and lock zoom and location with"),f.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),f.default.createElement(p.default,{onClick:function(t){return e.props.onUnlockZoom(t)}},"Unlock zoom"),f.default.createElement(p.default,{onClick:function(t){return e.props.onUnlockLocation(t)}},"Unlock location"),f.default.createElement(p.default,{onClick:function(t){return e.props.onUnlockZoomAndLocation(t)}},"Unlock zoom and location"),f.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),f.default.createElement(p.default,{onClick:function(t){return e.props.onProjectViewport(t)}},"Show this viewport on"),f.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),f.default.createElement(p.default,{onClick:function(t){return e.props.onEditViewConfig(t)}},"Edit view config"),f.default.createElement("hr",{className:"ContextMenu-module_context-menu-hr-3yapb"}),f.default.createElement(p.default,{onClick:function(){return e.props.onExportSVG()}},"Export views as SVG"),f.default.createElement(p.default,{onClick:function(){return e.props.onExportPNG()}},"Export views as PNG"),f.default.createElement(p.default,{onClick:function(){return e.props.onExportViewAsJSON()}},"Export views as JSON"),f.default.createElement(p.default,{onClick:function(){return e.props.onExportViewAsLink()}},"Export views as Link"),this.getSubmenu())}}]),t}(h.default);b.propTypes={onEditViewConfig:d.default.func.isRequired,onExportSVG:d.default.func,onExportPNG:d.default.func,onExportViewAsJSON:d.default.func,onExportViewAsLink:d.default.func,onLockLocation:d.default.func,onLockZoom:d.default.func,onLockZoomAndLocation:d.default.func,onProjectViewport:d.default.func,onTakeAndLockZoomAndLocation:d.default.func,onTogglePositionSearchBox:d.default.func,onUnlockLocation:d.default.func,onUnlockZoom:d.default.func,onUnlockZoomAndLocation:d.default.func,onYankLocation:d.default.func,onYankZoom:d.default.func,onYankZoomAndLocation:d.default.func,onZoomToData:d.default.func,theme:d.default.symbol},t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(33)),i=l(n(2)),o=l(n(1)),a=l(n(79)),s=n(11);function l(e){return e&&e.__esModule?e:{default:e}}n(682);var u={"../styles/AddTrackPositionMenu.module.scss":{"add-track-position-table":"AddTrackPositionMenu-module_add-track-position-table-RHODc","add-track-position-table-dark":"AddTrackPositionMenu-module_add-track-position-table-dark-_B9fu","add-track-position-other":"AddTrackPositionMenu-module_add-track-position-other-lIGbb","add-track-position-top-center":"AddTrackPositionMenu-module_add-track-position-top-center-2Dw4e","add-track-position-middle-left":"AddTrackPositionMenu-module_add-track-position-middle-left-2ycaN","add-track-position-middle-right":"AddTrackPositionMenu-module_add-track-position-middle-right-Qqjnn","add-track-position-middle-middle":"AddTrackPositionMenu-module_add-track-position-middle-middle-2YFZd","add-track-position-bottom-middle":"AddTrackPositionMenu-module_add-track-position-bottom-middle-3ityE","add-track-position-span":"AddTrackPositionMenu-module_add-track-position-span-2hbwE"}};function c(e){var t="add-track-position-table";return e.theme===s.THEME_DARK&&(t+=" add-track-position-table-dark"),o.default.createElement("div",null,o.default.createElement("div",{className:"AddTrackPositionMenu-module_add-track-position-span-2hbwE"},"Add Track..."),o.default.createElement("table",{className:(0,r.default)(t,u)},o.default.createElement("tbody",null,o.default.createElement("tr",{style:{height:"30px"}},o.default.createElement("td",{className:"AddTrackPositionMenu-module_add-track-position-other-lIGbb"}),o.default.createElement("td",{onClick:function(){return e.onTrackPositionChosen("top")},className:"AddTrackPositionMenu-module_add-track-position-top-center-2Dw4e"},"top"),o.default.createElement("td",{className:"AddTrackPositionMenu-module_add-track-position-other-lIGbb"})),o.default.createElement("tr",{style:{height:"80px"}},o.default.createElement("td",{onClick:function(){return e.onTrackPositionChosen("left")},className:"AddTrackPositionMenu-module_add-track-position-middle-left-2ycaN"},"left"),o.default.createElement("td",{onClick:function(){return e.onTrackPositionChosen("center")},className:"AddTrackPositionMenu-module_add-track-position-middle-middle-2YFZd"},"center"),o.default.createElement("td",{onClick:function(){return e.onTrackPositionChosen("right")},className:"AddTrackPositionMenu-module_add-track-position-middle-right-Qqjnn"},"right")),o.default.createElement("tr",{style:{height:"30px"}},o.default.createElement("td",{className:"AddTrackPositionMenu-module_add-track-position-other-lIGbb"}),o.default.createElement("td",{onClick:function(){return e.onTrackPositionChosen("bottom")},className:"AddTrackPositionMenu-module_add-track-position-bottom-middle-3ityE"},"bottom"),o.default.createElement("td",{className:"AddTrackPositionMenu-module_add-track-position-other-lIGbb"})))))}c.propTypes={onTrackPositionChosen:i.default.func.isRequired,theme:i.default.symbol.isRequired},t.default=(0,a.default)(c)},function(e,t,n){e.exports={"add-track-position-table":"AddTrackPositionMenu-module_add-track-position-table-RHODc","add-track-position-table-dark":"AddTrackPositionMenu-module_add-track-position-table-dark-_B9fu","add-track-position-other":"AddTrackPositionMenu-module_add-track-position-other-lIGbb","add-track-position-top-center":"AddTrackPositionMenu-module_add-track-position-top-center-2Dw4e","add-track-position-middle-left":"AddTrackPositionMenu-module_add-track-position-middle-left-2ycaN","add-track-position-middle-right":"AddTrackPositionMenu-module_add-track-position-middle-right-Qqjnn","add-track-position-middle-middle":"AddTrackPositionMenu-module_add-track-position-middle-middle-2YFZd","add-track-position-bottom-middle":"AddTrackPositionMenu-module_add-track-position-bottom-middle-3ityE","add-track-position-span":"AddTrackPositionMenu-module_add-track-position-span-2hbwE"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=b(n(221)),i=b(n(222)),o=b(n(5)),a=b(n(3)),s=b(n(4)),l=b(n(6)),u=b(n(7)),c=b(n(2)),f=b(n(1)),d=b(n(684)),h=n(685);n(686);var p=b(n(178)),m=b(n(256)),v=b(n(137)),g=b(n(69)),y=n(10);function b(e){return e&&e.__esModule?e:{default:e}}n(687);var _=function(e){function t(e){(0,a.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.state={code:e.viewConfig,hide:!1},n.handleChangeBound=n.handleChange.bind(n),n.handleKeyDownBound=n.handleKeyDown.bind(n),n.handleKeyUpBound=n.handleKeyUp.bind(n),n.handleSubmitBound=n.handleSubmit.bind(n),n.hideBound=n.hide.bind(n),n.showBound=n.show.bind(n),n.pubSubs=[],n.pubSubs.push(n.props.pubSub.subscribe("keydown",n.handleKeyDownBound)),n.pubSubs.push(n.props.pubSub.subscribe("keyup",n.handleKeyUpBound)),n}return(0,u.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){var e=(0,i.default)(r.default.mark((function e(){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.editor){e.next=6;break}return this.editor._input.focus(),this.editor._input.setSelectionRange(0,0),e.next=5,(0,y.timeout)(0);case 5:this.editorWrap.scrollTop=0;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){var e=this;this.pubSubs.forEach((function(t){return e.props.pubSub.unsubscribe(t)})),this.pubSubs=[]}},{key:"handleChange",value:function(e){this.setState({code:e})}},{key:"handleKeyDown",value:function(e){"s"===e.key&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.props.onChange(this.state.code)),"Enter"===e.key&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.props.onChange(this.state.code),this.props.modal.close())}},{key:"handleKeyUp",value:function(e){this.setState({hide:!1}),"Escape"===e.key&&(e.preventDefault(),this.props.modal.close(),this.props.onCancel())}},{key:"handleSubmit",value:function(e){e&&e.preventDefault(),this.props.onSave(this.state.code)}},{key:"hide",value:function(){this.setState({hide:!0})}},{key:"show",value:function(){this.setState({hide:!1})}},{key:"render",value:function(){var e=this;return f.default.createElement(m.default,{cancelShortcut:"ESC",cancelTitle:"Discard Changes",hide:this.state.hide,maxHeight:!0,okayShortcut:"\u2318+Enter",okayTitle:"Save and Close",onCancel:this.props.onCancel,onOkay:this.handleSubmitBound,title:"Edit View Config"},f.default.createElement("header",{className:"ViewConfigEditor-module_view-config-editor-header-2nTtX"},f.default.createElement(p.default,{onBlur:this.showBound,onMouseDown:this.hideBound,onMouseOut:this.showBound,onMouseUp:this.showBound},"Hide While Mousedown"),f.default.createElement(p.default,{onClick:function(){e.props.onChange(e.state.code)},shortcut:"\u2318+S"},"Save")),f.default.createElement("div",{ref:function(t){e.editorWrap=t},className:"ViewConfigEditor-module_view-config-editor-2HAFN"},f.default.createElement(d.default,{ref:function(t){e.editor=t},highlight:function(e){return(0,h.highlight)(e,h.languages.json)},onValueChange:this.handleChangeBound,padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:"inherit"},value:this.state.code})))}}]),t}(f.default.Component);_.propTypes={modal:c.default.object.isRequired,onCancel:c.default.func.isRequired,onChange:c.default.func.isRequired,onSave:c.default.func.isRequired,pubSub:c.default.object.isRequired,viewConfig:c.default.object.isRequired},t.default=(0,g.default)((0,v.default)(_))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var l="navigator"in e&&/Win/i.test(navigator.platform),u="navigator"in e&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),c="npm__react-simple-code-editor__textarea",f=function(e){function t(){var e,n,i;a(this,t);for(var o=arguments.length,c=Array(o),f=0;f<o;f++)c[f]=arguments[f];return n=i=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),i.state={capture:!0},i._recordCurrentState=function(){var e=i._input;if(e){var t=e.value,n=e.selectionStart,r=e.selectionEnd;i._recordChange({value:t,selectionStart:n,selectionEnd:r})}},i._getLines=function(e,t){return e.substring(0,t).split("\n")},i._recordChange=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=i._history,o=n.stack,a=n.offset;if(o.length&&a>-1){i._history.stack=o.slice(0,a+1);var s=i._history.stack.length;if(s>100){var l=s-100;i._history.stack=o.slice(l,s),i._history.offset=Math.max(i._history.offset-l,0)}}var u=Date.now();if(t){var c=i._history.stack[i._history.offset];if(c&&u-c.timestamp<3e3){var f=/[^a-z0-9]([a-z0-9]+)$/i,d=i._getLines(c.value,c.selectionStart).pop().match(f),h=i._getLines(e.value,e.selectionStart).pop().match(f);if(d&&h&&h[1].startsWith(d[1]))return void(i._history.stack[i._history.offset]=r({},e,{timestamp:u}))}}i._history.stack.push(r({},e,{timestamp:u})),i._history.offset++},i._updateInput=function(e){var t=i._input;t&&(t.value=e.value,t.selectionStart=e.selectionStart,t.selectionEnd=e.selectionEnd,i.props.onValueChange(e.value))},i._applyEdits=function(e){var t=i._input,n=i._history.stack[i._history.offset];n&&t&&(i._history.stack[i._history.offset]=r({},n,{selectionStart:t.selectionStart,selectionEnd:t.selectionEnd})),i._recordChange(e),i._updateInput(e)},i._undoEdit=function(){var e=i._history,t=e.stack,n=e.offset,r=t[n-1];r&&(i._updateInput(r),i._history.offset=Math.max(n-1,0))},i._redoEdit=function(){var e=i._history,t=e.stack,n=e.offset,r=t[n+1];r&&(i._updateInput(r),i._history.offset=Math.min(n+1,t.length-1))},i._handleKeyDown=function(e){var t=i.props,n=t.tabSize,r=t.insertSpaces,o=t.ignoreTabKey,a=t.onKeyDown;if(!a||(a(e),!e.defaultPrevented)){var s=e.target,c=s.value,f=s.selectionStart,d=s.selectionEnd,h=(r?" ":"\t").repeat(n);if(9===e.keyCode&&!o&&i.state.capture)if(e.preventDefault(),e.shiftKey){var p=i._getLines(c,f),m=p.length-1,v=i._getLines(c,d).length-1,g=c.split("\n").map((function(e,t){return t>=m&&t<=v&&e.startsWith(h)?e.substring(h.length):e})).join("\n");if(c!==g){var y=p[m];i._applyEdits({value:g,selectionStart:y.startsWith(h)?f-h.length:f,selectionEnd:d-(c.length-g.length)})}}else if(f!==d){var b=i._getLines(c,f),_=b.length-1,x=i._getLines(c,d).length-1,w=b[_];i._applyEdits({value:c.split("\n").map((function(e,t){return t>=_&&t<=x?h+e:e})).join("\n"),selectionStart:/\S/.test(w)?f+h.length:f,selectionEnd:d+h.length*(x-_+1)})}else{var E=f+h.length;i._applyEdits({value:c.substring(0,f)+h+c.substring(d),selectionStart:E,selectionEnd:E})}else if(8===e.keyCode){var T=f!==d;if(c.substring(0,f).endsWith(h)&&!T){e.preventDefault();var S=f-h.length;i._applyEdits({value:c.substring(0,f-h.length)+c.substring(d),selectionStart:S,selectionEnd:S})}}else if(13===e.keyCode){if(f===d){var k=i._getLines(c,f).pop().match(/^\s+/);if(k&&k[0]){e.preventDefault();var O="\n"+k[0],C=f+O.length;i._applyEdits({value:c.substring(0,f)+O+c.substring(d),selectionStart:C,selectionEnd:C})}}}else if(57===e.keyCode||219===e.keyCode||222===e.keyCode||192===e.keyCode){var A=void 0;57===e.keyCode&&e.shiftKey?A=["(",")"]:219===e.keyCode?A=e.shiftKey?["{","}"]:["[","]"]:222===e.keyCode?A=e.shiftKey?['"','"']:["'","'"]:192!==e.keyCode||e.shiftKey||(A=["`","`"]),f!==d&&A&&(e.preventDefault(),i._applyEdits({value:c.substring(0,f)+A[0]+c.substring(f,d)+A[1]+c.substring(d),selectionStart:f,selectionEnd:d+2}))}else!(u?e.metaKey&&90===e.keyCode:e.ctrlKey&&90===e.keyCode)||e.shiftKey||e.altKey?(u?e.metaKey&&90===e.keyCode&&e.shiftKey:l?e.ctrlKey&&89===e.keyCode:e.ctrlKey&&90===e.keyCode&&e.shiftKey)&&!e.altKey?(e.preventDefault(),i._redoEdit()):77!==e.keyCode||!e.ctrlKey||u&&!e.shiftKey||(e.preventDefault(),i.setState((function(e){return{capture:!e.capture}}))):(e.preventDefault(),i._undoEdit())}},i._handleChange=function(e){var t=e.target,n=t.value,r=t.selectionStart,o=t.selectionEnd;i._recordChange({value:n,selectionStart:r,selectionEnd:o},!0),i.props.onValueChange(n)},i._history={stack:[],offset:-1},s(i,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this._recordCurrentState()}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,i=t.style,a=t.padding,s=t.highlight,l=t.textareaId,u=t.autoFocus,f=t.disabled,h=t.form,p=t.maxLength,m=t.minLength,v=t.name,g=t.placeholder,y=t.readOnly,b=t.required,_=t.onClick,x=t.onFocus,w=t.onBlur,E=t.onKeyUp,T=(t.onKeyDown,t.onValueChange,t.tabSize,t.insertSpaces,t.ignoreTabKey,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["value","style","padding","highlight","textareaId","autoFocus","disabled","form","maxLength","minLength","name","placeholder","readOnly","required","onClick","onFocus","onBlur","onKeyUp","onKeyDown","onValueChange","tabSize","insertSpaces","ignoreTabKey"])),S={paddingTop:a,paddingRight:a,paddingBottom:a,paddingLeft:a},k=s(n);return o.createElement("div",r({},T,{style:r({},d.container,i)}),o.createElement("textarea",{ref:function(t){return e._input=t},style:r({},d.editor,d.textarea,S),className:c,id:l,value:n,onChange:this._handleChange,onKeyDown:this._handleKeyDown,onClick:_,onKeyUp:E,onFocus:x,onBlur:w,disabled:f,form:h,maxLength:p,minLength:m,name:v,placeholder:g,readOnly:y,required:b,autoFocus:u,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"data-gramm":!1}),o.createElement("pre",r({"aria-hidden":"true",style:r({},d.editor,d.highlight,S)},"string"===typeof k?{dangerouslySetInnerHTML:{__html:k+"<br />"}}:{children:k})),o.createElement("style",{type:"text/css",dangerouslySetInnerHTML:{__html:"\n/**\n * Reset the text fill color so that placeholder is visible\n */\n.npm__react-simple-code-editor__textarea:empty {\n  -webkit-text-fill-color: inherit !important;\n}\n\n/**\n * Hack to apply on some CSS on IE10 and IE11\n */\n@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {\n  /**\n    * IE doesn't support '-webkit-text-fill-color'\n    * So we use 'color: transparent' to make the text transparent on IE\n    * Unlike other browsers, it doesn't affect caret color in IE\n    */\n  .npm__react-simple-code-editor__textarea {\n    color: transparent !important;\n  }\n\n  .npm__react-simple-code-editor__textarea::selection {\n    background-color: #accef7 !important;\n    color: transparent !important;\n  }\n}\n"}}))}},{key:"session",get:function(){return{history:this._history}},set:function(e){this._history=e.history}}]),t}(o.Component);f.defaultProps={tabSize:2,insertSpaces:!0,ignoreTabKey:!1,padding:0},t.default=f;var d={container:{position:"relative",textAlign:"left",boxSizing:"border-box",padding:0,overflow:"hidden"},textarea:{position:"absolute",top:0,left:0,height:"100%",width:"100%",resize:"none",color:"inherit",overflow:"hidden",MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",WebkitTextFillColor:"transparent"},highlight:{position:"relative",pointerEvents:"none"},editor:{margin:0,border:0,background:"none",boxSizing:"inherit",display:"inherit",fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontVariantLigatures:"inherit",fontWeight:"inherit",letterSpacing:"inherit",lineHeight:"inherit",tabSize:"inherit",textIndent:"inherit",textRendering:"inherit",textTransform:"inherit",whiteSpace:"pre-wrap",wordBreak:"keep-all",overflowWrap:"break-word"}}}).call(this,n(26))},function(e,t,n){(function(t){var n=function(e){var t=/\blang(?:uage)?-([\w-]+)\b/i,n=0,r={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function(e){return e instanceof i?new i(e.type,r.util.encode(e.content),e.alias):Array.isArray(e)?e.map(r.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var i,o,a=r.util.type(t);switch(n=n||{},a){case"Object":if(o=r.util.objId(t),n[o])return n[o];for(var s in i={},n[o]=i,t)t.hasOwnProperty(s)&&(i[s]=e(t[s],n));return i;case"Array":return o=r.util.objId(t),n[o]?n[o]:(i=[],n[o]=i,t.forEach((function(t,r){i[r]=e(t,n)})),i);default:return t}}},languages:{extend:function(e,t){var n=r.util.clone(r.languages[e]);for(var i in t)n[i]=t[i];return n},insertBefore:function(e,t,n,i){var o=(i=i||r.languages)[e],a={};for(var s in o)if(o.hasOwnProperty(s)){if(s==t)for(var l in n)n.hasOwnProperty(l)&&(a[l]=n[l]);n.hasOwnProperty(s)||(a[s]=o[s])}var u=i[e];return i[e]=a,r.languages.DFS(r.languages,(function(t,n){n===u&&t!=e&&(this[t]=a)})),a},DFS:function e(t,n,i,o){o=o||{};var a=r.util.objId;for(var s in t)if(t.hasOwnProperty(s)){n.call(t,s,t[s],i||s);var l=t[s],u=r.util.type(l);"Object"!==u||o[a(l)]?"Array"!==u||o[a(l)]||(o[a(l)]=!0,e(l,n,s,o)):(o[a(l)]=!0,e(l,n,null,o))}}},plugins:{},highlightAll:function(e,t){r.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var i={callback:n,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};r.hooks.run("before-highlightall",i);for(var o,a=i.elements||e.querySelectorAll(i.selector),s=0;o=a[s++];)r.highlightElement(o,!0===t,i.callback)},highlightElement:function(n,i,o){for(var a,s,l=n;l&&!t.test(l.className);)l=l.parentNode;l&&(a=(l.className.match(t)||[,""])[1].toLowerCase(),s=r.languages[a]),n.className=n.className.replace(t,"").replace(/\s+/g," ")+" language-"+a,n.parentNode&&(l=n.parentNode,/pre/i.test(l.nodeName)&&(l.className=l.className.replace(t,"").replace(/\s+/g," ")+" language-"+a));var u={element:n,language:a,grammar:s,code:n.textContent},c=function(e){u.highlightedCode=e,r.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,r.hooks.run("after-highlight",u),r.hooks.run("complete",u),o&&o.call(u.element)};if(r.hooks.run("before-sanity-check",u),u.code)if(r.hooks.run("before-highlight",u),u.grammar)if(i&&e.Worker){var f=new Worker(r.filename);f.onmessage=function(e){c(e.data)},f.postMessage(JSON.stringify({language:u.language,code:u.code,immediateClose:!0}))}else c(r.highlight(u.code,u.grammar,u.language));else c(r.util.encode(u.code));else r.hooks.run("complete",u)},highlight:function(e,t,n){var o={code:e,grammar:t,language:n};return r.hooks.run("before-tokenize",o),o.tokens=r.tokenize(o.code,o.grammar),r.hooks.run("after-tokenize",o),i.stringify(r.util.encode(o.tokens),o.language)},matchGrammar:function(e,t,n,o,a,s,l){for(var u in n)if(n.hasOwnProperty(u)&&n[u]){if(u==l)return;var c=n[u];c="Array"===r.util.type(c)?c:[c];for(var f=0;f<c.length;++f){var d=c[f],h=d.inside,p=!!d.lookbehind,m=!!d.greedy,v=0,g=d.alias;if(m&&!d.pattern.global){var y=d.pattern.toString().match(/[imuy]*$/)[0];d.pattern=RegExp(d.pattern.source,y+"g")}d=d.pattern||d;for(var b=o,_=a;b<t.length;_+=t[b].length,++b){var x=t[b];if(t.length>e.length)return;if(!(x instanceof i)){if(m&&b!=t.length-1){if(d.lastIndex=_,!(O=d.exec(e)))break;for(var w=O.index+(p?O[1].length:0),E=O.index+O[0].length,T=b,S=_,k=t.length;T<k&&(S<E||!t[T].type&&!t[T-1].greedy);++T)w>=(S+=t[T].length)&&(++b,_=S);if(t[b]instanceof i)continue;C=T-b,x=e.slice(_,S),O.index-=_}else{d.lastIndex=0;var O=d.exec(x),C=1}if(O){p&&(v=O[1]?O[1].length:0),E=(w=O.index+v)+(O=O[0].slice(v)).length;var A=x.slice(0,w),M=x.slice(E),P=[b,C];A&&(++b,_+=A.length,P.push(A));var I=new i(u,h?r.tokenize(O,h):O,g,O,m);if(P.push(I),M&&P.push(M),Array.prototype.splice.apply(t,P),1!=C&&r.matchGrammar(e,t,n,b,_,!0,u),s)break}else if(s)break}}}}},tokenize:function(e,t){var n=[e],i=t.rest;if(i){for(var o in i)t[o]=i[o];delete t.rest}return r.matchGrammar(e,n,t,0,0,!1),n},hooks:{all:{},add:function(e,t){var n=r.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=r.hooks.all[e];if(n&&n.length)for(var i,o=0;i=n[o++];)i(t)}},Token:i};function i(e,t,n,r,i){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length,this.greedy=!!i}if(e.Prism=r,i.stringify=function(e,t,n){if("string"==typeof e)return e;if(Array.isArray(e))return e.map((function(n){return i.stringify(n,t,e)})).join("");var o={type:e.type,content:i.stringify(e.content,t,n),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:n};if(e.alias){var a=Array.isArray(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(o.classes,a)}r.hooks.run("wrap",o);var s=Object.keys(o.attributes).map((function(e){return e+'="'+(o.attributes[e]||"").replace(/"/g,"&quot;")+'"'})).join(" ");return"<"+o.tag+' class="'+o.classes.join(" ")+'"'+(s?" "+s:"")+">"+o.content+"</"+o.tag+">"},!e.document)return e.addEventListener?(r.disableWorkerMessageHandler||e.addEventListener("message",(function(t){var n=JSON.parse(t.data),i=n.language,o=n.code,a=n.immediateClose;e.postMessage(r.highlight(o,r.languages[i],i)),a&&e.close()}),!1),r):r;var o=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return o&&(r.filename=o.src,r.manual||o.hasAttribute("data-manual")||("loading"!==document.readyState?window.requestAnimationFrame?window.requestAnimationFrame(r.highlightAll):window.setTimeout(r.highlightAll,16):document.addEventListener("DOMContentLoaded",r.highlightAll))),r}("undefined"!==typeof window?window:"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});e.exports&&(e.exports=n),"undefined"!==typeof t&&(t.Prism=n)}).call(this,n(26))},function(e,t){Prism.languages.json={comment:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,property:{pattern:/"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,greedy:!0},string:{pattern:/"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,greedy:!0},number:/-?\d+\.?\d*(e[+-]?\d+)?/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:true|false)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}}},function(e,t,n){e.exports={"view-config-editor-header":"ViewConfigEditor-module_view-config-editor-header-2nTtX","view-config-editor":"ViewConfigEditor-module_view-config-editor-2HAFN"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var i=e.append("symbol").attr("id",t).attr("viewBox",r);n.forEach((function(e){return i.append("path").attr("d",e).attr("fill","currentColor")}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=m(n(131)),i=m(n(40)),o=m(n(61)),a=m(n(45)),s=m(n(690)),l=m(n(38)),u=m(n(133)),c=m(n(693)),f=m(n(385)),d=n(24),h=n(10),p=n(11);function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e,t){var n=e,m=[],v=(0,u.default)(),g=function(){m.forEach((function(e){return t.unsubscribe(e)})),m=[]};return{destroy:g,publish:v.publish,stack:v.stack,public:(0,s.default)({setBroadcastMousePositionGlobally:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.setBroadcastMousePositionGlobally(e)},setShowGlobalMousePosition:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.setShowGlobalMousePosition(e)},setGlobalMousePosition:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.setBroadcastMousePositionGlobally(e),n.setShowGlobalMousePosition(e)},setAuthHeader:function(e){(0,d.setTileProxyAuthHeader)(e),n.reload()},getAuthHeader:function(){return(0,d.setTileProxyAuthHeader)()},getComponent:function(){return n},reload:function(){console.warn("Not implemented yet!")},destroy:function(){g(),l.default.unmountComponentAtNode(n.topDiv.parentNode)},setRangeSelectionToInt:function(){n.setState({rangeSelectionToInt:!0})},setRangeSelectionToFloat:function(){n.setState({rangeSelectionToInt:!1})},setRangeSelection1dSize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;n.setState({rangeSelection1dSize:[e,t]})},setViewConfig:function(e){var r=this,i=(new c.default).compile(f.default),s=i(e);i.errors&&console.warn((0,a.default)(i.errors,null,2)),s||console.warn("Invalid viewconf");var l=n.processViewConfig(e);return new o.default((function(i){r.requestsInFlight=0,m.push(t.subscribe("requestSent",(function(){r.requestsInFlight+=1}))),m.push(t.subscribe("requestReceived",(function(){r.requestsInFlight-=1,0===r.requestsInFlight&&i()}))),n.setState({viewConfig:e,views:l},(function(){}))}))},getViewConfig:function(){var e=n.getViewsAsJson(),t=(new c.default).compile(f.default),r=t(e);return t.errors&&console.warn((0,a.default)(t.errors,null,2)),r||console.warn("Invalid viewconf"),e},getMinMaxValue:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return n.getMinMaxValue(e,t,r,i)},shareViewConfigAsLink:function(e){return n.handleExportViewsAsLink(e,!0)},showAvailableTrackPositions:function(e){n.setState({draggingHappening:e})},hideAvailableTrackPositions:function(){n.setState({draggingHappening:null})},showTrackChooser:function(e){n.setState({chooseTrackHandler:function(){n.setState({chooseTrackHandler:null}),e.apply(void 0,arguments)}})},hideTrackChooser:function(){this.setState({chooseTrackHandler:null})},setTrackValueScaleLimits:function(e,t,r,i){n.setTrackValueScaleLimits(e,t,r,i)},setDarkTheme:function(e){console.warn('`setDarkTheme(true)` is deprecated. Please use `setTheme("dark")`.');var t=e?"dark":"light";n.setTheme(t)},setTheme:function(e){console.warn("Please note that theming is still in beta!"),n.setTheme(e)},zoomTo:function(e,t,r,i,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;n.zoomTo(e,t,r,i,o,a)},zoomToDataExtent:function(e){n.handleZoomToData(e)},resetViewport:function(e){n.resetViewport(e)},activateTool:function(e){switch(e){case"select":n.setMouseTool(p.MOUSE_TOOL_SELECT);break;default:n.setMouseTool(p.MOUSE_TOOL_MOVE)}},exportAsPngBlobPromise:function(){return n.createPNGBlobPromise()},exportAsSvg:function(){return n.createSVGString()},exportAsViewConfString:function(){return n.getViewsAsString()},getRangeSelection:function(){return n.rangeSelection},getLocation:function(e){var t=e?n.xScales[e]&&n.yScales[e]&&e:(0,i.default)(n.tiledPlots)[0]&&(0,i.default)(n.tiledPlots)[0].props.uid;return t?{xDomain:n.xScales[t].domain(),yDomain:n.yScales[t].domain(),xRange:n.xScales[t].range(),yRange:n.yScales[t].range()}:"Please provide a valid view UUID sweetheart \ud83d\ude19"},getTrackObject:function(e,t){var r=e,o=t;return t||(r=(0,i.default)(n.state.views)[0].uid,o=e),(0,h.getTrackObjectFromHGC)(n,r,o)},option:function(e,t){if("undefined"===typeof t)return n.props.options[e];switch(e){case"sizeMode":n.props.options[e]=t,function(e){e.setState(e.state)}(n);break;default:console.warn('This option "'+String(e)+'" is either unknown or not settable.')}},off:function(e,t,i){var o="object"===("undefined"===typeof t?"undefined":(0,r.default)(t))?t.callback:t;switch(e){case"click":v.unsubscribe("click",o);break;case"cursorLocation":v.unsubscribe("cursorLocation",o);break;case"location":n.offLocationChange(i,t);break;case"mouseMoveZoom":v.unsubscribe("mouseMoveZoom",o);break;case"wheel":v.unsubscribe("wheel",o);break;case"rangeSelection":v.unsubscribe("rangeSelection",o);break;case"viewConfig":n.offViewChange(t);break;case"createSVG":n.offPostCreateSVG()}},on:function(e,t,r,i){switch(e){case"click":return v.subscribe("click",t);case"cursorLocation":return v.subscribe("cursorLocation",t);case"location":return n.onLocationChange(r,t,i);case"mouseMoveZoom":return v.subscribe("mouseMoveZoom",t);case"wheel":return v.subscribe("wheel",t);case"rangeSelection":return v.subscribe("rangeSelection",t);case"viewConfig":return n.onViewChange(t);case"createSVG":return n.onPostCreateSVG(t);default:return}}},{version:{get:function(){return"1.9.3"},configurable:!0,enumerable:!0}})}};t.default=v},function(e,t,n){e.exports={default:n(691),__esModule:!0}},function(e,t,n){n(692);var r=n(14).Object;e.exports=function(e,t){return r.defineProperties(e,t)}},function(e,t,n){var r=n(17);r(r.S+r.F*!n(34),"Object",{defineProperties:n(158)})},function(e,t,n){"use strict";var r=n(694),i=n(259),o=n(698),a=n(377),s=n(378),l=n(699),u=n(700),c=n(721),f=n(113);e.exports=g,g.prototype.validate=function(e,t){var n;if("string"==typeof e){if(!(n=this.getSchema(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var r=this._addSchema(e);n=r.validate||this._compile(r)}var i=n(t);return!0!==n.$async&&(this.errors=n.errors),i},g.prototype.compile=function(e,t){var n=this._addSchema(e,void 0,t);return n.validate||this._compile(n)},g.prototype.addSchema=function(e,t,n,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)this.addSchema(e[o],void 0,n,r);return this}var a=this._getId(e);if(void 0!==a&&"string"!=typeof a)throw new Error("schema id must be string");return E(this,t=i.normalizeId(t||a)),this._schemas[t]=this._addSchema(e,n,r,!0),this},g.prototype.addMetaSchema=function(e,t,n){return this.addSchema(e,t,n,!0),this},g.prototype.validateSchema=function(e,t){var n=e.$schema;if(void 0!==n&&"string"!=typeof n)throw new Error("$schema must be a string");if(!(n=n||this._opts.defaultMeta||function(e){var t=e._opts.meta;return e._opts.defaultMeta="object"==typeof t?e._getId(t)||t:e.getSchema(p)?p:void 0,e._opts.defaultMeta}(this)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var r=this.validate(n,e);if(!r&&t){var i="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(i);this.logger.error(i)}return r},g.prototype.getSchema=function(e){var t=y(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return function(e,t){var n=i.schema.call(e,{schema:{}},t);if(n){var o=n.schema,s=n.root,l=n.baseId,u=r.call(e,o,s,void 0,l);return e._fragments[t]=new a({ref:t,fragment:!0,schema:o,root:s,baseId:l,validate:u}),u}}(this,e)}},g.prototype.removeSchema=function(e){if(e instanceof RegExp)return b(this,this._schemas,e),b(this,this._refs,e),this;switch(typeof e){case"undefined":return b(this,this._schemas),b(this,this._refs),this._cache.clear(),this;case"string":var t=y(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var n=this._opts.serialize,r=n?n(e):e;this._cache.del(r);var o=this._getId(e);o&&(o=i.normalizeId(o),delete this._schemas[o],delete this._refs[o])}return this},g.prototype.addFormat=function(e,t){return"string"==typeof t&&(t=new RegExp(t)),this._formats[e]=t,this},g.prototype.errorsText=function(e,t){if(!(e=e||this.errors))return"No errors";for(var n=void 0===(t=t||{}).separator?", ":t.separator,r=void 0===t.dataVar?"data":t.dataVar,i="",o=0;o<e.length;o++){var a=e[o];a&&(i+=r+a.dataPath+" "+a.message+n)}return i.slice(0,-n.length)},g.prototype._addSchema=function(e,t,n,r){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var o=this._opts.serialize,s=o?o(e):e,l=this._cache.get(s);if(l)return l;r=r||!1!==this._opts.addUsedSchema;var u=i.normalizeId(this._getId(e));u&&r&&E(this,u);var c,f=!1!==this._opts.validateSchema&&!t;f&&!(c=u&&u==i.normalizeId(e.$schema))&&this.validateSchema(e,!0);var d=i.ids.call(this,e),h=new a({id:u,schema:e,localRefs:d,cacheKey:s,meta:n});return"#"!=u[0]&&r&&(this._refs[u]=h),this._cache.put(s,h),f&&c&&this.validateSchema(e,!0),h},g.prototype._compile=function(e,t){if(e.compiling)return e.validate=o,o.schema=e.schema,o.errors=null,o.root=t||o,!0===e.schema.$async&&(o.$async=!0),o;var n,i;e.compiling=!0,e.meta&&(n=this._opts,this._opts=this._metaOpts);try{i=r.call(this,e.schema,t,e.localRefs)}catch(a){throw delete e.validate,a}finally{e.compiling=!1,e.meta&&(this._opts=n)}return e.validate=i,e.refs=i.refs,e.refVal=i.refVal,e.root=i.root,i;function o(){var t=e.validate,n=t.apply(this,arguments);return o.errors=t.errors,n}},g.prototype.compileAsync=n(722);var d=n(723);g.prototype.addKeyword=d.add,g.prototype.getKeyword=d.get,g.prototype.removeKeyword=d.remove,g.prototype.validateKeyword=d.validate;var h=n(261);g.ValidationError=h.Validation,g.MissingRefError=h.MissingRef,g.$dataMetaSchema=c;var p="http://json-schema.org/draft-07/schema",m=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],v=["/properties"];function g(e){if(!(this instanceof g))return new g(e);e=this._opts=f.copy(e)||{},function(e){var t=e._opts.logger;if(!1===t)e.logger={log:T,warn:T,error:T};else{if(void 0===t&&(t=console),!("object"==typeof t&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=l(e.format),this._cache=e.cache||new o,this._loadingSchemas={},this._compilations=[],this.RULES=u(),this._getId=function(e){switch(e.schemaId){case"auto":return w;case"id":return _;default:return x}}(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=s),this._metaOpts=function(e){for(var t=f.copy(e._opts),n=0;n<m.length;n++)delete t[m[n]];return t}(this),e.formats&&function(e){for(var t in e._opts.formats){var n=e._opts.formats[t];e.addFormat(t,n)}}(this),function(e){var t;if(e._opts.$data&&(t=n(725),e.addMetaSchema(t,t.$id,!0)),!1!==e._opts.meta){var r=n(384);e._opts.$data&&(r=c(r,v)),e.addMetaSchema(r,p,!0),e._refs["http://json-schema.org/schema"]=p}}(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(e){var t=e._opts.schemas;if(t)if(Array.isArray(t))e.addSchema(t);else for(var n in t)e.addSchema(t[n],n)}(this)}function y(e,t){return t=i.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function b(e,t,n){for(var r in t){var i=t[r];i.meta||n&&!n.test(r)||(e._cache.del(i.cacheKey),delete t[r])}}function _(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function x(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function w(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function E(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function T(){}},function(e,t,n){"use strict";var r=n(259),i=n(113),o=n(261),a=n(378),s=n(379),l=i.ucs2length,u=n(260),c=o.Validation;function f(e,t,n){var r=h.call(this,e,t,n);return r>=0?{index:r,compiling:!0}:(r=this._compilations.length,this._compilations[r]={schema:e,root:t,baseId:n},{index:r,compiling:!1})}function d(e,t,n){var r=h.call(this,e,t,n);r>=0&&this._compilations.splice(r,1)}function h(e,t,n){for(var r=0;r<this._compilations.length;r++){var i=this._compilations[r];if(i.schema==e&&i.root==t&&i.baseId==n)return r}return-1}function p(e,t){return"var pattern"+e+" = new RegExp("+i.toQuotedString(t[e])+");"}function m(e){return"var default"+e+" = defaults["+e+"];"}function v(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function g(e){return"var customRule"+e+" = customRules["+e+"];"}function y(e,t){if(!e.length)return"";for(var n="",r=0;r<e.length;r++)n+=t(r,e);return n}e.exports=function e(t,n,h,b){var _=this,x=this._opts,w=[void 0],E={},T=[],S={},k=[],O={},C=[];n=n||{schema:t,refVal:w,refs:E};var A=f.call(this,t,n,b),M=this._compilations[A.index];if(A.compiling)return M.callValidate=function e(){var t=M.validate,n=t.apply(this,arguments);return e.errors=t.errors,n};var P=this._formats,I=this.RULES;try{var D=R(t,n,h,b);M.validate=D;var N=M.callValidate;return N&&(N.schema=D.schema,N.errors=null,N.refs=D.refs,N.refVal=D.refVal,N.root=D.root,N.$async=D.$async,x.sourceCode&&(N.source=D.source)),D}finally{d.call(this,t,n,b)}function R(t,a,f,d){var h=!a||a&&a.schema==t;if(a.schema!=n.schema)return e.call(_,t,a,f,d);var b,S=!0===t.$async,O=s({isTop:!0,schema:t,isRoot:h,baseId:d,root:a,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:o.MissingRef,RULES:I,validate:s,util:i,resolve:r,resolveRef:L,usePattern:B,useDefault:z,useCustomRule:H,opts:x,formats:P,logger:_.logger,self:_});O=y(w,v)+y(T,p)+y(k,m)+y(C,g)+O,x.processCode&&(O=x.processCode(O));try{b=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",O)(_,I,P,n,w,k,C,u,l,c),w[0]=b}catch(A){throw _.logger.error("Error compiling schema, function code:",O),A}return b.schema=t,b.errors=null,b.refs=E,b.refVal=w,b.root=h?b:a,S&&(b.$async=!0),!0===x.sourceCode&&(b.source={code:O,patterns:T,defaults:k}),b}function L(t,i,o){i=r.url(t,i);var a,s,l=E[i];if(void 0!==l)return F(a=w[l],s="refVal["+l+"]");if(!o&&n.refs){var u=n.refs[i];if(void 0!==u)return F(a=n.refVal[u],s=j(i,a))}s=j(i);var c=r.call(_,R,n,i);if(void 0===c){var f=h&&h[i];f&&(c=r.inlineRef(f,x.inlineRefs)?f:e.call(_,f,n,h,t))}if(void 0!==c)return function(e,t){var n=E[e];w[n]=t}(i,c),F(c,s);!function(e){delete E[e]}(i)}function j(e,t){var n=w.length;return w[n]=t,E[e]=n,"refVal"+n}function F(e,t){return"object"==typeof e||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&!!e.$async}}function B(e){var t=S[e];return void 0===t&&(t=S[e]=T.length,T[t]=e),"pattern"+t}function z(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return i.toQuotedString(e);case"object":if(null===e)return"null";var t=a(e),n=O[t];return void 0===n&&(n=O[t]=k.length,k[n]=e),"default"+n}}function H(e,t,n,r){if(!1!==_._opts.validateSchema){var i=e.definition.dependencies;if(i&&!i.every((function(e){return Object.prototype.hasOwnProperty.call(n,e)})))throw new Error("parent schema must have all required keywords: "+i.join(","));var o=e.definition.validateSchema;if(o&&!o(t)){var a="keyword schema is invalid: "+_.errorsText(o.errors);if("log"!=_._opts.validateSchema)throw new Error(a);_.logger.error(a)}}var s,l=e.definition.compile,u=e.definition.inline,c=e.definition.macro;if(l)s=l.call(_,t,n,r);else if(c)s=c.call(_,t,n,r),!1!==x.validateSchema&&_.validateSchema(s,!0);else if(u)s=u.call(_,r,e.keyword,t,n);else if(!(s=e.definition.validate))return;if(void 0===s)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var f=C.length;return C[f]=s,{code:"customRule"+f,validate:s}}}},function(e,t,n){!function(e){"use strict";function t(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>1){t[0]=t[0].slice(0,-1);for(var r=t.length-1,i=1;i<r;++i)t[i]=t[i].slice(1,-1);return t[r]=t[r].slice(1),t.join("")}return t[0]}function n(e){return"(?:"+e+")"}function r(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function i(e){return e.toUpperCase()}function o(e){var r=t("[0-9]","[A-Fa-f]"),i=n(n("%[EFef]"+r+"%"+r+r+"%"+r+r)+"|"+n("%[89A-Fa-f]"+r+"%"+r+r)+"|"+n("%"+r+r)),o="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",a=t("[\\:\\/\\?\\#\\[\\]\\@]",o),s=e?"[\\uE000-\\uF8FF]":"[]",l=t("[A-Za-z]","[0-9]","[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),u=n("[A-Za-z]"+t("[A-Za-z]","[0-9]","[\\+\\-\\.]")+"*"),c=n(n(i+"|"+t(l,o,"[\\:]"))+"*"),f=(n(n("25[0-5]")+"|"+n("2[0-4][0-9]")+"|"+n("1[0-9][0-9]")+"|"+n("[1-9][0-9]")+"|[0-9]"),n(n("25[0-5]")+"|"+n("2[0-4][0-9]")+"|"+n("1[0-9][0-9]")+"|"+n("0?[1-9][0-9]")+"|0?0?[0-9]")),d=n(f+"\\."+f+"\\."+f+"\\."+f),h=n(r+"{1,4}"),p=n(n(h+"\\:"+h)+"|"+d),m=n(n(h+"\\:")+"{6}"+p),v=n("\\:\\:"+n(h+"\\:")+"{5}"+p),g=n(n(h)+"?\\:\\:"+n(h+"\\:")+"{4}"+p),y=n(n(n(h+"\\:")+"{0,1}"+h)+"?\\:\\:"+n(h+"\\:")+"{3}"+p),b=n(n(n(h+"\\:")+"{0,2}"+h)+"?\\:\\:"+n(h+"\\:")+"{2}"+p),_=n(n(n(h+"\\:")+"{0,3}"+h)+"?\\:\\:"+h+"\\:"+p),x=n(n(n(h+"\\:")+"{0,4}"+h)+"?\\:\\:"+p),w=n(n(n(h+"\\:")+"{0,5}"+h)+"?\\:\\:"+h),E=n(n(n(h+"\\:")+"{0,6}"+h)+"?\\:\\:"),T=n([m,v,g,y,b,_,x,w,E].join("|")),S=n(n(l+"|"+i)+"+"),k=(n(T+"\\%25"+S),n(T+n("\\%25|\\%(?!"+r+"{2})")+S)),O=n("[vV]"+r+"+\\."+t(l,o,"[\\:]")+"+"),C=n("\\["+n(k+"|"+T+"|"+O)+"\\]"),A=n(n(i+"|"+t(l,o))+"*"),M=n(C+"|"+d+"(?!"+A+")|"+A),P=n("[0-9]*"),I=n(n(c+"@")+"?"+M+n("\\:"+P)+"?"),D=n(i+"|"+t(l,o,"[\\:\\@]")),N=n(D+"*"),R=n(D+"+"),L=n(n(i+"|"+t(l,o,"[\\@]"))+"+"),j=n(n("\\/"+N)+"*"),F=n("\\/"+n(R+j)+"?"),B=n(L+j),z=n(R+j),H="(?!"+D+")",U=(n(j+"|"+F+"|"+B+"|"+z+"|"+H),n(n(D+"|"+t("[\\/\\?]",s))+"*")),V=n(n(D+"|[\\/\\?]")+"*"),G=n(n("\\/\\/"+I+j)+"|"+F+"|"+z+"|"+H),W=n(u+"\\:"+G+n("\\?"+U)+"?"+n("\\#"+V)+"?"),q=n(n("\\/\\/"+I+j)+"|"+F+"|"+B+"|"+H),Y=n(q+n("\\?"+U)+"?"+n("\\#"+V)+"?");return n(W+"|"+Y),n(u+"\\:"+G+n("\\?"+U)+"?"),n(n("\\/\\/("+n("("+c+")@")+"?("+M+")"+n("\\:("+P+")")+"?)")+"?("+j+"|"+F+"|"+z+"|"+H+")"),n("\\?("+U+")"),n("\\#("+V+")"),n(n("\\/\\/("+n("("+c+")@")+"?("+M+")"+n("\\:("+P+")")+"?)")+"?("+j+"|"+F+"|"+B+"|"+H+")"),n("\\?("+U+")"),n("\\#("+V+")"),n(n("\\/\\/("+n("("+c+")@")+"?("+M+")"+n("\\:("+P+")")+"?)")+"?("+j+"|"+F+"|"+z+"|"+H+")"),n("\\?("+U+")"),n("\\#("+V+")"),n("("+c+")@"),n("\\:("+P+")"),{NOT_SCHEME:new RegExp(t("[^]","[A-Za-z]","[0-9]","[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",l,o),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",l,o),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",l,o),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",l,o),"g"),NOT_QUERY:new RegExp(t("[^\\%]",l,o,"[\\:\\@\\/\\?]",s),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",l,o,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",l,o),"g"),UNRESERVED:new RegExp(l,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",l,a),"g"),PCT_ENCODED:new RegExp(i,"g"),IPV4ADDRESS:new RegExp("^("+d+")$"),IPV6ADDRESS:new RegExp("^\\[?("+T+")"+n(n("\\%25|\\%(?!"+r+"{2})")+"("+S+")")+"?\\]?$")}}var a=o(!1),s=o(!0),l=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},u=2147483647,c=/^xn--/,f=/[^\0-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,m=String.fromCharCode;function v(e){throw new RangeError(h[e])}function g(e,t){var n=e.split("@"),r="";n.length>1&&(r=n[0]+"@",e=n[1]);var i=function(e,t){for(var n=[],r=e.length;r--;)n[r]=t(e[r]);return n}((e=e.replace(d,".")).split("."),t).join(".");return r+i}function y(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t}var b=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},_=function(e,t,n){var r=0;for(e=n?p(e/700):e>>1,e+=p(e/t);e>455;r+=36)e=p(e/35);return p(r+36*e/(e+38))},x=function(e){var t,n=[],r=e.length,i=0,o=128,a=72,s=e.lastIndexOf("-");s<0&&(s=0);for(var l=0;l<s;++l)e.charCodeAt(l)>=128&&v("not-basic"),n.push(e.charCodeAt(l));for(var c=s>0?s+1:0;c<r;){for(var f=i,d=1,h=36;;h+=36){c>=r&&v("invalid-input");var m=(t=e.charCodeAt(c++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:36;(m>=36||m>p((u-i)/d))&&v("overflow"),i+=m*d;var g=h<=a?1:h>=a+26?26:h-a;if(m<g)break;var y=36-g;d>p(u/y)&&v("overflow"),d*=y}var b=n.length+1;a=_(i-f,b,0==f),p(i/b)>u-o&&v("overflow"),o+=p(i/b),i%=b,n.splice(i++,0,o)}return String.fromCodePoint.apply(String,n)},w=function(e){var t=[],n=(e=y(e)).length,r=128,i=0,o=72,a=!0,s=!1,l=void 0;try{for(var c,f=e[Symbol.iterator]();!(a=(c=f.next()).done);a=!0){var d=c.value;d<128&&t.push(m(d))}}catch(z){s=!0,l=z}finally{try{!a&&f.return&&f.return()}finally{if(s)throw l}}var h=t.length,g=h;for(h&&t.push("-");g<n;){var x=u,w=!0,E=!1,T=void 0;try{for(var S,k=e[Symbol.iterator]();!(w=(S=k.next()).done);w=!0){var O=S.value;O>=r&&O<x&&(x=O)}}catch(z){E=!0,T=z}finally{try{!w&&k.return&&k.return()}finally{if(E)throw T}}var C=g+1;x-r>p((u-i)/C)&&v("overflow"),i+=(x-r)*C,r=x;var A=!0,M=!1,P=void 0;try{for(var I,D=e[Symbol.iterator]();!(A=(I=D.next()).done);A=!0){var N=I.value;if(N<r&&++i>u&&v("overflow"),N==r){for(var R=i,L=36;;L+=36){var j=L<=o?1:L>=o+26?26:L-o;if(R<j)break;var F=R-j,B=36-j;t.push(m(b(j+F%B,0))),R=p(F/B)}t.push(m(b(R,0))),o=_(i,C,g==h),i=0,++g}}}catch(z){M=!0,P=z}finally{try{!A&&D.return&&D.return()}finally{if(M)throw P}}++i,++r}return t.join("")},E=function(e){return g(e,(function(e){return f.test(e)?"xn--"+w(e):e}))},T=function(e){return g(e,(function(e){return c.test(e)?x(e.slice(4).toLowerCase()):e}))},S={};function k(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function O(e){for(var t="",n=0,r=e.length;n<r;){var i=parseInt(e.substr(n+1,2),16);if(i<128)t+=String.fromCharCode(i),n+=3;else if(i>=194&&i<224){if(r-n>=6){var o=parseInt(e.substr(n+4,2),16);t+=String.fromCharCode((31&i)<<6|63&o)}else t+=e.substr(n,6);n+=6}else if(i>=224){if(r-n>=9){var a=parseInt(e.substr(n+4,2),16),s=parseInt(e.substr(n+7,2),16);t+=String.fromCharCode((15&i)<<12|(63&a)<<6|63&s)}else t+=e.substr(n,9);n+=9}else t+=e.substr(n,3),n+=3}return t}function C(e,t){function n(e){var n=O(e);return n.match(t.UNRESERVED)?n:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,n).replace(t.NOT_USERINFO,k).replace(t.PCT_ENCODED,i)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_HOST,k).replace(t.PCT_ENCODED,i)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,n).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,k).replace(t.PCT_ENCODED,i)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,n).replace(t.NOT_QUERY,k).replace(t.PCT_ENCODED,i)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,n).replace(t.NOT_FRAGMENT,k).replace(t.PCT_ENCODED,i)),e}function A(e){return e.replace(/^0*(.*)/,"$1")||"0"}function M(e,t){var n=e.match(t.IPV4ADDRESS)||[],r=l(n,2)[1];return r?r.split(".").map(A).join("."):e}function P(e,t){var n=e.match(t.IPV6ADDRESS)||[],r=l(n,3),i=r[1],o=r[2];if(i){for(var a=i.toLowerCase().split("::").reverse(),s=l(a,2),u=s[0],c=s[1],f=c?c.split(":").map(A):[],d=u.split(":").map(A),h=t.IPV4ADDRESS.test(d[d.length-1]),p=h?7:8,m=d.length-p,v=Array(p),g=0;g<p;++g)v[g]=f[g]||d[m+g]||"";h&&(v[p-1]=M(v[p-1],t));var y=v.reduce((function(e,t,n){if(!t||"0"===t){var r=e[e.length-1];r&&r.index+r.length===n?r.length++:e.push({index:n,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],b=void 0;if(y&&y.length>1){var _=v.slice(0,y.index),x=v.slice(y.index+y.length);b=_.join(":")+"::"+x.join(":")}else b=v.join(":");return o&&(b+="%"+o),b}return e}var I=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,D=void 0==="".match(/(){0}/)[1];function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r=!1!==t.iri?s:a;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var i=e.match(I);if(i){D?(n.scheme=i[1],n.userinfo=i[3],n.host=i[4],n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=i[7],n.fragment=i[8],isNaN(n.port)&&(n.port=i[5])):(n.scheme=i[1]||void 0,n.userinfo=-1!==e.indexOf("@")?i[3]:void 0,n.host=-1!==e.indexOf("//")?i[4]:void 0,n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=-1!==e.indexOf("?")?i[7]:void 0,n.fragment=-1!==e.indexOf("#")?i[8]:void 0,isNaN(n.port)&&(n.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),n.host&&(n.host=P(M(n.host,r),r)),void 0!==n.scheme||void 0!==n.userinfo||void 0!==n.host||void 0!==n.port||n.path||void 0!==n.query?void 0===n.scheme?n.reference="relative":void 0===n.fragment?n.reference="absolute":n.reference="uri":n.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==n.reference&&(n.error=n.error||"URI is not a "+t.reference+" reference.");var o=S[(t.scheme||n.scheme||"").toLowerCase()];if(t.unicodeSupport||o&&o.unicodeSupport)C(n,r);else{if(n.host&&(t.domainHost||o&&o.domainHost))try{n.host=E(n.host.replace(r.PCT_ENCODED,O).toLowerCase())}catch(l){n.error=n.error||"Host's domain name can not be converted to ASCII via punycode: "+l}C(n,a)}o&&o.parse&&o.parse(n,t)}else n.error=n.error||"URI can not be parsed.";return n}function R(e,t){var n=!1!==t.iri?s:a,r=[];return void 0!==e.userinfo&&(r.push(e.userinfo),r.push("@")),void 0!==e.host&&r.push(P(M(String(e.host),n),n).replace(n.IPV6ADDRESS,(function(e,t,n){return"["+t+(n?"%25"+n:"")+"]"}))),"number"===typeof e.port&&(r.push(":"),r.push(e.port.toString(10))),r.length?r.join(""):void 0}var L=/^\.\.?\//,j=/^\/\.(\/|$)/,F=/^\/\.\.(\/|$)/,B=/^\/?(?:.|\n)*?(?=\/|$)/;function z(e){for(var t=[];e.length;)if(e.match(L))e=e.replace(L,"");else if(e.match(j))e=e.replace(j,"/");else if(e.match(F))e=e.replace(F,"/"),t.pop();else if("."===e||".."===e)e="";else{var n=e.match(B);if(!n)throw new Error("Unexpected dot segment condition");var r=n[0];e=e.slice(r.length),t.push(r)}return t.join("")}function H(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.iri?s:a,r=[],i=S[(t.scheme||e.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(e,t),e.host)if(n.IPV6ADDRESS.test(e.host));else if(t.domainHost||i&&i.domainHost)try{e.host=t.iri?T(e.host):E(e.host.replace(n.PCT_ENCODED,O).toLowerCase())}catch(u){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+u}C(e,n),"suffix"!==t.reference&&e.scheme&&(r.push(e.scheme),r.push(":"));var o=R(e,t);if(void 0!==o&&("suffix"!==t.reference&&r.push("//"),r.push(o),e.path&&"/"!==e.path.charAt(0)&&r.push("/")),void 0!==e.path){var l=e.path;t.absolutePath||i&&i.absolutePath||(l=z(l)),void 0===o&&(l=l.replace(/^\/\//,"/%2F")),r.push(l)}return void 0!==e.query&&(r.push("?"),r.push(e.query)),void 0!==e.fragment&&(r.push("#"),r.push(e.fragment)),r.join("")}function U(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3],i={};return r||(e=N(H(e,n),n),t=N(H(t,n),n)),!(n=n||{}).tolerant&&t.scheme?(i.scheme=t.scheme,i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=z(t.path||""),i.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=z(t.path||""),i.query=t.query):(t.path?("/"===t.path.charAt(0)?i.path=z(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?i.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:i.path=t.path:i.path="/"+t.path,i.path=z(i.path)),i.query=t.query):(i.path=e.path,void 0!==t.query?i.query=t.query:i.query=e.query),i.userinfo=e.userinfo,i.host=e.host,i.port=e.port),i.scheme=e.scheme),i.fragment=t.fragment,i}function V(e,t){return e&&e.toString().replace(t&&t.iri?s.PCT_ENCODED:a.PCT_ENCODED,O)}var G={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){return e.port!==("https"!==String(e.scheme).toLowerCase()?80:443)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},W={scheme:"https",domainHost:G.domainHost,parse:G.parse,serialize:G.serialize},q={},Y="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",X="[0-9A-Fa-f]",$=n(n("%[EFef]"+X+"%"+X+X+"%"+X+X)+"|"+n("%[89A-Fa-f]"+X+"%"+X+X)+"|"+n("%"+X+X)),K=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),Z=new RegExp(Y,"g"),Q=new RegExp($,"g"),J=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',K),"g"),ee=new RegExp(t("[^]",Y,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),te=ee;function ne(e){var t=O(e);return t.match(Z)?t:e}var re={scheme:"mailto",parse:function(e,t){var n=e,r=n.to=n.path?n.path.split(","):[];if(n.path=void 0,n.query){for(var i=!1,o={},a=n.query.split("&"),s=0,l=a.length;s<l;++s){var u=a[s].split("=");switch(u[0]){case"to":for(var c=u[1].split(","),f=0,d=c.length;f<d;++f)r.push(c[f]);break;case"subject":n.subject=V(u[1],t);break;case"body":n.body=V(u[1],t);break;default:i=!0,o[V(u[0],t)]=V(u[1],t)}}i&&(n.headers=o)}n.query=void 0;for(var h=0,p=r.length;h<p;++h){var m=r[h].split("@");if(m[0]=V(m[0]),t.unicodeSupport)m[1]=V(m[1],t).toLowerCase();else try{m[1]=E(V(m[1],t).toLowerCase())}catch(v){n.error=n.error||"Email address's domain name can not be converted to ASCII via punycode: "+v}r[h]=m.join("@")}return n},serialize:function(e,t){var n,r=e,o=void 0!==(n=e.to)&&null!==n?n instanceof Array?n:"number"!==typeof n.length||n.split||n.setInterval||n.call?[n]:Array.prototype.slice.call(n):[];if(o){for(var a=0,s=o.length;a<s;++a){var l=String(o[a]),u=l.lastIndexOf("@"),c=l.slice(0,u).replace(Q,ne).replace(Q,i).replace(J,k),f=l.slice(u+1);try{f=t.iri?T(f):E(V(f,t).toLowerCase())}catch(m){r.error=r.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+m}o[a]=c+"@"+f}r.path=o.join(",")}var d=e.headers=e.headers||{};e.subject&&(d.subject=e.subject),e.body&&(d.body=e.body);var h=[];for(var p in d)d[p]!==q[p]&&h.push(p.replace(Q,ne).replace(Q,i).replace(ee,k)+"="+d[p].replace(Q,ne).replace(Q,i).replace(te,k));return h.length&&(r.query=h.join("&")),r}},ie=/^([^\:]+)\:(.*)/,oe={scheme:"urn",parse:function(e,t){var n=e.path&&e.path.match(ie),r=e;if(n){var i=t.scheme||r.scheme||"urn",o=n[1].toLowerCase(),a=n[2],s=i+":"+(t.nid||o),l=S[s];r.nid=o,r.nss=a,r.path=void 0,l&&(r=l.parse(r,t))}else r.error=r.error||"URN can not be parsed.";return r},serialize:function(e,t){var n=t.scheme||e.scheme||"urn",r=e.nid,i=n+":"+(t.nid||r),o=S[i];o&&(e=o.serialize(e,t));var a=e,s=e.nss;return a.path=(r||t.nid)+":"+s,a}},ae=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,se={scheme:"urn:uuid",parse:function(e,t){var n=e;return n.uuid=n.nss,n.nss=void 0,t.tolerant||n.uuid&&n.uuid.match(ae)||(n.error=n.error||"UUID is not valid."),n},serialize:function(e,t){var n=e;return n.nss=(e.uuid||"").toLowerCase(),n}};S[G.scheme]=G,S[W.scheme]=W,S[re.scheme]=re,S[oe.scheme]=oe,S[se.scheme]=se,e.SCHEMES=S,e.pctEncChar=k,e.pctDecChars=O,e.parse=N,e.removeDotSegments=z,e.serialize=H,e.resolveComponents=U,e.resolve=function(e,t,n){var r=function(e,t){var n=e;if(t)for(var r in t)n[r]=t[r];return n}({scheme:"null"},n);return H(U(N(e,r),N(t,r),r,!0),r)},e.normalize=function(e,t){return"string"===typeof e?e=H(N(e,t),t):"object"===r(e)&&(e=N(H(e,t),t)),e},e.equal=function(e,t,n){return"string"===typeof e?e=H(N(e,n),n):"object"===r(e)&&(e=H(e,n)),"string"===typeof t?t=H(N(t,n),n):"object"===r(t)&&(t=H(t,n)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?s.ESCAPE:a.ESCAPE,k)},e.unescapeComponent=V,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){"use strict";e.exports=function(e){for(var t,n=0,r=e.length,i=0;i<r;)n++,(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<r&&56320==(64512&(t=e.charCodeAt(i)))&&i++;return n}},function(e,t,n){"use strict";var r=e.exports=function(e,t,n){"function"==typeof t&&(n=t,t={}),function e(t,n,i,o,a,s,l,u,c,f){if(o&&"object"==typeof o&&!Array.isArray(o)){for(var d in n(o,a,s,l,u,c,f),o){var h=o[d];if(Array.isArray(h)){if(d in r.arrayKeywords)for(var p=0;p<h.length;p++)e(t,n,i,h[p],a+"/"+d+"/"+p,s,a,d,o,p)}else if(d in r.propsKeywords){if(h&&"object"==typeof h)for(var m in h)e(t,n,i,h[m],a+"/"+d+"/"+m.replace(/~/g,"~0").replace(/\//g,"~1"),s,a,d,o,m)}else(d in r.keywords||t.allKeys&&!(d in r.skipKeywords))&&e(t,n,i,h,a+"/"+d,s,a,d,o)}i(o,a,s,l,u,c,f)}}(t,"function"==typeof(n=t.cb||n)?n:n.pre||function(){},n.post||function(){},e,"",e)};r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},function(e,t,n){"use strict";var r=e.exports=function(){this._cache={}};r.prototype.put=function(e,t){this._cache[e]=t},r.prototype.get=function(e){return this._cache[e]},r.prototype.del=function(e){delete this._cache[e]},r.prototype.clear=function(){this._cache={}}},function(e,t,n){"use strict";var r=n(113),i=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,o=[0,31,28,31,30,31,30,31,31,30,31,30,31],a=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d:\d\d)?$/i,s=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,l=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,u=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,c=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,f=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,d=/^(?:\/(?:[^~/]|~0|~1)*)*$/,h=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,p=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;function m(e){return e="full"==e?"full":"fast",r.copy(m[e])}function v(e){var t=e.match(i);if(!t)return!1;var n=+t[1],r=+t[2],a=+t[3];return r>=1&&r<=12&&a>=1&&a<=(2==r&&function(e){return e%4===0&&(e%100!==0||e%400===0)}(n)?29:o[r])}function g(e,t){var n=e.match(a);if(!n)return!1;var r=n[1],i=n[2],o=n[3],s=n[5];return(r<=23&&i<=59&&o<=59||23==r&&59==i&&60==o)&&(!t||s)}e.exports=m,m.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)$/i,uri:/^(?:[a-z][a-z0-9+-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":u,url:c,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:s,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:x,uuid:f,"json-pointer":d,"json-pointer-uri-fragment":h,"relative-json-pointer":p},m.full={date:v,time:g,"date-time":function(e){var t=e.split(y);return 2==t.length&&v(t[0])&&g(t[1],!0)},uri:function(e){return b.test(e)&&l.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":u,url:c,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:function(e){return e.length<=255&&s.test(e)},ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:x,uuid:f,"json-pointer":d,"json-pointer-uri-fragment":h,"relative-json-pointer":p};var y=/t|\s/i,b=/\/|:/,_=/[^\\]\\Z/;function x(e){if(_.test(e))return!1;try{return new RegExp(e),!0}catch(t){return!1}}},function(e,t,n){"use strict";var r=n(701),i=n(113).toHash;e.exports=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"];return e.all=i(t),e.types=i(["number","integer","string","array","object","boolean","null"]),e.forEach((function(n){n.rules=n.rules.map((function(n){var i;if("object"==typeof n){var o=Object.keys(n)[0];i=n[o],n=o,i.forEach((function(n){t.push(n),e.all[n]=!0}))}return t.push(n),e.all[n]={keyword:n,code:r[n],implements:i}})),e.all.$comment={keyword:"$comment",code:r.$comment},n.type&&(e.types[n.type]=n)})),e.keywords=i(t.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),e.custom={},e}},function(e,t,n){"use strict";e.exports={$ref:n(702),allOf:n(703),anyOf:n(704),$comment:n(705),const:n(706),contains:n(707),dependencies:n(708),enum:n(709),format:n(710),if:n(711),items:n(712),maximum:n(380),minimum:n(380),maxItems:n(381),minItems:n(381),maxLength:n(382),minLength:n(382),maxProperties:n(383),minProperties:n(383),multipleOf:n(713),not:n(714),oneOf:n(715),pattern:n(716),properties:n(717),propertyNames:n(718),required:n(719),uniqueItems:n(720),validate:n(379)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i,o=" ",a=e.level,s=e.dataLevel,l=e.schema[t],u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(s||""),d="valid"+a;if("#"==l||"#/"==l)e.isRoot?(r=e.async,i="validate"):(r=!0===e.root.schema.$async,i="root.refVal[0]");else{var h=e.resolveRef(e.baseId,l,e.isRoot);if(void 0===h){var p=e.MissingRefError.message(e.baseId,l);if("fail"==e.opts.missingRefs){e.logger.error(p),(y=y||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { ref: '"+e.util.escapeQuotes(l)+"' } ",!1!==e.opts.messages&&(o+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(l)+"' "),e.opts.verbose&&(o+=" , schema: "+e.util.toQuotedString(l)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),o+=" } "):o+=" {} ";var m=o;o=y.pop(),!e.compositeRule&&c?e.async?o+=" throw new ValidationError(["+m+"]); ":o+=" validate.errors = ["+m+"]; return false; ":o+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(o+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,l,p);e.logger.warn(p),c&&(o+=" if (true) { ")}}else if(h.inline){var v=e.util.copy(e);v.level++;var g="valid"+v.level;v.schema=h.schema,v.schemaPath="",v.errSchemaPath=l,o+=" "+e.validate(v).replace(/validate\.schema/g,h.code)+" ",c&&(o+=" if ("+g+") { ")}else r=!0===h.$async||e.async&&!1!==h.$async,i=h.code}if(i){var y;(y=y||[]).push(o),o="",e.opts.passContext?o+=" "+i+".call(this, ":o+=" "+i+"( ",o+=" "+f+", (dataPath || '')",'""'!=e.errorPath&&(o+=" + "+e.errorPath);var b=o+=" , "+(s?"data"+(s-1||""):"parentData")+" , "+(s?e.dataPathArr[s]:"parentDataProperty")+", rootData)  ";if(o=y.pop(),r){if(!e.async)throw new Error("async schema referenced by sync schema");c&&(o+=" var "+d+"; "),o+=" try { await "+b+"; ",c&&(o+=" "+d+" = true; "),o+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",c&&(o+=" "+d+" = false; "),o+=" } ",c&&(o+=" if ("+d+") { ")}else o+=" if (!"+b+") { if (vErrors === null) vErrors = "+i+".errors; else vErrors = vErrors.concat("+i+".errors); errors = vErrors.length; } ",c&&(o+=" else { ")}return o}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.schema[t],o=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,s=!e.opts.allErrors,l=e.util.copy(e),u="";l.level++;var c="valid"+l.level,f=l.baseId,d=!0,h=i;if(h)for(var p,m=-1,v=h.length-1;m<v;)p=h[m+=1],e.util.schemaHasRules(p,e.RULES.all)&&(d=!1,l.schema=p,l.schemaPath=o+"["+m+"]",l.errSchemaPath=a+"/"+m,r+="  "+e.validate(l)+" ",l.baseId=f,s&&(r+=" if ("+c+") { ",u+="}"));return s&&(r+=d?" if (true) { ":" "+u.slice(0,-1)+" "),r=e.util.cleanUpCode(r)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),f="valid"+i,d="errs__"+i,h=e.util.copy(e),p="";h.level++;var m="valid"+h.level;if(a.every((function(t){return e.util.schemaHasRules(t,e.RULES.all)}))){var v=h.baseId;r+=" var "+d+" = errors; var "+f+" = false;  ";var g=e.compositeRule;e.compositeRule=h.compositeRule=!0;var y=a;if(y)for(var b,_=-1,x=y.length-1;_<x;)b=y[_+=1],h.schema=b,h.schemaPath=s+"["+_+"]",h.errSchemaPath=l+"/"+_,r+="  "+e.validate(h)+" ",h.baseId=v,r+=" "+f+" = "+f+" || "+m+"; if (!"+f+") { ",p+="}";e.compositeRule=h.compositeRule=g,r+=" "+p+" if (!"+f+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" } else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } "),r=e.util.cleanUpCode(r)}else u&&(r+=" if (true) { ");return r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.schema[t],o=e.errSchemaPath+"/"+t,a=(e.opts.allErrors,e.util.toQuotedString(i));return!0===e.opts.$comment?r+=" console.log("+a+");":"function"==typeof e.opts.$comment&&(r+=" self._opts.$comment("+a+", "+e.util.toQuotedString(o)+", validate.root.schema);"),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),f="valid"+i,d=e.opts.$data&&a&&a.$data;d&&(r+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; "),d||(r+=" var schema"+i+" = validate.schema"+s+";"),r+="var "+f+" = equal("+c+", schema"+i+"); if (!"+f+") {   ";var h=h||[];h.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { allowedValue: schema"+i+" } ",!1!==e.opts.messages&&(r+=" , message: 'should be equal to constant' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var p=r;return r=h.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+p+"]); ":r+=" validate.errors = ["+p+"]; return false; ":r+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",u&&(r+=" else { "),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),f="valid"+i,d="errs__"+i,h=e.util.copy(e);h.level++;var p="valid"+h.level,m="i"+i,v=h.dataLevel=e.dataLevel+1,g="data"+v,y=e.baseId,b=e.util.schemaHasRules(a,e.RULES.all);if(r+="var "+d+" = errors;var "+f+";",b){var _=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.schema=a,h.schemaPath=s,h.errSchemaPath=l,r+=" var "+p+" = false; for (var "+m+" = 0; "+m+" < "+c+".length; "+m+"++) { ",h.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);var x=c+"["+m+"]";h.dataPathArr[v]=m;var w=e.validate(h);h.baseId=y,e.util.varOccurences(w,g)<2?r+=" "+e.util.varReplace(w,g,x)+" ":r+=" var "+g+" = "+x+"; "+w+" ",r+=" if ("+p+") break; }  ",e.compositeRule=h.compositeRule=_,r+="  if (!"+p+") {"}else r+=" if ("+c+".length == 0) {";var E=E||[];E.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should contain a valid item' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var T=r;return r=E.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+T+"]); ":r+=" validate.errors = ["+T+"]; return false; ":r+=" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { ",b&&(r+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } "),e.opts.allErrors&&(r+=" } "),r=e.util.cleanUpCode(r)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),f="errs__"+i,d=e.util.copy(e),h="";d.level++;var p="valid"+d.level,m={},v={},g=e.opts.ownProperties;for(x in a){var y=a[x],b=Array.isArray(y)?v:m;b[x]=y}r+="var "+f+" = errors;";var _=e.errorPath;for(var x in r+="var missing"+i+";",v)if((b=v[x]).length){if(r+=" if ( "+c+e.util.getProperty(x)+" !== undefined ",g&&(r+=" && Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(x)+"') "),u){r+=" && ( ";var w=b;if(w)for(var E=-1,T=w.length-1;E<T;)M=w[E+=1],E&&(r+=" || "),r+=" ( ( "+(N=c+(D=e.util.getProperty(M)))+" === undefined ",g&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(M)+"') "),r+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?M:D)+") ) ";r+=")) {  ";var S="missing"+i,k="' + "+S+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(_,S,!0):_+" + "+S);var O=O||[];O.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(x)+"', missingProperty: '"+k+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should have ",1==b.length?r+="property "+e.util.escapeQuotes(b[0]):r+="properties "+e.util.escapeQuotes(b.join(", ")),r+=" when property "+e.util.escapeQuotes(x)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var C=r;r=O.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+C+"]); ":r+=" validate.errors = ["+C+"]; return false; ":r+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{r+=" ) { ";var A=b;if(A)for(var M,P=-1,I=A.length-1;P<I;){M=A[P+=1];var D=e.util.getProperty(M),N=(k=e.util.escapeQuotes(M),c+D);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(_,M,e.opts.jsonPointers)),r+=" if ( "+N+" === undefined ",g&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(M)+"') "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(x)+"', missingProperty: '"+k+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should have ",1==b.length?r+="property "+e.util.escapeQuotes(b[0]):r+="properties "+e.util.escapeQuotes(b.join(", ")),r+=" when property "+e.util.escapeQuotes(x)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r+=" }   ",u&&(h+="}",r+=" else { ")}e.errorPath=_;var R=d.baseId;for(var x in m)y=m[x],e.util.schemaHasRules(y,e.RULES.all)&&(r+=" "+p+" = true; if ( "+c+e.util.getProperty(x)+" !== undefined ",g&&(r+=" && Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(x)+"') "),r+=") { ",d.schema=y,d.schemaPath=s+e.util.getProperty(x),d.errSchemaPath=l+"/"+e.util.escapeFragment(x),r+="  "+e.validate(d)+" ",d.baseId=R,r+=" }  ",u&&(r+=" if ("+p+") { ",h+="}"));return u&&(r+="   "+h+" if ("+f+" == errors) {"),r=e.util.cleanUpCode(r)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),f="valid"+i,d=e.opts.$data&&a&&a.$data;d&&(r+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ");var h="i"+i,p="schema"+i;d||(r+=" var "+p+" = validate.schema"+s+";"),r+="var "+f+";",d&&(r+=" if (schema"+i+" === undefined) "+f+" = true; else if (!Array.isArray(schema"+i+")) "+f+" = false; else {"),r+=f+" = false;for (var "+h+"=0; "+h+"<"+p+".length; "+h+"++) if (equal("+c+", "+p+"["+h+"])) { "+f+" = true; break; }",d&&(r+="  }  "),r+=" if (!"+f+") {   ";var m=m||[];m.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { allowedValues: schema"+i+" } ",!1!==e.opts.messages&&(r+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var v=r;return r=m.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+v+"]); ":r+=" validate.errors = ["+v+"]; return false; ":r+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",u&&(r+=" else { "),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||"");if(!1===e.opts.format)return u&&(r+=" if (true) { "),r;var f,d=e.opts.$data&&a&&a.$data;d?(r+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ",f="schema"+i):f=a;var h=e.opts.unknownFormats,p=Array.isArray(h);if(d)r+=" var "+(m="format"+i)+" = formats["+f+"]; var "+(v="isObject"+i)+" = typeof "+m+" == 'object' && !("+m+" instanceof RegExp) && "+m+".validate; var "+(g="formatType"+i)+" = "+v+" && "+m+".type || 'string'; if ("+v+") { ",e.async&&(r+=" var async"+i+" = "+m+".async; "),r+=" "+m+" = "+m+".validate; } if (  ",d&&(r+=" ("+f+" !== undefined && typeof "+f+" != 'string') || "),r+=" (","ignore"!=h&&(r+=" ("+f+" && !"+m+" ",p&&(r+=" && self._opts.unknownFormats.indexOf("+f+") == -1 "),r+=") || "),r+=" ("+m+" && "+g+" == '"+n+"' && !(typeof "+m+" == 'function' ? ",e.async?r+=" (async"+i+" ? await "+m+"("+c+") : "+m+"("+c+")) ":r+=" "+m+"("+c+") ",r+=" : "+m+".test("+c+"))))) {";else{var m;if(!(m=e.formats[a])){if("ignore"==h)return e.logger.warn('unknown format "'+a+'" ignored in schema at path "'+e.errSchemaPath+'"'),u&&(r+=" if (true) { "),r;if(p&&h.indexOf(a)>=0)return u&&(r+=" if (true) { "),r;throw new Error('unknown format "'+a+'" is used in schema at path "'+e.errSchemaPath+'"')}var v,g=(v="object"==typeof m&&!(m instanceof RegExp)&&m.validate)&&m.type||"string";if(v){var y=!0===m.async;m=m.validate}if(g!=n)return u&&(r+=" if (true) { "),r;if(y){if(!e.async)throw new Error("async format in sync schema");r+=" if (!(await "+(b="formats"+e.util.getProperty(a)+".validate")+"("+c+"))) { "}else{r+=" if (! ";var b="formats"+e.util.getProperty(a);v&&(b+=".validate"),r+="function"==typeof m?" "+b+"("+c+") ":" "+b+".test("+c+") ",r+=") { "}}var _=_||[];_.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { format:  ",r+=d?""+f:""+e.util.toQuotedString(a),r+="  } ",!1!==e.opts.messages&&(r+=" , message: 'should match format \"",r+=d?"' + "+f+" + '":""+e.util.escapeQuotes(a),r+="\"' "),e.opts.verbose&&(r+=" , schema:  ",r+=d?"validate.schema"+s:""+e.util.toQuotedString(a),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var x=r;return r=_.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+x+"]); ":r+=" validate.errors = ["+x+"]; return false; ":r+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",u&&(r+=" else { "),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),f="valid"+i,d="errs__"+i,h=e.util.copy(e);h.level++;var p="valid"+h.level,m=e.schema.then,v=e.schema.else,g=void 0!==m&&e.util.schemaHasRules(m,e.RULES.all),y=void 0!==v&&e.util.schemaHasRules(v,e.RULES.all),b=h.baseId;if(g||y){var _;h.createErrors=!1,h.schema=a,h.schemaPath=s,h.errSchemaPath=l,r+=" var "+d+" = errors; var "+f+" = true;  ";var x=e.compositeRule;e.compositeRule=h.compositeRule=!0,r+="  "+e.validate(h)+" ",h.baseId=b,h.createErrors=!0,r+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }  ",e.compositeRule=h.compositeRule=x,g?(r+=" if ("+p+") {  ",h.schema=e.schema.then,h.schemaPath=e.schemaPath+".then",h.errSchemaPath=e.errSchemaPath+"/then",r+="  "+e.validate(h)+" ",h.baseId=b,r+=" "+f+" = "+p+"; ",g&&y?r+=" var "+(_="ifClause"+i)+" = 'then'; ":_="'then'",r+=" } ",y&&(r+=" else { ")):r+=" if (!"+p+") { ",y&&(h.schema=e.schema.else,h.schemaPath=e.schemaPath+".else",h.errSchemaPath=e.errSchemaPath+"/else",r+="  "+e.validate(h)+" ",h.baseId=b,r+=" "+f+" = "+p+"; ",g&&y?r+=" var "+(_="ifClause"+i)+" = 'else'; ":_="'else'",r+=" } "),r+=" if (!"+f+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { failingKeyword: "+_+" } ",!1!==e.opts.messages&&(r+=" , message: 'should match \"' + "+_+" + '\" schema' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" }   ",u&&(r+=" else { "),r=e.util.cleanUpCode(r)}else u&&(r+=" if (true) { ");return r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),f="valid"+i,d="errs__"+i,h=e.util.copy(e),p="";h.level++;var m="valid"+h.level,v="i"+i,g=h.dataLevel=e.dataLevel+1,y="data"+g,b=e.baseId;if(r+="var "+d+" = errors;var "+f+";",Array.isArray(a)){var _=e.schema.additionalItems;if(!1===_){r+=" "+f+" = "+c+".length <= "+a.length+"; ";var x=l;l=e.errSchemaPath+"/additionalItems",r+="  if (!"+f+") {   ";var w=w||[];w.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+a.length+" } ",!1!==e.opts.messages&&(r+=" , message: 'should NOT have more than "+a.length+" items' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var E=r;r=w.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+E+"]); ":r+=" validate.errors = ["+E+"]; return false; ":r+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",l=x,u&&(p+="}",r+=" else { ")}var T=a;if(T)for(var S,k=-1,O=T.length-1;k<O;)if(S=T[k+=1],e.util.schemaHasRules(S,e.RULES.all)){r+=" "+m+" = true; if ("+c+".length > "+k+") { ";var C=c+"["+k+"]";h.schema=S,h.schemaPath=s+"["+k+"]",h.errSchemaPath=l+"/"+k,h.errorPath=e.util.getPathExpr(e.errorPath,k,e.opts.jsonPointers,!0),h.dataPathArr[g]=k;var A=e.validate(h);h.baseId=b,e.util.varOccurences(A,y)<2?r+=" "+e.util.varReplace(A,y,C)+" ":r+=" var "+y+" = "+C+"; "+A+" ",r+=" }  ",u&&(r+=" if ("+m+") { ",p+="}")}"object"==typeof _&&e.util.schemaHasRules(_,e.RULES.all)&&(h.schema=_,h.schemaPath=e.schemaPath+".additionalItems",h.errSchemaPath=e.errSchemaPath+"/additionalItems",r+=" "+m+" = true; if ("+c+".length > "+a.length+") {  for (var "+v+" = "+a.length+"; "+v+" < "+c+".length; "+v+"++) { ",h.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0),C=c+"["+v+"]",h.dataPathArr[g]=v,A=e.validate(h),h.baseId=b,e.util.varOccurences(A,y)<2?r+=" "+e.util.varReplace(A,y,C)+" ":r+=" var "+y+" = "+C+"; "+A+" ",u&&(r+=" if (!"+m+") break; "),r+=" } }  ",u&&(r+=" if ("+m+") { ",p+="}"))}else e.util.schemaHasRules(a,e.RULES.all)&&(h.schema=a,h.schemaPath=s,h.errSchemaPath=l,r+="  for (var "+v+" = 0; "+v+" < "+c+".length; "+v+"++) { ",h.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0),C=c+"["+v+"]",h.dataPathArr[g]=v,A=e.validate(h),h.baseId=b,e.util.varOccurences(A,y)<2?r+=" "+e.util.varReplace(A,y,C)+" ":r+=" var "+y+" = "+C+"; "+A+" ",u&&(r+=" if (!"+m+") break; "),r+=" }");return u&&(r+=" "+p+" if ("+d+" == errors) {"),r=e.util.cleanUpCode(r)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(a||""),d=e.opts.$data&&s&&s.$data;d?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s,i+="var division"+o+";if (",d&&(i+=" "+r+" !== undefined && ( typeof "+r+" != 'number' || "),i+=" (division"+o+" = "+f+" / "+r+", ",e.opts.multipleOfPrecision?i+=" Math.abs(Math.round(division"+o+") - division"+o+") > 1e-"+e.opts.multipleOfPrecision+" ":i+=" division"+o+" !== parseInt(division"+o+") ",i+=" ) ",d&&(i+="  )  "),i+=" ) {   ";var h=h||[];h.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { multipleOf: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be multiple of ",i+=d?"' + "+r:r+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var p=i;return i=h.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+p+"]); ":i+=" validate.errors = ["+p+"]; return false; ":i+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),f="errs__"+i,d=e.util.copy(e);d.level++;var h="valid"+d.level;if(e.util.schemaHasRules(a,e.RULES.all)){d.schema=a,d.schemaPath=s,d.errSchemaPath=l,r+=" var "+f+" = errors;  ";var p,m=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.createErrors=!1,d.opts.allErrors&&(p=d.opts.allErrors,d.opts.allErrors=!1),r+=" "+e.validate(d)+" ",d.createErrors=!0,p&&(d.opts.allErrors=p),e.compositeRule=d.compositeRule=m,r+=" if ("+h+") {   ";var v=v||[];v.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var g=r;r=v.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else r+="  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(r+=" if (false) { ");return r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),f="valid"+i,d="errs__"+i,h=e.util.copy(e),p="";h.level++;var m="valid"+h.level,v=h.baseId,g="prevValid"+i,y="passingSchemas"+i;r+="var "+d+" = errors , "+g+" = false , "+f+" = false , "+y+" = null; ";var b=e.compositeRule;e.compositeRule=h.compositeRule=!0;var _=a;if(_)for(var x,w=-1,E=_.length-1;w<E;)x=_[w+=1],e.util.schemaHasRules(x,e.RULES.all)?(h.schema=x,h.schemaPath=s+"["+w+"]",h.errSchemaPath=l+"/"+w,r+="  "+e.validate(h)+" ",h.baseId=v):r+=" var "+m+" = true; ",w&&(r+=" if ("+m+" && "+g+") { "+f+" = false; "+y+" = ["+y+", "+w+"]; } else { ",p+="}"),r+=" if ("+m+") { "+f+" = "+g+" = true; "+y+" = "+w+"; }";return e.compositeRule=h.compositeRule=b,r+=p+"if (!"+f+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { passingSchemas: "+y+" } ",!1!==e.opts.messages&&(r+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+="} else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }",e.opts.allErrors&&(r+=" } "),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(a||""),d=e.opts.$data&&s&&s.$data;d?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s,i+="if ( ",d&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'string') || "),i+=" !"+(d?"(new RegExp("+r+"))":e.usePattern(s))+".test("+f+") ) {   ";var h=h||[];h.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { pattern:  ",i+=d?""+r:""+e.util.toQuotedString(s),i+="  } ",!1!==e.opts.messages&&(i+=" , message: 'should match pattern \"",i+=d?"' + "+r+" + '":""+e.util.escapeQuotes(s),i+="\"' "),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+l:""+e.util.toQuotedString(s),i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var p=i;return i=h.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+p+"]); ":i+=" validate.errors = ["+p+"]; return false; ":i+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),f="errs__"+i,d=e.util.copy(e),h="";d.level++;var p="valid"+d.level,m="key"+i,v="idx"+i,g=d.dataLevel=e.dataLevel+1,y="data"+g,b="dataProperties"+i,_=Object.keys(a||{}),x=e.schema.patternProperties||{},w=Object.keys(x),E=e.schema.additionalProperties,T=_.length||w.length,S=!1===E,k="object"==typeof E&&Object.keys(E).length,O=e.opts.removeAdditional,C=S||k||O,A=e.opts.ownProperties,M=e.baseId,P=e.schema.required;if(P&&(!e.opts.$data||!P.$data)&&P.length<e.opts.loopRequired)var I=e.util.toHash(P);if(r+="var "+f+" = errors;var "+p+" = true;",A&&(r+=" var "+b+" = undefined;"),C){if(r+=A?" "+b+" = "+b+" || Object.keys("+c+"); for (var "+v+"=0; "+v+"<"+b+".length; "+v+"++) { var "+m+" = "+b+"["+v+"]; ":" for (var "+m+" in "+c+") { ",T){if(r+=" var isAdditional"+i+" = !(false ",_.length)if(_.length>8)r+=" || validate.schema"+s+".hasOwnProperty("+m+") ";else{var D=_;if(D)for(var N=-1,R=D.length-1;N<R;)X=D[N+=1],r+=" || "+m+" == "+e.util.toQuotedString(X)+" "}if(w.length){var L=w;if(L)for(var j=-1,F=L.length-1;j<F;)ie=L[j+=1],r+=" || "+e.usePattern(ie)+".test("+m+") "}r+=" ); if (isAdditional"+i+") { "}if("all"==O)r+=" delete "+c+"["+m+"]; ";else{var B=e.errorPath,z="' + "+m+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers)),S)if(O)r+=" delete "+c+"["+m+"]; ";else{r+=" "+p+" = false; ";var H=l;l=e.errSchemaPath+"/additionalProperties",(te=te||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { additionalProperty: '"+z+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is an invalid additional property":r+="should NOT have additional properties",r+="' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var U=r;r=te.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+U+"]); ":r+=" validate.errors = ["+U+"]; return false; ":r+=" var err = "+U+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=H,u&&(r+=" break; ")}else if(k)if("failing"==O){r+=" var "+f+" = errors;  ";var V=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.schema=E,d.schemaPath=e.schemaPath+".additionalProperties",d.errSchemaPath=e.errSchemaPath+"/additionalProperties",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);var G=c+"["+m+"]";d.dataPathArr[g]=m;var W=e.validate(d);d.baseId=M,e.util.varOccurences(W,y)<2?r+=" "+e.util.varReplace(W,y,G)+" ":r+=" var "+y+" = "+G+"; "+W+" ",r+=" if (!"+p+") { errors = "+f+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+c+"["+m+"]; }  ",e.compositeRule=d.compositeRule=V}else d.schema=E,d.schemaPath=e.schemaPath+".additionalProperties",d.errSchemaPath=e.errSchemaPath+"/additionalProperties",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers),G=c+"["+m+"]",d.dataPathArr[g]=m,W=e.validate(d),d.baseId=M,e.util.varOccurences(W,y)<2?r+=" "+e.util.varReplace(W,y,G)+" ":r+=" var "+y+" = "+G+"; "+W+" ",u&&(r+=" if (!"+p+") break; ");e.errorPath=B}T&&(r+=" } "),r+=" }  ",u&&(r+=" if ("+p+") { ",h+="}")}var q=e.opts.useDefaults&&!e.compositeRule;if(_.length){var Y=_;if(Y)for(var X,$=-1,K=Y.length-1;$<K;){var Z=a[X=Y[$+=1]];if(e.util.schemaHasRules(Z,e.RULES.all)){var Q=e.util.getProperty(X),J=(G=c+Q,q&&void 0!==Z.default);if(d.schema=Z,d.schemaPath=s+Q,d.errSchemaPath=l+"/"+e.util.escapeFragment(X),d.errorPath=e.util.getPath(e.errorPath,X,e.opts.jsonPointers),d.dataPathArr[g]=e.util.toQuotedString(X),W=e.validate(d),d.baseId=M,e.util.varOccurences(W,y)<2){W=e.util.varReplace(W,y,G);var ee=G}else ee=y,r+=" var "+y+" = "+G+"; ";if(J)r+=" "+W+" ";else{if(I&&I[X]){r+=" if ( "+ee+" === undefined ",A&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(X)+"') "),r+=") { "+p+" = false; ",B=e.errorPath,H=l;var te,ne=e.util.escapeQuotes(X);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(B,X,e.opts.jsonPointers)),l=e.errSchemaPath+"/required",(te=te||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+ne+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+ne+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",U=r,r=te.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+U+"]); ":r+=" validate.errors = ["+U+"]; return false; ":r+=" var err = "+U+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=H,e.errorPath=B,r+=" } else { "}else u?(r+=" if ( "+ee+" === undefined ",A&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(X)+"') "),r+=") { "+p+" = true; } else { "):(r+=" if ("+ee+" !== undefined ",A&&(r+=" &&   Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(X)+"') "),r+=" ) { ");r+=" "+W+" } "}}u&&(r+=" if ("+p+") { ",h+="}")}}if(w.length){var re=w;if(re)for(var ie,oe=-1,ae=re.length-1;oe<ae;)Z=x[ie=re[oe+=1]],e.util.schemaHasRules(Z,e.RULES.all)&&(d.schema=Z,d.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(ie),d.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(ie),r+=A?" "+b+" = "+b+" || Object.keys("+c+"); for (var "+v+"=0; "+v+"<"+b+".length; "+v+"++) { var "+m+" = "+b+"["+v+"]; ":" for (var "+m+" in "+c+") { ",r+=" if ("+e.usePattern(ie)+".test("+m+")) { ",d.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers),G=c+"["+m+"]",d.dataPathArr[g]=m,W=e.validate(d),d.baseId=M,e.util.varOccurences(W,y)<2?r+=" "+e.util.varReplace(W,y,G)+" ":r+=" var "+y+" = "+G+"; "+W+" ",u&&(r+=" if (!"+p+") break; "),r+=" } ",u&&(r+=" else "+p+" = true; "),r+=" }  ",u&&(r+=" if ("+p+") { ",h+="}"))}return u&&(r+=" "+h+" if ("+f+" == errors) {"),r=e.util.cleanUpCode(r)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),f="errs__"+i,d=e.util.copy(e);d.level++;var h="valid"+d.level;if(r+="var "+f+" = errors;",e.util.schemaHasRules(a,e.RULES.all)){d.schema=a,d.schemaPath=s,d.errSchemaPath=l;var p="key"+i,m="idx"+i,v="i"+i,g="' + "+p+" + '",y="data"+(d.dataLevel=e.dataLevel+1),b="dataProperties"+i,_=e.opts.ownProperties,x=e.baseId;_&&(r+=" var "+b+" = undefined; "),r+=_?" "+b+" = "+b+" || Object.keys("+c+"); for (var "+m+"=0; "+m+"<"+b+".length; "+m+"++) { var "+p+" = "+b+"["+m+"]; ":" for (var "+p+" in "+c+") { ",r+=" var startErrs"+i+" = errors; ";var w=p,E=e.compositeRule;e.compositeRule=d.compositeRule=!0;var T=e.validate(d);d.baseId=x,e.util.varOccurences(T,y)<2?r+=" "+e.util.varReplace(T,y,w)+" ":r+=" var "+y+" = "+w+"; "+T+" ",e.compositeRule=d.compositeRule=E,r+=" if (!"+h+") { for (var "+v+"=startErrs"+i+"; "+v+"<errors; "+v+"++) { vErrors["+v+"].propertyName = "+p+"; }   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { propertyName: '"+g+"' } ",!1!==e.opts.messages&&(r+=" , message: 'property name \\'"+g+"\\' is invalid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),u&&(r+=" break; "),r+=" } }"}return u&&(r+="  if ("+f+" == errors) {"),r=e.util.cleanUpCode(r)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),f="valid"+i,d=e.opts.$data&&a&&a.$data;d&&(r+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ");var h="schema"+i;if(!d)if(a.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var p=[],m=a;if(m)for(var v,g=-1,y=m.length-1;g<y;){v=m[g+=1];var b=e.schema.properties[v];b&&e.util.schemaHasRules(b,e.RULES.all)||(p[p.length]=v)}}else p=a;if(d||p.length){var _=e.errorPath,x=d||p.length>=e.opts.loopRequired,w=e.opts.ownProperties;if(u)if(r+=" var missing"+i+"; ",x){d||(r+=" var "+h+" = validate.schema"+s+"; ");var E="' + "+(A="schema"+i+"["+(O="i"+i)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(_,A,e.opts.jsonPointers)),r+=" var "+f+" = true; ",d&&(r+=" if (schema"+i+" === undefined) "+f+" = true; else if (!Array.isArray(schema"+i+")) "+f+" = false; else {"),r+=" for (var "+O+" = 0; "+O+" < "+h+".length; "+O+"++) { "+f+" = "+c+"["+h+"["+O+"]] !== undefined ",w&&(r+=" &&   Object.prototype.hasOwnProperty.call("+c+", "+h+"["+O+"]) "),r+="; if (!"+f+") break; } ",d&&(r+="  }  "),r+="  if (!"+f+") {   ",(S=S||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+E+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+E+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var T=r;r=S.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+T+"]); ":r+=" validate.errors = ["+T+"]; return false; ":r+=" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else{r+=" if ( ";var S,k=p;if(k)for(var O=-1,C=k.length-1;O<C;)P=k[O+=1],O&&(r+=" || "),r+=" ( ( "+(R=c+(N=e.util.getProperty(P)))+" === undefined ",w&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(P)+"') "),r+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?P:N)+") ) ";r+=") {  ",E="' + "+(A="missing"+i)+" + '",e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(_,A,!0):_+" + "+A),(S=S||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+E+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+E+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",T=r,r=S.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+T+"]); ":r+=" validate.errors = ["+T+"]; return false; ":r+=" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else if(x){var A;d||(r+=" var "+h+" = validate.schema"+s+"; "),E="' + "+(A="schema"+i+"["+(O="i"+i)+"]")+" + '",e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(_,A,e.opts.jsonPointers)),d&&(r+=" if ("+h+" && !Array.isArray("+h+")) {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+E+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+E+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+h+" !== undefined) { "),r+=" for (var "+O+" = 0; "+O+" < "+h+".length; "+O+"++) { if ("+c+"["+h+"["+O+"]] === undefined ",w&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", "+h+"["+O+"]) "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+E+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+E+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",d&&(r+="  }  ")}else{var M=p;if(M)for(var P,I=-1,D=M.length-1;I<D;){P=M[I+=1];var N=e.util.getProperty(P),R=(E=e.util.escapeQuotes(P),c+N);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(_,P,e.opts.jsonPointers)),r+=" if ( "+R+" === undefined ",w&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(P)+"') "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+E+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+E+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=_}else u&&(r+=" if (true) {");return r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(a||""),d="valid"+o,h=e.opts.$data&&s&&s.$data;if(h?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s,(s||h)&&!1!==e.opts.uniqueItems){h&&(i+=" var "+d+"; if ("+r+" === false || "+r+" === undefined) "+d+" = true; else if (typeof "+r+" != 'boolean') "+d+" = false; else { "),i+=" var i = "+f+".length , "+d+" = true , j; if (i > 1) { ";var p=e.schema.items&&e.schema.items.type,m=Array.isArray(p);if(!p||"object"==p||"array"==p||m&&(p.indexOf("object")>=0||p.indexOf("array")>=0))i+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+f+"[i], "+f+"[j])) { "+d+" = false; break outer; } } } ";else{i+=" var itemIndices = {}, item; for (;i--;) { var item = "+f+"[i]; ";var v="checkDataType"+(m?"s":"");i+=" if ("+e.util[v](p,"item",!0)+") continue; ",m&&(i+=" if (typeof item == 'string') item = '\"' + item; "),i+=" if (typeof itemIndices[item] == 'number') { "+d+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}i+=" } ",h&&(i+="  }  "),i+=" if (!"+d+") {   ";var g=g||[];g.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var y=i;i=g.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+y+"]); ":i+=" validate.errors = ["+y+"]; return false; ":i+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",c&&(i+=" else { ")}else c&&(i+=" if (true) { ");return i}},function(e,t,n){"use strict";var r=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];e.exports=function(e,t){for(var n=0;n<t.length;n++){e=JSON.parse(JSON.stringify(e));var i,o=t[n].split("/"),a=e;for(i=1;i<o.length;i++)a=a[o[i]];for(i=0;i<r.length;i++){var s=r[i],l=a[s];l&&(a[s]={anyOf:[l,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]})}}return e}},function(e,t,n){"use strict";var r=n(261).MissingRef;e.exports=function e(t,n,i){var o=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof n&&(i=n,n=void 0);var a=s(t).then((function(){var e=o._addSchema(t,void 0,n);return e.validate||function e(t){try{return o._compile(t)}catch(a){if(a instanceof r)return i(a);throw a}function i(r){var i=r.missingSchema;if(u(i))throw new Error("Schema "+i+" is loaded but "+r.missingRef+" cannot be resolved");var a=o._loadingSchemas[i];return a||(a=o._loadingSchemas[i]=o._opts.loadSchema(i)).then(l,l),a.then((function(e){if(!u(i))return s(e).then((function(){u(i)||o.addSchema(e,i,void 0,n)}))})).then((function(){return e(t)}));function l(){delete o._loadingSchemas[i]}function u(e){return o._refs[e]||o._schemas[e]}}}(e)}));return i&&a.then((function(e){i(null,e)}),i),a;function s(t){var n=t.$schema;return n&&!o.getSchema(n)?e.call(o,{$ref:n},!0):Promise.resolve()}}},function(e,t,n){"use strict";var r=/^[a-z_$][a-z0-9_$-]*$/i,i=n(724),o=n(384);e.exports={add:function(e,t){var n=this.RULES;if(n.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!r.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){this.validateKeyword(t,!0);var o=t.type;if(Array.isArray(o))for(var a=0;a<o.length;a++)l(e,o[a],t);else l(e,o,t);var s=t.metaSchema;s&&(t.$data&&this._opts.$data&&(s={anyOf:[s,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(s,!0))}function l(e,t,r){for(var o,a=0;a<n.length;a++){var s=n[a];if(s.type==t){o=s;break}}o||(o={type:t,rules:[]},n.push(o));var l={keyword:e,definition:r,custom:!0,code:i,implements:r.implements};o.rules.push(l),n.custom[e]=l}return n.keywords[e]=n.all[e]=!0,this},get:function(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1},remove:function(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var n=0;n<t.length;n++)for(var r=t[n].rules,i=0;i<r.length;i++)if(r[i].keyword==e){r.splice(i,1);break}return this},validate:function e(t,n){e.errors=null;var r=this._validateKeyword=this._validateKeyword||this.compile(a,!0);if(r(t))return!0;if(e.errors=r.errors,n)throw new Error("custom keyword definition is invalid: "+this.errorsText(r.errors));return!1}};var a={definitions:{simpleTypes:o.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:o.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i,o=" ",a=e.level,s=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,d="data"+(s||""),h="valid"+a,p="errs__"+a,m=e.opts.$data&&l&&l.$data;m?(o+=" var schema"+a+" = "+e.util.getData(l.$data,s,e.dataPathArr)+"; ",i="schema"+a):i=l;var v,g,y,b,_,x="definition"+a,w=this.definition,E="";if(m&&w.$data){_="keywordValidate"+a;var T=w.validateSchema;o+=" var "+x+" = RULES.custom['"+t+"'].definition; var "+_+" = "+x+".validate;"}else{if(!(b=e.useCustomRule(this,l,e.schema,e)))return;i="validate.schema"+u,_=b.code,v=w.compile,g=w.inline,y=w.macro}var S=_+".errors",k="i"+a,O="ruleErr"+a,C=w.async;if(C&&!e.async)throw new Error("async keyword in sync schema");if(g||y||(o+=S+" = null;"),o+="var "+p+" = errors;var "+h+";",m&&w.$data&&(E+="}",o+=" if ("+i+" === undefined) { "+h+" = true; } else { ",T&&(E+="}",o+=" "+h+" = "+x+".validateSchema("+i+"); if ("+h+") { ")),g)w.statements?o+=" "+b.validate+" ":o+=" "+h+" = "+b.validate+"; ";else if(y){var A=e.util.copy(e);E="",A.level++;var M="valid"+A.level;A.schema=b.validate,A.schemaPath="";var P=e.compositeRule;e.compositeRule=A.compositeRule=!0;var I=e.validate(A).replace(/validate\.schema/g,_);e.compositeRule=A.compositeRule=P,o+=" "+I}else{(L=L||[]).push(o),o="",o+="  "+_+".call( ",e.opts.passContext?o+="this":o+="self",v||!1===w.schema?o+=" , "+d+" ":o+=" , "+i+" , "+d+" , validate.schema"+e.schemaPath+" ",o+=" , (dataPath || '')",'""'!=e.errorPath&&(o+=" + "+e.errorPath);var D=s?"data"+(s-1||""):"parentData",N=s?e.dataPathArr[s]:"parentDataProperty",R=o+=" , "+D+" , "+N+" , rootData )  ";o=L.pop(),!1===w.errors?(o+=" "+h+" = ",C&&(o+="await "),o+=R+"; "):o+=C?" var "+(S="customErrors"+a)+" = null; try { "+h+" = await "+R+"; } catch (e) { "+h+" = false; if (e instanceof ValidationError) "+S+" = e.errors; else throw e; } ":" "+S+" = null; "+h+" = "+R+"; "}if(w.modifying&&(o+=" if ("+D+") "+d+" = "+D+"["+N+"];"),o+=""+E,w.valid)f&&(o+=" if (true) { ");else{var L;o+=" if ( ",void 0===w.valid?(o+=" !",o+=y?""+M:""+h):o+=" "+!w.valid+" ",o+=") { ",r=this.keyword,(L=L||[]).push(o),o="",(L=L||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(o+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(o+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ";var j=o;o=L.pop(),!e.compositeRule&&f?e.async?o+=" throw new ValidationError(["+j+"]); ":o+=" validate.errors = ["+j+"]; return false; ":o+=" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var F=o;o=L.pop(),g?w.errors?"full"!=w.errors&&(o+="  for (var "+k+"="+p+"; "+k+"<errors; "+k+"++) { var "+O+" = vErrors["+k+"]; if ("+O+".dataPath === undefined) "+O+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+O+".schemaPath === undefined) { "+O+'.schemaPath = "'+c+'"; } ',e.opts.verbose&&(o+=" "+O+".schema = "+i+"; "+O+".data = "+d+"; "),o+=" } "):!1===w.errors?o+=" "+F+" ":(o+=" if ("+p+" == errors) { "+F+" } else {  for (var "+k+"="+p+"; "+k+"<errors; "+k+"++) { var "+O+" = vErrors["+k+"]; if ("+O+".dataPath === undefined) "+O+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+O+".schemaPath === undefined) { "+O+'.schemaPath = "'+c+'"; } ',e.opts.verbose&&(o+=" "+O+".schema = "+i+"; "+O+".data = "+d+"; "),o+=" } } "):y?(o+="   var err =   ",!1!==e.createErrors?(o+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(o+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(o+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ",o+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&f&&(e.async?o+=" throw new ValidationError(vErrors); ":o+=" validate.errors = vErrors; return false; ")):!1===w.errors?o+=" "+F+" ":(o+=" if (Array.isArray("+S+")) { if (vErrors === null) vErrors = "+S+"; else vErrors = vErrors.concat("+S+"); errors = vErrors.length;  for (var "+k+"="+p+"; "+k+"<errors; "+k+"++) { var "+O+" = vErrors["+k+"]; if ("+O+".dataPath === undefined) "+O+".dataPath = (dataPath || '') + "+e.errorPath+";  "+O+'.schemaPath = "'+c+'";  ',e.opts.verbose&&(o+=" "+O+".schema = "+i+"; "+O+".data = "+d+"; "),o+=" } } else { "+F+" } "),o+=" } ",f&&(o+=" else { ")}return o}},function(e){e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}},function(e,t,n){e.exports={higlass:"HiGlass-module_higlass-1NHR2","higlass-dark-theme":"HiGlass-module_higlass-dark-theme-2visd","higlass-container-overflow":"HiGlass-module_higlass-container-overflow-zNXnY","higlass-scroll-container-overflow":"HiGlass-module_higlass-scroll-container-overflow-2FS0w","higlass-scroll-container-scroll":"HiGlass-module_higlass-scroll-container-scroll-2lAU4","higlass-canvas":"HiGlass-module_higlass-canvas-_mP9r","higlass-drawing-surface":"HiGlass-module_higlass-drawing-surface-3aQQo","higlass-svg":"HiGlass-module_higlass-svg-JJZbf","tiled-area":"HiGlass-module_tiled-area-22H1L","track-mouseover-menu":"HiGlass-module_track-mouseover-menu-1AoaP"}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(5)),i=h(n(3)),o=h(n(4)),a=h(n(6)),s=h(n(7)),l=h(n(2)),u=n(9),c=h(n(1)),f=h(n(12)),d=n(818);function h(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e)),o=(0,u.rgb)(e.color);return n.state={displayColorPicker:!1,color:{r:o.r,g:o.g,b:o.b,a:o.opacity}},n}return(0,s.default)(t,e),(0,o.default)(t,[{key:"handleClick",value:function(){this.setState((function(e){return{displayColorPicker:!e.displayColorPicker}}))}},{key:"handleClose",value:function(){this.setState({displayColorPicker:!1})}},{key:"handleChange",value:function(e){var t=e.rgb,n="rgba("+String(t.r)+","+String(t.g)+","+String(t.b)+","+String(t.a)+")";this.props.onChange(n),this.setState({color:e.rgb})}},{key:"render",value:function(){var e=(0,f.default)({default:{color:{width:"36px",height:"14px",borderRadius:"2px",background:"rgba("+String(this.state.color.r)+", "+String(this.state.color.g)+", "+String(this.state.color.b)+", "+String(this.state.color.a)+")"},swatch:{padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}});return c.default.createElement("div",null,c.default.createElement("div",{onClick:this.handleClick.bind(this),style:e.swatch},c.default.createElement("div",{style:e.color})),this.state.displayColorPicker?c.default.createElement("div",{style:e.popover},c.default.createElement("div",{onClick:this.handleClose.bind(this),style:e.cover}),c.default.createElement(d.SketchPicker,{color:this.state.color,onChange:this.handleChange.bind(this)})):null)}}]),t}(c.default.Component);p.propTypes={color:l.default.string,onChange:l.default.func},t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flattenNames=void 0;var r=s(n(730)),i=s(n(262)),o=s(n(392)),a=s(n(71));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.flattenNames=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return(0,a.default)(t,(function(t){Array.isArray(t)?e(t).map((function(e){return n.push(e)})):(0,o.default)(t)?(0,i.default)(t,(function(e,t){!0===e&&n.push(t),n.push(t+"-"+e)})):(0,r.default)(t)&&n.push(t)})),n};t.default=l},function(e,t,n){var r=n(95),i=n(29),o=n(55);e.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&"[object String]"==r(e)}},function(e,t,n){var r=n(114),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(95),i=n(55);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(95),i=n(264),o=n(55),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},function(e,t,n){var r=n(182),i=n(739),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var r=n(390)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(741),i=n(780),o=n(404);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},function(e,t,n){var r=n(183),i=n(395);e.exports=function(e,t,n,o){var a=n.length,s=a,l=!o;if(null==e)return!s;for(e=Object(e);a--;){var u=n[a];if(l&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<s;){var c=(u=n[a])[0],f=e[c],d=u[1];if(l&&u[2]){if(void 0===f&&!(c in e))return!1}else{var h=new r;if(o)var p=o(f,d,c,e,t,h);if(!(void 0===p?i(d,f,3,o,h):p))return!1}}return!0}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(185),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},function(e,t,n){var r=n(185);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(185);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(185);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},function(e,t,n){var r=n(184);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(184),i=n(269),o=n(270);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(267),i=n(753),o=n(42),a=n(394),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,f=u.hasOwnProperty,d=RegExp("^"+c.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?d:s).test(a(e))}},function(e,t,n){var r=n(754),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},function(e,t,n){var r=n(37)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(757),i=n(184),o=n(269);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(e,t,n){var r=n(758),i=n(759),o=n(760),a=n(761),s=n(762);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(186);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(186),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(186),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},function(e,t,n){var r=n(186);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){var r=n(187);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(187);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(187);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(187);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},function(e,t,n){var r=n(183),i=n(396),o=n(773),a=n(776),s=n(188),l=n(29),u=n(181),c=n(263),f="[object Object]",d=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,h,p,m){var v=l(e),g=l(t),y=v?"[object Array]":s(e),b=g?"[object Array]":s(t),_=(y="[object Arguments]"==y?f:y)==f,x=(b="[object Arguments]"==b?f:b)==f,w=y==b;if(w&&u(e)){if(!u(t))return!1;v=!0,_=!1}if(w&&!_)return m||(m=new r),v||c(e)?i(e,t,n,h,p,m):o(e,t,y,n,h,p,m);if(!(1&n)){var E=_&&d.call(e,"__wrapped__"),T=x&&d.call(t,"__wrapped__");if(E||T){var S=E?e.value():e,k=T?t.value():t;return m||(m=new r),p(S,k,n,h,m)}}return!!w&&(m||(m=new r),a(e,t,n,h,p,m))}},function(e,t,n){var r=n(270),i=n(770),o=n(771);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var r=n(114),i=n(398),o=n(116),a=n(396),s=n(774),l=n(775),u=r?r.prototype:void 0,c=u?u.valueOf:void 0;e.exports=function(e,t,n,r,u,f,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var p=1&r;if(h||(h=l),e.size!=t.size&&!p)return!1;var m=d.get(e);if(m)return m==t;r|=2,d.set(e,t);var v=a(h(e),h(t),r,u,f,d);return d.delete(e),v;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},function(e,t,n){var r=n(399),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var l=1&n,u=r(e),c=u.length;if(c!=r(t).length&&!l)return!1;for(var f=c;f--;){var d=u[f];if(!(l?d in t:i.call(t,d)))return!1}var h=s.get(e);if(h&&s.get(t))return h==t;var p=!0;s.set(e,t),s.set(t,e);for(var m=l;++f<c;){var v=e[d=u[f]],g=t[d];if(o)var y=l?o(g,v,d,t,e,s):o(v,g,d,e,t,s);if(!(void 0===y?v===g||a(v,g,n,o,s):y)){p=!1;break}m||(m="constructor"==d)}if(p&&!m){var b=e.constructor,_=t.constructor;b==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _||(p=!1)}return s.delete(e),s.delete(t),p}},function(e,t,n){var r=n(97)(n(37),"DataView");e.exports=r},function(e,t,n){var r=n(97)(n(37),"Promise");e.exports=r},function(e,t,n){var r=n(97)(n(37),"Set");e.exports=r},function(e,t,n){var r=n(403),i=n(115);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},function(e,t,n){var r=n(395),i=n(782),o=n(405),a=n(275),s=n(403),l=n(404),u=n(141);e.exports=function(e,t){return a(e)&&s(t)?l(u(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},function(e,t,n){var r=n(274);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},function(e,t,n){var r=n(784),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=a},function(e,t,n){var r=n(785);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},function(e,t,n){var r=n(270);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},function(e,t,n){var r=n(787);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r=n(114),i=n(393),o=n(29),a=n(190),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var r=n(189),i=n(180),o=n(29),a=n(138),s=n(264),l=n(141);e.exports=function(e,t,n){for(var u=-1,c=(t=r(t,e)).length,f=!1;++u<c;){var d=l(t[u]);if(!(f=null!=e&&n(e,d)))break;e=e[d]}return f||++u!=c?f:!!(c=null==e?0:e.length)&&s(c)&&a(d,c)&&(o(e)||i(e))}},function(e,t,n){var r=n(791),i=n(792),o=n(275),a=n(141);e.exports=function(e){return o(e)?r(a(e)):i(e)}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var r=n(274);e.exports=function(e){return function(t){return r(t,e)}}},function(e,t,n){var r=n(142),i=n(96);e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}},function(e,t,n){var r=n(96);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeClasses=void 0;var r=a(n(262)),i=a(n(796)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function a(e){return e&&e.__esModule?e:{default:e}}var s=t.mergeClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.default&&(0,i.default)(e.default)||{};return t.map((function(t){var i=e[t];return i&&(0,r.default)(i,(function(e,t){n[t]||(n[t]={}),n[t]=o({},n[t],i[t])})),t})),n};t.default=s},function(e,t,n){var r=n(797);e.exports=function(e){return r(e,5)}},function(e,t,n){var r=n(183),i=n(276),o=n(191),a=n(798),s=n(799),l=n(407),u=n(192),c=n(802),f=n(803),d=n(399),h=n(804),p=n(188),m=n(805),v=n(806),g=n(410),y=n(29),b=n(181),_=n(810),x=n(42),w=n(812),E=n(115),T={};T["[object Arguments]"]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T["[object Object]"]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T["[object Function]"]=T["[object WeakMap]"]=!1,e.exports=function e(t,n,S,k,O,C){var A,M=1&n,P=2&n,I=4&n;if(S&&(A=O?S(t,k,O,C):S(t)),void 0!==A)return A;if(!x(t))return t;var D=y(t);if(D){if(A=m(t),!M)return u(t,A)}else{var N=p(t),R="[object Function]"==N||"[object GeneratorFunction]"==N;if(b(t))return l(t,M);if("[object Object]"==N||"[object Arguments]"==N||R&&!O){if(A=P||R?{}:g(t),!M)return P?f(t,s(A,t)):c(t,a(A,t))}else{if(!T[N])return O?t:{};A=v(t,N,M)}}C||(C=new r);var L=C.get(t);if(L)return L;if(C.set(t,A),w(t))return t.forEach((function(r){A.add(e(r,n,S,r,t,C))})),A;if(_(t))return t.forEach((function(r,i){A.set(i,e(r,n,S,i,t,C))})),A;var j=I?P?h:d:P?keysIn:E,F=D?void 0:j(t);return i(F||t,(function(r,i){F&&(r=t[i=r]),o(A,i,e(r,n,S,i,t,C))})),A}},function(e,t,n){var r=n(98),i=n(115);e.exports=function(e,t){return e&&r(t,i(t),e)}},function(e,t,n){var r=n(98),i=n(117);e.exports=function(e,t){return e&&r(t,i(t),e)}},function(e,t,n){var r=n(42),i=n(182),o=n(801),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){var r=n(98),i=n(272);e.exports=function(e,t){return r(e,i(e),t)}},function(e,t,n){var r=n(98),i=n(408);e.exports=function(e,t){return r(e,i(e),t)}},function(e,t,n){var r=n(400),i=n(408),o=n(117);e.exports=function(e){return r(e,o,i)}},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t,n){var r=n(278),i=n(807),o=n(808),a=n(809),s=n(409);e.exports=function(e,t,n){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return i(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return o(e);case"[object Set]":return new l;case"[object Symbol]":return a(e)}}},function(e,t,n){var r=n(278);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var r=n(114),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},function(e,t,n){var r=n(811),i=n(265),o=n(266),a=o&&o.isMap,s=a?i(a):r;e.exports=s},function(e,t,n){var r=n(188),i=n(55);e.exports=function(e){return i(e)&&"[object Map]"==r(e)}},function(e,t,n){var r=n(813),i=n(265),o=n(266),a=o&&o.isSet,s=a?i(a):r;e.exports=s},function(e,t,n){var r=n(188),i=n(55);e.exports=function(e){return i(e)&&"[object Set]"==r(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoprefix=void 0;var r,i=n(262),o=(r=i)&&r.__esModule?r:{default:r},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){var n=t[e];return n||{extend:e}}},l=t.autoprefix=function(e){var t={};return(0,o.default)(e,(function(e,n){var r={};(0,o.default)(e,(function(e,t){var n=s[t];n?r=a({},r,n(e)):r[t]=e})),t[n]=r})),t};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hover=void 0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),a=(r=o)&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=t.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,o,u;s(this,r);for(var c=arguments.length,f=Array(c),d=0;d<c;d++)f[d]=arguments[d];return o=u=l(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(f))),u.state={hover:!1},u.handleMouseOver=function(){return u.setState({hover:!0})},u.handleMouseOut=function(){return u.setState({hover:!1})},u.render=function(){return a.default.createElement(t,{onMouseOver:u.handleMouseOver,onMouseOut:u.handleMouseOut},a.default.createElement(e,i({},u.props,u.state)))},l(u,o)}return u(r,n),r}(a.default.Component)};t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.active=void 0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),a=(r=o)&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=t.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,o,u;s(this,r);for(var c=arguments.length,f=Array(c),d=0;d<c;d++)f[d]=arguments[d];return o=u=l(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(f))),u.state={active:!1},u.handleMouseDown=function(){return u.setState({active:!0})},u.handleMouseUp=function(){return u.setState({active:!1})},u.render=function(){return a.default.createElement(t,{onMouseDown:u.handleMouseDown,onMouseUp:u.handleMouseUp},a.default.createElement(e,i({},u.props,u.state)))},l(u,o)}return u(r,n),r}(a.default.Component)};t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n={},r=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n[e]=t};return 0===e&&r("first-child"),e===t-1&&r("last-child"),(0===e||e%2===0)&&r("even"),1===Math.abs(e%2)&&r("odd"),r("nth-child",e),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomPicker=t.TwitterPicker=t.SwatchesPicker=t.SliderPicker=t.SketchPicker=t.PhotoshopPicker=t.MaterialPicker=t.HuePicker=t.GithubPicker=t.CompactPicker=t.ChromePicker=t.default=t.CirclePicker=t.BlockPicker=t.AlphaPicker=void 0;var r=n(819);Object.defineProperty(t,"AlphaPicker",{enumerable:!0,get:function(){return y(r).default}});var i=n(842);Object.defineProperty(t,"BlockPicker",{enumerable:!0,get:function(){return y(i).default}});var o=n(844);Object.defineProperty(t,"CirclePicker",{enumerable:!0,get:function(){return y(o).default}});var a=n(846);Object.defineProperty(t,"ChromePicker",{enumerable:!0,get:function(){return y(a).default}});var s=n(851);Object.defineProperty(t,"CompactPicker",{enumerable:!0,get:function(){return y(s).default}});var l=n(854);Object.defineProperty(t,"GithubPicker",{enumerable:!0,get:function(){return y(l).default}});var u=n(856);Object.defineProperty(t,"HuePicker",{enumerable:!0,get:function(){return y(u).default}});var c=n(858);Object.defineProperty(t,"MaterialPicker",{enumerable:!0,get:function(){return y(c).default}});var f=n(859);Object.defineProperty(t,"PhotoshopPicker",{enumerable:!0,get:function(){return y(f).default}});var d=n(865);Object.defineProperty(t,"SketchPicker",{enumerable:!0,get:function(){return y(d).default}});var h=n(868);Object.defineProperty(t,"SliderPicker",{enumerable:!0,get:function(){return y(h).default}});var p=n(872);Object.defineProperty(t,"SwatchesPicker",{enumerable:!0,get:function(){return y(p).default}});var m=n(876);Object.defineProperty(t,"TwitterPicker",{enumerable:!0,get:function(){return y(m).default}});var v=n(417);Object.defineProperty(t,"CustomPicker",{enumerable:!0,get:function(){return y(v).default}});var g=y(a);function y(e){return e&&e.__esModule?e:{default:e}}t.default=g.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlphaPicker=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=l(n(1)),o=l(n(12)),a=n(22),s=l(n(841));function l(e){return e&&e.__esModule?e:{default:e}}var u=t.AlphaPicker=function(e){var t=e.rgb,n=e.hsl,s=e.width,l=e.height,u=e.onChange,c=e.direction,f=e.style,d=e.renderers,h=e.pointer,p=e.className,m=void 0===p?"":p,v=(0,o.default)({default:{picker:{position:"relative",width:s,height:l},alpha:{radius:"2px",style:f}}});return i.default.createElement("div",{style:v.picker,className:"alpha-picker "+m},i.default.createElement(a.Alpha,r({},v.alpha,{rgb:t,hsl:n,pointer:h,renderers:d,onChange:u,direction:c})))};u.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:s.default},t.default=(0,a.ColorWrap)(u)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Alpha=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),a=c(o),s=c(n(12)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(821)),u=c(n(279));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var h=t.Alpha=function(e){function t(){var e,n,r;f(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleChange=function(e,t){var n=l.calculateChange(e,t,r.props,r.container);n&&r.props.onChange&&r.props.onChange(n,e)},r.handleMouseDown=function(e){r.handleChange(e,!0),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleChange),window.removeEventListener("mouseup",r.handleMouseUp)},d(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=this.props.rgb,n=(0,s.default)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*t.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)"},pointer:{left:0,top:100*t.a+"%"}},overwrite:r({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return a.default.createElement("div",{style:n.alpha},a.default.createElement("div",{style:n.checkboard},a.default.createElement(u.default,{renderers:this.props.renderers})),a.default.createElement("div",{style:n.gradient}),a.default.createElement("div",{style:n.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},a.default.createElement("div",{style:n.pointer},this.props.pointer?a.default.createElement(this.props.pointer,this.props):a.default.createElement("div",{style:n.slider}))))}}]),t}(o.PureComponent||o.Component);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateChange=function(e,t,n,r){e.preventDefault();var i=r.clientWidth,o=r.clientHeight,a="number"===typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"===typeof e.pageY?e.pageY:e.touches[0].pageY,l=a-(r.getBoundingClientRect().left+window.pageXOffset),u=s-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n.direction){var c=void 0;if(c=u<0?0:u>o?1:Math.round(100*u/o)/100,n.hsl.a!==c)return{h:n.hsl.h,s:n.hsl.s,l:n.hsl.l,a:c,source:"rgb"}}else{var f=void 0;if(f=l<0?0:l>i?1:Math.round(100*l/i)/100,n.a!==f)return{h:n.hsl.h,s:n.hsl.s,l:n.hsl.l,a:f,source:"rgb"}}return null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={},i=t.render=function(e,t,n,r){if("undefined"===typeof document&&!r)return null;var i=r?new r:document.createElement("canvas");i.width=2*n,i.height=2*n;var o=i.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,i.width,i.height),o.fillStyle=t,o.fillRect(0,0,n,n),o.translate(n,n),o.fillRect(0,0,n,n),i.toDataURL()):null};t.get=function(e,t,n,o){var a=e+"-"+t+"-"+n+(o?"-server":""),s=i(e,t,n,o);return r[a]?r[a]:(r[a]=s,s)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditableInput=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=s(i),a=s(n(12));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=t.EditableInput=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(e){n.props.label?n.props.onChange&&n.props.onChange(l({},n.props.label,e.target.value),e):n.props.onChange&&n.props.onChange(e.target.value,e),n.setState({value:e.target.value})},n.handleKeyDown=function(e){var t=String(e.target.value),r=t.indexOf("%")>-1,i=Number(t.replace(/%/g,""));if(!isNaN(i)){var o=n.props.arrowOffset||1;38===e.keyCode&&(null!==n.props.label?n.props.onChange&&n.props.onChange(l({},n.props.label,i+o),e):n.props.onChange&&n.props.onChange(i+o,e),r?n.setState({value:i+o+"%"}):n.setState({value:i+o})),40===e.keyCode&&(null!==n.props.label?n.props.onChange&&n.props.onChange(l({},n.props.label,i-o),e):n.props.onChange&&n.props.onChange(i-o,e),r?n.setState({value:i-o+"%"}):n.setState({value:i-o}))}},n.handleDrag=function(e){if(n.props.dragLabel){var t=Math.round(n.props.value+e.movementX);t>=0&&t<=n.props.dragMax&&n.props.onChange&&n.props.onChange(l({},n.props.label,t),e)}},n.handleMouseDown=function(e){n.props.dragLabel&&(e.preventDefault(),n.handleDrag(e),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.input;e.value!==this.state.value&&(t===document.activeElement?this.setState({blurValue:String(e.value).toUpperCase()}):this.setState({value:String(e.value).toUpperCase(),blurValue:!this.state.blurValue&&String(e.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=(0,a.default)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return o.default.createElement("div",{style:t.wrap},o.default.createElement("input",{style:t.input,ref:function(t){return e.input=t},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?o.default.createElement("span",{style:t.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(i.PureComponent||i.Component);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Hue=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=l(i),a=l(n(12)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(825));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var f=t.Hue=function(e){function t(){var e,n,r;u(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleChange=function(e,t){var n=s.calculateChange(e,t,r.props,r.container);n&&r.props.onChange&&r.props.onChange(n,e)},r.handleMouseDown=function(e){r.handleChange(e,!0),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},c(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.direction,n=void 0===t?"horizontal":t,r=(0,a.default)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===n});return o.default.createElement("div",{style:r.hue},o.default.createElement("div",{className:"hue-"+n,style:r.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},o.default.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),o.default.createElement("div",{style:r.pointer},this.props.pointer?o.default.createElement(this.props.pointer,this.props):o.default.createElement("div",{style:r.slider}))))}}]),t}(i.PureComponent||i.Component);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateChange=function(e,t,n,r){e.preventDefault();var i=r.clientWidth,o=r.clientHeight,a="number"===typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"===typeof e.pageY?e.pageY:e.touches[0].pageY,l=a-(r.getBoundingClientRect().left+window.pageXOffset),u=s-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n.direction){var c=void 0;if(c=u<0?359:u>o?0:360*(-100*u/o+100)/100,n.hsl.h!==c)return{h:c,s:n.hsl.s,l:n.hsl.l,a:n.hsl.a,source:"rgb"}}else{var f=void 0;if(f=l<0?0:l>i?359:100*l/i*360/100,n.hsl.h!==f)return{h:f,s:n.hsl.s,l:n.hsl.l,a:n.hsl.a,source:"rgb"}}return null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Raised=void 0;var r=s(n(1)),i=s(n(2)),o=s(n(12)),a=s(n(43));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.Raised=function(e){var t=e.zDepth,n=e.radius,i=e.background,s=e.children,l=e.styles,u=void 0===l?{}:l,c=(0,o.default)((0,a.default)({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+4*t+"px rgba(0,0,0,.24)",borderRadius:n,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},u),{"zDepth-1":1===t});return r.default.createElement("div",{style:c.wrap},r.default.createElement("div",{style:c.bg}),r.default.createElement("div",{style:c.content},s))};l.propTypes={background:i.default.string,zDepth:i.default.oneOf([0,1,2,3,4,5]),radius:i.default.number,styles:i.default.object},l.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}},t.default=l},function(e,t,n){var r=n(183),i=n(411),o=n(388),a=n(828),s=n(42),l=n(117),u=n(412);e.exports=function e(t,n,c,f,d){t!==n&&o(n,(function(o,l){if(s(o))d||(d=new r),a(t,n,l,c,e,f,d);else{var h=f?f(u(t,l),o,l+"",t,n,d):void 0;void 0===h&&(h=o),i(t,l,h)}}),l)}},function(e,t,n){var r=n(411),i=n(407),o=n(409),a=n(192),s=n(410),l=n(180),u=n(29),c=n(829),f=n(181),d=n(267),h=n(42),p=n(392),m=n(263),v=n(412),g=n(830);e.exports=function(e,t,n,y,b,_,x){var w=v(e,n),E=v(t,n),T=x.get(E);if(T)r(e,n,T);else{var S=_?_(w,E,n+"",e,t,x):void 0,k=void 0===S;if(k){var O=u(E),C=!O&&f(E),A=!O&&!C&&m(E);S=E,O||C||A?u(w)?S=w:c(w)?S=a(w):C?(k=!1,S=i(E,!0)):A?(k=!1,S=o(E,!0)):S=[]:p(E)||l(E)?(S=w,l(w)?S=g(w):h(w)&&!d(w)||(S=s(E))):k=!1}k&&(x.set(E,S),b(S,E,y,_,x),x.delete(E)),r(e,n,S)}}},function(e,t,n){var r=n(96),i=n(55);e.exports=function(e){return i(e)&&r(e)}},function(e,t,n){var r=n(98),i=n(117);e.exports=function(e){return r(e,i(e))}},function(e,t,n){var r=n(832),i=n(406),o=n(139),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Saturation=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=u(i),a=u(n(12)),s=u(n(834)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(836));function u(e){return e&&e.__esModule?e:{default:e}}var c=t.Saturation=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e,t){n.props.onChange&&n.throttle(n.props.onChange,l.calculateChange(e,t,n.props,n.container),e)},n.handleMouseDown=function(e){n.handleChange(e,!0),window.addEventListener("mousemove",n.handleChange),window.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=(0,s.default)((function(e,t,n){e(t,n)}),50),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.style||{},n=t.color,r=t.white,i=t.black,s=t.pointer,l=t.circle,u=(0,a.default)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:n,white:r,black:i,pointer:s,circle:l}},{custom:!!this.props.style});return o.default.createElement("div",{style:u.color,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},o.default.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),o.default.createElement("div",{style:u.white,className:"saturation-white"},o.default.createElement("div",{style:u.black,className:"saturation-black"}),o.default.createElement("div",{style:u.pointer},this.props.pointer?o.default.createElement(this.props.pointer,this.props):o.default.createElement("div",{style:u.circle}))))}}]),t}(i.PureComponent||i.Component);t.default=c},function(e,t,n){var r=n(415),i=n(42);e.exports=function(e,t,n){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:o,maxWait:t,trailing:a})}},function(e,t,n){var r=n(37);e.exports=function(){return r.Date.now()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateChange=function(e,t,n,r){e.preventDefault();var i=r.getBoundingClientRect(),o=i.width,a=i.height,s="number"===typeof e.pageX?e.pageX:e.touches[0].pageX,l="number"===typeof e.pageY?e.pageY:e.touches[0].pageY,u=s-(r.getBoundingClientRect().left+window.pageXOffset),c=l-(r.getBoundingClientRect().top+window.pageYOffset);u<0?u=0:u>o?u=o:c<0?c=0:c>a&&(c=a);var f=100*u/o,d=-100*c/a+100;return{h:n.hsl.h,s:f,v:d,a:n.hsl.a,source:"rgb"}}},function(e,t,n){e.exports=n(143)},function(e,t,n){var r;!function(i){var o=/^\s+/,a=/\s+$/,s=0,l=i.round,u=i.min,c=i.max,f=i.random;function d(e,t){if(t=t||{},(e=e||"")instanceof d)return e;if(!(this instanceof d))return new d(e,t);var n=function(e){var t,n,r,s={r:0,g:0,b:0},l=1,f=null,d=null,h=null,p=!1,m=!1;return"string"==typeof e&&(e=function(e){e=e.replace(o,"").replace(a,"").toLowerCase();var t,n=!1;if(M[e])e=M[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=z.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=z.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=z.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=z.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=z.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=z.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=z.hex8.exec(e))?{r:R(t[1]),g:R(t[2]),b:R(t[3]),a:B(t[4]),format:n?"name":"hex8"}:(t=z.hex6.exec(e))?{r:R(t[1]),g:R(t[2]),b:R(t[3]),format:n?"name":"hex"}:(t=z.hex4.exec(e))?{r:R(t[1]+""+t[1]),g:R(t[2]+""+t[2]),b:R(t[3]+""+t[3]),a:B(t[4]+""+t[4]),format:n?"name":"hex8"}:!!(t=z.hex3.exec(e))&&{r:R(t[1]+""+t[1]),g:R(t[2]+""+t[2]),b:R(t[3]+""+t[3]),format:n?"name":"hex"}}(e)),"object"==typeof e&&(H(e.r)&&H(e.g)&&H(e.b)?(t=e.r,n=e.g,r=e.b,s={r:255*D(t,255),g:255*D(n,255),b:255*D(r,255)},p=!0,m="%"===String(e.r).substr(-1)?"prgb":"rgb"):H(e.h)&&H(e.s)&&H(e.v)?(f=j(e.s),d=j(e.v),s=function(e,t,n){e=6*D(e,360),t=D(t,100),n=D(n,100);var r=i.floor(e),o=e-r,a=n*(1-t),s=n*(1-o*t),l=n*(1-(1-o)*t),u=r%6;return{r:255*[n,s,a,a,l,n][u],g:255*[l,n,n,s,a,a][u],b:255*[a,a,l,n,n,s][u]}}(e.h,f,d),p=!0,m="hsv"):H(e.h)&&H(e.s)&&H(e.l)&&(f=j(e.s),h=j(e.l),s=function(e,t,n){var r,i,o;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=D(e,360),t=D(t,100),n=D(n,100),0===t)r=i=o=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;r=a(l,s,e+1/3),i=a(l,s,e),o=a(l,s,e-1/3)}return{r:255*r,g:255*i,b:255*o}}(e.h,f,h),p=!0,m="hsl"),e.hasOwnProperty("a")&&(l=e.a)),l=I(l),{ok:p,format:e.format||m,r:u(255,c(s.r,0)),g:u(255,c(s.g,0)),b:u(255,c(s.b,0)),a:l}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=l(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=l(this._r)),this._g<1&&(this._g=l(this._g)),this._b<1&&(this._b=l(this._b)),this._ok=n.ok,this._tc_id=s++}function h(e,t,n){e=D(e,255),t=D(t,255),n=D(n,255);var r,i,o=c(e,t,n),a=u(e,t,n),s=(o+a)/2;if(o==a)r=i=0;else{var l=o-a;switch(i=s>.5?l/(2-o-a):l/(o+a),o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,l:s}}function p(e,t,n){e=D(e,255),t=D(t,255),n=D(n,255);var r,i,o=c(e,t,n),a=u(e,t,n),s=o,l=o-a;if(i=0===o?0:l/o,o==a)r=0;else{switch(o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,v:s}}function m(e,t,n,r){var i=[L(l(e).toString(16)),L(l(t).toString(16)),L(l(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function v(e,t,n,r){return[L(F(r)),L(l(e).toString(16)),L(l(t).toString(16)),L(l(n).toString(16))].join("")}function g(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.s-=t/100,n.s=N(n.s),d(n)}function y(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.s+=t/100,n.s=N(n.s),d(n)}function b(e){return d(e).desaturate(100)}function _(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.l+=t/100,n.l=N(n.l),d(n)}function x(e,t){t=0===t?0:t||10;var n=d(e).toRgb();return n.r=c(0,u(255,n.r-l(-t/100*255))),n.g=c(0,u(255,n.g-l(-t/100*255))),n.b=c(0,u(255,n.b-l(-t/100*255))),d(n)}function w(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.l-=t/100,n.l=N(n.l),d(n)}function E(e,t){var n=d(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,d(n)}function T(e){var t=d(e).toHsl();return t.h=(t.h+180)%360,d(t)}function S(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+120)%360,s:t.s,l:t.l}),d({h:(n+240)%360,s:t.s,l:t.l})]}function k(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+90)%360,s:t.s,l:t.l}),d({h:(n+180)%360,s:t.s,l:t.l}),d({h:(n+270)%360,s:t.s,l:t.l})]}function O(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+72)%360,s:t.s,l:t.l}),d({h:(n+216)%360,s:t.s,l:t.l})]}function C(e,t,n){t=t||6,n=n||30;var r=d(e).toHsl(),i=360/n,o=[d(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(d(r));return o}function A(e,t){t=t||6;for(var n=d(e).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/t;t--;)a.push(d({h:r,s:i,v:o})),o=(o+s)%1;return a}d.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:i.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=I(e),this._roundA=l(100*this._a)/100,this},toHsv:function(){var e=p(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=p(this._r,this._g,this._b),t=l(360*e.h),n=l(100*e.s),r=l(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=h(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=h(this._r,this._g,this._b),t=l(360*e.h),n=l(100*e.s),r=l(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return m(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,i){var o=[L(l(e).toString(16)),L(l(t).toString(16)),L(l(n).toString(16)),L(F(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:l(this._r),g:l(this._g),b:l(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+l(this._r)+", "+l(this._g)+", "+l(this._b)+")":"rgba("+l(this._r)+", "+l(this._g)+", "+l(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:l(100*D(this._r,255))+"%",g:l(100*D(this._g,255))+"%",b:l(100*D(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+l(100*D(this._r,255))+"%, "+l(100*D(this._g,255))+"%, "+l(100*D(this._b,255))+"%)":"rgba("+l(100*D(this._r,255))+"%, "+l(100*D(this._g,255))+"%, "+l(100*D(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(P[m(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+v(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=d(e);n="#"+v(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return d(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(_,arguments)},brighten:function(){return this._applyModification(x,arguments)},darken:function(){return this._applyModification(w,arguments)},desaturate:function(){return this._applyModification(g,arguments)},saturate:function(){return this._applyModification(y,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(E,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(C,arguments)},complement:function(){return this._applyCombination(T,arguments)},monochromatic:function(){return this._applyCombination(A,arguments)},splitcomplement:function(){return this._applyCombination(O,arguments)},triad:function(){return this._applyCombination(S,arguments)},tetrad:function(){return this._applyCombination(k,arguments)}},d.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:j(e[r]));e=n}return d(e,t)},d.equals=function(e,t){return!(!e||!t)&&d(e).toRgbString()==d(t).toRgbString()},d.random=function(){return d.fromRatio({r:f(),g:f(),b:f()})},d.mix=function(e,t,n){n=0===n?0:n||50;var r=d(e).toRgb(),i=d(t).toRgb(),o=n/100;return d({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},d.readability=function(e,t){var n=d(e),r=d(t);return(i.max(n.getLuminance(),r.getLuminance())+.05)/(i.min(n.getLuminance(),r.getLuminance())+.05)},d.isReadable=function(e,t,n){var r,i,o=d.readability(e,t);switch(i=!1,(r=function(e){var t,n;return t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:t,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7}return i},d.mostReadable=function(e,t,n){var r,i,o,a,s=null,l=0;i=(n=n||{}).includeFallbackColors,o=n.level,a=n.size;for(var u=0;u<t.length;u++)(r=d.readability(e,t[u]))>l&&(l=r,s=d(t[u]));return d.isReadable(e,s,{level:o,size:a})||!i?s:(n.includeFallbackColors=!1,d.mostReadable(e,["#fff","#000"],n))};var M=d.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},P=d.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(M);function I(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function D(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!=e.indexOf("%")}(e);return e=u(t,c(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),i.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function N(e){return u(1,c(0,e))}function R(e){return parseInt(e,16)}function L(e){return 1==e.length?"0"+e:""+e}function j(e){return e<=1&&(e=100*e+"%"),e}function F(e){return i.round(255*parseFloat(e)).toString(16)}function B(e){return R(e)/255}var z=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function H(e){return!!z.CSS_UNIT.exec(e)}e.exports?e.exports=d:void 0===(r=function(){return d}.call(t,n,t,e))||(e.exports=r)}(Math)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Swatch=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=l(n(1)),o=l(n(12)),a=n(840),s=l(n(279));function l(e){return e&&e.__esModule?e:{default:e}}var u=t.Swatch=function(e){var t=e.color,n=e.style,a=e.onClick,l=void 0===a?function(){}:a,u=e.onHover,c=e.title,f=void 0===c?t:c,d=e.children,h=e.focus,p=e.focusStyle,m=void 0===p?{}:p,v="transparent"===t,g=(0,o.default)({default:{swatch:r({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,h?m:{})}}),y={};return u&&(y.onMouseOver=function(e){return u(t,e)}),i.default.createElement("div",r({style:g.swatch,onClick:function(e){return l(t,e)},title:f,tabIndex:0,onKeyDown:function(e){return 13===e.keyCode&&l(t,e)}},y),d,v&&i.default.createElement(s.default,{borderRadius:g.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};t.default=(0,a.handleFocus)(u)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleFocus=void 0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),s=(r=a)&&r.__esModule?r:{default:r};function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.handleFocus=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var e,t,n;l(this,r);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n=u(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(o))),n.state={focus:!1},n.handleFocus=function(){return n.setState({focus:!0})},n.handleBlur=function(){return n.setState({focus:!1})},u(n,t)}return c(r,n),o(r,[{key:"render",value:function(){return s.default.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},s.default.createElement(e,i({},this.props,this.state)))}}]),r}(s.default.Component)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlphaPointer=void 0;var r=o(n(1)),i=o(n(12));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.AlphaPointer=function(e){var t=e.direction,n=(0,i.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return r.default.createElement("div",{style:n.picker})};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Block=void 0;var r=c(n(1)),i=c(n(2)),o=c(n(12)),a=c(n(43)),s=c(n(56)),l=n(22),u=c(n(843));function c(e){return e&&e.__esModule?e:{default:e}}var f=t.Block=function(e){var t=e.onChange,n=e.onSwatchHover,i=e.hex,c=e.colors,f=e.width,d=e.triangle,h=e.styles,p=void 0===h?{}:h,m=e.className,v=void 0===m?"":m,g="transparent"===i,y=function(e,n){s.default.isValidHex(e)&&t({hex:e,source:"hex"},n)},b=(0,o.default)((0,a.default)({default:{card:{width:f,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:s.default.getContrastingColor(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},p),{"hide-triangle":"hide"===d});return r.default.createElement("div",{style:b.card,className:"block-picker "+v},r.default.createElement("div",{style:b.triangle}),r.default.createElement("div",{style:b.head},g&&r.default.createElement(l.Checkboard,{borderRadius:"6px 6px 0 0"}),r.default.createElement("div",{style:b.label},i)),r.default.createElement("div",{style:b.body},r.default.createElement(u.default,{colors:c,onClick:y,onSwatchHover:n}),r.default.createElement(l.EditableInput,{style:{input:b.input},value:i,onChange:y})))};f.propTypes={width:i.default.oneOfType([i.default.string,i.default.number]),colors:i.default.arrayOf(i.default.string),triangle:i.default.oneOf(["top","hide"]),styles:i.default.object},f.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}},t.default=(0,l.ColorWrap)(f)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockSwatches=void 0;var r=s(n(1)),i=s(n(12)),o=s(n(71)),a=n(22);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.BlockSwatches=function(e){var t=e.colors,n=e.onClick,s=e.onSwatchHover,l=(0,i.default)({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return r.default.createElement("div",{style:l.swatches},(0,o.default)(t,(function(e){return r.default.createElement(a.Swatch,{key:e,color:e,style:l.swatch,onClick:n,onHover:s,focusStyle:{boxShadow:"0 0 4px "+e}})})),r.default.createElement("div",{style:l.clear}))};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Circle=void 0;var r=f(n(1)),i=f(n(2)),o=f(n(12)),a=f(n(71)),s=f(n(43)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(418)),u=n(22),c=f(n(845));function f(e){return e&&e.__esModule?e:{default:e}}var d=t.Circle=function(e){var t=e.width,n=e.onChange,i=e.onSwatchHover,l=e.colors,u=e.hex,f=e.circleSize,d=e.styles,h=void 0===d?{}:d,p=e.circleSpacing,m=e.className,v=void 0===m?"":m,g=(0,o.default)((0,s.default)({default:{card:{width:t,display:"flex",flexWrap:"wrap",marginRight:-p,marginBottom:-p}}},h)),y=function(e,t){return n({hex:e,source:"hex"},t)};return r.default.createElement("div",{style:g.card,className:"circle-picker "+v},(0,a.default)(l,(function(e){return r.default.createElement(c.default,{key:e,color:e,onClick:y,onSwatchHover:i,active:u===e.toLowerCase(),circleSize:f,circleSpacing:p})})))};d.propTypes={width:i.default.oneOfType([i.default.string,i.default.number]),circleSize:i.default.number,circleSpacing:i.default.number,styles:i.default.object},d.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[l.red[500],l.pink[500],l.purple[500],l.deepPurple[500],l.indigo[500],l.blue[500],l.lightBlue[500],l.cyan[500],l.teal[500],l.green[500],l.lightGreen[500],l.lime[500],l.yellow[500],l.amber[500],l.orange[500],l.deepOrange[500],l.brown[500],l.blueGrey[500]],styles:{}},t.default=(0,u.ColorWrap)(d)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CircleSwatch=void 0;var r=s(n(1)),i=n(12),o=s(i),a=n(22);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.CircleSwatch=function(e){var t=e.color,n=e.onClick,i=e.onSwatchHover,s=e.hover,l=e.active,u=e.circleSize,c=e.circleSpacing,f=(0,o.default)({default:{swatch:{width:u,height:u,marginRight:c,marginBottom:c,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+u/2+"px "+t,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+t}}},{hover:s,active:l});return r.default.createElement("div",{style:f.swatch},r.default.createElement(a.Swatch,{style:f.Swatch,color:t,onClick:n,onHover:i,focusStyle:{boxShadow:f.Swatch.boxShadow+", 0 0 5px "+t}}))};l.defaultProps={circleSize:28,circleSpacing:14},t.default=(0,i.handleHover)(l)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome=void 0;var r=f(n(1)),i=f(n(2)),o=f(n(12)),a=f(n(43)),s=n(22),l=f(n(847)),u=f(n(849)),c=f(n(850));function f(e){return e&&e.__esModule?e:{default:e}}var d=t.Chrome=function(e){var t=e.onChange,n=e.disableAlpha,i=e.rgb,f=e.hsl,d=e.hsv,h=e.hex,p=e.renderers,m=e.styles,v=void 0===m?{}:m,g=e.className,y=void 0===g?"":g,b=(0,o.default)((0,a.default)({default:{picker:{background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",width:"225px",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+i.r+", "+i.g+", "+i.b+", "+i.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},v),{disableAlpha:n});return r.default.createElement("div",{style:b.picker,className:"chrome-picker "+y},r.default.createElement("div",{style:b.saturation},r.default.createElement(s.Saturation,{style:b.Saturation,hsl:f,hsv:d,pointer:c.default,onChange:t})),r.default.createElement("div",{style:b.body},r.default.createElement("div",{style:b.controls,className:"flexbox-fix"},r.default.createElement("div",{style:b.color},r.default.createElement("div",{style:b.swatch},r.default.createElement("div",{style:b.active}),r.default.createElement(s.Checkboard,{renderers:p}))),r.default.createElement("div",{style:b.toggles},r.default.createElement("div",{style:b.hue},r.default.createElement(s.Hue,{style:b.Hue,hsl:f,pointer:u.default,onChange:t})),r.default.createElement("div",{style:b.alpha},r.default.createElement(s.Alpha,{style:b.Alpha,rgb:i,hsl:f,pointer:u.default,renderers:p,onChange:t})))),r.default.createElement(l.default,{rgb:i,hsl:f,hex:h,onChange:t,disableAlpha:n})))};d.propTypes={disableAlpha:i.default.bool,styles:i.default.object},d.defaultProps={disableAlpha:!1,styles:{}},t.default=(0,s.ColorWrap)(d)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChromeFields=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n(1)),o=u(n(12)),a=u(n(56)),s=n(22),l=u(n(848));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var d=t.ChromeFields=function(e){function t(){var e,n,r;c(this,t);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={view:""},r.toggleViews=function(){"hex"===r.state.view?r.setState({view:"rgb"}):"rgb"===r.state.view?r.setState({view:"hsl"}):"hsl"===r.state.view&&(1===r.props.hsl.a?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(e,t){e.hex?a.default.isValidHex(e.hex)&&r.props.onChange({hex:e.hex,source:"hex"},t):e.r||e.g||e.b?r.props.onChange({r:e.r||r.props.rgb.r,g:e.g||r.props.rgb.g,b:e.b||r.props.rgb.b,source:"rgb"},t):e.a?(e.a<0?e.a=0:e.a>1&&(e.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(100*e.a)/100,source:"rgb"},t)):(e.h||e.s||e.l)&&("string"===typeof e.s&&e.s.includes("%")&&(e.s=e.s.replace("%","")),"string"===typeof e.l&&e.l.includes("%")&&(e.l=e.l.replace("%","")),r.props.onChange({h:e.h||r.props.hsl.h,s:Number(e.s&&e.s||r.props.hsl.s),l:Number(e.l&&e.l||r.props.hsl.l),source:"hsl"},t))},r.showHighlight=function(e){e.currentTarget.style.background="#eee"},r.hideHighlight=function(e){e.currentTarget.style.background="transparent"},f(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){1===this.props.hsl.a&&"hex"!==this.state.view?this.setState({view:"hex"}):"rgb"!==this.state.view&&"hsl"!==this.state.view&&this.setState({view:"rgb"})}},{key:"componentWillReceiveProps",value:function(e){1!==e.hsl.a&&"hex"===this.state.view&&this.setState({view:"rgb"})}},{key:"render",value:function(){var e=this,t=(0,o.default)({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),n=void 0;return"hex"===this.state.view?n=i.default.createElement("div",{style:t.fields,className:"flexbox-fix"},i.default.createElement("div",{style:t.field},i.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):"rgb"===this.state.view?n=i.default.createElement("div",{style:t.fields,className:"flexbox-fix"},i.default.createElement("div",{style:t.field},i.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),i.default.createElement("div",{style:t.field},i.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),i.default.createElement("div",{style:t.field},i.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),i.default.createElement("div",{style:t.alpha},i.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):"hsl"===this.state.view&&(n=i.default.createElement("div",{style:t.fields,className:"flexbox-fix"},i.default.createElement("div",{style:t.field},i.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),i.default.createElement("div",{style:t.field},i.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"s",value:Math.round(100*this.props.hsl.s)+"%",onChange:this.handleChange})),i.default.createElement("div",{style:t.field},i.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"l",value:Math.round(100*this.props.hsl.l)+"%",onChange:this.handleChange})),i.default.createElement("div",{style:t.alpha},i.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),i.default.createElement("div",{style:t.wrap,className:"flexbox-fix"},n,i.default.createElement("div",{style:t.toggle},i.default.createElement("div",{style:t.icon,onClick:this.toggleViews,ref:function(t){return e.icon=t}},i.default.createElement(l.default,{style:t.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}]),t}(i.default.Component);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),a=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){var t=e.fill,n=void 0===t?"currentColor":t,r=e.width,o=void 0===r?24:r,s=e.height,l=void 0===s?24:s,u=e.style,c=void 0===u?{}:u,f=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["fill","width","height","style"]);return a.default.createElement("svg",i({viewBox:"0 0 24 24",style:i({fill:n,width:o,height:l},c)},f),a.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChromePointer=void 0;var r=o(n(1)),i=o(n(12));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.ChromePointer=function(){var e=(0,i.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return r.default.createElement("div",{style:e.picker})};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChromePointerCircle=void 0;var r=o(n(1)),i=o(n(12));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.ChromePointerCircle=function(){var e=(0,i.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return r.default.createElement("div",{style:e.picker})};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Compact=void 0;var r=d(n(1)),i=d(n(2)),o=d(n(12)),a=d(n(71)),s=d(n(43)),l=d(n(56)),u=n(22),c=d(n(852)),f=d(n(853));function d(e){return e&&e.__esModule?e:{default:e}}var h=t.Compact=function(e){var t=e.onChange,n=e.onSwatchHover,i=e.colors,d=e.hex,h=e.rgb,p=e.styles,m=void 0===p?{}:p,v=e.className,g=void 0===v?"":v,y=(0,o.default)((0,s.default)({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},m)),b=function(e,n){e.hex?l.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},n):t(e,n)};return r.default.createElement(u.Raised,{style:y.Compact,styles:m},r.default.createElement("div",{style:y.compact,className:"compact-picker "+g},r.default.createElement("div",null,(0,a.default)(i,(function(e){return r.default.createElement(c.default,{key:e,color:e,active:e.toLowerCase()===d,onClick:b,onSwatchHover:n})})),r.default.createElement("div",{style:y.clear})),r.default.createElement(f.default,{hex:d,rgb:h,onChange:b})))};h.propTypes={colors:i.default.arrayOf(i.default.string),styles:i.default.object},h.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}},t.default=(0,u.ColorWrap)(h)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompactColor=void 0;var r=s(n(1)),i=s(n(12)),o=s(n(56)),a=n(22);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.CompactColor=function(e){var t=e.color,n=e.onClick,s=void 0===n?function(){}:n,l=e.onSwatchHover,u=e.active,c=(0,i.default)({default:{color:{background:t,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:o.default.getContrastingColor(t),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:u,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return r.default.createElement(a.Swatch,{style:c.color,color:t,onClick:s,onHover:l,focusStyle:{boxShadow:"0 0 4px "+t}},r.default.createElement("div",{style:c.dot}))};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompactFields=void 0;var r=a(n(1)),i=a(n(12)),o=n(22);function a(e){return e&&e.__esModule?e:{default:e}}var s=t.CompactFields=function(e){var t=e.hex,n=e.rgb,a=e.onChange,s=(0,i.default)({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:t},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),l=function(e,t){e.r||e.g||e.b?a({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},t):a({hex:e.hex,source:"hex"},t)};return r.default.createElement("div",{style:s.fields,className:"flexbox-fix"},r.default.createElement("div",{style:s.active}),r.default.createElement(o.EditableInput,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"hex",value:t,onChange:l}),r.default.createElement(o.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:n.r,onChange:l}),r.default.createElement(o.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:n.g,onChange:l}),r.default.createElement(o.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:n.b,onChange:l}))};t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Github=void 0;var r=c(n(1)),i=c(n(2)),o=c(n(12)),a=c(n(71)),s=c(n(43)),l=n(22),u=c(n(855));function c(e){return e&&e.__esModule?e:{default:e}}var f=t.Github=function(e){var t=e.width,n=e.colors,i=e.onChange,l=e.onSwatchHover,c=e.triangle,f=e.styles,d=void 0===f?{}:f,h=e.className,p=void 0===h?"":h,m=(0,o.default)((0,s.default)({default:{card:{width:t,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},d),{"hide-triangle":"hide"===c,"top-left-triangle":"top-left"===c,"top-right-triangle":"top-right"===c,"bottom-left-triangle":"bottom-left"==c,"bottom-right-triangle":"bottom-right"===c}),v=function(e,t){return i({hex:e,source:"hex"},t)};return r.default.createElement("div",{style:m.card,className:"github-picker "+p},r.default.createElement("div",{style:m.triangleShadow}),r.default.createElement("div",{style:m.triangle}),(0,a.default)(n,(function(e){return r.default.createElement(u.default,{color:e,key:e,onClick:v,onSwatchHover:l})})))};f.propTypes={width:i.default.oneOfType([i.default.string,i.default.number]),colors:i.default.arrayOf(i.default.string),triangle:i.default.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:i.default.object},f.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}},t.default=(0,l.ColorWrap)(f)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GithubSwatch=void 0;var r=s(n(1)),i=n(12),o=s(i),a=n(22);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.GithubSwatch=function(e){var t=e.hover,n=e.color,i=e.onClick,s=e.onSwatchHover,l={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},u=(0,o.default)({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:l}},{hover:t});return r.default.createElement("div",{style:u.swatch},r.default.createElement(a.Swatch,{color:n,onClick:i,onHover:s,focusStyle:l}))};t.default=(0,i.handleHover)(l)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HuePicker=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=c(n(1)),o=c(n(2)),a=c(n(12)),s=c(n(43)),l=n(22),u=c(n(857));function c(e){return e&&e.__esModule?e:{default:e}}var f=t.HuePicker=function(e){var t=e.width,n=e.height,o=e.onChange,u=e.hsl,c=e.direction,f=e.pointer,d=e.styles,h=void 0===d?{}:d,p=e.className,m=void 0===p?"":p,v=(0,a.default)((0,s.default)({default:{picker:{position:"relative",width:t,height:n},hue:{radius:"2px"}}},h));return i.default.createElement("div",{style:v.picker,className:"hue-picker "+m},i.default.createElement(l.Hue,r({},v.hue,{hsl:u,pointer:f,onChange:function(e){return o({a:1,h:e.h,l:.5,s:1})},direction:c})))};f.propTypes={styles:o.default.object},f.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:u.default,styles:{}},t.default=(0,l.ColorWrap)(f)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderPointer=void 0;var r=o(n(1)),i=o(n(12));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.SliderPointer=function(e){var t=e.direction,n=(0,i.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return r.default.createElement("div",{style:n.picker})};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Material=void 0;var r=l(n(1)),i=l(n(12)),o=l(n(43)),a=l(n(56)),s=n(22);function l(e){return e&&e.__esModule?e:{default:e}}var u=t.Material=function(e){var t=e.onChange,n=e.hex,l=e.rgb,u=e.styles,c=void 0===u?{}:u,f=e.className,d=void 0===f?"":f,h=(0,i.default)((0,o.default)({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+n,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},c)),p=function(e,n){e.hex?a.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},n):(e.r||e.g||e.b)&&t({r:e.r||l.r,g:e.g||l.g,b:e.b||l.b,source:"rgb"},n)};return r.default.createElement(s.Raised,{styles:c},r.default.createElement("div",{style:h.material,className:"material-picker "+d},r.default.createElement(s.EditableInput,{style:{wrap:h.HEXwrap,input:h.HEXinput,label:h.HEXlabel},label:"hex",value:n,onChange:p}),r.default.createElement("div",{style:h.split,className:"flexbox-fix"},r.default.createElement("div",{style:h.third},r.default.createElement(s.EditableInput,{style:{wrap:h.RGBwrap,input:h.RGBinput,label:h.RGBlabel},label:"r",value:l.r,onChange:p})),r.default.createElement("div",{style:h.third},r.default.createElement(s.EditableInput,{style:{wrap:h.RGBwrap,input:h.RGBinput,label:h.RGBlabel},label:"g",value:l.g,onChange:p})),r.default.createElement("div",{style:h.third},r.default.createElement(s.EditableInput,{style:{wrap:h.RGBwrap,input:h.RGBinput,label:h.RGBlabel},label:"b",value:l.b,onChange:p})))))};t.default=(0,s.ColorWrap)(u)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Photoshop=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=p(n(1)),o=p(n(2)),a=p(n(12)),s=p(n(43)),l=n(22),u=p(n(860)),c=p(n(861)),f=p(n(862)),d=p(n(863)),h=p(n(864));function p(e){return e&&e.__esModule?e:{default:e}}var m=t.Photoshop=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={currentColor:e.hex},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){var e=this.props,t=e.styles,n=void 0===t?{}:t,r=e.className,o=void 0===r?"":r,p=(0,a.default)((0,s.default)({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},n));return i.default.createElement("div",{style:p.picker,className:"photoshop-picker "+o},i.default.createElement("div",{style:p.head},this.props.header),i.default.createElement("div",{style:p.body,className:"flexbox-fix"},i.default.createElement("div",{style:p.saturation},i.default.createElement(l.Saturation,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:c.default,onChange:this.props.onChange})),i.default.createElement("div",{style:p.hue},i.default.createElement(l.Hue,{direction:"vertical",hsl:this.props.hsl,pointer:f.default,onChange:this.props.onChange})),i.default.createElement("div",{style:p.controls},i.default.createElement("div",{style:p.top,className:"flexbox-fix"},i.default.createElement("div",{style:p.previews},i.default.createElement(h.default,{rgb:this.props.rgb,currentColor:this.state.currentColor})),i.default.createElement("div",{style:p.actions},i.default.createElement(d.default,{label:"OK",onClick:this.props.onAccept,active:!0}),i.default.createElement(d.default,{label:"Cancel",onClick:this.props.onCancel}),i.default.createElement(u.default,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(i.default.Component);m.propTypes={header:o.default.string,styles:o.default.object},m.defaultProps={header:"Color Picker",styles:{}},t.default=(0,l.ColorWrap)(m)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPicker=void 0;var r=s(n(1)),i=s(n(12)),o=s(n(56)),a=n(22);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.PhotoshopPicker=function(e){var t=e.onChange,n=e.rgb,s=e.hsv,l=e.hex,u=(0,i.default)({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),c=function(e,r){e["#"]?o.default.isValidHex(e["#"])&&t({hex:e["#"],source:"hex"},r):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},r):(e.h||e.s||e.v)&&t({h:e.h||s.h,s:e.s||s.s,v:e.v||s.v,source:"hsv"},r)};return r.default.createElement("div",{style:u.fields},r.default.createElement(a.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"h",value:Math.round(s.h),onChange:c}),r.default.createElement(a.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"s",value:Math.round(100*s.s),onChange:c}),r.default.createElement(a.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"v",value:Math.round(100*s.v),onChange:c}),r.default.createElement("div",{style:u.divider}),r.default.createElement(a.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"r",value:n.r,onChange:c}),r.default.createElement(a.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"g",value:n.g,onChange:c}),r.default.createElement(a.EditableInput,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"b",value:n.b,onChange:c}),r.default.createElement("div",{style:u.divider}),r.default.createElement(a.EditableInput,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:"#",value:l.replace("#",""),onChange:c}),r.default.createElement("div",{style:u.fieldSymbols},r.default.createElement("div",{style:u.symbol},"\xb0"),r.default.createElement("div",{style:u.symbol},"%"),r.default.createElement("div",{style:u.symbol},"%")))};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPointerCircle=void 0;var r=o(n(1)),i=o(n(12));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.PhotoshopPointerCircle=function(e){var t=e.hsl,n=(0,i.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":t.l>.5});return r.default.createElement("div",{style:n.picker})};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPointerCircle=void 0;var r=o(n(1)),i=o(n(12));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.PhotoshopPointerCircle=function(){var e=(0,i.default)({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return r.default.createElement("div",{style:e.pointer},r.default.createElement("div",{style:e.left},r.default.createElement("div",{style:e.leftInside})),r.default.createElement("div",{style:e.right},r.default.createElement("div",{style:e.rightInside})))};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopBotton=void 0;var r=o(n(1)),i=o(n(12));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.PhotoshopBotton=function(e){var t=e.onClick,n=e.label,o=e.children,a=e.active,s=(0,i.default)({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:a});return r.default.createElement("div",{style:s.button,onClick:t},n||o)};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPreviews=void 0;var r=o(n(1)),i=o(n(12));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.PhotoshopPreviews=function(e){var t=e.rgb,n=e.currentColor,o=(0,i.default)({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+t.r+","+t.g+", "+t.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:n,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return r.default.createElement("div",null,r.default.createElement("div",{style:o.label},"new"),r.default.createElement("div",{style:o.swatches},r.default.createElement("div",{style:o.new}),r.default.createElement("div",{style:o.current})),r.default.createElement("div",{style:o.label},"current"))};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sketch=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=f(n(1)),o=f(n(2)),a=f(n(12)),s=f(n(43)),l=n(22),u=f(n(866)),c=f(n(867));function f(e){return e&&e.__esModule?e:{default:e}}var d=t.Sketch=function(e){var t=e.width,n=e.rgb,o=e.hex,f=e.hsv,d=e.hsl,h=e.onChange,p=e.onSwatchHover,m=e.disableAlpha,v=e.presetColors,g=e.renderers,y=e.styles,b=void 0===y?{}:y,_=e.className,x=void 0===_?"":_,w=(0,a.default)((0,s.default)({default:r({picker:{width:t,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+n.r+","+n.g+","+n.b+","+n.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},b),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},b),{disableAlpha:m});return i.default.createElement("div",{style:w.picker,className:"sketch-picker "+x},i.default.createElement("div",{style:w.saturation},i.default.createElement(l.Saturation,{style:w.Saturation,hsl:d,hsv:f,onChange:h})),i.default.createElement("div",{style:w.controls,className:"flexbox-fix"},i.default.createElement("div",{style:w.sliders},i.default.createElement("div",{style:w.hue},i.default.createElement(l.Hue,{style:w.Hue,hsl:d,onChange:h})),i.default.createElement("div",{style:w.alpha},i.default.createElement(l.Alpha,{style:w.Alpha,rgb:n,hsl:d,renderers:g,onChange:h}))),i.default.createElement("div",{style:w.color},i.default.createElement(l.Checkboard,null),i.default.createElement("div",{style:w.activeColor}))),i.default.createElement(u.default,{rgb:n,hsl:d,hex:o,onChange:h,disableAlpha:m}),i.default.createElement(c.default,{colors:v,onClick:h,onSwatchHover:p}))};d.propTypes={disableAlpha:o.default.bool,width:o.default.oneOfType([o.default.string,o.default.number]),styles:o.default.object},d.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]},t.default=(0,l.ColorWrap)(d)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SketchFields=void 0;var r=s(n(1)),i=s(n(12)),o=s(n(56)),a=n(22);function s(e){return e&&e.__esModule?e:{default:e}}var l=t.SketchFields=function(e){var t=e.onChange,n=e.rgb,s=e.hsl,l=e.hex,u=e.disableAlpha,c=(0,i.default)({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:u}),f=function(e,r){e.hex?o.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},r):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,a:n.a,source:"rgb"},r):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,t({h:s.h,s:s.s,l:s.l,a:e.a,source:"rgb"},r))};return r.default.createElement("div",{style:c.fields,className:"flexbox-fix"},r.default.createElement("div",{style:c.double},r.default.createElement(a.EditableInput,{style:{input:c.input,label:c.label},label:"hex",value:l.replace("#",""),onChange:f})),r.default.createElement("div",{style:c.single},r.default.createElement(a.EditableInput,{style:{input:c.input,label:c.label},label:"r",value:n.r,onChange:f,dragLabel:"true",dragMax:"255"})),r.default.createElement("div",{style:c.single},r.default.createElement(a.EditableInput,{style:{input:c.input,label:c.label},label:"g",value:n.g,onChange:f,dragLabel:"true",dragMax:"255"})),r.default.createElement("div",{style:c.single},r.default.createElement(a.EditableInput,{style:{input:c.input,label:c.label},label:"b",value:n.b,onChange:f,dragLabel:"true",dragMax:"255"})),r.default.createElement("div",{style:c.alpha},r.default.createElement(a.EditableInput,{style:{input:c.input,label:c.label},label:"a",value:Math.round(100*n.a),onChange:f,dragLabel:"true",dragMax:"100"})))};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SketchPresetColors=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=l(n(1)),o=l(n(2)),a=l(n(12)),s=n(22);function l(e){return e&&e.__esModule?e:{default:e}}var u=t.SketchPresetColors=function(e){var t=e.colors,n=e.onClick,o=void 0===n?function(){}:n,l=e.onSwatchHover,u=(0,a.default)({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!t||!t.length}),c=function(e,t){o({hex:e,source:"hex"},t)};return i.default.createElement("div",{style:u.colors,className:"flexbox-fix"},t.map((function(e){var t="string"===typeof e?{color:e}:e,n=""+t.color+(t.title||"");return i.default.createElement("div",{key:n,style:u.swatchWrap},i.default.createElement(s.Swatch,r({},t,{style:u.swatch,onClick:c,onHover:l,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+t.color}})))})))};u.propTypes={colors:o.default.arrayOf(o.default.oneOfType([o.default.string,o.default.shape({color:o.default.string,title:o.default.string})])).isRequired},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Slider=void 0;var r=c(n(1)),i=c(n(2)),o=c(n(12)),a=c(n(43)),s=n(22),l=c(n(869)),u=c(n(871));function c(e){return e&&e.__esModule?e:{default:e}}var f=t.Slider=function(e){var t=e.hsl,n=e.onChange,i=e.pointer,u=e.styles,c=void 0===u?{}:u,f=e.className,d=void 0===f?"":f,h=(0,o.default)((0,a.default)({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},c));return r.default.createElement("div",{style:h.wrap||"",className:"slider-picker "+d},r.default.createElement("div",{style:h.hue},r.default.createElement(s.Hue,{style:h.Hue,hsl:t,pointer:i,onChange:n})),r.default.createElement("div",{style:h.swatches},r.default.createElement(l.default,{hsl:t,onClick:n})))};f.propTypes={styles:i.default.object},f.defaultProps={pointer:u.default,styles:{}},t.default=(0,s.ColorWrap)(f)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderSwatches=void 0;var r=a(n(1)),i=a(n(12)),o=a(n(870));function a(e){return e&&e.__esModule?e:{default:e}}var s=t.SliderSwatches=function(e){var t=e.onClick,n=e.hsl,a=(0,i.default)({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}});return r.default.createElement("div",{style:a.swatches},r.default.createElement("div",{style:a.swatch},r.default.createElement(o.default,{hsl:n,offset:".80",active:Math.round(100*n.l)/100===.8&&Math.round(100*n.s)/100===.5,onClick:t,first:!0})),r.default.createElement("div",{style:a.swatch},r.default.createElement(o.default,{hsl:n,offset:".65",active:Math.round(100*n.l)/100===.65&&Math.round(100*n.s)/100===.5,onClick:t})),r.default.createElement("div",{style:a.swatch},r.default.createElement(o.default,{hsl:n,offset:".50",active:Math.round(100*n.l)/100===.5&&Math.round(100*n.s)/100===.5,onClick:t})),r.default.createElement("div",{style:a.swatch},r.default.createElement(o.default,{hsl:n,offset:".35",active:Math.round(100*n.l)/100===.35&&Math.round(100*n.s)/100===.5,onClick:t})),r.default.createElement("div",{style:a.swatch},r.default.createElement(o.default,{hsl:n,offset:".20",active:Math.round(100*n.l)/100===.2&&Math.round(100*n.s)/100===.5,onClick:t,last:!0})),r.default.createElement("div",{style:a.clear}))};t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderSwatch=void 0;var r=o(n(1)),i=o(n(12));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.SliderSwatch=function(e){var t=e.hsl,n=e.offset,o=e.onClick,a=void 0===o?function(){}:o,s=e.active,l=e.first,u=e.last,c=(0,i.default)({default:{swatch:{height:"12px",background:"hsl("+t.h+", 50%, "+100*n+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:s,first:l,last:u});return r.default.createElement("div",{style:c.swatch,onClick:function(e){return a({h:t.h,s:.5,l:n,source:"hsl"},e)}})};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderPointer=void 0;var r=o(n(1)),i=o(n(12));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.SliderPointer=function(){var e=(0,i.default)({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return r.default.createElement("div",{style:e.picker})};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Swatches=void 0;var r=d(n(1)),i=d(n(2)),o=d(n(12)),a=d(n(71)),s=d(n(43)),l=d(n(56)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(418)),c=n(22),f=d(n(873));function d(e){return e&&e.__esModule?e:{default:e}}var h=t.Swatches=function(e){var t=e.width,n=e.height,i=e.onChange,u=e.onSwatchHover,d=e.colors,h=e.hex,p=e.styles,m=void 0===p?{}:p,v=e.className,g=void 0===v?"":v,y=(0,o.default)((0,s.default)({default:{picker:{width:t,height:n},overflow:{height:n,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},m)),b=function(e,t){l.default.isValidHex(e)&&i({hex:e,source:"hex"},t)};return r.default.createElement("div",{style:y.picker,className:"swatches-picker "+g},r.default.createElement(c.Raised,null,r.default.createElement("div",{style:y.overflow},r.default.createElement("div",{style:y.body},(0,a.default)(d,(function(e){return r.default.createElement(f.default,{key:e.toString(),group:e,active:h,onClick:b,onSwatchHover:u})})),r.default.createElement("div",{style:y.clear})))))};h.propTypes={width:i.default.oneOfType([i.default.string,i.default.number]),height:i.default.oneOfType([i.default.string,i.default.number]),colors:i.default.arrayOf(i.default.arrayOf(i.default.string)),styles:i.default.object},h.defaultProps={width:320,height:240,colors:[[u.red[900],u.red[700],u.red[500],u.red[300],u.red[100]],[u.pink[900],u.pink[700],u.pink[500],u.pink[300],u.pink[100]],[u.purple[900],u.purple[700],u.purple[500],u.purple[300],u.purple[100]],[u.deepPurple[900],u.deepPurple[700],u.deepPurple[500],u.deepPurple[300],u.deepPurple[100]],[u.indigo[900],u.indigo[700],u.indigo[500],u.indigo[300],u.indigo[100]],[u.blue[900],u.blue[700],u.blue[500],u.blue[300],u.blue[100]],[u.lightBlue[900],u.lightBlue[700],u.lightBlue[500],u.lightBlue[300],u.lightBlue[100]],[u.cyan[900],u.cyan[700],u.cyan[500],u.cyan[300],u.cyan[100]],[u.teal[900],u.teal[700],u.teal[500],u.teal[300],u.teal[100]],["#194D33",u.green[700],u.green[500],u.green[300],u.green[100]],[u.lightGreen[900],u.lightGreen[700],u.lightGreen[500],u.lightGreen[300],u.lightGreen[100]],[u.lime[900],u.lime[700],u.lime[500],u.lime[300],u.lime[100]],[u.yellow[900],u.yellow[700],u.yellow[500],u.yellow[300],u.yellow[100]],[u.amber[900],u.amber[700],u.amber[500],u.amber[300],u.amber[100]],[u.orange[900],u.orange[700],u.orange[500],u.orange[300],u.orange[100]],[u.deepOrange[900],u.deepOrange[700],u.deepOrange[500],u.deepOrange[300],u.deepOrange[100]],[u.brown[900],u.brown[700],u.brown[500],u.brown[300],u.brown[100]],[u.blueGrey[900],u.blueGrey[700],u.blueGrey[500],u.blueGrey[300],u.blueGrey[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}},t.default=(0,c.ColorWrap)(h)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SwatchesGroup=void 0;var r=s(n(1)),i=s(n(12)),o=s(n(71)),a=s(n(874));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.SwatchesGroup=function(e){var t=e.onClick,n=e.onSwatchHover,s=e.group,l=e.active,u=(0,i.default)({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return r.default.createElement("div",{style:u.group},(0,o.default)(s,(function(e,i){return r.default.createElement(a.default,{key:e,color:e,active:e.toLowerCase()===l,first:0===i,last:i===s.length-1,onClick:t,onSwatchHover:n})})))};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SwatchesColor=void 0;var r=l(n(1)),i=l(n(12)),o=l(n(56)),a=n(22),s=l(n(875));function l(e){return e&&e.__esModule?e:{default:e}}var u=t.SwatchesColor=function(e){var t=e.color,n=e.onClick,l=void 0===n?function(){}:n,u=e.onSwatchHover,c=e.first,f=e.last,d=e.active,h=(0,i.default)({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:t,marginBottom:"1px"},check:{color:o.default.getContrastingColor(t),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:c,last:f,active:d,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return r.default.createElement(a.Swatch,{color:t,style:h.color,onClick:l,onHover:u,focusStyle:{boxShadow:"0 0 4px "+t}},r.default.createElement("div",{style:h.check},r.default.createElement(s.default,null)))};t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),a=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){var t=e.fill,n=void 0===t?"currentColor":t,r=e.width,o=void 0===r?24:r,s=e.height,l=void 0===s?24:s,u=e.style,c=void 0===u?{}:u,f=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["fill","width","height","style"]);return a.default.createElement("svg",i({viewBox:"0 0 24 24",style:i({fill:n,width:o,height:l},c)},f),a.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Twitter=void 0;var r=c(n(1)),i=c(n(2)),o=c(n(12)),a=c(n(71)),s=c(n(43)),l=c(n(56)),u=n(22);function c(e){return e&&e.__esModule?e:{default:e}}var f=t.Twitter=function(e){var t=e.onChange,n=e.onSwatchHover,i=e.hex,c=e.colors,f=e.width,d=e.triangle,h=e.styles,p=void 0===h?{}:h,m=e.className,v=void 0===m?"":m,g=(0,o.default)((0,s.default)({default:{card:{width:f,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},p),{"hide-triangle":"hide"===d,"top-left-triangle":"top-left"===d,"top-right-triangle":"top-right"===d}),y=function(e,n){l.default.isValidHex(e)&&t({hex:e,source:"hex"},n)};return r.default.createElement("div",{style:g.card,className:"twitter-picker "+v},r.default.createElement("div",{style:g.triangleShadow}),r.default.createElement("div",{style:g.triangle}),r.default.createElement("div",{style:g.body},(0,a.default)(c,(function(e,t){return r.default.createElement(u.Swatch,{key:t,color:e,hex:e,style:g.swatch,onClick:y,onHover:n,focusStyle:{boxShadow:"0 0 4px "+e}})})),r.default.createElement("div",{style:g.hash},"#"),r.default.createElement(u.EditableInput,{style:{input:g.input},value:i.replace("#",""),onChange:y}),r.default.createElement("div",{style:g.clear})))};f.propTypes={width:i.default.oneOfType([i.default.string,i.default.number]),triangle:i.default.oneOf(["hide","top-left","top-right"]),colors:i.default.arrayOf(i.default.string),styles:i.default.object},f.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}},t.default=(0,u.ColorWrap)(f)},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TRACKS_INFO=void 0;var r=s(n(879)),i=s(n(51)),o=n(321),a=n(376);function s(e){return e&&e.__esModule?e:{default:e}}var l={type:"osm-tiles",datatype:["map-tiles"],local:!0,orientation:"2d",hidden:!0,name:"OSM Tiles",thumbnail:a.svgGeoMapIcon,availableOptions:["minPos","maxPos","maxZoom","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","name"],defaultOptions:{minPos:-180,maxPos:180,maxZoom:19,labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0}},u={type:"mapbox-tiles",datatype:["map-tiles"],local:!0,orientation:"2d",hidden:!0,name:"Mapbox Tiles",thumbnail:a.svgGeoMapIcon,availableOptions:["style","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","name"],defaultOptions:{style:"mapbox.streets",labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0}},c=t.TRACKS_INFO=[l,(0,i.default)({},l,{type:"osm"}),u,(0,i.default)({},u,{type:"mapbox"}),{type:"left-axis",datatype:["axis"],local:!0,orientation:"1d-vertical",name:"Left Axis",thumbnail:a.svgVertical1DAxisIcon,availableOptions:["minWidth"],defaultOptions:{minWidth:100}},{type:"top-axis",datatype:["axis"],local:!0,orientation:"1d-horizontal",name:"Top Axis",thumbnail:a.svg1DAxisIcon,defaultOptions:{}},{type:"horizontal-rule",datatype:["x-coord"],local:!0,orientation:"whole",name:"Horizontal Rule",thumbnail:null,defaultOptions:{}},{type:"vertical-rule",datatype:["y-coord"],local:!0,orientation:"whole",name:"Vertical Rule",thumbnail:null,defaultOptions:{}},{type:"cross-rule",datatype:["xy-coord"],local:!0,orientation:"whole",name:"Cross Rule",thumbnail:null,defaultOptions:{}},{type:"simple-svg",datatype:[],local:!1,orientation:"2d",exportable:!0,availableOptions:["minWidth","minHeight"],defaultOptions:{minWidth:100,minHeight:100}},{type:"heatmap",datatype:["matrix"],local:!1,orientation:"2d",thumbnail:a.svg2DHeatmapIcon,exportable:!0,availableOptions:["backgroundColor","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","colorRange","colorbarBackgroundColor","maxZoom","minWidth","minHeight","dataTransform","colorbarPosition","trackBorderWidth","trackBorderColor","heatmapValueScaling","showMousePosition","mousePositionColor","showTooltip","extent","zeroValueColor"],defaultOptions:{backgroundColor:"#eeeeee",labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!0,labelShowAssembly:!0,colorRange:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"],colorbarBackgroundColor:"#ffffff",maxZoom:null,minWidth:100,minHeight:100,colorbarPosition:"topRight",trackBorderWidth:0,trackBorderColor:"black",heatmapValueScaling:"log",showMousePosition:!1,mousePositionColor:"#000000",showTooltip:!1,extent:"full",zeroValueColor:null},defaultOptionsByTheme:(0,r.default)({},o.THEME_DARK,{backgroundColor:"#000000",colorRange:["black","rgba(208,2,27,1.0)","rgba(245,166,35,1.0)","white"],colorbarBackgroundColor:"#000000",labelColor:"#ffffff",labelBackgroundColor:"#000000",trackBorderColor:"#ffffff",mousePositionColor:"#ffffff"})},{type:"horizontal-heatmap",datatype:["matrix"],local:!1,orientation:"1d-horizontal",thumbnail:a.svg2DHeatmapIcon,defaultOptions:{backgroundColor:"#eeeeee",labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!0,labelShowAssembly:!0,labelColor:"black",colorRange:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"],maxZoom:null,minWidth:100,minHeight:40,trackBorderWidth:0,trackBorderColor:"black"},availableOptions:["backgroundColor","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","colorRange","maxZoom","minWidth","minHeight","dataTransform","oneDHeatmapFlipped","colorbarPosition","trackBorderWidth","trackBorderColor","heatmapValueScaling"]},{type:"vertical-heatmap",datatype:["matrix"],local:!1,orientation:"1d-vertical",thumbnail:a.svg2DHeatmapIcon,defaultOptions:{backgroundColor:"#eeeeee",labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!0,labelShowAssembly:!0,labelColor:"black",minWidth:50,minHeight:100,colorRange:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"],maxZoom:null,colorbarPosition:"topRight",trackBorderWidth:0,trackBorderColor:"black"},availableOptions:["backgroundColor","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","minWidth","minHeight","colorRange","maxZoom","dataTransform","oneDHeatmapFlipped","colorbarPosition","trackBorderWidth","trackBorderColor","heatmapValueScaling"]},{type:"horizontal-line",datatype:["vector"],local:!1,orientation:"1d-horizontal",thumbnail:a.svgHorizontalLineIcon,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundColor","labelBackgroundOpacity","axisLabelFormatting","axisPositionHorizontal","axisMargin","lineStrokeWidth","lineStrokeColor","valueScaling","valueScaleMin","valueScaleMax","trackBorderWidth","trackBorderColor","trackType","showMousePosition","showTooltip","mousePositionColor","aggregationMode","minHeight"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelBackgroundColor:"white",labelShowResolution:!1,labelShowAssembly:!0,axisLabelFormatting:"scientific",axisPositionHorizontal:"right",lineStrokeColor:"blue",lineStrokeWidth:1,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,showMousePosition:!1,minHeight:20,mousePositionColor:"#000000",showTooltip:!1},defaultOptionsByTheme:(0,r.default)({},o.THEME_DARK,{labelColor:"#ffffff",labelBackgroundColor:"#000000",trackBorderColor:"#ffffff",mousePositionColor:"#ffffff"})},{type:"horizontal-1d-heatmap",datatype:["vector"],local:!1,orientation:"1d-horizontal",thumbnail:a.svgHorizontal1dHeatmap,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","axisPositionHorizontal","axisMargin","colorRange","valueScaling","trackBorderWidth","trackBorderColor","trackType","showMousePosition","showTooltip","mousePositionColor","aggregationMode"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,axisPositionHorizontal:"right",colorRange:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"],valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,showMousePosition:!1,mousePositionColor:"#000000",showTooltip:!1}},{type:"vertical-1d-heatmap",datatype:["vector"],local:!1,orientation:"1d-vertical",thumbnail:a.svgHorizontal1dHeatmap,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","axisPositionHorizontal","axisMargin","colorRange","valueScaling","trackBorderWidth","trackBorderColor","trackType","showMousePosition","showTooltip","mousePositionColor","aggregationMode"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,axisPositionHorizontal:"right",colorRange:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"],valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,showMousePosition:!1,mousePositionColor:"#000000",showTooltip:!1}},{type:"horizontal-vector-heatmap",datatype:["vector"],local:!1,orientation:"1d-horizontal",minHeight:1,thumbnail:null,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","valueScaling","labelTextOpacity","labelBackgroundOpacity","colorRange","trackBorderWidth","trackBorderColor","trackType","heatmapValueScaling"],defaultOptions:{labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,labelColor:"black",labelTextOpacity:.4,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",heatmapValueScaling:"log"}},{type:"vertical-vector-heatmap",datatype:["vector"],local:!1,orientation:"1d-vertical",thumbnail:null,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","minWidth","valueScaling","labelTextOpacity","labelBackgroundOpacity","colorRange","trackBorderWidth","trackBorderColor","trackType","heatmapValueScaling"],defaultOptions:{labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,labelColor:"black",labelTextOpacity:.4,minWidth:100,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",heatmapValueScaling:"log"}},{type:"horizontal-multivec",datatype:["multivec"],local:!1,orientation:"1d-horizontal",thumbnail:null,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","minHeight","valueScaling","labelTextOpacity","labelBackgroundOpacity","colorRange","trackBorderWidth","trackBorderColor","trackType","heatmapValueScaling","selectRows","selectRowsAggregationMode","selectRowsAggregationWithRelativeHeight","colorbarBackgroundColor","colorbarPosition","zeroValueColor"],defaultOptions:{labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!0,labelShowAssembly:!0,labelColor:"black",labelTextOpacity:.4,minHeight:100,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",heatmapValueScaling:"log",selectRows:null,selectRowsAggregationMode:"mean",selectRowsAggregationWithRelativeHeight:!0,colorbarBackgroundColor:"#ffffff",colorbarPosition:"topRight",zeroValueColor:null},defaultOptionsByTheme:(0,r.default)({},o.THEME_DARK,{colorbarBackgroundColor:"#000000"})},{type:"vertical-multivec",datatype:["multivec"],local:!1,orientation:"1d-vertical",thumbnail:null,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","minWidth","valueScaling","labelTextOpacity","labelBackgroundOpacity","colorRange","trackBorderWidth","trackBorderColor","trackType","heatmapValueScaling"],defaultOptions:{labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelColor:"black",labelTextOpacity:.4,labelShowResolution:!0,labelShowAssembly:!0,minWidth:100,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",heatmapValueScaling:"log"}},{type:"vertical-line",datatype:["vector"],local:!1,orientation:"1d-vertical",thumbnail:a.svgVerticalLineIcon,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundColor","labelBackgroundOpacity","axisLabelFormatting","axisPositionVertical","axisPositionVerticalMargin","lineStrokeWidth","lineStrokeColor","valueScaling","valueScaleMin","valueScaleMax","trackBorderWidth","trackBorderColor","showMousePosition","showTooltip","mousePositionColor","aggregationMode"],defaultOptions:{labelColor:"black",labelPosition:"bottomLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelBackgroundColor:"white",labelShowResolution:!1,labelShowAssembly:!0,axisLabelFormatting:"scientific",axisPositionVertical:"top",lineStrokeWidth:1,lineStrokeColor:"blue",valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,showMousePosition:!1,showTooltip:!1,mousePositionColor:"#000000"},defaultOptionsByTheme:(0,r.default)({},o.THEME_DARK,{labelColor:"#ffffff",labelBackgroundColor:"#000000",trackBorderColor:"#ffffff",mousePositionColor:"#ffffff"})},{type:"horizontal-point",datatype:["vector"],local:!1,orientation:"1d-horizontal",availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","axisLabelFormatting","axisPositionHorizontal","axisMargin","pointColor","pointSize","valueScaling","trackBorderWidth","trackBorderColor"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,axisLabelFormatting:"scientific",axisPositionHorizontal:"right",pointColor:"red",pointSize:3,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4}},{type:"horizontal-divergent-bar",datatype:["vector"],local:!1,orientation:"1d-horizontal",availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","axisLabelFormatting","axisPositionHorizontal","axisMargin","barFillColorTop","barFillColorBottom","valueScaling","trackBorderWidth","trackBorderColor","barOpacity"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,axisPositionHorizontal:"right",axisLabelFormatting:"scientific",barFillColorBottom:"red",barFillColorTop:"green",valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,barOpacity:1}},{type:"horizontal-bar",datatype:["vector"],local:!1,orientation:"1d-horizontal",availableOptions:["align","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","axisLabelFormatting","axisPositionHorizontal","axisMargin","barFillColor","colorRange","colorRangeGradient","valueScaling","valueScaleMin","valueScaleMax","trackBorderWidth","trackBorderColor","barOpacity","showMousePosition","showTooltip","aggregationMode","zeroLineVisible","zeroLineColor","zeroLineOpacity"],defaultOptions:{align:"bottom",labelColor:"[glyph-color]",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,axisLabelFormatting:"scientific",axisPositionHorizontal:"right",barFillColor:"darkgreen",valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,barOpacity:1}},{type:"vertical-bar",datatype:["vector"],local:!1,orientation:"1d-vertical",availableOptions:["align","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","axisLabelFormatting","axisPositionHorizontal","axisMargin","barFillColor","colorRange","colorRangeGradient","valueScaling","valueScaleMin","valueScaleMax","trackBorderWidth","trackBorderColor","barOpacity","showMousePosition","showTooltip","aggregationMode","zeroLineVisible","zeroLineColor","zeroLineOpacity"],defaultOptions:{align:"bottom",labelColor:"black",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,axisLabelFormatting:"scientific",axisPositionHorizontal:"right",barFillColor:"darkgreen",valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,barOpacity:1}},{type:"vertical-point",datatype:["vector"],local:!1,orientation:"1d-vertical",availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","axisLabelFormatting","axisPositionHorizontal","axisMargin","pointColor","pointSize","valueScaling","trackBorderWidth","trackBorderColor"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,axisLabelFormatting:"scientific",axisPositionHorizontal:"right",pointColor:"red",pointSize:3,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4}},{type:"2d-tiles",datatype:["matrix"],local:!1,orientation:"2d",name:"2D Tile Outlines",thumbnail:a.svg2DTilesIcon},{type:"horizontal-1d-value-interval",datatype:["bed-value"],local:!1,orientation:["1d-horizontal"],name:"1D Rectangles",availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","axisPositionHorizontal","axisMargin"],defaultOptions:{labelColor:"black",labelPosition:"bottomLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,axisPositionHorizontal:"left",lineStrokeColor:"blue",valueScaling:"linear"}},{type:"vertical-1d-value-interval",datatype:["bed-value"],local:!1,orientation:["1d-vertical"],name:"1D Rectangles",availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","axisPositionVertical","axisPositionVerticalMargin"],defaultOptions:{labelColor:"black",labelPosition:"bottomLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,axisPositionVertical:"top",lineStrokeColor:"blue",valueScaling:"linear"}},{type:"top-stacked-interval",datatype:["stacked-interval"],local:!1,orientation:"1d-horizontal",thumbnail:"horizontal-stacked-interval.png",availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity"]},{type:"left-stacked-interval",datatype:["stacked-interval"],local:!1,orientation:"1d-vertical",thumbnail:"vertical-stacked-interval.png",availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity"]},{type:"viewport-projection-vertical",datatype:["1d-projection"],local:!0,hidden:!0,orientation:"1d-vertical",name:"Viewport Projection",thumbnail:"viewport-projection-center.png",availableOptions:["projectionFillColor","projectionStrokeColor","strokeWidth"],defaultOptions:{projectionFillColor:"#777",projectionStrokeColor:"#777",projectionFillOpacity:.3,projectionStrokeOpacity:.7,strokeWidth:1}},{type:"viewport-projection-horizontal",datatype:["1d-projection"],local:!0,hidden:!0,orientation:"1d-horizontal",name:"Viewport Projection",thumbnail:"viewport-projection-center.png",availableOptions:["projectionFillColor","projectionStrokeColor","strokeWidth"],defaultOptions:{projectionFillColor:"#777",projectionStrokeColor:"#777",projectionFillOpacity:.3,projectionStrokeOpacity:.7,strokeWidth:1}},{type:"viewport-projection-center",datatype:["2d-projection"],local:!0,hidden:!0,orientation:"2d",name:"Viewport Projection",thumbnail:"viewport-projection-center.png",availableOptions:["projectionFillColor","projectionStrokeColor","strokeWidth"],defaultOptions:{projectionFillColor:"#777",projectionStrokeColor:"#777",projectionFillOpacity:.3,projectionStrokeOpacity:.7,strokeWidth:1}},{type:"horizontal-gene-annotations",datatype:["gene-annotation"],local:!1,defaultHeight:90,orientation:"1d-horizontal",name:"Gene Annotations",thumbnail:a.svgGeneAnnotationsIcon,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundColor","labelBackgroundOpacity","minHeight","plusStrandColor","minusStrandColor","trackBorderWidth","trackBorderColor","showMousePosition","mousePositionColor","fontSize","geneAnnotationHeight","geneLabelPosition","geneStrandSpacing"],defaultOptions:{fontSize:10,labelColor:"black",labelBackgroundColor:"#ffffff",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,minHeight:24,plusStrandColor:"blue",minusStrandColor:"red",trackBorderWidth:0,trackBorderColor:"black",showMousePosition:!1,mousePositionColor:"#000000",geneAnnotationHeight:16,geneLabelPosition:"outside",geneStrandSpacing:4},defaultOptionsByTheme:(0,r.default)({},o.THEME_DARK,{labelColor:"#ffffff",labelBackgroundColor:"#000000",trackBorderColor:"#ffffff",mousePositionColor:"#ffffff",plusStrandColor:"#40a0ff"})},{type:"vertical-gene-annotations",datatype:["gene-annotation"],local:!1,defaultWidth:90,orientation:"1d-vertical",name:"Gene Annotations",thumbnail:a.svgVerticalGeneAnnotationsIcon,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","minWidth","plusStrandColor","minusStrandColor","trackBorderWidth","trackBorderColor","showMousePosition","mousePositionColor","fontSize","geneAnnotationHeight","geneLabelPosition","geneStrandSpacing"],defaultOptions:{fontSize:10,labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,minWidth:24,plusStrandColor:"blue",minusStrandColor:"red",trackBorderWidth:0,trackBorderColor:"black",showMousePosition:!1,mousePositionColor:"#000000",geneAnnotationHeight:16,geneLabelPosition:"outside",geneStrandSpacing:4},defaultOptionsByTheme:(0,r.default)({},o.THEME_DARK,{labelColor:"#ffffff",labelBackgroundColor:"#000000",trackBorderColor:"#ffffff",mousePositionColor:"#ffffff",plusStrandColor:"#40a0ff"})},{type:"arrowhead-domains",datatype:["arrowhead-domains"],local:!1,orientation:"2d",name:"Arrowhead Domains",thumbnail:a.svgArrowheadDomainsIcon,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor"],defaultOptions:{labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black"}},{type:"vertical-2d-rectangle-domains",datatype:["2d-rectangle-domains"],local:!1,orientation:"1d-vertical",name:"Vertical 2D Rectangle Domains",thumbnail:a.svgArrowheadDomainsIcon,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor","rectangleDomainFillColor","rectangleDomainStrokeColor","rectangleDomainOpacity","minSquareSize"],defaultOptions:{labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black",rectangleDomainFillColor:"grey",rectangleDomainStrokeColor:"black",rectangleDomainOpacity:.6,minSquareSize:"none"}},{type:"horizontal-2d-rectangle-domains",datatype:["2d-rectangle-domains"],local:!1,orientation:"1d-horizontal",name:"Horizontal 2D Rectangle Domains",thumbnail:a.svgArrowheadDomainsIcon,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor","rectangleDomainFillColor","rectangleDomainStrokeColor","rectangleDomainOpacity","minSquareSize"],defaultOptions:{labelColor:"black",labelPosition:"bottomLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black",rectangleDomainFillColor:"grey",rectangleDomainStrokeColor:"black",rectangleDomainOpacity:.6,minSquareSize:"none"}},{type:"2d-rectangle-domains",datatype:["2d-rectangle-domains"],local:!1,orientation:"2d",name:"2D Rectangle Domains",thumbnail:a.svgArrowheadDomainsIcon,availableOptions:["flipDiagonal","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor","rectangleDomainFillColor","rectangleDomainStrokeColor","rectangleDomainOpacity","minSquareSize"],defaultOptions:{flipDiagonal:"none",labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black",rectangleDomainFillColor:"grey",rectangleDomainStrokeColor:"black",rectangleDomainOpacity:.6,minSquareSize:"none"}},{type:"horizontal-1d-annotations",datatype:["nothing"],local:!1,orientation:"1d-horizontal",name:"Horizontal 1D Annotations",thumbnail:null,availableOptions:["fill","fillOpacity","stroke","strokeOpacity","strokeWidth","strokePos","regions"],defaultOptions:{fill:"red",fillOpacity:.2,stroke:"red",strokeOpacity:0,strokeWidth:1,regions:[],strokePos:[]}},{type:"vertical-1d-annotations",datatype:["nothing"],local:!1,orientation:"1d-vertical",name:"Vertical 1D Annotations",thumbnail:null,availableOptions:["fill","fillOpacity","stroke","strokeOpacity","regions"],defaultOptions:{fill:"red",fillOpacity:"0.2",stroke:"red",strokeOpacity:"0",regions:[]}},{type:"2d-annotations",datatype:["2d-annotations"],local:!1,orientation:"2d",name:"2D Annotations",thumbnail:a.svgArrowheadDomainsIcon,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor","rectangleDomainFillColor","rectangleDomainStrokeColor","rectangleDomainOpacity","minSquareSize","isClickable","hoverColor","selectColor","exclude","trackBorderBgWidth","trackBorderBgColor","trackBorderBgAlpha"],defaultOptions:{labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black",rectangleDomainFillColor:"grey",rectangleDomainStrokeColor:"black",rectangleDomainOpacity:.6,minSquareSize:"none",isClickable:!1,hoverColor:"orange",selectColor:"fuchsia",exclude:[],trackBorderBgWidth:0,trackBorderBgColor:"black",trackBorderBgAlpha:.33}},{type:"square-markers",datatype:["bedpe"],local:!1,orientation:"2d",name:"Square Markers",thumbnail:a.svgArrowheadDomainsIcon,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor"],defaultOptions:{labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black"}},{type:"combined",datatype:"any",local:!0,orientation:"any"},{type:"horizontal-chromosome-grid",datatype:["chromsizes"],local:!1,orientation:"1d-horizontal",name:"Chromosome Grid",chromInfoPath:"//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv",thumbnail:null,availableOptions:["lineStrokeWidth","lineStrokeColor","showMousePosition"],defaultOptions:{lineStrokeWidth:1,lineStrokeColor:"grey",showMousePosition:!1}},{type:"vertical-chromosome-grid",datatype:["chromsizes"],local:!1,orientation:"1d-vertical",name:"Chromosome Grid",chromInfoPath:"//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv",thumbnail:null,availableOptions:["lineStrokeWidth","lineStrokeColor","showMousePosition"],defaultOptions:{lineStrokeWidth:1,lineStrokeColor:"grey",showMousePosition:!1}},{type:"2d-chromosome-grid",datatype:["chromsizes"],local:!1,orientation:"2d",name:"Chromosome Grid",chromInfoPath:"//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv",thumbnail:null,availableOptions:["lineStrokeWidth","lineStrokeColor"],defaultOptions:{lineStrokeWidth:1,lineStrokeColor:"grey"}},{type:"2d-chromosome-annotations",datatype:["chromsizes"],local:!0,orientation:"2d",name:"2D Chromosome Annotations",thumbnail:null,hidden:!0},{type:"2d-chromosome-labels",datatype:["chromsizes"],local:!0,orientation:"2d",name:"Pairwise Chromosome Labels",thumbnail:null},{type:"horizontal-chromosome-labels",datatype:["chromsizes"],orientation:"1d-horizontal",minHeight:35,defaultHeight:30,name:"Chromosome Axis",thumbnail:null,availableOptions:["color","stroke","fontSize","fontIsLeftAligned","showMousePosition","mousePositionColor","tickPositions","tickFormat"],defaultOptions:{color:"#808080",stroke:"#ffffff",fontSize:12,fontIsLeftAligned:!1,showMousePosition:!1,mousePositionColor:"#000000"},defaultOptionsByTheme:(0,r.default)({},o.THEME_DARK,{color:"#808080",stroke:"#000000",mousePositionColor:"#ffffff"})},{type:"vertical-chromosome-labels",datatype:["chromsizes"],orientation:"1d-vertical",defaultWidth:30,name:"Chromosome Axis",thumbnail:null,availableOptions:["color","stroke","fontSize","fontIsLeftAligned","minWidth","showMousePosition","mousePositionColor"],defaultOptions:{color:"#777777",stroke:"#FFFFFF",fontSize:12,fontIsLeftAligned:!1,minWidth:35,showMousePosition:!1,mousePositionColor:"#000000"},defaultOptionsByTheme:(0,r.default)({},o.THEME_DARK,{color:"#808080",stroke:"#000000",mousePositionColor:"#ffffff"})},{type:"vertical-1d-tiles",datatype:["1d-tiles"],local:!1,orientation:"1d-vertical",name:"Vertical 1D Tile Outlines",thumbnail:a.svgVertical1DTilesIcon},{type:"horizontal-1d-tiles",datatype:["vector","stacked-interval","gene-annotation"],local:!1,orientation:"1d-horizontal",name:"Horizontal 1D Tile Outlines",thumbnail:a.svg1DTilesIcon},{type:"osm-2d-tile-ids",datatype:["map-tiles"],local:!1,orientation:"2d",name:"OSM Tile Outlines",thumbnail:a.svg2DTilesIcon,availableOptions:["minPos","maxPos","maxZoom","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","name"],defaultOptions:{minPos:-180,maxPos:180,maxZoom:19,labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0}},{type:"raster-tiles",datatype:["map-tiles"],local:!0,orientation:"2d",hidden:!0,name:"Raster Tiles",thumbnail:a.svgGeoMapIcon,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","name"],defaultOptions:{labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0}},{type:"image-tiles",datatype:["image-tiles"],local:!0,orientation:"2d",hidden:!0,name:"Image Tiles",thumbnail:null},{type:"bedlike",datatype:["bedlike"],local:!1,orientation:"1d-horizontal",name:"BED-like track",thumbnail:null,availableOptions:["alternating","annotationHeight","annotationStyle","fillColor","fillOpacity","fontColor","fontSize","minusStrandColor","plusStrandColor","labelBottomMargin","labelColor","labelLeftMargin","labelPosition","labelRightMargin","labelTopMargin","labelTextOpacity","labelBackgroundOpacity","maxAnnotationHeight","minHeight","trackBorderWidth","trackBorderColor","valueColumn","colorEncoding","colorRange","colorEncodingRange","showTexts","axisPositionHorizontal","axisMargin"],defaultOptions:{alternating:!1,annotationStyle:"box",fillColor:"blue",fillOpacity:.3,fontSize:"10",axisPositionHorizontal:"right",labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,minHeight:20,maxAnnotationHeight:null,trackBorderWidth:0,trackBorderColor:"black",valueColumn:null,colorEncoding:"itemRgb",showTexts:!1,colorRange:["#000000","#652537","#bf5458","#fba273","#ffffe0"],colorEncodingRange:!1,annotationHeight:16}},{type:"vertical-bedlike",datatype:["bedlike"],local:!1,orientation:"1d-vertical",name:"BED-like track",thumbnail:null,availableOptions:["alternating","annotationHeight","annotationStyle","fillColor","fillOpacity","fontColor","fontSize","minusStrandColor","plusStrandColor","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","maxAnnotationHeight","minWidth","trackBorderWidth","trackBorderColor","valueColumn","colorEncoding","colorRange","colorEncodingRange","showTexts","axisPositionHorizontal","axisMargin"],defaultOptions:{alternating:!1,annotationStyle:"box",axisPositionHorizontal:"right",fillColor:"blue",fillOpacity:.3,fontSize:"10",labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,minWidth:55,maxAnnotationHeight:null,trackBorderWidth:0,trackBorderColor:"black",valueColumn:null,colorEncoding:null,showTexts:!1,colorRange:["#000000","#652537","#bf5458","#fba273","#ffffe0"],colorEncodingRange:!1,annotationHeight:16}},{type:"empty",datatype:[],orientation:"1d-horizontal",name:"Empty track",thumbnail:null,availableOptions:[],defaultOptions:{}}];t.default=c},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(126),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t,n){return t in e?(0,o.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TRACKS_INFO_BY_TYPE=void 0;var r=n(11),i=t.TRACKS_INFO_BY_TYPE=r.TRACKS_INFO.reduce((function(e,t){return e[t.type]=t,e}),{});t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.POSITIONS_BY_DATATYPE=void 0;var r,i=n(35),o=(r=i)&&r.__esModule?r:{default:r},a=n(11),s=t.POSITIONS_BY_DATATYPE=a.TRACKS_INFO.reduce((function(e,t){for(var n=0;n<t.datatype.length;n++){var r=t.datatype[n];return e[r]?e[r].add(t.orientation):e[r]=new o.default,e}return{}}),{});t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.DEFAULT_TRACKS_FOR_DATATYPE={chromsizes:{center:"2d-chromosome-grid",top:"horizontal-chromosome-labels",left:"vertical-chromosome-labels",bottom:"horizontal-chromosome-labels",right:"vertical-chromosome-labels"},matrix:{center:"heatmap",top:"horizontal-heatmap",left:"vertical-heatmap",right:"vertical-heatmap",bottom:"horizontal-heatmap"},vector:{top:"horizontal-bar",bottom:"horizontal-bar",left:"vertical-bar",right:"vertical-bar"},"geo-json":{center:"geo-json"},"gene-annotation":{top:"horizontal-gene-annotations",bottom:"horizontal-gene-annotations",left:"vertical-gene-annotations",right:"horizontal-gene-annotations"},bedlike:{top:"bedlike",bottom:"bedlike",left:"vertical-bedlike",right:"vertical-bedlike"}};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=ae(n(8)),i=ae(n(306)),o=ae(n(83)),a=ae(n(9)),s=ae(n(84)),l=ae(n(102)),u=ae(n(18)),c=ae(n(1076)),f=ae(n(1078)),d=ae(n(1077)),h=ae(n(28)),p=ae(n(0)),m=ae(n(85)),v=ae(n(153)),g=oe(n(27)),y=n(81),b=ae(n(11)),_=ae(n(10)),x=oe(n(354)),w=oe(n(353)),E=oe(n(252)),T=oe(n(344)),S=oe(n(352)),k=oe(n(249)),O=oe(n(351)),C=oe(n(134)),A=oe(n(355)),M=oe(n(357)),P=oe(n(253)),I=oe(n(358)),D=oe(n(112)),N=oe(n(350)),R=oe(n(349)),L=oe(n(370)),j=oe(n(372)),F=oe(n(247)),B=oe(n(339)),z=oe(n(340)),H=oe(n(343)),U=oe(n(361)),V=oe(n(258)),G=oe(n(136)),W=oe(n(41)),q=oe(n(80)),Y=oe(n(356)),X=oe(n(248)),$=oe(n(70)),K=oe(n(342)),Z=oe(n(174)),Q=oe(n(359)),J=oe(n(341)),ee=oe(n(374)),te=oe(n(67)),ne=oe(n(246)),re=oe(n(884)),ie=ae(n(24));function oe(e){return e&&e.__esModule?e:{default:e}}function ae(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var se={d3Array:r,d3Axis:i,d3Brush:o,d3Color:a,d3Drag:s,d3Dsv:l,d3Format:u,d3Geo:c,d3Queue:f,d3Request:d,d3Scale:h,d3Selection:p,d3Transition:m,d3Zoom:v,PIXI:b.GLOBALS.PIXI,mix:y.mix,slugid:g.default},le={Annotations2dTrack:x.default,ArrowheadDomainsTrack:w.default,BarTrack:E.default,BedLikeTrack:T.default,CNVIntervalTrack:S.default,CombinedTrack:k.default,DivergentBarTrack:O.default,HeatmapTiledPixiTrack:C.default,Horizontal2DDomainsTrack:A.default,HorizontalChromosomeLabels:M.default,HorizontalGeneAnnotationsTrack:P.default,HorizontalHeatmapTrack:I.default,HorizontalLine1DPixiTrack:D.default,HorizontalMultivecTrack:N.default,HorizontalPoint1DPixiTrack:R.default,HorizontalTiledPlot:L.default,HorizontalTrack:j.default,Id2DTiledPixiTrack:F.default,IdHorizontal1DTiledPixiTrack:B.default,IdVertical1DTiledPixiTrack:z.default,LeftAxisTrack:H.default,MapboxTilesTrack:U.default,MoveableTrack:V.default,OSMTilesTrack:G.default,PixiTrack:W.default,SVGTrack:q.default,SquareMarkersTrack:Y.default,Tiled1DPixiTrack:X.default,TiledPixiTrack:$.default,TopAxisTrack:K.default,Track:Z.default,ValueIntervalTrack:Q.default,VerticalTiled1DPixiTrack:J.default,VerticalTrack:ee.default},ue={ContextMenuItem:te.default,DataFetcher:ne.default,LruCache:re.default};t.default={libraries:se,tracks:le,factories:ue,services:ie,utils:_,configs:b,VERSION:"1.9.3"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(885);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(51)),i=a(n(131)),o=a(n(21));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){this.size=0,this.limit=e,this._keymap={}}(0,r.default)(s.prototype,{put:function(e,t){var n={key:e,value:t};if(this._keymap[e]=n,this.tail?(this.tail.newer=n,n.older=this.tail):this.head=n,this.tail=n,this.size===this.limit)return this.shift();this.size+=1},get:function(e,t){var n=this._keymap[e];if(void 0!==n)return n===this.tail||(n.newer&&(n===this.head&&(this.head=n.newer),n.newer.older=n.older),n.older&&(n.older.newer=n.newer),n.newer=void 0,n.older=this.tail,this.tail&&(this.tail.newer=n),this.tail=n),t?n:n.value},find:function(e){return this._keymap[e]},keys:function(){return(0,o.default)(this._keymap)},set:function(e,t){var n=this.get(e,!0),r=void 0;return n?(r=n.value,n.value=t):(r=this.put(e,t))&&(r=r.value),r},shift:function(){var e=this.head;return e&&(this.head.newer?(this.head=this.head.newer,this.head.older=void 0):(this.head=void 0,this.tail=void 0),e.newer=void 0,e.older=void 0,delete this._keymap[e.key],this.size-=1),e},remove:function(e){var t=this._keymap[e];if(t)return delete this._keymap[t.key],t.newer&&t.older?(t.older.newer=t.newer,t.newer.older=t.older):t.newer?(t.newer.older=void 0,this.head=t.newer):t.older?(t.older.newer=void 0,this.tail=t.older):(this.head=void 0,this.tail=void 0),this.size-=1,t.value},removeAll:function(){this.head=void 0,this.tail=void 0,this.size=0,this._keymap={}},forEach:function(e,t,n){var r=void 0;if(!0===t?(n=!0,t=void 0):"object"!==("undefined"===typeof t?"undefined":(0,i.default)(t))&&(t=this),n)for(r=this.tail;r;)e.call(t,r.key,r.value,this),r=r.older;else for(r=this.head;r;)e.call(t,r.key,r.value,this),r=r.newer},toJSON:function(){for(var e=[],t=this.head;t;)e.push({key:t.key.toJSON(),value:t.value.toJSON()}),t=t.newer;return e},toString:function(){for(var e="",t=this.head;t;)e+=String(String(t.key))+":"+String(t.value),(t=t.newer)&&(e+=" < ");return e}}),t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AVAILABLE_TRACK_TYPES=void 0;var r=l(n(16)),i=l(n(25)),o=l(n(40)),a=l(n(35)),s=n(11);function l(e){return e&&e.__esModule?e:{default:e}}var u=t.AVAILABLE_TRACK_TYPES=function(e,t){var n=(0,s.DATATYPE_TO_TRACK_TYPE)(t),l=new a.default((0,o.default)(n).flatMap((function(e){return e}))),u=function(e){var t=new a.default(e);l=new a.default([].concat((0,i.default)(l)).filter((function(e){return e.datatype.filter((function(e){return t.has(e)})).length>0})))},c=!0,f=!1,d=void 0;try{for(var h,p=(0,r.default)(e);!(c=(h=p.next()).done);c=!0)u(h.value)}catch(m){f=!0,d=m}finally{try{!c&&p.return&&p.return()}finally{if(f)throw d}}return[].concat((0,i.default)(l))};t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(419),o=(0,((r=i)&&r.__esModule?r:{default:r}).default)((function(e,t){return e.concat(t)}),[]);t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t){return Array.prototype.forEach.call(t,e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(317),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t){t.dispatchEvent((0,o.default)(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=function(e,t){return[(0,r.chrToAbs)(e[0],e[1],t),(0,r.chrToAbs)(e[2],e[3],t)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11);t.default=function(e,t,n){if(0!==n.length){if(1===n.length)return n[0];var i=n[0],o=void 0!==r.DEFAULT_TRACKS_FOR_DATATYPE[e]?r.DEFAULT_TRACKS_FOR_DATATYPE[e][t]:void 0;return void 0!==o&&(i=n.find((function(e){return e.type===o}))||i),i}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(313),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){return o.default.listen(),[e.clientWidth,e.clientHeight]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(21),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t){var n=null;return(0,o.default)(e).map((function(t){return e[t]})).filter((function(e){return e.filter})).reduce((function(e,t){return e.concat(t)}),[]).forEach((function e(r){return r.uid===t&&(n=r),"combined"===r.type.substr(0,8)&&r.contents.forEach(e),null})),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(21),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t,n){var r=e.state.views[t];if(!r)return null;var i=null,a=r.tracks;return(0,o.default)(a).map((function(e){return a[e]})).filter((function(e){return e.filter})).reduce((function(e,t){return e.concat(t)}),[]).forEach((function e(t){return t.uid===n&&(i=t),"combined"===t.type.substr(0,8)&&t.contents.forEach(e),null})),i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(40),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t,n){var r=t?e[t]:(0,o.default)(e)[0];if(r){var i=r.trackRenderer.trackDefObjects[n];return i?i=i.trackObject:(0,o.default)(r.trackRenderer.trackDefObjects).map((function(e){return e.trackObject})).filter((function(e){return e.childTracks})).forEach((function(e){e.createdTracks[n]&&(i=e.createdTracks[n])})),i}t?console.warn("Could't find view with id \""+String(t)+'"'):console.warn("No views available.")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(420),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t){var n=null;return(0,o.default)(e,(function(e,r){e.uid===t&&(n=r)})),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:100,s=document.createElement("canvas");s.width=t,s.height=n;var l=s.getContext("2d"),u=l.createLinearGradient(r,i,o,a);return e.forEach((function(e){u.addColorStop(e.from,e.color)})),l.fillStyle=u,l.fillRect(0,0,t,n),s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var n=e;n&&n!==t&&"HTML"!==n.tagName;)n=n.parentNode;return n===t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return parseInt(e.replace(/^#/,""),16)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(21)),i=o(n(249));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function e(t,n){return n===t||n instanceof i.default&&(0,r.default)(n.createdTracks).map((function(e){return n.createdTracks[e]})).some((function(n){return e(t,n)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return a?e>=n&&e<=r||t>=i&&t<=o:e>=n&&e<=r&&t>=i&&t<=o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.invGudermannian=function(e){return Math.log(Math.tan((e+Math.PI/2)/2))};t.default=function(e,t){var n=e*Math.PI/180;return n=r(n),Math.pow(2,t)*(Math.PI-n)/(2*Math.PI)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(24),i=n(10);t.default=function(e){return(0,i.objVals)(e).map((function(e){return e.chromInfoPath})).forEach((function(e){return r.chromInfo.get(e)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return Math.pow(2,t)*(e+180)/360}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e>t?e:t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e<t?e:t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(e%t+t)%t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(32)),i=o(n(422));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){var n=+t;if((0,r.default)(n)){var o=e.shape[0],a=e.shape[1],s=t.shape[0],l=t.shape[1];if(o!==s||a!==l)return void console.warn("Cannot assign source to target ndarray as the dimensions do not match",o,s,a,l);(0,i.default)({args:["array","array"],body:"function assign(a, b) { a = b; }"})(e,t)}else(0,i.default)({args:["array","scalar"],body:"function assigns(a, s) { a = s; }"})(e,n)}},function(e,t,n){"use strict";(function(t){var r=n(911),i=n(423),o=0;function a(e,t,n){this.name=e,this.lvalue=t,this.rvalue=n,this.count=0}function s(e,t,n,r){this.body=e,this.args=t,this.thisVars=n,this.localVars=r}e.exports=function(e){for(var n=["(",e,")()"].join(""),l=r.parse(n,{range:!0}),u="_inline_"+o+++"_",c=function(e){for(var t=e.body[0].expression.callee.params,n=new Array(t.length),r=0;r<t.length;++r)n[r]=t[r].name;return n}(l),f=new Array(c.length),d=0;d<c.length;++d)f[d]=new a([u,"arg",d,"_"].join(""),!1,!1);for(var h=new Array(n.length),p=(d=0,n.length);d<p;++d)h[d]=n.charAt(d);var m,v=[],g=[];function y(e,t){for(var n=e.range[0],r=e.range[1],i=n+1;i<r;++i)h[i]="";h[n]=t}return function e(n,r){if(n.parent=r,"MemberExpression"===n.type)n.computed?(e(n.object,n),e(n.property,n)):"ThisExpression"===n.object.type?y(n,function(e){var t="this_"+e.replace(/\_/g,"__");return g.push(t),t}(n.property.name)):e(n.object,n);else{if("ThisExpression"===n.type)throw new Error("cwise-parser: Computed this is not allowed");if("Identifier"===n.type){var i=n.name,o=c.indexOf(i);if(o>=0){var a=f[o],s=function(e){return"AssignmentExpression"===e.parent.type&&e.parent.left===e?"="===e.parent.operator?1:3:"UpdateExpression"===e.parent.type?3:2}(n);1&s&&(a.lvalue=!0),2&s&&(a.rvalue=!0),++a.count,y(n,a.name)}else(function(e){if("eval"===e)throw new Error("cwise-parser: eval() not allowed");return"undefined"!==typeof window?e in window:"undefined"!==typeof t?e in t:"undefined"!==typeof self&&e in self})(i)||y(n,function(e){var t=u+e.replace(/\_/g,"__");return v.push(t),t}(i))}else if("Literal"===n.type)"string"===typeof n.value&&y(n,"'"+n.value.replace(/\_/g,"\\_").replace(/\'/g,"'")+"'");else{if("WithStatement"===n.type)throw new Error("cwise-parser: with() statements not allowed");for(var l=Object.keys(n),d=0,h=l.length;d<h;++d)if("parent"!==l[d]){var p=n[l[d]];if(p)if(p instanceof Array)for(var m=0;m<p.length;++m)p[m]&&"string"===typeof p[m].type&&e(p[m],n);else"string"===typeof p.type&&e(p,n)}}}}(l.body[0].expression.callee.body,void 0),i(v),i(g),new s((m=l.body[0].expression.callee.body,h.slice(m.range[0],m.range[1]).join("")),f,g,v)}}).call(this,n(26))},function(e,t,n){var r,i,o;!function(n,a){"use strict";i=[t],void 0===(o="function"===typeof(r=function(e){var t,n,r,i,o,a,s,l,u,c,f,d,h,p,m,v,g,y;function b(e,t){if(!e)throw new Error("ASSERT: "+t)}function _(e){return e>=48&&e<=57}function x(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function w(e){return"01234567".indexOf(e)>=0}function E(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function T(e){return 10===e||13===e||8232===e||8233===e}function S(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&s.NonAsciiIdentifierStart.test(String.fromCharCode(e))}function k(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&s.NonAsciiIdentifierPart.test(String.fromCharCode(e))}function O(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function C(e){return"eval"===e||"arguments"===e}function A(e,t,n,r,i){var o;b("number"===typeof n,"Comment must have valid position"),g.lastCommentStart>=n||(g.lastCommentStart=n,o={type:e,value:t},y.range&&(o.range=[n,r]),y.loc&&(o.loc=i),y.comments.push(o),y.attachComment&&(y.leadingComments.push(o),y.trailingComments.push(o)))}function M(e){var t,n,r,i;for(t=f-e,n={start:{line:d,column:f-h-e}};f<p;)if(r=u.charCodeAt(f),++f,T(r))return y.comments&&(i=u.slice(t+e,f-1),n.end={line:d,column:f-h-1},A("Line",i,t,f-1,n)),13===r&&10===u.charCodeAt(f)&&++f,++d,void(h=f);y.comments&&(i=u.slice(t+e,f),n.end={line:d,column:f-h},A("Line",i,t,f,n))}function P(){var e,t,n,r;for(y.comments&&(e=f-2,t={start:{line:d,column:f-h-2}});f<p;)if(T(n=u.charCodeAt(f)))13===n&&10===u.charCodeAt(f+1)&&++f,++d,++f,h=f,f>=p&&Y({},a.UnexpectedToken,"ILLEGAL");else if(42===n){if(47===u.charCodeAt(f+1))return++f,++f,void(y.comments&&(r=u.slice(e+2,f-2),t.end={line:d,column:f-h},A("Block",r,e,f,t)));++f}else++f;Y({},a.UnexpectedToken,"ILLEGAL")}function I(){var e,t;for(t=0===f;f<p;)if(E(e=u.charCodeAt(f)))++f;else if(T(e))++f,13===e&&10===u.charCodeAt(f)&&++f,++d,h=f,t=!0;else if(47===e)if(47===(e=u.charCodeAt(f+1)))++f,++f,M(2),t=!0;else{if(42!==e)break;++f,++f,P()}else if(t&&45===e){if(45!==u.charCodeAt(f+1)||62!==u.charCodeAt(f+2))break;f+=3,M(3)}else{if(60!==e)break;if("!--"!==u.slice(f+1,f+4))break;++f,++f,++f,++f,M(4)}}function D(e){var t,n,r,i=0;for(n="u"===e?4:2,t=0;t<n;++t){if(!(f<p&&x(u[f])))return"";r=u[f++],i=16*i+"0123456789abcdef".indexOf(r.toLowerCase())}return String.fromCharCode(i)}function N(){var e,t;for(e=u.charCodeAt(f++),t=String.fromCharCode(e),92===e&&(117!==u.charCodeAt(f)&&Y({},a.UnexpectedToken,"ILLEGAL"),++f,(e=D("u"))&&"\\"!==e&&S(e.charCodeAt(0))||Y({},a.UnexpectedToken,"ILLEGAL"),t=e);f<p&&k(e=u.charCodeAt(f));)++f,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==u.charCodeAt(f)&&Y({},a.UnexpectedToken,"ILLEGAL"),++f,(e=D("u"))&&"\\"!==e&&k(e.charCodeAt(0))||Y({},a.UnexpectedToken,"ILLEGAL"),t+=e);return t}function R(){var e,n;return e=f,{type:1===(n=92===u.charCodeAt(f)?N():function(){var e,t;for(e=f++;f<p;){if(92===(t=u.charCodeAt(f)))return f=e,N();if(!k(t))break;++f}return u.slice(e,f)}()).length?t.Identifier:function(e){if(c&&O(e))return!0;switch(e.length){case 2:return"if"===e||"in"===e||"do"===e;case 3:return"var"===e||"for"===e||"new"===e||"try"===e||"let"===e;case 4:return"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e;case 5:return"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e;case 6:return"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e;case 7:return"default"===e||"finally"===e||"extends"===e;case 8:return"function"===e||"continue"===e||"debugger"===e;case 10:return"instanceof"===e;default:return!1}}(n)?t.Keyword:"null"===n?t.NullLiteral:"true"===n||"false"===n?t.BooleanLiteral:t.Identifier,value:n,lineNumber:d,lineStart:h,start:e,end:f}}function L(){var e,n,r,i,o=f,s=u.charCodeAt(f),l=u[f];switch(s){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++f,y.tokenize&&(40===s?y.openParenToken=y.tokens.length:123===s&&(y.openCurlyToken=y.tokens.length)),{type:t.Punctuator,value:String.fromCharCode(s),lineNumber:d,lineStart:h,start:o,end:f};default:if(61===(e=u.charCodeAt(f+1)))switch(s){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return f+=2,{type:t.Punctuator,value:String.fromCharCode(s)+String.fromCharCode(e),lineNumber:d,lineStart:h,start:o,end:f};case 33:case 61:return f+=2,61===u.charCodeAt(f)&&++f,{type:t.Punctuator,value:u.slice(o,f),lineNumber:d,lineStart:h,start:o,end:f}}}return">>>="===(i=u.substr(f,4))?{type:t.Punctuator,value:i,lineNumber:d,lineStart:h,start:o,end:f+=4}:">>>"===(r=i.substr(0,3))||"<<="===r||">>="===r?{type:t.Punctuator,value:r,lineNumber:d,lineStart:h,start:o,end:f+=3}:l===(n=r.substr(0,2))[1]&&"+-<>&|".indexOf(l)>=0||"=>"===n?{type:t.Punctuator,value:n,lineNumber:d,lineStart:h,start:o,end:f+=2}:"<>=!+-*%&|^/".indexOf(l)>=0?(++f,{type:t.Punctuator,value:l,lineNumber:d,lineStart:h,start:o,end:f}):void Y({},a.UnexpectedToken,"ILLEGAL")}function j(){var e,n,r;if(b(_((r=u[f]).charCodeAt(0))||"."===r,"Numeric literal must start with a decimal digit or a decimal point"),n=f,e="","."!==r){if(e=u[f++],r=u[f],"0"===e){if("x"===r||"X"===r)return++f,function(e){for(var n="";f<p&&x(u[f]);)n+=u[f++];return 0===n.length&&Y({},a.UnexpectedToken,"ILLEGAL"),S(u.charCodeAt(f))&&Y({},a.UnexpectedToken,"ILLEGAL"),{type:t.NumericLiteral,value:parseInt("0x"+n,16),lineNumber:d,lineStart:h,start:e,end:f}}(n);if(w(r)&&function(){var e,t;for(e=f+1;e<p;++e){if("8"===(t=u[e])||"9"===t)return!1;if(!w(t))return!0}return!0}())return function(e){for(var n="0"+u[f++];f<p&&w(u[f]);)n+=u[f++];return(S(u.charCodeAt(f))||_(u.charCodeAt(f)))&&Y({},a.UnexpectedToken,"ILLEGAL"),{type:t.NumericLiteral,value:parseInt(n,8),octal:!0,lineNumber:d,lineStart:h,start:e,end:f}}(n)}for(;_(u.charCodeAt(f));)e+=u[f++];r=u[f]}if("."===r){for(e+=u[f++];_(u.charCodeAt(f));)e+=u[f++];r=u[f]}if("e"===r||"E"===r)if(e+=u[f++],"+"!==(r=u[f])&&"-"!==r||(e+=u[f++]),_(u.charCodeAt(f)))for(;_(u.charCodeAt(f));)e+=u[f++];else Y({},a.UnexpectedToken,"ILLEGAL");return S(u.charCodeAt(f))&&Y({},a.UnexpectedToken,"ILLEGAL"),{type:t.NumericLiteral,value:parseFloat(e),lineNumber:d,lineStart:h,start:n,end:f}}function F(){var e,n,r,i;return v=null,I(),e=f,n=function(){var e,t,n,r;for(b("/"===(e=u[f]),"Regular expression literal must start with a slash"),t=u[f++],n=!1,r=!1;f<p;)if(t+=e=u[f++],"\\"===e)T((e=u[f++]).charCodeAt(0))&&Y({},a.UnterminatedRegExp),t+=e;else if(T(e.charCodeAt(0)))Y({},a.UnterminatedRegExp);else if(n)"]"===e&&(n=!1);else{if("/"===e){r=!0;break}"["===e&&(n=!0)}return r||Y({},a.UnterminatedRegExp),{value:t.substr(1,t.length-2),literal:t}}(),r=function(){var e,t,n,r;for(t="",n="";f<p&&k((e=u[f]).charCodeAt(0));)if(++f,"\\"===e&&f<p)if("u"===(e=u[f])){if(r=++f,e=D("u"))for(n+=e,t+="\\u";r<f;++r)t+=u[r];else f=r,n+="u",t+="\\u";X({},a.UnexpectedToken,"ILLEGAL")}else t+="\\",X({},a.UnexpectedToken,"ILLEGAL");else n+=e,t+=e;return{value:n,literal:t}}(),i=function(e,t){var n;try{n=new RegExp(e,t)}catch(r){Y({},a.InvalidRegExp)}return n}(n.value,r.value),y.tokenize?{type:t.RegularExpression,value:i,lineNumber:d,lineStart:h,start:e,end:f}:{literal:n.literal+r.literal,value:i,start:e,end:f}}function B(){var e,t,n,r;return I(),e=f,t={start:{line:d,column:f-h}},n=F(),t.end={line:d,column:f-h},y.tokenize||(y.tokens.length>0&&(r=y.tokens[y.tokens.length-1]).range[0]===e&&"Punctuator"===r.type&&("/"!==r.value&&"/="!==r.value||y.tokens.pop()),y.tokens.push({type:"RegularExpression",value:n.literal,range:[e,f],loc:t})),n}function z(){var e;return I(),f>=p?{type:t.EOF,lineNumber:d,lineStart:h,start:f,end:f}:S(e=u.charCodeAt(f))?R():40===e||41===e||59===e?L():39===e||34===e?function(){var e,n,r,i,o,s,l,c,m="",v=!1;for(l=d,c=h,b("'"===(e=u[f])||'"'===e,"String literal must starts with a quote"),n=f,++f;f<p;){if((r=u[f++])===e){e="";break}if("\\"===r)if((r=u[f++])&&T(r.charCodeAt(0)))++d,"\r"===r&&"\n"===u[f]&&++f,h=f;else switch(r){case"u":case"x":s=f,(o=D(r))?m+=o:(f=s,m+=r);break;case"n":m+="\n";break;case"r":m+="\r";break;case"t":m+="\t";break;case"b":m+="\b";break;case"f":m+="\f";break;case"v":m+="\v";break;default:w(r)?(0!==(i="01234567".indexOf(r))&&(v=!0),f<p&&w(u[f])&&(v=!0,i=8*i+"01234567".indexOf(u[f++]),"0123".indexOf(r)>=0&&f<p&&w(u[f])&&(i=8*i+"01234567".indexOf(u[f++]))),m+=String.fromCharCode(i)):m+=r}else{if(T(r.charCodeAt(0)))break;m+=r}}return""!==e&&Y({},a.UnexpectedToken,"ILLEGAL"),{type:t.StringLiteral,value:m,octal:v,startLineNumber:l,startLineStart:c,lineNumber:d,lineStart:h,start:n,end:f}}():46===e?_(u.charCodeAt(f+1))?j():L():_(e)?j():y.tokenize&&47===e?function(){var e,t;if(!(e=y.tokens[y.tokens.length-1]))return B();if("Punctuator"===e.type){if("]"===e.value)return L();if(")"===e.value)return!(t=y.tokens[y.openParenToken-1])||"Keyword"!==t.type||"if"!==t.value&&"while"!==t.value&&"for"!==t.value&&"with"!==t.value?L():B();if("}"===e.value){if(y.tokens[y.openCurlyToken-3]&&"Keyword"===y.tokens[y.openCurlyToken-3].type){if(!(t=y.tokens[y.openCurlyToken-4]))return L()}else{if(!y.tokens[y.openCurlyToken-4]||"Keyword"!==y.tokens[y.openCurlyToken-4].type)return L();if(!(t=y.tokens[y.openCurlyToken-5]))return B()}return r.indexOf(t.value)>=0?L():B()}return B()}return"Keyword"===e.type&&"this"!==e.value?B():L()}():L()}function H(){var e,r,i;return I(),e={start:{line:d,column:f-h}},r=z(),e.end={line:d,column:f-h},r.type!==t.EOF&&(i=u.slice(r.start,r.end),y.tokens.push({type:n[r.type],value:i,range:[r.start,r.end],loc:e})),r}function U(){var e;return f=(e=v).end,d=e.lineNumber,h=e.lineStart,v="undefined"!==typeof y.tokens?H():z(),f=e.end,d=e.lineNumber,h=e.lineStart,e}function V(){var e,t,n;e=f,t=d,n=h,v="undefined"!==typeof y.tokens?H():z(),f=e,d=t,h=n}function G(e,t){this.line=e,this.column=t}function W(e,t,n,r){this.start=new G(e,t),this.end=new G(n,r)}function q(){var e,t,n,r;return e=f,t=d,n=h,I(),r=d!==t,f=e,d=t,h=n,r}function Y(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(function(e,t){return b(t<r.length,"Message reference must be in range"),r[t]}));throw"number"===typeof e.lineNumber?((n=new Error("Line "+e.lineNumber+": "+i)).index=e.start,n.lineNumber=e.lineNumber,n.column=e.start-h+1):((n=new Error("Line "+d+": "+i)).index=f,n.lineNumber=d,n.column=f-h+1),n.description=i,n}function X(){try{Y.apply(null,arguments)}catch(e){if(!y.errors)throw e;y.errors.push(e)}}function $(e){if(e.type===t.EOF&&Y(e,a.UnexpectedEOS),e.type===t.NumericLiteral&&Y(e,a.UnexpectedNumber),e.type===t.StringLiteral&&Y(e,a.UnexpectedString),e.type===t.Identifier&&Y(e,a.UnexpectedIdentifier),e.type===t.Keyword){if(function(e){switch(e){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}(e.value))Y(e,a.UnexpectedReserved);else if(c&&O(e.value))return void X(e,a.StrictReservedWord);Y(e,a.UnexpectedToken,e.value)}Y(e,a.UnexpectedToken,e.value)}function K(e){var n=U();n.type===t.Punctuator&&n.value===e||$(n)}function Z(e){var n=U();n.type===t.Keyword&&n.value===e||$(n)}function Q(e){return v.type===t.Punctuator&&v.value===e}function J(e){return v.type===t.Keyword&&v.value===e}function ee(){var e,n=f,r=d,i=h,o=v;if(59===u.charCodeAt(f)||Q(";"))U();else{if(e=d,I(),d!==e)return f=n,d=r,h=i,void(v=o);v.type===t.EOF||Q("}")||$(v)}}function te(e){return e.type===i.Identifier||e.type===i.MemberExpression}function ne(e,t){var n,r,i;return n=c,i=v,r=Se(),t&&c&&C(e[0].name)&&X(t,a.StrictParamName),c=n,m.markEnd(m.createFunctionExpression(null,e,[],r),i)}function re(){var e,n;return n=v,(e=U()).type===t.StringLiteral||e.type===t.NumericLiteral?(c&&e.octal&&X(e,a.StrictOctalLiteral),m.markEnd(m.createLiteral(e),n)):m.markEnd(m.createIdentifier(e.value),n)}function ie(){var e,n,r,i,o,s;return s=v,(e=v).type===t.Identifier?(r=re(),"get"!==e.value||Q(":")?"set"!==e.value||Q(":")?(K(":"),i=me(),m.markEnd(m.createProperty("init",r,i),s)):(n=re(),K("("),(e=v).type!==t.Identifier?(K(")"),X(e,a.UnexpectedToken,e.value),i=ne([])):(o=[ye()],K(")"),i=ne(o,e)),m.markEnd(m.createProperty("set",n,i),s)):(n=re(),K("("),K(")"),i=ne([]),m.markEnd(m.createProperty("get",n,i),s))):e.type!==t.EOF&&e.type!==t.Punctuator?(n=re(),K(":"),i=me(),m.markEnd(m.createProperty("init",n,i),s)):void $(e)}function oe(){var e,n,r,s;if(Q("("))return function(){var e;return K("("),e=ve(),K(")"),e}();if(Q("["))return function(){var e,t=[];for(e=v,K("[");!Q("]");)Q(",")?(U(),t.push(null)):(t.push(me()),Q("]")||K(","));return U(),m.markEnd(m.createArrayExpression(t),e)}();if(Q("{"))return function(){var e,t,n,r,s,l=[],u={},f=String;for(s=v,K("{");!Q("}");)t=(e=ie()).key.type===i.Identifier?e.key.name:f(e.key.value),r="init"===e.kind?o.Data:"get"===e.kind?o.Get:o.Set,n="$"+t,Object.prototype.hasOwnProperty.call(u,n)?(u[n]===o.Data?c&&r===o.Data?X({},a.StrictDuplicateProperty):r!==o.Data&&X({},a.AccessorDataProperty):r===o.Data?X({},a.AccessorDataProperty):u[n]&r&&X({},a.AccessorGetSet),u[n]|=r):u[n]=r,l.push(e),Q("}")||K(",");return K("}"),m.markEnd(m.createObjectExpression(l),s)}();if(e=v.type,s=v,e===t.Identifier)r=m.createIdentifier(U().value);else if(e===t.StringLiteral||e===t.NumericLiteral)c&&v.octal&&X(v,a.StrictOctalLiteral),r=m.createLiteral(U());else if(e===t.Keyword){if(J("function"))return function(){var e,t,n,r,i,o,s,l,u,f=null;return u=v,Z("function"),Q("(")||(e=v,f=ye(),c?C(e.value)&&X(e,a.StrictFunctionName):C(e.value)?(n=e,r=a.StrictFunctionName):O(e.value)&&(n=e,r=a.StrictReservedWord)),i=ke(n),o=i.params,t=i.stricted,n=i.firstRestricted,i.message&&(r=i.message),l=c,s=Se(),c&&n&&Y(n,r),c&&t&&X(t,r),c=l,m.markEnd(m.createFunctionExpression(f,o,[],s),u)}();J("this")?(U(),r=m.createThisExpression()):$(U())}else e===t.BooleanLiteral?((n=U()).value="true"===n.value,r=m.createLiteral(n)):e===t.NullLiteral?((n=U()).value=null,r=m.createLiteral(n)):Q("/")||Q("/=")?(r="undefined"!==typeof y.tokens?m.createLiteral(B()):m.createLiteral(F()),V()):$(U());return m.markEnd(r,s)}function ae(){var e=[];if(K("("),!Q(")"))for(;f<p&&(e.push(me()),!Q(")"));)K(",");return K(")"),e}function se(){var e,n;return n=v,function(e){return e.type===t.Identifier||e.type===t.Keyword||e.type===t.BooleanLiteral||e.type===t.NullLiteral}(e=U())||$(e),m.markEnd(m.createIdentifier(e.value),n)}function le(){return K("."),se()}function ue(){var e;return K("["),e=ve(),K("]"),e}function ce(){var e,t,n;return n=v,Z("new"),e=function(){var e,t,n;for(b(g.allowIn,"callee of new expression always allow in keyword."),n=v,e=J("new")?ce():oe();Q(".")||Q("[");)Q("[")?(t=ue(),e=m.createMemberExpression("[",e,t)):(t=le(),e=m.createMemberExpression(".",e,t)),m.markEnd(e,n);return e}(),t=Q("(")?ae():[],m.markEnd(m.createNewExpression(e,t),n)}function fe(){var e,n,r=v;return e=function(){var e,t,n,r,i=g.allowIn;for(r=v,g.allowIn=!0,e=J("new")?ce():oe();;){if(Q("."))n=le(),e=m.createMemberExpression(".",e,n);else if(Q("("))t=ae(),e=m.createCallExpression(e,t);else{if(!Q("["))break;n=ue(),e=m.createMemberExpression("[",e,n)}m.markEnd(e,r)}return g.allowIn=i,e}(),v.type===t.Punctuator&&(!Q("++")&&!Q("--")||q()||(c&&e.type===i.Identifier&&C(e.name)&&X({},a.StrictLHSPostfix),te(e)||X({},a.InvalidLHSInAssignment),n=U(),e=m.markEnd(m.createPostfixExpression(n.value,e),r))),e}function de(){var e,n,r;return v.type!==t.Punctuator&&v.type!==t.Keyword?n=fe():Q("++")||Q("--")?(r=v,e=U(),n=de(),c&&n.type===i.Identifier&&C(n.name)&&X({},a.StrictLHSPrefix),te(n)||X({},a.InvalidLHSInAssignment),n=m.createUnaryExpression(e.value,n),n=m.markEnd(n,r)):Q("+")||Q("-")||Q("~")||Q("!")?(r=v,e=U(),n=de(),n=m.createUnaryExpression(e.value,n),n=m.markEnd(n,r)):J("delete")||J("void")||J("typeof")?(r=v,e=U(),n=de(),n=m.createUnaryExpression(e.value,n),n=m.markEnd(n,r),c&&"delete"===n.operator&&n.argument.type===i.Identifier&&X({},a.StrictDelete)):n=fe(),n}function he(e,n){var r=0;if(e.type!==t.Punctuator&&e.type!==t.Keyword)return 0;switch(e.value){case"||":r=1;break;case"&&":r=2;break;case"|":r=3;break;case"^":r=4;break;case"&":r=5;break;case"==":case"!=":case"===":case"!==":r=6;break;case"<":case">":case"<=":case">=":case"instanceof":r=7;break;case"in":r=n?7:0;break;case"<<":case">>":case">>>":r=8;break;case"+":case"-":r=9;break;case"*":case"/":case"%":r=11}return r}function pe(){var e,t,n,r,i;return i=v,e=function(){var e,t,n,r,i,o,a,s,l,u;if(e=v,l=de(),0===(i=he(r=v,g.allowIn)))return l;for(r.prec=i,U(),t=[e,v],o=[l,r,a=de()];(i=he(v,g.allowIn))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)a=o.pop(),s=o.pop().value,l=o.pop(),n=m.createBinaryExpression(s,l,a),t.pop(),e=t[t.length-1],m.markEnd(n,e),o.push(n);(r=U()).prec=i,o.push(r),t.push(v),n=de(),o.push(n)}for(n=o[u=o.length-1],t.pop();u>1;)n=m.createBinaryExpression(o[u-1].value,o[u-2],n),u-=2,e=t.pop(),m.markEnd(n,e);return n}(),Q("?")&&(U(),t=g.allowIn,g.allowIn=!0,n=me(),g.allowIn=t,K(":"),r=me(),e=m.createConditionalExpression(e,n,r),m.markEnd(e,i)),e}function me(){var e,n,r,o,s;return e=v,s=v,o=n=pe(),function(){var e;return v.type===t.Punctuator&&("="===(e=v.value)||"*="===e||"/="===e||"%="===e||"+="===e||"-="===e||"<<="===e||">>="===e||">>>="===e||"&="===e||"^="===e||"|="===e)}()&&(te(n)||X({},a.InvalidLHSInAssignment),c&&n.type===i.Identifier&&C(n.name)&&X(e,a.StrictLHSAssignment),e=U(),r=me(),o=m.markEnd(m.createAssignmentExpression(e.value,n,r),s)),o}function ve(){var e,t=v;if(e=me(),Q(",")){for(e=m.createSequenceExpression([e]);f<p&&Q(",");)U(),e.expressions.push(me());m.markEnd(e,t)}return e}function ge(){var e,t;return t=v,K("{"),e=function(){for(var e,t=[];f<p&&!Q("}")&&"undefined"!==typeof(e=Ce());)t.push(e);return t}(),K("}"),m.markEnd(m.createBlockStatement(e),t)}function ye(){var e,n;return n=v,(e=U()).type!==t.Identifier&&$(e),m.markEnd(m.createIdentifier(e.value),n)}function be(e){var t,n,r=null;return n=v,t=ye(),c&&C(t.name)&&X({},a.StrictVarName),"const"===e?(K("="),r=me()):Q("=")&&(U(),r=me()),m.markEnd(m.createVariableDeclarator(t,r),n)}function _e(e){var t=[];do{if(t.push(be(e)),!Q(","))break;U()}while(f<p);return t}function xe(){var e,t,n,r,i,o,s,l=g.allowIn;return e=t=n=null,Z("for"),K("("),Q(";")?U():(J("var")||J("let")?(g.allowIn=!1,e=function(){var e,t,n;return n=v,e=U(),t=_e(),m.markEnd(m.createVariableDeclaration(t,e.value),n)}(),g.allowIn=l,1===e.declarations.length&&J("in")&&(U(),r=e,i=ve(),e=null)):(g.allowIn=!1,e=ve(),g.allowIn=l,J("in")&&(te(e)||X({},a.InvalidLHSInForIn),U(),r=e,i=ve(),e=null)),"undefined"===typeof r&&K(";")),"undefined"===typeof r&&(Q(";")||(t=ve()),K(";"),Q(")")||(n=ve())),K(")"),s=g.inIteration,g.inIteration=!0,o=Te(),g.inIteration=s,"undefined"===typeof r?m.createForStatement(e,t,n,o):m.createForInStatement(r,i,o)}function we(){var e,t,n,r=[];for(n=v,J("default")?(U(),e=null):(Z("case"),e=ve()),K(":");f<p&&!(Q("}")||J("default")||J("case"));)t=Te(),r.push(t);return m.markEnd(m.createSwitchCase(e,r),n)}function Ee(){var e,t=[],n=null;return Z("try"),e=ge(),J("catch")&&t.push(function(){var e,t,n;return n=v,Z("catch"),K("("),Q(")")&&$(v),e=ye(),c&&C(e.name)&&X({},a.StrictCatchVariable),K(")"),t=ge(),m.markEnd(m.createCatchClause(e,t),n)}()),J("finally")&&(U(),n=ge()),0!==t.length||n||Y({},a.NoCatchOrFinally),m.createTryStatement(e,[],t,n)}function Te(){var e,n,r,o,s=v.type;if(s===t.EOF&&$(v),s===t.Punctuator&&"{"===v.value)return ge();if(o=v,s===t.Punctuator)switch(v.value){case";":return m.markEnd((K(";"),m.createEmptyStatement()),o);case"(":return m.markEnd(function(){var e=ve();return ee(),m.createExpressionStatement(e)}(),o)}if(s===t.Keyword)switch(v.value){case"break":return m.markEnd(function(){var e,n=null;return Z("break"),59===u.charCodeAt(f)?(U(),g.inIteration||g.inSwitch||Y({},a.IllegalBreak),m.createBreakStatement(null)):q()?(g.inIteration||g.inSwitch||Y({},a.IllegalBreak),m.createBreakStatement(null)):(v.type===t.Identifier&&(e="$"+(n=ye()).name,Object.prototype.hasOwnProperty.call(g.labelSet,e)||Y({},a.UnknownLabel,n.name)),ee(),null!==n||g.inIteration||g.inSwitch||Y({},a.IllegalBreak),m.createBreakStatement(n))}(),o);case"continue":return m.markEnd(function(){var e,n=null;return Z("continue"),59===u.charCodeAt(f)?(U(),g.inIteration||Y({},a.IllegalContinue),m.createContinueStatement(null)):q()?(g.inIteration||Y({},a.IllegalContinue),m.createContinueStatement(null)):(v.type===t.Identifier&&(e="$"+(n=ye()).name,Object.prototype.hasOwnProperty.call(g.labelSet,e)||Y({},a.UnknownLabel,n.name)),ee(),null!==n||g.inIteration||Y({},a.IllegalContinue),m.createContinueStatement(n))}(),o);case"debugger":return m.markEnd((Z("debugger"),ee(),m.createDebuggerStatement()),o);case"do":return m.markEnd(function(){var e,t,n;return Z("do"),n=g.inIteration,g.inIteration=!0,e=Te(),g.inIteration=n,Z("while"),K("("),t=ve(),K(")"),Q(";")&&U(),m.createDoWhileStatement(e,t)}(),o);case"for":return m.markEnd(xe(),o);case"function":return m.markEnd(Oe(),o);case"if":return m.markEnd(function(){var e,t,n;return Z("if"),K("("),e=ve(),K(")"),t=Te(),J("else")?(U(),n=Te()):n=null,m.createIfStatement(e,t,n)}(),o);case"return":return m.markEnd(function(){var e=null;return Z("return"),g.inFunctionBody||X({},a.IllegalReturn),32===u.charCodeAt(f)&&S(u.charCodeAt(f+1))?(e=ve(),ee(),m.createReturnStatement(e)):q()?m.createReturnStatement(null):(Q(";")||Q("}")||v.type===t.EOF||(e=ve()),ee(),m.createReturnStatement(e))}(),o);case"switch":return m.markEnd(function(){var e,t,n,r,i;if(Z("switch"),K("("),e=ve(),K(")"),K("{"),t=[],Q("}"))return U(),m.createSwitchStatement(e,t);for(r=g.inSwitch,g.inSwitch=!0,i=!1;f<p&&!Q("}");)null===(n=we()).test&&(i&&Y({},a.MultipleDefaultsInSwitch),i=!0),t.push(n);return g.inSwitch=r,K("}"),m.createSwitchStatement(e,t)}(),o);case"throw":return m.markEnd(function(){var e;return Z("throw"),q()&&Y({},a.NewlineAfterThrow),e=ve(),ee(),m.createThrowStatement(e)}(),o);case"try":return m.markEnd(Ee(),o);case"var":return m.markEnd(function(){var e;return Z("var"),e=_e(),ee(),m.createVariableDeclaration(e,"var")}(),o);case"while":return m.markEnd(function(){var e,t,n;return Z("while"),K("("),e=ve(),K(")"),n=g.inIteration,g.inIteration=!0,t=Te(),g.inIteration=n,m.createWhileStatement(e,t)}(),o);case"with":return m.markEnd(function(){var e,t;return c&&(I(),X({},a.StrictModeWith)),Z("with"),K("("),e=ve(),K(")"),t=Te(),m.createWithStatement(e,t)}(),o)}return(e=ve()).type===i.Identifier&&Q(":")?(U(),r="$"+e.name,Object.prototype.hasOwnProperty.call(g.labelSet,r)&&Y({},a.Redeclaration,"Label",e.name),g.labelSet[r]=!0,n=Te(),delete g.labelSet[r],m.markEnd(m.createLabeledStatement(e,n),o)):(ee(),m.markEnd(m.createExpressionStatement(e),o))}function Se(){var e,n,r,o,s,l,d,h,y=[];for(h=v,K("{");f<p&&v.type===t.StringLiteral&&(n=v,e=Ce(),y.push(e),e.expression.type===i.Literal);)"use strict"===u.slice(n.start+1,n.end-1)?(c=!0,r&&X(r,a.StrictOctalLiteral)):!r&&n.octal&&(r=n);for(o=g.labelSet,s=g.inIteration,l=g.inSwitch,d=g.inFunctionBody,g.labelSet={},g.inIteration=!1,g.inSwitch=!1,g.inFunctionBody=!0;f<p&&!Q("}")&&"undefined"!==typeof(e=Ce());)y.push(e);return K("}"),g.labelSet=o,g.inIteration=s,g.inSwitch=l,g.inFunctionBody=d,m.markEnd(m.createBlockStatement(y),h)}function ke(e){var t,n,r,i,o,s,l=[];if(K("("),!Q(")"))for(i={};f<p&&(n=v,t=ye(),o="$"+n.value,c?(C(n.value)&&(r=n,s=a.StrictParamName),Object.prototype.hasOwnProperty.call(i,o)&&(r=n,s=a.StrictParamDupe)):e||(C(n.value)?(e=n,s=a.StrictParamName):O(n.value)?(e=n,s=a.StrictReservedWord):Object.prototype.hasOwnProperty.call(i,o)&&(e=n,s=a.StrictParamDupe)),l.push(t),i[o]=!0,!Q(")"));)K(",");return K(")"),{params:l,stricted:r,firstRestricted:e,message:s}}function Oe(){var e,t,n,r,i,o,s,l,u,f;return f=v,Z("function"),r=v,e=ye(),c?C(r.value)&&X(r,a.StrictFunctionName):C(r.value)?(s=r,l=a.StrictFunctionName):O(r.value)&&(s=r,l=a.StrictReservedWord),t=(o=ke(s)).params,i=o.stricted,s=o.firstRestricted,o.message&&(l=o.message),u=c,n=Se(),c&&s&&Y(s,l),c&&i&&X(i,l),c=u,m.markEnd(m.createFunctionDeclaration(e,t,[],n),f)}function Ce(){if(v.type===t.Keyword)switch(v.value){case"const":case"let":return function(e){var t,n;return n=v,Z(e),t=_e(e),ee(),m.markEnd(m.createVariableDeclaration(t,e),n)}(v.value);case"function":return Oe();default:return Te()}if(v.type!==t.EOF)return Te()}function Ae(){var e,n;return I(),V(),n=v,c=!1,e=function(){for(var e,n,r,o=[];f<p&&(n=v).type===t.StringLiteral&&(e=Ce(),o.push(e),e.expression.type===i.Literal);)"use strict"===u.slice(n.start+1,n.end-1)?(c=!0,r&&X(r,a.StrictOctalLiteral)):!r&&n.octal&&(r=n);for(;f<p&&"undefined"!==typeof(e=Ce());)o.push(e);return o}(),m.markEnd(m.createProgram(e),n)}function Me(){var e,t,n,r=[];for(e=0;e<y.tokens.length;++e)n={type:(t=y.tokens[e]).type,value:t.value},y.range&&(n.range=t.range),y.loc&&(n.loc=t.loc),r.push(n);y.tokens=r}(n={})[(t={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9}).BooleanLiteral]="Boolean",n[t.EOF]="<end>",n[t.Identifier]="Identifier",n[t.Keyword]="Keyword",n[t.NullLiteral]="Null",n[t.NumericLiteral]="Numeric",n[t.Punctuator]="Punctuator",n[t.StringLiteral]="String",n[t.RegularExpression]="RegularExpression",r=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],i={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},o={Data:1,Get:2,Set:4},a={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},s={NonAsciiIdentifierStart:new RegExp("[\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]"),NonAsciiIdentifierPart:new RegExp("[\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0300-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0483-\u0487\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u05d0-\u05ea\u05f0-\u05f2\u0610-\u061a\u0620-\u0669\u066e-\u06d3\u06d5-\u06dc\u06df-\u06e8\u06ea-\u06fc\u06ff\u0710-\u074a\u074d-\u07b1\u07c0-\u07f5\u07fa\u0800-\u082d\u0840-\u085b\u08a0\u08a2-\u08ac\u08e4-\u08fe\u0900-\u0963\u0966-\u096f\u0971-\u0977\u0979-\u097f\u0981-\u0983\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bc-\u09c4\u09c7\u09c8\u09cb-\u09ce\u09d7\u09dc\u09dd\u09df-\u09e3\u09e6-\u09f1\u0a01-\u0a03\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a59-\u0a5c\u0a5e\u0a66-\u0a75\u0a81-\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abc-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ad0\u0ae0-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3c-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5c\u0b5d\u0b5f-\u0b63\u0b66-\u0b6f\u0b71\u0b82\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd0\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c58\u0c59\u0c60-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbc-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0cde\u0ce0-\u0ce3\u0ce6-\u0cef\u0cf1\u0cf2\u0d02\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d-\u0d44\u0d46-\u0d48\u0d4a-\u0d4e\u0d57\u0d60-\u0d63\u0d66-\u0d6f\u0d7a-\u0d7f\u0d82\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e01-\u0e3a\u0e40-\u0e4e\u0e50-\u0e59\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb9\u0ebb-\u0ebd\u0ec0-\u0ec4\u0ec6\u0ec8-\u0ecd\u0ed0-\u0ed9\u0edc-\u0edf\u0f00\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e-\u0f47\u0f49-\u0f6c\u0f71-\u0f84\u0f86-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1049\u1050-\u109d\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u135d-\u135f\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176c\u176e-\u1770\u1772\u1773\u1780-\u17d3\u17d7\u17dc\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1820-\u1877\u1880-\u18aa\u18b0-\u18f5\u1900-\u191c\u1920-\u192b\u1930-\u193b\u1946-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u19d0-\u19d9\u1a00-\u1a1b\u1a20-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1aa7\u1b00-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1bf3\u1c00-\u1c37\u1c40-\u1c49\u1c4d-\u1c7d\u1cd0-\u1cd2\u1cd4-\u1cf6\u1d00-\u1de6\u1dfc-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u200c\u200d\u203f\u2040\u2054\u2071\u207f\u2090-\u209c\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d7f-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2de0-\u2dff\u2e2f\u3005-\u3007\u3021-\u302f\u3031-\u3035\u3038-\u303c\u3041-\u3096\u3099\u309a\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua62b\ua640-\ua66f\ua674-\ua67d\ua67f-\ua697\ua69f-\ua6f1\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua827\ua840-\ua873\ua880-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f7\ua8fb\ua900-\ua92d\ua930-\ua953\ua960-\ua97c\ua980-\ua9c0\ua9cf-\ua9d9\uaa00-\uaa36\uaa40-\uaa4d\uaa50-\uaa59\uaa60-\uaa76\uaa7a\uaa7b\uaa80-\uaac2\uaadb-\uaadd\uaae0-\uaaef\uaaf2-\uaaf6\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabea\uabec\uabed\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff3f\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]")},l={name:"SyntaxTree",processComment:function(e){var t,n;if(!(e.type===i.Program&&e.body.length>0)){for(y.trailingComments.length>0?y.trailingComments[0].range[0]>=e.range[1]?(n=y.trailingComments,y.trailingComments=[]):y.trailingComments.length=0:y.bottomRightStack.length>0&&y.bottomRightStack[y.bottomRightStack.length-1].trailingComments&&y.bottomRightStack[y.bottomRightStack.length-1].trailingComments[0].range[0]>=e.range[1]&&(n=y.bottomRightStack[y.bottomRightStack.length-1].trailingComments,delete y.bottomRightStack[y.bottomRightStack.length-1].trailingComments);y.bottomRightStack.length>0&&y.bottomRightStack[y.bottomRightStack.length-1].range[0]>=e.range[0];)t=y.bottomRightStack.pop();t?t.leadingComments&&t.leadingComments[t.leadingComments.length-1].range[1]<=e.range[0]&&(e.leadingComments=t.leadingComments,delete t.leadingComments):y.leadingComments.length>0&&y.leadingComments[y.leadingComments.length-1].range[1]<=e.range[0]&&(e.leadingComments=y.leadingComments,y.leadingComments=[]),n&&(e.trailingComments=n),y.bottomRightStack.push(e)}},markEnd:function(e,t){return y.range&&(e.range=[t.start,f]),y.loc&&(e.loc=new W(void 0===t.startLineNumber?t.lineNumber:t.startLineNumber,t.start-(void 0===t.startLineStart?t.lineStart:t.startLineStart),d,f-h),this.postProcess(e)),y.attachComment&&this.processComment(e),e},postProcess:function(e){return y.source&&(e.loc.source=y.source),e},createArrayExpression:function(e){return{type:i.ArrayExpression,elements:e}},createAssignmentExpression:function(e,t,n){return{type:i.AssignmentExpression,operator:e,left:t,right:n}},createBinaryExpression:function(e,t,n){return{type:"||"===e||"&&"===e?i.LogicalExpression:i.BinaryExpression,operator:e,left:t,right:n}},createBlockStatement:function(e){return{type:i.BlockStatement,body:e}},createBreakStatement:function(e){return{type:i.BreakStatement,label:e}},createCallExpression:function(e,t){return{type:i.CallExpression,callee:e,arguments:t}},createCatchClause:function(e,t){return{type:i.CatchClause,param:e,body:t}},createConditionalExpression:function(e,t,n){return{type:i.ConditionalExpression,test:e,consequent:t,alternate:n}},createContinueStatement:function(e){return{type:i.ContinueStatement,label:e}},createDebuggerStatement:function(){return{type:i.DebuggerStatement}},createDoWhileStatement:function(e,t){return{type:i.DoWhileStatement,body:e,test:t}},createEmptyStatement:function(){return{type:i.EmptyStatement}},createExpressionStatement:function(e){return{type:i.ExpressionStatement,expression:e}},createForStatement:function(e,t,n,r){return{type:i.ForStatement,init:e,test:t,update:n,body:r}},createForInStatement:function(e,t,n){return{type:i.ForInStatement,left:e,right:t,body:n,each:!1}},createFunctionDeclaration:function(e,t,n,r){return{type:i.FunctionDeclaration,id:e,params:t,defaults:n,body:r,rest:null,generator:!1,expression:!1}},createFunctionExpression:function(e,t,n,r){return{type:i.FunctionExpression,id:e,params:t,defaults:n,body:r,rest:null,generator:!1,expression:!1}},createIdentifier:function(e){return{type:i.Identifier,name:e}},createIfStatement:function(e,t,n){return{type:i.IfStatement,test:e,consequent:t,alternate:n}},createLabeledStatement:function(e,t){return{type:i.LabeledStatement,label:e,body:t}},createLiteral:function(e){return{type:i.Literal,value:e.value,raw:u.slice(e.start,e.end)}},createMemberExpression:function(e,t,n){return{type:i.MemberExpression,computed:"["===e,object:t,property:n}},createNewExpression:function(e,t){return{type:i.NewExpression,callee:e,arguments:t}},createObjectExpression:function(e){return{type:i.ObjectExpression,properties:e}},createPostfixExpression:function(e,t){return{type:i.UpdateExpression,operator:e,argument:t,prefix:!1}},createProgram:function(e){return{type:i.Program,body:e}},createProperty:function(e,t,n){return{type:i.Property,key:t,value:n,kind:e}},createReturnStatement:function(e){return{type:i.ReturnStatement,argument:e}},createSequenceExpression:function(e){return{type:i.SequenceExpression,expressions:e}},createSwitchCase:function(e,t){return{type:i.SwitchCase,test:e,consequent:t}},createSwitchStatement:function(e,t){return{type:i.SwitchStatement,discriminant:e,cases:t}},createThisExpression:function(){return{type:i.ThisExpression}},createThrowStatement:function(e){return{type:i.ThrowStatement,argument:e}},createTryStatement:function(e,t,n,r){return{type:i.TryStatement,block:e,guardedHandlers:t,handlers:n,finalizer:r}},createUnaryExpression:function(e,t){return"++"===e||"--"===e?{type:i.UpdateExpression,operator:e,argument:t,prefix:!0}:{type:i.UnaryExpression,operator:e,argument:t,prefix:!0}},createVariableDeclaration:function(e,t){return{type:i.VariableDeclaration,declarations:e,kind:t}},createVariableDeclarator:function(e,t){return{type:i.VariableDeclarator,id:e,init:t}},createWhileStatement:function(e,t){return{type:i.WhileStatement,test:e,body:t}},createWithStatement:function(e,t){return{type:i.WithStatement,object:e,body:t}}},e.version="1.2.5",e.tokenize=function(e,n){var r;"string"===typeof e||e instanceof String||(e=String(e)),m=l,f=0,d=(u=e).length>0?1:0,h=0,p=u.length,v=null,g={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},y={},(n=n||{}).tokens=!0,y.tokens=[],y.tokenize=!0,y.openParenToken=-1,y.openCurlyToken=-1,y.range="boolean"===typeof n.range&&n.range,y.loc="boolean"===typeof n.loc&&n.loc,"boolean"===typeof n.comment&&n.comment&&(y.comments=[]),"boolean"===typeof n.tolerant&&n.tolerant&&(y.errors=[]);try{if(V(),v.type===t.EOF)return y.tokens;for(U();v.type!==t.EOF;)try{U()}catch(i){if(y.errors){y.errors.push(i);break}throw i}Me(),r=y.tokens,"undefined"!==typeof y.comments&&(r.comments=y.comments),"undefined"!==typeof y.errors&&(r.errors=y.errors)}catch(o){throw o}finally{y={}}return r},e.parse=function(e,t){var n,r;r=String,"string"===typeof e||e instanceof String||(e=r(e)),m=l,f=0,d=(u=e).length>0?1:0,h=0,p=u.length,v=null,g={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},y={},"undefined"!==typeof t&&(y.range="boolean"===typeof t.range&&t.range,y.loc="boolean"===typeof t.loc&&t.loc,y.attachComment="boolean"===typeof t.attachComment&&t.attachComment,y.loc&&null!==t.source&&void 0!==t.source&&(y.source=r(t.source)),"boolean"===typeof t.tokens&&t.tokens&&(y.tokens=[]),"boolean"===typeof t.comment&&t.comment&&(y.comments=[]),"boolean"===typeof t.tolerant&&t.tolerant&&(y.errors=[]),y.attachComment&&(y.range=!0,y.comments=[],y.bottomRightStack=[],y.trailingComments=[],y.leadingComments=[]));try{n=Ae(),"undefined"!==typeof y.comments&&(n.comments=y.comments),"undefined"!==typeof y.tokens&&(Me(),n.tokens=y.tokens),"undefined"!==typeof y.errors&&(n.errors=y.errors)}catch(i){throw i}finally{y={}}return n},e.Syntax=function(){var e,t={};for(e in"function"===typeof Object.create&&(t=Object.create(null)),i)i.hasOwnProperty(e)&&(t[e]=i[e]);return"function"===typeof Object.freeze&&Object.freeze(t),t}()})?r.apply(t,i):r)||(e.exports=o)}()},function(e,t,n){"use strict";var r=n(913);function i(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}e.exports=function(e){var t=new i;t.pre=e.pre,t.body=e.body,t.post=e.post;var n=e.args.slice(0);t.argTypes=n;for(var o=0;o<n.length;++o){var a=n[o];if("array"===a||"object"===typeof a&&a.blockIndices){if(t.argTypes[o]="array",t.arrayArgs.push(o),t.arrayBlockIndices.push(a.blockIndices?a.blockIndices:0),t.shimArgs.push("array"+o),o<t.pre.args.length&&t.pre.args[o].count>0)throw new Error("cwise: pre() block may not reference array args");if(o<t.post.args.length&&t.post.args[o].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===a)t.scalarArgs.push(o),t.shimArgs.push("scalar"+o);else if("index"===a){if(t.indexArgs.push(o),o<t.pre.args.length&&t.pre.args[o].count>0)throw new Error("cwise: pre() block may not reference array index");if(o<t.body.args.length&&t.body.args[o].lvalue)throw new Error("cwise: body() block may not write to array index");if(o<t.post.args.length&&t.post.args[o].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===a){if(t.shapeArgs.push(o),o<t.pre.args.length&&t.pre.args[o].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(o<t.body.args.length&&t.body.args[o].lvalue)throw new Error("cwise: body() block may not write to array shape");if(o<t.post.args.length&&t.post.args[o].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!==typeof a||!a.offset)throw new Error("cwise: Unknown argument type "+n[o]);t.argTypes[o]="offset",t.offsetArgs.push({array:a.array,offset:a.offset}),t.offsetArgIndex.push(o)}}if(t.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(t.pre.args.length>n.length)throw new Error("cwise: Too many arguments in pre() block");if(t.body.args.length>n.length)throw new Error("cwise: Too many arguments in body() block");if(t.post.args.length>n.length)throw new Error("cwise: Too many arguments in post() block");return t.debug=!!e.printCode||!!e.debug,t.funcName=e.funcName||"cwise",t.blockSize=e.blockSize||64,r(t)}},function(e,t,n){"use strict";var r=n(914);e.exports=function(e){var t=["'use strict'","var CACHED={}"],n=[],i=e.funcName+"_cwise_thunk";t.push(["return function ",i,"(",e.shimArgs.join(","),"){"].join(""));for(var o=[],a=[],s=[["array",e.arrayArgs[0],".shape.slice(",Math.max(0,e.arrayBlockIndices[0]),e.arrayBlockIndices[0]<0?","+e.arrayBlockIndices[0]+")":")"].join("")],l=[],u=[],c=0;c<e.arrayArgs.length;++c){var f=e.arrayArgs[c];n.push(["t",f,"=array",f,".dtype,","r",f,"=array",f,".order"].join("")),o.push("t"+f),o.push("r"+f),a.push("t"+f),a.push("r"+f+".join()"),s.push("array"+f+".data"),s.push("array"+f+".stride"),s.push("array"+f+".offset|0"),c>0&&(l.push("array"+e.arrayArgs[0]+".shape.length===array"+f+".shape.length+"+(Math.abs(e.arrayBlockIndices[0])-Math.abs(e.arrayBlockIndices[c]))),u.push("array"+e.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[0])+"]===array"+f+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[c])+"]"))}for(e.arrayArgs.length>1&&(t.push("if (!("+l.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),t.push("for(var shapeIndex=array"+e.arrayArgs[0]+".shape.length-"+Math.abs(e.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),t.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),t.push("}")),c=0;c<e.scalarArgs.length;++c)s.push("scalar"+e.scalarArgs[c]);return n.push(["type=[",a.join(","),"].join()"].join("")),n.push("proc=CACHED[type]"),t.push("var "+n.join(",")),t.push(["if(!proc){","CACHED[type]=proc=compile([",o.join(","),"])}","return proc(",s.join(","),")}"].join("")),e.debug&&console.log("-----Generated thunk:\n"+t.join("\n")+"\n----------"),new Function("compile",t.join("\n"))(r.bind(void 0,e))}},function(e,t,n){"use strict";var r=n(423);function i(e,t,n){var r,i,o=e.length,a=t.arrayArgs.length,s=t.indexArgs.length>0,l=[],u=[],c=0,f=0;for(r=0;r<o;++r)u.push(["i",r,"=0"].join(""));for(i=0;i<a;++i)for(r=0;r<o;++r)f=c,c=e[r],0===r?u.push(["d",i,"s",r,"=t",i,"p",c].join("")):u.push(["d",i,"s",r,"=(t",i,"p",c,"-s",f,"*t",i,"p",f,")"].join(""));for(u.length>0&&l.push("var "+u.join(",")),r=o-1;r>=0;--r)c=e[r],l.push(["for(i",r,"=0;i",r,"<s",c,";++i",r,"){"].join(""));for(l.push(n),r=0;r<o;++r){for(f=c,c=e[r],i=0;i<a;++i)l.push(["p",i,"+=d",i,"s",r].join(""));s&&(r>0&&l.push(["index[",f,"]-=s",f].join("")),l.push(["++index[",c,"]"].join(""))),l.push("}")}return l.join("\n")}function o(e,t,n){for(var r=e.body,i=[],o=[],a=0;a<e.args.length;++a){var s=e.args[a];if(!(s.count<=0)){var l=new RegExp(s.name,"g"),u="",c=t.arrayArgs.indexOf(a);switch(t.argTypes[a]){case"offset":var f=t.offsetArgIndex.indexOf(a);c=t.offsetArgs[f].array,u="+q"+f;case"array":u="p"+c+u;var d="l"+a,h="a"+c;if(0===t.arrayBlockIndices[c])1===s.count?"generic"===n[c]?s.lvalue?(i.push(["var ",d,"=",h,".get(",u,")"].join("")),r=r.replace(l,d),o.push([h,".set(",u,",",d,")"].join(""))):r=r.replace(l,[h,".get(",u,")"].join("")):r=r.replace(l,[h,"[",u,"]"].join("")):"generic"===n[c]?(i.push(["var ",d,"=",h,".get(",u,")"].join("")),r=r.replace(l,d),s.lvalue&&o.push([h,".set(",u,",",d,")"].join(""))):(i.push(["var ",d,"=",h,"[",u,"]"].join("")),r=r.replace(l,d),s.lvalue&&o.push([h,"[",u,"]=",d].join("")));else{for(var p=[s.name],m=[u],v=0;v<Math.abs(t.arrayBlockIndices[c]);v++)p.push("\\s*\\[([^\\]]+)\\]"),m.push("$"+(v+1)+"*t"+c+"b"+v);if(l=new RegExp(p.join(""),"g"),u=m.join("+"),"generic"===n[c])throw new Error("cwise: Generic arrays not supported in combination with blocks!");r=r.replace(l,[h,"[",u,"]"].join(""))}break;case"scalar":r=r.replace(l,"Y"+t.scalarArgs.indexOf(a));break;case"index":r=r.replace(l,"index");break;case"shape":r=r.replace(l,"shape")}}}return[i.join("\n"),r,o.join("\n")].join("\n").trim()}function a(e){for(var t=new Array(e.length),n=!0,r=0;r<e.length;++r){var i=e[r],o=i.match(/\d+/);o=o?o[0]:"",0===i.charAt(0)?t[r]="u"+i.charAt(1)+o:t[r]=i.charAt(0)+o,r>0&&(n=n&&t[r]===t[r-1])}return n?t[0]:t.join("")}e.exports=function(e,t){for(var n=t[1].length-Math.abs(e.arrayBlockIndices[0])|0,s=new Array(e.arrayArgs.length),l=new Array(e.arrayArgs.length),u=0;u<e.arrayArgs.length;++u)l[u]=t[2*u],s[u]=t[2*u+1];var c=[],f=[],d=[],h=[],p=[];for(u=0;u<e.arrayArgs.length;++u){e.arrayBlockIndices[u]<0?(d.push(0),h.push(n),c.push(n),f.push(n+e.arrayBlockIndices[u])):(d.push(e.arrayBlockIndices[u]),h.push(e.arrayBlockIndices[u]+n),c.push(0),f.push(e.arrayBlockIndices[u]));for(var m=[],v=0;v<s[u].length;v++)d[u]<=s[u][v]&&s[u][v]<h[u]&&m.push(s[u][v]-d[u]);p.push(m)}var g=["SS"],y=["'use strict'"],b=[];for(v=0;v<n;++v)b.push(["s",v,"=SS[",v,"]"].join(""));for(u=0;u<e.arrayArgs.length;++u){for(g.push("a"+u),g.push("t"+u),g.push("p"+u),v=0;v<n;++v)b.push(["t",u,"p",v,"=t",u,"[",d[u]+v,"]"].join(""));for(v=0;v<Math.abs(e.arrayBlockIndices[u]);++v)b.push(["t",u,"b",v,"=t",u,"[",c[u]+v,"]"].join(""))}for(u=0;u<e.scalarArgs.length;++u)g.push("Y"+u);if(e.shapeArgs.length>0&&b.push("shape=SS.slice(0)"),e.indexArgs.length>0){var _=new Array(n);for(u=0;u<n;++u)_[u]="0";b.push(["index=[",_.join(","),"]"].join(""))}for(u=0;u<e.offsetArgs.length;++u){var x=e.offsetArgs[u],w=[];for(v=0;v<x.offset.length;++v)0!==x.offset[v]&&(1===x.offset[v]?w.push(["t",x.array,"p",v].join("")):w.push([x.offset[v],"*t",x.array,"p",v].join("")));0===w.length?b.push("q"+u+"=0"):b.push(["q",u,"=",w.join("+")].join(""))}var E=r([].concat(e.pre.thisVars).concat(e.body.thisVars).concat(e.post.thisVars));for((b=b.concat(E)).length>0&&y.push("var "+b.join(",")),u=0;u<e.arrayArgs.length;++u)y.push("p"+u+"|=0");e.pre.body.length>3&&y.push(o(e.pre,e,l));var T=o(e.body,e,l),S=function(e){for(var t=0,n=e[0].length;t<n;){for(var r=1;r<e.length;++r)if(e[r][t]!==e[0][t])return t;++t}return t}(p);S<n?y.push(function(e,t,n,r){for(var o=t.length,a=n.arrayArgs.length,s=n.blockSize,l=n.indexArgs.length>0,u=[],c=0;c<a;++c)u.push(["var offset",c,"=p",c].join(""));for(c=e;c<o;++c)u.push(["for(var j"+c+"=SS[",t[c],"]|0;j",c,">0;){"].join("")),u.push(["if(j",c,"<",s,"){"].join("")),u.push(["s",t[c],"=j",c].join("")),u.push(["j",c,"=0"].join("")),u.push(["}else{s",t[c],"=",s].join("")),u.push(["j",c,"-=",s,"}"].join("")),l&&u.push(["index[",t[c],"]=j",c].join(""));for(c=0;c<a;++c){for(var f=["offset"+c],d=e;d<o;++d)f.push(["j",d,"*t",c,"p",t[d]].join(""));u.push(["p",c,"=(",f.join("+"),")"].join(""))}for(u.push(i(t,n,r)),c=e;c<o;++c)u.push("}");return u.join("\n")}(S,p[0],e,T)):y.push(i(p[0],e,T)),e.post.body.length>3&&y.push(o(e.post,e,l)),e.debug&&console.log("-----Generated cwise routine for ",t,":\n"+y.join("\n")+"\n----------");var k=[e.funcName||"unnamed","_cwise_loop_",s[0].join("s"),"m",S,a(l)].join("");return new Function(["function ",k,"(",g.join(","),"){",y.join("\n"),"} return ",k].join(""))()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(129)),i=o(n(424));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return 1===e.shape.length?e:(0,r.default)((0,i.default)(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.split("."),n=t.slice(1).join("").length;return+t.join("")/Math.pow(10,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(21),o=(r=i)&&r.__esModule?r:{default:r},a=n(10);t.default=function(e){return(0,a.map)((function(t){return e[t]}))((0,o.default)(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e||t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.pixiTextToSvg=function(e){var t=document.createElement("g"),n=document.createElement("text");return 0===e.anchor.x?n.setAttribute("text-anchor","start"):1===e.anchor.x?n.setAttribute("text-anchor","end"):n.setAttribute("text-anchor","middle"),n.setAttribute("font-family",e.style.fontFamily),n.setAttribute("font-size",e.style.fontSize),t.setAttribute("transform","scale("+String(e.scale.x)+",1)"),n.setAttribute("fill",e.style.fill),n.innerHTML=e.text,t.appendChild(n),t.setAttribute("transform","translate("+String(e.x)+","+String(e.y)+")scale("+String(e.scale.x)+",1)"),t};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){try{var t=e.split(".");return function(e){var n=e;return t.forEach((function(e){n=n[e]})),n}}catch(n){return}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=function(e,t,n,i,o,a){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=arguments[8],c=a?o:i,f=a?i:o,d=a?l:s,h=a?s:l,p=Math.max(0,+c[0]||0),m=Math.max(0,+c[1]||0),v=Math.max(0,+f[0]||0),g=Math.max(0,+f[1]||0),y=[];ArrayBuffer.isView(u)||console.warn("Not supported yet");try{for(var b=new u.constructor(u.length),_=0+h,x=v;x<g;x++)b.set(e.slice(x*t+p,x*t+m),d+_*n),_+=1;var w=a?(0,r.accessorTransposition)(n,n):void 0;y=(0,r.addArrays)(u,b,w)}catch(E){}return y}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){return[r.chrPositions[e].pos+ +t,r.chrPositions[e].pos+ +n]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(238),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t){var n=new RegExp("(\\s|^)"+String(t)+"(\\s|$)");if("http://www.w3.org/2000/svg"===e.namespaceURI){var r=e.getAttribute("class")||"";e.setAttribute("class",r.replace(n," "))}else e.classList?e.classList.remove(t):(0,o.default)(e,t)&&(e.className=e.className.replace(n," "))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.select(".selection").attr("fill",null).attr("fill-opacity",null).attr("stroke",null).classed(t,!0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){var t=e.toString(16);return 1===t.length?"0"+String(t):t};t.default=function(e,t,n){return"#"+String(r(e))+String(r(t))+String(r(n))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return[e.invert((e.range()[0]+e.range()[1])/2),t.invert((t.range()[0]+t.range()[1])/2),e.invert(1)-e.invert(0)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scalesToGenomeLoci=void 0;var r=o(n(25)),i=o(n(320));function o(e){return e&&e.__esModule?e:{default:e}}var a=t.scalesToGenomeLoci=function(e,t,n){if(null!==n&&e&&t){var o=e.domain()[0],a=e.domain()[1],s=t.domain()[0],l=t.domain()[1];return[].concat((0,r.default)((0,i.default)(o,a,n)),(0,r.default)((0,i.default)(s,l,n)))}};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(133),i=n(10),o=n(11),a=function(e,t,n,a,s,l,u,c,f){e.publish("app.animateOnMouseMove",!0);var d=n.mousePositionColor?(0,i.hexStrToInt)(n.mousePositionColor):11184810,h=n.mousePositionAlpha||1,p=new o.GLOBALS.PIXI.Graphics,m=function(){p.clear()},v=function(e,t,n){if(n||m(),p.lineStyle(1,d,h),t){var r=c?s()[0]:0;p.moveTo(0,e),p.lineTo(l()[0]+r,e)}else{var i=c?s()[1]:0;p.moveTo(e,0),p.lineTo(e,l()[1]+i)}},g=function(e){if(e.noHoveredTracks)return m(),p;var t=void 0,n=void 0;e.isFromVerticalTrack?(t=e.dataY,n=e.dataY):(t=e.dataX,n=e.isFrom2dTrack?e.dataY:e.dataX);var r=c?s():[0,0],i=u()?a()[0](n)+r[1]:a()[0](t)+r[0];return v(i),c&&v(a()[1](n)+r[1],!0,!0),p};return t.push(e.subscribe("app.mouseMove",g)),t.push(e.subscribe("app.mouseLeave",m)),t.push(e.subscribe("blur",m)),f&&t.push(r.globalPubSub.subscribe("higlass.mouseMove",g)),p};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t?e.pMasked:e.pForeground||e.pMain,i=function(){return[e.xScale(),e.yScale()]},o=a(e.pubSub,e.pubSubs,e.options,i,e.getPosition.bind(e),e.getDimensions.bind(e),e.getProp("flipText"),t,n);return r.addChild(o),function(){r.removeChild(o)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t){return Array.prototype.some.call(t,e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e+t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.svgLine=function(e,t,n,r,i,o){var a=document.createElement("line");return a.setAttribute("x1",e),a.setAttribute("x2",n),a.setAttribute("y1",t),a.setAttribute("y2",r),i&&a.setAttribute("stroke-width",i),o&&a.setAttribute("stroke",o),a};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=void 0,i=0,o=function(){for(var t=arguments.length,o=Array(t),a=0;a<t;a++)o[a]=arguments[a];var s=function(){i>0&&(e.apply(void 0,o),i=0)};clearTimeout(r),r=setTimeout(s,n)};o.cancel=function(){clearTimeout(r),r=null},o.immediate=function(){e.apply(void 0,arguments)};var a=!1;return function(n){for(var r=arguments.length,s=Array(r>1?r-1:0),l=1;l<r;l++)s[l-1]=arguments[l];a?i++:(e.apply(void 0,s),o.apply(void 0,s),a=!0,i=0,setTimeout((function(){a=!1}),t))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:256,r=document.createElement("canvas");r.width=t,r.height=n;var i=r.getContext("2d");i.fillStyle="transparent",i.fillRect(0,0,r.width,r.height);var o=new ImageData(e,r.width,r.height);return i.putImageData(o,0,0),r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(61),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){return new o.default((function(t){return setTimeout(t,e)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e.tracks)return 0;var t=0;return e.tracks.top&&(t+=e.tracks.top.map((function(e){return e.height})).reduce((function(e,t){return e+t}),0)),e.tracks.center&&(t+=e.tracks.center.map((function(e){return e.height})).reduce((function(e,t){return e+t}),0)),e.tracks.bottom&&(t+=e.tracks.bottom.map((function(e){return e.height})).reduce((function(e,t){return e+t}),0)),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(e||"").replace(/\/$/,"")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return function(i){var o=255;return i>r&&(o=Math.max(0,Math.min(255,Math.floor(e(i+n))))),t[o]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=[],n=0;n<e.length;n++)e[n].contents?t=t.concat(e[n].contents):t.push(e[n]);return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(940),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){e.sort((function(e,t){return t.to-t.from-(e.to-e.from)}));for(var t=[[]],n=[new o.default],r=0;r<e.length;r++){for(var i=!1,a=0;a<t.length;a++){var s=n[a],l=[+e[r].from,+e[r].to];if(!s.intersects(l)){s.add(l),t[a].push(e[r]),i=!0;break}}if(!i){var u=new o.default;u.add([e[r].from,e[r].to]),t.push([e[r]]),n.push(u)}}return t}},function(e,t,n){"use strict";function r(e,t,n,r){this.interval=[e,t],this.max=-1/0,this.parentNode=null,this.left=n,this.right=r}function i(){this.root=null}function o(e,t,n){var i=new r(n[0],n[1]);if(i.max=n[1],i.parentNode=e,e[t]=i,e.max<n[1])for(;i;)i.max<n[1]&&(i.max=n[1]),i=i.parentNode}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.prototype.add=function(e){if(!this.root)return this.root=new r(e[0],e[1]),void(this.root.max=e[1]);!function e(t,n){t.interval[0]>n[0]?t.left?e(t.left,n):o(t,"left",n):t.right?e(t.right,n):o(t,"right",n)}(this.root,e)},i.prototype.contains=function(e){return function e(t,n){if(!n)return!1;if(n.interval[0]<=t&&n.interval[1]>=t)return!0;var r=!1,i=void 0;return["left","right"].forEach((function(o){(i=n[o])&&i.max>t&&(r=r||e(t,i))})),r}(e,this.root)},i.prototype.intersects=function(e){return function e(t,n){if(!n)return!1;if(r=n.interval,i=t,r[0]===i[0]&&r[1]===i[1]||r[0]<i[0]&&r[1]>i[0]||r[0]<i[1]&&r[1]>i[1]||i[0]<r[0]&&i[1]>r[0]||i[0]<r[1]&&i[1]>r[1])return!0;var r,i,o=!1,a=void 0;return["left","right"].forEach((function(r){(a=n[r])&&a.max>=t[0]&&(o=o||e(t,a))})),o}(e,this.root)},i.prototype.height=function(){return function e(t){return t?1+Math.max(e(t.left),e(t.right)):0}(this.root)},i.prototype.findMax=function(e){for(var t=[e],n=void 0,r=-1/0,i=void 0;t.length;)(n=t.pop()).left&&t.push(n.left),n.right&&t.push(n.right),n.interval[1]>r&&(r=n.interval[1],i=n);return i},i.prototype._removeHelper=function(e,t){if(t)if(t.interval[0]===e[0]&&t.interval[1]===e[1]){if(t.left&&t.right){for(var n=t.left;n.left;)n=n.left;var r=n.interval;n.interval=t.interval,t.interval=r,this._removeHelper(n.interval,t)}else{var i="left";t.right&&(i="right");var o=t.parentNode;o?(o.left===t?o.left=t[i]:o.right=t[i],t[i]&&(t[i].parentNode=o)):(this.root=t[i],this.root&&(this.root.parentNode=null))}var a=t.parentNode;if(a)for(var s=this.findMax(a),l=s.interval[1];s;)s.max===t.interval[1]?(s.max=l,s=s.parentNode):s=!1}else this._removeHelper(e,t.left),this._removeHelper(e,t.right)},i.prototype.remove=function(e){return this._removeHelper(e,this.root)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(16)),i=l(n(40)),o=l(n(50)),a=n(153),s=l(n(175));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e,t){for(var n=[],r=e;r<t;r++)n.push(r);return n},c=function(e,t,n){if("undefined"===typeof n&&(n=o.default),e.resolutions)return function(e,t){var n=e.map((function(e){return+e})).sort((function(e,t){return t-e})),r=t.range()[1]-t.range()[0],i=n.map((function(e){return(t.domain()[1]-t.domain()[0])/e})).map((function(e){return e/r})),o=i.filter((function(e){return e<1}));return 0===o.length?0:i.indexOf(o[o.length-1])}(e.resolutions,t,e.min_pos[0],e.max_pos[0]);var r=function(e,t,n,r){var i=e.range()[1]-e.range()[0],o=Math.max((n-t)/(e.domain()[1]-e.domain()[0]),1),a=Math.max(0,Math.ceil(Math.log(i/384)/Math.LN2)),s=Math.round(Math.log(o)/Math.LN2)+a,l=0;return r&&(l=Math.floor(Math.log(256)/Math.log(2)-Math.log(r)/Math.log(2))),s+=l}(t,e.min_pos[0],e.max_pos[0],e.bins_per_dimension||e.tile_size),i=Math.min(r,n);return Math.max(i,0)},f={calculate1DVisibleTiles:function(e,t){if(!e)return[];var n=c(e,t,e.max_zoom);return e.resolutions?function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Number.MAX_VALUE,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:256,o=1e-7,a=e*i,s=20,l=Math.max(0,Math.floor((t.domain()[0]-n)/a)),c=Math.ceil(Math.min(r,t.domain()[1]-n-o)/a),f=u(l,c);return f.length>s&&(console.warn("Too many visible tiles: "+String(f.length)+" truncating to "+s),f=f.slice(0,s)),f}(e.resolutions.map((function(e){return+e})).sort((function(e,t){return t-e}))[n],t,e.min_pos[0],e.max_pos[0]).map((function(e){return[n,e]})):function(e,t,n,r,i,o){var a=Math.min(e,i),s=o/Math.pow(2,a);return u(Math.max(0,Math.floor((t.domain()[0]-n)/s)),Math.min(Math.pow(2,a),Math.ceil((t.domain()[1]-n-1e-7)/s)))}(n,t,e.min_pos[0],e.max_pos[0],e.max_zoom,e.max_width).map((function(e){return[n,e]}))},calculate1DZoomLevel:c,drawAxis:function(e,t){if(e.axis||(e.axis=new s.default(e),e.pBase.addChild(e.axis.pAxis)),e.options.axisPositionVertical||e.options.axisPositionHorizontal)if(e.options.axisPositionVertical&&"hidden"===e.options.axisPositionVertical)e.axis.clearAxis();else if(e.options.axisPositionHorizontal&&"hidden"===e.options.axisPositionHorizontal)e.axis.clearAxis();else{var n=e.options.axisMargin||0;"left"===e.options.axisPositionHorizontal||"top"===e.options.axisPositionVertical?(e.axis.pAxis.position.x=e.position[0]+n,e.axis.pAxis.position.y=e.position[1],e.axis.drawAxisRight(t,e.dimensions[1])):"outsideLeft"===e.options.axisPositionHorizontal||"outsideTop"===e.options.axisPositionVertical?(e.axis.pAxis.position.x=e.position[0]+n,e.axis.pAxis.position.y=e.position[1],e.axis.drawAxisLeft(t,e.dimensions[1])):"right"===e.options.axisPositionHorizontal||"bottom"===e.options.axisPositionVertical?(e.axis.pAxis.position.x=e.position[0]+e.dimensions[0]-n,e.axis.pAxis.position.y=e.position[1],e.axis.drawAxisLeft(t,e.dimensions[1])):"outsideRight"!==e.options.axisPositionHorizontal&&"outsideBottom"!==e.options.axisPositionVertical||(e.axis.pAxis.position.x=e.position[0]+e.dimensions[0]-n,e.axis.pAxis.position.y=e.position[1],e.axis.drawAxisRight(t,e.dimensions[1]))}else e.axis.clearAxis()},movedY:function(e,t){var n=e.valueScaleTransform,r=n.y,o=n.k;r+t/o>-(o-1)*e.dimensions[1]&&r+t/o<0&&(e.valueScaleTransform=n.translate(0,t/o)),(0,i.default)(e.fetchedTiles).forEach((function(t){t.graphics.position.y=e.valueScaleTransform.y})),e.animate()},getTilePosAndDimensions:function(e,t){var n=+t.split(".")[0],r=+t.split(".")[1],i=e.max_width,o=e.min_pos[0],a=i/Math.pow(2,n);return{tileX:o+r*a,tileWidth:a}},stretchRects:function(e,t){(0,i.default)(e.fetchedTiles).forEach((function(n){if(n.drawnAtScale){var i=n.drawnAtScale.range(),o=e._xScale.range();if(i[0]===o[0]&&i[1]===o[1]){var a=(n.drawnAtScale.domain()[1]-n.drawnAtScale.domain()[0])/(e._xScale.domain()[1]-e._xScale.domain()[0]);if(a>2||a<.5)e.renderTile(n);else{var s=e._xScale.domain().map(n.drawnAtScale)[0],l=!0,u=!1,c=void 0;try{for(var f,d=(0,r.default)(t);!(l=(f=d.next()).done);l=!0){var h=f.value;h(n).scale.x=a,h(n).x=-s*a}}catch(p){u=!0,c=p}finally{try{!l&&d.return&&d.return()}finally{if(u)throw c}}}}else e.renderTile(n)}}))},zoomedY:function(e,t,n,r){var i=n.k,o=n.y,s=(e-o)/i,l=Math.max(i/t,1),u=i*s+o-l*s;return u=Math.max(u,-(l-1)*r),u=Math.min(u,0),a.zoomIdentity.translate(0,u).scale(l)}};t.default=f},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.removeHGComponent=t.mountHGComponent=t.waitForTilesLoaded=t.isWaitingOnTiles=t.waitForJsonComplete=t.waitForTransitionsFinished=t.areTransitionsActive=void 0;var r=c(n(16)),i=c(n(1)),o=c(n(38)),a=n(943),s=n(24),l=n(425),u=c(n(244));function c(e){return e&&e.__esModule?e:{default:e}}var f=t.areTransitionsActive=function(e){var t=!0,n=!1,i=void 0;try{for(var o,a=(0,r.default)(e.iterateOverTracks());!(t=(o=a.next()).done);t=!0){var s=o.value;if((0,l.getTrackRenderer)(e,s.viewId,s.trackId).activeTransitions>0)return!0}}catch(u){n=!0,i=u}finally{try{!t&&a.return&&a.return()}finally{if(n)throw i}}return!1},d=(t.waitForTransitionsFinished=function e(t,n){f(t)?setTimeout((function(){e(t,n)}),100):n()},t.waitForJsonComplete=function e(t){s.requestsInFlight>0?setTimeout((function(){return e(t)}),100):t()}),h=t.isWaitingOnTiles=function(e){var t=!0,n=!1,i=void 0;try{for(var o,a=(0,r.default)(e.iterateOverTracks());!(t=(o=a.next()).done);t=!0){var s=o.value,u=(0,l.getTrackObjectFromHGC)(e,s.viewId,s.trackId);if(s.track.server||s.track.tilesetUid||s.track.data&&"divided"===s.track.data.type){if(!(s.track.data&&"divided"===s.track.data.type||s.track.server&&s.track.tilesetUid))throw Error('"server" and "tilesetUid" belong together');if(u.originalTrack&&(u=u.originalTrack),!u.tilesetInfo&&!u.chromInfo)return!0;if(u.fetching&&u.fetching.size)return!0}}}catch(c){n=!0,i=c}finally{try{!t&&a.return&&a.return()}finally{if(n)throw i}}return!1},p=t.waitForTilesLoaded=function e(t,n){h(t)?setTimeout((function(){e(t,n)}),100):n()};t.mountHGComponent=function(t,n,r,o,s){n&&(n.unmount(),n.detach()),t&&e.document.body.removeChild(t);var l=s&&s.style||"width:800px; background-color: lightgreen;",c=s&&s.bounded||!1,f=e.document.createElement("div");e.document.body.appendChild(f),f.setAttribute("style",l),f.setAttribute("id","simple-hg-component");var h=(0,a.mount)(i.default.createElement(u.default,{options:{bounded:c},viewConfig:r}),{attachTo:f});return h.update(),d((function(){p(h.instance(),o)})),[f,h]},t.removeHGComponent=function(e){e&&(o.default.unmountComponentAtNode(e),document.body.removeChild(e))}}).call(this,n(26))},function(e,t,n){"use strict";var r=c(n(426)),i=c(n(494)),o=c(n(489)),a=c(n(1072)),s=c(n(1073)),l=c(n(1074)),u=n(305);function c(e){return e&&e.__esModule?e:{default:e}}e.exports={render:l.default,shallow:s.default,mount:a.default,ShallowWrapper:i.default,ReactWrapper:r.default,configure:u.merge,EnzymeAdapter:o.default}},function(e,t,n){"use strict";var r;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,a=n(427),s=Object.prototype.propertyIsEnumerable,l=!s.call({toString:null},"toString"),u=s.call((function(){}),"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(e){var t=e.constructor;return t&&t.prototype===e},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"===typeof window)return!1;for(var e in window)try{if(!d["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"===typeof window[e])try{f(window[e])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(e){var t=null!==e&&"object"===typeof e,n="[object Function]"===o.call(e),r=a(e),s=t&&"[object String]"===o.call(e),d=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var p=u&&n;if(s&&e.length>0&&!i.call(e,0))for(var m=0;m<e.length;++m)d.push(String(m));if(r&&e.length>0)for(var v=0;v<e.length;++v)d.push(String(v));else for(var g in e)p&&"prototype"===g||!i.call(e,g)||d.push(String(g));if(l)for(var y=function(e){if("undefined"===typeof window||!h)return f(e);try{return f(e)}catch(t){return!1}}(e),b=0;b<c.length;++b)y&&"constructor"===c[b]||!i.call(e,c[b])||d.push(c[b]);return d}}e.exports=r},function(e,t,n){"use strict";var r="Function.prototype.bind called on incompatible ",i=Array.prototype.slice,o=Object.prototype.toString;e.exports=function(e){var t=this;if("function"!==typeof t||"[object Function]"!==o.call(t))throw new TypeError(r+t);for(var n,a=i.call(arguments,1),s=function(){if(this instanceof n){var r=t.apply(this,a.concat(i.call(arguments)));return Object(r)===r?r:this}return t.apply(e,a.concat(i.call(arguments)))},l=Math.max(0,t.length-a.length),u=[],c=0;c<l;c++)u.push("$"+c);if(n=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(s),t.prototype){var f=function(){};f.prototype=t.prototype,n.prototype=new f,f.prototype=null}return n}},function(e,t,n){"use strict";var r=n(52),i=n(430);e.exports=function(){var e=i();return r(Object,{assign:e},{assign:function(){return Object.assign!==e}}),e}},function(e){e.exports={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}},function(e,t,n){var r=n(437),i=e.exports=Object.create(r),o={tagName:"name"};Object.keys(o).forEach((function(e){var t=o[e];Object.defineProperty(i,e,{get:function(){return this[t]||null},set:function(e){return this[t]=e,e}})}))},function(e,t,n){var r=n(436),i=n(99);function o(e,t){this.init(e,t)}function a(e,t){return i.getElementsByTagName(e,t,!0)}function s(e,t){return i.getElementsByTagName(e,t,!0,1)[0]}function l(e,t,n){return i.getText(i.getElementsByTagName(e,t,n,1)).trim()}function u(e,t,n,r,i){var o=l(n,r,i);o&&(e[t]=o)}n(57)(o,r),o.prototype.init=r;var c=function(e){return"rss"===e||"feed"===e||"rdf:RDF"===e};o.prototype.onend=function(){var e,t,n={},i=s(c,this.dom);i&&("feed"===i.name?(t=i.children,n.type="atom",u(n,"id","id",t),u(n,"title","title",t),(e=s("link",t))&&(e=e.attribs)&&(e=e.href)&&(n.link=e),u(n,"description","subtitle",t),(e=l("updated",t))&&(n.updated=new Date(e)),u(n,"author","email",t,!0),n.items=a("entry",t).map((function(e){var t,n={};return u(n,"id","id",e=e.children),u(n,"title","title",e),(t=s("link",e))&&(t=t.attribs)&&(t=t.href)&&(n.link=t),(t=l("summary",e)||l("content",e))&&(n.description=t),(t=l("updated",e))&&(n.pubDate=new Date(t)),n}))):(t=s("channel",i.children).children,n.type=i.name.substr(0,3),n.id="",u(n,"title","title",t),u(n,"link","link",t),u(n,"description","description",t),(e=l("lastBuildDate",t))&&(n.updated=new Date(e)),u(n,"author","managingEditor",t,!0),n.items=a("item",i.children).map((function(e){var t,n={};return u(n,"id","guid",e=e.children),u(n,"title","title",e),u(n,"link","link",e),u(n,"description","description",e),(t=l("pubDate",e))&&(n.pubDate=new Date(t)),n})))),this.dom=n,r.prototype._handleCallback.call(this,i?null:Error("couldn't find root of feed"))},e.exports=o},function(e,t,n){var r=n(119),i=n(289),o=r.isTag;e.exports={getInnerHTML:function(e,t){return e.children?e.children.map((function(e){return i(e,t)})).join(""):""},getOuterHTML:i,getText:function e(t){return Array.isArray(t)?t.map(e).join(""):o(t)||t.type===r.CDATA?e(t.children):t.type===r.Text?t.data:""}}},function(e,t,n){var r=n(952),i=n(953);t.decode=function(e,t){return(!t||t<=0?i.XML:i.HTML)(e)},t.decodeStrict=function(e,t){return(!t||t<=0?i.XML:i.HTMLStrict)(e)},t.encode=function(e,t){return(!t||t<=0?r.XML:r.HTML)(e)},t.encodeXML=r.XML,t.encodeHTML4=t.encodeHTML5=t.encodeHTML=r.HTML,t.decodeXML=t.decodeXMLStrict=i.XML,t.decodeHTML4=t.decodeHTML5=t.decodeHTML=i.HTML,t.decodeHTML4Strict=t.decodeHTML5Strict=t.decodeHTMLStrict=i.HTMLStrict,t.escape=r.escape},function(e,t,n){var r=s(n(288)),i=l(r);t.XML=h(r,i);var o=s(n(287)),a=l(o);function s(e){return Object.keys(e).sort().reduce((function(t,n){return t[e[n]]="&"+n+";",t}),{})}function l(e){var t=[],n=[];return Object.keys(e).forEach((function(e){1===e.length?t.push("\\"+e):n.push(e)})),n.unshift("["+t.join("")+"]"),new RegExp(n.join("|"),"g")}t.HTML=h(o,a);var u=/[^\0-\x7F]/g,c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function f(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"}function d(e){return"&#x"+(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)-56320+65536).toString(16).toUpperCase()+";"}function h(e,t){function n(t){return e[t]}return function(e){return e.replace(t,n).replace(c,d).replace(u,f)}}var p=l(r);t.escape=function(e){return e.replace(p,f).replace(c,d).replace(u,f)}},function(e,t,n){var r=n(287),i=n(435),o=n(288),a=n(434),s=u(o),l=u(r);function u(e){var t=Object.keys(e).join("|"),n=d(e),r=new RegExp("&(?:"+(t+="|#[xX][\\da-fA-F]+|#\\d+")+");","g");return function(e){return String(e).replace(r,n)}}var c=function(){for(var e=Object.keys(i).sort(f),t=Object.keys(r).sort(f),n=0,o=0;n<t.length;n++)e[o]===t[n]?(t[n]+=";?",o++):t[n]+=";";var a=new RegExp("&(?:"+t.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),s=d(r);function l(e){return";"!==e.substr(-1)&&(e+=";"),s(e)}return function(e){return String(e).replace(a,l)}}();function f(e,t){return e<t?1:-1}function d(e){return function(t){return"#"===t.charAt(1)?"X"===t.charAt(2)||"x"===t.charAt(2)?a(parseInt(t.substr(3),16)):a(parseInt(t.substr(2),10)):e[t.slice(1,-1)]}}e.exports={XML:s,HTML:c,HTMLStrict:l}},function(e,t){var n=t.getChildren=function(e){return e.children},r=t.getParent=function(e){return e.parent};t.getSiblings=function(e){var t=r(e);return t?n(t):[e]},t.getAttributeValue=function(e,t){return e.attribs&&e.attribs[t]},t.hasAttrib=function(e,t){return!!e.attribs&&hasOwnProperty.call(e.attribs,t)},t.getName=function(e){return e.name}},function(e,t){t.removeElement=function(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){var t=e.parent.children;t.splice(t.lastIndexOf(e),1)}},t.replaceElement=function(e,t){var n=t.prev=e.prev;n&&(n.next=t);var r=t.next=e.next;r&&(r.prev=t);var i=t.parent=e.parent;if(i){var o=i.children;o[o.lastIndexOf(e)]=t}},t.appendChild=function(e,t){if(t.parent=e,1!==e.children.push(t)){var n=e.children[e.children.length-2];n.next=t,t.prev=n,t.next=null}},t.append=function(e,t){var n=e.parent,r=e.next;if(t.next=r,t.prev=e,e.next=t,t.parent=n,r){if(r.prev=t,n){var i=n.children;i.splice(i.lastIndexOf(r),0,t)}}else n&&n.children.push(t)},t.prepend=function(e,t){var n=e.parent;if(n){var r=n.children;r.splice(r.lastIndexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=n,t.prev=e.prev,t.next=e,e.prev=t}},function(e,t,n){var r=n(119).isTag;function i(e,t,n,r){for(var o,a=[],s=0,l=t.length;s<l&&!(e(t[s])&&(a.push(t[s]),--r<=0))&&(o=t[s].children,!(n&&o&&o.length>0&&(o=i(e,o,n,r),a=a.concat(o),(r-=o.length)<=0)));s++);return a}e.exports={filter:function(e,t,n,r){return Array.isArray(t)||(t=[t]),"number"===typeof r&&isFinite(r)||(r=1/0),i(e,t,!1!==n,r)},find:i,findOneChild:function(e,t){for(var n=0,r=t.length;n<r;n++)if(e(t[n]))return t[n];return null},findOne:function e(t,n){for(var i=null,o=0,a=n.length;o<a&&!i;o++)r(n[o])&&(t(n[o])?i=n[o]:n[o].children.length>0&&(i=e(t,n[o].children)));return i},existsOne:function e(t,n){for(var i=0,o=n.length;i<o;i++)if(r(n[i])&&(t(n[i])||n[i].children.length>0&&e(t,n[i].children)))return!0;return!1},findAll:function e(t,n){for(var i=[],o=0,a=n.length;o<a;o++)r(n[o])&&(t(n[o])&&i.push(n[o]),n[o].children.length>0&&(i=i.concat(e(t,n[o].children))));return i}}},function(e,t,n){var r=n(119),i=t.isTag=r.isTag;t.testElement=function(e,t){for(var n in e)if(e.hasOwnProperty(n))if("tag_name"===n){if(!i(t)||!e.tag_name(t.name))return!1}else if("tag_type"===n){if(!e.tag_type(t.type))return!1}else if("tag_contains"===n){if(i(t)||!e.tag_contains(t.data))return!1}else if(!t.attribs||!e[n](t.attribs[n]))return!1;return!0};var o={tag_name:function(e){return"function"===typeof e?function(t){return i(t)&&e(t.name)}:"*"===e?i:function(t){return i(t)&&t.name===e}},tag_type:function(e){return"function"===typeof e?function(t){return e(t.type)}:function(t){return t.type===e}},tag_contains:function(e){return"function"===typeof e?function(t){return!i(t)&&e(t.data)}:function(t){return!i(t)&&t.data===e}}};function a(e,t){return"function"===typeof t?function(n){return n.attribs&&t(n.attribs[e])}:function(n){return n.attribs&&n.attribs[e]===t}}function s(e,t){return function(n){return e(n)||t(n)}}t.getElements=function(e,t,n,r){var i=Object.keys(e).map((function(t){var n=e[t];return t in o?o[t](n):a(t,n)}));return 0===i.length?[]:this.filter(i.reduce(s),t,n,r)},t.getElementById=function(e,t,n){return Array.isArray(t)||(t=[t]),this.findOne(a("id",e),t,!1!==n)},t.getElementsByTagName=function(e,t,n,r){return this.filter(o.tag_name(e),t,n,r)},t.getElementsByTagType=function(e,t,n,r){return this.filter(o.tag_type(e),t,n,r)}},function(e,t){t.removeSubsets=function(e){for(var t,n,r,i=e.length;--i>-1;){for(t=n=e[i],e[i]=null,r=!0;n;){if(e.indexOf(n)>-1){r=!1,e.splice(i,1);break}n=n.parent}r&&(e[i]=t)}return e};var n=1,r=2,i=4,o=8,a=16,s=t.compareDocumentPosition=function(e,t){var s,l,u,c,f,d,h=[],p=[];if(e===t)return 0;for(s=e;s;)h.unshift(s),s=s.parent;for(s=t;s;)p.unshift(s),s=s.parent;for(d=0;h[d]===p[d];)d++;return 0===d?n:(u=(l=h[d-1]).children,c=h[d],f=p[d],u.indexOf(c)>u.indexOf(f)?l===t?i|a:i:l===e?r|o:r)};t.uniqueSort=function(e){var t,n,o=e.length;for(e=e.slice();--o>-1;)t=e[o],(n=e.indexOf(t))>-1&&n<o&&e.splice(o,1);return e.sort((function(e,t){var n=s(e,t);return n&r?-1:n&i?1:0})),e}},function(e,t,n){e.exports=i;var r=n(438);function i(e){r.call(this,new o(this),e)}function o(e){this.scope=e}n(57)(i,r),i.prototype.readable=!0;var a=n(144).EVENTS;Object.keys(a).forEach((function(e){if(0===a[e])o.prototype["on"+e]=function(){this.scope.emit(e)};else if(1===a[e])o.prototype["on"+e]=function(t){this.scope.emit(e,t)};else{if(2!==a[e])throw Error("wrong number of arguments!");o.prototype["on"+e]=function(t,n){this.scope.emit(e,t,n)}}}))},function(e,t){},function(e,t,n){function r(e){this._cbs=e||{}}e.exports=r;var i=n(144).EVENTS;Object.keys(i).forEach((function(e){if(0===i[e])e="on"+e,r.prototype[e]=function(){this._cbs[e]&&this._cbs[e]()};else if(1===i[e])e="on"+e,r.prototype[e]=function(t){this._cbs[e]&&this._cbs[e](t)};else{if(2!==i[e])throw Error("wrong number of arguments");e="on"+e,r.prototype[e]=function(t,n){this._cbs[e]&&this._cbs[e](t,n)}}}))},function(e,t,n){function r(e){this._cbs=e||{},this.events=[]}e.exports=r;var i=n(144).EVENTS;Object.keys(i).forEach((function(e){if(0===i[e])e="on"+e,r.prototype[e]=function(){this.events.push([e]),this._cbs[e]&&this._cbs[e]()};else if(1===i[e])e="on"+e,r.prototype[e]=function(t){this.events.push([e,t]),this._cbs[e]&&this._cbs[e](t)};else{if(2!==i[e])throw Error("wrong number of arguments");e="on"+e,r.prototype[e]=function(t,n){this.events.push([e,t,n]),this._cbs[e]&&this._cbs[e](t,n)}}})),r.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},r.prototype.restart=function(){this._cbs.onreset&&this._cbs.onreset();for(var e=0,t=this.events.length;e<t;e++)if(this._cbs[this.events[e][0]]){var n=this.events[e].length;1===n?this._cbs[this.events[e][0]]():2===n?this._cbs[this.events[e][0]](this.events[e][1]):this._cbs[this.events[e][0]](this.events[e][1],this.events[e][2])}}},function(e,t,n){"use strict";var r=n(439),i=n(443);t.parse=function(e,t){return new r(t).parse(e)},t.parseFragment=function(e,t,n){return"string"===typeof e&&(n=t,t=e,e=null),new r(n).parseFragment(t,e)},t.serialize=function(e,t){return new i(e,t).serialize()},t.treeAdapters={default:n(291),htmlparser2:n(971)},t.ParserStream=n(444),t.PlainTextConversionStream=n(983),t.SerializerStream=n(984),t.SAXParser=n(985)},function(e,t,n){"use strict";var r=n(145).CODE_POINTS,i=e.exports=function(){this.html=null,this.pos=-1,this.lastGapPos=-1,this.lastCharPos=-1,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=65536};i.prototype.dropParsedChunk=function(){this.pos>this.bufferWaterline&&(this.lastCharPos-=this.pos,this.html=this.html.substring(this.pos),this.pos=0,this.lastGapPos=-1,this.gapStack=[])},i.prototype._addGap=function(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos},i.prototype._processHighRangeCodePoint=function(e){if(this.pos!==this.lastCharPos){var t=this.html.charCodeAt(this.pos+1);i=t,(n=e)>=55296&&n<=56319&&i>=56320&&i<=57343&&(this.pos++,e=function(e,t){return 1024*(e-55296)+9216+t}(e,t),this._addGap())}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,r.EOF;var n,i;return e},i.prototype.write=function(e,t){this.html?this.html+=e:this.html=e,this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1,this.lastChunkWritten=t},i.prototype.insertHtmlAtCurrentPos=function(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1,this.html.length),this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1},i.prototype.advance=function(){if(this.pos++,this.pos>this.lastCharPos)return this.lastChunkWritten||(this.endOfChunkHit=!0),r.EOF;var e=this.html.charCodeAt(this.pos);return this.skipNextNewLine&&e===r.LINE_FEED?(this.skipNextNewLine=!1,this._addGap(),this.advance()):e===r.CARRIAGE_RETURN?(this.skipNextNewLine=!0,r.LINE_FEED):(this.skipNextNewLine=!1,e>=55296?this._processHighRangeCodePoint(e):e)},i.prototype.retreat=function(){this.pos===this.lastGapPos&&(this.lastGapPos=this.gapStack.pop(),this.pos--),this.pos--}},function(e,t,n){"use strict";e.exports=new Uint16Array([4,52,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,106,303,412,810,1432,1701,1796,1987,2114,2360,2420,2484,3170,3251,4140,4393,4575,4610,5106,5512,5728,6117,6274,6315,6345,6427,6516,7002,7910,8733,9323,9870,10170,10631,10893,11318,11386,11467,12773,13092,14474,14922,15448,15542,16419,17666,18166,18611,19004,19095,19298,19397,4,16,69,77,97,98,99,102,103,108,109,110,111,112,114,115,116,117,140,150,158,169,176,194,199,210,216,222,226,242,256,266,283,294,108,105,103,5,198,1,59,148,1,198,80,5,38,1,59,156,1,38,99,117,116,101,5,193,1,59,167,1,193,114,101,118,101,59,1,258,4,2,105,121,182,191,114,99,5,194,1,59,189,1,194,59,1,1040,114,59,3,55349,56580,114,97,118,101,5,192,1,59,208,1,192,112,104,97,59,1,913,97,99,114,59,1,256,100,59,1,10835,4,2,103,112,232,237,111,110,59,1,260,102,59,3,55349,56632,112,108,121,70,117,110,99,116,105,111,110,59,1,8289,105,110,103,5,197,1,59,264,1,197,4,2,99,115,272,277,114,59,3,55349,56476,105,103,110,59,1,8788,105,108,100,101,5,195,1,59,292,1,195,109,108,5,196,1,59,301,1,196,4,8,97,99,101,102,111,114,115,117,321,350,354,383,388,394,400,405,4,2,99,114,327,336,107,115,108,97,115,104,59,1,8726,4,2,118,119,342,345,59,1,10983,101,100,59,1,8966,121,59,1,1041,4,3,99,114,116,362,369,379,97,117,115,101,59,1,8757,110,111,117,108,108,105,115,59,1,8492,97,59,1,914,114,59,3,55349,56581,112,102,59,3,55349,56633,101,118,101,59,1,728,99,114,59,1,8492,109,112,101,113,59,1,8782,4,14,72,79,97,99,100,101,102,104,105,108,111,114,115,117,442,447,456,504,542,547,569,573,577,616,678,784,790,796,99,121,59,1,1063,80,89,5,169,1,59,454,1,169,4,3,99,112,121,464,470,497,117,116,101,59,1,262,4,2,59,105,476,478,1,8914,116,97,108,68,105,102,102,101,114,101,110,116,105,97,108,68,59,1,8517,108,101,121,115,59,1,8493,4,4,97,101,105,111,514,520,530,535,114,111,110,59,1,268,100,105,108,5,199,1,59,528,1,199,114,99,59,1,264,110,105,110,116,59,1,8752,111,116,59,1,266,4,2,100,110,553,560,105,108,108,97,59,1,184,116,101,114,68,111,116,59,1,183,114,59,1,8493,105,59,1,935,114,99,108,101,4,4,68,77,80,84,591,596,603,609,111,116,59,1,8857,105,110,117,115,59,1,8854,108,117,115,59,1,8853,105,109,101,115,59,1,8855,111,4,2,99,115,623,646,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8754,101,67,117,114,108,121,4,2,68,81,658,671,111,117,98,108,101,81,117,111,116,101,59,1,8221,117,111,116,101,59,1,8217,4,4,108,110,112,117,688,701,736,753,111,110,4,2,59,101,696,698,1,8759,59,1,10868,4,3,103,105,116,709,717,722,114,117,101,110,116,59,1,8801,110,116,59,1,8751,111,117,114,73,110,116,101,103,114,97,108,59,1,8750,4,2,102,114,742,745,59,1,8450,111,100,117,99,116,59,1,8720,110,116,101,114,67,108,111,99,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8755,111,115,115,59,1,10799,99,114,59,3,55349,56478,112,4,2,59,67,803,805,1,8915,97,112,59,1,8781,4,11,68,74,83,90,97,99,101,102,105,111,115,834,850,855,860,865,888,903,916,921,1011,1415,4,2,59,111,840,842,1,8517,116,114,97,104,100,59,1,10513,99,121,59,1,1026,99,121,59,1,1029,99,121,59,1,1039,4,3,103,114,115,873,879,883,103,101,114,59,1,8225,114,59,1,8609,104,118,59,1,10980,4,2,97,121,894,900,114,111,110,59,1,270,59,1,1044,108,4,2,59,116,910,912,1,8711,97,59,1,916,114,59,3,55349,56583,4,2,97,102,927,998,4,2,99,109,933,992,114,105,116,105,99,97,108,4,4,65,68,71,84,950,957,978,985,99,117,116,101,59,1,180,111,4,2,116,117,964,967,59,1,729,98,108,101,65,99,117,116,101,59,1,733,114,97,118,101,59,1,96,105,108,100,101,59,1,732,111,110,100,59,1,8900,102,101,114,101,110,116,105,97,108,68,59,1,8518,4,4,112,116,117,119,1021,1026,1048,1249,102,59,3,55349,56635,4,3,59,68,69,1034,1036,1041,1,168,111,116,59,1,8412,113,117,97,108,59,1,8784,98,108,101,4,6,67,68,76,82,85,86,1065,1082,1101,1189,1211,1236,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8751,111,4,2,116,119,1089,1092,59,1,168,110,65,114,114,111,119,59,1,8659,4,2,101,111,1107,1141,102,116,4,3,65,82,84,1117,1124,1136,114,114,111,119,59,1,8656,105,103,104,116,65,114,114,111,119,59,1,8660,101,101,59,1,10980,110,103,4,2,76,82,1149,1177,101,102,116,4,2,65,82,1158,1165,114,114,111,119,59,1,10232,105,103,104,116,65,114,114,111,119,59,1,10234,105,103,104,116,65,114,114,111,119,59,1,10233,105,103,104,116,4,2,65,84,1199,1206,114,114,111,119,59,1,8658,101,101,59,1,8872,112,4,2,65,68,1218,1225,114,114,111,119,59,1,8657,111,119,110,65,114,114,111,119,59,1,8661,101,114,116,105,99,97,108,66,97,114,59,1,8741,110,4,6,65,66,76,82,84,97,1264,1292,1299,1352,1391,1408,114,114,111,119,4,3,59,66,85,1276,1278,1283,1,8595,97,114,59,1,10515,112,65,114,114,111,119,59,1,8693,114,101,118,101,59,1,785,101,102,116,4,3,82,84,86,1310,1323,1334,105,103,104,116,86,101,99,116,111,114,59,1,10576,101,101,86,101,99,116,111,114,59,1,10590,101,99,116,111,114,4,2,59,66,1345,1347,1,8637,97,114,59,1,10582,105,103,104,116,4,2,84,86,1362,1373,101,101,86,101,99,116,111,114,59,1,10591,101,99,116,111,114,4,2,59,66,1384,1386,1,8641,97,114,59,1,10583,101,101,4,2,59,65,1399,1401,1,8868,114,114,111,119,59,1,8615,114,114,111,119,59,1,8659,4,2,99,116,1421,1426,114,59,3,55349,56479,114,111,107,59,1,272,4,16,78,84,97,99,100,102,103,108,109,111,112,113,115,116,117,120,1466,1470,1478,1489,1515,1520,1525,1536,1544,1593,1609,1617,1650,1664,1668,1677,71,59,1,330,72,5,208,1,59,1476,1,208,99,117,116,101,5,201,1,59,1487,1,201,4,3,97,105,121,1497,1503,1512,114,111,110,59,1,282,114,99,5,202,1,59,1510,1,202,59,1,1069,111,116,59,1,278,114,59,3,55349,56584,114,97,118,101,5,200,1,59,1534,1,200,101,109,101,110,116,59,1,8712,4,2,97,112,1550,1555,99,114,59,1,274,116,121,4,2,83,86,1563,1576,109,97,108,108,83,113,117,97,114,101,59,1,9723,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9643,4,2,103,112,1599,1604,111,110,59,1,280,102,59,3,55349,56636,115,105,108,111,110,59,1,917,117,4,2,97,105,1624,1640,108,4,2,59,84,1631,1633,1,10869,105,108,100,101,59,1,8770,108,105,98,114,105,117,109,59,1,8652,4,2,99,105,1656,1660,114,59,1,8496,109,59,1,10867,97,59,1,919,109,108,5,203,1,59,1675,1,203,4,2,105,112,1683,1689,115,116,115,59,1,8707,111,110,101,110,116,105,97,108,69,59,1,8519,4,5,99,102,105,111,115,1713,1717,1722,1762,1791,121,59,1,1060,114,59,3,55349,56585,108,108,101,100,4,2,83,86,1732,1745,109,97,108,108,83,113,117,97,114,101,59,1,9724,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9642,4,3,112,114,117,1770,1775,1781,102,59,3,55349,56637,65,108,108,59,1,8704,114,105,101,114,116,114,102,59,1,8497,99,114,59,1,8497,4,12,74,84,97,98,99,100,102,103,111,114,115,116,1822,1827,1834,1848,1855,1877,1882,1887,1890,1896,1978,1984,99,121,59,1,1027,5,62,1,59,1832,1,62,109,109,97,4,2,59,100,1843,1845,1,915,59,1,988,114,101,118,101,59,1,286,4,3,101,105,121,1863,1869,1874,100,105,108,59,1,290,114,99,59,1,284,59,1,1043,111,116,59,1,288,114,59,3,55349,56586,59,1,8921,112,102,59,3,55349,56638,101,97,116,101,114,4,6,69,70,71,76,83,84,1915,1933,1944,1953,1959,1971,113,117,97,108,4,2,59,76,1925,1927,1,8805,101,115,115,59,1,8923,117,108,108,69,113,117,97,108,59,1,8807,114,101,97,116,101,114,59,1,10914,101,115,115,59,1,8823,108,97,110,116,69,113,117,97,108,59,1,10878,105,108,100,101,59,1,8819,99,114,59,3,55349,56482,59,1,8811,4,8,65,97,99,102,105,111,115,117,2005,2012,2026,2032,2036,2049,2073,2089,82,68,99,121,59,1,1066,4,2,99,116,2018,2023,101,107,59,1,711,59,1,94,105,114,99,59,1,292,114,59,1,8460,108,98,101,114,116,83,112,97,99,101,59,1,8459,4,2,112,114,2055,2059,102,59,1,8461,105,122,111,110,116,97,108,76,105,110,101,59,1,9472,4,2,99,116,2079,2083,114,59,1,8459,114,111,107,59,1,294,109,112,4,2,68,69,2097,2107,111,119,110,72,117,109,112,59,1,8782,113,117,97,108,59,1,8783,4,14,69,74,79,97,99,100,102,103,109,110,111,115,116,117,2144,2149,2155,2160,2171,2189,2194,2198,2209,2245,2307,2329,2334,2341,99,121,59,1,1045,108,105,103,59,1,306,99,121,59,1,1025,99,117,116,101,5,205,1,59,2169,1,205,4,2,105,121,2177,2186,114,99,5,206,1,59,2184,1,206,59,1,1048,111,116,59,1,304,114,59,1,8465,114,97,118,101,5,204,1,59,2207,1,204,4,3,59,97,112,2217,2219,2238,1,8465,4,2,99,103,2225,2229,114,59,1,298,105,110,97,114,121,73,59,1,8520,108,105,101,115,59,1,8658,4,2,116,118,2251,2281,4,2,59,101,2257,2259,1,8748,4,2,103,114,2265,2271,114,97,108,59,1,8747,115,101,99,116,105,111,110,59,1,8898,105,115,105,98,108,101,4,2,67,84,2293,2300,111,109,109,97,59,1,8291,105,109,101,115,59,1,8290,4,3,103,112,116,2315,2320,2325,111,110,59,1,302,102,59,3,55349,56640,97,59,1,921,99,114,59,1,8464,105,108,100,101,59,1,296,4,2,107,109,2347,2352,99,121,59,1,1030,108,5,207,1,59,2358,1,207,4,5,99,102,111,115,117,2372,2386,2391,2397,2414,4,2,105,121,2378,2383,114,99,59,1,308,59,1,1049,114,59,3,55349,56589,112,102,59,3,55349,56641,4,2,99,101,2403,2408,114,59,3,55349,56485,114,99,121,59,1,1032,107,99,121,59,1,1028,4,7,72,74,97,99,102,111,115,2436,2441,2446,2452,2467,2472,2478,99,121,59,1,1061,99,121,59,1,1036,112,112,97,59,1,922,4,2,101,121,2458,2464,100,105,108,59,1,310,59,1,1050,114,59,3,55349,56590,112,102,59,3,55349,56642,99,114,59,3,55349,56486,4,11,74,84,97,99,101,102,108,109,111,115,116,2508,2513,2520,2562,2585,2981,2986,3004,3011,3146,3167,99,121,59,1,1033,5,60,1,59,2518,1,60,4,5,99,109,110,112,114,2532,2538,2544,2548,2558,117,116,101,59,1,313,98,100,97,59,1,923,103,59,1,10218,108,97,99,101,116,114,102,59,1,8466,114,59,1,8606,4,3,97,101,121,2570,2576,2582,114,111,110,59,1,317,100,105,108,59,1,315,59,1,1051,4,2,102,115,2591,2907,116,4,10,65,67,68,70,82,84,85,86,97,114,2614,2663,2672,2728,2735,2760,2820,2870,2888,2895,4,2,110,114,2620,2633,103,108,101,66,114,97,99,107,101,116,59,1,10216,114,111,119,4,3,59,66,82,2644,2646,2651,1,8592,97,114,59,1,8676,105,103,104,116,65,114,114,111,119,59,1,8646,101,105,108,105,110,103,59,1,8968,111,4,2,117,119,2679,2692,98,108,101,66,114,97,99,107,101,116,59,1,10214,110,4,2,84,86,2699,2710,101,101,86,101,99,116,111,114,59,1,10593,101,99,116,111,114,4,2,59,66,2721,2723,1,8643,97,114,59,1,10585,108,111,111,114,59,1,8970,105,103,104,116,4,2,65,86,2745,2752,114,114,111,119,59,1,8596,101,99,116,111,114,59,1,10574,4,2,101,114,2766,2792,101,4,3,59,65,86,2775,2777,2784,1,8867,114,114,111,119,59,1,8612,101,99,116,111,114,59,1,10586,105,97,110,103,108,101,4,3,59,66,69,2806,2808,2813,1,8882,97,114,59,1,10703,113,117,97,108,59,1,8884,112,4,3,68,84,86,2829,2841,2852,111,119,110,86,101,99,116,111,114,59,1,10577,101,101,86,101,99,116,111,114,59,1,10592,101,99,116,111,114,4,2,59,66,2863,2865,1,8639,97,114,59,1,10584,101,99,116,111,114,4,2,59,66,2881,2883,1,8636,97,114,59,1,10578,114,114,111,119,59,1,8656,105,103,104,116,97,114,114,111,119,59,1,8660,115,4,6,69,70,71,76,83,84,2922,2936,2947,2956,2962,2974,113,117,97,108,71,114,101,97,116,101,114,59,1,8922,117,108,108,69,113,117,97,108,59,1,8806,114,101,97,116,101,114,59,1,8822,101,115,115,59,1,10913,108,97,110,116,69,113,117,97,108,59,1,10877,105,108,100,101,59,1,8818,114,59,3,55349,56591,4,2,59,101,2992,2994,1,8920,102,116,97,114,114,111,119,59,1,8666,105,100,111,116,59,1,319,4,3,110,112,119,3019,3110,3115,103,4,4,76,82,108,114,3030,3058,3070,3098,101,102,116,4,2,65,82,3039,3046,114,114,111,119,59,1,10229,105,103,104,116,65,114,114,111,119,59,1,10231,105,103,104,116,65,114,114,111,119,59,1,10230,101,102,116,4,2,97,114,3079,3086,114,114,111,119,59,1,10232,105,103,104,116,97,114,114,111,119,59,1,10234,105,103,104,116,97,114,114,111,119,59,1,10233,102,59,3,55349,56643,101,114,4,2,76,82,3123,3134,101,102,116,65,114,114,111,119,59,1,8601,105,103,104,116,65,114,114,111,119,59,1,8600,4,3,99,104,116,3154,3158,3161,114,59,1,8466,59,1,8624,114,111,107,59,1,321,59,1,8810,4,8,97,99,101,102,105,111,115,117,3188,3192,3196,3222,3227,3237,3243,3248,112,59,1,10501,121,59,1,1052,4,2,100,108,3202,3213,105,117,109,83,112,97,99,101,59,1,8287,108,105,110,116,114,102,59,1,8499,114,59,3,55349,56592,110,117,115,80,108,117,115,59,1,8723,112,102,59,3,55349,56644,99,114,59,1,8499,59,1,924,4,9,74,97,99,101,102,111,115,116,117,3271,3276,3283,3306,3422,3427,4120,4126,4137,99,121,59,1,1034,99,117,116,101,59,1,323,4,3,97,101,121,3291,3297,3303,114,111,110,59,1,327,100,105,108,59,1,325,59,1,1053,4,3,103,115,119,3314,3380,3415,97,116,105,118,101,4,3,77,84,86,3327,3340,3365,101,100,105,117,109,83,112,97,99,101,59,1,8203,104,105,4,2,99,110,3348,3357,107,83,112,97,99,101,59,1,8203,83,112,97,99,101,59,1,8203,101,114,121,84,104,105,110,83,112,97,99,101,59,1,8203,116,101,100,4,2,71,76,3389,3405,114,101,97,116,101,114,71,114,101,97,116,101,114,59,1,8811,101,115,115,76,101,115,115,59,1,8810,76,105,110,101,59,1,10,114,59,3,55349,56593,4,4,66,110,112,116,3437,3444,3460,3464,114,101,97,107,59,1,8288,66,114,101,97,107,105,110,103,83,112,97,99,101,59,1,160,102,59,1,8469,4,13,59,67,68,69,71,72,76,78,80,82,83,84,86,3492,3494,3517,3536,3578,3657,3685,3784,3823,3860,3915,4066,4107,1,10988,4,2,111,117,3500,3510,110,103,114,117,101,110,116,59,1,8802,112,67,97,112,59,1,8813,111,117,98,108,101,86,101,114,116,105,99,97,108,66,97,114,59,1,8742,4,3,108,113,120,3544,3552,3571,101,109,101,110,116,59,1,8713,117,97,108,4,2,59,84,3561,3563,1,8800,105,108,100,101,59,3,8770,824,105,115,116,115,59,1,8708,114,101,97,116,101,114,4,7,59,69,70,71,76,83,84,3600,3602,3609,3621,3631,3637,3650,1,8815,113,117,97,108,59,1,8817,117,108,108,69,113,117,97,108,59,3,8807,824,114,101,97,116,101,114,59,3,8811,824,101,115,115,59,1,8825,108,97,110,116,69,113,117,97,108,59,3,10878,824,105,108,100,101,59,1,8821,117,109,112,4,2,68,69,3666,3677,111,119,110,72,117,109,112,59,3,8782,824,113,117,97,108,59,3,8783,824,101,4,2,102,115,3692,3724,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3709,3711,3717,1,8938,97,114,59,3,10703,824,113,117,97,108,59,1,8940,115,4,6,59,69,71,76,83,84,3739,3741,3748,3757,3764,3777,1,8814,113,117,97,108,59,1,8816,114,101,97,116,101,114,59,1,8824,101,115,115,59,3,8810,824,108,97,110,116,69,113,117,97,108,59,3,10877,824,105,108,100,101,59,1,8820,101,115,116,101,100,4,2,71,76,3795,3812,114,101,97,116,101,114,71,114,101,97,116,101,114,59,3,10914,824,101,115,115,76,101,115,115,59,3,10913,824,114,101,99,101,100,101,115,4,3,59,69,83,3838,3840,3848,1,8832,113,117,97,108,59,3,10927,824,108,97,110,116,69,113,117,97,108,59,1,8928,4,2,101,105,3866,3881,118,101,114,115,101,69,108,101,109,101,110,116,59,1,8716,103,104,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3900,3902,3908,1,8939,97,114,59,3,10704,824,113,117,97,108,59,1,8941,4,2,113,117,3921,3973,117,97,114,101,83,117,4,2,98,112,3933,3952,115,101,116,4,2,59,69,3942,3945,3,8847,824,113,117,97,108,59,1,8930,101,114,115,101,116,4,2,59,69,3963,3966,3,8848,824,113,117,97,108,59,1,8931,4,3,98,99,112,3981,4e3,4045,115,101,116,4,2,59,69,3990,3993,3,8834,8402,113,117,97,108,59,1,8840,99,101,101,100,115,4,4,59,69,83,84,4015,4017,4025,4037,1,8833,113,117,97,108,59,3,10928,824,108,97,110,116,69,113,117,97,108,59,1,8929,105,108,100,101,59,3,8831,824,101,114,115,101,116,4,2,59,69,4056,4059,3,8835,8402,113,117,97,108,59,1,8841,105,108,100,101,4,4,59,69,70,84,4080,4082,4089,4100,1,8769,113,117,97,108,59,1,8772,117,108,108,69,113,117,97,108,59,1,8775,105,108,100,101,59,1,8777,101,114,116,105,99,97,108,66,97,114,59,1,8740,99,114,59,3,55349,56489,105,108,100,101,5,209,1,59,4135,1,209,59,1,925,4,14,69,97,99,100,102,103,109,111,112,114,115,116,117,118,4170,4176,4187,4205,4212,4217,4228,4253,4259,4292,4295,4316,4337,4346,108,105,103,59,1,338,99,117,116,101,5,211,1,59,4185,1,211,4,2,105,121,4193,4202,114,99,5,212,1,59,4200,1,212,59,1,1054,98,108,97,99,59,1,336,114,59,3,55349,56594,114,97,118,101,5,210,1,59,4226,1,210,4,3,97,101,105,4236,4241,4246,99,114,59,1,332,103,97,59,1,937,99,114,111,110,59,1,927,112,102,59,3,55349,56646,101,110,67,117,114,108,121,4,2,68,81,4272,4285,111,117,98,108,101,81,117,111,116,101,59,1,8220,117,111,116,101,59,1,8216,59,1,10836,4,2,99,108,4301,4306,114,59,3,55349,56490,97,115,104,5,216,1,59,4314,1,216,105,4,2,108,109,4323,4332,100,101,5,213,1,59,4330,1,213,101,115,59,1,10807,109,108,5,214,1,59,4344,1,214,101,114,4,2,66,80,4354,4380,4,2,97,114,4360,4364,114,59,1,8254,97,99,4,2,101,107,4372,4375,59,1,9182,101,116,59,1,9140,97,114,101,110,116,104,101,115,105,115,59,1,9180,4,9,97,99,102,104,105,108,111,114,115,4413,4422,4426,4431,4435,4438,4448,4471,4561,114,116,105,97,108,68,59,1,8706,121,59,1,1055,114,59,3,55349,56595,105,59,1,934,59,1,928,117,115,77,105,110,117,115,59,1,177,4,2,105,112,4454,4467,110,99,97,114,101,112,108,97,110,101,59,1,8460,102,59,1,8473,4,4,59,101,105,111,4481,4483,4526,4531,1,10939,99,101,100,101,115,4,4,59,69,83,84,4498,4500,4507,4519,1,8826,113,117,97,108,59,1,10927,108,97,110,116,69,113,117,97,108,59,1,8828,105,108,100,101,59,1,8830,109,101,59,1,8243,4,2,100,112,4537,4543,117,99,116,59,1,8719,111,114,116,105,111,110,4,2,59,97,4555,4557,1,8759,108,59,1,8733,4,2,99,105,4567,4572,114,59,3,55349,56491,59,1,936,4,4,85,102,111,115,4585,4594,4599,4604,79,84,5,34,1,59,4592,1,34,114,59,3,55349,56596,112,102,59,1,8474,99,114,59,3,55349,56492,4,12,66,69,97,99,101,102,104,105,111,114,115,117,4636,4642,4650,4681,4704,4763,4767,4771,5047,5069,5081,5094,97,114,114,59,1,10512,71,5,174,1,59,4648,1,174,4,3,99,110,114,4658,4664,4668,117,116,101,59,1,340,103,59,1,10219,114,4,2,59,116,4675,4677,1,8608,108,59,1,10518,4,3,97,101,121,4689,4695,4701,114,111,110,59,1,344,100,105,108,59,1,342,59,1,1056,4,2,59,118,4710,4712,1,8476,101,114,115,101,4,2,69,85,4722,4748,4,2,108,113,4728,4736,101,109,101,110,116,59,1,8715,117,105,108,105,98,114,105,117,109,59,1,8651,112,69,113,117,105,108,105,98,114,105,117,109,59,1,10607,114,59,1,8476,111,59,1,929,103,104,116,4,8,65,67,68,70,84,85,86,97,4792,4840,4849,4905,4912,4972,5022,5040,4,2,110,114,4798,4811,103,108,101,66,114,97,99,107,101,116,59,1,10217,114,111,119,4,3,59,66,76,4822,4824,4829,1,8594,97,114,59,1,8677,101,102,116,65,114,114,111,119,59,1,8644,101,105,108,105,110,103,59,1,8969,111,4,2,117,119,4856,4869,98,108,101,66,114,97,99,107,101,116,59,1,10215,110,4,2,84,86,4876,4887,101,101,86,101,99,116,111,114,59,1,10589,101,99,116,111,114,4,2,59,66,4898,4900,1,8642,97,114,59,1,10581,108,111,111,114,59,1,8971,4,2,101,114,4918,4944,101,4,3,59,65,86,4927,4929,4936,1,8866,114,114,111,119,59,1,8614,101,99,116,111,114,59,1,10587,105,97,110,103,108,101,4,3,59,66,69,4958,4960,4965,1,8883,97,114,59,1,10704,113,117,97,108,59,1,8885,112,4,3,68,84,86,4981,4993,5004,111,119,110,86,101,99,116,111,114,59,1,10575,101,101,86,101,99,116,111,114,59,1,10588,101,99,116,111,114,4,2,59,66,5015,5017,1,8638,97,114,59,1,10580,101,99,116,111,114,4,2,59,66,5033,5035,1,8640,97,114,59,1,10579,114,114,111,119,59,1,8658,4,2,112,117,5053,5057,102,59,1,8477,110,100,73,109,112,108,105,101,115,59,1,10608,105,103,104,116,97,114,114,111,119,59,1,8667,4,2,99,104,5087,5091,114,59,1,8475,59,1,8625,108,101,68,101,108,97,121,101,100,59,1,10740,4,13,72,79,97,99,102,104,105,109,111,113,115,116,117,5134,5150,5157,5164,5198,5203,5259,5265,5277,5283,5374,5380,5385,4,2,67,99,5140,5146,72,99,121,59,1,1065,121,59,1,1064,70,84,99,121,59,1,1068,99,117,116,101,59,1,346,4,5,59,97,101,105,121,5176,5178,5184,5190,5195,1,10940,114,111,110,59,1,352,100,105,108,59,1,350,114,99,59,1,348,59,1,1057,114,59,3,55349,56598,111,114,116,4,4,68,76,82,85,5216,5227,5238,5250,111,119,110,65,114,114,111,119,59,1,8595,101,102,116,65,114,114,111,119,59,1,8592,105,103,104,116,65,114,114,111,119,59,1,8594,112,65,114,114,111,119,59,1,8593,103,109,97,59,1,931,97,108,108,67,105,114,99,108,101,59,1,8728,112,102,59,3,55349,56650,4,2,114,117,5289,5293,116,59,1,8730,97,114,101,4,4,59,73,83,85,5306,5308,5322,5367,1,9633,110,116,101,114,115,101,99,116,105,111,110,59,1,8851,117,4,2,98,112,5329,5347,115,101,116,4,2,59,69,5338,5340,1,8847,113,117,97,108,59,1,8849,101,114,115,101,116,4,2,59,69,5358,5360,1,8848,113,117,97,108,59,1,8850,110,105,111,110,59,1,8852,99,114,59,3,55349,56494,97,114,59,1,8902,4,4,98,99,109,112,5395,5420,5475,5478,4,2,59,115,5401,5403,1,8912,101,116,4,2,59,69,5411,5413,1,8912,113,117,97,108,59,1,8838,4,2,99,104,5426,5468,101,101,100,115,4,4,59,69,83,84,5440,5442,5449,5461,1,8827,113,117,97,108,59,1,10928,108,97,110,116,69,113,117,97,108,59,1,8829,105,108,100,101,59,1,8831,84,104,97,116,59,1,8715,59,1,8721,4,3,59,101,115,5486,5488,5507,1,8913,114,115,101,116,4,2,59,69,5498,5500,1,8835,113,117,97,108,59,1,8839,101,116,59,1,8913,4,11,72,82,83,97,99,102,104,105,111,114,115,5536,5546,5552,5567,5579,5602,5607,5655,5695,5701,5711,79,82,78,5,222,1,59,5544,1,222,65,68,69,59,1,8482,4,2,72,99,5558,5563,99,121,59,1,1035,121,59,1,1062,4,2,98,117,5573,5576,59,1,9,59,1,932,4,3,97,101,121,5587,5593,5599,114,111,110,59,1,356,100,105,108,59,1,354,59,1,1058,114,59,3,55349,56599,4,2,101,105,5613,5631,4,2,114,116,5619,5627,101,102,111,114,101,59,1,8756,97,59,1,920,4,2,99,110,5637,5647,107,83,112,97,99,101,59,3,8287,8202,83,112,97,99,101,59,1,8201,108,100,101,4,4,59,69,70,84,5668,5670,5677,5688,1,8764,113,117,97,108,59,1,8771,117,108,108,69,113,117,97,108,59,1,8773,105,108,100,101,59,1,8776,112,102,59,3,55349,56651,105,112,108,101,68,111,116,59,1,8411,4,2,99,116,5717,5722,114,59,3,55349,56495,114,111,107,59,1,358,4,14,97,98,99,100,102,103,109,110,111,112,114,115,116,117,5758,5789,5805,5823,5830,5835,5846,5852,5921,5937,6089,6095,6101,6108,4,2,99,114,5764,5774,117,116,101,5,218,1,59,5772,1,218,114,4,2,59,111,5781,5783,1,8607,99,105,114,59,1,10569,114,4,2,99,101,5796,5800,121,59,1,1038,118,101,59,1,364,4,2,105,121,5811,5820,114,99,5,219,1,59,5818,1,219,59,1,1059,98,108,97,99,59,1,368,114,59,3,55349,56600,114,97,118,101,5,217,1,59,5844,1,217,97,99,114,59,1,362,4,2,100,105,5858,5905,101,114,4,2,66,80,5866,5892,4,2,97,114,5872,5876,114,59,1,95,97,99,4,2,101,107,5884,5887,59,1,9183,101,116,59,1,9141,97,114,101,110,116,104,101,115,105,115,59,1,9181,111,110,4,2,59,80,5913,5915,1,8899,108,117,115,59,1,8846,4,2,103,112,5927,5932,111,110,59,1,370,102,59,3,55349,56652,4,8,65,68,69,84,97,100,112,115,5955,5985,5996,6009,6026,6033,6044,6075,114,114,111,119,4,3,59,66,68,5967,5969,5974,1,8593,97,114,59,1,10514,111,119,110,65,114,114,111,119,59,1,8645,111,119,110,65,114,114,111,119,59,1,8597,113,117,105,108,105,98,114,105,117,109,59,1,10606,101,101,4,2,59,65,6017,6019,1,8869,114,114,111,119,59,1,8613,114,114,111,119,59,1,8657,111,119,110,97,114,114,111,119,59,1,8661,101,114,4,2,76,82,6052,6063,101,102,116,65,114,114,111,119,59,1,8598,105,103,104,116,65,114,114,111,119,59,1,8599,105,4,2,59,108,6082,6084,1,978,111,110,59,1,933,105,110,103,59,1,366,99,114,59,3,55349,56496,105,108,100,101,59,1,360,109,108,5,220,1,59,6115,1,220,4,9,68,98,99,100,101,102,111,115,118,6137,6143,6148,6152,6166,6250,6255,6261,6267,97,115,104,59,1,8875,97,114,59,1,10987,121,59,1,1042,97,115,104,4,2,59,108,6161,6163,1,8873,59,1,10982,4,2,101,114,6172,6175,59,1,8897,4,3,98,116,121,6183,6188,6238,97,114,59,1,8214,4,2,59,105,6194,6196,1,8214,99,97,108,4,4,66,76,83,84,6209,6214,6220,6231,97,114,59,1,8739,105,110,101,59,1,124,101,112,97,114,97,116,111,114,59,1,10072,105,108,100,101,59,1,8768,84,104,105,110,83,112,97,99,101,59,1,8202,114,59,3,55349,56601,112,102,59,3,55349,56653,99,114,59,3,55349,56497,100,97,115,104,59,1,8874,4,5,99,101,102,111,115,6286,6292,6298,6303,6309,105,114,99,59,1,372,100,103,101,59,1,8896,114,59,3,55349,56602,112,102,59,3,55349,56654,99,114,59,3,55349,56498,4,4,102,105,111,115,6325,6330,6333,6339,114,59,3,55349,56603,59,1,926,112,102,59,3,55349,56655,99,114,59,3,55349,56499,4,9,65,73,85,97,99,102,111,115,117,6365,6370,6375,6380,6391,6405,6410,6416,6422,99,121,59,1,1071,99,121,59,1,1031,99,121,59,1,1070,99,117,116,101,5,221,1,59,6389,1,221,4,2,105,121,6397,6402,114,99,59,1,374,59,1,1067,114,59,3,55349,56604,112,102,59,3,55349,56656,99,114,59,3,55349,56500,109,108,59,1,376,4,8,72,97,99,100,101,102,111,115,6445,6450,6457,6472,6477,6501,6505,6510,99,121,59,1,1046,99,117,116,101,59,1,377,4,2,97,121,6463,6469,114,111,110,59,1,381,59,1,1047,111,116,59,1,379,4,2,114,116,6483,6497,111,87,105,100,116,104,83,112,97,99,101,59,1,8203,97,59,1,918,114,59,1,8488,112,102,59,1,8484,99,114,59,3,55349,56501,4,16,97,98,99,101,102,103,108,109,110,111,112,114,115,116,117,119,6550,6561,6568,6612,6622,6634,6645,6672,6699,6854,6870,6923,6933,6963,6974,6983,99,117,116,101,5,225,1,59,6559,1,225,114,101,118,101,59,1,259,4,6,59,69,100,105,117,121,6582,6584,6588,6591,6600,6609,1,8766,59,3,8766,819,59,1,8767,114,99,5,226,1,59,6598,1,226,116,101,5,180,1,59,6607,1,180,59,1,1072,108,105,103,5,230,1,59,6620,1,230,4,2,59,114,6628,6630,1,8289,59,3,55349,56606,114,97,118,101,5,224,1,59,6643,1,224,4,2,101,112,6651,6667,4,2,102,112,6657,6663,115,121,109,59,1,8501,104,59,1,8501,104,97,59,1,945,4,2,97,112,6678,6692,4,2,99,108,6684,6688,114,59,1,257,103,59,1,10815,5,38,1,59,6697,1,38,4,2,100,103,6705,6737,4,5,59,97,100,115,118,6717,6719,6724,6727,6734,1,8743,110,100,59,1,10837,59,1,10844,108,111,112,101,59,1,10840,59,1,10842,4,7,59,101,108,109,114,115,122,6753,6755,6758,6762,6814,6835,6848,1,8736,59,1,10660,101,59,1,8736,115,100,4,2,59,97,6770,6772,1,8737,4,8,97,98,99,100,101,102,103,104,6790,6793,6796,6799,6802,6805,6808,6811,59,1,10664,59,1,10665,59,1,10666,59,1,10667,59,1,10668,59,1,10669,59,1,10670,59,1,10671,116,4,2,59,118,6821,6823,1,8735,98,4,2,59,100,6830,6832,1,8894,59,1,10653,4,2,112,116,6841,6845,104,59,1,8738,59,1,197,97,114,114,59,1,9084,4,2,103,112,6860,6865,111,110,59,1,261,102,59,3,55349,56658,4,7,59,69,97,101,105,111,112,6886,6888,6891,6897,6900,6904,6908,1,8776,59,1,10864,99,105,114,59,1,10863,59,1,8778,100,59,1,8779,115,59,1,39,114,111,120,4,2,59,101,6917,6919,1,8776,113,59,1,8778,105,110,103,5,229,1,59,6931,1,229,4,3,99,116,121,6941,6946,6949,114,59,3,55349,56502,59,1,42,109,112,4,2,59,101,6957,6959,1,8776,113,59,1,8781,105,108,100,101,5,227,1,59,6972,1,227,109,108,5,228,1,59,6981,1,228,4,2,99,105,6989,6997,111,110,105,110,116,59,1,8755,110,116,59,1,10769,4,16,78,97,98,99,100,101,102,105,107,108,110,111,112,114,115,117,7036,7041,7119,7135,7149,7155,7219,7224,7347,7354,7463,7489,7786,7793,7814,7866,111,116,59,1,10989,4,2,99,114,7047,7094,107,4,4,99,101,112,115,7058,7064,7073,7080,111,110,103,59,1,8780,112,115,105,108,111,110,59,1,1014,114,105,109,101,59,1,8245,105,109,4,2,59,101,7088,7090,1,8765,113,59,1,8909,4,2,118,119,7100,7105,101,101,59,1,8893,101,100,4,2,59,103,7113,7115,1,8965,101,59,1,8965,114,107,4,2,59,116,7127,7129,1,9141,98,114,107,59,1,9142,4,2,111,121,7141,7146,110,103,59,1,8780,59,1,1073,113,117,111,59,1,8222,4,5,99,109,112,114,116,7167,7181,7188,7193,7199,97,117,115,4,2,59,101,7176,7178,1,8757,59,1,8757,112,116,121,118,59,1,10672,115,105,59,1,1014,110,111,117,59,1,8492,4,3,97,104,119,7207,7210,7213,59,1,946,59,1,8502,101,101,110,59,1,8812,114,59,3,55349,56607,103,4,7,99,111,115,116,117,118,119,7241,7262,7288,7305,7328,7335,7340,4,3,97,105,117,7249,7253,7258,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,4,3,100,112,116,7270,7275,7281,111,116,59,1,10752,108,117,115,59,1,10753,105,109,101,115,59,1,10754,4,2,113,116,7294,7300,99,117,112,59,1,10758,97,114,59,1,9733,114,105,97,110,103,108,101,4,2,100,117,7318,7324,111,119,110,59,1,9661,112,59,1,9651,112,108,117,115,59,1,10756,101,101,59,1,8897,101,100,103,101,59,1,8896,97,114,111,119,59,1,10509,4,3,97,107,111,7362,7436,7458,4,2,99,110,7368,7432,107,4,3,108,115,116,7377,7386,7394,111,122,101,110,103,101,59,1,10731,113,117,97,114,101,59,1,9642,114,105,97,110,103,108,101,4,4,59,100,108,114,7411,7413,7419,7425,1,9652,111,119,110,59,1,9662,101,102,116,59,1,9666,105,103,104,116,59,1,9656,107,59,1,9251,4,2,49,51,7442,7454,4,2,50,52,7448,7451,59,1,9618,59,1,9617,52,59,1,9619,99,107,59,1,9608,4,2,101,111,7469,7485,4,2,59,113,7475,7478,3,61,8421,117,105,118,59,3,8801,8421,116,59,1,8976,4,4,112,116,119,120,7499,7504,7517,7523,102,59,3,55349,56659,4,2,59,116,7510,7512,1,8869,111,109,59,1,8869,116,105,101,59,1,8904,4,12,68,72,85,86,98,100,104,109,112,116,117,118,7549,7571,7597,7619,7655,7660,7682,7708,7715,7721,7728,7750,4,4,76,82,108,114,7559,7562,7565,7568,59,1,9559,59,1,9556,59,1,9558,59,1,9555,4,5,59,68,85,100,117,7583,7585,7588,7591,7594,1,9552,59,1,9574,59,1,9577,59,1,9572,59,1,9575,4,4,76,82,108,114,7607,7610,7613,7616,59,1,9565,59,1,9562,59,1,9564,59,1,9561,4,7,59,72,76,82,104,108,114,7635,7637,7640,7643,7646,7649,7652,1,9553,59,1,9580,59,1,9571,59,1,9568,59,1,9579,59,1,9570,59,1,9567,111,120,59,1,10697,4,4,76,82,108,114,7670,7673,7676,7679,59,1,9557,59,1,9554,59,1,9488,59,1,9484,4,5,59,68,85,100,117,7694,7696,7699,7702,7705,1,9472,59,1,9573,59,1,9576,59,1,9516,59,1,9524,105,110,117,115,59,1,8863,108,117,115,59,1,8862,105,109,101,115,59,1,8864,4,4,76,82,108,114,7738,7741,7744,7747,59,1,9563,59,1,9560,59,1,9496,59,1,9492,4,7,59,72,76,82,104,108,114,7766,7768,7771,7774,7777,7780,7783,1,9474,59,1,9578,59,1,9569,59,1,9566,59,1,9532,59,1,9508,59,1,9500,114,105,109,101,59,1,8245,4,2,101,118,7799,7804,118,101,59,1,728,98,97,114,5,166,1,59,7812,1,166,4,4,99,101,105,111,7824,7829,7834,7846,114,59,3,55349,56503,109,105,59,1,8271,109,4,2,59,101,7841,7843,1,8765,59,1,8909,108,4,3,59,98,104,7855,7857,7860,1,92,59,1,10693,115,117,98,59,1,10184,4,2,108,109,7872,7885,108,4,2,59,101,7879,7881,1,8226,116,59,1,8226,112,4,3,59,69,101,7894,7896,7899,1,8782,59,1,10926,4,2,59,113,7905,7907,1,8783,59,1,8783,4,15,97,99,100,101,102,104,105,108,111,114,115,116,117,119,121,7942,8021,8075,8080,8121,8126,8157,8279,8295,8430,8446,8485,8491,8707,8726,4,3,99,112,114,7950,7956,8007,117,116,101,59,1,263,4,6,59,97,98,99,100,115,7970,7972,7977,7984,7998,8003,1,8745,110,100,59,1,10820,114,99,117,112,59,1,10825,4,2,97,117,7990,7994,112,59,1,10827,112,59,1,10823,111,116,59,1,10816,59,3,8745,65024,4,2,101,111,8013,8017,116,59,1,8257,110,59,1,711,4,4,97,101,105,117,8031,8046,8056,8061,4,2,112,114,8037,8041,115,59,1,10829,111,110,59,1,269,100,105,108,5,231,1,59,8054,1,231,114,99,59,1,265,112,115,4,2,59,115,8069,8071,1,10828,109,59,1,10832,111,116,59,1,267,4,3,100,109,110,8088,8097,8104,105,108,5,184,1,59,8095,1,184,112,116,121,118,59,1,10674,116,5,162,2,59,101,8112,8114,1,162,114,100,111,116,59,1,183,114,59,3,55349,56608,4,3,99,101,105,8134,8138,8154,121,59,1,1095,99,107,4,2,59,109,8146,8148,1,10003,97,114,107,59,1,10003,59,1,967,114,4,7,59,69,99,101,102,109,115,8174,8176,8179,8258,8261,8268,8273,1,9675,59,1,10691,4,3,59,101,108,8187,8189,8193,1,710,113,59,1,8791,101,4,2,97,100,8200,8223,114,114,111,119,4,2,108,114,8210,8216,101,102,116,59,1,8634,105,103,104,116,59,1,8635,4,5,82,83,97,99,100,8235,8238,8241,8246,8252,59,1,174,59,1,9416,115,116,59,1,8859,105,114,99,59,1,8858,97,115,104,59,1,8861,59,1,8791,110,105,110,116,59,1,10768,105,100,59,1,10991,99,105,114,59,1,10690,117,98,115,4,2,59,117,8288,8290,1,9827,105,116,59,1,9827,4,4,108,109,110,112,8305,8326,8376,8400,111,110,4,2,59,101,8313,8315,1,58,4,2,59,113,8321,8323,1,8788,59,1,8788,4,2,109,112,8332,8344,97,4,2,59,116,8339,8341,1,44,59,1,64,4,3,59,102,108,8352,8354,8358,1,8705,110,59,1,8728,101,4,2,109,120,8365,8371,101,110,116,59,1,8705,101,115,59,1,8450,4,2,103,105,8382,8395,4,2,59,100,8388,8390,1,8773,111,116,59,1,10861,110,116,59,1,8750,4,3,102,114,121,8408,8412,8417,59,3,55349,56660,111,100,59,1,8720,5,169,2,59,115,8424,8426,1,169,114,59,1,8471,4,2,97,111,8436,8441,114,114,59,1,8629,115,115,59,1,10007,4,2,99,117,8452,8457,114,59,3,55349,56504,4,2,98,112,8463,8474,4,2,59,101,8469,8471,1,10959,59,1,10961,4,2,59,101,8480,8482,1,10960,59,1,10962,100,111,116,59,1,8943,4,7,100,101,108,112,114,118,119,8507,8522,8536,8550,8600,8697,8702,97,114,114,4,2,108,114,8516,8519,59,1,10552,59,1,10549,4,2,112,115,8528,8532,114,59,1,8926,99,59,1,8927,97,114,114,4,2,59,112,8545,8547,1,8630,59,1,10557,4,6,59,98,99,100,111,115,8564,8566,8573,8587,8592,8596,1,8746,114,99,97,112,59,1,10824,4,2,97,117,8579,8583,112,59,1,10822,112,59,1,10826,111,116,59,1,8845,114,59,1,10821,59,3,8746,65024,4,4,97,108,114,118,8610,8623,8663,8672,114,114,4,2,59,109,8618,8620,1,8631,59,1,10556,121,4,3,101,118,119,8632,8651,8656,113,4,2,112,115,8639,8645,114,101,99,59,1,8926,117,99,99,59,1,8927,101,101,59,1,8910,101,100,103,101,59,1,8911,101,110,5,164,1,59,8670,1,164,101,97,114,114,111,119,4,2,108,114,8684,8690,101,102,116,59,1,8630,105,103,104,116,59,1,8631,101,101,59,1,8910,101,100,59,1,8911,4,2,99,105,8713,8721,111,110,105,110,116,59,1,8754,110,116,59,1,8753,108,99,116,121,59,1,9005,4,19,65,72,97,98,99,100,101,102,104,105,106,108,111,114,115,116,117,119,122,8773,8778,8783,8821,8839,8854,8887,8914,8930,8944,9036,9041,9058,9197,9227,9258,9281,9297,9305,114,114,59,1,8659,97,114,59,1,10597,4,4,103,108,114,115,8793,8799,8805,8809,103,101,114,59,1,8224,101,116,104,59,1,8504,114,59,1,8595,104,4,2,59,118,8816,8818,1,8208,59,1,8867,4,2,107,108,8827,8834,97,114,111,119,59,1,10511,97,99,59,1,733,4,2,97,121,8845,8851,114,111,110,59,1,271,59,1,1076,4,3,59,97,111,8862,8864,8880,1,8518,4,2,103,114,8870,8876,103,101,114,59,1,8225,114,59,1,8650,116,115,101,113,59,1,10871,4,3,103,108,109,8895,8902,8907,5,176,1,59,8900,1,176,116,97,59,1,948,112,116,121,118,59,1,10673,4,2,105,114,8920,8926,115,104,116,59,1,10623,59,3,55349,56609,97,114,4,2,108,114,8938,8941,59,1,8643,59,1,8642,4,5,97,101,103,115,118,8956,8986,8989,8996,9001,109,4,3,59,111,115,8965,8967,8983,1,8900,110,100,4,2,59,115,8975,8977,1,8900,117,105,116,59,1,9830,59,1,9830,59,1,168,97,109,109,97,59,1,989,105,110,59,1,8946,4,3,59,105,111,9009,9011,9031,1,247,100,101,5,247,2,59,111,9020,9022,1,247,110,116,105,109,101,115,59,1,8903,110,120,59,1,8903,99,121,59,1,1106,99,4,2,111,114,9048,9053,114,110,59,1,8990,111,112,59,1,8973,4,5,108,112,116,117,119,9070,9076,9081,9130,9144,108,97,114,59,1,36,102,59,3,55349,56661,4,5,59,101,109,112,115,9093,9095,9109,9116,9122,1,729,113,4,2,59,100,9102,9104,1,8784,111,116,59,1,8785,105,110,117,115,59,1,8760,108,117,115,59,1,8724,113,117,97,114,101,59,1,8865,98,108,101,98,97,114,119,101,100,103,101,59,1,8966,110,4,3,97,100,104,9153,9160,9172,114,114,111,119,59,1,8595,111,119,110,97,114,114,111,119,115,59,1,8650,97,114,112,111,111,110,4,2,108,114,9184,9190,101,102,116,59,1,8643,105,103,104,116,59,1,8642,4,2,98,99,9203,9211,107,97,114,111,119,59,1,10512,4,2,111,114,9217,9222,114,110,59,1,8991,111,112,59,1,8972,4,3,99,111,116,9235,9248,9252,4,2,114,121,9241,9245,59,3,55349,56505,59,1,1109,108,59,1,10742,114,111,107,59,1,273,4,2,100,114,9264,9269,111,116,59,1,8945,105,4,2,59,102,9276,9278,1,9663,59,1,9662,4,2,97,104,9287,9292,114,114,59,1,8693,97,114,59,1,10607,97,110,103,108,101,59,1,10662,4,2,99,105,9311,9315,121,59,1,1119,103,114,97,114,114,59,1,10239,4,18,68,97,99,100,101,102,103,108,109,110,111,112,113,114,115,116,117,120,9361,9376,9398,9439,9444,9447,9462,9495,9531,9585,9598,9614,9659,9755,9771,9792,9808,9826,4,2,68,111,9367,9372,111,116,59,1,10871,116,59,1,8785,4,2,99,115,9382,9392,117,116,101,5,233,1,59,9390,1,233,116,101,114,59,1,10862,4,4,97,105,111,121,9408,9414,9430,9436,114,111,110,59,1,283,114,4,2,59,99,9421,9423,1,8790,5,234,1,59,9428,1,234,108,111,110,59,1,8789,59,1,1101,111,116,59,1,279,59,1,8519,4,2,68,114,9453,9458,111,116,59,1,8786,59,3,55349,56610,4,3,59,114,115,9470,9472,9482,1,10906,97,118,101,5,232,1,59,9480,1,232,4,2,59,100,9488,9490,1,10902,111,116,59,1,10904,4,4,59,105,108,115,9505,9507,9515,9518,1,10905,110,116,101,114,115,59,1,9191,59,1,8467,4,2,59,100,9524,9526,1,10901,111,116,59,1,10903,4,3,97,112,115,9539,9544,9564,99,114,59,1,275,116,121,4,3,59,115,118,9554,9556,9561,1,8709,101,116,59,1,8709,59,1,8709,112,4,2,49,59,9571,9583,4,2,51,52,9577,9580,59,1,8196,59,1,8197,1,8195,4,2,103,115,9591,9594,59,1,331,112,59,1,8194,4,2,103,112,9604,9609,111,110,59,1,281,102,59,3,55349,56662,4,3,97,108,115,9622,9635,9640,114,4,2,59,115,9629,9631,1,8917,108,59,1,10723,117,115,59,1,10865,105,4,3,59,108,118,9649,9651,9656,1,949,111,110,59,1,949,59,1,1013,4,4,99,115,117,118,9669,9686,9716,9747,4,2,105,111,9675,9680,114,99,59,1,8790,108,111,110,59,1,8789,4,2,105,108,9692,9696,109,59,1,8770,97,110,116,4,2,103,108,9705,9710,116,114,59,1,10902,101,115,115,59,1,10901,4,3,97,101,105,9724,9729,9734,108,115,59,1,61,115,116,59,1,8799,118,4,2,59,68,9741,9743,1,8801,68,59,1,10872,112,97,114,115,108,59,1,10725,4,2,68,97,9761,9766,111,116,59,1,8787,114,114,59,1,10609,4,3,99,100,105,9779,9783,9788,114,59,1,8495,111,116,59,1,8784,109,59,1,8770,4,2,97,104,9798,9801,59,1,951,5,240,1,59,9806,1,240,4,2,109,114,9814,9822,108,5,235,1,59,9820,1,235,111,59,1,8364,4,3,99,105,112,9834,9838,9843,108,59,1,33,115,116,59,1,8707,4,2,101,111,9849,9859,99,116,97,116,105,111,110,59,1,8496,110,101,110,116,105,97,108,101,59,1,8519,4,12,97,99,101,102,105,106,108,110,111,112,114,115,9896,9910,9914,9921,9954,9960,9967,9989,9994,10027,10036,10164,108,108,105,110,103,100,111,116,115,101,113,59,1,8786,121,59,1,1092,109,97,108,101,59,1,9792,4,3,105,108,114,9929,9935,9950,108,105,103,59,1,64259,4,2,105,108,9941,9945,103,59,1,64256,105,103,59,1,64260,59,3,55349,56611,108,105,103,59,1,64257,108,105,103,59,3,102,106,4,3,97,108,116,9975,9979,9984,116,59,1,9837,105,103,59,1,64258,110,115,59,1,9649,111,102,59,1,402,4,2,112,114,1e4,10005,102,59,3,55349,56663,4,2,97,107,10011,10016,108,108,59,1,8704,4,2,59,118,10022,10024,1,8916,59,1,10969,97,114,116,105,110,116,59,1,10765,4,2,97,111,10042,10159,4,2,99,115,10048,10155,4,6,49,50,51,52,53,55,10062,10102,10114,10135,10139,10151,4,6,50,51,52,53,54,56,10076,10083,10086,10093,10096,10099,5,189,1,59,10081,1,189,59,1,8531,5,188,1,59,10091,1,188,59,1,8533,59,1,8537,59,1,8539,4,2,51,53,10108,10111,59,1,8532,59,1,8534,4,3,52,53,56,10122,10129,10132,5,190,1,59,10127,1,190,59,1,8535,59,1,8540,53,59,1,8536,4,2,54,56,10145,10148,59,1,8538,59,1,8541,56,59,1,8542,108,59,1,8260,119,110,59,1,8994,99,114,59,3,55349,56507,4,17,69,97,98,99,100,101,102,103,105,106,108,110,111,114,115,116,118,10206,10217,10247,10254,10268,10273,10358,10363,10374,10380,10385,10406,10458,10464,10470,10497,10610,4,2,59,108,10212,10214,1,8807,59,1,10892,4,3,99,109,112,10225,10231,10244,117,116,101,59,1,501,109,97,4,2,59,100,10239,10241,1,947,59,1,989,59,1,10886,114,101,118,101,59,1,287,4,2,105,121,10260,10265,114,99,59,1,285,59,1,1075,111,116,59,1,289,4,4,59,108,113,115,10283,10285,10288,10308,1,8805,59,1,8923,4,3,59,113,115,10296,10298,10301,1,8805,59,1,8807,108,97,110,116,59,1,10878,4,4,59,99,100,108,10318,10320,10324,10345,1,10878,99,59,1,10921,111,116,4,2,59,111,10332,10334,1,10880,4,2,59,108,10340,10342,1,10882,59,1,10884,4,2,59,101,10351,10354,3,8923,65024,115,59,1,10900,114,59,3,55349,56612,4,2,59,103,10369,10371,1,8811,59,1,8921,109,101,108,59,1,8503,99,121,59,1,1107,4,4,59,69,97,106,10395,10397,10400,10403,1,8823,59,1,10898,59,1,10917,59,1,10916,4,4,69,97,101,115,10416,10419,10434,10453,59,1,8809,112,4,2,59,112,10426,10428,1,10890,114,111,120,59,1,10890,4,2,59,113,10440,10442,1,10888,4,2,59,113,10448,10450,1,10888,59,1,8809,105,109,59,1,8935,112,102,59,3,55349,56664,97,118,101,59,1,96,4,2,99,105,10476,10480,114,59,1,8458,109,4,3,59,101,108,10489,10491,10494,1,8819,59,1,10894,59,1,10896,5,62,6,59,99,100,108,113,114,10512,10514,10527,10532,10538,10545,1,62,4,2,99,105,10520,10523,59,1,10919,114,59,1,10874,111,116,59,1,8919,80,97,114,59,1,10645,117,101,115,116,59,1,10876,4,5,97,100,101,108,115,10557,10574,10579,10599,10605,4,2,112,114,10563,10570,112,114,111,120,59,1,10886,114,59,1,10616,111,116,59,1,8919,113,4,2,108,113,10586,10592,101,115,115,59,1,8923,108,101,115,115,59,1,10892,101,115,115,59,1,8823,105,109,59,1,8819,4,2,101,110,10616,10626,114,116,110,101,113,113,59,3,8809,65024,69,59,3,8809,65024,4,10,65,97,98,99,101,102,107,111,115,121,10653,10658,10713,10718,10724,10760,10765,10786,10850,10875,114,114,59,1,8660,4,4,105,108,109,114,10668,10674,10678,10684,114,115,112,59,1,8202,102,59,1,189,105,108,116,59,1,8459,4,2,100,114,10690,10695,99,121,59,1,1098,4,3,59,99,119,10703,10705,10710,1,8596,105,114,59,1,10568,59,1,8621,97,114,59,1,8463,105,114,99,59,1,293,4,3,97,108,114,10732,10748,10754,114,116,115,4,2,59,117,10741,10743,1,9829,105,116,59,1,9829,108,105,112,59,1,8230,99,111,110,59,1,8889,114,59,3,55349,56613,115,4,2,101,119,10772,10779,97,114,111,119,59,1,10533,97,114,111,119,59,1,10534,4,5,97,109,111,112,114,10798,10803,10809,10839,10844,114,114,59,1,8703,116,104,116,59,1,8763,107,4,2,108,114,10816,10827,101,102,116,97,114,114,111,119,59,1,8617,105,103,104,116,97,114,114,111,119,59,1,8618,102,59,3,55349,56665,98,97,114,59,1,8213,4,3,99,108,116,10858,10863,10869,114,59,3,55349,56509,97,115,104,59,1,8463,114,111,107,59,1,295,4,2,98,112,10881,10887,117,108,108,59,1,8259,104,101,110,59,1,8208,4,15,97,99,101,102,103,105,106,109,110,111,112,113,115,116,117,10925,10936,10958,10977,10990,11001,11039,11045,11101,11192,11220,11226,11237,11285,11299,99,117,116,101,5,237,1,59,10934,1,237,4,3,59,105,121,10944,10946,10955,1,8291,114,99,5,238,1,59,10953,1,238,59,1,1080,4,2,99,120,10964,10968,121,59,1,1077,99,108,5,161,1,59,10975,1,161,4,2,102,114,10983,10986,59,1,8660,59,3,55349,56614,114,97,118,101,5,236,1,59,10999,1,236,4,4,59,105,110,111,11011,11013,11028,11034,1,8520,4,2,105,110,11019,11024,110,116,59,1,10764,116,59,1,8749,102,105,110,59,1,10716,116,97,59,1,8489,108,105,103,59,1,307,4,3,97,111,112,11053,11092,11096,4,3,99,103,116,11061,11065,11088,114,59,1,299,4,3,101,108,112,11073,11076,11082,59,1,8465,105,110,101,59,1,8464,97,114,116,59,1,8465,104,59,1,305,102,59,1,8887,101,100,59,1,437,4,5,59,99,102,111,116,11113,11115,11121,11136,11142,1,8712,97,114,101,59,1,8453,105,110,4,2,59,116,11129,11131,1,8734,105,101,59,1,10717,100,111,116,59,1,305,4,5,59,99,101,108,112,11154,11156,11161,11179,11186,1,8747,97,108,59,1,8890,4,2,103,114,11167,11173,101,114,115,59,1,8484,99,97,108,59,1,8890,97,114,104,107,59,1,10775,114,111,100,59,1,10812,4,4,99,103,112,116,11202,11206,11211,11216,121,59,1,1105,111,110,59,1,303,102,59,3,55349,56666,97,59,1,953,114,111,100,59,1,10812,117,101,115,116,5,191,1,59,11235,1,191,4,2,99,105,11243,11248,114,59,3,55349,56510,110,4,5,59,69,100,115,118,11261,11263,11266,11271,11282,1,8712,59,1,8953,111,116,59,1,8949,4,2,59,118,11277,11279,1,8948,59,1,8947,59,1,8712,4,2,59,105,11291,11293,1,8290,108,100,101,59,1,297,4,2,107,109,11305,11310,99,121,59,1,1110,108,5,239,1,59,11316,1,239,4,6,99,102,109,111,115,117,11332,11346,11351,11357,11363,11380,4,2,105,121,11338,11343,114,99,59,1,309,59,1,1081,114,59,3,55349,56615,97,116,104,59,1,567,112,102,59,3,55349,56667,4,2,99,101,11369,11374,114,59,3,55349,56511,114,99,121,59,1,1112,107,99,121,59,1,1108,4,8,97,99,102,103,104,106,111,115,11404,11418,11433,11438,11445,11450,11455,11461,112,112,97,4,2,59,118,11413,11415,1,954,59,1,1008,4,2,101,121,11424,11430,100,105,108,59,1,311,59,1,1082,114,59,3,55349,56616,114,101,101,110,59,1,312,99,121,59,1,1093,99,121,59,1,1116,112,102,59,3,55349,56668,99,114,59,3,55349,56512,4,23,65,66,69,72,97,98,99,100,101,102,103,104,106,108,109,110,111,112,114,115,116,117,118,11515,11538,11544,11555,11560,11721,11780,11818,11868,12136,12160,12171,12203,12208,12246,12275,12327,12509,12523,12569,12641,12732,12752,4,3,97,114,116,11523,11528,11532,114,114,59,1,8666,114,59,1,8656,97,105,108,59,1,10523,97,114,114,59,1,10510,4,2,59,103,11550,11552,1,8806,59,1,10891,97,114,59,1,10594,4,9,99,101,103,109,110,112,113,114,116,11580,11586,11594,11600,11606,11624,11627,11636,11694,117,116,101,59,1,314,109,112,116,121,118,59,1,10676,114,97,110,59,1,8466,98,100,97,59,1,955,103,4,3,59,100,108,11615,11617,11620,1,10216,59,1,10641,101,59,1,10216,59,1,10885,117,111,5,171,1,59,11634,1,171,114,4,8,59,98,102,104,108,112,115,116,11655,11657,11669,11673,11677,11681,11685,11690,1,8592,4,2,59,102,11663,11665,1,8676,115,59,1,10527,115,59,1,10525,107,59,1,8617,112,59,1,8619,108,59,1,10553,105,109,59,1,10611,108,59,1,8610,4,3,59,97,101,11702,11704,11709,1,10923,105,108,59,1,10521,4,2,59,115,11715,11717,1,10925,59,3,10925,65024,4,3,97,98,114,11729,11734,11739,114,114,59,1,10508,114,107,59,1,10098,4,2,97,107,11745,11758,99,4,2,101,107,11752,11755,59,1,123,59,1,91,4,2,101,115,11764,11767,59,1,10635,108,4,2,100,117,11774,11777,59,1,10639,59,1,10637,4,4,97,101,117,121,11790,11796,11811,11815,114,111,110,59,1,318,4,2,100,105,11802,11807,105,108,59,1,316,108,59,1,8968,98,59,1,123,59,1,1083,4,4,99,113,114,115,11828,11832,11845,11864,97,59,1,10550,117,111,4,2,59,114,11840,11842,1,8220,59,1,8222,4,2,100,117,11851,11857,104,97,114,59,1,10599,115,104,97,114,59,1,10571,104,59,1,8626,4,5,59,102,103,113,115,11880,11882,12008,12011,12031,1,8804,116,4,5,97,104,108,114,116,11895,11913,11935,11947,11996,114,114,111,119,4,2,59,116,11905,11907,1,8592,97,105,108,59,1,8610,97,114,112,111,111,110,4,2,100,117,11925,11931,111,119,110,59,1,8637,112,59,1,8636,101,102,116,97,114,114,111,119,115,59,1,8647,105,103,104,116,4,3,97,104,115,11959,11974,11984,114,114,111,119,4,2,59,115,11969,11971,1,8596,59,1,8646,97,114,112,111,111,110,115,59,1,8651,113,117,105,103,97,114,114,111,119,59,1,8621,104,114,101,101,116,105,109,101,115,59,1,8907,59,1,8922,4,3,59,113,115,12019,12021,12024,1,8804,59,1,8806,108,97,110,116,59,1,10877,4,5,59,99,100,103,115,12043,12045,12049,12070,12083,1,10877,99,59,1,10920,111,116,4,2,59,111,12057,12059,1,10879,4,2,59,114,12065,12067,1,10881,59,1,10883,4,2,59,101,12076,12079,3,8922,65024,115,59,1,10899,4,5,97,100,101,103,115,12095,12103,12108,12126,12131,112,112,114,111,120,59,1,10885,111,116,59,1,8918,113,4,2,103,113,12115,12120,116,114,59,1,8922,103,116,114,59,1,10891,116,114,59,1,8822,105,109,59,1,8818,4,3,105,108,114,12144,12150,12156,115,104,116,59,1,10620,111,111,114,59,1,8970,59,3,55349,56617,4,2,59,69,12166,12168,1,8822,59,1,10897,4,2,97,98,12177,12198,114,4,2,100,117,12184,12187,59,1,8637,4,2,59,108,12193,12195,1,8636,59,1,10602,108,107,59,1,9604,99,121,59,1,1113,4,5,59,97,99,104,116,12220,12222,12227,12235,12241,1,8810,114,114,59,1,8647,111,114,110,101,114,59,1,8990,97,114,100,59,1,10603,114,105,59,1,9722,4,2,105,111,12252,12258,100,111,116,59,1,320,117,115,116,4,2,59,97,12267,12269,1,9136,99,104,101,59,1,9136,4,4,69,97,101,115,12285,12288,12303,12322,59,1,8808,112,4,2,59,112,12295,12297,1,10889,114,111,120,59,1,10889,4,2,59,113,12309,12311,1,10887,4,2,59,113,12317,12319,1,10887,59,1,8808,105,109,59,1,8934,4,8,97,98,110,111,112,116,119,122,12345,12359,12364,12421,12446,12467,12474,12490,4,2,110,114,12351,12355,103,59,1,10220,114,59,1,8701,114,107,59,1,10214,103,4,3,108,109,114,12373,12401,12409,101,102,116,4,2,97,114,12382,12389,114,114,111,119,59,1,10229,105,103,104,116,97,114,114,111,119,59,1,10231,97,112,115,116,111,59,1,10236,105,103,104,116,97,114,114,111,119,59,1,10230,112,97,114,114,111,119,4,2,108,114,12433,12439,101,102,116,59,1,8619,105,103,104,116,59,1,8620,4,3,97,102,108,12454,12458,12462,114,59,1,10629,59,3,55349,56669,117,115,59,1,10797,105,109,101,115,59,1,10804,4,2,97,98,12480,12485,115,116,59,1,8727,97,114,59,1,95,4,3,59,101,102,12498,12500,12506,1,9674,110,103,101,59,1,9674,59,1,10731,97,114,4,2,59,108,12517,12519,1,40,116,59,1,10643,4,5,97,99,104,109,116,12535,12540,12548,12561,12564,114,114,59,1,8646,111,114,110,101,114,59,1,8991,97,114,4,2,59,100,12556,12558,1,8651,59,1,10605,59,1,8206,114,105,59,1,8895,4,6,97,99,104,105,113,116,12583,12589,12594,12597,12614,12635,113,117,111,59,1,8249,114,59,3,55349,56513,59,1,8624,109,4,3,59,101,103,12606,12608,12611,1,8818,59,1,10893,59,1,10895,4,2,98,117,12620,12623,59,1,91,111,4,2,59,114,12630,12632,1,8216,59,1,8218,114,111,107,59,1,322,5,60,8,59,99,100,104,105,108,113,114,12660,12662,12675,12680,12686,12692,12698,12705,1,60,4,2,99,105,12668,12671,59,1,10918,114,59,1,10873,111,116,59,1,8918,114,101,101,59,1,8907,109,101,115,59,1,8905,97,114,114,59,1,10614,117,101,115,116,59,1,10875,4,2,80,105,12711,12716,97,114,59,1,10646,4,3,59,101,102,12724,12726,12729,1,9667,59,1,8884,59,1,9666,114,4,2,100,117,12739,12746,115,104,97,114,59,1,10570,104,97,114,59,1,10598,4,2,101,110,12758,12768,114,116,110,101,113,113,59,3,8808,65024,69,59,3,8808,65024,4,14,68,97,99,100,101,102,104,105,108,110,111,112,115,117,12803,12809,12893,12908,12914,12928,12933,12937,13011,13025,13032,13049,13052,13069,68,111,116,59,1,8762,4,4,99,108,112,114,12819,12827,12849,12887,114,5,175,1,59,12825,1,175,4,2,101,116,12833,12836,59,1,9794,4,2,59,101,12842,12844,1,10016,115,101,59,1,10016,4,2,59,115,12855,12857,1,8614,116,111,4,4,59,100,108,117,12869,12871,12877,12883,1,8614,111,119,110,59,1,8615,101,102,116,59,1,8612,112,59,1,8613,107,101,114,59,1,9646,4,2,111,121,12899,12905,109,109,97,59,1,10793,59,1,1084,97,115,104,59,1,8212,97,115,117,114,101,100,97,110,103,108,101,59,1,8737,114,59,3,55349,56618,111,59,1,8487,4,3,99,100,110,12945,12954,12985,114,111,5,181,1,59,12952,1,181,4,4,59,97,99,100,12964,12966,12971,12976,1,8739,115,116,59,1,42,105,114,59,1,10992,111,116,5,183,1,59,12983,1,183,117,115,4,3,59,98,100,12995,12997,13e3,1,8722,59,1,8863,4,2,59,117,13006,13008,1,8760,59,1,10794,4,2,99,100,13017,13021,112,59,1,10971,114,59,1,8230,112,108,117,115,59,1,8723,4,2,100,112,13038,13044,101,108,115,59,1,8871,102,59,3,55349,56670,59,1,8723,4,2,99,116,13058,13063,114,59,3,55349,56514,112,111,115,59,1,8766,4,3,59,108,109,13077,13079,13087,1,956,116,105,109,97,112,59,1,8888,97,112,59,1,8888,4,24,71,76,82,86,97,98,99,100,101,102,103,104,105,106,108,109,111,112,114,115,116,117,118,119,13142,13165,13217,13229,13247,13330,13359,13414,13420,13508,13513,13579,13602,13626,13631,13762,13767,13855,13936,13995,14214,14285,14312,14432,4,2,103,116,13148,13152,59,3,8921,824,4,2,59,118,13158,13161,3,8811,8402,59,3,8811,824,4,3,101,108,116,13173,13200,13204,102,116,4,2,97,114,13181,13188,114,114,111,119,59,1,8653,105,103,104,116,97,114,114,111,119,59,1,8654,59,3,8920,824,4,2,59,118,13210,13213,3,8810,8402,59,3,8810,824,105,103,104,116,97,114,114,111,119,59,1,8655,4,2,68,100,13235,13241,97,115,104,59,1,8879,97,115,104,59,1,8878,4,5,98,99,110,112,116,13259,13264,13270,13275,13308,108,97,59,1,8711,117,116,101,59,1,324,103,59,3,8736,8402,4,5,59,69,105,111,112,13287,13289,13293,13298,13302,1,8777,59,3,10864,824,100,59,3,8779,824,115,59,1,329,114,111,120,59,1,8777,117,114,4,2,59,97,13316,13318,1,9838,108,4,2,59,115,13325,13327,1,9838,59,1,8469,4,2,115,117,13336,13344,112,5,160,1,59,13342,1,160,109,112,4,2,59,101,13352,13355,3,8782,824,59,3,8783,824,4,5,97,101,111,117,121,13371,13385,13391,13407,13411,4,2,112,114,13377,13380,59,1,10819,111,110,59,1,328,100,105,108,59,1,326,110,103,4,2,59,100,13399,13401,1,8775,111,116,59,3,10861,824,112,59,1,10818,59,1,1085,97,115,104,59,1,8211,4,7,59,65,97,100,113,115,120,13436,13438,13443,13466,13472,13478,13494,1,8800,114,114,59,1,8663,114,4,2,104,114,13450,13454,107,59,1,10532,4,2,59,111,13460,13462,1,8599,119,59,1,8599,111,116,59,3,8784,824,117,105,118,59,1,8802,4,2,101,105,13484,13489,97,114,59,1,10536,109,59,3,8770,824,105,115,116,4,2,59,115,13503,13505,1,8708,59,1,8708,114,59,3,55349,56619,4,4,69,101,115,116,13523,13527,13563,13568,59,3,8807,824,4,3,59,113,115,13535,13537,13559,1,8817,4,3,59,113,115,13545,13547,13551,1,8817,59,3,8807,824,108,97,110,116,59,3,10878,824,59,3,10878,824,105,109,59,1,8821,4,2,59,114,13574,13576,1,8815,59,1,8815,4,3,65,97,112,13587,13592,13597,114,114,59,1,8654,114,114,59,1,8622,97,114,59,1,10994,4,3,59,115,118,13610,13612,13623,1,8715,4,2,59,100,13618,13620,1,8956,59,1,8954,59,1,8715,99,121,59,1,1114,4,7,65,69,97,100,101,115,116,13647,13652,13656,13661,13665,13737,13742,114,114,59,1,8653,59,3,8806,824,114,114,59,1,8602,114,59,1,8229,4,4,59,102,113,115,13675,13677,13703,13725,1,8816,116,4,2,97,114,13684,13691,114,114,111,119,59,1,8602,105,103,104,116,97,114,114,111,119,59,1,8622,4,3,59,113,115,13711,13713,13717,1,8816,59,3,8806,824,108,97,110,116,59,3,10877,824,4,2,59,115,13731,13734,3,10877,824,59,1,8814,105,109,59,1,8820,4,2,59,114,13748,13750,1,8814,105,4,2,59,101,13757,13759,1,8938,59,1,8940,105,100,59,1,8740,4,2,112,116,13773,13778,102,59,3,55349,56671,5,172,3,59,105,110,13787,13789,13829,1,172,110,4,4,59,69,100,118,13800,13802,13806,13812,1,8713,59,3,8953,824,111,116,59,3,8949,824,4,3,97,98,99,13820,13823,13826,59,1,8713,59,1,8951,59,1,8950,105,4,2,59,118,13836,13838,1,8716,4,3,97,98,99,13846,13849,13852,59,1,8716,59,1,8958,59,1,8957,4,3,97,111,114,13863,13892,13899,114,4,4,59,97,115,116,13874,13876,13883,13888,1,8742,108,108,101,108,59,1,8742,108,59,3,11005,8421,59,3,8706,824,108,105,110,116,59,1,10772,4,3,59,99,101,13907,13909,13914,1,8832,117,101,59,1,8928,4,2,59,99,13920,13923,3,10927,824,4,2,59,101,13929,13931,1,8832,113,59,3,10927,824,4,4,65,97,105,116,13946,13951,13971,13982,114,114,59,1,8655,114,114,4,3,59,99,119,13961,13963,13967,1,8603,59,3,10547,824,59,3,8605,824,103,104,116,97,114,114,111,119,59,1,8603,114,105,4,2,59,101,13990,13992,1,8939,59,1,8941,4,7,99,104,105,109,112,113,117,14011,14036,14060,14080,14085,14090,14106,4,4,59,99,101,114,14021,14023,14028,14032,1,8833,117,101,59,1,8929,59,3,10928,824,59,3,55349,56515,111,114,116,4,2,109,112,14045,14050,105,100,59,1,8740,97,114,97,108,108,101,108,59,1,8742,109,4,2,59,101,14067,14069,1,8769,4,2,59,113,14075,14077,1,8772,59,1,8772,105,100,59,1,8740,97,114,59,1,8742,115,117,4,2,98,112,14098,14102,101,59,1,8930,101,59,1,8931,4,3,98,99,112,14114,14157,14171,4,4,59,69,101,115,14124,14126,14130,14133,1,8836,59,3,10949,824,59,1,8840,101,116,4,2,59,101,14141,14144,3,8834,8402,113,4,2,59,113,14151,14153,1,8840,59,3,10949,824,99,4,2,59,101,14164,14166,1,8833,113,59,3,10928,824,4,4,59,69,101,115,14181,14183,14187,14190,1,8837,59,3,10950,824,59,1,8841,101,116,4,2,59,101,14198,14201,3,8835,8402,113,4,2,59,113,14208,14210,1,8841,59,3,10950,824,4,4,103,105,108,114,14224,14228,14238,14242,108,59,1,8825,108,100,101,5,241,1,59,14236,1,241,103,59,1,8824,105,97,110,103,108,101,4,2,108,114,14254,14269,101,102,116,4,2,59,101,14263,14265,1,8938,113,59,1,8940,105,103,104,116,4,2,59,101,14279,14281,1,8939,113,59,1,8941,4,2,59,109,14291,14293,1,957,4,3,59,101,115,14301,14303,14308,1,35,114,111,59,1,8470,112,59,1,8199,4,9,68,72,97,100,103,105,108,114,115,14332,14338,14344,14349,14355,14369,14376,14408,14426,97,115,104,59,1,8877,97,114,114,59,1,10500,112,59,3,8781,8402,97,115,104,59,1,8876,4,2,101,116,14361,14365,59,3,8805,8402,59,3,62,8402,110,102,105,110,59,1,10718,4,3,65,101,116,14384,14389,14393,114,114,59,1,10498,59,3,8804,8402,4,2,59,114,14399,14402,3,60,8402,105,101,59,3,8884,8402,4,2,65,116,14414,14419,114,114,59,1,10499,114,105,101,59,3,8885,8402,105,109,59,3,8764,8402,4,3,65,97,110,14440,14445,14468,114,114,59,1,8662,114,4,2,104,114,14452,14456,107,59,1,10531,4,2,59,111,14462,14464,1,8598,119,59,1,8598,101,97,114,59,1,10535,4,18,83,97,99,100,101,102,103,104,105,108,109,111,112,114,115,116,117,118,14512,14515,14535,14560,14597,14603,14618,14643,14657,14662,14701,14741,14747,14769,14851,14877,14907,14916,59,1,9416,4,2,99,115,14521,14531,117,116,101,5,243,1,59,14529,1,243,116,59,1,8859,4,2,105,121,14541,14557,114,4,2,59,99,14548,14550,1,8858,5,244,1,59,14555,1,244,59,1,1086,4,5,97,98,105,111,115,14572,14577,14583,14587,14591,115,104,59,1,8861,108,97,99,59,1,337,118,59,1,10808,116,59,1,8857,111,108,100,59,1,10684,108,105,103,59,1,339,4,2,99,114,14609,14614,105,114,59,1,10687,59,3,55349,56620,4,3,111,114,116,14626,14630,14640,110,59,1,731,97,118,101,5,242,1,59,14638,1,242,59,1,10689,4,2,98,109,14649,14654,97,114,59,1,10677,59,1,937,110,116,59,1,8750,4,4,97,99,105,116,14672,14677,14693,14698,114,114,59,1,8634,4,2,105,114,14683,14687,114,59,1,10686,111,115,115,59,1,10683,110,101,59,1,8254,59,1,10688,4,3,97,101,105,14709,14714,14719,99,114,59,1,333,103,97,59,1,969,4,3,99,100,110,14727,14733,14736,114,111,110,59,1,959,59,1,10678,117,115,59,1,8854,112,102,59,3,55349,56672,4,3,97,101,108,14755,14759,14764,114,59,1,10679,114,112,59,1,10681,117,115,59,1,8853,4,7,59,97,100,105,111,115,118,14785,14787,14792,14831,14837,14841,14848,1,8744,114,114,59,1,8635,4,4,59,101,102,109,14802,14804,14817,14824,1,10845,114,4,2,59,111,14811,14813,1,8500,102,59,1,8500,5,170,1,59,14822,1,170,5,186,1,59,14829,1,186,103,111,102,59,1,8886,114,59,1,10838,108,111,112,101,59,1,10839,59,1,10843,4,3,99,108,111,14859,14863,14873,114,59,1,8500,97,115,104,5,248,1,59,14871,1,248,108,59,1,8856,105,4,2,108,109,14884,14893,100,101,5,245,1,59,14891,1,245,101,115,4,2,59,97,14901,14903,1,8855,115,59,1,10806,109,108,5,246,1,59,14914,1,246,98,97,114,59,1,9021,4,12,97,99,101,102,104,105,108,109,111,114,115,117,14948,14992,14996,15033,15038,15068,15090,15189,15192,15222,15427,15441,114,4,4,59,97,115,116,14959,14961,14976,14989,1,8741,5,182,2,59,108,14968,14970,1,182,108,101,108,59,1,8741,4,2,105,108,14982,14986,109,59,1,10995,59,1,11005,59,1,8706,121,59,1,1087,114,4,5,99,105,109,112,116,15009,15014,15019,15024,15027,110,116,59,1,37,111,100,59,1,46,105,108,59,1,8240,59,1,8869,101,110,107,59,1,8241,114,59,3,55349,56621,4,3,105,109,111,15046,15057,15063,4,2,59,118,15052,15054,1,966,59,1,981,109,97,116,59,1,8499,110,101,59,1,9742,4,3,59,116,118,15076,15078,15087,1,960,99,104,102,111,114,107,59,1,8916,59,1,982,4,2,97,117,15096,15119,110,4,2,99,107,15103,15115,107,4,2,59,104,15110,15112,1,8463,59,1,8462,118,59,1,8463,115,4,9,59,97,98,99,100,101,109,115,116,15140,15142,15148,15151,15156,15168,15171,15179,15184,1,43,99,105,114,59,1,10787,59,1,8862,105,114,59,1,10786,4,2,111,117,15162,15165,59,1,8724,59,1,10789,59,1,10866,110,5,177,1,59,15177,1,177,105,109,59,1,10790,119,111,59,1,10791,59,1,177,4,3,105,112,117,15200,15208,15213,110,116,105,110,116,59,1,10773,102,59,3,55349,56673,110,100,5,163,1,59,15220,1,163,4,10,59,69,97,99,101,105,110,111,115,117,15244,15246,15249,15253,15258,15334,15347,15367,15416,15421,1,8826,59,1,10931,112,59,1,10935,117,101,59,1,8828,4,2,59,99,15264,15266,1,10927,4,6,59,97,99,101,110,115,15280,15282,15290,15299,15303,15329,1,8826,112,112,114,111,120,59,1,10935,117,114,108,121,101,113,59,1,8828,113,59,1,10927,4,3,97,101,115,15311,15319,15324,112,112,114,111,120,59,1,10937,113,113,59,1,10933,105,109,59,1,8936,105,109,59,1,8830,109,101,4,2,59,115,15342,15344,1,8242,59,1,8473,4,3,69,97,115,15355,15358,15362,59,1,10933,112,59,1,10937,105,109,59,1,8936,4,3,100,102,112,15375,15378,15404,59,1,8719,4,3,97,108,115,15386,15392,15398,108,97,114,59,1,9006,105,110,101,59,1,8978,117,114,102,59,1,8979,4,2,59,116,15410,15412,1,8733,111,59,1,8733,105,109,59,1,8830,114,101,108,59,1,8880,4,2,99,105,15433,15438,114,59,3,55349,56517,59,1,968,110,99,115,112,59,1,8200,4,6,102,105,111,112,115,117,15462,15467,15472,15478,15485,15491,114,59,3,55349,56622,110,116,59,1,10764,112,102,59,3,55349,56674,114,105,109,101,59,1,8279,99,114,59,3,55349,56518,4,3,97,101,111,15499,15520,15534,116,4,2,101,105,15506,15515,114,110,105,111,110,115,59,1,8461,110,116,59,1,10774,115,116,4,2,59,101,15528,15530,1,63,113,59,1,8799,116,5,34,1,59,15540,1,34,4,21,65,66,72,97,98,99,100,101,102,104,105,108,109,110,111,112,114,115,116,117,120,15586,15609,15615,15620,15796,15855,15893,15931,15977,16001,16039,16183,16204,16222,16228,16285,16312,16318,16363,16408,16416,4,3,97,114,116,15594,15599,15603,114,114,59,1,8667,114,59,1,8658,97,105,108,59,1,10524,97,114,114,59,1,10511,97,114,59,1,10596,4,7,99,100,101,110,113,114,116,15636,15651,15656,15664,15687,15696,15770,4,2,101,117,15642,15646,59,3,8765,817,116,101,59,1,341,105,99,59,1,8730,109,112,116,121,118,59,1,10675,103,4,4,59,100,101,108,15675,15677,15680,15683,1,10217,59,1,10642,59,1,10661,101,59,1,10217,117,111,5,187,1,59,15694,1,187,114,4,11,59,97,98,99,102,104,108,112,115,116,119,15721,15723,15727,15739,15742,15746,15750,15754,15758,15763,15767,1,8594,112,59,1,10613,4,2,59,102,15733,15735,1,8677,115,59,1,10528,59,1,10547,115,59,1,10526,107,59,1,8618,112,59,1,8620,108,59,1,10565,105,109,59,1,10612,108,59,1,8611,59,1,8605,4,2,97,105,15776,15781,105,108,59,1,10522,111,4,2,59,110,15788,15790,1,8758,97,108,115,59,1,8474,4,3,97,98,114,15804,15809,15814,114,114,59,1,10509,114,107,59,1,10099,4,2,97,107,15820,15833,99,4,2,101,107,15827,15830,59,1,125,59,1,93,4,2,101,115,15839,15842,59,1,10636,108,4,2,100,117,15849,15852,59,1,10638,59,1,10640,4,4,97,101,117,121,15865,15871,15886,15890,114,111,110,59,1,345,4,2,100,105,15877,15882,105,108,59,1,343,108,59,1,8969,98,59,1,125,59,1,1088,4,4,99,108,113,115,15903,15907,15914,15927,97,59,1,10551,100,104,97,114,59,1,10601,117,111,4,2,59,114,15922,15924,1,8221,59,1,8221,104,59,1,8627,4,3,97,99,103,15939,15966,15970,108,4,4,59,105,112,115,15950,15952,15957,15963,1,8476,110,101,59,1,8475,97,114,116,59,1,8476,59,1,8477,116,59,1,9645,5,174,1,59,15975,1,174,4,3,105,108,114,15985,15991,15997,115,104,116,59,1,10621,111,111,114,59,1,8971,59,3,55349,56623,4,2,97,111,16007,16028,114,4,2,100,117,16014,16017,59,1,8641,4,2,59,108,16023,16025,1,8640,59,1,10604,4,2,59,118,16034,16036,1,961,59,1,1009,4,3,103,110,115,16047,16167,16171,104,116,4,6,97,104,108,114,115,116,16063,16081,16103,16130,16143,16155,114,114,111,119,4,2,59,116,16073,16075,1,8594,97,105,108,59,1,8611,97,114,112,111,111,110,4,2,100,117,16093,16099,111,119,110,59,1,8641,112,59,1,8640,101,102,116,4,2,97,104,16112,16120,114,114,111,119,115,59,1,8644,97,114,112,111,111,110,115,59,1,8652,105,103,104,116,97,114,114,111,119,115,59,1,8649,113,117,105,103,97,114,114,111,119,59,1,8605,104,114,101,101,116,105,109,101,115,59,1,8908,103,59,1,730,105,110,103,100,111,116,115,101,113,59,1,8787,4,3,97,104,109,16191,16196,16201,114,114,59,1,8644,97,114,59,1,8652,59,1,8207,111,117,115,116,4,2,59,97,16214,16216,1,9137,99,104,101,59,1,9137,109,105,100,59,1,10990,4,4,97,98,112,116,16238,16252,16257,16278,4,2,110,114,16244,16248,103,59,1,10221,114,59,1,8702,114,107,59,1,10215,4,3,97,102,108,16265,16269,16273,114,59,1,10630,59,3,55349,56675,117,115,59,1,10798,105,109,101,115,59,1,10805,4,2,97,112,16291,16304,114,4,2,59,103,16298,16300,1,41,116,59,1,10644,111,108,105,110,116,59,1,10770,97,114,114,59,1,8649,4,4,97,99,104,113,16328,16334,16339,16342,113,117,111,59,1,8250,114,59,3,55349,56519,59,1,8625,4,2,98,117,16348,16351,59,1,93,111,4,2,59,114,16358,16360,1,8217,59,1,8217,4,3,104,105,114,16371,16377,16383,114,101,101,59,1,8908,109,101,115,59,1,8906,105,4,4,59,101,102,108,16394,16396,16399,16402,1,9657,59,1,8885,59,1,9656,116,114,105,59,1,10702,108,117,104,97,114,59,1,10600,59,1,8478,4,19,97,98,99,100,101,102,104,105,108,109,111,112,113,114,115,116,117,119,122,16459,16466,16472,16572,16590,16672,16687,16746,16844,16850,16924,16963,16988,17115,17121,17154,17206,17614,17656,99,117,116,101,59,1,347,113,117,111,59,1,8218,4,10,59,69,97,99,101,105,110,112,115,121,16494,16496,16499,16513,16518,16531,16536,16556,16564,16569,1,8827,59,1,10932,4,2,112,114,16505,16508,59,1,10936,111,110,59,1,353,117,101,59,1,8829,4,2,59,100,16524,16526,1,10928,105,108,59,1,351,114,99,59,1,349,4,3,69,97,115,16544,16547,16551,59,1,10934,112,59,1,10938,105,109,59,1,8937,111,108,105,110,116,59,1,10771,105,109,59,1,8831,59,1,1089,111,116,4,3,59,98,101,16582,16584,16587,1,8901,59,1,8865,59,1,10854,4,7,65,97,99,109,115,116,120,16606,16611,16634,16642,16646,16652,16668,114,114,59,1,8664,114,4,2,104,114,16618,16622,107,59,1,10533,4,2,59,111,16628,16630,1,8600,119,59,1,8600,116,5,167,1,59,16640,1,167,105,59,1,59,119,97,114,59,1,10537,109,4,2,105,110,16659,16665,110,117,115,59,1,8726,59,1,8726,116,59,1,10038,114,4,2,59,111,16679,16682,3,55349,56624,119,110,59,1,8994,4,4,97,99,111,121,16697,16702,16716,16739,114,112,59,1,9839,4,2,104,121,16708,16713,99,121,59,1,1097,59,1,1096,114,116,4,2,109,112,16724,16729,105,100,59,1,8739,97,114,97,108,108,101,108,59,1,8741,5,173,1,59,16744,1,173,4,2,103,109,16752,16770,109,97,4,3,59,102,118,16762,16764,16767,1,963,59,1,962,59,1,962,4,8,59,100,101,103,108,110,112,114,16788,16790,16795,16806,16817,16828,16832,16838,1,8764,111,116,59,1,10858,4,2,59,113,16801,16803,1,8771,59,1,8771,4,2,59,69,16812,16814,1,10910,59,1,10912,4,2,59,69,16823,16825,1,10909,59,1,10911,101,59,1,8774,108,117,115,59,1,10788,97,114,114,59,1,10610,97,114,114,59,1,8592,4,4,97,101,105,116,16860,16883,16891,16904,4,2,108,115,16866,16878,108,115,101,116,109,105,110,117,115,59,1,8726,104,112,59,1,10803,112,97,114,115,108,59,1,10724,4,2,100,108,16897,16900,59,1,8739,101,59,1,8995,4,2,59,101,16910,16912,1,10922,4,2,59,115,16918,16920,1,10924,59,3,10924,65024,4,3,102,108,112,16932,16938,16958,116,99,121,59,1,1100,4,2,59,98,16944,16946,1,47,4,2,59,97,16952,16954,1,10692,114,59,1,9023,102,59,3,55349,56676,97,4,2,100,114,16970,16985,101,115,4,2,59,117,16978,16980,1,9824,105,116,59,1,9824,59,1,8741,4,3,99,115,117,16996,17028,17089,4,2,97,117,17002,17015,112,4,2,59,115,17009,17011,1,8851,59,3,8851,65024,112,4,2,59,115,17022,17024,1,8852,59,3,8852,65024,117,4,2,98,112,17035,17062,4,3,59,101,115,17043,17045,17048,1,8847,59,1,8849,101,116,4,2,59,101,17056,17058,1,8847,113,59,1,8849,4,3,59,101,115,17070,17072,17075,1,8848,59,1,8850,101,116,4,2,59,101,17083,17085,1,8848,113,59,1,8850,4,3,59,97,102,17097,17099,17112,1,9633,114,4,2,101,102,17106,17109,59,1,9633,59,1,9642,59,1,9642,97,114,114,59,1,8594,4,4,99,101,109,116,17131,17136,17142,17148,114,59,3,55349,56520,116,109,110,59,1,8726,105,108,101,59,1,8995,97,114,102,59,1,8902,4,2,97,114,17160,17172,114,4,2,59,102,17167,17169,1,9734,59,1,9733,4,2,97,110,17178,17202,105,103,104,116,4,2,101,112,17188,17197,112,115,105,108,111,110,59,1,1013,104,105,59,1,981,115,59,1,175,4,5,98,99,109,110,112,17218,17351,17420,17423,17427,4,9,59,69,100,101,109,110,112,114,115,17238,17240,17243,17248,17261,17267,17279,17285,17291,1,8834,59,1,10949,111,116,59,1,10941,4,2,59,100,17254,17256,1,8838,111,116,59,1,10947,117,108,116,59,1,10945,4,2,69,101,17273,17276,59,1,10955,59,1,8842,108,117,115,59,1,10943,97,114,114,59,1,10617,4,3,101,105,117,17299,17335,17339,116,4,3,59,101,110,17308,17310,17322,1,8834,113,4,2,59,113,17317,17319,1,8838,59,1,10949,101,113,4,2,59,113,17330,17332,1,8842,59,1,10955,109,59,1,10951,4,2,98,112,17345,17348,59,1,10965,59,1,10963,99,4,6,59,97,99,101,110,115,17366,17368,17376,17385,17389,17415,1,8827,112,112,114,111,120,59,1,10936,117,114,108,121,101,113,59,1,8829,113,59,1,10928,4,3,97,101,115,17397,17405,17410,112,112,114,111,120,59,1,10938,113,113,59,1,10934,105,109,59,1,8937,105,109,59,1,8831,59,1,8721,103,59,1,9834,4,13,49,50,51,59,69,100,101,104,108,109,110,112,115,17455,17462,17469,17476,17478,17481,17496,17509,17524,17530,17536,17548,17554,5,185,1,59,17460,1,185,5,178,1,59,17467,1,178,5,179,1,59,17474,1,179,1,8835,59,1,10950,4,2,111,115,17487,17491,116,59,1,10942,117,98,59,1,10968,4,2,59,100,17502,17504,1,8839,111,116,59,1,10948,115,4,2,111,117,17516,17520,108,59,1,10185,98,59,1,10967,97,114,114,59,1,10619,117,108,116,59,1,10946,4,2,69,101,17542,17545,59,1,10956,59,1,8843,108,117,115,59,1,10944,4,3,101,105,117,17562,17598,17602,116,4,3,59,101,110,17571,17573,17585,1,8835,113,4,2,59,113,17580,17582,1,8839,59,1,10950,101,113,4,2,59,113,17593,17595,1,8843,59,1,10956,109,59,1,10952,4,2,98,112,17608,17611,59,1,10964,59,1,10966,4,3,65,97,110,17622,17627,17650,114,114,59,1,8665,114,4,2,104,114,17634,17638,107,59,1,10534,4,2,59,111,17644,17646,1,8601,119,59,1,8601,119,97,114,59,1,10538,108,105,103,5,223,1,59,17664,1,223,4,13,97,98,99,100,101,102,104,105,111,112,114,115,119,17694,17709,17714,17737,17742,17749,17754,17860,17905,17957,17964,18090,18122,4,2,114,117,17700,17706,103,101,116,59,1,8982,59,1,964,114,107,59,1,9140,4,3,97,101,121,17722,17728,17734,114,111,110,59,1,357,100,105,108,59,1,355,59,1,1090,111,116,59,1,8411,108,114,101,99,59,1,8981,114,59,3,55349,56625,4,4,101,105,107,111,17764,17805,17836,17851,4,2,114,116,17770,17786,101,4,2,52,102,17777,17780,59,1,8756,111,114,101,59,1,8756,97,4,3,59,115,118,17795,17797,17802,1,952,121,109,59,1,977,59,1,977,4,2,99,110,17811,17831,107,4,2,97,115,17818,17826,112,112,114,111,120,59,1,8776,105,109,59,1,8764,115,112,59,1,8201,4,2,97,115,17842,17846,112,59,1,8776,105,109,59,1,8764,114,110,5,254,1,59,17858,1,254,4,3,108,109,110,17868,17873,17901,100,101,59,1,732,101,115,5,215,3,59,98,100,17884,17886,17898,1,215,4,2,59,97,17892,17894,1,8864,114,59,1,10801,59,1,10800,116,59,1,8749,4,3,101,112,115,17913,17917,17953,97,59,1,10536,4,4,59,98,99,102,17927,17929,17934,17939,1,8868,111,116,59,1,9014,105,114,59,1,10993,4,2,59,111,17945,17948,3,55349,56677,114,107,59,1,10970,97,59,1,10537,114,105,109,101,59,1,8244,4,3,97,105,112,17972,17977,18082,100,101,59,1,8482,4,7,97,100,101,109,112,115,116,17993,18051,18056,18059,18066,18072,18076,110,103,108,101,4,5,59,100,108,113,114,18009,18011,18017,18032,18035,1,9653,111,119,110,59,1,9663,101,102,116,4,2,59,101,18026,18028,1,9667,113,59,1,8884,59,1,8796,105,103,104,116,4,2,59,101,18045,18047,1,9657,113,59,1,8885,111,116,59,1,9708,59,1,8796,105,110,117,115,59,1,10810,108,117,115,59,1,10809,98,59,1,10701,105,109,101,59,1,10811,101,122,105,117,109,59,1,9186,4,3,99,104,116,18098,18111,18116,4,2,114,121,18104,18108,59,3,55349,56521,59,1,1094,99,121,59,1,1115,114,111,107,59,1,359,4,2,105,111,18128,18133,120,116,59,1,8812,104,101,97,100,4,2,108,114,18143,18154,101,102,116,97,114,114,111,119,59,1,8606,105,103,104,116,97,114,114,111,119,59,1,8608,4,18,65,72,97,98,99,100,102,103,104,108,109,111,112,114,115,116,117,119,18204,18209,18214,18234,18250,18268,18292,18308,18319,18343,18379,18397,18413,18504,18547,18553,18584,18603,114,114,59,1,8657,97,114,59,1,10595,4,2,99,114,18220,18230,117,116,101,5,250,1,59,18228,1,250,114,59,1,8593,114,4,2,99,101,18241,18245,121,59,1,1118,118,101,59,1,365,4,2,105,121,18256,18265,114,99,5,251,1,59,18263,1,251,59,1,1091,4,3,97,98,104,18276,18281,18287,114,114,59,1,8645,108,97,99,59,1,369,97,114,59,1,10606,4,2,105,114,18298,18304,115,104,116,59,1,10622,59,3,55349,56626,114,97,118,101,5,249,1,59,18317,1,249,4,2,97,98,18325,18338,114,4,2,108,114,18332,18335,59,1,8639,59,1,8638,108,107,59,1,9600,4,2,99,116,18349,18374,4,2,111,114,18355,18369,114,110,4,2,59,101,18363,18365,1,8988,114,59,1,8988,111,112,59,1,8975,114,105,59,1,9720,4,2,97,108,18385,18390,99,114,59,1,363,5,168,1,59,18395,1,168,4,2,103,112,18403,18408,111,110,59,1,371,102,59,3,55349,56678,4,6,97,100,104,108,115,117,18427,18434,18445,18470,18475,18494,114,114,111,119,59,1,8593,111,119,110,97,114,114,111,119,59,1,8597,97,114,112,111,111,110,4,2,108,114,18457,18463,101,102,116,59,1,8639,105,103,104,116,59,1,8638,117,115,59,1,8846,105,4,3,59,104,108,18484,18486,18489,1,965,59,1,978,111,110,59,1,965,112,97,114,114,111,119,115,59,1,8648,4,3,99,105,116,18512,18537,18542,4,2,111,114,18518,18532,114,110,4,2,59,101,18526,18528,1,8989,114,59,1,8989,111,112,59,1,8974,110,103,59,1,367,114,105,59,1,9721,99,114,59,3,55349,56522,4,3,100,105,114,18561,18566,18572,111,116,59,1,8944,108,100,101,59,1,361,105,4,2,59,102,18579,18581,1,9653,59,1,9652,4,2,97,109,18590,18595,114,114,59,1,8648,108,5,252,1,59,18601,1,252,97,110,103,108,101,59,1,10663,4,15,65,66,68,97,99,100,101,102,108,110,111,112,114,115,122,18643,18648,18661,18667,18847,18851,18857,18904,18909,18915,18931,18937,18943,18949,18996,114,114,59,1,8661,97,114,4,2,59,118,18656,18658,1,10984,59,1,10985,97,115,104,59,1,8872,4,2,110,114,18673,18679,103,114,116,59,1,10652,4,7,101,107,110,112,114,115,116,18695,18704,18711,18720,18742,18754,18810,112,115,105,108,111,110,59,1,1013,97,112,112,97,59,1,1008,111,116,104,105,110,103,59,1,8709,4,3,104,105,114,18728,18732,18735,105,59,1,981,59,1,982,111,112,116,111,59,1,8733,4,2,59,104,18748,18750,1,8597,111,59,1,1009,4,2,105,117,18760,18766,103,109,97,59,1,962,4,2,98,112,18772,18791,115,101,116,110,101,113,4,2,59,113,18784,18787,3,8842,65024,59,3,10955,65024,115,101,116,110,101,113,4,2,59,113,18803,18806,3,8843,65024,59,3,10956,65024,4,2,104,114,18816,18822,101,116,97,59,1,977,105,97,110,103,108,101,4,2,108,114,18834,18840,101,102,116,59,1,8882,105,103,104,116,59,1,8883,121,59,1,1074,97,115,104,59,1,8866,4,3,101,108,114,18865,18884,18890,4,3,59,98,101,18873,18875,18880,1,8744,97,114,59,1,8891,113,59,1,8794,108,105,112,59,1,8942,4,2,98,116,18896,18901,97,114,59,1,124,59,1,124,114,59,3,55349,56627,116,114,105,59,1,8882,115,117,4,2,98,112,18923,18927,59,3,8834,8402,59,3,8835,8402,112,102,59,3,55349,56679,114,111,112,59,1,8733,116,114,105,59,1,8883,4,2,99,117,18955,18960,114,59,3,55349,56523,4,2,98,112,18966,18981,110,4,2,69,101,18973,18977,59,3,10955,65024,59,3,8842,65024,110,4,2,69,101,18988,18992,59,3,10956,65024,59,3,8843,65024,105,103,122,97,103,59,1,10650,4,7,99,101,102,111,112,114,115,19020,19026,19061,19066,19072,19075,19089,105,114,99,59,1,373,4,2,100,105,19032,19055,4,2,98,103,19038,19043,97,114,59,1,10847,101,4,2,59,113,19050,19052,1,8743,59,1,8793,101,114,112,59,1,8472,114,59,3,55349,56628,112,102,59,3,55349,56680,59,1,8472,4,2,59,101,19081,19083,1,8768,97,116,104,59,1,8768,99,114,59,3,55349,56524,4,14,99,100,102,104,105,108,109,110,111,114,115,117,118,119,19125,19146,19152,19157,19173,19176,19192,19197,19202,19236,19252,19269,19286,19291,4,3,97,105,117,19133,19137,19142,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,116,114,105,59,1,9661,114,59,3,55349,56629,4,2,65,97,19163,19168,114,114,59,1,10234,114,114,59,1,10231,59,1,958,4,2,65,97,19182,19187,114,114,59,1,10232,114,114,59,1,10229,97,112,59,1,10236,105,115,59,1,8955,4,3,100,112,116,19210,19215,19230,111,116,59,1,10752,4,2,102,108,19221,19225,59,3,55349,56681,117,115,59,1,10753,105,109,101,59,1,10754,4,2,65,97,19242,19247,114,114,59,1,10233,114,114,59,1,10230,4,2,99,113,19258,19263,114,59,3,55349,56525,99,117,112,59,1,10758,4,2,112,116,19275,19281,108,117,115,59,1,10756,114,105,59,1,9651,101,101,59,1,8897,101,100,103,101,59,1,8896,4,8,97,99,101,102,105,111,115,117,19316,19335,19349,19357,19362,19367,19373,19379,99,4,2,117,121,19323,19332,116,101,5,253,1,59,19330,1,253,59,1,1103,4,2,105,121,19341,19346,114,99,59,1,375,59,1,1099,110,5,165,1,59,19355,1,165,114,59,3,55349,56630,99,121,59,1,1111,112,102,59,3,55349,56682,99,114,59,3,55349,56526,4,2,99,109,19385,19389,121,59,1,1102,108,5,255,1,59,19395,1,255,4,10,97,99,100,101,102,104,105,111,115,119,19419,19426,19441,19446,19462,19467,19472,19480,19486,19492,99,117,116,101,59,1,378,4,2,97,121,19432,19438,114,111,110,59,1,382,59,1,1079,111,116,59,1,380,4,2,101,116,19452,19458,116,114,102,59,1,8488,97,59,1,950,114,59,3,55349,56631,99,121,59,1,1078,103,114,97,114,114,59,1,8669,112,102,59,3,55349,56683,99,114,59,3,55349,56527,4,2,106,110,19498,19501,59,1,8205,106,59,1,8204])},function(e,t,n){"use strict";var r=n(62),i=r.TAG_NAMES,o=r.NAMESPACES;function a(e){switch(e.length){case 1:return e===i.P;case 2:return e===i.RB||e===i.RP||e===i.RT||e===i.DD||e===i.DT||e===i.LI;case 3:return e===i.RTC;case 6:return e===i.OPTION;case 8:return e===i.OPTGROUP||e===i.MENUITEM}return!1}function s(e,t){switch(e.length){case 2:if(e===i.TD||e===i.TH)return t===o.HTML;if(e===i.MI||e===i.MO||e===i.MN||e===i.MS)return t===o.MATHML;break;case 4:if(e===i.HTML)return t===o.HTML;if(e===i.DESC)return t===o.SVG;break;case 5:if(e===i.TABLE)return t===o.HTML;if(e===i.MTEXT)return t===o.MATHML;if(e===i.TITLE)return t===o.SVG;break;case 6:return(e===i.APPLET||e===i.OBJECT)&&t===o.HTML;case 7:return(e===i.CAPTION||e===i.MARQUEE)&&t===o.HTML;case 8:return e===i.TEMPLATE&&t===o.HTML;case 13:return e===i.FOREIGN_OBJECT&&t===o.SVG;case 14:return e===i.ANNOTATION_XML&&t===o.MATHML}return!1}var l=e.exports=function(e,t){this.stackTop=-1,this.items=[],this.current=e,this.currentTagName=null,this.currentTmplContent=null,this.tmplCount=0,this.treeAdapter=t};l.prototype._indexOf=function(e){for(var t=-1,n=this.stackTop;n>=0;n--)if(this.items[n]===e){t=n;break}return t},l.prototype._isInTemplate=function(){return this.currentTagName===i.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===o.HTML},l.prototype._updateCurrentElement=function(){this.current=this.items[this.stackTop],this.currentTagName=this.current&&this.treeAdapter.getTagName(this.current),this.currentTmplContent=this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):null},l.prototype.push=function(e){this.items[++this.stackTop]=e,this._updateCurrentElement(),this._isInTemplate()&&this.tmplCount++},l.prototype.pop=function(){this.stackTop--,this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this._updateCurrentElement()},l.prototype.replace=function(e,t){var n=this._indexOf(e);this.items[n]=t,n===this.stackTop&&this._updateCurrentElement()},l.prototype.insertAfter=function(e,t){var n=this._indexOf(e)+1;this.items.splice(n,0,t),n===++this.stackTop&&this._updateCurrentElement()},l.prototype.popUntilTagNamePopped=function(e){for(;this.stackTop>-1;){var t=this.currentTagName,n=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),t===e&&n===o.HTML)break}},l.prototype.popUntilElementPopped=function(e){for(;this.stackTop>-1;){var t=this.current;if(this.pop(),t===e)break}},l.prototype.popUntilNumberedHeaderPopped=function(){for(;this.stackTop>-1;){var e=this.currentTagName,t=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),e===i.H1||e===i.H2||e===i.H3||e===i.H4||e===i.H5||e===i.H6&&t===o.HTML)break}},l.prototype.popUntilTableCellPopped=function(){for(;this.stackTop>-1;){var e=this.currentTagName,t=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),e===i.TD||e===i.TH&&t===o.HTML)break}},l.prototype.popAllUpToHtmlElement=function(){this.stackTop=0,this._updateCurrentElement()},l.prototype.clearBackToTableContext=function(){for(;this.currentTagName!==i.TABLE&&this.currentTagName!==i.TEMPLATE&&this.currentTagName!==i.HTML||this.treeAdapter.getNamespaceURI(this.current)!==o.HTML;)this.pop()},l.prototype.clearBackToTableBodyContext=function(){for(;this.currentTagName!==i.TBODY&&this.currentTagName!==i.TFOOT&&this.currentTagName!==i.THEAD&&this.currentTagName!==i.TEMPLATE&&this.currentTagName!==i.HTML||this.treeAdapter.getNamespaceURI(this.current)!==o.HTML;)this.pop()},l.prototype.clearBackToTableRowContext=function(){for(;this.currentTagName!==i.TR&&this.currentTagName!==i.TEMPLATE&&this.currentTagName!==i.HTML||this.treeAdapter.getNamespaceURI(this.current)!==o.HTML;)this.pop()},l.prototype.remove=function(e){for(var t=this.stackTop;t>=0;t--)if(this.items[t]===e){this.items.splice(t,1),this.stackTop--,this._updateCurrentElement();break}},l.prototype.tryPeekProperlyNestedBodyElement=function(){var e=this.items[1];return e&&this.treeAdapter.getTagName(e)===i.BODY?e:null},l.prototype.contains=function(e){return this._indexOf(e)>-1},l.prototype.getCommonAncestor=function(e){var t=this._indexOf(e);return--t>=0?this.items[t]:null},l.prototype.isRootHtmlElementCurrent=function(){return 0===this.stackTop&&this.currentTagName===i.HTML},l.prototype.hasInScope=function(e){for(var t=this.stackTop;t>=0;t--){var n=this.treeAdapter.getTagName(this.items[t]),r=this.treeAdapter.getNamespaceURI(this.items[t]);if(n===e&&r===o.HTML)return!0;if(s(n,r))return!1}return!0},l.prototype.hasNumberedHeaderInScope=function(){for(var e=this.stackTop;e>=0;e--){var t=this.treeAdapter.getTagName(this.items[e]),n=this.treeAdapter.getNamespaceURI(this.items[e]);if((t===i.H1||t===i.H2||t===i.H3||t===i.H4||t===i.H5||t===i.H6)&&n===o.HTML)return!0;if(s(t,n))return!1}return!0},l.prototype.hasInListItemScope=function(e){for(var t=this.stackTop;t>=0;t--){var n=this.treeAdapter.getTagName(this.items[t]),r=this.treeAdapter.getNamespaceURI(this.items[t]);if(n===e&&r===o.HTML)return!0;if((n===i.UL||n===i.OL)&&r===o.HTML||s(n,r))return!1}return!0},l.prototype.hasInButtonScope=function(e){for(var t=this.stackTop;t>=0;t--){var n=this.treeAdapter.getTagName(this.items[t]),r=this.treeAdapter.getNamespaceURI(this.items[t]);if(n===e&&r===o.HTML)return!0;if(n===i.BUTTON&&r===o.HTML||s(n,r))return!1}return!0},l.prototype.hasInTableScope=function(e){for(var t=this.stackTop;t>=0;t--){var n=this.treeAdapter.getTagName(this.items[t]);if(this.treeAdapter.getNamespaceURI(this.items[t])===o.HTML){if(n===e)return!0;if(n===i.TABLE||n===i.TEMPLATE||n===i.HTML)return!1}}return!0},l.prototype.hasTableBodyContextInTableScope=function(){for(var e=this.stackTop;e>=0;e--){var t=this.treeAdapter.getTagName(this.items[e]);if(this.treeAdapter.getNamespaceURI(this.items[e])===o.HTML){if(t===i.TBODY||t===i.THEAD||t===i.TFOOT)return!0;if(t===i.TABLE||t===i.HTML)return!1}}return!0},l.prototype.hasInSelectScope=function(e){for(var t=this.stackTop;t>=0;t--){var n=this.treeAdapter.getTagName(this.items[t]);if(this.treeAdapter.getNamespaceURI(this.items[t])===o.HTML){if(n===e)return!0;if(n!==i.OPTION&&n!==i.OPTGROUP)return!1}}return!0},l.prototype.generateImpliedEndTags=function(){for(;a(this.currentTagName);)this.pop()},l.prototype.generateImpliedEndTagsWithExclusion=function(e){for(;a(this.currentTagName)&&this.currentTagName!==e;)this.pop()}},function(e,t,n){"use strict";var r=e.exports=function(e){this.length=0,this.entries=[],this.treeAdapter=e,this.bookmark=null};r.MARKER_ENTRY="MARKER_ENTRY",r.ELEMENT_ENTRY="ELEMENT_ENTRY",r.prototype._getNoahArkConditionCandidates=function(e){var t=[];if(this.length>=3)for(var n=this.treeAdapter.getAttrList(e).length,i=this.treeAdapter.getTagName(e),o=this.treeAdapter.getNamespaceURI(e),a=this.length-1;a>=0;a--){var s=this.entries[a];if(s.type===r.MARKER_ENTRY)break;var l=s.element,u=this.treeAdapter.getAttrList(l);this.treeAdapter.getTagName(l)===i&&this.treeAdapter.getNamespaceURI(l)===o&&u.length===n&&t.push({idx:a,attrs:u})}return t.length<3?[]:t},r.prototype._ensureNoahArkCondition=function(e){var t=this._getNoahArkConditionCandidates(e),n=t.length;if(n){for(var r=this.treeAdapter.getAttrList(e),i=r.length,o=Object.create(null),a=0;a<i;a++){var s=r[a];o[s.name]=s.value}for(a=0;a<i;a++)for(var l=0;l<n;l++){var u=t[l].attrs[a];if(o[u.name]!==u.value&&(t.splice(l,1),n--),t.length<3)return}for(a=n-1;a>=2;a--)this.entries.splice(t[a].idx,1),this.length--}},r.prototype.insertMarker=function(){this.entries.push({type:r.MARKER_ENTRY}),this.length++},r.prototype.pushElement=function(e,t){this._ensureNoahArkCondition(e),this.entries.push({type:r.ELEMENT_ENTRY,element:e,token:t}),this.length++},r.prototype.insertElementAfterBookmark=function(e,t){for(var n=this.length-1;n>=0&&this.entries[n]!==this.bookmark;n--);this.entries.splice(n+1,0,{type:r.ELEMENT_ENTRY,element:e,token:t}),this.length++},r.prototype.removeEntry=function(e){for(var t=this.length-1;t>=0;t--)if(this.entries[t]===e){this.entries.splice(t,1),this.length--;break}},r.prototype.clearToLastMarker=function(){for(;this.length;){var e=this.entries.pop();if(this.length--,e.type===r.MARKER_ENTRY)break}},r.prototype.getElementEntryInScopeWithTagName=function(e){for(var t=this.length-1;t>=0;t--){var n=this.entries[t];if(n.type===r.MARKER_ENTRY)return null;if(this.treeAdapter.getTagName(n.element)===e)return n}return null},r.prototype.getElementEntry=function(e){for(var t=this.length-1;t>=0;t--){var n=this.entries[t];if(n.type===r.ELEMENT_ENTRY&&n.element===e)return n}return null}},function(e,t,n){"use strict";var r=n(197),i=n(120),o=n(440),a=n(441),s=n(970),l=n(62),u=n(72).inherits,c=l.TAG_NAMES,f=e.exports=function(e){r.call(this,e),this.parser=e,this.posTracker=null,this.lastStartTagToken=null,this.lastFosterParentingLocation=null,this.currentToken=null};u(f,r),f.prototype._setStartLocation=function(e){this.lastStartTagToken?(e.__location=Object.create(this.lastStartTagToken.location),e.__location.startTag=this.lastStartTagToken.location):e.__location=null},f.prototype._setEndLocation=function(e,t){var n=e.__location;if(n)if(t.location){var r=t.location,o=this.parser.treeAdapter.getTagName(e);t.type===i.END_TAG_TOKEN&&o===t.tagName?(n.endTag=Object.create(r),n.endOffset=r.endOffset):n.endOffset=r.startOffset}else t.type===i.EOF_TOKEN&&(n.endOffset=this.posTracker.offset)},f.prototype._getOverriddenMethods=function(e,t){return{_bootstrap:function(n,r){t._bootstrap.call(this,n,r),e.lastStartTagToken=null,e.lastFosterParentingLocation=null,e.currentToken=null,e.posTracker=new a(this.tokenizer.preprocessor),new o(this.tokenizer),new s(this.openElements,{onItemPop:function(t){e._setEndLocation(t,e.currentToken)}})},_runParsingLoop:function(n){t._runParsingLoop.call(this,n);for(var r=this.openElements.stackTop;r>=0;r--)e._setEndLocation(this.openElements.items[r],e.currentToken)},_processTokenInForeignContent:function(n){e.currentToken=n,t._processTokenInForeignContent.call(this,n)},_processToken:function(n){if(e.currentToken=n,t._processToken.call(this,n),n.type===i.END_TAG_TOKEN&&(n.tagName===c.HTML||n.tagName===c.BODY&&this.openElements.hasInScope(c.BODY)))for(var r=this.openElements.stackTop;r>=0;r--){var o=this.openElements.items[r];if(this.treeAdapter.getTagName(o)===n.tagName){e._setEndLocation(o,n);break}}},_setDocumentType:function(e){t._setDocumentType.call(this,e);for(var n=this.treeAdapter.getChildNodes(this.document),r=n.length,i=0;i<r;i++){var o=n[i];if(this.treeAdapter.isDocumentTypeNode(o)){o.__location=e.location;break}}},_attachElementToTree:function(n){e._setStartLocation(n),e.lastStartTagToken=null,t._attachElementToTree.call(this,n)},_appendElement:function(n,r){e.lastStartTagToken=n,t._appendElement.call(this,n,r)},_insertElement:function(n,r){e.lastStartTagToken=n,t._insertElement.call(this,n,r)},_insertTemplate:function(n){e.lastStartTagToken=n,t._insertTemplate.call(this,n),this.treeAdapter.getTemplateContent(this.openElements.current).__location=null},_insertFakeRootElement:function(){t._insertFakeRootElement.call(this),this.openElements.current.__location=null},_appendCommentNode:function(e,n){t._appendCommentNode.call(this,e,n);var r=this.treeAdapter.getChildNodes(n);r[r.length-1].__location=e.location},_findFosterParentingLocation:function(){return e.lastFosterParentingLocation=t._findFosterParentingLocation.call(this),e.lastFosterParentingLocation},_insertCharacters:function(n){t._insertCharacters.call(this,n);var r=this._shouldFosterParentOnInsertion(),i=r&&e.lastFosterParentingLocation.parent||this.openElements.currentTmplContent||this.openElements.current,o=this.treeAdapter.getChildNodes(i),a=r&&e.lastFosterParentingLocation.beforeElement?o.indexOf(e.lastFosterParentingLocation.beforeElement)-1:o.length-1,s=o[a];s.__location?s.__location.endOffset=n.location.endOffset:s.__location=n.location}}}},function(e,t){e.exports=function(e){return e&&"object"===typeof e&&"function"===typeof e.copy&&"function"===typeof e.fill&&"function"===typeof e.readUInt8}},function(e,t,n){"use strict";var r=n(197),i=n(72).inherits,o=e.exports=function(e,t){r.call(this,e),this.onItemPop=t.onItemPop};i(o,r),o.prototype._getOverriddenMethods=function(e,t){return{pop:function(){e.onItemPop(this.current),t.pop.call(this)},popAllUpToHtmlElement:function(){for(var n=this.stackTop;n>0;n--)e.onItemPop(this.items[n]);t.popAllUpToHtmlElement.call(this)},remove:function(n){e.onItemPop(this.current),t.remove.call(this,n)}}}},function(e,t,n){"use strict";var r=n(293),i=n(62).DOCUMENT_MODE,o={element:1,text:3,cdata:4,comment:8},a={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},s=function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])};s.prototype={get firstChild(){var e=this.children;return e&&e[0]||null},get lastChild(){var e=this.children;return e&&e[e.length-1]||null},get nodeType(){return o[this.type]||o.element}},Object.keys(a).forEach((function(e){var t=a[e];Object.defineProperty(s.prototype,e,{get:function(){return this[t]||null},set:function(e){return this[t]=e,e}})})),t.createDocument=function(){return new s({type:"root",name:"root",parent:null,prev:null,next:null,children:[],"x-mode":i.NO_QUIRKS})},t.createDocumentFragment=function(){return new s({type:"root",name:"root",parent:null,prev:null,next:null,children:[]})},t.createElement=function(e,t,n){for(var r=Object.create(null),i=Object.create(null),o=Object.create(null),a=0;a<n.length;a++){var l=n[a].name;r[l]=n[a].value,i[l]=n[a].namespace,o[l]=n[a].prefix}return new s({type:"script"===e||"style"===e?e:"tag",name:e,namespace:t,attribs:r,"x-attribsNamespace":i,"x-attribsPrefix":o,children:[],parent:null,prev:null,next:null})},t.createCommentNode=function(e){return new s({type:"comment",data:e,parent:null,prev:null,next:null})};var l=function(e){return new s({type:"text",data:e,parent:null,prev:null,next:null})},u=t.appendChild=function(e,t){var n=e.children[e.children.length-1];n&&(n.next=t,t.prev=n),e.children.push(t),t.parent=e},c=t.insertBefore=function(e,t,n){var r=e.children.indexOf(n),i=n.prev;i&&(i.next=t,t.prev=i),n.prev=t,t.next=n,e.children.splice(r,0,t),t.parent=e};t.setTemplateContent=function(e,t){u(e,t)},t.getTemplateContent=function(e){return e.children[0]},t.setDocumentType=function(e,t,n,i){for(var o=r.serializeContent(t,n,i),a=null,l=0;l<e.children.length;l++)if("directive"===e.children[l].type&&"!doctype"===e.children[l].name){a=e.children[l];break}a?(a.data=o,a["x-name"]=t,a["x-publicId"]=n,a["x-systemId"]=i):u(e,new s({type:"directive",name:"!doctype",data:o,"x-name":t,"x-publicId":n,"x-systemId":i}))},t.setDocumentMode=function(e,t){e["x-mode"]=t},t.getDocumentMode=function(e){return e["x-mode"]},t.detachNode=function(e){if(e.parent){var t=e.parent.children.indexOf(e),n=e.prev,r=e.next;e.prev=null,e.next=null,n&&(n.next=r),r&&(r.prev=n),e.parent.children.splice(t,1),e.parent=null}},t.insertText=function(e,t){var n=e.children[e.children.length-1];n&&"text"===n.type?n.data+=t:u(e,l(t))},t.insertTextBefore=function(e,t,n){var r=e.children[e.children.indexOf(n)-1];r&&"text"===r.type?r.data+=t:c(e,l(t),n)},t.adoptAttributes=function(e,t){for(var n=0;n<t.length;n++){var r=t[n].name;"undefined"===typeof e.attribs[r]&&(e.attribs[r]=t[n].value,e["x-attribsNamespace"][r]=t[n].namespace,e["x-attribsPrefix"][r]=t[n].prefix)}},t.getFirstChild=function(e){return e.children[0]},t.getChildNodes=function(e){return e.children},t.getParentNode=function(e){return e.parent},t.getAttrList=function(e){var t=[];for(var n in e.attribs)t.push({name:n,value:e.attribs[n],namespace:e["x-attribsNamespace"][n],prefix:e["x-attribsPrefix"][n]});return t},t.getTagName=function(e){return e.name},t.getNamespaceURI=function(e){return e.namespace},t.getTextNodeContent=function(e){return e.data},t.getCommentNodeContent=function(e){return e.data},t.getDocumentTypeNodeName=function(e){return e["x-name"]},t.getDocumentTypeNodePublicId=function(e){return e["x-publicId"]},t.getDocumentTypeNodeSystemId=function(e){return e["x-systemId"]},t.isTextNode=function(e){return"text"===e.type},t.isCommentNode=function(e){return"comment"===e.type},t.isDocumentTypeNode=function(e){return"directive"===e.type&&"!doctype"===e.name},t.isElementNode=function(e){return!!e.attribs}},function(e,t){},function(e,t,n){"use strict";var r=n(196).Buffer,i=n(974);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,i,o=r.allocUnsafe(e>>>0),a=this.head,s=0;a;)t=a.data,n=o,i=s,t.copy(n,i),s+=a.data.length,a=a.next;return o},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){(function(e){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(976),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(26))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i=1,o={},a=!1,s=e.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(e);l=l&&l.setTimeout?l:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){c(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&c(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){c(e.data)},r=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;r=function(t){var n=s.createElement("script");n.onreadystatechange=function(){c(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(c,0,e)},l.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return o[i]=a,r(i),i++},l.clearImmediate=u}function u(e){delete o[e]}function c(e){if(a)setTimeout(c,0,e);else{var t=o[e];if(t){a=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{u(e),a=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n(26),n(146))},function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(r){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,n(26))},function(e,t,n){"use strict";e.exports=o;var r=n(448),i=n(147);function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}i.inherits=n(57),i.inherits(o,r),o.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(295)},function(e,t,n){e.exports=n(100)},function(e,t,n){e.exports=n(294).Transform},function(e,t,n){e.exports=n(294).PassThrough},function(e,t,n){"use strict";var r=n(444),i=n(72).inherits,o=n(62).TAG_NAMES;i(e.exports=function(e){r.call(this,e),this.parser._insertFakeElement(o.HTML),this.parser._insertFakeElement(o.HEAD),this.parser.openElements.pop(),this.parser._insertFakeElement(o.BODY),this.parser._insertFakeElement(o.PRE),this.parser.treeAdapter.insertText(this.parser.openElements.current,"\n"),this.parser.switchToPlaintextParsing()},r)},function(e,t,n){"use strict";var r=n(198).Readable,i=n(72).inherits,o=n(443),a=e.exports=function(e,t){r.call(this),this.serializer=new o(e,t),Object.defineProperty(this.serializer,"html",{get:function(){return""},set:this.push.bind(this)})};i(a,r),a.prototype._read=function(){this.serializer.serialize(),this.push(null)}},function(e,t,n){"use strict";var r=n(198).Transform,i=n(986),o=n(72).inherits,a=n(120),s=n(440),l=n(987),u=n(292),c={locationInfo:!1},f=e.exports=function(e){r.call(this),this.options=u(c,e),this.tokenizer=new a(e),this.options.locationInfo&&new s(this.tokenizer),this.parserFeedbackSimulator=new l(this.tokenizer),this.pendingText=null,this.currentTokenLocation=void 0,this.lastChunkWritten=!1,this.stopped=!1,this.pipe(new i)};o(f,r),f.prototype._transform=function(e,t,n){this.stopped||(this.tokenizer.write(e.toString("utf8"),this.lastChunkWritten),this._runParsingLoop()),this.push(e),n()},f.prototype._flush=function(e){e()},f.prototype.end=function(e,t,n){this.lastChunkWritten=!0,r.prototype.end.call(this,e,t,n)},f.prototype.stop=function(){this.stopped=!0},f.prototype._runParsingLoop=function(){do{var e=this.parserFeedbackSimulator.getNextToken();if(e.type===a.HIBERNATION_TOKEN)break;e.type===a.CHARACTER_TOKEN||e.type===a.WHITESPACE_CHARACTER_TOKEN||e.type===a.NULL_CHARACTER_TOKEN?(this.options.locationInfo&&(null===this.pendingText?this.currentTokenLocation=e.location:this.currentTokenLocation.endOffset=e.location.endOffset),this.pendingText=(this.pendingText||"")+e.chars):(this._emitPendingText(),this._handleToken(e))}while(!this.stopped&&e.type!==a.EOF_TOKEN)},f.prototype._handleToken=function(e){this.options.locationInfo&&(this.currentTokenLocation=e.location),e.type===a.START_TAG_TOKEN?this.emit("startTag",e.tagName,e.attrs,e.selfClosing,this.currentTokenLocation):e.type===a.END_TAG_TOKEN?this.emit("endTag",e.tagName,this.currentTokenLocation):e.type===a.COMMENT_TOKEN?this.emit("comment",e.data,this.currentTokenLocation):e.type===a.DOCTYPE_TOKEN&&this.emit("doctype",e.name,e.publicId,e.systemId,this.currentTokenLocation)},f.prototype._emitPendingText=function(){null!==this.pendingText&&(this.emit("text",this.pendingText,this.currentTokenLocation),this.pendingText=null)}},function(e,t,n){"use strict";var r=n(198).Writable,i=n(72),o=e.exports=function(){r.call(this)};i.inherits(o,r),o.prototype._write=function(e,t,n){n()}},function(e,t,n){"use strict";var r=n(120),i=n(442),o=n(145),a=n(62),s=a.TAG_NAMES,l=a.NAMESPACES,u=e.exports=function(e){this.tokenizer=e,this.namespaceStack=[],this.namespaceStackTop=-1,this._enterNamespace(l.HTML)};u.prototype.getNextToken=function(){var e=this.tokenizer.getNextToken();if(e.type===r.START_TAG_TOKEN)this._handleStartTagToken(e);else if(e.type===r.END_TAG_TOKEN)this._handleEndTagToken(e);else if(e.type===r.NULL_CHARACTER_TOKEN&&this.inForeignContent)e.type=r.CHARACTER_TOKEN,e.chars=o.REPLACEMENT_CHARACTER;else if(this.skipNextNewLine&&(e.type!==r.HIBERNATION_TOKEN&&(this.skipNextNewLine=!1),e.type===r.WHITESPACE_CHARACTER_TOKEN&&"\n"===e.chars[0])){if(1===e.chars.length)return this.getNextToken();e.chars=e.chars.substr(1)}return e},u.prototype._enterNamespace=function(e){this.namespaceStackTop++,this.namespaceStack.push(e),this.inForeignContent=e!==l.HTML,this.currentNamespace=e,this.tokenizer.allowCDATA=this.inForeignContent},u.prototype._leaveCurrentNamespace=function(){this.namespaceStackTop--,this.namespaceStack.pop(),this.currentNamespace=this.namespaceStack[this.namespaceStackTop],this.inForeignContent=this.currentNamespace!==l.HTML,this.tokenizer.allowCDATA=this.inForeignContent},u.prototype._ensureTokenizerMode=function(e){e===s.TEXTAREA||e===s.TITLE?this.tokenizer.state=r.MODE.RCDATA:e===s.PLAINTEXT?this.tokenizer.state=r.MODE.PLAINTEXT:e===s.SCRIPT?this.tokenizer.state=r.MODE.SCRIPT_DATA:e!==s.STYLE&&e!==s.IFRAME&&e!==s.XMP&&e!==s.NOEMBED&&e!==s.NOFRAMES&&e!==s.NOSCRIPT||(this.tokenizer.state=r.MODE.RAWTEXT)},u.prototype._handleStartTagToken=function(e){var t=e.tagName;if(t===s.SVG?this._enterNamespace(l.SVG):t===s.MATH&&this._enterNamespace(l.MATHML),this.inForeignContent){if(i.causesExit(e))return void this._leaveCurrentNamespace();var n=this.currentNamespace;n===l.MATHML?i.adjustTokenMathMLAttrs(e):n===l.SVG&&(i.adjustTokenSVGTagName(e),i.adjustTokenSVGAttrs(e)),i.adjustTokenXMLAttrs(e),t=e.tagName,!e.selfClosing&&i.isIntegrationPoint(t,n,e.attrs)&&this._enterNamespace(l.HTML)}else t===s.PRE||t===s.TEXTAREA||t===s.LISTING?this.skipNextNewLine=!0:t===s.IMAGE&&(e.tagName=s.IMG),this._ensureTokenizerMode(t)},u.prototype._handleEndTagToken=function(e){var t=e.tagName;if(this.inForeignContent)(t===s.SVG&&this.currentNamespace===l.SVG||t===s.MATH&&this.currentNamespace===l.MATHML)&&this._leaveCurrentNamespace();else{var n=this.namespaceStack[this.namespaceStackTop-1];n===l.SVG&&i.SVG_TAG_NAMES_ADJUSTMENT_MAP[t]&&(t=i.SVG_TAG_NAMES_ADJUSTMENT_MAP[t]),i.isIntegrationPoint(t,n,e.attrs)&&this._leaveCurrentNamespace()}this.currentNamespace===l.SVG&&i.adjustTokenSVGTagName(e)}},function(e,t,n){var r=n(451),i=n(989),o=n(990),a=n(453),s=n(1007),l=n(457),u=n(1008),c=n(459),f=n(460),d=n(1009),h=Math.max;e.exports=function(e,t,n,p,m,v,g,y){var b=2&t;if(!b&&"function"!=typeof e)throw new TypeError("Expected a function");var _=p?p.length:0;if(_||(t&=-97,p=m=void 0),g=void 0===g?g:h(d(g),0),y=void 0===y?y:d(y),_-=m?m.length:0,64&t){var x=p,w=m;p=m=void 0}var E=b?void 0:l(e),T=[e,t,n,p,m,x,w,v,g,y];if(E&&u(T,E),e=T[0],t=T[1],n=T[2],p=T[3],m=T[4],!(y=T[9]=void 0===T[9]?b?0:e.length:h(T[9]-_,0))&&24&t&&(t&=-25),t&&1!=t)S=8==t||16==t?o(e,t,y):32!=t&&33!=t||m.length?a.apply(void 0,T):s(e,t,n,p);else var S=i(e,t,n);return f((E?r:c)(S,T),e,t)}},function(e,t,n){var r=n(201),i=n(37);e.exports=function(e,t,n){var o=1&t,a=r(e);return function t(){var r=this&&this!==i&&this instanceof t?a:e;return r.apply(o?n:this,arguments)}}},function(e,t,n){var r=n(282),i=n(201),o=n(453),a=n(456),s=n(299),l=n(202),u=n(37);e.exports=function(e,t,n){var c=i(e);return function i(){for(var f=arguments.length,d=Array(f),h=f,p=s(i);h--;)d[h]=arguments[h];var m=f<3&&d[0]!==p&&d[f-1]!==p?[]:l(d,p);if((f-=m.length)<n)return a(e,t,o,i.placeholder,void 0,d,m,void 0,void 0,n-f);var v=this&&this!==u&&this instanceof i?c:e;return r(v,this,d)}}},function(e,t){e.exports=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}},function(e,t,n){var r=n(297),i=n(457),o=n(994),a=n(996);e.exports=function(e){var t=o(e),n=a[t];if("function"!=typeof n||!(t in r.prototype))return!1;if(e===n)return!0;var s=i(n);return!!s&&e===s[0]}},function(e,t){e.exports=function(){}},function(e,t,n){var r=n(995),i=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+"",n=r[t],o=i.call(r,t)?n.length:0;o--;){var a=n[o],s=a.func;if(null==s||s==e)return a.name}return t}},function(e,t){e.exports={}},function(e,t,n){var r=n(297),i=n(458),o=n(298),a=n(29),s=n(55),l=n(997),u=Object.prototype.hasOwnProperty;function c(e){if(s(e)&&!a(e)&&!(e instanceof r)){if(e instanceof i)return e;if(u.call(e,"__wrapped__"))return l(e)}return new i(e)}c.prototype=o.prototype,c.prototype.constructor=c,e.exports=c},function(e,t,n){var r=n(297),i=n(458),o=n(192);e.exports=function(e){if(e instanceof r)return e.clone();var t=new i(e.__wrapped__,e.__chain__);return t.__actions__=o(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},function(e,t){var n=/\{\n\/\* \[wrapped with (.+)\] \*/,r=/,? & /;e.exports=function(e){var t=e.match(n);return t?t[1].split(r):[]}},function(e,t){var n=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;e.exports=function(e,t){var r=t.length;if(!r)return e;var i=r-1;return t[i]=(r>1?"& ":"")+t[i],t=t.join(r>2?", ":" "),e.replace(n,"{\n/* [wrapped with "+t+"] */\n")}},function(e,t,n){var r=n(276),i=n(1001),o=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];e.exports=function(e,t){return r(o,(function(n){var r="_."+n[0];t&n[1]&&!i(e,r)&&e.push(r)})),e.sort()}},function(e,t,n){var r=n(1002);e.exports=function(e,t){return!(null==e||!e.length)&&r(e,t,0)>-1}},function(e,t,n){var r=n(1003),i=n(1004),o=n(1005);e.exports=function(e,t,n){return t===t?o(e,t,n):r(e,i,n)}},function(e,t){e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},function(e,t){e.exports=function(e){return e!==e}},function(e,t){e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},function(e,t,n){var r=n(192),i=n(138),o=Math.min;e.exports=function(e,t){for(var n=e.length,a=o(t.length,n),s=r(e);a--;){var l=t[a];e[a]=i(l,n)?s[l]:void 0}return e}},function(e,t,n){var r=n(282),i=n(201),o=n(37);e.exports=function(e,t,n,a){var s=1&t,l=i(e);return function t(){for(var i=-1,u=arguments.length,c=-1,f=a.length,d=Array(f+u),h=this&&this!==o&&this instanceof t?l:e;++c<f;)d[c]=a[c];for(;u--;)d[c++]=arguments[++i];return r(h,s?n:this,d)}}},function(e,t,n){var r=n(454),i=n(455),o=n(202),a=Math.min;e.exports=function(e,t){var n=e[1],s=t[1],l=n|s,u=l<131,c=128==s&&8==n||128==s&&256==n&&e[7].length<=t[8]||384==s&&t[7].length<=t[8]&&8==n;if(!u&&!c)return e;1&s&&(e[2]=t[2],l|=1&n?0:4);var f=t[3];if(f){var d=e[3];e[3]=d?r(d,f,t[4]):f,e[4]=d?o(e[3],"__lodash_placeholder__"):t[4]}return(f=t[5])&&(d=e[5],e[5]=d?i(d,f,t[6]):f,e[6]=d?o(e[5],"__lodash_placeholder__"):t[6]),(f=t[7])&&(e[7]=f),128&s&&(e[8]=null==e[8]?t[8]:a(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=l,e}},function(e,t,n){var r=n(1010);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},function(e,t,n){var r=n(416);e.exports=function(e){return e?(e=r(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},function(e,t,n){var r=n(300),i=n(148),o=i.isTag,a=i.domEach,s=Object.prototype.hasOwnProperty,l=i.camelCase,u=i.cssCase,c=/\s+/,f={forEach:n(143),extend:n(450),some:n(1019)},d={null:null,true:!0,false:!1},h=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,p=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,m=function(e,t){if(e&&o(e))return e.attribs||(e.attribs={}),t?s.call(e.attribs,t)?h.test(t)?t:e.attribs[t]:"option"===e.name&&"value"===t?r.text(e.children):"input"!==e.name||"radio"!==e.attribs.type&&"checkbox"!==e.attribs.type||"value"!==t?void 0:"on":e.attribs},v=function(e,t,n){null===n?_(e,t):e.attribs[t]=n+""};t.attr=function(e,t){return"object"===typeof e||void 0!==t?a(this,"function"===typeof t?function(n,r){v(r,e,t.call(r,n,r.attribs[e]))}:function(n,r){o(r)&&("object"===typeof e?f.forEach(e,(function(e,t){v(r,t,e)})):v(r,e,t))}):m(this[0],e)};var g=function(e,t){if(e&&o(e))return s.call(e,t)?e[t]:h.test(t)?void 0!==m(e,t):m(e,t)},y=function(e,t,n){e[t]=h.test(t)?!!n:n};t.prop=function(e,t){var n,r=0;if("string"===typeof e&&void 0===t){switch(e){case"style":n=this.css(),f.forEach(n,(function(e,t){n[r++]=t})),n.length=r;break;case"tagName":case"nodeName":n=this[0].name.toUpperCase();break;default:n=g(this[0],e)}return n}if("object"===typeof e||void 0!==t)return a(this,"function"===typeof t?function(n,r){y(r,e,t.call(r,n,g(r,e)))}:function(n,r){o(r)&&("object"===typeof e?f.forEach(e,(function(e,t){y(r,t,e)})):y(r,e,t))})};var b=function(e,t){var n,r,i,o,a,c,f,h=1===arguments.length;for(h?i=(n=Object.keys(e.attribs).filter((function(e){return"data-"===e.slice(0,"data-".length)}))).map((function(e){return l(e.slice("data-".length))})):(n=["data-"+u(t)],i=[t]),c=0,f=n.length;c<f;++c)if(r=n[c],o=i[c],s.call(e.attribs,r)){if(a=e.attribs[r],s.call(d,a))a=d[a];else if(a===String(Number(a)))a=Number(a);else if(p.test(a))try{a=JSON.parse(a)}catch(m){}e.data[o]=a}return h?e.data:a};t.data=function(e,t){var n=this[0];if(n&&o(n))return n.data||(n.data={}),e?"object"===typeof e||void 0!==t?(a(this,(function(n,r){!function(e,t,n){if(e.data||(e.data={}),"object"===typeof t)return f.extend(e.data,t);"string"===typeof t&&void 0!==n&&(e.data[t]=n)}(r,e,t)})),this):s.call(n.data,e)?n.data[e]:b(n,e):b(n)},t.val=function(e){var t=0===arguments.length,n=this[0];if(n)switch(n.name){case"textarea":return this.text(e);case"input":switch(this.attr("type")){case"radio":return t?this.attr("value"):(this.attr("value",e),this);default:return this.attr("value",e)}return;case"select":var r,i=this.find("option:selected");if(void 0===i)return;if(!t){if(!s.call(this.attr(),"multiple")&&"object"==typeof e)return this;"object"!=typeof e&&(e=[e]),this.find("option").removeAttr("selected");for(var o=0;o<e.length;o++)this.find('option[value="'+e[o]+'"]').attr("selected","");return this}return r=i.attr("value"),s.call(this.attr(),"multiple")&&(r=[],a(i,(function(e,t){r.push(m(t,"value"))}))),r;case"option":return t?this.attr("value"):(this.attr("value",e),this)}};var _=function(e,t){e.attribs&&s.call(e.attribs,t)&&delete e.attribs[t]};t.removeAttr=function(e){return a(this,(function(t,n){_(n,e)})),this},t.hasClass=function(e){return f.some(this,(function(t){var n,r=t.attribs,i=r&&r.class,o=-1;if(i&&e.length)for(;(o=i.indexOf(e,o+1))>-1;)if(n=o+e.length,(0===o||c.test(i[o-1]))&&(n===i.length||c.test(i[n])))return!0}))},t.addClass=function(e){if("function"===typeof e)return a(this,(function(n,r){var i=r.attribs.class||"";t.addClass.call([r],e.call(r,n,i))}));if(!e||"string"!==typeof e)return this;for(var n=e.split(c),r=this.length,i=0;i<r;i++)if(o(this[i])){var s,l,u=m(this[i],"class");if(u){l=" "+u+" ",s=n.length;for(var f=0;f<s;f++){var d=n[f]+" ";l.indexOf(" "+d)<0&&(l+=d)}v(this[i],"class",l.trim())}else v(this[i],"class",n.join(" ").trim())}return this};var x=function(e){return e?e.trim().split(c):[]};t.removeClass=function(e){var n,r,i;return"function"===typeof e?a(this,(function(n,r){t.removeClass.call([r],e.call(r,n,r.attribs.class||""))})):(n=x(e),r=n.length,i=0===arguments.length,a(this,(function(e,t){if(o(t))if(i)t.attribs.class="";else{for(var a,s,l=x(t.attribs.class),u=0;u<r;u++)(a=l.indexOf(n[u]))>=0&&(l.splice(a,1),s=!0,u--);s&&(t.attribs.class=l.join(" "))}})))},t.toggleClass=function(e,n){if("function"===typeof e)return a(this,(function(r,i){t.toggleClass.call([i],e.call(i,r,i.attribs.class||"",n),n)}));if(!e||"string"!==typeof e)return this;for(var r,i,s=e.split(c),l=s.length,u="boolean"===typeof n?n?1:-1:0,f=this.length,d=0;d<f;d++)if(o(this[d])){r=x(this[d].attribs.class);for(var h=0;h<l;h++)i=r.indexOf(s[h]),u>=0&&i<0?r.push(s[h]):u<=0&&i>=0&&r.splice(i,1);this[d].attribs.class=r.join(" ")}return this},t.is=function(e){return!!e&&this.filter(e).length>0}},function(e,t,n){var r=n(1013),i=n(1014);e.exports=function(e){return i(r(e))},e.exports.parse=r,e.exports.compile=i},function(e,t){e.exports=function(e){if("even"===(e=e.trim().toLowerCase()))return[2,0];if("odd"===e)return[2,1];var t,r=e.match(n);if(!r)throw new SyntaxError("n-th rule couldn't be parsed ('"+e+"')");return r[1]?(t=parseInt(r[1],10),isNaN(t)&&(t="-"===r[1].charAt(0)?-1:1)):t=0,[t,r[3]?parseInt((r[2]||"")+r[3],10):0]};var n=/^([+\-]?\d*n)?\s*(?:([+\-]?)\s*(\d+))?$/},function(e,t,n){e.exports=function(e){var t=e[0],n=e[1]-1;if(n<0&&t<=0)return o;if(-1===t)return function(e){return e<=n};if(0===t)return function(e){return e===n};if(1===t)return n<0?i:function(e){return e>=n};var r=n%t;return r<0&&(r+=t),t>1?function(e){return e>=n&&e%t===r}:(t*=-1,function(e){return e<=n&&e%t===r})};var r=n(149),i=r.trueFunc,o=r.falseFunc},function(e,t,n){e.exports=function(e,t,n){return d(h(e,t,n))},e.exports.compileUnsafe=h,e.exports.compileToken=b;var r=n(1016),i=n(99),o=i.isTag,a=n(1017),s=n(1018),l=n(149),u=l.trueFunc,c=l.falseFunc,f=n(464);function d(e){return function(t){return o(t)&&e(t)}}function h(e,t,n){return b(r(e,t),t,n)}function p(e){return"pseudo"===e.type&&("scope"===e.name||Array.isArray(e.data)&&e.data.some((function(e){return e.some(p)})))}var m={type:"descendant"},v={type:"pseudo",name:"scope"},g={},y=i.getParent;function b(e,t,n){(e=e.filter((function(e){return e.length>0}))).forEach(s);var r=Array.isArray(n);return(n=t&&t.context||n)&&!r&&(n=[n]),function(e,t){var n=!!t&&!!t.length&&t.every((function(e){return e===g||!!y(e)}));e.forEach((function(e){if(e.length>0&&_(e[0])&&"descendant"!==e[0].type);else{if(!n||p(e))return;e.unshift(m)}e.unshift(v)}))}(e,n),e.map((function(e){return function(e,t,n,r){var i=r&&"scope"===e[0].name&&"descendant"===e[1].type;return e.reduce((function(e,r,o){return e===c?e:a[r.type](e,r,t,n,i&&1===o)}),t&&t.rootFunc||u)}(e,t,n,r)})).reduce(x,c)}function _(e){return f[e.type]<0}function x(e,t){return t===c||e===u?e:e===c||t===u?t:function(n){return e(n)||t(n)}}var w=n(301).filters,E=i.existsOne,T=(o=i.isTag,i.getChildren);function S(e){return e.some(_)}w.not=function(e,t,n,r){var i={xmlMode:!(!n||!n.xmlMode),strict:!(!n||!n.strict)};if(i.strict&&(t.length>1||t.some(S)))throw new SyntaxError("complex selectors in :not aren't allowed in strict mode");var o=b(t,i,r);return o===c?e:o===u?c:function(t){return!o(t)&&e(t)}},w.has=function(e,t,n){var r={xmlMode:!(!n||!n.xmlMode),strict:!(!n||!n.strict)},i=t.some(S)?[g]:null,a=b(t,r,i);return a===c?c:a===u?function(t){return T(t).some(o)&&e(t)}:(a=d(a),i?function(t){return e(t)&&(i[0]=t,E(a,T(t)))}:function(t){return e(t)&&E(a,T(t))})},w.matches=function(e,t,n,r){return b(t,{xmlMode:!(!n||!n.xmlMode),strict:!(!n||!n.strict),rootFunc:e},r)}},function(e,t,n){"use strict";e.exports=function(e,t){var n=[];if(""!==(e=function e(t,n,i){var d,v,g,y,b=[],_=!1;function x(){var e=n.match(r)[0];return n=n.substr(e.length),h(e)}function w(e){for(;p(n.charAt(e));)e++;n=n.substr(e)}function E(e){for(var t=0;"\\"===n.charAt(--e);)t++;return 1===(1&t)}for(w(0);""!==n;)if(p(v=n.charAt(0)))_=!0,w(1);else if(v in s)b.push({type:s[v]}),_=!1,w(1);else if(","===v){if(0===b.length)throw new SyntaxError("empty sub-selector");t.push(b),b=[],_=!1,w(1)}else if(_&&(b.length>0&&b.push({type:"descendant"}),_=!1),"*"===v)n=n.substr(1),b.push({type:"universal"});else if(v in l)n=n.substr(1),b.push({type:"attribute",name:l[v][0],action:l[v][1],value:x(),ignoreCase:!1});else if("["===v){if(n=n.substr(1),!(d=n.match(o)))throw new SyntaxError("Malformed attribute selector: "+n);n=n.substr(d[0].length),g=h(d[1]),i&&("lowerCaseAttributeNames"in i?!i.lowerCaseAttributeNames:i.xmlMode)||(g=g.toLowerCase()),b.push({type:"attribute",name:g,action:a[d[2]],value:h(d[4]||d[5]||""),ignoreCase:!!d[6]})}else if(":"===v){if(":"===n.charAt(1)){n=n.substr(2),b.push({type:"pseudo-element",name:x().toLowerCase()});continue}if(n=n.substr(1),g=x().toLowerCase(),d=null,"("===n.charAt(0))if(g in u){var T=(y=n.charAt(1))in f;if(n=n.substr(T+1),n=e(d=[],n,i),T){if(n.charAt(0)!==y)throw new SyntaxError("unmatched quotes in :"+g);n=n.substr(1)}if(")"!==n.charAt(0))throw new SyntaxError("missing closing parenthesis in :"+g+" "+n);n=n.substr(1)}else{for(var S=1,k=1;k>0&&S<n.length;S++)"("!==n.charAt(S)||E(S)?")"!==n.charAt(S)||E(S)||k--:k++;if(k)throw new SyntaxError("parenthesis not matched");d=n.substr(1,S-2),n=n.substr(S),g in c&&((y=d.charAt(0))===d.slice(-1)&&y in f&&(d=d.slice(1,-1)),d=h(d))}b.push({type:"pseudo",name:g,data:d})}else{if(!r.test(n))return b.length&&"descendant"===b[b.length-1].type&&b.pop(),m(t,b),n;g=x(),i&&("lowerCaseTags"in i?!i.lowerCaseTags:i.xmlMode)||(g=g.toLowerCase()),b.push({type:"tag",name:g})}return m(t,b),n}(n,e+"",t)))throw new SyntaxError("Unmatched selector: "+e);return n};var r=/^(?:\\.|[\w\-\u00b0-\uFFFF])+/,i=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,o=/^\s*((?:\\.|[\w\u00b0-\uFFFF\-])+)\s*(?:(\S?)=\s*(?:(['"])([^]*?)\3|(#?(?:\\.|[\w\u00b0-\uFFFF\-])*)|)|)\s*(i)?\]/,a={__proto__:null,undefined:"exists","":"equals","~":"element","^":"start",$:"end","*":"any","!":"not","|":"hyphen"},s={__proto__:null,">":"child","<":"parent","~":"sibling","+":"adjacent"},l={__proto__:null,"#":["id","equals"],".":["class","element"]},u={__proto__:null,has:!0,not:!0,matches:!0},c={__proto__:null,contains:!0,icontains:!0},f={__proto__:null,'"':!0,"'":!0};function d(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)}function h(e){return e.replace(i,d)}function p(e){return" "===e||"\n"===e||"\t"===e||"\f"===e||"\r"===e}function m(e,t){if(e.length>0&&0===t.length)throw new SyntaxError("empty sub-selector");e.push(t)}},function(e,t,n){var r=n(99),i=r.isTag,o=r.getParent,a=r.getChildren,s=r.getSiblings,l=r.getName;e.exports={__proto__:null,attribute:n(463).compile,pseudo:n(301).compile,tag:function(e,t){var n=t.name;return function(t){return l(t)===n&&e(t)}},descendant:function(e,t,n,r,i){return function(t){if(i&&e(t))return!0;for(var n=!1;!n&&(t=o(t));)n=e(t);return n}},parent:function(e,t,n){if(n&&n.strict)throw SyntaxError("Parent selector isn't part of CSS3");return function(e){return a(e).some(r)};function r(t){return i(t)&&e(t)}},child:function(e){return function(t){var n=o(t);return!!n&&e(n)}},sibling:function(e){return function(t){for(var n=s(t),r=0;r<n.length;r++)if(i(n[r])){if(n[r]===t)break;if(e(n[r]))return!0}return!1}},adjacent:function(e){return function(t){for(var n,r=s(t),o=0;o<r.length;o++)if(i(r[o])){if(r[o]===t)break;n=r[o]}return!!n&&e(n)}},universal:function(e){return e}}},function(e,t,n){e.exports=function(e){for(var t=e.map(o),n=1;n<e.length;n++){var r=t[n];if(!(r<0))for(var i=n-1;i>=0&&r<t[i];i--){var a=e[i+1];e[i+1]=e[i],e[i]=a,t[i+1]=t[i],t[i]=r}}};var r=n(464),i={__proto__:null,exists:10,equals:8,not:7,start:6,end:6,any:5,hyphen:4,element:4};function o(e){var t=r[e.type];if(t===r.attribute)(t=i[e.action])===i.equals&&"id"===e.name&&(t=9),e.ignoreCase&&(t>>=1);else if(t===r.pseudo)if(e.data)if("has"===e.name||"contains"===e.name)t=0;else if("matches"===e.name||"not"===e.name){t=0;for(var n=0;n<e.data.length;n++)if(1===e.data[n].length){var a=o(e.data[n][0]);if(0===a){t=0;break}a>t&&(t=a)}e.data.length>1&&t>0&&(t-=1)}else t=1;else t=3;return t}},function(e,t,n){var r=n(397),i=n(140),o=n(1020),a=n(29),s=n(284);e.exports=function(e,t,n){var l=a(e)?r:o;return n&&s(e,t,n)&&(t=void 0),l(e,i(t,3))}},function(e,t,n){var r=n(142);e.exports=function(e,t){var n;return r(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}},function(e,t,n){var r=n(462),i=n(148),o=i.domEach,a=n(144).DomUtils.uniqueSort,s=i.isTag,l={bind:n(296),forEach:n(143),reject:n(1022),filter:n(1024),reduce:n(1025)};t.find=function(e){var t,n=l.reduce(this,(function(e,t){return e.concat(l.filter(t.children,s))}),[]),i=this.constructor.contains;if(e&&"string"!==typeof e)return t=e.cheerio?e.get():[e],this._make(t.filter((function(e){var t,n;for(t=0,n=this.length;t<n;++t)if(i(this[t],e))return!0}),this));var o={__proto__:this.options,context:this.toArray()};return this._make(r(e,n,o))},t.parent=function(e){var n=[];return o(this,(function(e,t){var r=t.parent;r&&n.indexOf(r)<0&&n.push(r)})),arguments.length&&(n=t.filter.call(n,e,this)),this._make(n)},t.parents=function(e){var t=[];return this.get().reverse().forEach((function(n){c(this,n.parent,e,1/0).forEach((function(e){-1===t.indexOf(e)&&t.push(e)}))}),this),this._make(t)},t.parentsUntil=function(e,t){var n,i,o=[];return"string"===typeof e?n=r(e,this.parents().toArray(),this.options)[0]:e&&e.cheerio?i=e.toArray():e&&(n=e),this.toArray().reverse().forEach((function(e){for(;(e=e.parent)&&(n&&e!==n||i&&-1===i.indexOf(e)||!n&&!i);)s(e)&&-1===o.indexOf(e)&&o.push(e)}),this),this._make(t?r(t,o,this.options):o)},t.closest=function(e){var t=[];return e?(o(this,function(n,r){var i=c(this,r,e,1)[0];i&&t.indexOf(i)<0&&t.push(i)}.bind(this)),this._make(t)):this._make(t)},t.next=function(e){if(!this[0])return this;var n=[];return l.forEach(this,(function(e){for(;e=e.next;)if(s(e))return void n.push(e)})),e?t.filter.call(n,e,this):this._make(n)},t.nextAll=function(e){if(!this[0])return this;var n=[];return l.forEach(this,(function(e){for(;e=e.next;)s(e)&&-1===n.indexOf(e)&&n.push(e)})),e?t.filter.call(n,e,this):this._make(n)},t.nextUntil=function(e,n){if(!this[0])return this;var i,o,a=[];return"string"===typeof e?i=r(e,this.nextAll().get(),this.options)[0]:e&&e.cheerio?o=e.get():e&&(i=e),l.forEach(this,(function(e){for(;(e=e.next)&&(i&&e!==i||o&&-1===o.indexOf(e)||!i&&!o);)s(e)&&-1===a.indexOf(e)&&a.push(e)})),n?t.filter.call(a,n,this):this._make(a)},t.prev=function(e){if(!this[0])return this;var n=[];return l.forEach(this,(function(e){for(;e=e.prev;)if(s(e))return void n.push(e)})),e?t.filter.call(n,e,this):this._make(n)},t.prevAll=function(e){if(!this[0])return this;var n=[];return l.forEach(this,(function(e){for(;e=e.prev;)s(e)&&-1===n.indexOf(e)&&n.push(e)})),e?t.filter.call(n,e,this):this._make(n)},t.prevUntil=function(e,n){if(!this[0])return this;var i,o,a=[];return"string"===typeof e?i=r(e,this.prevAll().get(),this.options)[0]:e&&e.cheerio?o=e.get():e&&(i=e),l.forEach(this,(function(e){for(;(e=e.prev)&&(i&&e!==i||o&&-1===o.indexOf(e)||!i&&!o);)s(e)&&-1===a.indexOf(e)&&a.push(e)})),n?t.filter.call(a,n,this):this._make(a)},t.siblings=function(e){var n=this.parent(),r=l.filter(n?n.children():this.siblingsAndMe(),l.bind((function(e){return s(e)&&!this.is(e)}),this));return void 0!==e?t.filter.call(r,e,this):this._make(r)},t.children=function(e){var n=l.reduce(this,(function(e,t){return e.concat(l.filter(t.children,s))}),[]);return void 0===e?this._make(n):t.filter.call(n,e,this)},t.contents=function(){return this._make(l.reduce(this,(function(e,t){return e.push.apply(e,t.children),e}),[]))},t.each=function(e){for(var t=0,n=this.length;t<n&&!1!==e.call(this[t],t,this[t]);)++t;return this},t.map=function(e){return this._make(l.reduce(this,(function(t,n,r){var i=e.call(n,r,n);return null==i?t:t.concat(i)}),[]))};var u=function(e){return function(t,n){var i;return n=n||this,i="string"===typeof t?r.compile(t,n.options):"function"===typeof t?function(e,n){return t.call(e,n,e)}:t.cheerio?t.is.bind(t):function(e){return t===e},n._make(e(this,i))}};function c(e,n,r,i){for(var o=[];n&&o.length<i;)r&&!t.filter.call([n],r,e).length||o.push(n),n=n.parent;return o}t.filter=u(l.filter),t.not=u(l.reject),t.has=function(e){var n=this;return t.filter.call(this,(function(){return n._make(this).find(e).length>0}))},t.first=function(){return this.length>1?this._make(this[0]):this},t.last=function(){return this.length>1?this._make(this[this.length-1]):this},t.eq=function(e){return 0===(e=+e)&&this.length<=1?this:(e<0&&(e=this.length+e),this[e]?this._make(this[e]):this._make([]))},t.get=function(e){return null==e?Array.prototype.slice.call(this):this[e<0?this.length+e:e]},t.index=function(e){var t,n;return 0===arguments.length?(t=this.parent().children(),n=this[0]):"string"===typeof e?(t=this._make(e),n=this[0]):(t=this,n=e.cheerio?e[0]:e),t.get().indexOf(n)},t.slice=function(){return this._make([].slice.apply(this,arguments))},t.end=function(){return this.prevObject||this._make([])},t.add=function(e,t){for(var n=this._make(e,t),r=a(n.get().concat(this.get())),i=0;i<r.length;++i)n[i]=r[i];return n.length=r.length,n},t.addBack=function(e){return this.add(arguments.length?this.prevObject.filter(e):this.prevObject)}},function(e,t,n){var r=n(273),i=n(465),o=n(140),a=n(29),s=n(1023);e.exports=function(e,t){return(a(e)?r:i)(e,s(o(t,3)))}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}},function(e,t,n){var r=n(273),i=n(465),o=n(140),a=n(29);e.exports=function(e,t){return(a(e)?r:i)(e,o(t,3))}},function(e,t,n){var r=n(1026),i=n(142),o=n(140),a=n(1027),s=n(29);e.exports=function(e,t,n){var l=s(e)?r:a,u=arguments.length<3;return l(e,o(t,4),n,u,i)}},function(e,t){e.exports=function(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}},function(e,t){e.exports=function(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}},function(e,t,n){var r=n(194),i=n(300),o=r.update,a=r.evaluate,s=n(148),l=s.domEach,u=s.cloneDom,c=s.isHtml,f=Array.prototype.slice,d={flatten:n(466),bind:n(296),forEach:n(143)};t._makeDomArray=function(e,t){return null==e?[]:e.cheerio?t?u(e.get(),e.options):e.get():Array.isArray(e)?d.flatten(e.map((function(e){return this._makeDomArray(e,t)}),this)):"string"===typeof e?a(e,this.options,!1):t?u([e]):[e]};var h=function(e){return function(){var t=f.call(arguments),n=this.length-1;return l(this,(function(r,o){var a,s;s="function"===typeof t[0]?t[0].call(o,r,i.html(o.children)):t,a=this._makeDomArray(s,r<n),e(a,o.children,o)}))}},p=function(e,t,n,r,i){var o,a,s,l,u,c=[t,n].concat(r),f=e[t-1]||null,d=e[t]||null;for(o=0,a=r.length;o<a;++o)s=(u=(l=r[o]).parent||l.root)&&u.children.indexOf(r[o]),u&&s>-1&&(u.children.splice(s,1),i===u&&t>s&&c[0]--),l.root=null,l.parent=i,l.prev&&(l.prev.next=l.next||null),l.next&&(l.next.prev=l.prev||null),l.prev=r[o-1]||f,l.next=r[o+1]||d;return f&&(f.next=r[0]),d&&(d.prev=r[r.length-1]),e.splice.apply(e,c)};t.appendTo=function(e){return e.cheerio||(e=this.constructor.call(this.constructor,e,null,this._originalRoot)),e.append(this),this},t.prependTo=function(e){return e.cheerio||(e=this.constructor.call(this.constructor,e,null,this._originalRoot)),e.prepend(this),this},t.append=h((function(e,t,n){p(t,t.length,0,e,n)})),t.prepend=h((function(e,t,n){p(t,0,0,e,n)})),t.wrap=function(e){var t="function"===typeof e&&e,n=this.length-1;return d.forEach(this,d.bind((function(r,i){var a,s,l,u,f=r.parent||r.root,d=f.children;if(f){for(t&&(e=t.call(r,i)),"string"!==typeof e||c(e)||(e=this.parents().last().find(e).clone()),s=(a=this._makeDomArray(e,i<n).slice(0,1))[0],l=0;s&&s.children&&!(l>=s.children.length);)"tag"===s.children[l].type?(s=s.children[l],l=0):l++;u=d.indexOf(r),o([r],s),p(d,u,0,a,f)}}),this)),this},t.after=function(){var e=f.call(arguments),t=this.length-1;return l(this,(function(n,r){var o=r.parent||r.root;if(o){var a,s,l=o.children,u=l.indexOf(r);u<0||(a="function"===typeof e[0]?e[0].call(r,n,i.html(r.children)):e,s=this._makeDomArray(a,n<t),p(l,u+1,0,s,o))}})),this},t.insertAfter=function(e){var t=[],n=this;return"string"===typeof e&&(e=this.constructor.call(this.constructor,e,null,this._originalRoot)),e=this._makeDomArray(e),n.remove(),l(e,(function(e,r){var i=n._makeDomArray(n.clone()),o=r.parent||r.root;if(o){var a=o.children,s=a.indexOf(r);s<0||(p(a,s+1,0,i,o),t.push(i))}})),this.constructor.call(this.constructor,this._makeDomArray(t))},t.before=function(){var e=f.call(arguments),t=this.length-1;return l(this,(function(n,r){var o=r.parent||r.root;if(o){var a,s,l=o.children,u=l.indexOf(r);u<0||(a="function"===typeof e[0]?e[0].call(r,n,i.html(r.children)):e,s=this._makeDomArray(a,n<t),p(l,u,0,s,o))}})),this},t.insertBefore=function(e){var t=[],n=this;return"string"===typeof e&&(e=this.constructor.call(this.constructor,e,null,this._originalRoot)),e=this._makeDomArray(e),n.remove(),l(e,(function(e,r){var i=n._makeDomArray(n.clone()),o=r.parent||r.root;if(o){var a=o.children,s=a.indexOf(r);s<0||(p(a,s,0,i,o),t.push(i))}})),this.constructor.call(this.constructor,this._makeDomArray(t))},t.remove=function(e){var t=this;return e&&(t=t.filter(e)),l(t,(function(e,t){var n=t.parent||t.root;if(n){var r=n.children,i=r.indexOf(t);i<0||(r.splice(i,1),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.prev=t.next=t.parent=t.root=null)}})),this},t.replaceWith=function(e){var t=this;return l(this,(function(n,r){var i=r.parent||r.root;if(i){var a,s=i.children,l=t._makeDomArray("function"===typeof e?e.call(r,n,r):e);o(l,null),a=s.indexOf(r),p(s,a,1,l,i),r.parent=r.prev=r.next=r.root=null}})),this},t.empty=function(){return l(this,(function(e,t){d.forEach(t.children,(function(e){e.next=e.prev=e.parent=null})),t.children.length=0})),this},t.html=function(e){if(void 0===e)return this[0]&&this[0].children?i.html(this[0].children,this.options):null;var t=this.options;return l(this,(function(n,r){d.forEach(r.children,(function(e){e.next=e.prev=e.parent=null}));var i=e.cheerio?e.clone().get():a(""+e,t,!1);o(i,r)})),this},t.toString=function(){return i.html(this,this.options)},t.text=function(e){return void 0===e?i.text(this):"function"===typeof e?l(this,(function(n,r){var o=[r];return t.text.call(o,e.call(r,n,i.text(o)))})):(l(this,(function(t,n){d.forEach(n.children,(function(e){e.next=e.prev=e.parent=null})),o({data:""+e,type:"text",parent:n,prev:null,next:null,children:[]},n)})),this)},t.clone=function(){return this._make(u(this.get(),this.options))}},function(e,t,n){var r=n(271),i=n(1030);e.exports=function e(t,n,o,a,s){var l=-1,u=t.length;for(o||(o=i),s||(s=[]);++l<u;){var c=t[l];n>0&&o(c)?n>1?e(c,n-1,o,a,s):r(s,c):a||(s[s.length]=c)}return s}},function(e,t,n){var r=n(114),i=n(180),o=n(29),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},function(e,t,n){var r=n(148).domEach,i={pick:n(1032)},o=Object.prototype.toString;function a(e,t,n,r){if("string"==typeof t){var i=s(e);"function"===typeof n&&(n=n.call(e,r,i[t])),""===n?delete i[t]:null!=n&&(i[t]=n),e.attribs.style=(o=i,Object.keys(o||{}).reduce((function(e,t){return e+(e?" ":"")+t+": "+o[t]+";"}),""))}else"object"==typeof t&&Object.keys(t).forEach((function(n){a(e,n,t[n])}));var o}function s(e,t){var n=function(e){return(e=(e||"").trim())?e.split(";").reduce((function(e,t){var n=t.indexOf(":");return n<1||n===t.length-1||(e[t.slice(0,n).trim()]=t.slice(n+1).trim()),e}),{}):{}}(e.attribs.style);return"string"===typeof t?n[t]:Array.isArray(t)?i.pick(n,t):n}t.css=function(e,t){return 2===arguments.length||"[object Object]"===o.call(e)?r(this,(function(n,r){a(r,e,t,n)})):s(this[0],e)}},function(e,t,n){var r=n(1033),i=n(1036)((function(e,t){return null==e?{}:r(e,t)}));e.exports=i},function(e,t,n){var r=n(1034),i=n(405);e.exports=function(e,t){return r(e,t,(function(t,n){return i(e,n)}))}},function(e,t,n){var r=n(274),i=n(1035),o=n(189);e.exports=function(e,t,n){for(var a=-1,s=t.length,l={};++a<s;){var u=t[a],c=r(e,u);n(c,u)&&i(l,o(u,e),c)}return l}},function(e,t,n){var r=n(191),i=n(189),o=n(138),a=n(42),s=n(141);e.exports=function(e,t,n,l){if(!a(e))return e;for(var u=-1,c=(t=i(t,e)).length,f=c-1,d=e;null!=d&&++u<c;){var h=s(t[u]),p=n;if(u!=f){var m=d[h];void 0===(p=l?l(m,h,d):void 0)&&(p=a(m)?m:o(t[u+1])?[]:{})}r(d,h,p),d=d[h]}return e}},function(e,t,n){var r=n(466),i=n(413),o=n(283);e.exports=function(e){return o(i(e,void 0,r),e+"")}},function(e,t,n){var r=/%20/g,i=/\r?\n/g,o={map:n(71)};t.serialize=function(){var e=this.serializeArray();return o.map(e,(function(e){return encodeURIComponent(e.name)+"="+encodeURIComponent(e.value)})).join("&").replace(r,"+")},t.serializeArray=function(){var e=this.constructor;return this.map((function(){var t=e(this);return"form"===this.name?t.find("input,select,textarea,keygen").toArray():t.filter("input,select,textarea,keygen").toArray()})).filter('[name!=""]:not(:disabled):not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map((function(t,n){var r=e(n),a=r.attr("name"),s=r.val();return null==s&&(s=""),Array.isArray(s)?o.map(s,(function(e){return{name:a,value:e.replace(i,"\r\n")}})):{name:a,value:s.replace(i,"\r\n")}})).get()}},function(e){e.exports={name:"cheerio",version:"1.0.0-rc.3",description:"Tiny, fast, and elegant implementation of core jQuery designed specifically for the server",author:"Matt Mueller <mattmuelle@gmail.com> (mat.io)",license:"MIT",keywords:["htmlparser","jquery","selector","scraper","parser","html"],repository:{type:"git",url:"git://github.com/cheeriojs/cheerio.git"},main:"./index.js",files:["index.js","lib"],engines:{node:">= 0.6"},dependencies:{"css-select":"~1.2.0","dom-serializer":"~0.1.1",entities:"~1.1.1",htmlparser2:"^3.9.1",lodash:"^4.15.0",parse5:"^3.0.1"},devDependencies:{benchmark:"^2.1.0",coveralls:"^2.11.9","expect.js":"~0.3.1",istanbul:"^0.4.3",jquery:"^3.0.0",jsdom:"^9.2.1",jshint:"^2.9.2",mocha:"^3.1.2",xyz:"~1.1.0"},scripts:{test:"make test"},_resolved:"https://registry.npmjs.org/cheerio/-/cheerio-1.0.0-rc.3.tgz",_integrity:"sha512-0td5ijfUPuubwLUu0OBoe98gZj8C/AA+RW3v67GPlGOrvxWjZmBXiBCRU+I8VEiNyJzjth40POfHiz2RB3gImA==",_from:"cheerio@1.0.0-rc.3"}},function(e,t,n){"use strict";var r=n(53),i=n(468),o=n(302),a=n(1048),s=n(203),l=s("%TypeError%"),u=r.call(Function.call,s("%ObjectPrototype%").propertyIsEnumerable),c=r.call(Function.apply,s("%ArrayPrototype%").push),f=o(o({},i),{ToIndex:function(e){if("undefined"===typeof e)return 0;var t=this.ToInteger(e);if(t<0)throw new RangeError("index must be >= 0");var n=this.ToLength(t);if(!this.SameValueZero(t,n))throw new RangeError("index must be >= 0 and < 2 ** 53 - 1");return n},EnumerableOwnProperties:function(e,t){var n=i.EnumerableOwnNames(e);if("key"===t)return n;if("value"===t||"key+value"===t){var r=[];return a(n,(function(n){u(e,n)&&c(r,["value"===t?e[n]:[n,e[n]]])})),r}throw new l('Assertion failed: "kind" is not "key", "value", or "key+value": '+t)}});delete f.EnumerableOwnNames,e.exports=f},function(e,t,n){"use strict";var r=n(58),i=n(1041),o=n(285),a=n(203),s=a("%TypeError%"),l=a("%SyntaxError%"),u=a("%Array%"),c=a("%String%"),f=a("%Object%"),d=a("%Number%"),h=a("%Symbol%",!0),p=a("%RegExp%"),m=!!h,v=n(470),g=n(471),y=n(472),b=d.MAX_SAFE_INTEGER||Math.pow(2,53)-1,_=n(302),x=n(473),w=n(474),E=n(1046),T=parseInt,S=n(53),k=S.call(Function.call,u.prototype.slice),O=S.call(Function.call,c.prototype.slice),C=S.call(Function.call,p.prototype.test,/^0b[01]+$/i),A=S.call(Function.call,p.prototype.test,/^0o[0-7]+$/i),M=S.call(Function.call,p.prototype.exec),P=new p("["+["\x85","\u200b","\ufffe"].join("")+"]","g"),I=S.call(Function.call,p.prototype.test,P),D=S.call(Function.call,p.prototype.test,/^[-+]0x[0-9a-f]+$/i),N=S.call(Function.call,c.prototype.charCodeAt),R=S.call(Function.call,Object.prototype.toString),L=S.call(Function.call,a("%NumberPrototype%").valueOf),j=S.call(Function.call,a("%BooleanPrototype%").valueOf),F=S.call(Function.call,a("%StringPrototype%").valueOf),B=S.call(Function.call,a("%DatePrototype%").valueOf),z=Math.floor,H=Math.abs,U=Object.create,V=f.getOwnPropertyDescriptor,G=f.isExtensible,W=f.defineProperty,q=["\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003","\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028","\u2029\ufeff"].join(""),Y=new RegExp("(^["+q+"]+)|(["+q+"]+$)","g"),X=S.call(Function.call,c.prototype.replace),$=n(475),K=n(476),Z=_(_({},$),{Call:function(e,t){var n=arguments.length>2?arguments[2]:[];if(!this.IsCallable(e))throw new s(e+" is not a function");return e.apply(t,n)},ToPrimitive:i,ToNumber:function(e){var t=E(e)?e:i(e,d);if("symbol"===typeof t)throw new s("Cannot convert a Symbol value to a number");if("string"===typeof t){if(C(t))return this.ToNumber(T(O(t,2),2));if(A(t))return this.ToNumber(T(O(t,2),8));if(I(t)||D(t))return NaN;var n=function(e){return X(e,Y,"")}(t);if(n!==t)return this.ToNumber(n)}return d(t)},ToInt16:function(e){var t=this.ToUint16(e);return t>=32768?t-65536:t},ToInt8:function(e){var t=this.ToUint8(e);return t>=128?t-256:t},ToUint8:function(e){var t=this.ToNumber(e);if(g(t)||0===t||!y(t))return 0;var n=x(t)*z(H(t));return w(n,256)},ToUint8Clamp:function(e){var t=this.ToNumber(e);if(g(t)||t<=0)return 0;if(t>=255)return 255;var n=z(e);return n+.5<t?n+1:t<n+.5?n:n%2!==0?n+1:n},ToString:function(e){if("symbol"===typeof e)throw new s("Cannot convert a Symbol value to a string");return c(e)},ToObject:function(e){return this.RequireObjectCoercible(e),f(e)},ToPropertyKey:function(e){var t=this.ToPrimitive(e,c);return"symbol"===typeof t?t:this.ToString(t)},ToLength:function(e){var t=this.ToInteger(e);return t<=0?0:t>b?b:t},CanonicalNumericIndexString:function(e){if("[object String]"!==R(e))throw new s("must be a string");if("-0"===e)return-0;var t=this.ToNumber(e);return this.SameValue(this.ToString(t),e)?t:void 0},RequireObjectCoercible:$.CheckObjectCoercible,IsArray:u.isArray||function(e){return"[object Array]"===R(e)},IsConstructor:function(e){return"function"===typeof e&&!!e.prototype},IsExtensible:Object.preventExtensions?function(e){return!E(e)&&G(e)}:function(e){return!0},IsInteger:function(e){if("number"!==typeof e||g(e)||!y(e))return!1;var t=H(e);return z(t)===t},IsPropertyKey:function(e){return"string"===typeof e||"symbol"===typeof e},IsRegExp:function(e){if(!e||"object"!==typeof e)return!1;if(m){var t=e[h.match];if("undefined"!==typeof t)return $.ToBoolean(t)}return K(e)},SameValueZero:function(e,t){return e===t||g(e)&&g(t)},GetV:function(e,t){if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");return this.ToObject(e)[t]},GetMethod:function(e,t){if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");var n=this.GetV(e,t);if(null!=n){if(!this.IsCallable(n))throw new s(t+"is not a function");return n}},Get:function(e,t){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");return e[t]},Type:function(e){return"symbol"===typeof e?"Symbol":$.Type(e)},SpeciesConstructor:function(e,t){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");var n=e.constructor;if("undefined"===typeof n)return t;if("Object"!==this.Type(n))throw new s("O.constructor is not an Object");var r=m&&h.species?n[h.species]:void 0;if(null==r)return t;if(this.IsConstructor(r))return r;throw new s("no constructor found")},CompletePropertyDescriptor:function(e){return v(this,"Property Descriptor","Desc",e),this.IsGenericDescriptor(e)||this.IsDataDescriptor(e)?(r(e,"[[Value]]")||(e["[[Value]]"]=void 0),r(e,"[[Writable]]")||(e["[[Writable]]"]=!1)):(r(e,"[[Get]]")||(e["[[Get]]"]=void 0),r(e,"[[Set]]")||(e["[[Set]]"]=void 0)),r(e,"[[Enumerable]]")||(e["[[Enumerable]]"]=!1),r(e,"[[Configurable]]")||(e["[[Configurable]]"]=!1),e},Set:function(e,t,n,r){if("Object"!==this.Type(e))throw new s("O must be an Object");if(!this.IsPropertyKey(t))throw new s("P must be a Property Key");if("Boolean"!==this.Type(r))throw new s("Throw must be a Boolean");if(r)return e[t]=n,!0;try{e[t]=n}catch(i){return!1}},HasOwnProperty:function(e,t){if("Object"!==this.Type(e))throw new s("O must be an Object");if(!this.IsPropertyKey(t))throw new s("P must be a Property Key");return r(e,t)},HasProperty:function(e,t){if("Object"!==this.Type(e))throw new s("O must be an Object");if(!this.IsPropertyKey(t))throw new s("P must be a Property Key");return t in e},IsConcatSpreadable:function(e){if("Object"!==this.Type(e))return!1;if(m&&"symbol"===typeof h.isConcatSpreadable){var t=this.Get(e,Symbol.isConcatSpreadable);if("undefined"!==typeof t)return this.ToBoolean(t)}return this.IsArray(e)},Invoke:function(e,t){if(!this.IsPropertyKey(t))throw new s("P must be a Property Key");var n=k(arguments,2),r=this.GetV(e,t);return this.Call(r,e,n)},GetIterator:function(e,t){if(!m)throw new SyntaxError("ES.GetIterator depends on native iterator support.");var n=t;arguments.length<2&&(n=this.GetMethod(e,h.iterator));var r=this.Call(n,e);if("Object"!==this.Type(r))throw new s("iterator must return an object");return r},IteratorNext:function(e,t){var n=this.Invoke(e,"next",arguments.length<2?[]:[t]);if("Object"!==this.Type(n))throw new s("iterator next must return an object");return n},IteratorComplete:function(e){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(iterResult) is not Object");return this.ToBoolean(this.Get(e,"done"))},IteratorValue:function(e){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(iterResult) is not Object");return this.Get(e,"value")},IteratorStep:function(e){var t=this.IteratorNext(e);return!0!==this.IteratorComplete(t)&&t},IteratorClose:function(e,t){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(iterator) is not Object");if(!this.IsCallable(t))throw new s("Assertion failed: completion is not a thunk for a Completion Record");var n,r=t,i=this.GetMethod(e,"return");if("undefined"===typeof i)return r();try{var o=this.Call(i,e,[])}catch(a){throw n=r(),r=null,a}if(n=r(),r=null,"Object"!==this.Type(o))throw new s("iterator .return must return an object");return n},CreateIterResultObject:function(e,t){if("Boolean"!==this.Type(t))throw new s("Assertion failed: Type(done) is not Boolean");return{value:e,done:t}},RegExpExec:function(e,t){if("Object"!==this.Type(e))throw new s("R must be an Object");if("String"!==this.Type(t))throw new s("S must be a String");var n=this.Get(e,"exec");if(this.IsCallable(n)){var r=this.Call(n,e,[t]);if(null===r||"Object"===this.Type(r))return r;throw new s('"exec" method must return `null` or an Object')}return M(e,t)},ArraySpeciesCreate:function(e,t){if(!this.IsInteger(t)||t<0)throw new s("Assertion failed: length must be an integer >= 0");var n,r=0===t?0:t;if(this.IsArray(e)&&(n=this.Get(e,"constructor"),"Object"===this.Type(n)&&m&&h.species&&null===(n=this.Get(n,h.species))&&(n=void 0)),"undefined"===typeof n)return u(r);if(!this.IsConstructor(n))throw new s("C must be a constructor");return new n(r)},CreateDataProperty:function(e,t,n){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");var r=V(e,t),i=r||"function"!==typeof G||G(e);return!(!(!r||r.writable&&r.configurable)||!i)&&(W(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}),!0)},CreateDataPropertyOrThrow:function(e,t,n){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");var r=this.CreateDataProperty(e,t,n);if(!r)throw new s("unable to create data property");return r},ObjectCreate:function(e,t){if(null!==e&&"Object"!==this.Type(e))throw new s("Assertion failed: proto must be null or an object");var n=arguments.length<2?[]:t;if(n.length>0)throw new l("es-abstract does not yet support internal slots");if(null===e&&!U)throw new l("native Object.create support is required to create null objects");return U(e)},AdvanceStringIndex:function(e,t,n){if("String"!==this.Type(e))throw new s("S must be a String");if(!this.IsInteger(t)||t<0||t>b)throw new s("Assertion failed: length must be an integer >= 0 and <= 2**53");if("Boolean"!==this.Type(n))throw new s("Assertion failed: unicode must be a Boolean");if(!n)return t+1;if(t+1>=e.length)return t+1;var r=N(e,t);if(r<55296||r>56319)return t+1;var i=N(e,t+1);return i<56320||i>57343?t+1:t+2},CreateMethodProperty:function(e,t,n){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");return!!W(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0})},DefinePropertyOrThrow:function(e,t,n){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");return!!W(e,t,n)},DeletePropertyOrThrow:function(e,t){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new s("Assertion failed: IsPropertyKey(P) is not true");var n=delete e[t];if(!n)throw new TypeError("Attempt to delete property failed.");return n},EnumerableOwnNames:function(e){if("Object"!==this.Type(e))throw new s("Assertion failed: Type(O) is not Object");return o(e)},thisNumberValue:function(e){return"Number"===this.Type(e)?e:L(e)},thisBooleanValue:function(e){return"Boolean"===this.Type(e)?e:j(e)},thisStringValue:function(e){return"String"===this.Type(e)?e:F(e)},thisTimeValue:function(e){return B(e)}});delete Z.CheckObjectCoercible,e.exports=Z},function(e,t,n){"use strict";e.exports=n(1042)},function(e,t,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator,i=n(469),o=n(151),a=n(1043),s=n(1044),l=function(e,t){if("undefined"===typeof e||null===e)throw new TypeError("Cannot call method on "+e);if("string"!==typeof t||"number"!==t&&"string"!==t)throw new TypeError('hint must be "string" or "number"');var n,r,a,s="string"===t?["toString","valueOf"]:["valueOf","toString"];for(a=0;a<s.length;++a)if(n=e[s[a]],o(n)&&(r=n.call(e),i(r)))return r;throw new TypeError("No default value")},u=function(e,t){var n=e[t];if(null!==n&&"undefined"!==typeof n){if(!o(n))throw new TypeError(n+" returned for property "+t+" of object "+e+" is not a function");return n}};e.exports=function(e){if(i(e))return e;var t,n="default";if(arguments.length>1&&(arguments[1]===String?n="string":arguments[1]===Number&&(n="number")),r&&(Symbol.toPrimitive?t=u(e,Symbol.toPrimitive):s(e)&&(t=Symbol.prototype.valueOf)),"undefined"!==typeof t){var o=t.call(e,n);if(i(o))return o;throw new TypeError("unable to convert exotic object to primitive")}return"default"===n&&(a(e)||s(e))&&(n="string"),l(e,"default"===n?"number":n)}},function(e,t,n){"use strict";var r=Date.prototype.getDay,i=Object.prototype.toString,o="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;e.exports=function(e){return"object"===typeof e&&null!==e&&(o?function(e){try{return r.call(e),!0}catch(t){return!1}}(e):"[object Date]"===i.call(e))}},function(e,t,n){"use strict";var r=Object.prototype.toString;if(n(1045)()){var i=Symbol.prototype.toString,o=/^Symbol\(.*\)$/;e.exports=function(e){if("symbol"===typeof e)return!0;if("[object Symbol]"!==r.call(e))return!1;try{return function(e){return"symbol"===typeof e.valueOf()&&o.test(i.call(e))}(e)}catch(t){return!1}}}else e.exports=function(e){return!1}},function(e,t,n){"use strict";(function(t){var r=t.Symbol,i=n(429);e.exports=function(){return"function"===typeof r&&"function"===typeof Symbol&&"symbol"===typeof r("foo")&&"symbol"===typeof Symbol("bar")&&i()}}).call(this,n(26))},function(e,t){e.exports=function(e){return null===e||"function"!==typeof e&&"object"!==typeof e}},function(e,t,n){"use strict";var r=Object.prototype.toString,i=n(469),o=n(151),a=function(e){var t;if((t=arguments.length>1?arguments[1]:"[object Date]"===r.call(e)?String:Number)===String||t===Number){var n,a,s=t===String?["toString","valueOf"]:["valueOf","toString"];for(a=0;a<s.length;++a)if(o(e[s[a]])&&(n=e[s[a]](),i(n)))return n;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")};e.exports=function(e){return i(e)?e:arguments.length>1?a(e,arguments[1]):a(e)}},function(e,t,n){"use strict";e.exports=function(e,t){for(var n=0;n<e.length;n+=1)t(e[n],n,e)}},function(e,t,n){"use strict";var r=n(52),i=n(477);e.exports=function(){var e=i();return r(Array.prototype,{flat:e},{flat:function(){return Array.prototype.flat!==e}}),e}},function(e,t,n){"use strict";var r=n(482),i=n(52);e.exports=function(){var e=r();return i(Object,{entries:e},{entries:function(){return Object.entries!==e}}),e}},function(e,t,n){"use strict";var r=n(52).supportsDescriptors,i=n(484),o=n(485),a=Object.defineProperty,s=TypeError;e.exports=function(){var e=o();if(i)return e;if(!r)throw new s("Shimming Function.prototype.name support requires ES5 property descriptor support.");var t=Function.prototype;return a(t,"name",{configurable:!0,enumerable:!1,get:function(){var n=e.call(this);return this!==t&&a(this,"name",{configurable:!0,enumerable:!1,value:n,writable:!1}),n}}),e}},function(e,t,n){"use strict";var r=n(53),i=n(52),o=n(486),a=n(487),s=n(1053),l=r.call(Function.call,a());i(l,{getPolyfill:a,implementation:o,shim:s}),e.exports=l},function(e,t,n){"use strict";var r=n(52),i=n(487);e.exports=function(){var e=i();return r(String.prototype,{trim:e},{trim:function(){return String.prototype.trim!==e}}),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return"object"===typeof e&&null!==e&&"object"===typeof t&&null!==t&&Object.keys(t).every((function(n){if(!e.propertyIsEnumerable(n))return!1;var i=t[n],o=e[n];return!!("object"===typeof i&&null!==i?r(o,i):o===i)}))}));t.default=r,e.exports=t.default},function(e,t,n){(function(t){var n,r=/[&<>"'`]/g,i=RegExp(r.source),o="object"==typeof t&&t&&t.Object===Object&&t,a="object"==typeof self&&self&&self.Object===Object&&self,s=o||a||Function("return this")(),l=(n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},function(e){return null==n?void 0:n[e]}),u=Object.prototype.toString,c=s.Symbol,f=c?c.prototype:void 0,d=f?f.toString:void 0;function h(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==u.call(e)}(e))return d?d.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}e.exports=function(e){return(e=function(e){return null==e?"":h(e)}(e))&&i.test(e)?e.replace(r,l):e}}).call(this,n(26))},function(e,t,n){"use strict";var r=String.prototype.valueOf,i=Object.prototype.toString,o="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;e.exports=function(e){return"string"===typeof e||"object"===typeof e&&(o?function(e){try{return r.call(e),!0}catch(t){return!1}}(e):"[object String]"===i.call(e))}},function(e,t,n){"use strict";var r=Number.prototype.toString,i=Object.prototype.toString,o="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;e.exports=function(e){return"number"===typeof e||"object"===typeof e&&(o?function(e){try{return r.call(e),!0}catch(t){return!1}}(e):"[object Number]"===i.call(e))}},function(e,t,n){"use strict";var r=Boolean.prototype.toString,i=Object.prototype.toString,o="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;e.exports=function(e){return"boolean"===typeof e||"object"===typeof e&&(o?function(e){try{return r.call(e),!0}catch(t){return!1}}(e):"[object Boolean]"===i.call(e))}},function(e,t,n){var r="function"===typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=r&&i&&"function"===typeof i.get?i.get:null,a=r&&Map.prototype.forEach,s="function"===typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=s&&l&&"function"===typeof l.get?l.get:null,c=s&&Set.prototype.forEach,f=Boolean.prototype.valueOf,d=Object.prototype.toString,h="function"===typeof BigInt?BigInt.prototype.valueOf:null,p=n(1060).custom,m=p&&b(p)?p:null;function v(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function g(e){return String(e).replace(/"/g,"&quot;")}function y(e){return"[object Array]"===w(e)}function b(e){return"[object Symbol]"===w(e)}e.exports=function e(t,n,r,i){if(n||(n={}),x(n,"quoteStyle")&&"single"!==n.quoteStyle&&"double"!==n.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if("undefined"===typeof t)return"undefined";if(null===t)return"null";if("boolean"===typeof t)return t?"true":"false";if("string"===typeof t)return function(e,t){return v(e.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,E),"single",t)}(t,n);if("number"===typeof t)return 0===t?1/0/t>0?"0":"-0":String(t);if("bigint"===typeof t)return String(t)+"n";var s,l="undefined"===typeof n.depth?5:n.depth;if("undefined"===typeof r&&(r=0),r>=l&&l>0&&"object"===typeof t)return"[Object]";if("undefined"===typeof i)i=[];else if(function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}(i,t)>=0)return"[Circular]";function d(t,o){return o&&(i=i.slice()).push(o),e(t,n,r+1,i)}if("function"===typeof t){var p=function(e){if(e.name)return e.name;var t=String(e).match(/^function\s*([\w$]+)/);return t?t[1]:void 0}(t);return"[Function"+(p?": "+p:"")+"]"}if(b(t)){var _=Symbol.prototype.toString.call(t);return"object"===typeof t?T(_):_}if((s=t)&&"object"===typeof s&&("undefined"!==typeof HTMLElement&&s instanceof HTMLElement||"string"===typeof s.nodeName&&"function"===typeof s.getAttribute)){for(var O="<"+String(t.nodeName).toLowerCase(),C=t.attributes||[],A=0;A<C.length;A++)O+=" "+C[A].name+"="+v(g(C[A].value),"double",n);return O+=">",t.childNodes&&t.childNodes.length&&(O+="..."),O+="</"+String(t.nodeName).toLowerCase()+">"}if(y(t))return 0===t.length?"[]":"[ "+k(t,d).join(", ")+" ]";if(function(e){return"[object Error]"===w(e)}(t))return 0===(M=k(t,d)).length?"["+String(t)+"]":"{ ["+String(t)+"] "+M.join(", ")+" }";if("object"===typeof t){if(m&&"function"===typeof t[m])return t[m]();if("function"===typeof t.inspect)return t.inspect()}if(function(e){if(!o)return!1;try{o.call(e);try{u.call(e)}catch(O){return!0}return e instanceof Map}catch(t){}return!1}(t)){var M=[];return a.call(t,(function(e,n){M.push(d(n,t)+" => "+d(e,t))})),S("Map",o.call(t),M)}if(function(e){if(!u)return!1;try{u.call(e);try{o.call(e)}catch(t){return!0}return e instanceof Set}catch(n){}return!1}(t))return M=[],c.call(t,(function(e){M.push(d(e,t))})),S("Set",u.call(t),M);if(function(e){return"[object Number]"===w(e)}(t))return T(d(Number(t)));if(function(e){return"[object BigInt]"===w(e)}(t))return T(d(h.call(t)));if(function(e){return"[object Boolean]"===w(e)}(t))return T(f.call(t));if(function(e){return"[object String]"===w(e)}(t))return T(d(String(t)));if(!function(e){return"[object Date]"===w(e)}(t)&&!function(e){return"[object RegExp]"===w(e)}(t)){var P=k(t,d);return 0===P.length?"{}":"{ "+P.join(", ")+" }"}return String(t)};var _=Object.prototype.hasOwnProperty||function(e){return e in this};function x(e,t){return _.call(e,t)}function w(e){return d.call(e)}function E(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+t.toString(16)}function T(e){return"Object("+e+")"}function S(e,t,n){return e+" ("+t+") {"+n.join(", ")+"}"}function k(e,t){var n=y(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=x(e,i)?t(e[i],e):""}for(var o in e)x(e,o)&&(n&&String(Number(o))===o&&o<e.length||(/[^\w$]/.test(o)?r.push(t(o,e)+": "+t(e[o],e)):r.push(o+": "+t(e[o],e))));return r}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createParser=t.createGenerator=void 0;var r=o(n(1062)),i=o(n(1063));function o(e){return e&&e.__esModule?e:{default:e}}t.createGenerator=r.default,t.createParser=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return JSON.stringify(e)},i=function(e){var t=e.body,n=[],i=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value,c=void 0;if("universalSelector"===u.type)c="*";else if("typeSelector"===u.type)c=u.name;else if("idSelector"===u.type)c="#"+u.name;else if("classSelector"===u.type)c="."+u.name;else if("attributePresenceSelector"===u.type)c="["+u.name+"]";else if("attributeValueSelector"===u.type)c="["+u.name+u.operator+r(u.value)+"]";else if("pseudoClassSelector"===u.type)c=":"+u.name,u.parameters.length&&(c+="("+u.parameters.map(r).join(", ")+")");else{if("pseudoElementSelector"!==u.type)throw new Error("Unknown token.");c="::"+u.name}n.push(c)}}catch(f){o=!0,a=f}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}return n.join("")};t.default=function(){return{generate:function(e){var t=[],n=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;if("selector"===l.type)t.push(i(l));else if("descendantCombinator"===l.type)t.push(" ");else if("childCombinator"===l.type)t.push(" > ");else if("adjacentSiblingCombinator"===l.type)t.push(" + ");else{if("generalSiblingCombinator"!==l.type)throw new Error("Unknown token.");t.push(" ~ ")}}}catch(u){r=!0,o=u}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}return t.join("")}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(1064),o=n(1065),a=(r=o)&&r.__esModule?r:{default:r};t.default=function(){return{parse:function(e){var t=new i.Parser(a.default.ParserRules,a.default.ParserStart).feed(e).results;if(0===t.length)throw new Error("Found no parsings.");if(t.length>1)throw new Error("Ambiguous results.");return t[0]}}}},function(e,t,n){var r,i;r=this,i=function(){function e(t,n,r){return this.id=++e.highestId,this.name=t,this.symbols=n,this.postprocess=r,this}function t(e,t,n,r){this.rule=e,this.dot=t,this.reference=n,this.data=[],this.wantedBy=r,this.isComplete=this.dot===e.symbols.length}function n(e,t){this.grammar=e,this.index=t,this.states=[],this.wants={},this.scannable=[],this.completed={}}function r(e,t){this.rules=e,this.start=t||this.rules[0].name;var n=this.byName={};this.rules.forEach((function(e){n.hasOwnProperty(e.name)||(n[e.name]=[]),n[e.name].push(e)}))}function i(){this.reset("")}function o(e,t,o){if(e instanceof r){var a=e;o=t}else a=r.fromCompiled(e,t);for(var s in this.grammar=a,this.options={keepHistory:!1,lexer:a.lexer||new i},o||{})this.options[s]=o[s];this.lexer=this.options.lexer,this.lexerState=void 0;var l=new n(a,0);this.table=[l],l.wants[a.start]=[],l.predict(a.start),l.process(),this.current=0}return e.highestId=0,e.prototype.toString=function(e){function t(e){return e.literal?JSON.stringify(e.literal):e.type?"%"+e.type:e.toString()}var n="undefined"===typeof e?this.symbols.map(t).join(" "):this.symbols.slice(0,e).map(t).join(" ")+" \u25cf "+this.symbols.slice(e).map(t).join(" ");return this.name+" \u2192 "+n},t.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},t.prototype.nextState=function(e){var n=new t(this.rule,this.dot+1,this.reference,this.wantedBy);return n.left=this,n.right=e,n.isComplete&&(n.data=n.build()),n},t.prototype.build=function(){var e=[],t=this;do{e.push(t.right.data),t=t.left}while(t.left);return e.reverse(),e},t.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,o.fail))},n.prototype.process=function(e){for(var t=this.states,n=this.wants,r=this.completed,i=0;i<t.length;i++){var a=t[i];if(a.isComplete){if(a.finish(),a.data!==o.fail){for(var s=a.wantedBy,l=s.length;l--;){var u=s[l];this.complete(u,a)}if(a.reference===this.index){var c=a.rule.name;(this.completed[c]=this.completed[c]||[]).push(a)}}}else{if("string"!==typeof(c=a.rule.symbols[a.dot])){this.scannable.push(a);continue}if(n[c]){if(n[c].push(a),r.hasOwnProperty(c)){var f=r[c];for(l=0;l<f.length;l++){var d=f[l];this.complete(a,d)}}}else n[c]=[a],this.predict(c)}}},n.prototype.predict=function(e){for(var n=this.grammar.byName[e]||[],r=0;r<n.length;r++){var i=n[r],o=this.wants[e],a=new t(i,0,this.index,o);this.states.push(a)}},n.prototype.complete=function(e,t){var n=e.nextState(t);this.states.push(n)},r.fromCompiled=function(t,n){var i=t.Lexer;t.ParserStart&&(n=t.ParserStart,t=t.ParserRules);var o=new r(t=t.map((function(t){return new e(t.name,t.symbols,t.postprocess)})),n);return o.lexer=i,o},i.prototype.reset=function(e,t){this.buffer=e,this.index=0,this.line=t?t.line:1,this.lastLineBreak=t?-t.col:0},i.prototype.next=function(){if(this.index<this.buffer.length){var e=this.buffer[this.index++];return"\n"===e&&(this.line+=1,this.lastLineBreak=this.index),{value:e}}},i.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},i.prototype.formatError=function(e,t){var n=this.buffer;if("string"===typeof n){var r=n.indexOf("\n",this.index);-1===r&&(r=n.length);var i=n.substring(this.lastLineBreak,r),o=this.index-this.lastLineBreak;return t+=" at line "+this.line+" col "+o+":\n\n",t+="  "+i+"\n",t+="  "+Array(o).join(" ")+"^"}return t+" at index "+(this.index-1)},o.fail={},o.prototype.feed=function(e){var t,r=this.lexer;for(r.reset(e,this.lexerState);t=r.next();){var o=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var a=this.current+1,s=new n(this.grammar,a);this.table.push(s);for(var l=void 0!==t.text?t.text:t.value,u=r.constructor===i?t.value:t,c=o.scannable,f=c.length;f--;){var d=c[f],h=d.rule.symbols[d.dot];if(h.test?h.test(u):h.type?h.type===t.type:h.literal===l){var p=d.nextState({data:u,token:t,isToken:!0,reference:a-1});s.states.push(p)}}if(s.process(),0===s.states.length){var m=this.lexer.formatError(t,"invalid syntax")+"\n";m+="Unexpected "+(t.type?t.type+" token: ":""),m+=JSON.stringify(void 0!==t.value?t.value:t)+"\n";var v=new Error(m);throw v.offset=this.current,v.token=t,v}this.options.keepHistory&&(o.lexerState=r.save()),this.current++}return o&&(this.lexerState=r.save()),this.results=this.finish(),this},o.prototype.save=function(){var e=this.table[this.current];return e.lexerState=this.lexerState,e},o.prototype.restore=function(e){var t=e.index;this.current=t,this.table[t]=e,this.table.splice(t+1),this.lexerState=e.lexerState,this.results=this.finish()},o.prototype.rewind=function(e){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[e])},o.prototype.finish=function(){var e=[],t=this.grammar.start;return this.table[this.table.length-1].states.forEach((function(n){n.rule.name===t&&n.dot===n.rule.symbols.length&&0===n.reference&&n.data!==o.fail&&e.push(n)})),e.map((function(e){return e.data}))},{Parser:o,Grammar:r,Rule:e}},e.exports?e.exports=i():r.nearley=i()},function(e,t,n){"use strict";!function(){function t(e){return e[0]}var r,i,o=n(1066),a=function(e){return e=e.filter((function(e){return null!==e})),o(e)},s={" ":"descendantCombinator","+":"adjacentSiblingCombinator",">":"childCombinator","~":"generalSiblingCombinator"},l=function(e,t,n){var r=o(e).join(""),i=parseFloat(r);return isNaN(i)?n:i},u=function(e,t,n){return"true"===e[0]||"false"!==e[0]&&n},c=function(e,t,n){return"NaN"===e[0]?NaN:"undefined"!==e[0]?"null"===e[0]?null:n:void 0},f={Lexer:void 0,ParserRules:[{name:"combinator",symbols:["selector"]},{name:"combinator",symbols:["combinator","_",/[>+~ ]/,"_","selector"],postprocess:function(e){return(Array.isArray(e[0])?e[0]:[e[0]]).concat({type:s[e[2]]}).concat(e[4])}},{name:"selector",symbols:["selectorBody"],postprocess:function(e){return{type:"selector",body:e[0]}}},{name:"selectorBody$ebnf$1",symbols:["typeSelector"],postprocess:t},{name:"selectorBody$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"selectorBody$ebnf$2",symbols:[]},{name:"selectorBody$ebnf$2",symbols:["selectorBody$ebnf$2","simpleSelector"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"selectorBody",symbols:["selectorBody$ebnf$1","selectorBody$ebnf$2"],postprocess:function(e,t,n){var r=a(e);return r.length?r:n}},{name:"selectorBody$ebnf$3",symbols:[]},{name:"selectorBody$ebnf$3",symbols:["selectorBody$ebnf$3","simpleSelector"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"selectorBody",symbols:["universalSelector","selectorBody$ebnf$3"],postprocess:a},{name:"simpleSelector",symbols:["idSelector"]},{name:"simpleSelector",symbols:["classSelector"]},{name:"simpleSelector",symbols:["attributeValueSelector"]},{name:"simpleSelector",symbols:["attributePresenceSelector"]},{name:"simpleSelector",symbols:["pseudoClassSelector"]},{name:"simpleSelector",symbols:["pseudoElementSelector"]},{name:"typeSelector",symbols:["attributeName"],postprocess:function(e){return{type:"typeSelector",name:e[0]}}},{name:"className$ebnf$1",symbols:[{literal:"-"}],postprocess:t},{name:"className$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"className$ebnf$2",symbols:[]},{name:"className$ebnf$2",symbols:["className$ebnf$2",/[_a-zA-Z0-9-]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"className",symbols:["className$ebnf$1",/[_a-zA-Z]/,"className$ebnf$2"],postprocess:function(e){return(e[0]||"")+e[1]+e[2].join("")}},{name:"attributeName$ebnf$1",symbols:[]},{name:"attributeName$ebnf$1",symbols:["attributeName$ebnf$1",/[_a-zA-Z()0-9-]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"attributeName",symbols:[/[_a-z()A-Z]/,"attributeName$ebnf$1"],postprocess:function(e){return e[0]+e[1].join("")}},{name:"classSelector",symbols:[{literal:"."},"className"],postprocess:function(e){return{type:"classSelector",name:e[1]}}},{name:"idSelector",symbols:[{literal:"#"},"attributeName"],postprocess:function(e){return{type:"idSelector",name:e[1]}}},{name:"universalSelector",symbols:[{literal:"*"}],postprocess:function(e){return{type:"universalSelector"}}},{name:"attributePresenceSelector",symbols:[{literal:"["},"attributeName",{literal:"]"}],postprocess:function(e){return{type:"attributePresenceSelector",name:e[1]}}},{name:"attributeOperator",symbols:[{literal:"="}]},{name:"attributeOperator$string$1",symbols:[{literal:"~"},{literal:"="}],postprocess:function(e){return e.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$1"]},{name:"attributeOperator$string$2",symbols:[{literal:"|"},{literal:"="}],postprocess:function(e){return e.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$2"]},{name:"attributeOperator$string$3",symbols:[{literal:"^"},{literal:"="}],postprocess:function(e){return e.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$3"]},{name:"attributeOperator$string$4",symbols:[{literal:"$"},{literal:"="}],postprocess:function(e){return e.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$4"]},{name:"attributeOperator$string$5",symbols:[{literal:"*"},{literal:"="}],postprocess:function(e){return e.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$5"]},{name:"attributeValueSelector",symbols:[{literal:"["},"attributeName","attributeOperator","attributeValue",{literal:"]"}],postprocess:function(e){return{type:"attributeValueSelector",name:e[1],value:e[3],operator:e[2][0]}}},{name:"attributeValue",symbols:["falsyPrimitiveStrings"],postprocess:t},{name:"attributeValue",symbols:["numericValue"],postprocess:t},{name:"attributeValue",symbols:["sqstring"],postprocess:t},{name:"attributeValue",symbols:["dqstring"],postprocess:t},{name:"falsyPrimitiveStrings$string$1",symbols:[{literal:"f"},{literal:"a"},{literal:"l"},{literal:"s"},{literal:"e"}],postprocess:function(e){return e.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$1"],postprocess:u},{name:"falsyPrimitiveStrings$string$2",symbols:[{literal:"t"},{literal:"r"},{literal:"u"},{literal:"e"}],postprocess:function(e){return e.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$2"],postprocess:u},{name:"falsyPrimitiveStrings$string$3",symbols:[{literal:"N"},{literal:"a"},{literal:"N"}],postprocess:function(e){return e.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$3"],postprocess:c},{name:"falsyPrimitiveStrings$string$4",symbols:[{literal:"n"},{literal:"u"},{literal:"l"},{literal:"l"}],postprocess:function(e){return e.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$4"],postprocess:c},{name:"falsyPrimitiveStrings$string$5",symbols:[{literal:"u"},{literal:"n"},{literal:"d"},{literal:"e"},{literal:"f"},{literal:"i"},{literal:"n"},{literal:"e"},{literal:"d"}],postprocess:function(e){return e.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$5"],postprocess:c},{name:"numericValue",symbols:["int",{literal:"."},"int"],postprocess:l},{name:"numericValue",symbols:[{literal:"+"},"int",{literal:"."},"int"],postprocess:l},{name:"numericValue",symbols:[{literal:"-"},"int",{literal:"."},"int"],postprocess:l},{name:"numericValue",symbols:[{literal:"-"},"int"],postprocess:l},{name:"numericValue",symbols:["int"],postprocess:l},{name:"numericValue",symbols:[{literal:"+"},"int"],postprocess:l},{name:"numericValue$string$1",symbols:[{literal:"I"},{literal:"n"},{literal:"f"},{literal:"i"},{literal:"n"},{literal:"i"},{literal:"t"},{literal:"y"}],postprocess:function(e){return e.join("")}},{name:"numericValue",symbols:["numericValue$string$1"],postprocess:l},{name:"numericValue$string$2",symbols:[{literal:"+"},{literal:"I"},{literal:"n"},{literal:"f"},{literal:"i"},{literal:"n"},{literal:"i"},{literal:"t"},{literal:"y"}],postprocess:function(e){return e.join("")}},{name:"numericValue",symbols:["numericValue$string$2"],postprocess:l},{name:"numericValue$string$3",symbols:[{literal:"-"},{literal:"I"},{literal:"n"},{literal:"f"},{literal:"i"},{literal:"n"},{literal:"i"},{literal:"t"},{literal:"y"}],postprocess:function(e){return e.join("")}},{name:"numericValue",symbols:["numericValue$string$3"],postprocess:l},{name:"int$ebnf$1",symbols:[/[0-9]/]},{name:"int$ebnf$1",symbols:["int$ebnf$1",/[0-9]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"int",symbols:["int$ebnf$1"]},{name:"classParameters",symbols:[]},{name:"classParameters",symbols:["classParameter"]},{name:"classParameters",symbols:["classParameters",{literal:","},"_","classParameter"],postprocess:(r=0,i=3,function(e){return e[r].concat([e[i]])})},{name:"classParameter$ebnf$1",symbols:[/[^()"', ]/]},{name:"classParameter$ebnf$1",symbols:["classParameter$ebnf$1",/[^()"', ]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"classParameter",symbols:["classParameter$ebnf$1"],postprocess:function(e){return e[0].join("")}},{name:"classParameter",symbols:["sqstring"],postprocess:t},{name:"classParameter",symbols:["dqstring"],postprocess:t},{name:"pseudoElementSelector$string$1",symbols:[{literal:":"},{literal:":"}],postprocess:function(e){return e.join("")}},{name:"pseudoElementSelector",symbols:["pseudoElementSelector$string$1","pseudoClassSelectorName"],postprocess:function(e){return{type:"pseudoElementSelector",name:e[1]}}},{name:"pseudoClassSelector",symbols:[{literal:":"},"pseudoClassSelectorName"],postprocess:function(e){return{type:"pseudoClassSelector",name:e[1]}}},{name:"pseudoClassSelector",symbols:[{literal:":"},"pseudoClassSelectorName",{literal:"("},"classParameters",{literal:")"}],postprocess:function(e){return{type:"pseudoClassSelector",name:e[1],parameters:e[3]}}},{name:"pseudoClassSelectorName$ebnf$1",symbols:[/[a-zA-Z0-9-_]/]},{name:"pseudoClassSelectorName$ebnf$1",symbols:["pseudoClassSelectorName$ebnf$1",/[a-zA-Z0-9-_]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"pseudoClassSelectorName",symbols:[/[a-zA-Z]/,"pseudoClassSelectorName$ebnf$1"],postprocess:function(e){return e[0]+e[1].join("")}},{name:"dqstring$ebnf$1",symbols:[]},{name:"dqstring$ebnf$1",symbols:["dqstring$ebnf$1","dstrchar"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"dqstring",symbols:[{literal:'"'},"dqstring$ebnf$1",{literal:'"'}],postprocess:function(e){return e[1].join("")}},{name:"dstrchar",symbols:[/[^"]/],postprocess:t},{name:"dstrchar$string$1",symbols:[{literal:"\\"},{literal:'"'}],postprocess:function(e){return e.join("")}},{name:"dstrchar",symbols:["dstrchar$string$1"],postprocess:function(e){return'"'}},{name:"sqstring$ebnf$1",symbols:[]},{name:"sqstring$ebnf$1",symbols:["sqstring$ebnf$1","sstrchar"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"sqstring",symbols:[{literal:"'"},"sqstring$ebnf$1",{literal:"'"}],postprocess:function(e){return e[1].join("")}},{name:"sstrchar",symbols:[/[^']/],postprocess:t},{name:"sstrchar$string$1",symbols:[{literal:"\\"},{literal:"'"}],postprocess:function(e){return e.join("")}},{name:"sstrchar",symbols:["sstrchar$string$1"],postprocess:function(e){return"'"}},{name:"_$ebnf$1",symbols:[]},{name:"_$ebnf$1",symbols:["_$ebnf$1",/[ ]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"_",symbols:["_$ebnf$1"],postprocess:function(e){return null}}],ParserStart:"combinator"};"undefined"!==typeof e.exports?e.exports=f:window.grammar=f}()},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t,r="object"==typeof self&&self&&self.Object===Object&&self,i=n||r||Function("return this")();function o(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var a=Object.prototype,s=a.hasOwnProperty,l=a.toString,u=i.Symbol,c=a.propertyIsEnumerable,f=u?u.isConcatSpreadable:void 0;function d(e){return h(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?l.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)}(e)}(e)&&s.call(e,"callee")&&(!c.call(e,"callee")||"[object Arguments]"==l.call(e))}(e)||!!(f&&e&&e[f])}var h=Array.isArray;e.exports=function(e){return e&&e.length?function e(t,n,r,i,a){var s=-1,l=t.length;for(r||(r=d),a||(a=[]);++s<l;){var u=t[s];n>0&&r(u)?n>1?e(u,n-1,r,i,a):o(a,u):i||(a[a.length]=u)}return a}(e,1/0):[]}}).call(this,n(26))},function(e,t,n){"use strict";var r=n(52),i=n(492),o=n(493),a=n(1068),s=o();r(s,{getPolyfill:o,implementation:i,shim:a}),e.exports=s},function(e,t,n){"use strict";var r=n(493),i=n(52);e.exports=function(){var e=r();return i(Object,{values:e},{values:function(){return Object.values!==e}}),e}},function(e,t,n){"use strict";var r=n(1070),i=n(1071);e.exports=function(e){if(!e)return[];var t=i();return e===t.unknown?[]:e===t.all?t.elements:r(t.elements,(function(t){return t.constructor===e}))}},function(e,t){e.exports=function(e,t,r){if(e.filter)return e.filter(t,r);if(void 0===e||null===e)throw new TypeError;if("function"!=typeof t)throw new TypeError;for(var i=[],o=0;o<e.length;o++)if(n.call(e,o)){var a=e[o];t.call(r,a,o,e)&&i.push(a)}return i};var n=Object.prototype.hasOwnProperty},function(e,t,n){"use strict";(function(t){var n=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r],r));return n},r=[["HTMLElement","article"],["HTMLElement","section"],["HTMLBaseFontElement","basefont"],["HTMLPhraseElement","cite"],["HTMLElement","noscript"],["HTMLBGSoundElement","bgsound"],["HTMLPhraseElement","blink"],["HTMLElement","multicol"],["HTMLNextIdElement","nextid"],["HTMLElement","rb"],["HTMLElement","spacer"],["HTMLAnchorElement","a"],["HTMLAreaElement","area"],["HTMLAudioElement","audio"],["HTMLBaseElement","base"],["HTMLBodyElement","body"],["HTMLBRElement","br"],["HTMLButtonElement","button"],["HTMLCanvasElement","canvas"],["HTMLContentElement","content"],["HTMLDataElement","data"],["HTMLDataListElement","datalist"],["HTMLDialogElement","dialog"],["HTMLDirectoryElement","dir"],["HTMLDivElement","div"],["HTMLDListElement","dl"],["HTMLEmbedElement","embed"],["HTMLFieldSetElement","fieldset"],["HTMLFontElement","font"],["HTMLFormElement","form"],["HTMLFrameElement","frame"],["HTMLFrameSetElement","frameset"],["HTMLHeadElement","head"],["HTMLHeadingElement","h1"],["HTMLHeadingElement","h2"],["HTMLHeadingElement","h3"],["HTMLHeadingElement","h4"],["HTMLHeadingElement","h5"],["HTMLHeadingElement","h6"],["HTMLHtmlElement","html"],["HTMLHRElement","hr"],["HTMLIFrameElement","iframe"],["HTMLImageElement","img"],["HTMLInputElement","input"],["HTMLIsIndexElement","index"],["HTMLKeygenElement","keygen","HTMLBlockElement"],["HTMLLabelElement","label"],["HTMLLegendElement","legend"],["HTMLLIElement","li"],["HTMLLinkElement","link"],["HTMLMapElement","map"],["HTMLMarqueeElement","marquee"],["HTMLMenuElement","menu"],["HTMLMetaElement","meta"],["HTMLMeterElement","meter"],["HTMLModElement","del"],["HTMLModElement","ins"],["HTMLObjectElement","object"],["HTMLOListElement","ol"],["HTMLOptGroupElement","optgroup"],["HTMLOptionElement","option"],["HTMLOutputElement","output"],["HTMLParagraphElement","p"],["HTMLParamElement","param"],["HTMLPictureElement","picture"],["HTMLPreElement","pre"],["HTMLProgressElement","progress"],["HTMLQuoteElement","q"],["HTMLQuoteElement","blockquote","HTMLBlockElement"],["HTMLScriptElement","script"],["HTMLPictureElement","picture"],["HTMLSelectElement","select"],["HTMLShadowElement","shadow"],["HTMLSourceElement","source"],["HTMLSpanElement","span"],["HTMLStyleElement","style"],["HTMLTableElement","table"],["HTMLTableCaptionElement","caption"],["HTMLTableCellElement","td","HTMLTableDataCellElement"],["HTMLTableCellElement","th","HTMLTableHeaderCellElement"],["HTMLTableRowElement","tr"],["HTMLTableColElement","col"],["HTMLTableColElement","colgroup"],["HTMLTableSectionElement","tbody"],["HTMLTableSectionElement","thead"],["HTMLTableSectionElement","tfoot"],["HTMLTemplateElement","template"],["HTMLTextAreaElement","textarea"],["HTMLTimeElement","time"],["HTMLTitleElement","title"],["HTMLTrackElement","track"],["HTMLUListElement","ul"],["HTMLVideoElement","video"]],i=function(e,t,n){if("undefined"!==typeof document&&"function"===typeof document.createElement){var r=document.createElement(e).constructor;if(r!==n)return r}};e.exports=function(){var e=t.HTMLUnknownElement;return{all:t.HTMLElement,elements:n(r,(function(n){var r=n[0],o=n[1],a=n[2],s=t[r],l=a&&t[a];return{constructor:i(o,0,e),constructorName:l?a:r,expectedConstructor:l||s,tag:o}})),unknown:e}}}).call(this,n(26))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return new o.default(e,null,t)};var r,i=n(426),o=(r=i)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return new o.default(e,null,t)};var r,i=n(494),o=(r=i)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,o.default)(t),a=n.createRenderer((0,r.default)({mode:"string"},t)),s=a.render(e,t.context);return i.default.load("")(s)};var r=a(n(118)),i=a(n(286)),o=a(n(101));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trackViewer=void 0;var r=d(n(5)),i=d(n(3)),o=d(n(4)),a=d(n(6)),s=d(n(7)),l=d(n(19)),u=d(n(2)),c=d(n(1)),f=n(307);function d(e){return e&&e.__esModule?e:{default:e}}var h=t.trackViewer=function(e,t,n){var r=(0,l.default)(t,4),i=r[0],o=r[1],a=r[2],s=r[3];n.options.colorbarPosition||(n.options.colorbarPosition="hidden"),n.options.labelPosition||(n.options.labelPosition="hidden");var u="arbitary-id",c={editable:!1,zoomFixed:!1,views:[{uid:u,initialXDomain:[i,o],initialYDomain:[a,s],tracks:{center:[n]},layout:{w:12,h:12,x:0,y:0,moved:!1,static:!1}}]};return{id:u,hgApi:(0,f.viewer)(e,c,{sizeMode:"bounded"})}},p=function(e){function t(e){(0,i.default)(this,t);var n=(0,a.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.id="id-"+String(Math.random()),n}return(0,s.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.initTrackViewer()}},{key:"shouldComponentUpdate",value:function(e){var t=e.x,n=e.y,r=e.width,i=e.height;return this.zoomTo(t,n,r,i),!1}},{key:"initTrackViewer",value:function(){var e=this.props,t=e.trackConfig,n=e.x,r=e.y,i=e.width,o=e.height,a=document.getElementById(this.id),s=h(a,[n,n+i,r,r+o],t),l=s.id,u=s.hgApi;this.viewUid=l,this.viewer=u}},{key:"zoomTo",value:function(e,t,n,r){this.viewer.zoomTo(this.viewUid,e,e+n,t,t+r)}},{key:"render",value:function(){return c.default.createElement("div",{id:this.id,style:{height:"100%",width:"100%"}})}}]),t}(c.default.Component);t.default=p,p.propTypes={trackConfig:u.default.object,width:u.default.number,height:u.default.number,x:u.default.number,y:u.default.number}},function(e,t,n){"use strict";n.r(t);var r=function(){return new i};function i(){this.reset()}i.prototype={constructor:i,reset:function(){this.s=this.t=0},add:function(e){a(o,e,this.t),a(this,o.s,this.s),this.s?this.t+=o.t:this.s=o.t},valueOf:function(){return this.s}};var o=new i;function a(e,t,n){var r=e.s=t+n,i=r-t,o=r-i;e.t=t-o+(n-i)}var s=1e-6,l=Math.PI,u=l/2,c=l/4,f=2*l,d=180/l,h=l/180,p=Math.abs,m=Math.atan,v=Math.atan2,g=Math.cos,y=Math.ceil,b=Math.exp,_=(Math.floor,Math.log),x=Math.pow,w=Math.sin,E=Math.sign||function(e){return e>0?1:e<0?-1:0},T=Math.sqrt,S=Math.tan;function k(e){return e>1?0:e<-1?l:Math.acos(e)}function O(e){return e>1?u:e<-1?-u:Math.asin(e)}function C(e){return(e=w(e/2))*e}function A(){}function M(e,t){e&&I.hasOwnProperty(e.type)&&I[e.type](e,t)}var P={Feature:function(e,t){M(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)M(n[r].geometry,t)}},I={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){D(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)D(n[r],t,0)},Polygon:function(e,t){N(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)N(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)M(n[r],t)}};function D(e,t,n){var r,i=-1,o=e.length-n;for(t.lineStart();++i<o;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function N(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)D(e[n],t,1);t.polygonEnd()}var R,L,j,F,B,z=function(e,t){e&&P.hasOwnProperty(e.type)?P[e.type](e,t):M(e,t)},H=r(),U=r(),V={point:A,lineStart:A,lineEnd:A,polygonStart:function(){H.reset(),V.lineStart=G,V.lineEnd=W},polygonEnd:function(){var e=+H;U.add(e<0?f+e:e),this.lineStart=this.lineEnd=this.point=A},sphere:function(){U.add(f)}};function G(){V.point=q}function W(){Y(R,L)}function q(e,t){V.point=Y,R=e,L=t,j=e*=h,F=g(t=(t*=h)/2+c),B=w(t)}function Y(e,t){var n=(e*=h)-j,r=n>=0?1:-1,i=r*n,o=g(t=(t*=h)/2+c),a=w(t),s=B*a,l=F*o+s*g(i),u=s*r*w(i);H.add(v(u,l)),j=e,F=o,B=a}var X=function(e){return U.reset(),z(e,V),2*U};function $(e){return[v(e[1],e[0]),O(e[2])]}function K(e){var t=e[0],n=e[1],r=g(n);return[r*g(t),r*w(t),w(n)]}function Z(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Q(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function J(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function ee(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function te(e){var t=T(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var ne,re,ie,oe,ae,se,le,ue,ce,fe,de=r(),he={point:pe,lineStart:ve,lineEnd:ge,polygonStart:function(){he.point=ye,he.lineStart=be,he.lineEnd=_e,de.reset(),V.polygonStart()},polygonEnd:function(){V.polygonEnd(),he.point=pe,he.lineStart=ve,he.lineEnd=ge,H<0?(ne=-(ie=180),re=-(oe=90)):de>s?oe=90:de<-s&&(re=-90),fe[0]=ne,fe[1]=ie}};function pe(e,t){ce.push(fe=[ne=e,ie=e]),t<re&&(re=t),t>oe&&(oe=t)}function me(e,t){var n=K([e*h,t*h]);if(ue){var r=Q(ue,n),i=Q([r[1],-r[0],0],r);te(i),i=$(i);var o,a=e-ae,s=a>0?1:-1,l=i[0]*d*s,u=p(a)>180;u^(s*ae<l&&l<s*e)?(o=i[1]*d)>oe&&(oe=o):u^(s*ae<(l=(l+360)%360-180)&&l<s*e)?(o=-i[1]*d)<re&&(re=o):(t<re&&(re=t),t>oe&&(oe=t)),u?e<ae?xe(ne,e)>xe(ne,ie)&&(ie=e):xe(e,ie)>xe(ne,ie)&&(ne=e):ie>=ne?(e<ne&&(ne=e),e>ie&&(ie=e)):e>ae?xe(ne,e)>xe(ne,ie)&&(ie=e):xe(e,ie)>xe(ne,ie)&&(ne=e)}else ce.push(fe=[ne=e,ie=e]);t<re&&(re=t),t>oe&&(oe=t),ue=n,ae=e}function ve(){he.point=me}function ge(){fe[0]=ne,fe[1]=ie,he.point=pe,ue=null}function ye(e,t){if(ue){var n=e-ae;de.add(p(n)>180?n+(n>0?360:-360):n)}else se=e,le=t;V.point(e,t),me(e,t)}function be(){V.lineStart()}function _e(){ye(se,le),V.lineEnd(),p(de)>s&&(ne=-(ie=180)),fe[0]=ne,fe[1]=ie,ue=null}function xe(e,t){return(t-=e)<0?t+360:t}function we(e,t){return e[0]-t[0]}function Ee(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var Te,Se,ke,Oe,Ce,Ae,Me,Pe,Ie,De,Ne,Re,Le,je,Fe,Be,ze=function(e){var t,n,r,i,o,a,s;if(oe=ie=-(ne=re=1/0),ce=[],z(e,he),n=ce.length){for(ce.sort(we),t=1,o=[r=ce[0]];t<n;++t)Ee(r,(i=ce[t])[0])||Ee(r,i[1])?(xe(r[0],i[1])>xe(r[0],r[1])&&(r[1]=i[1]),xe(i[0],r[1])>xe(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,t=0,r=o[n=o.length-1];t<=n;r=i,++t)i=o[t],(s=xe(r[1],i[0]))>a&&(a=s,ne=i[0],ie=r[1])}return ce=fe=null,ne===1/0||re===1/0?[[NaN,NaN],[NaN,NaN]]:[[ne,re],[ie,oe]]},He={sphere:A,point:Ue,lineStart:Ge,lineEnd:Ye,polygonStart:function(){He.lineStart=Xe,He.lineEnd=$e},polygonEnd:function(){He.lineStart=Ge,He.lineEnd=Ye}};function Ue(e,t){e*=h;var n=g(t*=h);Ve(n*g(e),n*w(e),w(t))}function Ve(e,t,n){++Te,ke+=(e-ke)/Te,Oe+=(t-Oe)/Te,Ce+=(n-Ce)/Te}function Ge(){He.point=We}function We(e,t){e*=h;var n=g(t*=h);je=n*g(e),Fe=n*w(e),Be=w(t),He.point=qe,Ve(je,Fe,Be)}function qe(e,t){e*=h;var n=g(t*=h),r=n*g(e),i=n*w(e),o=w(t),a=v(T((a=Fe*o-Be*i)*a+(a=Be*r-je*o)*a+(a=je*i-Fe*r)*a),je*r+Fe*i+Be*o);Se+=a,Ae+=a*(je+(je=r)),Me+=a*(Fe+(Fe=i)),Pe+=a*(Be+(Be=o)),Ve(je,Fe,Be)}function Ye(){He.point=Ue}function Xe(){He.point=Ke}function $e(){Ze(Re,Le),He.point=Ue}function Ke(e,t){Re=e,Le=t,e*=h,t*=h,He.point=Ze;var n=g(t);je=n*g(e),Fe=n*w(e),Be=w(t),Ve(je,Fe,Be)}function Ze(e,t){e*=h;var n=g(t*=h),r=n*g(e),i=n*w(e),o=w(t),a=Fe*o-Be*i,s=Be*r-je*o,l=je*i-Fe*r,u=T(a*a+s*s+l*l),c=O(u),f=u&&-c/u;Ie+=f*a,De+=f*s,Ne+=f*l,Se+=c,Ae+=c*(je+(je=r)),Me+=c*(Fe+(Fe=i)),Pe+=c*(Be+(Be=o)),Ve(je,Fe,Be)}var Qe=function(e){Te=Se=ke=Oe=Ce=Ae=Me=Pe=Ie=De=Ne=0,z(e,He);var t=Ie,n=De,r=Ne,i=t*t+n*n+r*r;return i<1e-12&&(t=Ae,n=Me,r=Pe,Se<s&&(t=ke,n=Oe,r=Ce),(i=t*t+n*n+r*r)<1e-12)?[NaN,NaN]:[v(n,t)*d,O(r/T(i))*d]},Je=function(e){return function(){return e}},et=function(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n};function tt(e,t){return[p(e)>l?e+Math.round(-e/f)*f:e,t]}function nt(e,t,n){return(e%=f)?t||n?et(it(e),ot(t,n)):it(e):t||n?ot(t,n):tt}function rt(e){return function(t,n){return[(t+=e)>l?t-f:t<-l?t+f:t,n]}}function it(e){var t=rt(e);return t.invert=rt(-e),t}function ot(e,t){var n=g(e),r=w(e),i=g(t),o=w(t);function a(e,t){var a=g(t),s=g(e)*a,l=w(e)*a,u=w(t),c=u*n+s*r;return[v(l*i-c*o,s*n-u*r),O(c*i+l*o)]}return a.invert=function(e,t){var a=g(t),s=g(e)*a,l=w(e)*a,u=w(t),c=u*i-l*o;return[v(l*i+u*o,s*n+c*r),O(c*n-s*r)]},a}tt.invert=tt;var at=function(e){function t(t){return(t=e(t[0]*h,t[1]*h))[0]*=d,t[1]*=d,t}return e=nt(e[0]*h,e[1]*h,e.length>2?e[2]*h:0),t.invert=function(t){return(t=e.invert(t[0]*h,t[1]*h))[0]*=d,t[1]*=d,t},t};function st(e,t,n,r,i,o){if(n){var a=g(t),s=w(t),l=r*n;null==i?(i=t+r*f,o=t-l/2):(i=lt(a,i),o=lt(a,o),(r>0?i<o:i>o)&&(i+=r*f));for(var u,c=i;r>0?c>o:c<o;c-=l)u=$([a,-s*g(c),-s*w(c)]),e.point(u[0],u[1])}}function lt(e,t){(t=K(t))[0]-=e,te(t);var n=k(-t[1]);return((-t[2]<0?-n:n)+f-s)%f}var ut=function(){var e,t,n=Je([0,0]),r=Je(90),i=Je(6),o={point:function(n,r){e.push(n=t(n,r)),n[0]*=d,n[1]*=d}};function a(){var a=n.apply(this,arguments),s=r.apply(this,arguments)*h,l=i.apply(this,arguments)*h;return e=[],t=nt(-a[0]*h,-a[1]*h,0).invert,st(o,s,l,1),a={type:"Polygon",coordinates:[e]},e=t=null,a}return a.center=function(e){return arguments.length?(n="function"===typeof e?e:Je([+e[0],+e[1]]),a):n},a.radius=function(e){return arguments.length?(r="function"===typeof e?e:Je(+e),a):r},a.precision=function(e){return arguments.length?(i="function"===typeof e?e:Je(+e),a):i},a},ct=function(){var e,t=[];return{point:function(t,n){e.push([t,n])},lineStart:function(){t.push(e=[])},lineEnd:A,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}},ft=function(e,t){return p(e[0]-t[0])<s&&p(e[1]-t[1])<s};function dt(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}var ht=function(e,t,n,r,i){var o,a,s=[],l=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],a=e[t];if(ft(r,a)){for(i.lineStart(),o=0;o<t;++o)i.point((r=e[o])[0],r[1]);i.lineEnd()}else s.push(n=new dt(r,e,null,!0)),l.push(n.o=new dt(r,null,n,!1)),s.push(n=new dt(a,e,null,!1)),l.push(n.o=new dt(a,null,n,!0))}})),s.length){for(l.sort(t),pt(s),pt(l),o=0,a=l.length;o<a;++o)l[o].e=n=!n;for(var u,c,f=s[0];;){for(var d=f,h=!0;d.v;)if((d=d.n)===f)return;u=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(o=0,a=u.length;o<a;++o)i.point((c=u[o])[0],c[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(h)for(u=d.p.z,o=u.length-1;o>=0;--o)i.point((c=u[o])[0],c[1]);else r(d.x,d.p.x,-1,i);d=d.p}u=(d=d.o).z,h=!h}while(!d.v);i.lineEnd()}}};function pt(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}var mt=r(),vt=function(e,t){var n=t[0],r=t[1],i=w(r),o=[w(n),-g(n),0],a=0,d=0;mt.reset(),1===i?r=u+s:-1===i&&(r=-u-s);for(var h=0,p=e.length;h<p;++h)if(y=(m=e[h]).length)for(var m,y,b=m[y-1],_=b[0],x=b[1]/2+c,E=w(x),T=g(x),S=0;S<y;++S,_=C,E=M,T=P,b=k){var k=m[S],C=k[0],A=k[1]/2+c,M=w(A),P=g(A),I=C-_,D=I>=0?1:-1,N=D*I,R=N>l,L=E*M;if(mt.add(v(L*D*w(N),T*P+L*g(N))),a+=R?I+D*f:I,R^_>=n^C>=n){var j=Q(K(b),K(k));te(j);var F=Q(o,j);te(F);var B=(R^I>=0?-1:1)*O(F[2]);(r>B||r===B&&(j[0]||j[1]))&&(d+=R^I>=0?1:-1)}}return(a<-s||a<s&&mt<-s)^1&d},gt=n(8),yt=function(e,t,n,r){return function(i){var o,a,s,l=t(i),u=ct(),c=t(u),f=!1,d={point:h,lineStart:m,lineEnd:v,polygonStart:function(){d.point=g,d.lineStart=y,d.lineEnd=b,a=[],o=[]},polygonEnd:function(){d.point=h,d.lineStart=m,d.lineEnd=v,a=Object(gt.merge)(a);var e=vt(o,r);a.length?(f||(i.polygonStart(),f=!0),ht(a,_t,e,n,i)):e&&(f||(i.polygonStart(),f=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(t,n){e(t,n)&&i.point(t,n)}function p(e,t){l.point(e,t)}function m(){d.point=p,l.lineStart()}function v(){d.point=h,l.lineEnd()}function g(e,t){s.push([e,t]),c.point(e,t)}function y(){c.lineStart(),s=[]}function b(){g(s[0][0],s[0][1]),c.lineEnd();var e,t,n,r,l=c.clean(),d=u.result(),h=d.length;if(s.pop(),o.push(s),s=null,h)if(1&l){if((t=(n=d[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),e=0;e<t;++e)i.point((r=n[e])[0],r[1]);i.lineEnd()}}else h>1&&2&l&&d.push(d.pop().concat(d.shift())),a.push(d.filter(bt))}return d}};function bt(e){return e.length>1}function _t(e,t){return((e=e.x)[0]<0?e[1]-u-s:u-e[1])-((t=t.x)[0]<0?t[1]-u-s:u-t[1])}var xt=yt((function(){return!0}),(function(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,a){var c=o>0?l:-l,f=p(o-n);p(f-l)<s?(e.point(n,r=(r+a)/2>0?u:-u),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(c,r),e.point(o,r),t=0):i!==c&&f>=l&&(p(n-i)<s&&(n-=i*s),p(o-c)<s&&(o-=c*s),r=function(e,t,n,r){var i,o,a=w(e-n);return p(a)>s?m((w(t)*(o=g(r))*w(n)-w(r)*(i=g(t))*w(e))/(i*o*a)):(t+r)/2}(n,r,o,a),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(c,r),t=0),e.point(n=o,r=a),i=c},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}),(function(e,t,n,r){var i;if(null==e)i=n*u,r.point(-l,i),r.point(0,i),r.point(l,i),r.point(l,0),r.point(l,-i),r.point(0,-i),r.point(-l,-i),r.point(-l,0),r.point(-l,i);else if(p(e[0]-t[0])>s){var o=e[0]<t[0]?l:-l;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}),[-l,-u]),wt=function(e){var t=g(e),n=6*h,r=t>0,i=p(t)>s;function o(e,n){return g(e)*g(n)>t}function a(e,n,r){var i=[1,0,0],o=Q(K(e),K(n)),a=Z(o,o),u=o[0],c=a-u*u;if(!c)return!r&&e;var f=t*a/c,d=-t*u/c,h=Q(i,o),m=ee(i,f);J(m,ee(o,d));var v=h,g=Z(m,v),y=Z(v,v),b=g*g-y*(Z(m,m)-1);if(!(b<0)){var _=T(b),x=ee(v,(-g-_)/y);if(J(x,m),x=$(x),!r)return x;var w,E=e[0],S=n[0],k=e[1],O=n[1];S<E&&(w=E,E=S,S=w);var C=S-E,A=p(C-l)<s;if(!A&&O<k&&(w=k,k=O,O=w),A||C<s?A?k+O>0^x[1]<(p(x[0]-E)<s?k:O):k<=x[1]&&x[1]<=O:C>l^(E<=x[0]&&x[0]<=S)){var M=ee(v,(-g+_)/y);return J(M,m),[x,$(M)]}}}function u(t,n){var i=r?e:l-e,o=0;return t<-i?o|=1:t>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return yt(o,(function(e){var t,n,c,f,d;return{lineStart:function(){f=c=!1,d=1},point:function(h,p){var m,v=[h,p],g=o(h,p),y=r?g?0:u(h,p):g?u(h+(h<0?l:-l),p):0;if(!t&&(f=c=g)&&e.lineStart(),g!==c&&(!(m=a(t,v))||ft(t,m)||ft(v,m))&&(v[0]+=s,v[1]+=s,g=o(v[0],v[1])),g!==c)d=0,g?(e.lineStart(),m=a(v,t),e.point(m[0],m[1])):(m=a(t,v),e.point(m[0],m[1]),e.lineEnd()),t=m;else if(i&&t&&r^g){var b;y&n||!(b=a(v,t,!0))||(d=0,r?(e.lineStart(),e.point(b[0][0],b[0][1]),e.point(b[1][0],b[1][1]),e.lineEnd()):(e.point(b[1][0],b[1][1]),e.lineEnd(),e.lineStart(),e.point(b[0][0],b[0][1])))}!g||t&&ft(t,v)||e.point(v[0],v[1]),t=v,c=g,n=y},lineEnd:function(){c&&e.lineEnd(),t=null},clean:function(){return d|(f&&c)<<1}}}),(function(t,r,i,o){st(o,e,n,i,t,r)}),r?[0,-e]:[-l,e-l])};function Et(e,t,n,r){function i(i,o){return e<=i&&i<=n&&t<=o&&o<=r}function o(i,o,s,l){var c=0,f=0;if(null==i||(c=a(i,s))!==(f=a(o,s))||u(i,o)<0^s>0)do{l.point(0===c||3===c?e:n,c>1?r:t)}while((c=(c+s+4)%4)!==f);else l.point(o[0],o[1])}function a(r,i){return p(r[0]-e)<s?i>0?0:3:p(r[0]-n)<s?i>0?2:1:p(r[1]-t)<s?i>0?1:0:i>0?3:2}function l(e,t){return u(e.x,t.x)}function u(e,t){var n=a(e,1),r=a(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(a){var s,u,c,f,d,h,p,m,v,g,y,b=a,_=ct(),x={point:w,lineStart:function(){x.point=E,u&&u.push(c=[]),g=!0,v=!1,p=m=NaN},lineEnd:function(){s&&(E(f,d),h&&v&&_.rejoin(),s.push(_.result())),x.point=w,v&&b.lineEnd()},polygonStart:function(){b=_,s=[],u=[],y=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,i=u.length;n<i;++n)for(var o,a,s=u[n],l=1,c=s.length,f=s[0],d=f[0],h=f[1];l<c;++l)o=d,a=h,f=s[l],d=f[0],h=f[1],a<=r?h>r&&(d-o)*(r-a)>(h-a)*(e-o)&&++t:h<=r&&(d-o)*(r-a)<(h-a)*(e-o)&&--t;return t}(),n=y&&t,i=(s=Object(gt.merge)(s)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&ht(s,l,t,o,a),a.polygonEnd()),b=a,s=u=c=null}};function w(e,t){i(e,t)&&b.point(e,t)}function E(o,a){var s=i(o,a);if(u&&c.push([o,a]),g)f=o,d=a,h=s,g=!1,s&&(b.lineStart(),b.point(o,a));else if(s&&v)b.point(o,a);else{var l=[p=Math.max(-1e9,Math.min(1e9,p)),m=Math.max(-1e9,Math.min(1e9,m))],_=[o=Math.max(-1e9,Math.min(1e9,o)),a=Math.max(-1e9,Math.min(1e9,a))];!function(e,t,n,r,i,o){var a,s=e[0],l=e[1],u=0,c=1,f=t[0]-s,d=t[1]-l;if(a=n-s,f||!(a>0)){if(a/=f,f<0){if(a<u)return;a<c&&(c=a)}else if(f>0){if(a>c)return;a>u&&(u=a)}if(a=i-s,f||!(a<0)){if(a/=f,f<0){if(a>c)return;a>u&&(u=a)}else if(f>0){if(a<u)return;a<c&&(c=a)}if(a=r-l,d||!(a>0)){if(a/=d,d<0){if(a<u)return;a<c&&(c=a)}else if(d>0){if(a>c)return;a>u&&(u=a)}if(a=o-l,d||!(a<0)){if(a/=d,d<0){if(a>c)return;a>u&&(u=a)}else if(d>0){if(a<u)return;a<c&&(c=a)}return u>0&&(e[0]=s+u*f,e[1]=l+u*d),c<1&&(t[0]=s+c*f,t[1]=l+c*d),!0}}}}}(l,_,e,t,n,r)?s&&(b.lineStart(),b.point(o,a),y=!1):(v||(b.lineStart(),b.point(l[0],l[1])),b.point(_[0],_[1]),s||b.lineEnd(),y=!1)}p=o,m=a,v=s}return x}}var Tt,St,kt,Ot=function(){var e,t,n,r=0,i=0,o=960,a=500;return n={stream:function(n){return e&&t===n?e:e=Et(r,i,o,a)(t=n)},extent:function(s){return arguments.length?(r=+s[0][0],i=+s[0][1],o=+s[1][0],a=+s[1][1],e=t=null,n):[[r,i],[o,a]]}}},Ct=r(),At={sphere:A,point:A,lineStart:function(){At.point=Pt,At.lineEnd=Mt},lineEnd:A,polygonStart:A,polygonEnd:A};function Mt(){At.point=At.lineEnd=A}function Pt(e,t){Tt=e*=h,St=w(t*=h),kt=g(t),At.point=It}function It(e,t){e*=h;var n=w(t*=h),r=g(t),i=p(e-Tt),o=g(i),a=r*w(i),s=kt*n-St*r*o,l=St*n+kt*r*o;Ct.add(v(T(a*a+s*s),l)),Tt=e,St=n,kt=r}var Dt=function(e){return Ct.reset(),z(e,At),+Ct},Nt=[null,null],Rt={type:"LineString",coordinates:Nt},Lt=function(e,t){return Nt[0]=e,Nt[1]=t,Dt(Rt)},jt={Feature:function(e,t){return Bt(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)if(Bt(n[r].geometry,t))return!0;return!1}},Ft={Sphere:function(){return!0},Point:function(e,t){return zt(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(zt(n[r],t))return!0;return!1},LineString:function(e,t){return Ht(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(Ht(n[r],t))return!0;return!1},Polygon:function(e,t){return Ut(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(Ut(n[r],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)if(Bt(n[r],t))return!0;return!1}};function Bt(e,t){return!(!e||!Ft.hasOwnProperty(e.type))&&Ft[e.type](e,t)}function zt(e,t){return 0===Lt(e,t)}function Ht(e,t){var n=Lt(e[0],e[1]);return Lt(e[0],t)+Lt(t,e[1])<=n+s}function Ut(e,t){return!!vt(e.map(Vt),Gt(t))}function Vt(e){return(e=e.map(Gt)).pop(),e}function Gt(e){return[e[0]*h,e[1]*h]}var Wt=function(e,t){return(e&&jt.hasOwnProperty(e.type)?jt[e.type]:Bt)(e,t)};function qt(e,t,n){var r=Object(gt.range)(e,t-s,n).concat(t);return function(e){return r.map((function(t){return[e,t]}))}}function Yt(e,t,n){var r=Object(gt.range)(e,t-s,n).concat(t);return function(e){return r.map((function(t){return[t,e]}))}}function Xt(){var e,t,n,r,i,o,a,l,u,c,f,d,h=10,m=h,v=90,g=360,b=2.5;function _(){return{type:"MultiLineString",coordinates:x()}}function x(){return Object(gt.range)(y(r/v)*v,n,v).map(f).concat(Object(gt.range)(y(l/g)*g,a,g).map(d)).concat(Object(gt.range)(y(t/h)*h,e,h).filter((function(e){return p(e%v)>s})).map(u)).concat(Object(gt.range)(y(o/m)*m,i,m).filter((function(e){return p(e%g)>s})).map(c))}return _.lines=function(){return x().map((function(e){return{type:"LineString",coordinates:e}}))},_.outline=function(){return{type:"Polygon",coordinates:[f(r).concat(d(a).slice(1),f(n).reverse().slice(1),d(l).reverse().slice(1))]}},_.extent=function(e){return arguments.length?_.extentMajor(e).extentMinor(e):_.extentMinor()},_.extentMajor=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],l=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),l>a&&(e=l,l=a,a=e),_.precision(b)):[[r,l],[n,a]]},_.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],o=+n[0][1],i=+n[1][1],t>e&&(n=t,t=e,e=n),o>i&&(n=o,o=i,i=n),_.precision(b)):[[t,o],[e,i]]},_.step=function(e){return arguments.length?_.stepMajor(e).stepMinor(e):_.stepMinor()},_.stepMajor=function(e){return arguments.length?(v=+e[0],g=+e[1],_):[v,g]},_.stepMinor=function(e){return arguments.length?(h=+e[0],m=+e[1],_):[h,m]},_.precision=function(s){return arguments.length?(b=+s,u=qt(o,i,90),c=Yt(t,e,b),f=qt(l,a,90),d=Yt(r,n,b),_):b},_.extentMajor([[-180,-90+s],[180,90-s]]).extentMinor([[-180,-80-s],[180,80+s]])}function $t(){return Xt()()}var Kt,Zt,Qt,Jt,en=function(e,t){var n=e[0]*h,r=e[1]*h,i=t[0]*h,o=t[1]*h,a=g(r),s=w(r),l=g(o),u=w(o),c=a*g(n),f=a*w(n),p=l*g(i),m=l*w(i),y=2*O(T(C(o-r)+a*l*C(i-n))),b=w(y),_=y?function(e){var t=w(e*=y)/b,n=w(y-e)/b,r=n*c+t*p,i=n*f+t*m,o=n*s+t*u;return[v(i,r)*d,v(o,T(r*r+i*i))*d]}:function(){return[n*d,r*d]};return _.distance=y,_},tn=function(e){return e},nn=r(),rn=r(),on={point:A,lineStart:A,lineEnd:A,polygonStart:function(){on.lineStart=an,on.lineEnd=un},polygonEnd:function(){on.lineStart=on.lineEnd=on.point=A,nn.add(p(rn)),rn.reset()},result:function(){var e=nn/2;return nn.reset(),e}};function an(){on.point=sn}function sn(e,t){on.point=ln,Kt=Qt=e,Zt=Jt=t}function ln(e,t){rn.add(Jt*e-Qt*t),Qt=e,Jt=t}function un(){ln(Kt,Zt)}var cn,fn,dn,hn,pn=on,mn=1/0,vn=mn,gn=-mn,yn=gn,bn={point:function(e,t){e<mn&&(mn=e),e>gn&&(gn=e),t<vn&&(vn=t),t>yn&&(yn=t)},lineStart:A,lineEnd:A,polygonStart:A,polygonEnd:A,result:function(){var e=[[mn,vn],[gn,yn]];return gn=yn=-(vn=mn=1/0),e}},_n=0,xn=0,wn=0,En=0,Tn=0,Sn=0,kn=0,On=0,Cn=0,An={point:Mn,lineStart:Pn,lineEnd:Nn,polygonStart:function(){An.lineStart=Rn,An.lineEnd=Ln},polygonEnd:function(){An.point=Mn,An.lineStart=Pn,An.lineEnd=Nn},result:function(){var e=Cn?[kn/Cn,On/Cn]:Sn?[En/Sn,Tn/Sn]:wn?[_n/wn,xn/wn]:[NaN,NaN];return _n=xn=wn=En=Tn=Sn=kn=On=Cn=0,e}};function Mn(e,t){_n+=e,xn+=t,++wn}function Pn(){An.point=In}function In(e,t){An.point=Dn,Mn(dn=e,hn=t)}function Dn(e,t){var n=e-dn,r=t-hn,i=T(n*n+r*r);En+=i*(dn+e)/2,Tn+=i*(hn+t)/2,Sn+=i,Mn(dn=e,hn=t)}function Nn(){An.point=Mn}function Rn(){An.point=jn}function Ln(){Fn(cn,fn)}function jn(e,t){An.point=Fn,Mn(cn=dn=e,fn=hn=t)}function Fn(e,t){var n=e-dn,r=t-hn,i=T(n*n+r*r);En+=i*(dn+e)/2,Tn+=i*(hn+t)/2,Sn+=i,kn+=(i=hn*e-dn*t)*(dn+e),On+=i*(hn+t),Cn+=3*i,Mn(dn=e,hn=t)}var Bn=An;function zn(e){this._context=e}zn.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,f)}},result:A};var Hn,Un,Vn,Gn,Wn,qn=r(),Yn={point:A,lineStart:function(){Yn.point=Xn},lineEnd:function(){Hn&&$n(Un,Vn),Yn.point=A},polygonStart:function(){Hn=!0},polygonEnd:function(){Hn=null},result:function(){var e=+qn;return qn.reset(),e}};function Xn(e,t){Yn.point=$n,Un=Gn=e,Vn=Wn=t}function $n(e,t){Gn-=e,Wn-=t,qn.add(T(Gn*Gn+Wn*Wn)),Gn=e,Wn=t}var Kn=Yn;function Zn(){this._string=[]}function Qn(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}Zn.prototype={_radius:4.5,_circle:Qn(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=Qn(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}};var Jn=function(e,t){var n,r,i=4.5;function o(e){return e&&("function"===typeof i&&r.pointRadius(+i.apply(this,arguments)),z(e,n(r))),r.result()}return o.area=function(e){return z(e,n(pn)),pn.result()},o.measure=function(e){return z(e,n(Kn)),Kn.result()},o.bounds=function(e){return z(e,n(bn)),bn.result()},o.centroid=function(e){return z(e,n(Bn)),Bn.result()},o.projection=function(t){return arguments.length?(n=null==t?(e=null,tn):(e=t).stream,o):e},o.context=function(e){return arguments.length?(r=null==e?(t=null,new Zn):new zn(t=e),"function"!==typeof i&&r.pointRadius(i),o):t},o.pointRadius=function(e){return arguments.length?(i="function"===typeof e?e:(r.pointRadius(+e),+e),o):i},o.projection(e).context(t)},er=function(e){return{stream:tr(e)}};function tr(e){return function(t){var n=new nr;for(var r in e)n[r]=e[r];return n.stream=t,n}}function nr(){}function rr(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),z(n,e.stream(bn)),t(bn.result()),null!=r&&e.clipExtent(r),e}function ir(e,t,n){return rr(e,(function(n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+t[0][0]+(r-o*(n[1][0]+n[0][0]))/2,s=+t[0][1]+(i-o*(n[1][1]+n[0][1]))/2;e.scale(150*o).translate([a,s])}),n)}function or(e,t,n){return ir(e,[[0,0],t],n)}function ar(e,t,n){return rr(e,(function(n){var r=+t,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];e.scale(150*i).translate([o,a])}),n)}function sr(e,t,n){return rr(e,(function(n){var r=+t,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([o,a])}),n)}nr.prototype={constructor:nr,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var lr=g(30*h),ur=function(e,t){return+t?function(e,t){function n(r,i,o,a,l,u,c,f,d,h,m,g,y,b){var _=c-r,x=f-i,w=_*_+x*x;if(w>4*t&&y--){var E=a+h,S=l+m,k=u+g,C=T(E*E+S*S+k*k),A=O(k/=C),M=p(p(k)-1)<s||p(o-d)<s?(o+d)/2:v(S,E),P=e(M,A),I=P[0],D=P[1],N=I-r,R=D-i,L=x*N-_*R;(L*L/w>t||p((_*N+x*R)/w-.5)>.3||a*h+l*m+u*g<lr)&&(n(r,i,o,a,l,u,I,D,M,E/=C,S/=C,k,y,b),b.point(I,D),n(I,D,M,E,S,k,c,f,d,h,m,g,y,b))}}return function(t){var r,i,o,a,s,l,u,c,f,d,h,p,m={point:v,lineStart:g,lineEnd:b,polygonStart:function(){t.polygonStart(),m.lineStart=_},polygonEnd:function(){t.polygonEnd(),m.lineStart=g}};function v(n,r){n=e(n,r),t.point(n[0],n[1])}function g(){c=NaN,m.point=y,t.lineStart()}function y(r,i){var o=K([r,i]),a=e(r,i);n(c,f,u,d,h,p,c=a[0],f=a[1],u=r,d=o[0],h=o[1],p=o[2],16,t),t.point(c,f)}function b(){m.point=v,t.lineEnd()}function _(){g(),m.point=x,m.lineEnd=w}function x(e,t){y(r=e,t),i=c,o=f,a=d,s=h,l=p,m.point=y}function w(){n(c,f,u,d,h,p,i,o,r,a,s,l,16,t),m.lineEnd=b,b()}return m}}(e,t):function(e){return tr({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)},cr=tr({point:function(e,t){this.stream.point(e*h,t*h)}});function fr(e,t,n){function r(r,i){return[t+e*r,n-e*i]}return r.invert=function(r,i){return[(r-t)/e,(n-i)/e]},r}function dr(e,t,n,r){var i=g(r),o=w(r),a=i*e,s=o*e,l=i/e,u=o/e,c=(o*n-i*t)/e,f=(o*t+i*n)/e;function d(e,r){return[a*e-s*r+t,n-s*e-a*r]}return d.invert=function(e,t){return[l*e-u*t+c,f-u*e-l*t]},d}function hr(e){return pr((function(){return e}))()}function pr(e){var t,n,r,i,o,a,s,l,u,c,f=150,p=480,m=250,v=0,g=0,y=0,b=0,_=0,x=0,w=null,E=xt,S=null,k=tn,O=.5;function C(e){return l(e[0]*h,e[1]*h)}function A(e){return(e=l.invert(e[0],e[1]))&&[e[0]*d,e[1]*d]}function M(){var e=dr(f,0,0,x).apply(null,t(v,g)),r=(x?dr:fr)(f,p-e[0],m-e[1],x);return n=nt(y,b,_),s=et(t,r),l=et(n,s),a=ur(s,O),P()}function P(){return u=c=null,C}return C.stream=function(e){return u&&c===e?u:u=cr(function(e){return tr({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}(n)(E(a(k(c=e)))))},C.preclip=function(e){return arguments.length?(E=e,w=void 0,P()):E},C.postclip=function(e){return arguments.length?(k=e,S=r=i=o=null,P()):k},C.clipAngle=function(e){return arguments.length?(E=+e?wt(w=e*h):(w=null,xt),P()):w*d},C.clipExtent=function(e){return arguments.length?(k=null==e?(S=r=i=o=null,tn):Et(S=+e[0][0],r=+e[0][1],i=+e[1][0],o=+e[1][1]),P()):null==S?null:[[S,r],[i,o]]},C.scale=function(e){return arguments.length?(f=+e,M()):f},C.translate=function(e){return arguments.length?(p=+e[0],m=+e[1],M()):[p,m]},C.center=function(e){return arguments.length?(v=e[0]%360*h,g=e[1]%360*h,M()):[v*d,g*d]},C.rotate=function(e){return arguments.length?(y=e[0]%360*h,b=e[1]%360*h,_=e.length>2?e[2]%360*h:0,M()):[y*d,b*d,_*d]},C.angle=function(e){return arguments.length?(x=e%360*h,M()):x*d},C.precision=function(e){return arguments.length?(a=ur(s,O=e*e),P()):T(O)},C.fitExtent=function(e,t){return ir(C,e,t)},C.fitSize=function(e,t){return or(C,e,t)},C.fitWidth=function(e,t){return ar(C,e,t)},C.fitHeight=function(e,t){return sr(C,e,t)},function(){return t=e.apply(this,arguments),C.invert=t.invert&&A,M()}}function mr(e){var t=0,n=l/3,r=pr(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*h,n=e[1]*h):[t*d,n*d]},i}function vr(e,t){var n=w(e),r=(n+w(t))/2;if(p(r)<s)return function(e){var t=g(e);function n(e,n){return[e*t,w(n)/t]}return n.invert=function(e,n){return[e/t,O(n*t)]},n}(e);var i=1+n*(2*r-n),o=T(i)/r;function a(e,t){var n=T(i-2*r*w(t))/r;return[n*w(e*=r),o-n*g(e)]}return a.invert=function(e,t){var n=o-t;return[v(e,p(n))/r*E(n),O((i-(e*e+n*n)*r*r)/(2*r))]},a}var gr=function(){return mr(vr).scale(155.424).center([0,33.6442])},yr=function(){return gr().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])},br=function(){var e,t,n,r,i,o,a=yr(),l=gr().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=gr().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(e,t){o=[e,t]}};function f(e){var t=e[0],a=e[1];return o=null,n.point(t,a),o||(r.point(t,a),o)||(i.point(t,a),o)}function d(){return e=t=null,f}return f.invert=function(e){var t=a.scale(),n=a.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?l:i>=.166&&i<.234&&r>=-.214&&r<-.115?u:a).invert(e)},f.stream=function(n){return e&&t===n?e:e=function(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}([a.stream(t=n),l.stream(n),u.stream(n)])},f.precision=function(e){return arguments.length?(a.precision(e),l.precision(e),u.precision(e),d()):a.precision()},f.scale=function(e){return arguments.length?(a.scale(e),l.scale(.35*e),u.scale(e),f.translate(a.translate())):a.scale()},f.translate=function(e){if(!arguments.length)return a.translate();var t=a.scale(),o=+e[0],f=+e[1];return n=a.translate(e).clipExtent([[o-.455*t,f-.238*t],[o+.455*t,f+.238*t]]).stream(c),r=l.translate([o-.307*t,f+.201*t]).clipExtent([[o-.425*t+s,f+.12*t+s],[o-.214*t-s,f+.234*t-s]]).stream(c),i=u.translate([o-.205*t,f+.212*t]).clipExtent([[o-.214*t+s,f+.166*t+s],[o-.115*t-s,f+.234*t-s]]).stream(c),d()},f.fitExtent=function(e,t){return ir(f,e,t)},f.fitSize=function(e,t){return or(f,e,t)},f.fitWidth=function(e,t){return ar(f,e,t)},f.fitHeight=function(e,t){return sr(f,e,t)},f.scale(1070)};function _r(e){return function(t,n){var r=g(t),i=g(n),o=e(r*i);return[o*i*w(t),o*w(n)]}}function xr(e){return function(t,n){var r=T(t*t+n*n),i=e(r),o=w(i),a=g(i);return[v(t*o,r*a),O(r&&n*o/r)]}}var wr=_r((function(e){return T(2/(1+e))}));wr.invert=xr((function(e){return 2*O(e/2)}));var Er=function(){return hr(wr).scale(124.75).clipAngle(179.999)},Tr=_r((function(e){return(e=k(e))&&e/w(e)}));Tr.invert=xr((function(e){return e}));var Sr=function(){return hr(Tr).scale(79.4188).clipAngle(179.999)};function kr(e,t){return[e,_(S((u+t)/2))]}kr.invert=function(e,t){return[e,2*m(b(t))-u]};var Or=function(){return Cr(kr).scale(961/f)};function Cr(e){var t,n,r,i=hr(e),o=i.center,a=i.scale,s=i.translate,u=i.clipExtent,c=null;function f(){var o=l*a(),s=i(at(i.rotate()).invert([0,0]));return u(null==c?[[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]]:e===kr?[[Math.max(s[0]-o,c),t],[Math.min(s[0]+o,n),r]]:[[c,Math.max(s[1]-o,t)],[n,Math.min(s[1]+o,r)]])}return i.scale=function(e){return arguments.length?(a(e),f()):a()},i.translate=function(e){return arguments.length?(s(e),f()):s()},i.center=function(e){return arguments.length?(o(e),f()):o()},i.clipExtent=function(e){return arguments.length?(null==e?c=t=n=r=null:(c=+e[0][0],t=+e[0][1],n=+e[1][0],r=+e[1][1]),f()):null==c?null:[[c,t],[n,r]]},f()}function Ar(e){return S((u+e)/2)}function Mr(e,t){var n=g(e),r=e===t?w(e):_(n/g(t))/_(Ar(t)/Ar(e)),i=n*x(Ar(e),r)/r;if(!r)return kr;function o(e,t){i>0?t<-u+s&&(t=-u+s):t>u-s&&(t=u-s);var n=i/x(Ar(t),r);return[n*w(r*e),i-n*g(r*e)]}return o.invert=function(e,t){var n=i-t,o=E(r)*T(e*e+n*n);return[v(e,p(n))/r*E(n),2*m(x(i/o,1/r))-u]},o}var Pr=function(){return mr(Mr).scale(109.5).parallels([30,30])};function Ir(e,t){return[e,t]}Ir.invert=Ir;var Dr=function(){return hr(Ir).scale(152.63)};function Nr(e,t){var n=g(e),r=e===t?w(e):(n-g(t))/(t-e),i=n/r+e;if(p(r)<s)return Ir;function o(e,t){var n=i-t,o=r*e;return[n*w(o),i-n*g(o)]}return o.invert=function(e,t){var n=i-t;return[v(e,p(n))/r*E(n),i-E(r)*T(e*e+n*n)]},o}var Rr=function(){return mr(Nr).scale(131.154).center([0,13.9389])},Lr=1.340264,jr=-.081106,Fr=893e-6,Br=.003796,zr=T(3)/2;function Hr(e,t){var n=O(zr*w(t)),r=n*n,i=r*r*r;return[e*g(n)/(zr*(Lr+3*jr*r+i*(7*Fr+9*Br*r))),n*(Lr+jr*r+i*(Fr+Br*r))]}Hr.invert=function(e,t){for(var n,r=t,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=n=(r*(Lr+jr*i+o*(Fr+Br*i))-t)/(Lr+3*jr*i+o*(7*Fr+9*Br*i)))*r)*i*i,!(p(n)<1e-12));++a);return[zr*e*(Lr+3*jr*i+o*(7*Fr+9*Br*i))/g(r),O(w(r)/zr)]};var Ur=function(){return hr(Hr).scale(177.158)};function Vr(e,t){var n=g(t),r=g(e)*n;return[n*w(e)/r,w(t)/r]}Vr.invert=xr(m);var Gr=function(){return hr(Vr).scale(144.049).clipAngle(60)};function Wr(e,t,n,r){return 1===e&&1===t&&0===n&&0===r?tn:tr({point:function(i,o){this.stream.point(i*e+n,o*t+r)}})}var qr=function(){var e,t,n,r,i,o,a=1,s=0,l=0,u=1,c=1,f=tn,d=null,h=tn;function p(){return r=i=null,o}return o={stream:function(e){return r&&i===e?r:r=f(h(i=e))},postclip:function(r){return arguments.length?(h=r,d=e=t=n=null,p()):h},clipExtent:function(r){return arguments.length?(h=null==r?(d=e=t=n=null,tn):Et(d=+r[0][0],e=+r[0][1],t=+r[1][0],n=+r[1][1]),p()):null==d?null:[[d,e],[t,n]]},scale:function(e){return arguments.length?(f=Wr((a=+e)*u,a*c,s,l),p()):a},translate:function(e){return arguments.length?(f=Wr(a*u,a*c,s=+e[0],l=+e[1]),p()):[s,l]},reflectX:function(e){return arguments.length?(f=Wr(a*(u=e?-1:1),a*c,s,l),p()):u<0},reflectY:function(e){return arguments.length?(f=Wr(a*u,a*(c=e?-1:1),s,l),p()):c<0},fitExtent:function(e,t){return ir(o,e,t)},fitSize:function(e,t){return or(o,e,t)},fitWidth:function(e,t){return ar(o,e,t)},fitHeight:function(e,t){return sr(o,e,t)}}};function Yr(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}Yr.invert=function(e,t){var n,r=t,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-t)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(p(n)>s&&--i>0);return[e/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]};var Xr=function(){return hr(Yr).scale(175.295)};function $r(e,t){return[g(t)*w(e),w(t)]}$r.invert=xr(O);var Kr=function(){return hr($r).scale(249.5).clipAngle(90+s)};function Zr(e,t){var n=g(t),r=1+g(e)*n;return[n*w(e)/r,w(t)/r]}Zr.invert=xr((function(e){return 2*m(e)}));var Qr=function(){return hr(Zr).scale(250).clipAngle(142)};function Jr(e,t){return[_(S((u+t)/2)),-e]}Jr.invert=function(e,t){return[-t,2*m(b(e))-u]};var ei=function(){var e=Cr(Jr),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)};n.d(t,"geoArea",(function(){return X})),n.d(t,"geoBounds",(function(){return ze})),n.d(t,"geoCentroid",(function(){return Qe})),n.d(t,"geoCircle",(function(){return ut})),n.d(t,"geoClipAntimeridian",(function(){return xt})),n.d(t,"geoClipCircle",(function(){return wt})),n.d(t,"geoClipExtent",(function(){return Ot})),n.d(t,"geoClipRectangle",(function(){return Et})),n.d(t,"geoContains",(function(){return Wt})),n.d(t,"geoDistance",(function(){return Lt})),n.d(t,"geoGraticule",(function(){return Xt})),n.d(t,"geoGraticule10",(function(){return $t})),n.d(t,"geoInterpolate",(function(){return en})),n.d(t,"geoLength",(function(){return Dt})),n.d(t,"geoPath",(function(){return Jn})),n.d(t,"geoAlbers",(function(){return yr})),n.d(t,"geoAlbersUsa",(function(){return br})),n.d(t,"geoAzimuthalEqualArea",(function(){return Er})),n.d(t,"geoAzimuthalEqualAreaRaw",(function(){return wr})),n.d(t,"geoAzimuthalEquidistant",(function(){return Sr})),n.d(t,"geoAzimuthalEquidistantRaw",(function(){return Tr})),n.d(t,"geoConicConformal",(function(){return Pr})),n.d(t,"geoConicConformalRaw",(function(){return Mr})),n.d(t,"geoConicEqualArea",(function(){return gr})),n.d(t,"geoConicEqualAreaRaw",(function(){return vr})),n.d(t,"geoConicEquidistant",(function(){return Rr})),n.d(t,"geoConicEquidistantRaw",(function(){return Nr})),n.d(t,"geoEqualEarth",(function(){return Ur})),n.d(t,"geoEqualEarthRaw",(function(){return Hr})),n.d(t,"geoEquirectangular",(function(){return Dr})),n.d(t,"geoEquirectangularRaw",(function(){return Ir})),n.d(t,"geoGnomonic",(function(){return Gr})),n.d(t,"geoGnomonicRaw",(function(){return Vr})),n.d(t,"geoIdentity",(function(){return qr})),n.d(t,"geoProjection",(function(){return hr})),n.d(t,"geoProjectionMutator",(function(){return pr})),n.d(t,"geoMercator",(function(){return Or})),n.d(t,"geoMercatorRaw",(function(){return kr})),n.d(t,"geoNaturalEarth1",(function(){return Xr})),n.d(t,"geoNaturalEarth1Raw",(function(){return Yr})),n.d(t,"geoOrthographic",(function(){return Kr})),n.d(t,"geoOrthographicRaw",(function(){return $r})),n.d(t,"geoStereographic",(function(){return Qr})),n.d(t,"geoStereographicRaw",(function(){return Zr})),n.d(t,"geoTransverseMercator",(function(){return ei})),n.d(t,"geoTransverseMercatorRaw",(function(){return Jr})),n.d(t,"geoRotation",(function(){return at})),n.d(t,"geoStream",(function(){return z})),n.d(t,"geoTransform",(function(){return er}))},function(e,t,n){"use strict";n.r(t);var r=n(73),i=n(63),o=function(e,t){var n,o,a,s,l=Object(i.a)("beforesend","progress","load","error"),u=Object(r.a)(),c=new XMLHttpRequest,f=null,d=null,h=0;function p(e){var t,r=c.status;if(!r&&function(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}(c)||r>=200&&r<300||304===r){if(a)try{t=a.call(n,c)}catch(i){return void l.call("error",n,i)}else t=c;l.call("load",n,t)}else l.call("error",n,e)}if("undefined"!==typeof XDomainRequest&&!("withCredentials"in c)&&/^(http(s)?:)?\/\//.test(e)&&(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=c.ontimeout=p:c.onreadystatechange=function(e){c.readyState>3&&p(e)},c.onprogress=function(e){l.call("progress",n,e)},n={header:function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?u.get(e):(null==t?u.remove(e):u.set(e,t+""),n)},mimeType:function(e){return arguments.length?(o=null==e?null:e+"",n):o},responseType:function(e){return arguments.length?(s=e,n):s},timeout:function(e){return arguments.length?(h=+e,n):h},user:function(e){return arguments.length<1?f:(f=null==e?null:e+"",n)},password:function(e){return arguments.length<1?d:(d=null==e?null:e+"",n)},response:function(e){return a=e,n},get:function(e,t){return n.send("GET",e,t)},post:function(e,t){return n.send("POST",e,t)},send:function(t,r,i){return c.open(t,e,!0,f,d),null==o||u.has("accept")||u.set("accept",o+",*/*"),c.setRequestHeader&&u.each((function(e,t){c.setRequestHeader(t,e)})),null!=o&&c.overrideMimeType&&c.overrideMimeType(o),null!=s&&(c.responseType=s),h>0&&(c.timeout=h),null==i&&"function"===typeof r&&(i=r,r=null),null!=i&&1===i.length&&(i=function(e){return function(t,n){e(null==t?n:null)}}(i)),null!=i&&n.on("error",i).on("load",(function(e){i(null,e)})),l.call("beforesend",n,c),c.send(null==r?null:r),n},abort:function(){return c.abort(),n},on:function(){var e=l.on.apply(l,arguments);return e===l?n:e}},null!=t){if("function"!==typeof t)throw new Error("invalid callback: "+t);return n.get(t)}return n},a=function(e,t){return function(n,r){var i=o(n).mimeType(e).response(t);if(null!=r){if("function"!==typeof r)throw new Error("invalid callback: "+r);return i.get(r)}return i}},s=a("text/html",(function(e){return document.createRange().createContextualFragment(e.responseText)})),l=a("application/json",(function(e){return JSON.parse(e.responseText)})),u=a("text/plain",(function(e){return e.responseText})),c=a("application/xml",(function(e){var t=e.responseXML;if(!t)throw new Error("parse error");return t})),f=n(102),d=function(e,t){return function(n,r,i){arguments.length<3&&(i=r,r=null);var a=o(n).mimeType(e);return a.row=function(e){return arguments.length?a.response(h(t,r=e)):r},a.row(r),i?a.get(i):a}};function h(e,t){return function(n){return e(n.responseText,t)}}var p=d("text/csv",f.csvParse),m=d("text/tab-separated-values",f.tsvParse);n.d(t,"request",(function(){return o})),n.d(t,"html",(function(){return s})),n.d(t,"json",(function(){return l})),n.d(t,"text",(function(){return u})),n.d(t,"xml",(function(){return c})),n.d(t,"csv",(function(){return p})),n.d(t,"tsv",(function(){return m}))},function(e,t,n){"use strict";n.r(t);var r=[].slice,i={};function o(e){this._size=e,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function a(e){if(!e._start)try{!function(e){for(;e._start=e._waiting&&e._active<e._size;){var t=e._ended+e._active,n=e._tasks[t],r=n.length-1,o=n[r];n[r]=s(e,t),--e._waiting,++e._active,n=o.apply(null,n),e._tasks[t]&&(e._tasks[t]=n||i)}}(e)}catch(t){if(e._tasks[e._ended+e._active-1])l(e,t);else if(!e._data)throw t}}function s(e,t){return function(n,r){e._tasks[t]&&(--e._active,++e._ended,e._tasks[t]=null,null==e._error&&(null!=n?l(e,n):(e._data[t]=r,e._waiting?a(e):u(e))))}}function l(e,t){var n,r=e._tasks.length;for(e._error=t,e._data=void 0,e._waiting=NaN;--r>=0;)if((n=e._tasks[r])&&(e._tasks[r]=null,n.abort))try{n.abort()}catch(t){}e._active=NaN,u(e)}function u(e){if(!e._active&&e._call){var t=e._data;e._data=void 0,e._call(e._error,t)}}function c(e){if(null==e)e=1/0;else if(!((e=+e)>=1))throw new Error("invalid concurrency");return new o(e)}o.prototype=c.prototype={constructor:o,defer:function(e){if("function"!==typeof e)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var t=r.call(arguments,1);return t.push(e),++this._waiting,this._tasks.push(t),a(this),this},abort:function(){return null==this._error&&l(this,new Error("abort")),this},await:function(e){if("function"!==typeof e)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(t,n){e.apply(null,[t].concat(n))},u(this),this},awaitAll:function(e){if("function"!==typeof e)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=e,u(this),this}},n.d(t,"queue",(function(){return c}))}])},e.exports=r(n(117),n(165),n(289),n(288))},function(e,t,n){(function(r,i){var o;!function(r){var a=r.Promise,s=a&&"resolve"in a&&"reject"in a&&"all"in a&&"race"in a&&function(){var e;return new a((function(t){e=t})),"function"===typeof e}();t?(t.Promise=s?a:E,t.Polyfill=E):void 0===(o=function(){return s?a:E}.call(t,n,t,e))||(e.exports=o);var l=function(){};function u(e){return"[object Array]"===Object.prototype.toString.call(e)}var c,f="undefined"!==typeof i?i:setTimeout,d=[];function h(){for(var e=0;e<d.length;e++)d[e][0](d[e][1]);d=[],c=!1}function p(e,t){d.push([e,t]),c||(c=!0,f(h,0))}function m(e){var t=e.owner,n=t.state_,r=t.data_,i=e[n],o=e.then;if("function"===typeof i){n="fulfilled";try{r=i(r)}catch(a){b(o,a)}}v(o,r)||("fulfilled"===n&&g(o,r),"rejected"===n&&b(o,r))}function v(e,t){var n;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"===typeof t||"object"===typeof t)){var r=t.then;if("function"===typeof r)return r.call(t,(function(r){n||(n=!0,t!==r?g(e,r):y(e,r))}),(function(t){n||(n=!0,b(e,t))})),!0}}catch(i){return n||b(e,i),!0}return!1}function g(e,t){e!==t&&v(e,t)||y(e,t)}function y(e,t){"pending"===e.state_&&(e.state_="sealed",e.data_=t,p(x,e))}function b(e,t){"pending"===e.state_&&(e.state_="sealed",e.data_=t,p(w,e))}function _(e){var t=e.then_;e.then_=void 0;for(var n=0;n<t.length;n++)m(t[n])}function x(e){e.state_="fulfilled",_(e)}function w(e){e.state_="rejected",_(e)}function E(e){if("function"!==typeof e)throw new TypeError("Promise constructor takes a function argument");if(this instanceof E===!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],function(e,t){function n(e){b(t,e)}try{e((function(e){g(t,e)}),n)}catch(r){n(r)}}(e,this)}E.prototype={constructor:E,state_:"pending",then_:null,data_:void 0,then:function(e,t){var n={owner:this,then:new this.constructor(l),fulfilled:e,rejected:t};return"fulfilled"===this.state_||"rejected"===this.state_?p(m,n):this.then_.push(n),n.then},catch:function(e){return this.then(null,e)}},E.all=function(e){if(!u(e))throw new TypeError("You must pass an array to Promise.all().");return new this((function(t,n){var r=[],i=0;function o(e){return i++,function(n){r[e]=n,--i||t(r)}}for(var a,s=0;s<e.length;s++)(a=e[s])&&"function"===typeof a.then?a.then(o(s),n):r[s]=a;i||t(r)}))},E.race=function(e){if(!u(e))throw new TypeError("You must pass an array to Promise.race().");return new this((function(t,n){for(var r,i=0;i<e.length;i++)(r=e[i])&&"function"===typeof r.then?r.then(t,n):t(r)}))},E.resolve=function(e){return e&&"object"===typeof e&&e.constructor===this?e:new this((function(t){t(e)}))},E.reject=function(e){return new this((function(t,n){n(e)}))}}("undefined"!=typeof window?window:"undefined"!=typeof r?r:"undefined"!=typeof self?self:this)}).call(this,n(39),n(168).setImmediate)},function(e,t,n){"use strict";var r=n(13);t.__esModule=!0,t.default=void 0;var i=r(n(220));t.end=i.default;var o=r(n(94));t.properties=o.default;var a={end:i.default,properties:o.default};t.default=a},function(e,t,n){e.exports={default:n(229),__esModule:!0}},function(e){e.exports=JSON.parse('{"name":"vega-lite","author":"Dominik Moritz, Kanit \\"Ham\\" Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer","version":"4.11.0","collaborators":["Kanit Wongsuphasawat (http://kanitw.yellowpigz.com)","Dominik Moritz (https://www.domoritz.de)","Arvind Satyanarayan (https://arvindsatya.com)","Jeffrey Heer (https://jheer.org)"],"homepage":"https://vega.github.io/vega-lite/","description":"Vega-Lite is a concise high-level language for interactive visualization.","main":"build/vega-lite.js","unpkg":"build/vega-lite.min.js","jsdelivr":"build/vega-lite.min.js","module":"build/src/index","types":"build/src/index.d.ts","bin":{"vl2png":"./bin/vl2png","vl2svg":"./bin/vl2svg","vl2pdf":"./bin/vl2pdf","vl2vg":"./bin/vl2vg"},"directories":{"test":"test"},"scripts":{"changelog":"conventional-changelog -p angular","build":"yarn build:only","build:only":"yarn tsc:src && rollup -c","postbuild":"terser build/vega-lite.js -cm --source-map content=build/vega-lite.js.map,filename=build/vega-lite.min.js.map -o build/vega-lite.min.js && yarn schema && babel build/vega-lite.js --out-dir build-es5 --config-file ./babel.config.js","prebuild:examples":"yarn build:only","build:examples":"yarn data && TZ=America/Los_Angeles scripts/build-examples.sh","prebuild:examples-full":"yarn build:only","build:examples-full":"TZ=America/Los_Angeles scripts/build-examples.sh 1","build:example":"TZ=America/Los_Angeles scripts/build-example.sh","build:toc":"yarn build:jekyll && scripts/generate-toc","build:site":"yarn tsc:site && rollup -c site/rollup.config.js","build:jekyll":"pushd site && bundle exec jekyll build -q && popd","build:versions":"scripts/update-version.sh","clean":"find build ! -name \'vega-lite-schema.json\' -type f -delete && rm -rf site/data/* && rm -f examples/compiled/*.png && find site/examples ! -name \'index.md\' ! -name \'data\' -type f -delete","predeploy:site":"yarn presite","deploy:site":"gh-pages -d site","data":"rsync -r node_modules/vega-datasets/data/* site/data","schema":"mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/","renameschema":"scripts/rename-schema.sh","presite":"yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh","site":"pushd site && bundle exec jekyll serve -I -l && popd","tsc:src":"tsc -b src/tsconfig.src.json","tsc:site":"tsc -b site/tsconfig.site.json","prettierbase":"prettier \'**/*.{md,css,yml}\'","eslintbase":"eslint --ext .ts .","format":"yarn eslintbase --fix && yarn prettierbase --write","lint":"yarn eslintbase && yarn prettierbase --check","test":"jest test/ && yarn lint && yarn schema && jest examples/ && yarn test:runtime","test:inspect":"node --inspect-brk ./node_modules/.bin/jest --runInBand test","test:runtime":"TZ=America/Los_Angeles jest test-runtime/","test:runtime:generate":"yarn build:only && rm -Rf test-runtime/resources && VL_GENERATE_TESTS=true yarn test:runtime","watch:build":"yarn build:only && concurrently --kill-others -n Typescript,Rollup \'yarn tsc:src -w\' \'rollup -c -w\'","watch:site":"concurrently --kill-others -n Typescript,Rollup \'yarn tsc:site -w\' \'rollup -c site/rollup.config.js -w\'","watch:test":"jest --watch"},"repository":{"type":"git","url":"https://github.com/vega/vega-lite.git"},"license":"BSD-3-Clause","bugs":{"url":"https://github.com/vega/vega-lite/issues"},"devDependencies":{"@babel/cli":"^7.8.4","@babel/core":"^7.9.0","@babel/preset-env":"^7.9.5","@rollup/plugin-commonjs":"11.1.0","@rollup/plugin-json":"^4.0.3","@rollup/plugin-node-resolve":"^7.1.3","@types/chai":"^4.2.11","@types/d3":"^5.7.2","@types/jest":"^25.2.1","@types/mkdirp":"^1.0.0","@types/puppeteer":"^2.0.1","@typescript-eslint/eslint-plugin":"^2.29.0","@typescript-eslint/parser":"^2.29.0","ajv":"^6.12.2","chai":"^4.2.0","cheerio":"^1.0.0-rc.3","codecov":"^3.6.5","concurrently":"^5.1.0","conventional-changelog-cli":"^2.0.31","d3":"^5.16.0","eslint":"^6.8.0","eslint-config-prettier":"^6.10.1","eslint-plugin-prettier":"^3.1.3","gh-pages":"^2.2.0","highlight.js":"^9.18.1","http-server":"^0.12.1","jest":"^25.4.0","jest-puppeteer":"^4.4.0","mkdirp":"^1.0.4","prettier":"^2.0.4","puppeteer":"^3.0.0","rollup":"^2.6.1","rollup-plugin-sourcemaps":"^0.5.0","rollup-plugin-terser":"^5.3.0","svg2png-many":"^0.0.7","terser":"^4.6.11","ts-jest":"^25.4.0","ts-json-schema-generator":"^0.67.1","typescript":"~3.8.3","vega-cli":"^5.10.1","vega-datasets":"^1.30.2","vega-embed":"^6.6.0","vega-tooltip":"^0.22.1","vega-typings":"0.15.4","yaml-front-matter":"^4.1.0"},"dependencies":{"@types/clone":"~0.1.30","@types/fast-json-stable-stringify":"^2.0.0","array-flat-polyfill":"^1.0.1","clone":"~2.1.2","fast-deep-equal":"~3.1.1","fast-json-stable-stringify":"~2.1.0","json-stringify-pretty-compact":"~2.0.0","tslib":"~1.11.1","vega-event-selector":"~2.0.2","vega-expression":"~2.6.3","vega-util":"~1.13.1","yargs":"~15.3.1"},"peerDependencies":{"vega":"^5.9.2"},"jest":{"preset":"jest-puppeteer","transform":{"^.+\\\\.tsx?$":"ts-jest"},"testRegex":"(/__tests__/.*|(\\\\.|/)(test|spec))\\\\.(jsx?|tsx?)$","moduleFileExtensions":["ts","tsx","js","jsx","json","node"],"testPathIgnorePatterns":["<rootDir>/node_modules","<rootDir>/build","<rootDir>/_site","<rootDir>/src"],"coverageDirectory":"./coverage/","collectCoverage":false}}')},function(e,t,n){(function(t){var n=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var n,r,i;try{n=Map}catch(l){n=function(){}}try{r=Set}catch(l){r=function(){}}try{i=Promise}catch(l){i=function(){}}function o(a,l,u,c,f){"object"===typeof l&&(u=l.depth,c=l.prototype,f=l.includeNonEnumerable,l=l.circular);var d=[],h=[],p="undefined"!=typeof t;return"undefined"==typeof l&&(l=!0),"undefined"==typeof u&&(u=1/0),function a(u,m){if(null===u)return null;if(0===m)return u;var v,g;if("object"!=typeof u)return u;if(e(u,n))v=new n;else if(e(u,r))v=new r;else if(e(u,i))v=new i((function(e,t){u.then((function(t){e(a(t,m-1))}),(function(e){t(a(e,m-1))}))}));else if(o.__isArray(u))v=[];else if(o.__isRegExp(u))v=new RegExp(u.source,s(u)),u.lastIndex&&(v.lastIndex=u.lastIndex);else if(o.__isDate(u))v=new Date(u.getTime());else{if(p&&t.isBuffer(u))return v=t.allocUnsafe?t.allocUnsafe(u.length):new t(u.length),u.copy(v),v;e(u,Error)?v=Object.create(u):"undefined"==typeof c?(g=Object.getPrototypeOf(u),v=Object.create(g)):(v=Object.create(c),g=c)}if(l){var y=d.indexOf(u);if(-1!=y)return h[y];d.push(u),h.push(v)}for(var b in e(u,n)&&u.forEach((function(e,t){var n=a(t,m-1),r=a(e,m-1);v.set(n,r)})),e(u,r)&&u.forEach((function(e){var t=a(e,m-1);v.add(t)})),u){var _;g&&(_=Object.getOwnPropertyDescriptor(g,b)),_&&null==_.set||(v[b]=a(u[b],m-1))}if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(u);for(b=0;b<x.length;b++){var w=x[b];(!(T=Object.getOwnPropertyDescriptor(u,w))||T.enumerable||f)&&(v[w]=a(u[w],m-1),T.enumerable||Object.defineProperty(v,w,{enumerable:!1}))}}if(f){var E=Object.getOwnPropertyNames(u);for(b=0;b<E.length;b++){var T,S=E[b];(T=Object.getOwnPropertyDescriptor(u,S))&&T.enumerable||(v[S]=a(u[S],m-1),Object.defineProperty(v,S,{enumerable:!1}))}}return v}(a,u)}function a(e){return Object.prototype.toString.call(e)}function s(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return o.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},o.__objToStr=a,o.__isDate=function(e){return"object"===typeof e&&"[object Date]"===a(e)},o.__isArray=function(e){return"object"===typeof e&&"[object Array]"===a(e)},o.__isRegExp=function(e){return"object"===typeof e&&"[object RegExp]"===a(e)},o.__getRegExpFlags=s,o}();e.exports&&(e.exports=n)}).call(this,n(140).Buffer)},function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!==i--;){var a=o[i];if(!e(t[a],n[a]))return!1}return!0}return t!==t&&n!==n}},function(e){e.exports=JSON.parse('{"name":"vega-themes","version":"2.8.3","description":"Themes for stylized Vega and Vega-Lite visualizations.","keywords":["vega","vega-lite","themes","style"],"license":"BSD-3-Clause","author":{"name":"UW Interactive Data Lab","url":"https://idl.cs.washington.edu"},"contributors":[{"name":"Emily Gu","url":"https://github.com/emilygu"},{"name":"Arvind Satyanarayan","url":"http://arvindsatya.com"},{"name":"Jeffrey Heer","url":"https://idl.cs.washington.edu"},{"name":"Dominik Moritz","url":"https://www.domoritz.de"}],"main":"build/vega-themes.js","module":"build/src/index.js","unpkg":"build/vega-themes.min.js","jsdelivr":"build/vega-themes.min.js","typings":"build/src/index.d.ts","repository":{"type":"git","url":"https://github.com/vega/vega-themes.git"},"scripts":{"prepare":"beemo create-config --silent","clean":"rm -rf build examples/build","prettierbase":"beemo prettier \'examples/*.{html,scss,css}\'","eslintbase":"beemo eslint \'src/**/*.ts\'","format":"yarn eslintbase --fix && yarn prettierbase --write","lint":"yarn eslintbase && yarn prettierbase --check","prebuild":"mkdir -p build","build":"tsc && rollup -c","postbuild":"terser build/vega-themes.js -cm > build/vega-themes.min.js","deploy:gh":"yarn build && mkdir -p examples/build && rsync -r build/* examples/build && gh-pages -d examples","prepublishOnly":"yarn clean && yarn build","preversion":"yarn lint","serve":"browser-sync start -s -f build examples --serveStatic examples","start":"yarn build && concurrently --kill-others -n Server,Typescript,Rollup \'yarn serve\' \'tsc -w\' \'rollup -c -w\'"},"devDependencies":{"@rollup/plugin-json":"^4.0.2","browser-sync":"^2.26.7","concurrently":"^5.1.0","gh-pages":"^2.2.0","rollup":"^2.1.0","terser":"^4.6.7","typescript":"^3.8.3","vega":"^5.10.0","vega-lite":"^4.8.1","vega-lite-dev-config":"^0.5.0"},"peerDependencies":{"vega":"*","vega-lite":"*"},"beemo":{"module":"vega-lite-dev-config","drivers":["prettier","eslint"]}}')},function(e){e.exports=JSON.parse('{"name":"vega-tooltip","version":"0.22.1","description":"A tooltip plugin for Vega-Lite and Vega visualizations.","main":"build/vega-tooltip.js","module":"build/src/index.js","unpkg":"build/vega-tooltip.min.js","jsdelivr":"build/vega-tooltip.min.js","typings":"build/src/index.d.ts","repository":{"type":"git","url":"https://github.com/vega/vega-tooltip.git"},"keywords":["vega-lite","vega","tooltip"],"author":{"name":"UW Interactive Data Lab","url":"https://idl.cs.washington.edu"},"collaborators":["Dominik Moritz","Sira Horradarn","Zening Qu","Kanit Wongsuphasawat","Yuri Astrakhan","Jeffrey Heer"],"license":"BSD-3-Clause","bugs":{"url":"https://github.com/vega/vega-tooltip/issues"},"homepage":"https://github.com/vega/vega-tooltip#readme","scripts":{"prepare":"beemo create-config --silent","tsc:src":"tsc -b tsconfig.src.json","build":"yarn tsc:src && rollup -c","clean":"rm -rf build examples/data && rm -f src/style.ts","copy:data":"rsync -r node_modules/vega-datasets/data/* examples/data","copy:build":"rsync -r build/* examples/build","deploy:gh":"yarn build && yarn copy:build && gh-pages -d examples && yarn clean","prettierbase":"beemo prettier \'examples/*.{html,scss,css}\'","eslintbase":"beemo eslint \'{src,test,types}/**/*.ts\'","format":"yarn eslintbase --fix && yarn prettierbase --write","lint":"yarn eslintbase && yarn prettierbase --check","postbuild":"terser build/vega-tooltip.js -c -m -o build/vega-tooltip.min.js","prebuild":"mkdir -p build && yarn copy:data && ./build-style.sh","prepublishOnly":"yarn clean && yarn build","preversion":"yarn lint","start":"yarn build && concurrently --kill-others -n Server,Typescript,Rollup \'browser-sync start -s -f build examples --serveStatic examples\' \'yarn tsc:src -w\' \'rollup -c -w\'","pretest":"./build-style.sh","test":"jest"},"devDependencies":{"@rollup/plugin-commonjs":"11.0.2","@rollup/plugin-json":"^4.0.2","@rollup/plugin-node-resolve":"^7.1.1","@types/jest":"^25.1.4","browser-sync":"^2.26.7","concurrently":"^5.1.0","gh-pages":"^2.2.0","jest":"^25.1.0","node-sass":"^4.13.1","path":"^0.12.7","rollup":"^2.1.0","terser":"^4.6.7","ts-jest":"^25.2.1","typescript":"^3.8.3","vega-datasets":"^1.30.2","vega-lite-dev-config":"^0.5.0","vega-typings":"^0.14.2"},"dependencies":{"vega-util":"^1.13.1"},"beemo":{"module":"vega-lite-dev-config","drivers":["prettier","eslint"]},"jest":{"testURL":"http://localhost/","transform":{"^.+\\\\.tsx?$":"ts-jest"},"testRegex":"(/__tests__/.*|(\\\\.|/)(test|spec))\\\\.(jsx?|tsx?)$","moduleFileExtensions":["ts","tsx","js","jsx","json","node"],"testPathIgnorePatterns":["node_modules","<rootDir>/build","src"]}}')},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return oX}));var r={};n.r(r),n.d(r,"JsonPatchError",(function(){return N})),n.d(r,"deepClone",(function(){return R})),n.d(r,"getValueByPointer",(function(){return F})),n.d(r,"applyOperation",(function(){return B})),n.d(r,"applyPatch",(function(){return z})),n.d(r,"applyReducer",(function(){return H})),n.d(r,"validator",(function(){return U})),n.d(r,"validate",(function(){return V})),n.d(r,"_areEquals",(function(){return G}));var i={};n.r(i),n.d(i,"unobserve",(function(){return X})),n.d(i,"observe",(function(){return $})),n.d(i,"generate",(function(){return K})),n.d(i,"compare",(function(){return Q}));var o={};n.r(o),n.d(o,"aggregate",(function(){return po})),n.d(o,"bin",(function(){return vo})),n.d(o,"collect",(function(){return bo})),n.d(o,"compare",(function(){return _o})),n.d(o,"countpattern",(function(){return wo})),n.d(o,"cross",(function(){return To})),n.d(o,"density",(function(){return ko})),n.d(o,"dotbin",(function(){return Po})),n.d(o,"expression",(function(){return Io})),n.d(o,"extent",(function(){return No})),n.d(o,"facet",(function(){return jo})),n.d(o,"field",(function(){return Bo})),n.d(o,"filter",(function(){return Ho})),n.d(o,"flatten",(function(){return Uo})),n.d(o,"fold",(function(){return Vo})),n.d(o,"formula",(function(){return Go})),n.d(o,"generate",(function(){return Wo})),n.d(o,"impute",(function(){return Xo})),n.d(o,"joinaggregate",(function(){return $o})),n.d(o,"kde",(function(){return Zo})),n.d(o,"key",(function(){return Qo})),n.d(o,"load",(function(){return ea})),n.d(o,"lookup",(function(){return na})),n.d(o,"multiextent",(function(){return ra})),n.d(o,"multivalues",(function(){return oa})),n.d(o,"params",(function(){return sa})),n.d(o,"pivot",(function(){return la})),n.d(o,"prefacet",(function(){return ca})),n.d(o,"project",(function(){return fa})),n.d(o,"proxy",(function(){return da})),n.d(o,"quantile",(function(){return pa})),n.d(o,"relay",(function(){return va})),n.d(o,"sample",(function(){return ga})),n.d(o,"sequence",(function(){return ya})),n.d(o,"sieve",(function(){return ba})),n.d(o,"subflow",(function(){return Ro})),n.d(o,"timeunit",(function(){return el})),n.d(o,"tupleindex",(function(){return rl})),n.d(o,"values",(function(){return il})),n.d(o,"window",(function(){return ul}));var a={};n.r(a),n.d(a,"interpolate",(function(){return Ap})),n.d(a,"interpolateArray",(function(){return xp})),n.d(a,"interpolateBasis",(function(){return lp})),n.d(a,"interpolateBasisClosed",(function(){return up})),n.d(a,"interpolateDate",(function(){return Ep})),n.d(a,"interpolateDiscrete",(function(){return Cm})),n.d(a,"interpolateHue",(function(){return Am})),n.d(a,"interpolateNumber",(function(){return Tp})),n.d(a,"interpolateNumberArray",(function(){return bp})),n.d(a,"interpolateObject",(function(){return Sp})),n.d(a,"interpolateRound",(function(){return Mp})),n.d(a,"interpolateString",(function(){return Cp})),n.d(a,"interpolateTransformCss",(function(){return Nm})),n.d(a,"interpolateTransformSvg",(function(){return Rm})),n.d(a,"interpolateZoom",(function(){return Fm})),n.d(a,"interpolateRgb",(function(){return mp})),n.d(a,"interpolateRgbBasis",(function(){return gp})),n.d(a,"interpolateRgbBasisClosed",(function(){return yp})),n.d(a,"interpolateHsl",(function(){return zm})),n.d(a,"interpolateHslLong",(function(){return Hm})),n.d(a,"interpolateLab",(function(){return tv})),n.d(a,"interpolateHcl",(function(){return rv})),n.d(a,"interpolateHclLong",(function(){return iv})),n.d(a,"interpolateCubehelix",(function(){return hv})),n.d(a,"interpolateCubehelixLong",(function(){return pv})),n.d(a,"piecewise",(function(){return cm})),n.d(a,"quantize",(function(){return mv}));var s={};n.r(s),n.d(s,"bound",(function(){return Ig})),n.d(s,"identifier",(function(){return Ng})),n.d(s,"mark",(function(){return Rg})),n.d(s,"overlap",(function(){return Lg})),n.d(s,"render",(function(){return Gg})),n.d(s,"viewlayout",(function(){return py}));var l={};n.r(l),n.d(l,"axisticks",(function(){return my})),n.d(l,"datajoin",(function(){return vy})),n.d(l,"encode",(function(){return by})),n.d(l,"legendentries",(function(){return _y})),n.d(l,"linkpath",(function(){return ky})),n.d(l,"pie",(function(){return Py})),n.d(l,"scale",(function(){return Ny})),n.d(l,"sortitems",(function(){return Fy})),n.d(l,"stack",(function(){return zy}));var u={};n.r(u),n.d(u,"contour",(function(){return lb})),n.d(u,"geojson",(function(){return ub})),n.d(u,"geopath",(function(){return Tw})),n.d(u,"geopoint",(function(){return Sw})),n.d(u,"geoshape",(function(){return kw})),n.d(u,"graticule",(function(){return Mw})),n.d(u,"heatmap",(function(){return Pw})),n.d(u,"isocontour",(function(){return Zy})),n.d(u,"kde2d",(function(){return ib})),n.d(u,"projection",(function(){return Dw}));var c={};n.r(c),n.d(c,"force",(function(){return kE}));var f={};n.r(f),n.d(f,"nest",(function(){return BE})),n.d(f,"pack",(function(){return hT})),n.d(f,"partition",(function(){return yT})),n.d(f,"stratify",(function(){return ST})),n.d(f,"tree",(function(){return jT})),n.d(f,"treelinks",(function(){return BT})),n.d(f,"treemap",(function(){return YT}));var d={};n.r(d),n.d(d,"loess",(function(){return KT})),n.d(d,"regression",(function(){return QT}));var h={};n.r(h),n.d(h,"voronoi",(function(){return SS}));var p={};n.r(p),n.d(p,"wordcloud",(function(){return BS}));var m={};n.r(m),n.d(m,"crossfilter",(function(){return qS})),n.d(m,"resolvefilter",(function(){return XS}));var v={};n.r(v),n.d(v,"version",(function(){return $S.a})),n.d(v,"bandwidthNRD",(function(){return vi})),n.d(v,"bin",(function(){return gi})),n.d(v,"bootstrapCI",(function(){return _i})),n.d(v,"dotbin",(function(){return xi})),n.d(v,"quantiles",(function(){return hi})),n.d(v,"quartiles",(function(){return pi})),n.d(v,"random",(function(){return yi})),n.d(v,"setRandom",(function(){return bi})),n.d(v,"randomLCG",(function(){return wi})),n.d(v,"randomInteger",(function(){return Ei})),n.d(v,"randomKDE",(function(){return Ii})),n.d(v,"randomLogNormal",(function(){return ji})),n.d(v,"sampleLogNormal",(function(){return Di})),n.d(v,"densityLogNormal",(function(){return Ni})),n.d(v,"cumulativeLogNormal",(function(){return Ri})),n.d(v,"quantileLogNormal",(function(){return Li})),n.d(v,"randomMixture",(function(){return Fi})),n.d(v,"randomNormal",(function(){return Pi})),n.d(v,"sampleNormal",(function(){return Oi})),n.d(v,"densityNormal",(function(){return Ci})),n.d(v,"cumulativeNormal",(function(){return Ai})),n.d(v,"quantileNormal",(function(){return Mi})),n.d(v,"randomUniform",(function(){return Vi})),n.d(v,"sampleUniform",(function(){return Bi})),n.d(v,"densityUniform",(function(){return zi})),n.d(v,"cumulativeUniform",(function(){return Hi})),n.d(v,"quantileUniform",(function(){return Ui})),n.d(v,"regressionLinear",(function(){return Xi})),n.d(v,"regressionLog",(function(){return $i})),n.d(v,"regressionExp",(function(){return Ji})),n.d(v,"regressionPow",(function(){return eo})),n.d(v,"regressionQuad",(function(){return to})),n.d(v,"regressionPoly",(function(){return no})),n.d(v,"regressionLoess",(function(){return oo})),n.d(v,"sampleCurve",(function(){return uo})),n.d(v,"timeUnits",(function(){return Ma})),n.d(v,"TIME_UNITS",(function(){return Ca})),n.d(v,"dayofyear",(function(){return ja})),n.d(v,"week",(function(){return Fa})),n.d(v,"utcdayofyear",(function(){return Va})),n.d(v,"utcweek",(function(){return Ga})),n.d(v,"timeFloor",(function(){return es})),n.d(v,"utcFloor",(function(){return rs})),n.d(v,"timeUnitSpecifier",(function(){return Ns})),n.d(v,"timeFormat",(function(){return Rs})),n.d(v,"utcFormat",(function(){return Ls})),n.d(v,"timeInterval",(function(){return Ss})),n.d(v,"timeOffset",(function(){return Cs})),n.d(v,"timeSequence",(function(){return Ps})),n.d(v,"utcInterval",(function(){return ks})),n.d(v,"utcOffset",(function(){return As})),n.d(v,"utcSequence",(function(){return Is})),n.d(v,"timeBin",(function(){return Js})),n.d(v,"accessor",(function(){return ne.f})),n.d(v,"accessorName",(function(){return ne.h})),n.d(v,"accessorFields",(function(){return ne.g})),n.d(v,"id",(function(){return ne.w})),n.d(v,"identity",(function(){return ne.x})),n.d(v,"zero",(function(){return ne.kb})),n.d(v,"one",(function(){return ne.O})),n.d(v,"truthy",(function(){return ne.gb})),n.d(v,"falsy",(function(){return ne.r})),n.d(v,"logger",(function(){return ne.K})),n.d(v,"None",(function(){return ne.d})),n.d(v,"Error",(function(){return ne.b})),n.d(v,"Warn",(function(){return ne.e})),n.d(v,"Info",(function(){return ne.c})),n.d(v,"Debug",(function(){return ne.a})),n.d(v,"mergeConfig",(function(){return ne.N})),n.d(v,"writeConfig",(function(){return ne.jb})),n.d(v,"panLinear",(function(){return ne.Q})),n.d(v,"panLog",(function(){return ne.R})),n.d(v,"panPow",(function(){return ne.S})),n.d(v,"panSymlog",(function(){return ne.T})),n.d(v,"zoomLinear",(function(){return ne.lb})),n.d(v,"zoomLog",(function(){return ne.mb})),n.d(v,"zoomPow",(function(){return ne.nb})),n.d(v,"zoomSymlog",(function(){return ne.ob})),n.d(v,"quarter",(function(){return ne.V})),n.d(v,"utcquarter",(function(){return ne.hb})),n.d(v,"array",(function(){return ne.i})),n.d(v,"clampRange",(function(){return ne.j})),n.d(v,"compare",(function(){return ne.k})),n.d(v,"constant",(function(){return ne.l})),n.d(v,"debounce",(function(){return ne.m})),n.d(v,"error",(function(){return ne.n})),n.d(v,"extend",(function(){return ne.o})),n.d(v,"extent",(function(){return ne.p})),n.d(v,"extentIndex",(function(){return ne.q})),n.d(v,"fastmap",(function(){return ne.s})),n.d(v,"field",(function(){return ne.t})),n.d(v,"flush",(function(){return ne.u})),n.d(v,"hasOwnProperty",(function(){return ne.v})),n.d(v,"inherits",(function(){return ne.y})),n.d(v,"inrange",(function(){return ne.z})),n.d(v,"isArray",(function(){return ne.A})),n.d(v,"isBoolean",(function(){return ne.B})),n.d(v,"isDate",(function(){return ne.C})),n.d(v,"isFunction",(function(){return ne.D})),n.d(v,"isNumber",(function(){return ne.E})),n.d(v,"isObject",(function(){return ne.F})),n.d(v,"isRegExp",(function(){return ne.G})),n.d(v,"isString",(function(){return ne.H})),n.d(v,"key",(function(){return ne.I})),n.d(v,"lerp",(function(){return ne.J})),n.d(v,"lruCache",(function(){return ne.L})),n.d(v,"merge",(function(){return ne.M})),n.d(v,"pad",(function(){return ne.P})),n.d(v,"peek",(function(){return ne.U})),n.d(v,"repeat",(function(){return ne.W})),n.d(v,"span",(function(){return ne.X})),n.d(v,"splitAccessPath",(function(){return ne.Y})),n.d(v,"stringValue",(function(){return ne.Z})),n.d(v,"toBoolean",(function(){return ne.ab})),n.d(v,"toDate",(function(){return ne.bb})),n.d(v,"toNumber",(function(){return ne.cb})),n.d(v,"toString",(function(){return ne.eb})),n.d(v,"toSet",(function(){return ne.db})),n.d(v,"truncate",(function(){return ne.fb})),n.d(v,"visitArray",(function(){return ne.ib})),n.d(v,"loader",(function(){return vr})),n.d(v,"read",(function(){return mr})),n.d(v,"inferType",(function(){return Xe})),n.d(v,"inferTypes",(function(){return $e})),n.d(v,"typeParsers",(function(){return We})),n.d(v,"format",(function(){return yt})),n.d(v,"formats",(function(){return bt})),n.d(v,"responseType",(function(){return _t})),n.d(v,"Bounds",(function(){return bl})),n.d(v,"Gradient",(function(){return Sl})),n.d(v,"GroupItem",(function(){return Ol})),n.d(v,"ResourceLoader",(function(){return Ml})),n.d(v,"Item",(function(){return kl})),n.d(v,"Scenegraph",(function(){return Td})),n.d(v,"Handler",(function(){return Dd})),n.d(v,"Renderer",(function(){return Ld})),n.d(v,"CanvasHandler",(function(){return Fd})),n.d(v,"CanvasRenderer",(function(){return Vd})),n.d(v,"SVGHandler",(function(){return Xd})),n.d(v,"SVGRenderer",(function(){return eg})),n.d(v,"SVGStringRenderer",(function(){return pg})),n.d(v,"RenderType",(function(){return xg})),n.d(v,"renderModule",(function(){return Eg})),n.d(v,"intersect",(function(){return Tg})),n.d(v,"Marks",(function(){return gd})),n.d(v,"boundClip",(function(){return Ag})),n.d(v,"boundContext",(function(){return zc})),n.d(v,"boundStroke",(function(){return Rc})),n.d(v,"boundItem",(function(){return yd})),n.d(v,"boundMark",(function(){return _d})),n.d(v,"pathCurves",(function(){return Ou})),n.d(v,"pathSymbols",(function(){return Wu})),n.d(v,"pathRectangle",(function(){return ac})),n.d(v,"pathTrail",(function(){return sc})),n.d(v,"pathParse",(function(){return Mu})),n.d(v,"pathRender",(function(){return Hu})),n.d(v,"point",(function(){return Id})),n.d(v,"domCreate",(function(){return Od})),n.d(v,"domFind",(function(){return Cd})),n.d(v,"domChild",(function(){return Ad})),n.d(v,"domClear",(function(){return Md})),n.d(v,"openTag",(function(){return $v})),n.d(v,"closeTag",(function(){return Kv})),n.d(v,"font",(function(){return fd})),n.d(v,"fontFamily",(function(){return cd})),n.d(v,"fontSize",(function(){return od})),n.d(v,"lineHeight",(function(){return ad})),n.d(v,"multiLineOffset",(function(){return ld})),n.d(v,"textMetrics",(function(){return Jf})),n.d(v,"resetSVGClipId",(function(){return Af})),n.d(v,"sceneEqual",(function(){return Mg})),n.d(v,"pathEqual",(function(){return Pg})),n.d(v,"sceneToJSON",(function(){return wd})),n.d(v,"sceneFromJSON",(function(){return Ed})),n.d(v,"intersectPath",(function(){return Zc})),n.d(v,"intersectPoint",(function(){return Qc})),n.d(v,"intersectRule",(function(){return ef})),n.d(v,"intersectBoxLine",(function(){return tf})),n.d(v,"sceneZOrder",(function(){return ff})),n.d(v,"sceneVisit",(function(){return df})),n.d(v,"scenePickVisit",(function(){return hf})),n.d(v,"Dataflow",(function(){return Fr})),n.d(v,"EventStream",(function(){return Ae})),n.d(v,"Parameters",(function(){return xe})),n.d(v,"Pulse",(function(){return Sr})),n.d(v,"MultiPulse",(function(){return Mr})),n.d(v,"Operator",(function(){return Se})),n.d(v,"Transform",(function(){return Hr})),n.d(v,"changeset",(function(){return be})),n.d(v,"ingest",(function(){return he})),n.d(v,"isTuple",(function(){return ce})),n.d(v,"definition",(function(){return Gr})),n.d(v,"transform",(function(){return Wr})),n.d(v,"transforms",(function(){return Vr})),n.d(v,"tupleid",(function(){return fe})),n.d(v,"scale",(function(){return mm})),n.d(v,"scheme",(function(){return Sv})),n.d(v,"interpolate",(function(){return xv})),n.d(v,"interpolateColors",(function(){return yv})),n.d(v,"interpolateRange",(function(){return gv})),n.d(v,"quantizeInterpolator",(function(){return bv})),n.d(v,"projection",(function(){return _w})),n.d(v,"View",(function(){return zA})),n.d(v,"expressionFunction",(function(){return mA})),n.d(v,"formatLocale",(function(){return kh})),n.d(v,"timeFormatLocale",(function(){return pr})),n.d(v,"parse",(function(){return JI})),n.d(v,"runtime",(function(){return OA})),n.d(v,"runtimeContext",(function(){return AA}));var g={};n.r(g),n.d(g,"invalidSpec",(function(){return RR})),n.d(g,"FIT_NON_SINGLE",(function(){return LR})),n.d(g,"containerSizeNonSingle",(function(){return jR})),n.d(g,"containerSizeNotCompatibleWithAutosize",(function(){return FR})),n.d(g,"droppingFit",(function(){return BR})),n.d(g,"cannotProjectOnChannelWithoutField",(function(){return zR})),n.d(g,"cannotProjectAggregate",(function(){return HR})),n.d(g,"nearestNotSupportForContinuous",(function(){return UR})),n.d(g,"selectionNotSupported",(function(){return VR})),n.d(g,"selectionNotFound",(function(){return GR})),n.d(g,"SCALE_BINDINGS_CONTINUOUS",(function(){return WR})),n.d(g,"LEGEND_BINDINGS_PROJECT_LENGTH",(function(){return qR})),n.d(g,"noSameUnitLookup",(function(){return YR})),n.d(g,"noSuchRepeatedValue",(function(){return XR})),n.d(g,"columnsNotSupportByRowCol",(function(){return $R})),n.d(g,"CONCAT_CANNOT_SHARE_AXIS",(function(){return KR})),n.d(g,"unrecognizedParse",(function(){return ZR})),n.d(g,"differentParse",(function(){return QR})),n.d(g,"invalidTransformIgnored",(function(){return JR})),n.d(g,"NO_FIELDS_NEEDS_AS",(function(){return eL})),n.d(g,"encodingOverridden",(function(){return tL})),n.d(g,"projectionOverridden",(function(){return nL})),n.d(g,"REPLACE_ANGLE_WITH_THETA",(function(){return rL})),n.d(g,"primitiveChannelDef",(function(){return iL})),n.d(g,"invalidFieldType",(function(){return oL})),n.d(g,"invalidFieldTypeForCountAggregate",(function(){return aL})),n.d(g,"invalidAggregate",(function(){return sL})),n.d(g,"missingFieldType",(function(){return lL})),n.d(g,"droppingColor",(function(){return uL})),n.d(g,"emptyFieldDef",(function(){return cL})),n.d(g,"latLongDeprecated",(function(){return fL})),n.d(g,"LINE_WITH_VARYING_SIZE",(function(){return dL})),n.d(g,"incompatibleChannel",(function(){return hL})),n.d(g,"invalidEncodingChannel",(function(){return pL})),n.d(g,"facetChannelShouldBeDiscrete",(function(){return mL})),n.d(g,"facetChannelDropped",(function(){return vL})),n.d(g,"discreteChannelCannotEncode",(function(){return gL})),n.d(g,"lineWithRange",(function(){return yL})),n.d(g,"orientOverridden",(function(){return bL})),n.d(g,"CANNOT_UNION_CUSTOM_DOMAIN_WITH_FIELD_DOMAIN",(function(){return _L})),n.d(g,"RANGE_STEP_DEPRECATED",(function(){return xL})),n.d(g,"cannotUseScalePropertyWithNonColor",(function(){return wL})),n.d(g,"unaggregateDomainHasNoEffectForRawField",(function(){return EL})),n.d(g,"unaggregateDomainWithNonSharedDomainOp",(function(){return TL})),n.d(g,"unaggregatedDomainWithLogScale",(function(){return SL})),n.d(g,"cannotApplySizeToNonOrientedMark",(function(){return kL})),n.d(g,"scaleTypeNotWorkWithChannel",(function(){return OL})),n.d(g,"scaleTypeNotWorkWithFieldDef",(function(){return CL})),n.d(g,"scalePropertyNotWorkWithScaleType",(function(){return AL})),n.d(g,"scaleTypeNotWorkWithMark",(function(){return ML})),n.d(g,"stepDropped",(function(){return PL})),n.d(g,"mergeConflictingProperty",(function(){return IL})),n.d(g,"mergeConflictingDomainProperty",(function(){return DL})),n.d(g,"independentScaleMeansIndependentGuide",(function(){return NL})),n.d(g,"domainSortDropped",(function(){return RL})),n.d(g,"UNABLE_TO_MERGE_DOMAINS",(function(){return LL})),n.d(g,"MORE_THAN_ONE_SORT",(function(){return jL})),n.d(g,"INVALID_CHANNEL_FOR_AXIS",(function(){return FL})),n.d(g,"cannotStackRangedMark",(function(){return BL})),n.d(g,"cannotStackNonLinearScale",(function(){return zL})),n.d(g,"stackNonSummativeAggregate",(function(){return HL})),n.d(g,"invalidTimeUnit",(function(){return UL})),n.d(g,"dayReplacedWithDate",(function(){return VL})),n.d(g,"droppedDay",(function(){return GL})),n.d(g,"errorBarCenterAndExtentAreNotNeeded",(function(){return WL})),n.d(g,"errorBarCenterIsUsedWithWrongExtent",(function(){return qL})),n.d(g,"errorBarContinuousAxisHasCustomizedAggregate",(function(){return YL})),n.d(g,"errorBarCenterIsNotNeeded",(function(){return XL})),n.d(g,"errorBand1DNotSupport",(function(){return $L})),n.d(g,"channelRequiredForBinned",(function(){return KL})),n.d(g,"domainRequiredForThresholdScale",(function(){return ZL}));var y={};n.r(y),n.d(y,"compile",(function(){return hY})),n.d(y,"extractTransforms",(function(){return gY})),n.d(y,"normalize",(function(){return BH})),n.d(y,"version",(function(){return yY}));var b={};n.r(b),n.d(b,"dark",(function(){return wY})),n.d(b,"excel",(function(){return EY})),n.d(b,"fivethirtyeight",(function(){return TY})),n.d(b,"ggplot2",(function(){return SY})),n.d(b,"latimes",(function(){return CY})),n.d(b,"quartz",(function(){return AY})),n.d(b,"vox",(function(){return MY})),n.d(b,"urbaninstitute",(function(){return IY})),n.d(b,"googlecharts",(function(){return DY})),n.d(b,"version",(function(){return NY}));var _=n(9),x=n.n(_);function w(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function E(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}l((r=r.apply(e,t||[])).next())}))}var T=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),S=Object.prototype.hasOwnProperty;function k(e,t){return S.call(e,t)}function O(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);t=[];for(var r in e)k(e,r)&&t.push(r);return t}function C(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function A(e){for(var t,n=0,r=e.length;n<r;){if(!((t=e.charCodeAt(n))>=48&&t<=57))return!1;n++}return!0}function M(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function P(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function I(e,t){var n=[e];for(var r in t){var i="object"===typeof t[r]?JSON.stringify(t[r],null,2):t[r];"undefined"!==typeof i&&n.push(r+": "+i)}return n.join("\n")}var D=function(e){function t(t,n,r,i,o){var a=this.constructor,s=e.call(this,I(t,{name:n,index:r,operation:i,tree:o}))||this;return s.name=n,s.index=r,s.operation=i,s.tree=o,Object.setPrototypeOf(s,a.prototype),s.message=I(t,{name:n,index:r,operation:i,tree:o}),s}return T(t,e),t}(Error),N=D,R=C,L={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=F(n,this.path);r&&(r=C(r));var i=B(n,{op:"remove",path:this.from}).removed;return B(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=F(n,this.from);return B(n,{op:"add",path:this.path,value:C(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:G(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},j={add:function(e,t,n){return A(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){return{newDocument:n,removed:e.splice(t,1)[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:L.move,copy:L.copy,test:L.test,_get:L._get};function F(e,t){if(""==t)return e;var n={op:"_get",path:t};return B(e,n),n.value}function B(e,t,n,r,i,o){if(void 0===n&&(n=!1),void 0===r&&(r=!0),void 0===i&&(i=!0),void 0===o&&(o=0),n&&("function"==typeof n?n(t,0,e,t.path):U(t,0)),""===t.path){var a={newDocument:e};if("add"===t.op)return a.newDocument=t.value,a;if("replace"===t.op)return a.newDocument=t.value,a.removed=e,a;if("move"===t.op||"copy"===t.op)return a.newDocument=F(e,t.from),"move"===t.op&&(a.removed=e),a;if("test"===t.op){if(a.test=G(e,t.value),!1===a.test)throw new N("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return a.newDocument=e,a}if("remove"===t.op)return a.removed=e,a.newDocument=null,a;if("_get"===t.op)return t.value=e,a;if(n)throw new N("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,t,e);return a}r||(e=C(e));var s=(t.path||"").split("/"),l=e,u=1,c=s.length,f=void 0,d=void 0,h=void 0;for(h="function"==typeof n?n:U;;){if(d=s[u],i&&"__proto__"==d)throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&void 0===f&&(void 0===l[d]?f=s.slice(0,u).join("/"):u==c-1&&(f=t.path),void 0!==f&&h(t,0,e,f)),u++,Array.isArray(l)){if("-"===d)d=l.length;else{if(n&&!A(d))throw new N("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,t,e);A(d)&&(d=~~d)}if(u>=c){if(n&&"add"===t.op&&d>l.length)throw new N("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,t,e);if(!1===(a=j[t.op].call(t,l,d,e)).test)throw new N("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return a}}else if(d&&-1!=d.indexOf("~")&&(d=P(d)),u>=c){if(!1===(a=L[t.op].call(t,l,d,e)).test)throw new N("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return a}l=l[d]}}function z(e,t,n,r,i){if(void 0===r&&(r=!0),void 0===i&&(i=!0),n&&!Array.isArray(t))throw new N("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=C(e));for(var o=new Array(t.length),a=0,s=t.length;a<s;a++)o[a]=B(e,t[a],n,!0,i,a),e=o[a].newDocument;return o.newDocument=e,o}function H(e,t,n){var r=B(e,t);if(!1===r.test)throw new N("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function U(e,t,n,r){if("object"!==typeof e||null===e||Array.isArray(e))throw new N("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(!L[e.op])throw new N("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n);if("string"!==typeof e.path)throw new N("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(0!==e.path.indexOf("/")&&e.path.length>0)throw new N('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if(("move"===e.op||"copy"===e.op)&&"string"!==typeof e.from)throw new N("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new N("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&function e(t){if(void 0===t)return!0;if(t)if(Array.isArray(t)){for(var n=0,r=t.length;n<r;n++)if(e(t[n]))return!0}else if("object"===typeof t){var i=O(t),o=i.length;for(n=0;n<o;n++)if(e(t[i[n]]))return!0}return!1}(e.value))throw new N("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n)if("add"==e.op){var i=e.path.split("/").length,o=r.split("/").length;if(i!==o+1&&i!==o)throw new N("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==r)throw new N("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if("move"===e.op||"copy"===e.op){var a=V([{op:"_get",path:e.from,value:void 0}],n);if(a&&"OPERATION_PATH_UNRESOLVABLE"===a.name)throw new N("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}function V(e,t,n){try{if(!Array.isArray(e))throw new N("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)z(C(t),C(e),n||!0);else{n=n||U;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof N)return i;throw i}}function G(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var n,r,i,o=Array.isArray(e),a=Array.isArray(t);if(o&&a){if((r=e.length)!=t.length)return!1;for(n=r;0!==n--;)if(!G(e[n],t[n]))return!1;return!0}if(o!=a)return!1;var s=Object.keys(e);if((r=s.length)!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!t.hasOwnProperty(s[n]))return!1;for(n=r;0!==n--;)if(!G(e[i=s[n]],t[i]))return!1;return!0}return e!==e&&t!==t}var W=new WeakMap,q=function(e){this.observers=new Map,this.obj=e},Y=function(e,t){this.callback=e,this.observer=t};function X(e,t){t.unobserve()}function $(e,t){var n,r=function(e){return W.get(e)}(e);if(r){var i=function(e,t){return e.observers.get(t)}(r,t);n=i&&i.observer}else r=new q(e),W.set(e,r);if(n)return n;if(n={},r.value=C(e),t){n.callback=t,n.next=null;var o=function(){K(n)},a=function(){clearTimeout(n.next),n.next=setTimeout(o)};"undefined"!==typeof window&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return n.patches=[],n.object=e,n.unobserve=function(){K(n),clearTimeout(n.next),function(e,t){e.observers.delete(t.callback)}(r,n),"undefined"!==typeof window&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},r.observers.set(t,new Y(t,n)),n}function K(e,t){void 0===t&&(t=!1);var n=W.get(e.object);Z(n.value,e.object,e.patches,"",t),e.patches.length&&z(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function Z(e,t,n,r,i){if(t!==e){"function"===typeof t.toJSON&&(t=t.toJSON());for(var o=O(t),a=O(e),s=!1,l=a.length-1;l>=0;l--){var u=e[f=a[l]];if(!k(t,f)||void 0===t[f]&&void 0!==u&&!1===Array.isArray(t))Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+M(f),value:C(u)}),n.push({op:"remove",path:r+"/"+M(f)}),s=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}),!0);else{var c=t[f];"object"==typeof u&&null!=u&&"object"==typeof c&&null!=c?Z(u,c,n,r+"/"+M(f),i):u!==c&&(!0,i&&n.push({op:"test",path:r+"/"+M(f),value:C(u)}),n.push({op:"replace",path:r+"/"+M(f),value:C(c)}))}}if(s||o.length!=a.length)for(l=0;l<o.length;l++){var f;k(e,f=o[l])||void 0===t[f]||n.push({op:"add",path:r+"/"+M(f),value:C(t[f])})}}}function Q(e,t,n){void 0===n&&(n=!1);var r=[];return Z(e,t,r,"",n),r}Object.assign({},r,i,{JsonPatchError:D,deepClone:C,escapePathComponent:M,unescapePathComponent:P});var J=n(78),ee=n.n(J),te=n(113),ne=n(0);function re(e){var t=e||ne.x,n=[],r={};return n.add=function(e){var i=t(e);return r[i]||(r[i]=1,n.push(e)),n},n.remove=function(e){var i,o=t(e);return r[o]&&(r[o]=0,(i=n.indexOf(e))>=0&&n.splice(i,1)),n},n}function ie(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,i)}function oe(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ie(o,r,i,a,s,"next",e)}function s(e){ie(o,r,i,a,s,"throw",e)}a(void 0)}))}}var ae=function(e,t){return se.apply(this,arguments)};function se(){return(se=oe(x.a.mark((function e(t,n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),t.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}var le=Symbol("vega_id"),ue=1;function ce(e){return!(!e||!fe(e))}function fe(e){return e[le]}function de(e,t){return e[le]=t,e}function he(e){var t=e===Object(e)?e:{data:e};return fe(t)?t:de(t,ue++)}function pe(e){return me(e,he({}))}function me(e,t){for(var n in e)t[n]=e[n];return t}function ve(e,t){return de(t,fe(e))}function ge(e,t){return e?t?function(n,r){return e(n,r)||fe(t(n))-fe(t(r))}:function(t,n){return e(t,n)||fe(t)-fe(n)}:null}function ye(e){return e&&e.constructor===be}function be(){var e=[],t=[],n=[],r=[],i=[],o=!1;return{constructor:be,insert:function(t){for(var n=Object(ne.i)(t),r=0,i=n.length;r<i;++r)e.push(n[r]);return this},remove:function(e){for(var n=Object(ne.D)(e)?r:t,i=Object(ne.i)(e),o=0,a=i.length;o<a;++o)n.push(i[o]);return this},modify:function(e,t,r){var o={field:t,value:Object(ne.l)(r)};return Object(ne.D)(e)?(o.filter=e,i.push(o)):(o.tuple=e,n.push(o)),this},encode:function(e,t){return Object(ne.D)(e)?i.push({filter:e,field:t}):n.push({tuple:e,field:t}),this},reflow:function(){return o=!0,this},pulse:function(a,s){var l,u,c,f,d,h,p={},m={};for(l=0,u=s.length;l<u;++l)p[fe(s[l])]=1;for(l=0,u=t.length;l<u;++l)p[fe(d=t[l])]=-1;for(l=0,u=r.length;l<u;++l)f=r[l],s.forEach((function(e){f(e)&&(p[fe(e)]=-1)}));for(l=0,u=e.length;l<u;++l)h=fe(d=e[l]),p[h]?p[h]=1:a.add.push(he(e[l]));for(l=0,u=s.length;l<u;++l)d=s[l],p[fe(d)]<0&&a.rem.push(d);function v(e,t,n){n?e[t]=n(e):a.encode=t,o||(m[fe(e)]=e)}for(l=0,u=n.length;l<u;++l)d=(c=n[l]).tuple,f=c.field,(h=p[fe(d)])>0&&(v(d,f,c.value),a.modifies(f));for(l=0,u=i.length;l<u;++l)c=i[l],f=c.filter,s.forEach((function(e){f(e)&&p[fe(e)]>0&&v(e,c.field,c.value)})),a.modifies(c.field);if(o)a.mod=t.length||r.length?s.filter((function(e){return p[fe(e)]>0})):s.slice();else for(h in m)a.mod.push(m[h]);return a}}}var _e="_:mod:_";function xe(){Object.defineProperty(this,_e,{writable:!0,value:{}})}var we=xe.prototype;we.set=function(e,t,n,r){var i=this,o=i[e],a=i[_e];return null!=t&&t>=0?(o[t]!==n||r)&&(o[t]=n,a[t+":"+e]=-1,a[e]=-1):(o!==n||r)&&(i[e]=n,a[e]=Object(ne.A)(n)?1+n.length:-1),i},we.modified=function(e,t){var n,r=this[_e];if(!arguments.length){for(n in r)if(r[n])return!0;return!1}if(Object(ne.A)(e)){for(n=0;n<e.length;++n)if(r[e[n]])return!0;return!1}return null!=t&&t>=0?t+1<r[e]||!!r[t+":"+e]:!!r[e]},we.clear=function(){return this[_e]={},this};var Ee=0,Te=new xe;function Se(e,t,n,r){this.id=++Ee,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}var ke=Se.prototype;function Oe(e){return function(t){var n=this.flags;return 0===arguments.length?!!(n&e):(this.flags=t?n|e:n&~e,this)}}ke.targets=function(){return this._targets||(this._targets=re(ne.w))},ke.set=function(e){return this.value!==e?(this.value=e,1):0},ke.skip=Oe(1),ke.modified=Oe(2),ke.parameters=function(e,t,n){t=!1!==t;var r,i,o,a,s=this,l=s._argval=s._argval||new xe,u=s._argops=s._argops||[],c=[];function f(e,n,r){r instanceof Se?(r!==s&&(t&&r.targets().add(s),c.push(r)),u.push({op:r,name:e,index:n})):l.set(e,n,r)}for(r in e)if(i=e[r],"pulse"===r)Object(ne.i)(i).forEach((function(e){e instanceof Se?e!==s&&(e.targets().add(s),c.push(e)):Object(ne.n)("Pulse parameters must be operator instances.")})),s.source=i;else if(Object(ne.A)(i))for(l.set(r,-1,Array(o=i.length)),a=0;a<o;++a)f(r,a,i[a]);else f(r,-1,i);return this.marshall().clear(),n&&(u.initonly=!0),c},ke.marshall=function(e){var t,n,r,i,o,a=this._argval||Te,s=this._argops;if(s){for(n=0,r=s.length;n<r;++n)o=(i=(t=s[n]).op).modified()&&i.stamp===e,a.set(t.name,t.index,i.value,o);if(s.initonly){for(n=0;n<r;++n)(t=s[n]).op.targets().remove(this);this._argops=null,this._update=null}}return a},ke.evaluate=function(e){var t=this._update;if(t){var n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},ke.run=function(e){return e.stamp<this.stamp?e.StopPropagation:(this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e);var t};var Ce=0;function Ae(e,t,n){this.id=++Ce,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function Me(e,t,n){return new Ae(e,t,n)}var Pe=Ae.prototype;Pe._filter=ne.gb,Pe._apply=ne.x,Pe.targets=function(){return this._targets||(this._targets=re(ne.w))},Pe.consume=function(e){return arguments.length?(this._consume=!!e,this):!!this._consume},Pe.receive=function(e){if(this._filter(e)){for(var t=this.value=this._apply(e),n=this._targets,r=n?n.length:0,i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},Pe.filter=function(e){var t=Me(e);return this.targets().add(t),t},Pe.apply=function(e){var t=Me(null,e);return this.targets().add(t),t},Pe.merge=function(){var e=Me();this.targets().add(e);for(var t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},Pe.throttle=function(e){var t=-1;return this.filter((function(){var n=Date.now();return n-t>e?(t=n,1):0}))},Pe.debounce=function(e){var t=Me();return this.targets().add(Me(null,null,Object(ne.m)(e,(function(e){var n=e.dataflow;t.receive(e),n&&n.run&&n.run()})))),t},Pe.between=function(e,t){var n=!1;return e.targets().add(Me(null,null,(function(){n=!0}))),t.targets().add(Me(null,null,(function(){n=!1}))),this.filter((function(){return n}))};var Ie=/^([A-Za-z]+:)?\/\//,De=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,Ne=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g;function Re(e,t){return Le.apply(this,arguments)}function Le(){return(Le=oe(x.a.mark((function e(t,n){var r,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sanitize(t,n);case 2:return r=e.sent,i=r.href,e.abrupt("return",r.localFile?this.file(i):this.http(i,n));case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function je(e,t){return Fe.apply(this,arguments)}function Fe(){return(Fe=oe(x.a.mark((function e(t,n){var r,i,o,a,s,l,u;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(ne.o)({},this.options,n),r=this.fileAccess,i={href:null},l=De.test(t.replace(Ne,"")),null!=t&&"string"===typeof t&&l||Object(ne.n)("Sanitize failure, invalid URI: "+Object(ne.Z)(t)),u=Ie.test(t),(s=n.baseURL)&&!u&&(t.startsWith("/")||"/"===s[s.length-1]||(t="/"+t),t=s+t),a=(o=t.startsWith("file://"))||"file"===n.mode||"http"!==n.mode&&!u&&r,o?t=t.slice("file://".length):t.startsWith("//")&&("file"===n.defaultProtocol?(t=t.slice(2),a=!0):t=(n.defaultProtocol||"http")+":"+t),Object.defineProperty(i,"localFile",{value:!!a}),i.href=t,n.target&&(i.target=n.target+""),n.rel&&(i.rel=n.rel+""),"image"===n.context&&n.crossOrigin&&(i.crossOrigin=n.crossOrigin+""),e.abrupt("return",i);case 14:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Be(e){return e?function(t){return new Promise((function(n,r){e.readFile(t,(function(e,t){e?r(e):n(t)}))}))}:ze}function ze(){return He.apply(this,arguments)}function He(){return(He=oe(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(ne.n)("No file system access.");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(e){return e?function(){var t=oe(x.a.mark((function t(n,r){var i,o,a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Object(ne.o)({},this.options.http,r),o=r&&r.response,t.next=4,e(n,i);case 4:return a=t.sent,t.abrupt("return",a.ok?Object(ne.D)(a[o])?a[o]():a.text():Object(ne.n)(a.status+""+a.statusText));case 6:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}():Ve}function Ve(){return Ge.apply(this,arguments)}function Ge(){return(Ge=oe(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(ne.n)("No HTTP fetch method available.");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var We={boolean:ne.ab,integer:ne.cb,number:ne.cb,date:ne.bb,string:ne.eb,unknown:ne.x},qe=[function(e){return"true"===e||"false"===e||!0===e||!1===e},function(e){return Ke(e)&&Number.isInteger(+e)},Ke,function(e){return!Number.isNaN(Date.parse(e))}],Ye=["boolean","integer","number","date"];function Xe(e,t){if(!e||!e.length)return"unknown";for(var n,r,i,o=e.length,a=qe.length,s=qe.map((function(e,t){return t+1})),l=0,u=0;l<o;++l)for(r=t?e[l][t]:e[l],n=0;n<a;++n)if(s[n]&&(null!=(i=r)&&i===i)&&!qe[n](r)&&(s[n]=0,++u===qe.length))return"string";return Ye[s.reduce((function(e,t){return 0===e?t:e}),0)-1]}function $e(e,t){return t.reduce((function(t,n){return t[n]=Xe(e,n),t}),{})}function Ke(e){return!Number.isNaN(+e)&&!(e instanceof Date)}var Ze={},Qe={};function Je(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function et(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function tt(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function nt(e){var t,n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":((t=e.getUTCFullYear())<0?"-"+tt(-t,6):t>9999?"+"+tt(t,6):tt(t,4))+"-"+tt(e.getUTCMonth()+1,2)+"-"+tt(e.getUTCDate(),2)+(o?"T"+tt(n,2)+":"+tt(r,2)+":"+tt(i,2)+"."+tt(o,3)+"Z":i?"T"+tt(n,2)+":"+tt(r,2)+":"+tt(i,2)+"Z":r||n?"T"+tt(n,2)+":"+tt(r,2)+"Z":"")}var rt=function(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,i=[],o=e.length,a=0,s=0,l=o<=0,u=!1;function c(){if(l)return Qe;if(u)return u=!1,Ze;var t,r,i=a;if(34===e.charCodeAt(i)){for(;a++<o&&34!==e.charCodeAt(a)||34===e.charCodeAt(++a););return(t=a)>=o?l=!0:10===(r=e.charCodeAt(a++))?u=!0:13===r&&(u=!0,10===e.charCodeAt(a)&&++a),e.slice(i+1,t-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=e.charCodeAt(t=a++)))u=!0;else if(13===r)u=!0,10===e.charCodeAt(a)&&++a;else if(r!==n)continue;return e.slice(i,t)}return l=!0,e.slice(i,o)}for(10===e.charCodeAt(o-1)&&--o,13===e.charCodeAt(o-1)&&--o;(r=c())!==Qe;){for(var f=[];r!==Ze&&r!==Qe;)f.push(r),r=c();t&&null==(f=t(f,s++))||i.push(f)}return i}function i(t,n){return t.map((function(t){return n.map((function(e){return a(t[e])})).join(e)}))}function o(t){return t.map(a).join(e)}function a(e){return null==e?"":e instanceof Date?nt(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,i,o=r(e,(function(e,r){if(n)return n(e,r-1);i=e,n=t?function(e,t){var n=Je(e);return function(r,i){return t(n(r),i,e)}}(e,t):Je(e)}));return o.columns=i||[],o},parseRows:r,format:function(t,n){return null==n&&(n=et(t)),[n.map(a).join(e)].concat(i(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=et(e)),i(e,t).join("\n")},formatRows:function(e){return e.map(o).join("\n")},formatRow:o,formatValue:a}};function it(e){var t=function(t,n){var r={delimiter:e};return ot(t,n?Object(ne.o)(n,r):r)};return t.responseType="text",t}function ot(e,t){return t.header&&(e=t.header.map(ne.Z).join(t.delimiter)+"\n"+e),rt(t.delimiter).parse(e+"")}ot.responseType="text";var at=n(77),st=function(e){return e},lt=function(e){if(null==e)return st;var t,n,r=e.scale[0],i=e.scale[1],o=e.translate[0],a=e.translate[1];return function(e,s){s||(t=n=0);var l=2,u=e.length,c=new Array(u);for(c[0]=(t+=e[0])*r+o,c[1]=(n+=e[1])*i+a;l<u;)c[l]=e[l],++l;return c}},ut=function(e,t){return"string"===typeof t&&(t=e.objects[t]),"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map((function(t){return ct(e,t)}))}:ct(e,t)};function ct(e,t){var n=t.id,r=t.bbox,i=null==t.properties?{}:t.properties,o=ft(e,t);return null==n&&null==r?{type:"Feature",properties:i,geometry:o}:null==r?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function ft(e,t){var n=lt(e.transform),r=e.arcs;function i(e,t){t.length&&t.pop();for(var i=r[e<0?~e:e],o=0,a=i.length;o<a;++o)t.push(n(i[o],o));e<0&&function(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}(t,a)}function o(e){return n(e)}function a(e){for(var t=[],n=0,r=e.length;n<r;++n)i(e[n],t);return t.length<2&&t.push(t[0]),t}function s(e){for(var t=a(e);t.length<4;)t.push(t[0]);return t}function l(e){return e.map(s)}return function e(t){var n,r=t.type;switch(r){case"GeometryCollection":return{type:r,geometries:t.geometries.map(e)};case"Point":n=o(t.coordinates);break;case"MultiPoint":n=t.coordinates.map(o);break;case"LineString":n=a(t.arcs);break;case"MultiLineString":n=t.arcs.map(a);break;case"Polygon":n=l(t.arcs);break;case"MultiPolygon":n=t.arcs.map(l);break;default:return null}return{type:r,coordinates:n}}(t)}var dt=function(e,t){var n={},r={},i={},o=[],a=-1;function s(e,t){for(var r in e){var i=e[r];delete t[i.start],delete i.start,delete i.end,i.forEach((function(e){n[e<0?~e:e]=1})),o.push(i)}}return t.forEach((function(n,r){var i,o=e.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(i=t[++a],t[a]=n,t[r]=i)})),t.forEach((function(t){var n,o,a=function(t){var n,r=e.arcs[t<0?~t:t],i=r[0];e.transform?(n=[0,0],r.forEach((function(e){n[0]+=e[0],n[1]+=e[1]}))):n=r[r.length-1];return t<0?[n,i]:[i,n]}(t),s=a[0],l=a[1];if(n=i[s])if(delete i[n.end],n.push(t),n.end=l,o=r[l]){delete r[o.start];var u=o===n?n:n.concat(o);r[u.start=n.start]=i[u.end=o.end]=u}else r[n.start]=i[n.end]=n;else if(n=r[l])if(delete r[n.start],n.unshift(t),n.start=s,o=i[s]){delete i[o.end];var c=o===n?n:o.concat(n);r[c.start=o.start]=i[c.end=n.end]=c}else r[n.start]=i[n.end]=n;else r[(n=[t]).start=s]=i[n.end=l]=n})),s(i,r),s(r,i),t.forEach((function(e){n[e<0?~e:e]||o.push([e])})),o},ht=function(e){return ft(e,pt.apply(this,arguments))};function pt(e,t,n){var r,i,o;if(arguments.length>1)r=mt(e,t,n);else for(i=0,r=new Array(o=e.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:dt(e,r)}}function mt(e,t,n){var r,i=[],o=[];function a(e){var t=e<0?~e:e;(o[t]||(o[t]=[])).push({i:e,g:r})}function s(e){e.forEach(a)}function l(e){e.forEach(s)}return function e(t){switch(r=t,t.type){case"GeometryCollection":t.geometries.forEach(e);break;case"LineString":s(t.arcs);break;case"MultiLineString":case"Polygon":l(t.arcs);break;case"MultiPolygon":!function(e){e.forEach(l)}(t.arcs)}}(t),o.forEach(null==n?function(e){i.push(e[0].i)}:function(e){n(e[0].g,e[e.length-1].g)&&i.push(e[0].i)}),i}var vt={interior:function(e,t){return e!==t},exterior:function(e,t){return e===t}};function gt(e,t){var n,r,i,o;return e=Object(at.a)(e,t),t&&t.feature?(n=ut,i=t.feature):t&&t.mesh?(n=ht,i=t.mesh,o=vt[t.filter]):Object(ne.n)("Missing TopoJSON feature or mesh parameter."),(r=(r=e.objects[i])?n(e,r,o):Object(ne.n)("Invalid TopoJSON object: "+i))&&r.features||[r]}gt.responseType="json";var yt={dsv:ot,csv:it(","),tsv:it("\t"),json:at.a,topojson:gt};function bt(e,t){return arguments.length>1?(yt[e]=t,this):Object(ne.v)(yt,e)?yt[e]:null}function _t(e){var t=bt(e);return t&&t.responseType||"text"}var xt=new Date,wt=new Date;function Et(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=function(t){return e(t=new Date(+t)),t},i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return s;do{s.push(a=new Date(+n)),t(n,o),e(n)}while(a<n&&n<r);return s},i.filter=function(n){return Et((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(i.count=function(t,r){return xt.setTime(+t),wt.setTime(+r),e(xt),e(wt),Math.floor(n(xt,wt))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e===0}:function(t){return i.count(0,t)%e===0}):i:null}),i}function Tt(e){return Et((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/6048e5}))}var St=Tt(0),kt=Tt(1),Ot=Tt(2),Ct=Tt(3),At=Tt(4),Mt=Tt(5),Pt=Tt(6),It=(St.range,kt.range,Ot.range,Ct.range,At.range,Mt.range,Pt.range,Et((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/864e5}),(function(e){return e.getUTCDate()-1}))),Dt=It;It.range;function Nt(e){return Et((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/6048e5}))}var Rt=Nt(0),Lt=Nt(1),jt=Nt(2),Ft=Nt(3),Bt=Nt(4),zt=Nt(5),Ht=Nt(6),Ut=(Rt.range,Lt.range,jt.range,Ft.range,Bt.range,zt.range,Ht.range,Et((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5}),(function(e){return e.getDate()-1}))),Vt=Ut,Gt=(Ut.range,Et((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()})));Gt.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Et((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var Wt=Gt,qt=(Gt.range,Et((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()})));qt.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Et((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var Yt=qt;qt.range;function Xt(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function $t(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Kt(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var Zt,Qt,Jt,en,tn,nn={"-":"",_:" ",0:"0"},rn=/^\s*\d+/,on=/^%/,an=/[\\^$*+?|[\]().{}]/g;function sn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function ln(e){return e.replace(an,"\\$&")}function un(e){return new RegExp("^(?:"+e.map(ln).join("|")+")","i")}function cn(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function fn(e,t,n){var r=rn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function dn(e,t,n){var r=rn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function hn(e,t,n){var r=rn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function pn(e,t,n){var r=rn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function mn(e,t,n){var r=rn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function vn(e,t,n){var r=rn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function gn(e,t,n){var r=rn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function yn(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function bn(e,t,n){var r=rn.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function _n(e,t,n){var r=rn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function xn(e,t,n){var r=rn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function wn(e,t,n){var r=rn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function En(e,t,n){var r=rn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Tn(e,t,n){var r=rn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Sn(e,t,n){var r=rn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function kn(e,t,n){var r=rn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function On(e,t,n){var r=rn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Cn(e,t,n){var r=on.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function An(e,t,n){var r=rn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Mn(e,t,n){var r=rn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Pn(e,t){return sn(e.getDate(),t,2)}function In(e,t){return sn(e.getHours(),t,2)}function Dn(e,t){return sn(e.getHours()%12||12,t,2)}function Nn(e,t){return sn(1+Vt.count(Wt(e),e),t,3)}function Rn(e,t){return sn(e.getMilliseconds(),t,3)}function Ln(e,t){return Rn(e,t)+"000"}function jn(e,t){return sn(e.getMonth()+1,t,2)}function Fn(e,t){return sn(e.getMinutes(),t,2)}function Bn(e,t){return sn(e.getSeconds(),t,2)}function zn(e){var t=e.getDay();return 0===t?7:t}function Hn(e,t){return sn(Rt.count(Wt(e)-1,e),t,2)}function Un(e,t){var n=e.getDay();return e=n>=4||0===n?Bt(e):Bt.ceil(e),sn(Bt.count(Wt(e),e)+(4===Wt(e).getDay()),t,2)}function Vn(e){return e.getDay()}function Gn(e,t){return sn(Lt.count(Wt(e)-1,e),t,2)}function Wn(e,t){return sn(e.getFullYear()%100,t,2)}function qn(e,t){return sn(e.getFullYear()%1e4,t,4)}function Yn(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+sn(t/60|0,"0",2)+sn(t%60,"0",2)}function Xn(e,t){return sn(e.getUTCDate(),t,2)}function $n(e,t){return sn(e.getUTCHours(),t,2)}function Kn(e,t){return sn(e.getUTCHours()%12||12,t,2)}function Zn(e,t){return sn(1+Dt.count(Yt(e),e),t,3)}function Qn(e,t){return sn(e.getUTCMilliseconds(),t,3)}function Jn(e,t){return Qn(e,t)+"000"}function er(e,t){return sn(e.getUTCMonth()+1,t,2)}function tr(e,t){return sn(e.getUTCMinutes(),t,2)}function nr(e,t){return sn(e.getUTCSeconds(),t,2)}function rr(e){var t=e.getUTCDay();return 0===t?7:t}function ir(e,t){return sn(St.count(Yt(e)-1,e),t,2)}function or(e,t){var n=e.getUTCDay();return e=n>=4||0===n?At(e):At.ceil(e),sn(At.count(Yt(e),e)+(4===Yt(e).getUTCDay()),t,2)}function ar(e){return e.getUTCDay()}function sr(e,t){return sn(kt.count(Yt(e)-1,e),t,2)}function lr(e,t){return sn(e.getUTCFullYear()%100,t,2)}function ur(e,t){return sn(e.getUTCFullYear()%1e4,t,4)}function cr(){return"+0000"}function fr(){return"%"}function dr(e){return+e}function hr(e){return Math.floor(+e/1e3)}function pr(e){return Zt=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,u=un(i),c=cn(i),f=un(o),d=cn(o),h=un(a),p=cn(a),m=un(s),v=cn(s),g=un(l),y=cn(l),b={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:Pn,e:Pn,f:Ln,H:In,I:Dn,j:Nn,L:Rn,m:jn,M:Fn,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:dr,s:hr,S:Bn,u:zn,U:Hn,V:Un,w:Vn,W:Gn,x:null,X:null,y:Wn,Y:qn,Z:Yn,"%":fr},_={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:Xn,e:Xn,f:Jn,H:$n,I:Kn,j:Zn,L:Qn,m:er,M:tr,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:dr,s:hr,S:nr,u:rr,U:ir,V:or,w:ar,W:sr,x:null,X:null,y:lr,Y:ur,Z:cr,"%":fr},x={a:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=d[r[0].toLowerCase()],n+r[0].length):-1},b:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=y[r[0].toLowerCase()],n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=v[r[0].toLowerCase()],n+r[0].length):-1},c:function(e,n,r){return T(e,t,n,r)},d:xn,e:xn,f:On,H:En,I:En,j:wn,L:kn,m:_n,M:Tn,p:function(e,t,n){var r=u.exec(t.slice(n));return r?(e.p=c[r[0].toLowerCase()],n+r[0].length):-1},q:bn,Q:An,s:Mn,S:Sn,u:dn,U:hn,V:pn,w:fn,W:mn,x:function(e,t,r){return T(e,n,t,r)},X:function(e,t,n){return T(e,r,t,n)},y:gn,Y:vn,Z:yn,"%":Cn};function w(e,t){return function(n){var r,i,o,a=[],s=-1,l=0,u=e.length;for(n instanceof Date||(n=new Date(+n));++s<u;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(i=nn[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function E(e,t){return function(n){var r,i,o=Kt(1900,void 0,1);if(T(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=$t(Kt(o.y,0,1))).getUTCDay(),r=i>4||0===i?kt.ceil(r):kt(r),r=Dt.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=Xt(Kt(o.y,0,1))).getDay(),r=i>4||0===i?Lt.ceil(r):Lt(r),r=Vt.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?$t(Kt(o.y,0,1)).getUTCDay():Xt(Kt(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,$t(o)):Xt(o)}}function T(e,t,n,r){for(var i,o,a=0,s=t.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=x[i in nn?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=w(n,b),b.X=w(r,b),b.c=w(t,b),_.x=w(n,_),_.X=w(r,_),_.c=w(t,_),{format:function(e){var t=w(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=E(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=w(e+="",_);return t.toString=function(){return e},t},utcParse:function(e){var t=E(e+="",!0);return t.toString=function(){return e},t}}}(e),Qt=Zt.format,Jt=Zt.parse,en=Zt.utcFormat,tn=Zt.utcParse,Zt}pr({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var mr=function(e,t,n){var r=bt((t=t||{}).type||"json");return r||Object(ne.n)("Unknown data format type: "+t.type),e=r(e,t),t.parse&&function(e,t,n){if(!e.length)return;n=n||Jt;var r,i,o,a,s,l,u,c=e.columns||Object.keys(e[0]);"auto"===t&&(t=$e(e,c));for(c=Object.keys(t),r=c.map((function(e){var r,i,o=t[e];if(o&&(o.startsWith("date:")||o.startsWith("utc:")))return("'"===(i=(r=o.split(/:(.+)?/,2))[1])[0]&&"'"===i[i.length-1]||'"'===i[0]&&'"'===i[i.length-1])&&(i=i.slice(1,-1)),"utc"===r[0]?tn(i):n(i);if(!We[o])throw Error("Illegal format pattern: "+e+":"+o);return We[o]})),a=0,l=e.length,u=c.length;a<l;++a)for(i=e[a],s=0;s<u;++s)o=c[s],i[o]=r[s](i[o])}(e,t.parse,n),Object(ne.v)(e,"columns")&&delete e.columns,e};var vr=function(e,t){return function(n){return{options:n||{},sanitize:je,load:Re,fileAccess:!!t,file:Be(t),http:Ue(e)}}}("undefined"!==typeof fetch&&fetch,null),gr=mr;function yr(){return(yr=oe(x.a.mark((function e(t,n){var r,i,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,i=0,e.prev=2,e.next=5,r.loader().load(t,{context:"dataflow",response:_t(n&&n.type)});case 5:o=e.sent;try{o=gr(o,n)}catch(a){i=-2,r.warn("Data ingestion failed",t,a)}e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),i=-1,r.warn("Loading failed",t,e.t0);case 13:return e.abrupt("return",{data:o,status:i});case 14:case"end":return e.stop()}}),e,this,[[2,9]])})))).apply(this,arguments)}function br(){return(br=oe(x.a.mark((function e(t,n,r){var i,o,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=(i=this)._pending||_r(i)).requests+=1,e.next=4,i.request(n,r);case 4:return a=e.sent,i.pulse(t,i.changeset().remove(ne.gb).insert(a.data||[])),o.done(),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function _r(e){var t,n=new Promise((function(e){t=e}));return n.requests=0,n.done=function(){0===--n.requests&&(e._pending=null,t(e))},e._pending=n}var xr={skip:!0};function wr(e,t,n,r,i,o){var a,s,l=Object(ne.o)({},o,xr);Object(ne.D)(n)||(n=Object(ne.l)(n)),void 0===r?a=function(t){return e.touch(n(t))}:Object(ne.D)(r)?(s=new Se(null,r,i,!1),a=function(t){s.evaluate(t);var r=n(t),i=s.value;ye(i)?e.pulse(r,i,o):e.update(r,i,l)}):a=function(t){return e.update(n(t),r,l)},t.apply(a)}function Er(e,t,n,r,i,o){if(void 0===r)t.targets().add(n);else{var a=o||{},s=new Se(null,function(e,t){return t=Object(ne.D)(t)?t:Object(ne.l)(t),e?function(n,r){var i=t(n,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}(n,r),i,!1);s.modified(a.force),s.rank=t.rank,t.targets().add(s),n&&(s.skip(!0),s.value=n.value,s.targets().add(n),e.connect(n,[s]))}}var Tr={};function Sr(e,t,n){this.dataflow=e,this.stamp=null==t?-1:t,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}var kr=Sr.prototype;function Or(e,t){return e?function(n,r){return e(n,r)&&t(n,r)}:t}function Cr(e,t){var n=[];return Object(ne.ib)(e,t,(function(e){n.push(e)})),n}function Ar(e,t){var n={};return e.visit(t,(function(e){n[fe(e)]=1})),function(e){return n[fe(e)]?null:e}}function Mr(e,t,n,r){var i,o,a,s,l,u=this,c=0;for(this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n,a=0,s=n.length;a<s;++a)if((i=n[a]).stamp===t){if(i.fields)for(l in o=u.fields||(u.fields={}),i.fields)o[l]=1;i.changed(u.ADD)&&(c|=u.ADD),i.changed(u.REM)&&(c|=u.REM),i.changed(u.MOD)&&(c|=u.MOD)}this.changes=c}kr.StopPropagation=Tr,kr.ADD=1,kr.REM=2,kr.MOD=4,kr.ADD_REM=3,kr.ADD_MOD=5,kr.ALL=7,kr.REFLOW=8,kr.SOURCE=16,kr.NO_SOURCE=32,kr.NO_FIELDS=64,kr.fork=function(e){return new Sr(this.dataflow).init(this,e)},kr.clone=function(){var e=this.fork(7);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(23)},kr.addAll=function(){var e=this;return this.source&&this.source.length!==this.add.length?((e=new Sr(this.dataflow).init(this)).add=e.source,e):e},kr.init=function(e,t){var n=this;return n.stamp=e.stamp,n.encode=e.encode,!e.fields||64&t||(n.fields=e.fields),1&t?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),2&t?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),4&t?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),32&t?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source),n},kr.runAfter=function(e){this.dataflow.runAfter(e)},kr.changed=function(e){var t=e||7;return 1&t&&this.add.length||2&t&&this.rem.length||4&t&&this.mod.length},kr.reflow=function(e){if(e)return this.fork(7).reflow();var t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(4,Ar(this,1))),this},kr.modifies=function(e){var t=this.fields||(this.fields={});return Object(ne.A)(e)?e.forEach((function(e){return t[e]=!0})):t[e]=!0,this},kr.modified=function(e,t){var n=this.fields;return!(!t&&!this.mod.length||!n)&&(arguments.length?Object(ne.A)(e)?e.some((function(e){return n[e]})):n[e]:!!n)},kr.filter=function(e,t){var n=this;return 1&e&&(n.addF=Or(n.addF,t)),2&e&&(n.remF=Or(n.remF,t)),4&e&&(n.modF=Or(n.modF,t)),16&e&&(n.srcF=Or(n.srcF,t)),n},kr.materialize=function(e){var t=this;return 1&(e=e||7)&&t.addF&&(t.add=Cr(t.add,t.addF),t.addF=null),2&e&&t.remF&&(t.rem=Cr(t.rem,t.remF),t.remF=null),4&e&&t.modF&&(t.mod=Cr(t.mod,t.modF),t.modF=null),16&e&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},kr.visit=function(e,t){var n,r,i=this,o=t;return 16&e?(Object(ne.ib)(i.source,i.srcF,o),i):(1&e&&Object(ne.ib)(i.add,i.addF,o),2&e&&Object(ne.ib)(i.rem,i.remF,o),4&e&&Object(ne.ib)(i.mod,i.modF,o),8&e&&(n=i.source)&&((r=i.add.length+i.mod.length)===n.length||(r?Object(ne.ib)(n,Ar(i,5),o):Object(ne.ib)(n,i.srcF,o))),i)};var Pr=Object(ne.y)(Mr,Sr);function Ir(){return(Ir=oe(x.a.mark((function e(t,n,r){var i,o,a,s,l,u,c,f,d,h,p;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=(i=this).logLevel(),a=[],!i._pulse){e.next=3;break}return e.abrupt("return",Nr(i));case 3:if(!i._pending){e.next=6;break}return e.next=6,i._pending;case 6:if(!n){e.next=9;break}return e.next=9,ae(i,n);case 9:if(i._touched.length){e.next=12;break}return i.info("Dataflow invoked, but nothing to do."),e.abrupt("return",i);case 12:s=++i._clock,l=0,i._pulse=new Sr(i,s,t),o>=ne.c&&(f=Date.now(),i.debug("-- START PROPAGATION ("+s+") -----")),i._touched.forEach((function(e){return i._enqueue(e,!0)})),i._touched=re(ne.w),e.prev=17;case 18:if(!(i._heap.size()>0)){e.next=36;break}if((u=i._heap.pop()).rank===u.qrank){e.next=23;break}return i._enqueue(u,!0),e.abrupt("continue",18);case 23:if(!(c=u.run(i._getPulse(u,t))).then){e.next=30;break}return e.next=27,c;case 27:c=e.sent,e.next=31;break;case 30:c.async&&(a.push(c.async),c=Tr);case 31:o>=ne.a&&i.debug(u.id,c===Tr?"STOP":c,u),c!==Tr&&u._targets&&u._targets.forEach((function(e){return i._enqueue(e)})),++l,e.next=18;break;case 36:e.next=42;break;case 38:e.prev=38,e.t0=e.catch(17),i._heap.clear(),d=e.t0;case 42:if(i._input={},i._pulse=null,o>=ne.c&&(f=Date.now()-f,i.info("> Pulse "+s+": "+l+" operators; "+f+"ms")),d&&(i._postrun=[],i.error(d)),!i._postrun.length){e.next=56;break}h=i._postrun.sort((function(e,t){return t.priority-e.priority})),i._postrun=[],p=0;case 50:if(!(p<h.length)){e.next=56;break}return e.next=53,ae(i,h[p].callback);case 53:++p,e.next=50;break;case 56:if(!r){e.next=59;break}return e.next=59,ae(i,r);case 59:return a.length&&Promise.all(a).then((function(e){return i.runAsync(null,(function(){e.forEach((function(e){try{e(i)}catch(t){i.error(t)}}))}))})),e.abrupt("return",i);case 61:case"end":return e.stop()}}),e,this,[[17,38]])})))).apply(this,arguments)}function Dr(){return(Dr=oe(x.a.mark((function e(t,n,r){var i,o=this;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._running){e.next=5;break}return e.next=3,this._running;case 3:e.next=0;break;case 5:return i=function(){return o._running=null},(this._running=this.evaluate(t,n,r)).then(i,i),e.abrupt("return",this._running);case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Nr(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}Pr.fork=function(e){var t=new Sr(this.dataflow).init(this,e&this.NO_FIELDS);return void 0!==e&&(e&t.ADD&&this.visit(t.ADD,(function(e){return t.add.push(e)})),e&t.REM&&this.visit(t.REM,(function(e){return t.rem.push(e)})),e&t.MOD&&this.visit(t.MOD,(function(e){return t.mod.push(e)}))),t},Pr.changed=function(e){return this.changes&e},Pr.modified=function(e){var t=this,n=t.fields;return n&&t.changes&t.MOD?Object(ne.A)(e)?e.some((function(e){return n[e]})):n[e]:0},Pr.filter=function(){Object(ne.n)("MultiPulse does not support filtering.")},Pr.materialize=function(){Object(ne.n)("MultiPulse does not support materialization.")},Pr.visit=function(e,t){var n=this,r=n.pulses,i=r.length,o=0;if(e&n.SOURCE)for(;o<i;++o)r[o].visit(e,t);else for(;o<i;++o)r[o].stamp===n.stamp&&r[o].visit(e,t);return n};var Rr={skip:!1,force:!1};function Lr(e){var t=[];return{clear:function(){return t=[]},size:function(){return t.length},peek:function(){return t[0]},push:function(n){return t.push(n),jr(t,0,t.length-1,e)},pop:function(){var n,r=t.pop();return t.length?(n=t[0],t[0]=r,function(e,t,n){var r,i=t,o=e.length,a=e[t],s=1+(t<<1);for(;s<o;)(r=s+1)<o&&n(e[s],e[r])>=0&&(s=r),e[t]=e[s],s=1+((t=s)<<1);e[t]=a,jr(e,i,t,n)}(t,0,e)):n=r,n}}}function jr(e,t,n,r){var i,o,a;for(i=e[n];n>t&&r(i,o=e[a=n-1>>1])<0;)e[n]=o,n=a;return e[n]=i}function Fr(){this.logger(Object(ne.K)()),this.logLevel(ne.b),this._clock=0,this._rank=0;try{this._loader=vr()}catch(e){}this._touched=re(ne.w),this._input={},this._pulse=null,this._heap=Lr((function(e,t){return e.qrank-t.qrank})),this._postrun=[]}var Br=Fr.prototype;function zr(e){return function(){return this._log[e].apply(this,arguments)}}function Hr(e,t){Se.call(this,e,null,t)}Br.stamp=function(){return this._clock},Br.loader=function(e){return arguments.length?(this._loader=e,this):this._loader},Br.cleanThreshold=1e4,Br.add=function(e,t,n,r){var i,o=1;return e instanceof Se?i=e:e&&e.prototype instanceof Se?i=new e:Object(ne.D)(e)?i=new Se(null,e):(o=0,i=new Se(e,t)),this.rank(i),o&&(r=n,n=t),n&&this.connect(i,i.parameters(n,r)),this.touch(i),i},Br.connect=function(e,t){var n,r,i=e.rank;for(n=0,r=t.length;n<r;++n)if(i<t[n].rank)return void this.rerank(e)},Br.rank=function(e){e.rank=++this._rank},Br.rerank=function(e){for(var t,n,r,i=[e];i.length;)if(this.rank(t=i.pop()),n=t._targets)for(r=n.length;--r>=0;)i.push(t=n[r]),t===e&&Object(ne.n)("Cycle detected in dataflow graph.")},Br.pulse=function(e,t,n){this.touch(e,n||Rr);var r=new Sr(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,i),this},Br.touch=function(e,t){var n=t||Rr;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this},Br.update=function(e,t,n){var r=n||Rr;return(e.set(t)||r.force)&&this.touch(e,r),this},Br.changeset=be,Br.ingest=function(e,t,n){return this.pulse(e,this.changeset().insert(gr(t,n)))},Br.parse=gr,Br.preload=function(e,t,n){return br.apply(this,arguments)},Br.request=function(e,t){return yr.apply(this,arguments)},Br.events=function(e,t,n,r){for(var i,o=this,a=Me(n,r),s=function(e){e.dataflow=o;try{a.receive(e)}catch(t){o.error(t)}finally{o.run()}},l=0,u=(i="string"===typeof e&&"undefined"!==typeof document?document.querySelectorAll(e):Object(ne.i)(e)).length;l<u;++l)i[l].addEventListener(t,s);return a},Br.on=function(e,t,n,r,i){return(e instanceof Se?Er:wr)(this,e,t,n,r,i),this},Br.evaluate=function(e,t,n){return Ir.apply(this,arguments)},Br.run=function(e,t,n){return this._pulse?Nr(this):(this.evaluate(e,t,n),this)},Br.runAsync=function(e,t,n){return Dr.apply(this,arguments)},Br.runAfter=function(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(r){this.error(r)}},Br._enqueue=function(e,t){var n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))},Br._getPulse=function(e,t){var n=e.source,r=this._clock;return n&&Object(ne.A)(n)?new Mr(this,r,n.map((function(e){return e.pulse})),t):this._input[e.id]||function(e,t){if(t&&t.stamp===e.stamp)return t;e=e.fork(),t&&t!==Tr&&(e.source=t.source);return e}(this._pulse,n&&n.pulse)},Br.logger=function(e){return arguments.length?(this._log=e,this):this._log},Br.error=zr("error"),Br.warn=zr("warn"),Br.info=zr("info"),Br.debug=zr("debug"),Br.logLevel=zr("level");var Ur=Object(ne.y)(Hr,Se);Ur.run=function(e){var t,n=this;return e.stamp<this.stamp?e.StopPropagation:(this.skip()?this.skip(!1):t=this.evaluate(e),(t=t||e).then?t=t.then((function(e){return n.pulse=e})):t!==e.StopPropagation&&(this.pulse=t),t)},Ur.evaluate=function(e){var t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},Ur.transform=function(){};var Vr={};function Gr(e){var t=Wr(e);return t&&t.Definition||null}function Wr(e){return e=e&&e.toLowerCase(),Object(ne.v)(Vr,e)?Vr[e]:null}function qr(e){return e&&e.length?1===e.length?e[0]:(t=e,function(e){for(var n=t.length,r=1,i=String(t[0](e));r<n;++r)i+="|"+t[r](e);return i}):function(){return""};var t}function Yr(e,t,n){return n||e+(t?"_"+t:"")}var Xr={values:Zr({name:"values",init:"cell.store = true;",set:"cell.data.values()",idx:-1}),count:Zr({name:"count",set:"cell.num"}),__count__:Zr({name:"count",set:"this.missing + this.valid"}),missing:Zr({name:"missing",set:"this.missing"}),valid:Zr({name:"valid",set:"this.valid"}),sum:Zr({name:"sum",init:"this.sum = 0;",add:"this.sum += +v;",rem:"this.sum -= v;",set:"this.sum"}),product:Zr({name:"product",init:"this.product = 1;",add:"this.product *= v;",rem:"this.product /= v;",set:"this.valid ? this.product : undefined"}),mean:Zr({name:"mean",init:"this.mean = 0;",add:"var d = v - this.mean; this.mean += d / this.valid;",rem:"var d = v - this.mean; this.mean -= this.valid ? d / this.valid : this.mean;",set:"this.valid ? this.mean : undefined"}),average:Zr({name:"average",set:"this.valid ? this.mean : undefined",req:["mean"],idx:1}),variance:Zr({name:"variance",init:"this.dev = 0;",add:"this.dev += d * (v - this.mean);",rem:"this.dev -= d * (v - this.mean);",set:"this.valid > 1 ? this.dev / (this.valid-1) : undefined",req:["mean"],idx:1}),variancep:Zr({name:"variancep",set:"this.valid > 1 ? this.dev / this.valid : undefined",req:["variance"],idx:2}),stdev:Zr({name:"stdev",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid-1)) : undefined",req:["variance"],idx:2}),stdevp:Zr({name:"stdevp",set:"this.valid > 1 ? Math.sqrt(this.dev / this.valid) : undefined",req:["variance"],idx:2}),stderr:Zr({name:"stderr",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid * (this.valid-1))) : undefined",req:["variance"],idx:2}),distinct:Zr({name:"distinct",set:"cell.data.distinct(this.get)",req:["values"],idx:3}),ci0:Zr({name:"ci0",set:"cell.data.ci0(this.get)",req:["values"],idx:3}),ci1:Zr({name:"ci1",set:"cell.data.ci1(this.get)",req:["values"],idx:3}),median:Zr({name:"median",set:"cell.data.q2(this.get)",req:["values"],idx:3}),q1:Zr({name:"q1",set:"cell.data.q1(this.get)",req:["values"],idx:3}),q3:Zr({name:"q3",set:"cell.data.q3(this.get)",req:["values"],idx:3}),argmin:Zr({name:"argmin",init:"this.argmin = undefined;",add:"if (v < this.min) this.argmin = t;",rem:"if (v <= this.min) this.argmin = undefined;",set:"this.argmin || cell.data.argmin(this.get)",req:["min"],str:["values"],idx:3}),argmax:Zr({name:"argmax",init:"this.argmax = undefined;",add:"if (v > this.max) this.argmax = t;",rem:"if (v >= this.max) this.argmax = undefined;",set:"this.argmax || cell.data.argmax(this.get)",req:["max"],str:["values"],idx:3}),min:Zr({name:"min",init:"this.min = undefined;",add:"if (v < this.min || this.min === undefined) this.min = v;",rem:"if (v <= this.min) this.min = NaN;",set:"this.min = (Number.isNaN(this.min) ? cell.data.min(this.get) : this.min)",str:["values"],idx:4}),max:Zr({name:"max",init:"this.max = undefined;",add:"if (v > this.max || this.max === undefined) this.max = v;",rem:"if (v >= this.max) this.max = NaN;",set:"this.max = (Number.isNaN(this.max) ? cell.data.max(this.get) : this.max)",str:["values"],idx:4})},$r=Object.keys(Xr);function Kr(e,t){return Xr[e](t)}function Zr(e){return function(t){var n=Object(ne.o)({init:"",add:"",rem:"",idx:0},e);return n.out=t||e.name,n}}function Qr(e,t){return e.idx-t.idx}function Jr(e,t){var n=t||ne.x,r=function(e,t){var n,r=e.reduce((function e(n,r){function i(t){n[t]||e(n,n[t]=Xr[t]())}return r.req&&r.req.forEach(i),t&&r.str&&r.str.forEach(i),n}),e.reduce((function(e,t){return e[t.name]=t,e}),{})),i=[];for(n in r)i.push(r[n]);return i.sort(Qr)}(e,!0),i="var cell = this.cell; this.valid = 0; this.missing = 0;",o="this.cell = cell; this.init();",a="if(v==null){++this.missing; return;} if(v!==v) return; ++this.valid;",s="if(v==null){--this.missing; return;} if(v!==v) return; --this.valid;",l="var cell = this.cell;";return r.forEach((function(e){i+=e.init,a+=e.add,s+=e.rem})),e.slice().sort(Qr).forEach((function(e){l+="t["+Object(ne.Z)(e.out)+"]="+e.set+";"})),l+="return t;",(o=Function("cell",o)).prototype.init=Function(i),o.prototype.add=Function("v","t",a),o.prototype.rem=Function("v","t",s),o.prototype.set=Function("t",l),o.prototype.get=n,o.fields=e.map((function(e){return e.out})),o}function ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ti(e,t){if(e){if("string"===typeof e)return ei(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ei(e,t):void 0}}function ni(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=ti(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}var ri=x.a.mark(ii);function ii(e,t){var n,r,i,o,a,s,l;return x.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(void 0!==t){u.next=21;break}n=ni(e),u.prev=2,n.s();case 4:if((r=n.n()).done){u.next=11;break}if(!(null!=(i=r.value)&&(i=+i)>=i)){u.next=9;break}return u.next=9,i;case 9:u.next=4;break;case 11:u.next=16;break;case 13:u.prev=13,u.t0=u.catch(2),n.e(u.t0);case 16:return u.prev=16,n.f(),u.finish(16);case 19:u.next=40;break;case 21:o=-1,a=ni(e),u.prev=23,a.s();case 25:if((s=a.n()).done){u.next=32;break}if(l=s.value,!(null!=(l=t(l,++o,e))&&(l=+l)>=l)){u.next=30;break}return u.next=30,l;case 30:u.next=25;break;case 32:u.next=37;break;case 34:u.prev=34,u.t1=u.catch(23),a.e(u.t1);case 37:return u.prev=37,a.f(),u.finish(37);case 40:case"end":return u.stop()}}),ri,null,[[2,13,16,19],[23,34,37,40]])}var oi=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN};function ai(e,t){var n;if(void 0===t){var r,i=ni(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;null!=o&&(n<o||void 0===n&&o>=o)&&(n=o)}}catch(c){i.e(c)}finally{i.f()}}else{var a,s=-1,l=ni(e);try{for(l.s();!(a=l.n()).done;){var u=a.value;null!=(u=t(u,++s,e))&&(n<u||void 0===n&&u>=u)&&(n=u)}}catch(c){l.e(c)}finally{l.f()}}return n}function si(e,t){var n;if(void 0===t){var r,i=ni(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;null!=o&&(n>o||void 0===n&&o>=o)&&(n=o)}}catch(c){i.e(c)}finally{i.f()}}else{var a,s=-1,l=ni(e);try{for(l.s();!(a=l.n()).done;){var u=a.value;null!=(u=t(u,++s,e))&&(n>u||void 0===n&&u>=u)&&(n=u)}}catch(c){l.e(c)}finally{l.f()}}return n}function li(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}var ui=x.a.mark(fi),ci=function(e){return null===e?NaN:+e};function fi(e,t){var n,r,i,o,a,s,l;return x.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(void 0!==t){u.next=21;break}n=ni(e),u.prev=2,n.s();case 4:if((r=n.n()).done){u.next=11;break}if(!(null!=(i=r.value)&&(i=+i)>=i)){u.next=9;break}return u.next=9,i;case 9:u.next=4;break;case 11:u.next=16;break;case 13:u.prev=13,u.t0=u.catch(2),n.e(u.t0);case 16:return u.prev=16,n.f(),u.finish(16);case 19:u.next=40;break;case 21:o=-1,a=ni(e),u.prev=23,a.s();case 25:if((s=a.n()).done){u.next=32;break}if(l=s.value,!(null!=(l=t(l,++o,e))&&(l=+l)>=l)){u.next=30;break}return u.next=30,l;case 30:u.next=25;break;case 32:u.next=37;break;case 34:u.prev=34,u.t1=u.catch(23),a.e(u.t1);case 37:return u.prev=37,a.f(),u.finish(37);case 40:case"end":return u.stop()}}),ui,null,[[2,13,16,19],[23,34,37,40]])}function di(e,t,n){if(r=(e=Float64Array.from(fi(e,n))).length){if((t=+t)<=0||r<2)return si(e);if(t>=1)return ai(e);var r,i=(r-1)*t,o=Math.floor(i),a=ai(function e(t,n){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length-1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:oi;i>r;){if(i-r>600){var a=i-r+1,s=n-r+1,l=Math.log(a),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(a-u)/a)*(s-a/2<0?-1:1),f=Math.max(r,Math.floor(n-s*u/a+c)),d=Math.min(i,Math.floor(n+(a-s)*u/a+c));e(t,n,f,d,o)}var h=t[n],p=r,m=i;for(li(t,r,n),o(t[i],h)>0&&li(t,r,i);p<m;){for(li(t,p,m),++p,--m;o(t[p],h)<0;)++p;for(;o(t[m],h)>0;)--m}0===o(t[r],h)?li(t,r,m):li(t,++m,i),m<=n&&(r=m+1),n<=m&&(i=m-1)}return t}(e,o).subarray(0,o+1));return a+(si(e.subarray(o+1))-a)*(i-o)}}var hi=function(e,t,n){var r=Float64Array.from(ii(e,n));return r.sort(oi),t.map((function(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ci;if(r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e),s=+n(e[o+1],o+1,e);return a+(s-a)*(i-o)}}(r,e)}))},pi=function(e,t){return hi(e,[.25,.5,.75],t)};function mi(e,t){var n=function(e,t){var n,r=0,i=0,o=0;if(void 0===t){var a,s=ni(e);try{for(s.s();!(a=s.n()).done;){var l=a.value;null!=l&&(l=+l)>=l&&(o+=(n=l-i)*(l-(i+=n/++r)))}}catch(h){s.e(h)}finally{s.f()}}else{var u,c=-1,f=ni(e);try{for(f.s();!(u=f.n()).done;){var d=u.value;null!=(d=t(d,++c,e))&&(d=+d)>=d&&(o+=(n=d-i)*(d-(i+=n/++r)))}}catch(h){f.e(h)}finally{f.f()}}if(r>1)return o/(r-1)}(e,t);return n?Math.sqrt(n):n}var vi=function(e,t){var n=e.length,r=mi(e,t),i=pi(e,t),o=(i[2]-i[0])/1.34;return 1.06*(r=Math.min(r,o)||r||Math.abs(i[0])||1)*Math.pow(n,-.2)},gi=function(e){var t,n,r,i,o,a,s,l,u=e.maxbins||20,c=e.base||10,f=Math.log(c),d=e.divide||[5,2],h=e.extent[0],p=e.extent[1],m=e.span||p-h||Math.abs(h)||1;if(e.step)t=e.step;else if(e.steps){for(o=m/u,a=0,s=e.steps.length;a<s&&e.steps[a]<o;++a);t=e.steps[Math.max(0,a-1)]}else{for(n=Math.ceil(Math.log(u)/f),r=e.minstep||0,t=Math.max(r,Math.pow(c,Math.round(Math.log(m)/f)-n));Math.ceil(m/t)>u;)t*=c;for(a=0,s=d.length;a<s;++a)(o=t/d[a])>=r&&m/o<=u&&(t=o)}return i=(o=Math.log(t))>=0?0:1+~~(-o/f),l=Math.pow(c,-i-1),(e.nice||void 0===e.nice)&&(h=h<(o=Math.floor(h/t+l)*t)?o-t:o,p=Math.ceil(p/t)*t),{start:h,stop:p===h?h+t:p,step:t}},yi=Math.random;function bi(e){yi=e}var _i=function(e,t,n,r){if(!e.length)return[void 0,void 0];var i,o,a,s,l=Float64Array.from(ii(e,r)),u=l.length,c=t;for(a=0,s=Array(c);a<c;++a){for(i=0,o=0;o<u;++o)i+=l[~~(yi()*u)];s[a]=i/u}return s.sort(oi),[di(s,n/2),di(s,1-n/2)]},xi=function(e,t,n,r){r=r||function(e){return e};for(var i,o=0,a=1,s=e.length,l=new Float64Array(s),u=r(e[0]),c=u,f=u+t;a<s;++a){if((i=r(e[a]))>=f){for(c=(u+c)/2;o<a;++o)l[o]=c;f=i+t,u=i}c=i}for(c=(u+c)/2;o<a;++o)l[o]=c;return n?function(e,t){var n,r,i=e.length,o=0,a=1;for(;e[o]===e[a];)++a;for(;a<i;){for(n=a+1;e[a]===e[n];)++n;if(e[a]-e[a-1]<t){for(r=a+(o+n-a-a>>1);r<a;)e[r++]=e[a];for(;r>a;)e[r--]=e[o]}o=a,a=n}return e}(l,t+t/4):l};var wi=function(e){return function(){return(e=(1103515245*e+12345)%2147483647)/2147483647}},Ei=function(e,t){null==t&&(t=e,e=0);var n,r,i,o={};return o.min=function(e){return arguments.length?(i=r-(n=e||0),o):n},o.max=function(e){return arguments.length?(i=(r=e||0)-n,o):r},o.sample=function(){return n+Math.floor(i*yi())},o.pdf=function(e){return e===Math.floor(e)&&e>=n&&e<r?1/i:0},o.cdf=function(e){var t=Math.floor(e);return t<n?0:t>=r?1:(t-n+1)/i},o.icdf=function(e){return e>=0&&e<=1?n-1+Math.floor(e*i):NaN},o.min(e).max(t)},Ti=Math.sqrt(2*Math.PI),Si=Math.SQRT2,ki=NaN;function Oi(e,t){e=e||0,t=null==t?1:t;var n,r,i=0,o=0;if(ki===ki)i=ki,ki=NaN;else{do{n=(i=2*yi()-1)*i+(o=2*yi()-1)*o}while(0===n||n>1);i*=r=Math.sqrt(-2*Math.log(n)/n),ki=o*r}return e+i*t}function Ci(e,t,n){var r=(e-(t||0))/(n=null==n?1:n);return Math.exp(-.5*r*r)/(n*Ti)}function Ai(e,t,n){var r,i=(e-(t=t||0))/(n=null==n?1:n),o=Math.abs(i);if(o>37)r=0;else{var a=Math.exp(-o*o/2);o<7.07106781186547?(r=a*((((((.0352624965998911*o+.700383064443688)*o+6.37396220353165)*o+33.912866078383)*o+112.079291497871)*o+221.213596169931)*o+220.206867912376),r/=((((((.0883883476483184*o+1.75566716318264)*o+16.064177579207)*o+86.7807322029461)*o+296.564248779674)*o+637.333633378831)*o+793.826512519948)*o+440.413735824752):r=a/(o+1/(o+2/(o+3/(o+4/(o+.65)))))/2.506628274631}return i>0?1-r:r}function Mi(e,t,n){return e<0||e>1?NaN:(t||0)+(null==n?1:n)*Si*function(e){var t,n=-Math.log((1-e)*(1+e));n<6.25?t=1.6536545626831027+(t=.24015818242558962+(t=(t=(t=.00018673420803405714+(t=(t=(t=4.2347877827932404e-7+(t=(t=(t=1.0512122733215323e-9+(t=(t=(t=26335093153082323e-28+(t=(t=(t=6637638134358324e-30+(t=20972767875968562e-33+(t=(t=11157877678025181e-33+(t=128584807152564e-32+(t=(t=-364441206401782e-35)*(n-=3.125)-16850591381820166e-35)*n)*n)*n-1333171662854621e-31)*n)*n)*n-4054566272975207e-29)*n-8151934197605472e-29)*n)*n-12975133253453532e-27)*n-5415412054294628e-26)*n)*n-4.112633980346984e-9)*n-2.9070369957882005e-8)*n)*n-13654692000834679e-22)*n-13882523362786469e-21)*n)*n-.000740702534166267)*n-.006033670871430149)*n)*n:n<16?(n=Math.sqrt(n)-3.25,t=3.0838856104922208+(t=1.0052589676941592+(t=.005370914553590064+(t=(t=.002491442096107851+(t=(t=.0009532893797373805+(t=(t=24031110387097894e-21+(t=6828485145957318e-20+(t=(t=12475304481671779e-21+(t=29234449089955446e-22+(t=(t=15027403968909828e-22+(t=1.8239629214389228e-8+(t=(t=9.075656193888539e-8+(t=2.2137376921775787e-9)*n)*n-2.7517406297064545e-7)*n)*n)*n-4013867526981546e-21)*n)*n)*n-47318229009055734e-21)*n)*n)*n-.0003550375203628475)*n)*n-.0016882755560235047)*n)*n-.003751208507569241)*n)*n)*n):Number.isFinite(n)?(n=Math.sqrt(n)-5,t=4.849906401408584+(t=1.0103004648645344+(t=(t=(t=7599527703001776e-20+(t=(t=4526062597223154e-21+(t=(t=2.2900482228026655e-7+(t=(t=2.914795345090108e-8+(t=(t=7.61570120807834e-9+(t=(t=1.5076572693500548e-9+(t=(t=-27109920616438573e-27)*n-2.555641816996525e-10)*n)*n-3.789465440126737e-9)*n)*n-1.496002662714924e-8)*n)*n-6.771199775845234e-8)*n)*n-9.9298272942317e-7)*n)*n-1968177810553167e-20)*n)*n-.00021503011930044477)*n-.00013871931833623122)*n)*n):t=1/0;return t*e}(2*e-1)}var Pi=function(e,t){var n,r,i={mean:function(e){return arguments.length?(n=e||0,i):n},stdev:function(e){return arguments.length?(r=null==e?1:e,i):r},sample:function(){return Oi(n,r)},pdf:function(e){return Ci(e,n,r)},cdf:function(e){return Ai(e,n,r)},icdf:function(e){return Mi(e,n,r)}};return i.mean(e).stdev(t)},Ii=function(e,t){var n=Pi(),r={},i=0;return r.data=function(n){return arguments.length?(e=n,i=n?n.length:0,r.bandwidth(t)):e},r.bandwidth=function(n){return arguments.length?(!(t=n)&&e&&(t=vi(e)),r):t},r.sample=function(){return e[~~(yi()*i)]+t*n.sample()},r.pdf=function(r){for(var o=0,a=0;a<i;++a)o+=n.pdf((r-e[a])/t);return o/t/i},r.cdf=function(r){for(var o=0,a=0;a<i;++a)o+=n.cdf((r-e[a])/t);return o/i},r.icdf=function(){throw Error("KDE icdf not supported.")},r.data(e)};function Di(e,t){return e=e||0,t=null==t?1:t,Math.exp(e+Oi()*t)}function Ni(e,t,n){if(e<=0)return 0;t=t||0,n=null==n?1:n;var r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*Ti*e)}function Ri(e,t,n){return Ai(Math.log(e),t,n)}function Li(e,t,n){return Math.exp(Mi(e,t,n))}var ji=function(e,t){var n,r,i={mean:function(e){return arguments.length?(n=e||0,i):n},stdev:function(e){return arguments.length?(r=null==e?1:e,i):r},sample:function(){return Di(n,r)},pdf:function(e){return Ni(e,n,r)},cdf:function(e){return Ri(e,n,r)},icdf:function(e){return Li(e,n,r)}};return i.mean(e).stdev(t)},Fi=function(e,t){var n,r={},i=0;function o(e){var t,n=[],r=0;for(t=0;t<i;++t)r+=n[t]=null==e[t]?1:+e[t];for(t=0;t<i;++t)n[t]/=r;return n}return r.weights=function(e){return arguments.length?(n=o(t=e||[]),r):t},r.distributions=function(n){return arguments.length?(n?(i=n.length,e=n):(i=0,e=[]),r.weights(t)):e},r.sample=function(){for(var t=yi(),r=e[i-1],o=n[0],a=0;a<i-1;o+=n[++a])if(t<o){r=e[a];break}return r.sample()},r.pdf=function(t){for(var r=0,o=0;o<i;++o)r+=n[o]*e[o].pdf(t);return r},r.cdf=function(t){for(var r=0,o=0;o<i;++o)r+=n[o]*e[o].cdf(t);return r},r.icdf=function(){throw Error("Mixture icdf not supported.")},r.distributions(e).weights(t)};function Bi(e,t){return null==t&&(t=null==e?1:e,e=0),e+(t-e)*yi()}function zi(e,t,n){return null==n&&(n=null==t?1:t,t=0),e>=t&&e<=n?1/(n-t):0}function Hi(e,t,n){return null==n&&(n=null==t?1:t,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function Ui(e,t,n){return null==n&&(n=null==t?1:t,t=0),e>=0&&e<=1?t+e*(n-t):NaN}var Vi=function(e,t){var n,r,i={min:function(e){return arguments.length?(n=e||0,i):n},max:function(e){return arguments.length?(r=null==e?1:e,i):r},sample:function(){return Bi(n,r)},pdf:function(e){return zi(e,n,r)},cdf:function(e){return Hi(e,n,r)},icdf:function(e){return Ui(e,n,r)}};return null==t&&(t=null==e?1:e,e=0),i.min(e).max(t)},Gi=function(e,t,n,r){var i=r-e*e,o=Math.abs(i)<1e-24?0:(n-e*t)/i;return[t-o*e,o]};function Wi(e,t,n,r){e=e.filter((function(e){var r=t(e),i=n(e);return null!=r&&(r=+r)>=r&&null!=i&&(i=+i)>=i})),r&&e.sort((function(e,n){return t(e)-t(n)}));var i,o,a,s,l=e.length,u=new Float64Array(l),c=new Float64Array(l),f=0,d=0,h=0,p=ni(e);try{for(p.s();!(s=p.n()).done;)a=s.value,u[f]=i=+t(a),c[f]=o=+n(a),d+=(i-d)/++f,h+=(o-h)/f}catch(m){p.e(m)}finally{p.f()}for(f=0;f<l;++f)u[f]-=d,c[f]-=h;return[u,c,d,h]}function qi(e,t,n,r){var i,o,a,s=-1,l=ni(e);try{for(l.s();!(a=l.n()).done;){var u=a.value;i=t(u),o=n(u),null!=i&&(i=+i)>=i&&null!=o&&(o=+o)>=o&&r(i,o,++s)}}catch(c){l.e(c)}finally{l.f()}}var Yi=function(e,t,n,r,i){var o=0,a=0;return qi(e,t,n,(function(e,t){var n=t-i(e),s=t-r;o+=n*n,a+=s*s})),1-o/a},Xi=function(e,t,n){var r=0,i=0,o=0,a=0,s=0;qi(e,t,n,(function(e,t){++s,r+=(e-r)/s,i+=(t-i)/s,o+=(e*t-o)/s,a+=(e*e-a)/s}));var l=Gi(r,i,o,a),u=function(e){return l[0]+l[1]*e};return{coef:l,predict:u,rSquared:Yi(e,t,n,i,u)}},$i=function(e,t,n){var r=0,i=0,o=0,a=0,s=0;qi(e,t,n,(function(e,t){++s,e=Math.log(e),r+=(e-r)/s,i+=(t-i)/s,o+=(e*t-o)/s,a+=(e*e-a)/s}));var l=Gi(r,i,o,a),u=function(e){return l[0]+l[1]*Math.log(e)};return{coef:l,predict:u,rSquared:Yi(e,t,n,i,u)}};function Ki(e){if(Array.isArray(e))return e}function Zi(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Qi(e,t){return Ki(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||ti(e,t)||Zi()}var Ji=function(e,t,n){var r,i,o,a=Qi(Wi(e,t,n),4),s=a[0],l=(a[1],a[2]),u=a[3],c=0,f=0,d=0,h=0,p=0;qi(e,t,n,(function(e,t){r=s[p++],i=Math.log(t),c+=(t*i-c)/p,f+=((o=r*t)-f)/p,d+=(o*i-d)/p,h+=(r*o-h)/p}));var m=Qi(Gi(f/u,c/u,d/u,h/u),2),v=m[0],g=m[1],y=function(e){return Math.exp(v+g*(e-l))};return{coef:[Math.exp(v-g*l),g],predict:y,rSquared:Yi(e,t,n,u,y)}},eo=function(e,t,n){var r=0,i=0,o=0,a=0,s=0,l=0;qi(e,t,n,(function(e,t){var n=Math.log(e),u=Math.log(t);++l,r+=(n-r)/l,i+=(u-i)/l,o+=(n*u-o)/l,a+=(n*n-a)/l,s+=(t-s)/l}));var u=Gi(r,i,o,a),c=function(e){return u[0]*Math.pow(e,u[1])};return u[0]=Math.exp(u[0]),{coef:u,predict:c,rSquared:Yi(e,t,n,s,c)}},to=function(e,t,n){var r,i,o,a,s=Qi(Wi(e,t,n),4),l=s[0],u=s[1],c=s[2],f=s[3],d=l.length,h=0,p=0,m=0,v=0,g=0;for(r=0;r<d;)i=l[r],o=u[r++],h+=((a=i*i)-h)/r,p+=(a*i-p)/r,m+=(a*a-m)/r,v+=(i*o-v)/r,g+=(a*o-g)/r;var y=m-h*h,b=h*y-p*p,_=(g*h-v*p)/b,x=(v*y-g*p)/b,w=-_*h,E=function(e){return _*(e-=c)*e+x*e+w+f};return{coef:[w-x*c+_*c*c+f,x-2*_*c,_],predict:E,rSquared:Yi(e,t,n,f,E)}},no=function(e,t,n,r){if(1===r)return Xi(e,t,n);if(2===r)return to(e,t,n);var i,o,a,s,l,u=Qi(Wi(e,t,n),4),c=u[0],f=u[1],d=u[2],h=u[3],p=c.length,m=[],v=[],g=r+1;for(i=0;i<g;++i){for(a=0,s=0;a<p;++a)s+=Math.pow(c[a],i)*f[a];for(m.push(s),l=new Float64Array(g),o=0;o<g;++o){for(a=0,s=0;a<p;++a)s+=Math.pow(c[a],i+o);l[o]=s}v.push(l)}v.push(m);var y=function(e){var t,n,r,i,o,a=e.length-1,s=[];for(t=0;t<a;++t){for(i=t,n=t+1;n<a;++n)Math.abs(e[t][n])>Math.abs(e[t][i])&&(i=n);for(r=t;r<a+1;++r)o=e[r][t],e[r][t]=e[r][i],e[r][i]=o;for(n=t+1;n<a;++n)for(r=a;r>=t;r--)e[r][n]-=e[r][t]*e[t][n]/e[t][t]}for(n=a-1;n>=0;--n){for(o=0,r=n+1;r<a;++r)o+=e[r][n]*s[r];s[n]=(e[a][n]-o)/e[n][n]}return s}(v),b=function(e){e-=d;var t=h+y[0]+y[1]*e+y[2]*e*e;for(i=3;i<g;++i)t+=y[i]*Math.pow(e,i);return t};return{coef:ro(g,y,-d,h),predict:b,rSquared:Yi(e,t,n,h,b)}};function ro(e,t,n,r){var i,o,a,s,l=Array(e);for(i=0;i<e;++i)l[i]=0;for(i=e-1;i>=0;--i)for(a=t[i],s=1,l[i]+=a,o=1;o<=i;++o)s*=(i+1-o)/o,l[i-o]+=a*Math.pow(n,o)*s;return l[0]+=r,l}var io=function(e,t){return di(e,.5,t)},oo=function(e,t,n,r){for(var i=Qi(Wi(e,t,n,!0),4),o=i[0],a=i[1],s=i[2],l=i[3],u=o.length,c=Math.max(2,~~(r*u)),f=new Float64Array(u),d=new Float64Array(u),h=new Float64Array(u).fill(1),p=-1;++p<=2;){for(var m=[0,c-1],v=0;v<u;++v){for(var g=o[v],y=m[0],b=m[1],_=g-o[y]>o[b]-g?y:b,x=0,w=0,E=0,T=0,S=0,k=1/Math.abs(o[_]-g||1),O=y;O<=b;++O){var C=o[O],A=a[O],M=ao(Math.abs(g-C)*k)*h[O],P=C*M;x+=M,w+=P,E+=A*M,T+=A*P,S+=C*P}var I=Qi(Gi(w/x,E/x,T/x,S/x),2),D=I[0],N=I[1];f[v]=D+N*g,d[v]=Math.abs(a[v]-f[v]),so(o,v+1,m)}if(2===p)break;var R=io(d);if(Math.abs(R)<1e-12)break;for(var L,j,F=0;F<u;++F)L=d[F]/(6*R),h[F]=L>=1?1e-12:(j=1-L*L)*j}return function(e,t,n,r){for(var i,o=e.length,a=[],s=0,l=0,u=[];s<o;++s)i=e[s]+n,u[0]===i?u[1]+=(t[s]-u[1])/++l:(l=0,u[1]+=r,u=[i,t[s]],a.push(u));return u[1]+=r,a}(o,f,s,l)};function ao(e){return(e=1-e*e*e)*e*e}function so(e,t,n){var r=e[t],i=n[0],o=n[1]+1;if(!(o>=e.length))for(;t>i&&e[o]-r<=r-e[i];)n[0]=++i,n[1]=o,++o}var lo=.1*Math.PI/180,uo=function(e,t,n,r){n=n||25,r=Math.max(n,r||200);var i=function(t){return[t,e(t)]},o=t[0],a=t[1],s=a-o,l=s/r,u=[i(o)],c=[];if(n===r){for(var f=1;f<r;++f)u.push(i(o+f/n*s));return u.push(i(a)),u}c.push(i(a));for(var d=n;--d>0;)c.push(i(o+d/n*s));for(var h=u[0],p=c[c.length-1];p;){var m=i((h[0]+p[0])/2);m[0]-h[0]>=l&&co(h,m,p)>lo?c.push(m):(h=p,u.push(p),c.pop()),p=c[c.length-1]}return u};function co(e,t,n){var r=Math.atan2(n[1]-e[1],n[0]-e[0]),i=Math.atan2(t[1]-e[1],t[0]-e[0]);return Math.abs(r-i)}function fo(e){this._key=e?Object(ne.t)(e):fe,this.reset()}var ho=fo.prototype;function po(e){Hr.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}ho.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},ho.add=function(e){this._add.push(e)},ho.rem=function(e){this._rem.push(e)},ho.values=function(){if(this._get=null,0===this._rem.length)return this._add;var e,t,n,r=this._add,i=this._rem,o=this._key,a=r.length,s=i.length,l=Array(a-s),u={};for(e=0;e<s;++e)u[o(i[e])]=1;for(e=0,t=0;e<a;++e)u[o(n=r[e])]?u[o(n)]=0:l[t++]=n;return this._rem=[],this._add=l},ho.distinct=function(e){for(var t,n=this.values(),r=n.length,i={},o=0;--r>=0;)t=e(n[r])+"",Object(ne.v)(i,t)||(i[t]=1,++o);return o},ho.extent=function(e){if(this._get!==e||!this._ext){var t=this.values(),n=Object(ne.q)(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext},ho.argmin=function(e){return this.extent(e)[0]||{}},ho.argmax=function(e){return this.extent(e)[1]||{}},ho.min=function(e){var t=this.extent(e)[0];return null!=t?e(t):void 0},ho.max=function(e){var t=this.extent(e)[1];return null!=t?e(t):void 0},ho.quartile=function(e){return this._get===e&&this._q||(this._q=pi(this.values(),e),this._get=e),this._q},ho.q1=function(e){return this.quartile(e)[0]},ho.q2=function(e){return this.quartile(e)[1]},ho.q3=function(e){return this.quartile(e)[2]},ho.ci=function(e){return this._get===e&&this._ci||(this._ci=_i(this.values(),1e3,.05,e),this._get=e),this._ci},ho.ci0=function(e){return this.ci(e)[0]},ho.ci1=function(e){return this.ci(e)[1]},po.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:$r},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};var mo=Object(ne.y)(po,Hr);mo.transform=function(e,t){var n=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.modified();return n.stamp=r.stamp,n.value&&(i||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=i?n.init(e):{},t.visit(t.SOURCE,(function(e){return n.add(e)}))):(n.value=n.value||n.init(e),t.visit(t.REM,(function(e){return n.rem(e)})),t.visit(t.ADD,(function(e){return n.add(e)}))),r.modifies(n._outputs),n._drop=!1!==e.drop,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),n.changes(r)},mo.cross=function(){var e=this,t=e.value,n=e._dnames,r=n.map((function(){return{}})),i=n.length;function o(e){var t,o,a,s;for(t in e)for(a=e[t].tuple,o=0;o<i;++o)r[o][s=a[n[o]]]=s}o(e._prev),o(t),function o(a,s,l){var u,c,f=n[l],d=r[l++];for(u in d)s[f]=d[u],c=a?a+"|"+u:u,l<i?o(c,s,l):t[c]||e.cell(c,s)}("",{},0)},mo.init=function(e){var t=this._inputs=[],n=this._outputs=[],r={};function i(e){for(var n,i=Object(ne.i)(Object(ne.g)(e)),o=0,a=i.length;o<a;++o)r[n=i[o]]||(r[n]=1,t.push(n))}this._dims=Object(ne.i)(e.groupby),this._dnames=this._dims.map((function(e){var t=Object(ne.h)(e);return i(e),n.push(t),t})),this.cellkey=e.key?e.key:qr(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];var o,a,s,l,u,c,f=e.fields||[null],d=e.ops||["count"],h=e.as||[],p=f.length,m={};for(p!==d.length&&Object(ne.n)("Unmatched number of fields and aggregate ops."),c=0;c<p;++c)o=f[c],a=d[c],null==o&&"count"!==a&&Object(ne.n)("Null aggregate field specified."),u=Yr(a,l=Object(ne.h)(o),h[c]),n.push(u),"count"!==a?((s=m[l])||(i(o),(s=m[l]=[]).field=o,this._measures.push(s)),"count"!==a&&(this._countOnly=!1),s.push(Kr(a,u))):this._counts.push(u);return this._measures=this._measures.map((function(e){return Jr(e,e.field)})),{}},mo.cellkey=qr(),mo.cell=function(e,t){var n=this.value[e];return n?0===n.num&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},mo.newcell=function(e,t){var n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){var r,i=this._measures,o=i.length;for(n.agg=Array(o),r=0;r<o;++r)n.agg[r]=new i[r](n)}return n.store&&(n.data=new fo),n},mo.newtuple=function(e,t){var n,r,i=this._dnames,o=this._dims,a={};for(n=0,r=o.length;n<r;++n)a[i[n]]=o[n](e);return t?ve(t.tuple,a):he(a)},mo.add=function(e){var t,n,r,i=this.cellkey(e),o=this.cell(i,e);if(o.num+=1,!this._countOnly)for(o.store&&o.data.add(e),n=0,r=(t=o.agg).length;n<r;++n)t[n].add(t[n].get(e),e)},mo.rem=function(e){var t,n,r,i=this.cellkey(e),o=this.cell(i,e);if(o.num-=1,!this._countOnly)for(o.store&&o.data.rem(e),n=0,r=(t=o.agg).length;n<r;++n)t[n].rem(t[n].get(e),e)},mo.celltuple=function(e){var t,n,r,i=e.tuple,o=this._counts;for(e.store&&e.data.values(),n=0,r=o.length;n<r;++n)i[o[n]]=e.num;if(!this._countOnly)for(n=0,r=(t=e.agg).length;n<r;++n)t[n].set(i);return i},mo.changes=function(e){var t,n,r,i,o=this._adds,a=this._mods,s=this._prev,l=this._drop,u=e.add,c=e.rem,f=e.mod;if(s)for(n in s)t=s[n],l&&!t.num||c.push(t.tuple);for(r=0,i=this._alen;r<i;++r)u.push(this.celltuple(o[r])),o[r]=null;for(r=0,i=this._mlen;r<i;++r)(0===(t=a[r]).num&&l?c:f).push(this.celltuple(t)),a[r]=null;return this._alen=this._mlen=0,this._prev=null,e};function vo(e){Hr.call(this,null,e)}vo.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};var go=Object(ne.y)(vo,Hr);go.transform=function(e,t){var n,r=!1!==e.interval,i=this._bins(e),o=i.start,a=i.step,s=e.as||["bin0","bin1"],l=s[0],u=s[1];return n=e.modified()?(t=t.reflow(!0)).SOURCE:t.modified(Object(ne.g)(e.field))?t.ADD_MOD:t.ADD,t.visit(n,r?function(e){var t=i(e);e[l]=t,e[u]=null==t?null:o+a*(1+(t-o)/a)}:function(e){e[l]=i(e)}),t.modifies(r?s:l)},go._bins=function(e){if(this.value&&!e.modified())return this.value;var t,n,r=e.field,i=gi(e),o=i.step,a=i.start,s=a+Math.ceil((i.stop-a)/o)*o;null!=(t=e.anchor)&&(n=t-(a+o*Math.floor((t-a)/o)),a+=n,s+=n);var l=function(e){var t=r(e);return null==t?null:t<a?-1/0:t>s?1/0:(t=Math.max(a,Math.min(+t,s-o)),a+o*Math.floor(1e-14+(t-a)/o))};return l.start=a,l.stop=i.stop,l.step=o,this.value=Object(ne.f)(l,Object(ne.g)(r),e.name||"bin_"+Object(ne.h)(r))};var yo=function(e,t,n){var r=e,i=t||[],o=n||[],a={},s=0;return{add:function(e){o.push(e)},remove:function(e){a[r(e)]=++s},size:function(){return i.length},data:function(e,t){return s&&(i=i.filter((function(e){return!a[r(e)]})),a={},s=0),t&&e&&i.sort(e),o.length&&(i=e?Object(ne.M)(e,i,o.sort(e)):i.concat(o),o=[]),i}}};function bo(e){Hr.call(this,[],e)}function _o(e){Se.call(this,null,xo,e)}function xo(e){return this.value&&!e.modified()?this.value:Object(ne.k)(e.fields,e.orders)}function wo(e){Hr.call(this,null,e)}bo.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},Object(ne.y)(bo,Hr).transform=function(e,t){var n=t.fork(t.ALL),r=yo(fe,this.value,n.materialize(n.ADD).add),i=e.sort,o=t.changed()||i&&(e.modified("sort")||t.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(o),this.value=n.source=r.data(ge(i),o),t.source&&t.source.root&&(this.value.root=t.source.root),n},Object(ne.y)(_o,Se),wo.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};var Eo=Object(ne.y)(wo,Hr);function To(e){Hr.call(this,null,e)}Eo.transform=function(e,t){function n(t){return function(n){for(var r,i=function(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e.match(n)}(s(n),e.case,o)||[],l=0,u=i.length;l<u;++l)a.test(r=i[l])||t(r)}}var r=this._parameterCheck(e,t),i=this._counts,o=this._match,a=this._stop,s=e.field,l=e.as||["text","count"],u=n((function(e){i[e]=1+(i[e]||0)})),c=n((function(e){i[e]-=1}));return r?t.visit(t.SOURCE,u):(t.visit(t.ADD,u),t.visit(t.REM,c)),this._finish(t,l)},Eo._parameterCheck=function(e,t){var n=!1;return!e.modified("stopwords")&&this._stop||(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),!e.modified("pattern")&&this._match||(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},Eo._finish=function(e,t){var n,r,i,o=this._counts,a=this._tuples||(this._tuples={}),s=t[0],l=t[1],u=e.fork(e.NO_SOURCE|e.NO_FIELDS);for(n in o)r=a[n],i=o[n]||0,!r&&i?(a[n]=r=he({}),r[s]=n,r[l]=i,u.add.push(r)):0===i?(r&&u.rem.push(r),o[n]=null,a[n]=null):r[l]!==i&&(r[l]=i,u.mod.push(r));return u.modifies(t)},To.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},Object(ne.y)(To,Hr).transform=function(e,t){var n=t.fork(t.NO_SOURCE),r=this.value,i=e.as||["a","b"],o=i[0],a=i[1];return!r||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter")?(r&&(n.rem=r),r=t.materialize(t.SOURCE).source,n.add=this.value=function(e,t,n,r){for(var i,o,a=[],s={},l=e.length,u=0;u<l;++u)for(s[t]=o=e[u],i=0;i<l;++i)s[n]=e[i],r(s)&&(a.push(he(s)),(s={})[t]=o);return a}(r,o,a,e.filter||ne.gb)):n.mod=r,n.source=this.value,n.modifies(i)};var So={kde:Ii,mixture:Fi,normal:Pi,lognormal:ji,uniform:Vi};function ko(e){Hr.call(this,null,e)}var Oo=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],Co={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:Oo},{name:"weights",type:"number",array:!0}]};function Ao(e,t){return e?e.map((function(e,n){return t[n]||Object(ne.h)(e)})):null}function Mo(e,t,n){var r,i,o,a,s,l,u=[],c=function(e){return e(a)};if(null==t)u.push(e.map(n));else for(r={},i=0,o=e.length;i<o;++i)a=e[i],(l=r[s=t.map(c)])||(r[s]=l=[],l.dims=s,u.push(l)),l.push(n(a));return u}ko.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:Oo.concat(Co)},{name:"as",type:"string",array:!0,default:["value","density"]}]},Object(ne.y)(ko,Hr).transform=function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var r=function e(t,n){var r=t.function;Object(ne.v)(So,r)||Object(ne.n)("Unknown distribution function: "+r);var i=So[r]();for(var o in t)"field"===o?i.data((t.from||n()).map(t[o])):"distributions"===o?i[o](t[o].map((function(t){return e(t,n)}))):"function"===typeof i[o]&&i[o](t[o]);return i}(e.distribution,function(e){return function(){return e.materialize(e.SOURCE).source}}(t)),i=e.steps||e.minsteps||25,o=e.steps||e.maxsteps||200,a=e.method||"pdf";"pdf"!==a&&"cdf"!==a&&Object(ne.n)("Invalid density method: "+a),e.extent||r.data||Object(ne.n)("Missing density extent parameter."),a=r[a];var s=e.as||["value","density"],l=e.extent||Object(ne.p)(r.data()),u=uo(a,l,i,o).map((function(e){var t={};return t[s[0]]=e[0],t[s[1]]=e[1],he(t)}));this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n};function Po(e){Hr.call(this,null,e)}function Io(e){Se.call(this,null,Do,e),this.modified(!0)}function Do(e){var t=e.expr;return this.value&&!e.modified("expr")?this.value:Object(ne.f)((function(n){return t(n,e)}),Object(ne.g)(t),Object(ne.h)(t))}function No(e){Hr.call(this,[void 0,void 0],e)}function Ro(e,t){Se.call(this,e),this.parent=t}Po.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:"bin"}]},Object(ne.y)(Po,Hr).transform=function(e,t){if(this.value&&!e.modified()&&!t.changed())return t;for(var n,r=t.materialize(t.SOURCE).source,i=Mo(t.source,e.groupby,ne.x),o=e.smooth||!1,a=e.field,s=e.step||function(e,t){return Object(ne.X)(Object(ne.p)(e,t))/30}(r,a),l=ge((function(e,t){return a(e)-a(t)})),u=e.as||"bin",c=i.length,f=1/0,d=-1/0,h=0;h<c;++h){var p=i[h].sort(l);n=-1;var m,v=ni(xi(p,s,o,a));try{for(v.s();!(m=v.n()).done;){var g=m.value;g<f&&(f=g),g>d&&(d=g),p[++n][u]=g}}catch(y){v.e(y)}finally{v.f()}}return this.value={start:f,stop:d,step:s},t.reflow(!0).modifies(u)},Object(ne.y)(Io,Se),No.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},Object(ne.y)(No,Hr).transform=function(e,t){var n,r=this.value,i=e.field,o=r[0],a=r[1];if(((n=t.changed()||t.modified(i.fields)||e.modified("field"))||null==o)&&(o=1/0,a=-1/0),t.visit(n?t.SOURCE:t.ADD,(function(e){var t=i(e);null!=t&&((t=+t)<o&&(o=t),t>a&&(a=t))})),!Number.isFinite(o)||!Number.isFinite(a)){var s=Object(ne.h)(i);s&&(s=' for field "'.concat(s,'"')),t.dataflow.warn("Infinite extent".concat(s,": [").concat(o,", ").concat(a,"]")),o=a=void 0}this.value=[o,a]};var Lo=Object(ne.y)(Ro,Se);function jo(e){Hr.call(this,{},e),this._keys=Object(ne.s)();var t=this._targets=[];t.active=0,t.forEach=function(e){for(var n=0,r=t.active;n<r;++n)e(t[n],n,t)}}Lo.connect=function(e){return this.targets().add(e),e.source=this},Lo.add=function(e){this.value.add.push(e)},Lo.rem=function(e){this.value.rem.push(e)},Lo.mod=function(e){this.value.mod.push(e)},Lo.init=function(e){this.value.init(e,e.NO_SOURCE)},Lo.evaluate=function(){return this.value};var Fo=Object(ne.y)(jo,Hr);function Bo(e){Se.call(this,null,zo,e)}function zo(e){return this.value&&!e.modified()?this.value:Object(ne.A)(e.name)?Object(ne.i)(e.name).map((function(e){return Object(ne.t)(e)})):Object(ne.t)(e.name,e.as)}function Ho(e){Hr.call(this,Object(ne.s)(),e)}function Uo(e){Hr.call(this,[],e)}function Vo(e){Hr.call(this,[],e)}function Go(e){Hr.call(this,null,e)}function Wo(e){Hr.call(this,[],e)}Fo.activate=function(e){this._targets[this._targets.active++]=e},Fo.subflow=function(e,t,n,r){var i,o,a=this.value,s=Object(ne.v)(a,e)&&a[e];return s?s.value.stamp<n.stamp&&(s.init(n),this.activate(s)):(o=r||(o=this._group[e])&&o.tuple,s=(i=n.dataflow).add(new Ro(n.fork(n.NO_SOURCE),this)).connect(t(i,e,o)),a[e]=s,this.activate(s)),s},Fo.transform=function(e,t){var n=t.dataflow,r=this,i=e.key,o=e.subflow,a=this._keys,s=e.modified("key");function l(e){return r.subflow(e,o,t)}return this._group=e.group||{},this._targets.active=0,t.visit(t.REM,(function(e){var t=fe(e),n=a.get(t);void 0!==n&&(a.delete(t),l(n).rem(e))})),t.visit(t.ADD,(function(e){var t=i(e);a.set(fe(e),t),l(t).add(e)})),s||t.modified(i.fields)?t.visit(t.MOD,(function(e){var t=fe(e),n=a.get(t),r=i(e);n===r?l(r).mod(e):(a.set(t,r),l(n).rem(e),l(r).add(e))})):t.changed(t.MOD)&&t.visit(t.MOD,(function(e){l(a.get(fe(e))).mod(e)})),s&&t.visit(t.REFLOW,(function(e){var t=fe(e),n=a.get(t),r=i(e);n!==r&&(a.set(t,r),l(n).rem(e),l(r).add(e))})),a.empty>n.cleanThreshold&&n.runAfter(a.clean),t},Object(ne.y)(Bo,Se),Ho.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},Object(ne.y)(Ho,Hr).transform=function(e,t){var n=t.dataflow,r=this.value,i=t.fork(),o=i.add,a=i.rem,s=i.mod,l=e.expr,u=!0;function c(t){var n=fe(t),i=l(t,e),c=r.get(n);i&&c?(r.delete(n),o.push(t)):i||c?u&&i&&!c&&s.push(t):(r.set(n,1),a.push(t))}return t.visit(t.REM,(function(e){var t=fe(e);r.has(t)?r.delete(t):a.push(e)})),t.visit(t.ADD,(function(t){l(t,e)?o.push(t):r.set(fe(t),1)})),t.visit(t.MOD,c),e.modified()&&(u=!1,t.visit(t.REFLOW,c)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i},Uo.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]},Object(ne.y)(Uo,Hr).transform=function(e,t){var n=t.fork(t.NO_SOURCE),r=e.fields,i=Ao(r,e.as||[]),o=e.index||null,a=i.length;return n.rem=this.value,t.visit(t.SOURCE,(function(e){for(var t,s,l,u=r.map((function(t){return t(e)})),c=u.reduce((function(e,t){return Math.max(e,t.length)}),0),f=0;f<c;++f){for(s=pe(e),t=0;t<a;++t)s[i[t]]=null==(l=u[t][f])?null:l;o&&(s[o]=f),n.add.push(s)}})),this.value=n.source=n.add,o&&n.modifies(o),n.modifies(i)},Vo.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},Object(ne.y)(Vo,Hr).transform=function(e,t){var n=t.fork(t.NO_SOURCE),r=e.fields,i=r.map(ne.h),o=e.as||["key","value"],a=o[0],s=o[1],l=r.length;return n.rem=this.value,t.visit(t.SOURCE,(function(e){for(var t,o=0;o<l;++o)(t=pe(e))[a]=i[o],t[s]=r[o](e),n.add.push(t)})),this.value=n.source=n.add,n.modifies(o)},Go.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},Object(ne.y)(Go,Hr).transform=function(e,t){var n=e.expr,r=e.as,i=e.modified(),o=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(o,(function(t){return t[r]=n(t,e)}))},Object(ne.y)(Wo,Hr).transform=function(e,t){var n,r,i,o=this.value,a=t.fork(t.ALL),s=e.size-o.length,l=e.generator;if(s>0){for(n=[];--s>=0;)n.push(i=he(l(e))),o.push(i);a.add=a.add.length?a.materialize(a.ADD).add.concat(n):n}else r=o.slice(0,-s),a.rem=a.rem.length?a.materialize(a.REM).rem.concat(r):r,o=o.slice(-s);return a.source=this.value=o,a};var qo={value:"value",median:io,mean:function(e,t){var n=0,r=0;if(void 0===t){var i,o=ni(e);try{for(o.s();!(i=o.n()).done;){var a=i.value;null!=a&&(a=+a)>=a&&(++n,r+=a)}}catch(f){o.e(f)}finally{o.f()}}else{var s,l=-1,u=ni(e);try{for(u.s();!(s=u.n()).done;){var c=s.value;null!=(c=t(c,++l,e))&&(c=+c)>=c&&(++n,r+=c)}}catch(f){u.e(f)}finally{u.f()}}if(n)return r/n},min:si,max:ai},Yo=[];function Xo(e){Hr.call(this,[],e)}function $o(e){po.call(this,e)}Xo.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]},Object(ne.y)(Xo,Hr).transform=function(e,t){var n,r,i,o,a,s,l,u,c,f,d=t.fork(t.ALL),h=function(e){var t,n=e.method||qo.value;if(null!=qo[n])return n===qo.value?(t=void 0!==e.value?e.value:0,function(){return t}):qo[n];Object(ne.n)("Unrecognized imputation method: "+n)}(e),p=function(e){var t=e.field;return function(e){return e?t(e):NaN}}(e),m=Object(ne.h)(e.field),v=Object(ne.h)(e.key),g=(e.groupby||[]).map(ne.h),y=function(e,t,n,r){var i,o,a,s,l,u,c,f,d=function(e){return e(f)},h=[],p=r?r.slice():[],m={},v={};for(p.forEach((function(e,t){m[e]=t+1})),s=0,c=e.length;s<c;++s)f=e[s],u=n(f),l=m[u]||(m[u]=p.push(u)),o=(i=t?t.map(d):Yo)+"",(a=v[o])||(a=v[o]=[],h.push(a),a.values=i),a[l-1]=f;return h.domain=p,h}(t.source,e.groupby,e.key,e.keyvals),b=[],_=this.value,x=y.domain.length;for(a=0,u=y.length;a<u;++a)for(i=(n=y[a]).values,r=NaN,l=0;l<x;++l)if(null==n[l]){for(o=y.domain[l],f={_impute:!0},s=0,c=i.length;s<c;++s)f[g[s]]=i[s];f[v]=o,f[m]=Number.isNaN(r)?r=h(n,p):r,b.push(he(f))}return b.length&&(d.add=d.materialize(d.ADD).add.concat(b)),_.length&&(d.rem=d.materialize(d.REM).rem.concat(_)),this.value=b,d},$o.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:$r},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};var Ko=Object(ne.y)($o,po);function Zo(e){Hr.call(this,null,e)}function Qo(e){Se.call(this,null,Jo,e)}function Jo(e){return this.value&&!e.modified()?this.value:Object(ne.I)(e.fields,e.flat)}function ea(e){Hr.call(this,[],e),this._pending=null}function ta(e,t,n){n.forEach(he);var r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=n,e._pending=null,r}function na(e){Hr.call(this,{},e)}function ra(e){Se.call(this,null,ia,e)}function ia(e){if(this.value&&!e.modified())return this.value;var t,n,r,i=1/0,o=-1/0,a=e.extents;for(t=0,n=a.length;t<n;++t)(r=a[t])[0]<i&&(i=r[0]),r[1]>o&&(o=r[1]);return[i,o]}function oa(e){Se.call(this,null,aa,e)}function aa(e){return this.value&&!e.modified()?this.value:e.values.reduce((function(e,t){return e.concat(t)}),[])}function sa(e){Hr.call(this,null,e)}function la(e){po.call(this,e)}Ko.transform=function(e,t){var n,r=this,i=e.modified();return r.value&&(i||t.modified(r._inputs,!0))?(n=r.value=i?r.init(e):{},t.visit(t.SOURCE,(function(e){r.add(e)}))):(n=r.value=r.value||this.init(e),t.visit(t.REM,(function(e){r.rem(e)})),t.visit(t.ADD,(function(e){r.add(e)}))),r.changes(),t.visit(t.SOURCE,(function(e){Object(ne.o)(e,n[r.cellkey(e)].tuple)})),t.reflow(i).modifies(this._outputs)},Ko.changes=function(){var e,t,n=this._adds,r=this._mods;for(e=0,t=this._alen;e<t;++e)this.celltuple(n[e]),n[e]=null;for(e=0,t=this._mlen;e<t;++e)this.celltuple(r[e]),r[e]=null;this._alen=this._mlen=0},Zo.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]},Object(ne.y)(Zo,Hr).transform=function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var r=t.materialize(t.SOURCE).source,i=Mo(r,e.groupby,e.field),o=(e.groupby||[]).map(ne.h),a=e.bandwidth,s=e.cumulative?"cdf":"pdf",l=e.as||["value","density"],u=[],c=e.extent,f=e.steps||e.minsteps||25,d=e.steps||e.maxsteps||200;"pdf"!==s&&"cdf"!==s&&Object(ne.n)("Invalid density method: "+s),"shared"===e.resolve&&(c||(c=Object(ne.p)(r,e.field)),f=d=e.steps||d),i.forEach((function(t){var n=Ii(t,a)[s],r=e.counts?t.length:1,i=c||Object(ne.p)(t);uo(n,i,f,d).forEach((function(e){for(var n={},i=0;i<o.length;++i)n[o[i]]=t.dims[i];n[l[0]]=e[0],n[l[1]]=e[1]*r,u.push(he(n))}))})),this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n},Object(ne.y)(Qo,Se),Object(ne.y)(ea,Hr).transform=function(e,t){var n=this,r=t.dataflow;return this._pending?ta(this,t,this._pending):function(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}(e)?t.StopPropagation:e.values?ta(this,t,r.parse(e.values,e.format)):e.async?{async:r.request(e.url,e.format).then((function(e){return n._pending=Object(ne.i)(e.data),function(e){return e.touch(n)}}))}:r.request(e.url,e.format).then((function(e){return ta(n,t,Object(ne.i)(e.data))}))},na.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},Object(ne.y)(na,Hr).transform=function(e,t){var n,r,i=t,o=e.as,a=e.fields,s=e.index,l=e.values,u=null==e.default?null:e.default,c=e.modified(),f=c?t.SOURCE:t.ADD,d=a.length;return l?(r=l.length,d>1&&!o&&Object(ne.n)('Multi-field lookup requires explicit "as" parameter.'),o&&o.length!==d*r&&Object(ne.n)('The "as" parameter has too few output field names.'),o=o||l.map(ne.h),n=function(e){for(var t,n,i=0,c=0;i<d;++i)if(null==(n=s.get(a[i](e))))for(t=0;t<r;++t,++c)e[o[c]]=u;else for(t=0;t<r;++t,++c)e[o[c]]=l[t](n)}):(o||Object(ne.n)("Missing output field names."),n=function(e){for(var t,n=0;n<d;++n)t=s.get(a[n](e)),e[o[n]]=null==t?u:t}),c?i=t.reflow(!0):f|=a.some((function(e){return t.modified(e.fields)}))?t.MOD:0,t.visit(f,n),i.modifies(o)},Object(ne.y)(ra,Se),Object(ne.y)(oa,Se),Object(ne.y)(sa,Hr),sa.prototype.transform=function(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)},la.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:$r,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};var ua=Object(ne.y)(la,po);function ca(e){jo.call(this,e)}function fa(e){Hr.call(this,null,e)}function da(e){Hr.call(this,null,e)}ua._transform=ua.transform,ua.transform=function(e,t){return this._transform(function(e,t){var n=e.field,r=e.value,i=("count"===e.op?"__count__":e.op)||"sum",o=Object(ne.g)(n).concat(Object(ne.g)(r)),a=function(e,t,n){var r={},i=[];return n.visit(n.SOURCE,(function(t){var n=e(t);r[n]||(r[n]=1,i.push(n))})),i.sort((function(e,t){return(e<t||null==e)&&null!=t?-1:(e>t||null==t)&&null!=e?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0)})),t?i.slice(0,t):i}(n,e.limit||0,t);t.changed()&&e.set("__pivot__",null,null,!0);return{key:e.key,groupby:e.groupby,ops:a.map((function(){return i})),fields:a.map((function(e){return function(e,t,n,r){return Object(ne.f)((function(r){return t(r)===e?n(r):NaN}),r,e+"")}(e,n,r,o)})),as:a.map((function(e){return e+""})),modified:e.modified.bind(e)}}(e,t),t)},Object(ne.y)(ca,jo).transform=function(e,t){var n=this,r=e.subflow,i=e.field;return(e.modified("field")||i&&t.modified(Object(ne.g)(i)))&&Object(ne.n)("PreFacet does not support field modification."),this._targets.active=0,t.visit(t.MOD,(function(e){var o=n.subflow(fe(e),r,t,e);i?i(e).forEach((function(e){o.mod(e)})):o.mod(e)})),t.visit(t.ADD,(function(e){var o=n.subflow(fe(e),r,t,e);i?i(e).forEach((function(e){o.add(he(e))})):o.add(e)})),t.visit(t.REM,(function(e){var o=n.subflow(fe(e),r,t,e);i?i(e).forEach((function(e){o.rem(e)})):o.rem(e)})),t},fa.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]},Object(ne.y)(fa,Hr).transform=function(e,t){var n,r,i=e.fields,o=Ao(e.fields,e.as||[]),a=i?function(e,t){return function(e,t,n,r){for(var i=0,o=n.length;i<o;++i)t[r[i]]=n[i](e);return t}(e,t,i,o)}:me;return this.value?r=this.value:(t=t.addAll(),r=this.value={}),n=t.fork(t.NO_SOURCE),t.visit(t.REM,(function(e){var t=fe(e);n.rem.push(r[t]),r[t]=null})),t.visit(t.ADD,(function(e){var t=a(e,he({}));r[fe(e)]=t,n.add.push(t)})),t.visit(t.MOD,(function(e){n.mod.push(a(e,r[fe(e)]))})),n},Object(ne.y)(da,Hr).transform=function(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation};var ha=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o};function pa(e){Hr.call(this,null,e)}pa.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};var ma=Object(ne.y)(pa,Hr);function va(e){Hr.call(this,null,e)}function ga(e){Hr.call(this,[],e),this.count=0}function ya(e){Hr.call(this,null,e)}function ba(e){Hr.call(this,null,e),this.modified(!0)}ma.transform=function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;var i=Mo(t.materialize(t.SOURCE).source,e.groupby,e.field),o=(e.groupby||[]).map(ne.h),a=[],s=e.step||.01,l=e.probs||ha(s/2,1-1e-14,s),u=l.length;return i.forEach((function(e){for(var t=hi(e,l),n=0;n<u;++n){for(var i={},s=0;s<o.length;++s)i[o[s]]=e.dims[s];i[r[0]]=l[n],i[r[1]]=t[n],a.push(he(i))}})),this.value&&(n.rem=this.value),this.value=n.add=n.source=a,n},Object(ne.y)(va,Hr).transform=function(e,t){var n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,(function(e){var t=fe(e);n.rem.push(r[t]),r[t]=null})),t.visit(t.ADD,(function(e){var t=pe(e);r[fe(e)]=t,n.add.push(t)})),t.visit(t.MOD,(function(e){var t,i=r[fe(e)];for(t in e)i[t]=e[t],n.modifies(t);n.mod.push(i)}))),n},ga.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]},Object(ne.y)(ga,Hr).transform=function(e,t){var n=t.fork(t.NO_SOURCE),r=e.modified("size"),i=e.size,o=this.value,a=this.count,s=0,l=o.reduce((function(e,t){return e[fe(t)]=1,e}),{});function u(e){var t,r;o.length<i?o.push(e):(r=~~((a+1)*yi()))<o.length&&r>=s&&(t=o[r],l[fe(t)]&&n.rem.push(t),o[r]=e),++a}if(t.rem.length&&(t.visit(t.REM,(function(e){var t=fe(e);l[t]&&(l[t]=-1,n.rem.push(e)),--a})),o=o.filter((function(e){return-1!==l[fe(e)]}))),(t.rem.length||r)&&o.length<i&&t.source&&(s=a=o.length,t.visit(t.SOURCE,(function(e){l[fe(e)]||u(e)})),s=-1),r&&o.length>i){for(var c=0,f=o.length-i;c<f;++c)l[fe(o[c])]=-1,n.rem.push(o[c]);o=o.slice(f)}return t.mod.length&&t.visit(t.MOD,(function(e){l[fe(e)]&&n.mod.push(e)})),t.add.length&&t.visit(t.ADD,u),(t.add.length||s<0)&&(n.add=o.filter((function(e){return!l[fe(e)]}))),this.count=a,this.value=n.source=o,n},ya.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]},Object(ne.y)(ya,Hr).transform=function(e,t){if(!this.value||e.modified()){var n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=ha(e.start,e.stop,e.step||1).map((function(e){var t={};return t[r]=e,he(t)})),n.add=t.add.concat(this.value),n}},Object(ne.y)(ba,Hr).transform=function(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation};var _a="year",xa="quarter",wa="month",Ea="week",Ta="day",Sa="hours",ka="minutes",Oa="seconds",Ca=[_a,xa,wa,Ea,"date",Ta,"dayofyear",Sa,ka,Oa,"milliseconds"],Aa=Ca.reduce((function(e,t,n){return e[t]=1+n,e}),{});function Ma(e){var t=Object(ne.i)(e).slice(),n={};return t.length||Object(ne.n)("Missing time unit."),t.forEach((function(e){Object(ne.v)(Aa,e)?n[e]=1:Object(ne.n)("Invalid time unit: ".concat(e,"."))})),(n[Ea]||n.day?1:0)+(n[xa]||n[wa]||n.date?1:0)+(n.dayofyear?1:0)>1&&Object(ne.n)("Incompatible time units: ".concat(e)),t.sort((function(e,t){return Aa[e]-Aa[t]})),t}var Pa,Ia,Da,Na,Ra=new Date;function La(e){return Ra.setFullYear(e),Ra.setMonth(0),Ra.setDate(1),Ra.setHours(0,0,0,0),Ra}function ja(e){return Ba(new Date(e))}function Fa(e){return za(new Date(e))}function Ba(e){return Vt.count(La(e.getFullYear())-1,e)}function za(e){return Rt.count(La(e.getFullYear())-1,e)}function Ha(e){return La(e).getDay()}function Ua(e,t,n,r,i,o,a){if(0<=e&&e<100){var s=new Date(-1,t,n,r,i,o,a);return s.setFullYear(e),s}return new Date(e,t,n,r,i,o,a)}function Va(e){return Wa(new Date(e))}function Ga(e){return qa(new Date(e))}function Wa(e){var t=Date.UTC(e.getUTCFullYear(),0,1);return Dt.count(t-1,e)}function qa(e){var t=Date.UTC(e.getUTCFullYear(),0,1);return St.count(t-1,e)}function Ya(e){return Ra.setTime(Date.UTC(e,0,1)),Ra.getUTCDay()}function Xa(e,t,n,r,i,o,a){if(0<=e&&e<100){var s=new Date(Date.UTC(-1,t,n,r,i,o,a));return s.setUTCFullYear(n.y),s}return new Date(Date.UTC(e,t,n,r,i,o,a))}function $a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ka(e,t,n,r,i){var o=t||1,a=Object(ne.U)(e),s=function(e,t,i){return function(e,t,n,r){var i=n<=1?e:r?function(t,i){return r+n*Math.floor((e(t,i)-r)/n)}:function(t,r){return n*Math.floor(e(t,r)/n)};return t?function(e,n){return t(i(e,n),n)}:i}(n[i=i||e],r[i],e===a&&o,t)},l=new Date,u=Object(ne.db)(e),c=u[_a]?s(_a):Object(ne.l)(2012),f=u[wa]?s(wa):u[xa]?s(xa):ne.kb,d=u[Ea]&&u.day?s(Ta,1,Ea+Ta):u[Ea]?s(Ea,1):u.day?s(Ta,1):u.date?s("date",1):u.dayofyear?s("dayofyear",1):ne.O,h=u[Sa]?s(Sa):ne.kb,p=u[ka]?s(ka):ne.kb,m=u[Oa]?s(Oa):ne.kb,v=u.milliseconds?s("milliseconds"):ne.kb;return function(e){l.setTime(+e);var t=c(l);return i(t,f(l),d(l,t),h(l),p(l),m(l),v(l))}}function Za(e,t,n){return t+7*e-(n+6)%7}var Qa=($a(Pa={},_a,(function(e){return e.getFullYear()})),$a(Pa,xa,(function(e){return Math.floor(e.getMonth()/3)})),$a(Pa,wa,(function(e){return e.getMonth()})),$a(Pa,"date",(function(e){return e.getDate()})),$a(Pa,Sa,(function(e){return e.getHours()})),$a(Pa,ka,(function(e){return e.getMinutes()})),$a(Pa,Oa,(function(e){return e.getSeconds()})),$a(Pa,"milliseconds",(function(e){return e.getMilliseconds()})),$a(Pa,"dayofyear",(function(e){return Ba(e)})),$a(Pa,Ea,(function(e){return za(e)})),$a(Pa,Ea+Ta,(function(e,t){return Za(za(e),e.getDay(),Ha(t))})),$a(Pa,Ta,(function(e,t){return Za(1,e.getDay(),Ha(t))})),Pa),Ja=($a(Ia={},xa,(function(e){return 3*e})),$a(Ia,Ea,(function(e,t){return Za(e,0,Ha(t))})),Ia);function es(e,t){return Ka(e,t||1,Qa,Ja,Ua)}var ts=($a(Da={},_a,(function(e){return e.getUTCFullYear()})),$a(Da,xa,(function(e){return Math.floor(e.getUTCMonth()/3)})),$a(Da,wa,(function(e){return e.getUTCMonth()})),$a(Da,"date",(function(e){return e.getUTCDate()})),$a(Da,Sa,(function(e){return e.getUTCHours()})),$a(Da,ka,(function(e){return e.getUTCMinutes()})),$a(Da,Oa,(function(e){return e.getUTCSeconds()})),$a(Da,"milliseconds",(function(e){return e.getUTCMilliseconds()})),$a(Da,"dayofyear",(function(e){return Wa(e)})),$a(Da,Ea,(function(e){return qa(e)})),$a(Da,Ta,(function(e,t){return Za(1,e.getUTCDay(),Ya(t))})),$a(Da,Ea+Ta,(function(e,t){return Za(qa(e),e.getUTCDay(),Ya(t))})),Da),ns=($a(Na={},xa,(function(e){return 3*e})),$a(Na,Ea,(function(e,t){return Za(e,0,Ya(t))})),Na);function rs(e,t){return Ka(e,t||1,ts,ns,Xa)}var is=Et((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()})),os=is,as=(is.range,Et((function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-6e4*e.getMinutes())}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getHours()}))),ss=as,ls=(as.range,Et((function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())}),(function(e,t){e.setTime(+e+6e4*t)}),(function(e,t){return(t-e)/6e4}),(function(e){return e.getMinutes()}))),us=ls,cs=(ls.range,Et((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+1e3*t)}),(function(e,t){return(t-e)/1e3}),(function(e){return e.getUTCSeconds()}))),fs=cs,ds=(cs.range,Et((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e})));ds.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?Et((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):ds:null};var hs,ps,ms,vs=ds,gs=(ds.range,Et((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()}))),ys=gs,bs=(gs.range,Et((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getUTCHours()}))),_s=bs,xs=(bs.range,Et((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+6e4*t)}),(function(e,t){return(t-e)/6e4}),(function(e){return e.getUTCMinutes()}))),ws=xs,Es=(xs.range,$a(hs={},_a,Wt),$a(hs,xa,os.every(3)),$a(hs,wa,os),$a(hs,Ea,Rt),$a(hs,"date",Vt),$a(hs,Ta,Vt),$a(hs,"dayofyear",Vt),$a(hs,Sa,ss),$a(hs,ka,us),$a(hs,Oa,fs),$a(hs,"milliseconds",vs),hs),Ts=($a(ps={},_a,Yt),$a(ps,xa,ys.every(3)),$a(ps,wa,ys),$a(ps,Ea,St),$a(ps,"date",Dt),$a(ps,Ta,Dt),$a(ps,"dayofyear",Dt),$a(ps,Sa,_s),$a(ps,ka,ws),$a(ps,Oa,fs),$a(ps,"milliseconds",vs),ps);function Ss(e){return Es[e]}function ks(e){return Ts[e]}function Os(e,t,n){return e?e.offset(t,n):void 0}function Cs(e,t,n){return Os(Ss(e),t,n)}function As(e,t,n){return Os(ks(e),t,n)}function Ms(e,t,n,r){return e?e.range(t,n,r):void 0}function Ps(e,t,n,r){return Ms(Ss(e),t,n,r)}function Is(e,t,n,r){return Ms(ks(e),t,n,r)}var Ds=($a(ms={},_a,"%Y "),$a(ms,xa,"Q%q "),$a(ms,wa,"%b "),$a(ms,"date","%d "),$a(ms,Ea,"W%U "),$a(ms,Ta,"%a "),$a(ms,"dayofyear","%j "),$a(ms,Sa,"%H:00"),$a(ms,ka,"00:%M"),$a(ms,Oa,":%S"),$a(ms,"milliseconds",".%L"),$a(ms,"".concat(_a,"-").concat(wa),"%Y-%m "),$a(ms,"".concat(_a,"-").concat(wa,"-").concat("date"),"%Y-%m-%d "),$a(ms,"".concat(Sa,"-").concat(ka),"%H:%M"),ms);function Ns(e,t){var n,r,i=Object(ne.o)({},Ds,t),o=Ma(e),a=o.length,s="",l=0;for(l=0;l<a;)for(n=o.length;n>l;--n)if(null!=i[r=o.slice(l,n).join("-")]){s+=i[r],l=n;break}return s.trim()}function Rs(e){return js(Qt,Ss,e)}function Ls(e){return js(en,ks,e)}function js(e,t,n){return Object(ne.H)(n)?e(n):function(e,t,n){n=n||{},Object(ne.F)(n)||Object(ne.n)("Invalid time multi-format specifier: ".concat(n));var r=t(Oa),i=t(ka),o=t(Sa),a=t("date"),s=t(Ea),l=t(wa),u=t(xa),c=t(_a),f=e(n.milliseconds||".%L"),d=e(n[Oa]||":%S"),h=e(n[ka]||"%I:%M"),p=e(n[Sa]||"%I %p"),m=e(n.date||n.day||"%a %d"),v=e(n[Ea]||"%b %d"),g=e(n[wa]||"%B"),y=e(n[xa]||"%B"),b=e(n[_a]||"%Y");return function(e){return(r(e)<e?f:i(e)<e?d:o(e)<e?h:a(e)<e?p:l(e)<e?s(e)<e?m:v:c(e)<e?u(e)<e?g:y:b)(e)}}(e,t,n)}var Fs=function(e){var t;return 1===e.length&&(t=e,e=function(e,n){return oi(t(e),n)}),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}};var Bs=Math.sqrt(50),zs=Math.sqrt(10),Hs=Math.sqrt(2),Us=function(e,t,n){var r,i,o,a,s=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=Vs(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(e+s)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(e-s)/a;return r&&o.reverse(),o};function Vs(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Bs?10:o>=zs?5:o>=Hs?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Bs?10:o>=zs?5:o>=Hs?2:1)}function Gs(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Bs?i*=10:o>=zs?i*=5:o>=Hs&&(i*=2),t<e?-i:i}var Ws=[_a,wa,"date",Sa,ka,Oa,"milliseconds"],qs=Ws.slice(0,-1),Ys=qs.slice(0,-1),Xs=Ys.slice(0,-1),$s=Xs.slice(0,-1),Ks=[_a,wa],Zs=[_a],Qs=[[qs,1,1e3],[qs,5,5e3],[qs,15,15e3],[qs,30,3e4],[Ys,1,6e4],[Ys,5,3e5],[Ys,15,9e5],[Ys,30,18e5],[Xs,1,36e5],[Xs,3,108e5],[Xs,6,216e5],[Xs,12,432e5],[$s,1,864e5],[[_a,Ea],1,6048e5],[Ks,1,2592e6],[Ks,3,7776e6],[Zs,1,31536e6]],Js=function(e){var t,n,r=e.extent,i=e.maxbins||40,o=Math.abs(Object(ne.X)(r))/i,a=Fs((function(e){return e[2]})).right(Qs,o);return a===Qs.length?(t=Zs,n=Gs(r[0]/31536e6,r[1]/31536e6,i)):a?(t=(a=Qs[o/Qs[a-1][2]<Qs[a][2]/o?a-1:a])[0],n=a[1]):(t=Ws,n=Math.max(Gs(r[0],r[1],i),1)),{units:t,step:n}};function el(e){Hr.call(this,null,e)}var tl=["unit0","unit1"];el.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:Ca,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:tl}]};var nl=Object(ne.y)(el,Hr);function rl(e){Hr.call(this,Object(ne.s)(),e)}function il(e){Hr.call(this,null,e)}nl.transform=function(e,t){var n=e.field,r=!1!==e.interval,i="utc"===e.timezone,o=this._floor(e,t),a=(i?ks:Ss)(o.unit).offset,s=e.as||tl,l=s[0],u=s[1],c=o.start||1/0,f=o.stop||-1/0,d=o.step,h=t.ADD;return(e.modified()||t.modified(Object(ne.g)(n)))&&(h=(t=t.reflow(!0)).SOURCE,c=1/0,f=-1/0),t.visit(h,(function(e){var t,i,s=n(e);null==s?(e[l]=null,r&&(e[u]=null)):(e[l]=t=i=o(s),r&&(e[u]=i=a(t,d)),t<c&&(c=t),i>f&&(f=i))})),o.start=c,o.stop=f,t.modifies(r?s:l)},nl._floor=function(e,t){var n="utc"===e.timezone,r=e.units?{units:e.units,step:e.step||1}:Js({extent:e.extent||Object(ne.p)(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),i=r.units,o=r.step;i=Ma(i);var a=this.value||{},s=(n?rs:es)(i,o);return s.unit=Object(ne.U)(i),s.units=i,s.step=o,s.start=a.start,s.stop=a.stop,this.value=s},Object(ne.y)(rl,Hr).transform=function(e,t){var n=t.dataflow,r=e.field,i=this.value,o=!0;function a(e){i.set(r(e),e)}return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,a)):t.changed()?(t.visit(t.REM,(function(e){i.delete(r(e))})),t.visit(t.ADD,a)):o=!1,this.modified(o),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()},Object(ne.y)(il,Hr).transform=function(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(ge(e.sort)):t.source).map(e.field))};var ol={row_number:function(){return{next:function(e){return e.index+1}}},rank:function(){var e;return{init:function(){return e=1},next:function(t){var n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){var e;return{init:function(){return e=1},next:function(t){var n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){var e=ol.rank(),t=e.next;return{init:e.init,next:function(e){return(t(e)-1)/(e.data.length-1)}}},cume_dist:function(){var e;return{init:function(){return e=0},next:function(t){var n=t.index,r=t.data,i=t.compare;if(e<n){for(;n+1<r.length&&!i(r[n],r[n+1]);)++n;e=n}return(1+e)/r.length}}},ntile:function(e,t){(t=+t)>0||Object(ne.n)("ntile num must be greater than zero.");var n=ol.cume_dist(),r=n.next;return{init:n.init,next:function(e){return Math.ceil(t*r(e))}}},lag:function(e,t){return t=+t||1,{next:function(n){var r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:function(n){var r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:function(t){return e(t.data[t.i0])}}},last_value:function(e){return{next:function(t){return e(t.data[t.i1-1])}}},nth_value:function(e,t){return(t=+t)>0||Object(ne.n)("nth_value nth must be greater than zero."),{next:function(n){var r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){var t;return{init:function(){return t=null},next:function(n){var r=e(n.data[n.index]);return null!=r?t=r:t}}},next_value:function(e){var t,n;return{init:function(){return t=null,n=-1},next:function(r){var i=r.data;return r.index<=n?t:(n=function(e,t,n){for(var r=t.length;n<r;++n){if(null!=e(t[n]))return n}return-1}(e,i,r.index))<0?(n=i.length,t=null):t=e(i[n])}}}};var al=Object.keys(ol);function sl(e){var t=Object(ne.i)(e.ops),n=Object(ne.i)(e.fields),r=Object(ne.i)(e.params),i=Object(ne.i)(e.as),o=this.outputs=[],a=this.windows=[],s={},l={},u=!0,c=[],f=[];function d(e){Object(ne.i)(Object(ne.g)(e)).forEach((function(e){return s[e]=1}))}d(e.sort),t.forEach((function(e,t){var s=n[t],h=Object(ne.h)(s),p=Yr(e,h,i[t]);if(d(s),o.push(p),Object(ne.v)(ol,e))a.push(function(e,t,n,r){var i=ol[e](t,n);return{init:i.init||ne.kb,update:function(e,t){t[r]=i.next(e)}}}(e,n[t],r[t],p));else{if(null==s&&"count"!==e&&Object(ne.n)("Null aggregate field specified."),"count"===e)return void c.push(p);u=!1;var m=l[h];m||((m=l[h]=[]).field=s,f.push(m)),m.push(Kr(e,p))}})),(c.length||f.length)&&(this.cell=function(e,t,n){e=e.map((function(e){return Jr(e,e.field)}));var r={num:0,agg:null,store:!1,count:t};if(!n)for(var i=e.length,o=r.agg=Array(i),a=0;a<i;++a)o[a]=new e[a](r);if(r.store)var s=r.data=new fo;return r.add=function(e){if(r.num+=1,!n){s&&s.add(e);for(var t=0;t<i;++t)o[t].add(o[t].get(e),e)}},r.rem=function(e){if(r.num-=1,!n){s&&s.rem(e);for(var t=0;t<i;++t)o[t].rem(o[t].get(e),e)}},r.set=function(e){var i,a;for(s&&s.values(),i=0,a=t.length;i<a;++i)e[t[i]]=r.num;if(!n)for(i=0,a=o.length;i<a;++i)o[i].set(e)},r.init=function(){r.num=0,s&&s.reset();for(var e=0;e<i;++e)o[e].init()},r}(f,c,u)),this.inputs=Object.keys(s)}var ll=sl.prototype;function ul(e){Hr.call(this,{},e),this._mlen=0,this._mods=[]}ll.init=function(){this.windows.forEach((function(e){return e.init()})),this.cell&&this.cell.init()},ll.update=function(e,t){var n,r=this.cell,i=this.windows,o=e.data,a=i&&i.length;if(r){for(n=e.p0;n<e.i0;++n)r.rem(o[n]);for(n=e.p1;n<e.i1;++n)r.add(o[n]);r.set(t)}for(n=0;n<a;++n)i[n].update(e,t)},ul.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:al.concat($r)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};var cl=Object(ne.y)(ul,Hr);function fl(e,t,n,r){var i=r.sort,o=i&&!r.ignorePeers,a=r.frame||[null,0],s=e.data(n),l=s.length,u=0,c=o?Fs(i):null,f={i0:0,i1:0,p0:0,p1:0,index:0,data:s,compare:i||Object(ne.l)(-1)};for(t.init();u<l;++u)dl(f,a,u,l),o&&hl(f,c),t.update(f,s[u])}function dl(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=null==t[0]?0:Math.max(0,n-Math.abs(t[0])),e.i1=null==t[1]?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function hl(e,t){var n=e.i0,r=e.i1-1,i=e.compare,o=e.data,a=o.length-1;n>0&&!i(o[n],o[n-1])&&(e.i0=t.left(o,o[n])),r<a&&!i(o[r],o[r+1])&&(e.i1=t.right(o,o[r]))}cl.transform=function(e,t){var n,r,i=this,o=i.state,a=e.modified(),s=ge(e.sort);this.stamp=t.stamp,o&&!a||(o=i.state=new sl(e));var l=qr(e.groupby);function u(e){return i.group(l(e))}for(a||t.modified(o.inputs)?(i.value={},t.visit(t.SOURCE,(function(e){u(e).add(e)}))):(t.visit(t.REM,(function(e){u(e).remove(e)})),t.visit(t.ADD,(function(e){u(e).add(e)}))),n=0,r=i._mlen;n<r;++n)fl(i._mods[n],o,s,e);return i._mlen=0,i._mods=[],t.reflow(a).modifies(o.outputs)},cl.group=function(e){var t=this.value[e];return t||((t=this.value[e]=yo(fe)).stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t};var pl="top",ml="left",vl="right",gl="end",yl="row";function bl(e){this.clear(),e&&this.union(e)}var _l=bl.prototype;_l.clone=function(){return new bl(this)},_l.clear=function(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},_l.empty=function(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},_l.equals=function(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},_l.set=function(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},_l.add=function(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},_l.expand=function(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},_l.round=function(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},_l.scale=function(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},_l.translate=function(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},_l.rotate=function(e,t,n){var r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},_l.rotatedPoints=function(e,t,n){var r=this.x1,i=this.y1,o=this.x2,a=this.y2,s=Math.cos(e),l=Math.sin(e),u=t-t*s+n*l,c=n-t*l-n*s;return[s*r-l*i+u,l*r+s*i+c,s*r-l*a+u,l*r+s*a+c,s*o-l*i+u,l*o+s*i+c,s*o-l*a+u,l*o+s*a+c]},_l.union=function(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},_l.intersect=function(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},_l.encloses=function(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},_l.alignsWith=function(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},_l.intersects=function(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},_l.contains=function(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},_l.width=function(){return this.x2-this.x1},_l.height=function(){return this.y2-this.y1};var xl=0;function wl(e){return e&&e.gradient}function El(e,t,n){var r=e.id,i=e.gradient,o="radial"===i?"p_":"";return r||(r=e.id="gradient_"+xl++,"radial"===i?(e.x1=Tl(e.x1,.5),e.y1=Tl(e.y1,.5),e.r1=Tl(e.r1,0),e.x2=Tl(e.x2,.5),e.y2=Tl(e.y2,.5),e.r2=Tl(e.r2,.5),o="p_"):(e.x1=Tl(e.x1,0),e.y1=Tl(e.y1,0),e.x2=Tl(e.x2,1),e.y2=Tl(e.y2,0))),t[r]=e,"url("+(n||"")+"#"+o+r+")"}function Tl(e,t){return null!=e?e:t}var Sl=function(e,t){var n,r=[];return n={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:r,stop:function(e,t){return r.push({offset:e,color:t}),n}}};function kl(e){this.mark=e,this.bounds=this.bounds||new bl}function Ol(e){kl.call(this,e),this.items=this.items||[]}function Cl(e,t){if("undefined"!==typeof document&&document.createElement){var n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}function Al(){return"undefined"!==typeof Image?Image:null}function Ml(e){this._pending=0,this._loader=e||vr()}Object(ne.y)(Ol,kl);var Pl=Ml.prototype;function Il(e){e._pending+=1}function Dl(e){e._pending-=1}function Nl(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Rl(e){this._context=e}Pl.pending=function(){return this._pending},Pl.sanitizeURL=function(e){var t=this;return Il(t),t._loader.sanitize(e,{context:"href"}).then((function(e){return Dl(t),e})).catch((function(){return Dl(t),null}))},Pl.loadImage=function(e){var t=this,n=Al();return Il(t),t._loader.sanitize(e,{context:"image"}).then((function(e){var r=e.href;if(!r||!n)throw{url:r};var i=new n,o=Object(ne.v)(e,"crossOrigin")?e.crossOrigin:"anonymous";return null!=o&&(i.crossOrigin=o),i.onload=function(){return Dl(t)},i.onerror=function(){return Dl(t)},i.src=r,i})).catch((function(e){return Dl(t),{complete:!1,width:0,height:0,src:e&&e.url||""}}))},Pl.ready=function(){var e=this;return new Promise((function(t){!function n(r){e.pending()?setTimeout((function(){n(!0)}),10):t(r)}(!1)}))},Rl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Nl(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Nl(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var Ll=function(){};function jl(e){this._context=e}jl.prototype={areaStart:Ll,areaEnd:Ll,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Nl(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Fl(e){this._context=e}Fl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Nl(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Bl(e,t){this._basis=new Rl(e),this._beta=t}Bl.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],o=t[0],a=e[n]-i,s=t[n]-o,l=-1;++l<=n;)r=l/n,this._basis.point(this._beta*e[l]+(1-this._beta)*(i+r*a),this._beta*t[l]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var zl=function e(t){function n(e){return 1===t?new Rl(e):new Bl(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function Hl(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Ul(e,t){this._context=e,this._k=(1-t)/6}Ul.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Hl(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Hl(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Vl=function e(t){function n(e){return new Ul(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Gl(e,t){this._context=e,this._k=(1-t)/6}Gl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Hl(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Wl=function e(t){function n(e){return new Gl(e,t)}return n.tension=function(t){return e(+t)},n}(0);function ql(e,t){this._context=e,this._k=(1-t)/6}ql.prototype={areaStart:Ll,areaEnd:Ll,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Hl(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Yl=function e(t){function n(e){return new ql(e,t)}return n.tension=function(t){return e(+t)},n}(0),Xl=Math.abs,$l=Math.atan2,Kl=Math.cos,Zl=Math.max,Ql=Math.min,Jl=Math.sin,eu=Math.sqrt,tu=Math.PI,nu=tu/2,ru=2*tu;function iu(e){return e>1?0:e<-1?tu:Math.acos(e)}function ou(e){return e>=1?nu:e<=-1?-nu:Math.asin(e)}function au(e,t,n){var r=e._x1,i=e._y1,o=e._x2,a=e._y2;if(e._l01_a>1e-12){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>1e-12){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*u+e._x1*e._l23_2a-t*e._l12_2a)/c,a=(a*u+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,o,a,e._x2,e._y2)}function su(e,t){this._context=e,this._alpha=t}su.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:au(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var lu=function e(t){function n(e){return t?new su(e,t):new Ul(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function uu(e,t){this._context=e,this._alpha=t}uu.prototype={areaStart:Ll,areaEnd:Ll,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:au(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var cu=function e(t){function n(e){return t?new uu(e,t):new ql(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function fu(e,t){this._context=e,this._alpha=t}fu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:au(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var du=function e(t){function n(e){return t?new fu(e,t):new Gl(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function hu(e){this._context=e}hu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var pu=function(e){return new hu(e)};function mu(e){this._context=e}mu.prototype={areaStart:Ll,areaEnd:Ll,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function vu(e){return e<0?-1:1}function gu(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(vu(o)+vu(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function yu(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function bu(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function _u(e){this._context=e}function xu(e){this._context=new wu(e)}function wu(e){this._context=e}function Eu(e){this._context=e}function Tu(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}_u.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:bu(this,this._t0,yu(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,bu(this,yu(this,n=gu(this,e,t)),n);break;default:bu(this,this._t0,n=gu(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(xu.prototype=Object.create(_u.prototype)).point=function(e,t){_u.prototype.point.call(this,t,e)},wu.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},Eu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=Tu(e),i=Tu(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Su(e,t){this._context=e,this._t=t}Su.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var ku={basis:{curve:function(e){return new Rl(e)}},"basis-closed":{curve:function(e){return new jl(e)}},"basis-open":{curve:function(e){return new Fl(e)}},bundle:{curve:zl,tension:"beta",value:.85},cardinal:{curve:Vl,tension:"tension",value:0},"cardinal-open":{curve:Wl,tension:"tension",value:0},"cardinal-closed":{curve:Yl,tension:"tension",value:0},"catmull-rom":{curve:lu,tension:"alpha",value:.5},"catmull-rom-closed":{curve:cu,tension:"alpha",value:.5},"catmull-rom-open":{curve:du,tension:"alpha",value:.5},linear:{curve:pu},"linear-closed":{curve:function(e){return new mu(e)}},monotone:{horizontal:function(e){return new xu(e)},vertical:function(e){return new _u(e)}},natural:{curve:function(e){return new Eu(e)}},step:{curve:function(e){return new Su(e,.5)}},"step-after":{curve:function(e){return new Su(e,1)}},"step-before":{curve:function(e){return new Su(e,0)}}};function Ou(e,t,n){var r=Object(ne.v)(ku,e)&&ku[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&null!=n&&(i=i[r.tension](n))),i}var Cu={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},Au=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\d)([-+])/g,/\s|,|###/],Mu=function(e){var t,n,r,i,o,a,s,l,u,c,f,d=[];for(l=0,c=(t=e.slice().replace(Au[0],"###$1").split(Au[1]).slice(1)).length;l<c;++l){for(r=(n=t[l]).slice(1).trim().replace(Au[2],"$1###$2").split(Au[3]),i=[a=n.charAt(0)],u=0,f=r.length;u<f;++u)(o=+r[u])===o&&i.push(o);if(s=Cu[a.toLowerCase()],i.length-1>s)for(u=1,f=i.length;u<f;u+=s)d.push([a].concat(i.slice(u,u+s)));else d.push(i)}return d},Pu=Math.PI/180,Iu=Math.PI/2,Du=2*Math.PI,Nu=Math.sqrt(3)/2,Ru={},Lu={},ju=[].join;function Fu(e){var t=ju.call(e);if(Lu[t])return Lu[t];var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=u*a,f=-l*s,d=l*a,h=u*s,p=Math.cos(i),m=Math.sin(i),v=Math.cos(o),g=Math.sin(o),y=.5*(o-i),b=Math.sin(.5*y),_=8/3*b*b/Math.sin(y),x=n+p-_*m,w=r+m+_*p,E=n+v,T=r+g,S=E+_*g,k=T-_*v;return Lu[t]=[c*x+f*w,d*x+h*w,c*S+f*k,d*S+h*k,c*E+f*T,d*E+h*T]}var Bu=["l",0,0,0,0,0,0,0];function zu(e,t,n){var r=Bu[0]=e[0];if("a"===r||"A"===r)Bu[1]=t*e[1],Bu[2]=n*e[2],Bu[3]=e[3],Bu[4]=e[4],Bu[5]=e[5],Bu[6]=t*e[6],Bu[7]=n*e[7];else if("h"===r||"H"===r)Bu[1]=t*e[1];else if("v"===r||"V"===r)Bu[1]=n*e[1];else for(var i=1,o=e.length;i<o;++i)Bu[i]=(i%2==1?t:n)*e[i];return Bu}var Hu=function(e,t,n,r,i,o){var a,s,l,u,c,f=null,d=0,h=0,p=0,m=0;null==n&&(n=0),null==r&&(r=0),null==i&&(i=1),null==o&&(o=i),e.beginPath&&e.beginPath();for(var v=0,g=t.length;v<g;++v){switch(a=t[v],1===i&&1===o||(a=zu(a,i,o)),a[0]){case"l":d+=a[1],h+=a[2],e.lineTo(d+n,h+r);break;case"L":d=a[1],h=a[2],e.lineTo(d+n,h+r);break;case"h":d+=a[1],e.lineTo(d+n,h+r);break;case"H":d=a[1],e.lineTo(d+n,h+r);break;case"v":h+=a[1],e.lineTo(d+n,h+r);break;case"V":h=a[1],e.lineTo(d+n,h+r);break;case"m":d+=a[1],h+=a[2],e.moveTo(d+n,h+r);break;case"M":d=a[1],h=a[2],e.moveTo(d+n,h+r);break;case"c":s=d+a[5],l=h+a[6],p=d+a[3],m=h+a[4],e.bezierCurveTo(d+a[1]+n,h+a[2]+r,p+n,m+r,s+n,l+r),d=s,h=l;break;case"C":d=a[5],h=a[6],p=a[3],m=a[4],e.bezierCurveTo(a[1]+n,a[2]+r,p+n,m+r,d+n,h+r);break;case"s":s=d+a[3],l=h+a[4],p=2*d-p,m=2*h-m,e.bezierCurveTo(p+n,m+r,d+a[1]+n,h+a[2]+r,s+n,l+r),p=d+a[1],m=h+a[2],d=s,h=l;break;case"S":s=a[3],l=a[4],p=2*d-p,m=2*h-m,e.bezierCurveTo(p+n,m+r,a[1]+n,a[2]+r,s+n,l+r),d=s,h=l,p=a[1],m=a[2];break;case"q":s=d+a[3],l=h+a[4],p=d+a[1],m=h+a[2],e.quadraticCurveTo(p+n,m+r,s+n,l+r),d=s,h=l;break;case"Q":s=a[3],l=a[4],e.quadraticCurveTo(a[1]+n,a[2]+r,s+n,l+r),d=s,h=l,p=a[1],m=a[2];break;case"t":s=d+a[1],l=h+a[2],null===f[0].match(/[QqTt]/)?(p=d,m=h):"t"===f[0]?(p=2*d-u,m=2*h-c):"q"===f[0]&&(p=2*d-p,m=2*h-m),u=p,c=m,e.quadraticCurveTo(p+n,m+r,s+n,l+r),h=l,p=(d=s)+a[1],m=h+a[2];break;case"T":s=a[1],l=a[2],p=2*d-p,m=2*h-m,e.quadraticCurveTo(p+n,m+r,s+n,l+r),d=s,h=l;break;case"a":Uu(e,d+n,h+r,[a[1],a[2],a[3],a[4],a[5],a[6]+d+n,a[7]+h+r]),d+=a[6],h+=a[7];break;case"A":Uu(e,d+n,h+r,[a[1],a[2],a[3],a[4],a[5],a[6]+n,a[7]+r]),d=a[6],h=a[7];break;case"z":case"Z":e.closePath()}f=a}};function Uu(e,t,n,r){for(var i=function(e,t,n,r,i,o,a,s,l){var u=ju.call(arguments);if(Ru[u])return Ru[u];var c=a*Pu,f=Math.sin(c),d=Math.cos(c),h=d*(s-e)*.5+f*(l-t)*.5,p=d*(l-t)*.5-f*(s-e)*.5,m=h*h/((n=Math.abs(n))*n)+p*p/((r=Math.abs(r))*r);m>1&&(n*=m=Math.sqrt(m),r*=m);var v=d/n,g=f/n,y=-f/r,b=d/r,_=v*s+g*l,x=y*s+b*l,w=v*e+g*t,E=y*e+b*t,T=(w-_)*(w-_)+(E-x)*(E-x),S=1/T-.25;S<0&&(S=0);var k=Math.sqrt(S);o==i&&(k=-k);var O=.5*(_+w)-k*(E-x),C=.5*(x+E)+k*(w-_),A=Math.atan2(x-C,_-O),M=Math.atan2(E-C,w-O),P=M-A;P<0&&1===o?P+=Du:P>0&&0===o&&(P-=Du);for(var I=Math.ceil(Math.abs(P/(Iu+.001))),D=[],N=0;N<I;++N){var R=A+N*P/I,L=A+(N+1)*P/I;D[N]=[O,C,R,L,n,r,f,d]}return Ru[u]=D}(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n),o=0;o<i.length;++o){var a=Fu(i[o]);e.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5])}}var Vu=.5773502691896257,Gu={circle:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,Du)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,o=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-o),e.lineTo(i,-o),e.lineTo(0,-n),e.lineTo(-i,-o),e.lineTo(-r,-o),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=Nu*n,i=r-n*Vu,o=n/4;e.moveTo(0,-r-i),e.lineTo(-o,r-i),e.lineTo(o,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=Nu*n,i=r-n*Vu;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Nu*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Nu*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Nu*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Nu*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function Wu(e){return Object(ne.v)(Gu,e)?Gu[e]:function(e){if(!Object(ne.v)(qu,e)){var t=Mu(e);qu[e]={draw:function(e,n){Hu(e,t,0,0,Math.sqrt(n)/2)}}}return qu[e]}(e)}var qu={};var Yu=Math.PI,Xu=2*Yu,$u=Xu-1e-6;function Ku(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Zu(){return new Ku}Ku.prototype=Zu.prototype={constructor:Ku,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,t,n,r,i){e=+e,t=+t,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-e,l=r-t,u=o-e,c=a-t,f=u*u+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>1e-6)if(Math.abs(c*s-l*u)>1e-6&&i){var d=n-o,h=r-a,p=s*s+l*l,m=d*d+h*h,v=Math.sqrt(p),g=Math.sqrt(f),y=i*Math.tan((Yu-Math.acos((p+f-m)/(2*v*g)))/2),b=y/g,_=y/v;Math.abs(b-1)>1e-6&&(this._+="L"+(e+b*u)+","+(t+b*c)),this._+="A"+i+","+i+",0,0,"+ +(c*d>u*h)+","+(this._x1=e+_*s)+","+(this._y1=t+_*l)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,r,i,o){e=+e,t=+t,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),l=e+a,u=t+s,c=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+u:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-u)>1e-6)&&(this._+="L"+l+","+u),n&&(f<0&&(f=f%Xu+Xu),f>$u?this._+="A"+n+","+n+",0,1,"+c+","+(e-a)+","+(t-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=l)+","+(this._y1=u):f>1e-6&&(this._+="A"+n+","+n+",0,"+ +(f>=Yu)+","+c+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var Qu=Zu,Ju=.448084975506;function ec(e){return e.x}function tc(e){return e.y}function nc(e){return e.width}function rc(e){return e.height}function ic(e){return"function"===typeof e?e:function(){return+e}}function oc(e,t,n){return Math.max(t,Math.min(e,n))}var ac=function(){var e=ec,t=tc,n=nc,r=rc,i=ic(0),o=i,a=i,s=i,l=null;function u(u,c,f){var d,h=null!=c?c:+e.call(this,u),p=null!=f?f:+t.call(this,u),m=+n.call(this,u),v=+r.call(this,u),g=Math.min(m,v)/2,y=oc(+i.call(this,u),0,g),b=oc(+o.call(this,u),0,g),_=oc(+a.call(this,u),0,g),x=oc(+s.call(this,u),0,g);if(l||(l=d=Qu()),y<=0&&b<=0&&_<=0&&x<=0)l.rect(h,p,m,v);else{var w=h+m,E=p+v;l.moveTo(h+y,p),l.lineTo(w-b,p),l.bezierCurveTo(w-Ju*b,p,w,p+Ju*b,w,p+b),l.lineTo(w,E-x),l.bezierCurveTo(w,E-Ju*x,w-Ju*x,E,w-x,E),l.lineTo(h+_,E),l.bezierCurveTo(h+Ju*_,E,h,E-Ju*_,h,E-_),l.lineTo(h,p+y),l.bezierCurveTo(h,p+Ju*y,h+Ju*y,p,h+y,p),l.closePath()}if(d)return l=null,d+""||null}return u.x=function(t){return arguments.length?(e=ic(t),u):e},u.y=function(e){return arguments.length?(t=ic(e),u):t},u.width=function(e){return arguments.length?(n=ic(e),u):n},u.height=function(e){return arguments.length?(r=ic(e),u):r},u.cornerRadius=function(e,t,n,r){return arguments.length?(i=ic(e),o=null!=t?ic(t):i,s=null!=n?ic(n):i,a=null!=r?ic(r):o,u):i},u.context=function(e){return arguments.length?(l=null==e?null:e,u):l},u},sc=function(){var e,t,n,r,i,o,a,s,l=null;function u(e,t,n){var r=n/2;if(i){var u=a-t,c=e-o;if(u||c){var f=Math.sqrt(u*u+c*c),d=(u/=f)*s,h=(c/=f)*s,p=Math.atan2(c,u);l.moveTo(o-d,a-h),l.lineTo(e-u*r,t-c*r),l.arc(e,t,r,p-Math.PI,p),l.lineTo(o+d,a+h),l.arc(o,a,s,p,p+Math.PI)}else l.arc(e,t,r,0,Du);l.closePath()}else i=1;o=e,a=t,s=r}function c(o){var a,s,c,f=o.length,d=!1;for(null==l&&(l=c=Qu()),a=0;a<=f;++a)!(a<f&&r(s=o[a],a,o))===d&&(d=!d)&&(i=0),d&&u(+e(s,a,o),+t(s,a,o),+n(s,a,o));if(c)return l=null,c+""||null}return c.x=function(t){return arguments.length?(e=t,c):e},c.y=function(e){return arguments.length?(t=e,c):t},c.size=function(e){return arguments.length?(n=e,c):n},c.defined=function(e){return arguments.length?(r=e,c):r},c.context=function(e){return arguments.length?(l=null==e?null:e,c):l},c},lc=function(e){return function(){return e}};function uc(e){return e.innerRadius}function cc(e){return e.outerRadius}function fc(e){return e.startAngle}function dc(e){return e.endAngle}function hc(e){return e&&e.padAngle}function pc(e,t,n,r,i,o,a,s){var l=n-e,u=r-t,c=a-i,f=s-o,d=f*l-c*u;if(!(d*d<1e-12))return[e+(d=(c*(t-o)-f*(e-i))/d)*l,t+d*u]}function mc(e,t,n,r,i,o,a){var s=e-n,l=t-r,u=(a?o:-o)/eu(s*s+l*l),c=u*l,f=-u*s,d=e+c,h=t+f,p=n+c,m=r+f,v=(d+p)/2,g=(h+m)/2,y=p-d,b=m-h,_=y*y+b*b,x=i-o,w=d*m-p*h,E=(b<0?-1:1)*eu(Zl(0,x*x*_-w*w)),T=(w*b-y*E)/_,S=(-w*y-b*E)/_,k=(w*b+y*E)/_,O=(-w*y+b*E)/_,C=T-v,A=S-g,M=k-v,P=O-g;return C*C+A*A>M*M+P*P&&(T=k,S=O),{cx:T,cy:S,x01:-c,y01:-f,x11:T*(i/x-1),y11:S*(i/x-1)}}function vc(e){return e[0]}function gc(e){return e[1]}var yc=function(){var e=vc,t=gc,n=lc(!0),r=null,i=pu,o=null;function a(a){var s,l,u,c=a.length,f=!1;for(null==r&&(o=i(u=Qu())),s=0;s<=c;++s)!(s<c&&n(l=a[s],s,a))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+e(l,s,a),+t(l,s,a));if(u)return o=null,u+""||null}return a.x=function(t){return arguments.length?(e="function"===typeof t?t:lc(+t),a):e},a.y=function(e){return arguments.length?(t="function"===typeof e?e:lc(+e),a):t},a.defined=function(e){return arguments.length?(n="function"===typeof e?e:lc(!!e),a):n},a.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),a):i},a.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),a):r},a},bc=function(){var e=vc,t=null,n=lc(0),r=gc,i=lc(!0),o=null,a=pu,s=null;function l(l){var u,c,f,d,h,p=l.length,m=!1,v=new Array(p),g=new Array(p);for(null==o&&(s=a(h=Qu())),u=0;u<=p;++u){if(!(u<p&&i(d=l[u],u,l))===m)if(m=!m)c=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),f=u-1;f>=c;--f)s.point(v[f],g[f]);s.lineEnd(),s.areaEnd()}m&&(v[u]=+e(d,u,l),g[u]=+n(d,u,l),s.point(t?+t(d,u,l):v[u],r?+r(d,u,l):g[u]))}if(h)return s=null,h+""||null}function u(){return yc().defined(i).curve(a).context(o)}return l.x=function(n){return arguments.length?(e="function"===typeof n?n:lc(+n),t=null,l):e},l.x0=function(t){return arguments.length?(e="function"===typeof t?t:lc(+t),l):e},l.x1=function(e){return arguments.length?(t=null==e?null:"function"===typeof e?e:lc(+e),l):t},l.y=function(e){return arguments.length?(n="function"===typeof e?e:lc(+e),r=null,l):n},l.y0=function(e){return arguments.length?(n="function"===typeof e?e:lc(+e),l):n},l.y1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:lc(+e),l):r},l.lineX0=l.lineY0=function(){return u().x(e).y(n)},l.lineY1=function(){return u().x(e).y(r)},l.lineX1=function(){return u().x(t).y(n)},l.defined=function(e){return arguments.length?(i="function"===typeof e?e:lc(!!e),l):i},l.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),l):a},l.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),l):o},l},_c={draw:function(e,t){var n=Math.sqrt(t/tu);e.moveTo(n,0),e.arc(0,0,n,0,ru)}},xc=(Math.sqrt(1/3),Math.sin(tu/10)/Math.sin(7*tu/10));Math.sin(ru/10),Math.cos(ru/10),Math.sqrt(3),Math.sqrt(3),Math.sqrt(12);function wc(e,t){return null!=e?e:t}var Ec=function(e){return e.x||0},Tc=function(e){return e.y||0},Sc=function(e){return!(!1===e.defined)},kc=function(){var e=uc,t=cc,n=lc(0),r=null,i=fc,o=dc,a=hc,s=null;function l(){var l,u,c=+e.apply(this,arguments),f=+t.apply(this,arguments),d=i.apply(this,arguments)-nu,h=o.apply(this,arguments)-nu,p=Xl(h-d),m=h>d;if(s||(s=l=Qu()),f<c&&(u=f,f=c,c=u),f>1e-12)if(p>ru-1e-12)s.moveTo(f*Kl(d),f*Jl(d)),s.arc(0,0,f,d,h,!m),c>1e-12&&(s.moveTo(c*Kl(h),c*Jl(h)),s.arc(0,0,c,h,d,m));else{var v,g,y=d,b=h,_=d,x=h,w=p,E=p,T=a.apply(this,arguments)/2,S=T>1e-12&&(r?+r.apply(this,arguments):eu(c*c+f*f)),k=Ql(Xl(f-c)/2,+n.apply(this,arguments)),O=k,C=k;if(S>1e-12){var A=ou(S/c*Jl(T)),M=ou(S/f*Jl(T));(w-=2*A)>1e-12?(_+=A*=m?1:-1,x-=A):(w=0,_=x=(d+h)/2),(E-=2*M)>1e-12?(y+=M*=m?1:-1,b-=M):(E=0,y=b=(d+h)/2)}var P=f*Kl(y),I=f*Jl(y),D=c*Kl(x),N=c*Jl(x);if(k>1e-12){var R,L=f*Kl(b),j=f*Jl(b),F=c*Kl(_),B=c*Jl(_);if(p<tu&&(R=pc(P,I,F,B,L,j,D,N))){var z=P-R[0],H=I-R[1],U=L-R[0],V=j-R[1],G=1/Jl(iu((z*U+H*V)/(eu(z*z+H*H)*eu(U*U+V*V)))/2),W=eu(R[0]*R[0]+R[1]*R[1]);O=Ql(k,(c-W)/(G-1)),C=Ql(k,(f-W)/(G+1))}}E>1e-12?C>1e-12?(v=mc(F,B,P,I,f,C,m),g=mc(L,j,D,N,f,C,m),s.moveTo(v.cx+v.x01,v.cy+v.y01),C<k?s.arc(v.cx,v.cy,C,$l(v.y01,v.x01),$l(g.y01,g.x01),!m):(s.arc(v.cx,v.cy,C,$l(v.y01,v.x01),$l(v.y11,v.x11),!m),s.arc(0,0,f,$l(v.cy+v.y11,v.cx+v.x11),$l(g.cy+g.y11,g.cx+g.x11),!m),s.arc(g.cx,g.cy,C,$l(g.y11,g.x11),$l(g.y01,g.x01),!m))):(s.moveTo(P,I),s.arc(0,0,f,y,b,!m)):s.moveTo(P,I),c>1e-12&&w>1e-12?O>1e-12?(v=mc(D,N,L,j,c,-O,m),g=mc(P,I,F,B,c,-O,m),s.lineTo(v.cx+v.x01,v.cy+v.y01),O<k?s.arc(v.cx,v.cy,O,$l(v.y01,v.x01),$l(g.y01,g.x01),!m):(s.arc(v.cx,v.cy,O,$l(v.y01,v.x01),$l(v.y11,v.x11),!m),s.arc(0,0,c,$l(v.cy+v.y11,v.cx+v.x11),$l(g.cy+g.y11,g.cx+g.x11),m),s.arc(g.cx,g.cy,O,$l(g.y11,g.x11),$l(g.y01,g.x01),!m))):s.arc(0,0,c,x,_,m):s.lineTo(D,N)}else s.moveTo(0,0);if(s.closePath(),l)return s=null,l+""||null}return l.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-tu/2;return[Kl(r)*n,Jl(r)*n]},l.innerRadius=function(t){return arguments.length?(e="function"===typeof t?t:lc(+t),l):e},l.outerRadius=function(e){return arguments.length?(t="function"===typeof e?e:lc(+e),l):t},l.cornerRadius=function(e){return arguments.length?(n="function"===typeof e?e:lc(+e),l):n},l.padRadius=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:lc(+e),l):r},l.startAngle=function(e){return arguments.length?(i="function"===typeof e?e:lc(+e),l):i},l.endAngle=function(e){return arguments.length?(o="function"===typeof e?e:lc(+e),l):o},l.padAngle=function(e){return arguments.length?(a="function"===typeof e?e:lc(+e),l):a},l.context=function(e){return arguments.length?(s=null==e?null:e,l):s},l}().startAngle((function(e){return e.startAngle||0})).endAngle((function(e){return e.endAngle||0})).padAngle((function(e){return e.padAngle||0})).innerRadius((function(e){return e.innerRadius||0})).outerRadius((function(e){return e.outerRadius||0})).cornerRadius((function(e){return e.cornerRadius||0})),Oc=bc().x(Ec).y1(Tc).y0((function(e){return(e.y||0)+(e.height||0)})).defined(Sc),Cc=bc().y(Tc).x1(Ec).x0((function(e){return(e.x||0)+(e.width||0)})).defined(Sc),Ac=yc().x(Ec).y(Tc).defined(Sc),Mc=ac().x(Ec).y(Tc).width((function(e){return e.width||0})).height((function(e){return e.height||0})).cornerRadius((function(e){return wc(e.cornerRadiusTopLeft,e.cornerRadius)||0}),(function(e){return wc(e.cornerRadiusTopRight,e.cornerRadius)||0}),(function(e){return wc(e.cornerRadiusBottomRight,e.cornerRadius)||0}),(function(e){return wc(e.cornerRadiusBottomLeft,e.cornerRadius)||0})),Pc=function(){var e=lc(_c),t=lc(64),n=null;function r(){var r;if(n||(n=r=Qu()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),r)return n=null,r+""||null}return r.type=function(t){return arguments.length?(e="function"===typeof t?t:lc(t),r):e},r.size=function(e){return arguments.length?(t="function"===typeof e?e:lc(+e),r):t},r.context=function(e){return arguments.length?(n=null==e?null:e,r):n},r}().type((function(e){return Wu(e.shape||"circle")})).size((function(e){return wc(e.size,64)})),Ic=sc().x(Ec).y(Tc).defined(Sc).size((function(e){return e.size||1}));function Dc(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function Nc(e,t,n,r){return Mc.context(e)(t,n,r)}var Rc=function(e,t,n){if(t.stroke&&0!==t.opacity&&0!==t.strokeOpacity){var r=null!=t.strokeWidth?+t.strokeWidth:1;e.expand(r+(n?function(e,t){return e.strokeJoin&&"miter"!==e.strokeJoin?0:t}(t,r):0))}return e};var Lc,jc,Fc,Bc=Du-1e-8;function zc(e){return Lc=e,zc}function Hc(){}function Uc(e,t){Lc.add(e,t)}function Vc(e,t){Uc(jc=e,Fc=t)}function Gc(e){Uc(e,Lc.y1)}function Wc(e){Uc(Lc.x1,e)}function qc(e,t,n,r){var i=(e-t)/(e+n-2*t);0<i&&i<1&&r(e+(t-e)*i)}function Yc(e,t,n,r,i){var o,a=r-e+3*t-3*n,s=e+n-2*t,l=e-t,u=0,c=0;Math.abs(a)>1e-14?(o=s*s+l*a)>=0&&(u=(-s+(o=Math.sqrt(o)))/a,c=(-s-o)/a):u=.5*l/s,0<u&&u<1&&i(Xc(u,e,t,n,r)),0<c&&c<1&&i(Xc(c,e,t,n,r))}function Xc(e,t,n,r,i){var o=1-e,a=o*o,s=e*e;return a*o*t+3*a*e*n+3*o*s*r+s*e*i}zc.beginPath=Hc,zc.closePath=Hc,zc.moveTo=Vc,zc.lineTo=Vc,zc.rect=function(e,t,n,r){Uc(e+n,t+r),Vc(e,t)},zc.quadraticCurveTo=function(e,t,n,r){qc(jc,e,n,Gc),qc(Fc,t,r,Wc),Vc(n,r)},zc.bezierCurveTo=function(e,t,n,r,i,o){Yc(jc,e,n,i,Gc),Yc(Fc,t,r,o,Wc),Vc(i,o)},zc.arc=function(e,t,n,r,i,o){if(jc=n*Math.cos(i)+e,Fc=n*Math.sin(i)+t,Math.abs(i-r)>Bc)Uc(e-n,t-n),Uc(e+n,t+n);else{var a,s,l=function(r){return Uc(n*Math.cos(r)+e,n*Math.sin(r)+t)};if(l(r),l(i),i!==r)if((r%=Du)<0&&(r+=Du),(i%=Du)<0&&(i+=Du),i<r&&(o=!o,a=r,r=i,i=a),o)for(i-=Du,a=r-r%Iu,s=0;s<4&&a>i;++s,a-=Iu)l(a);else for(a=r-r%Iu+Iu,s=0;s<4&&a<i;++s,a+=Iu)l(a)}};var $c=($c=Cl(1,1))?$c.getContext("2d"):null,Kc=new bl;function Zc(e){return function(t,n){if(!$c)return!0;e($c,t),Kc.clear().union(t.bounds).intersect(n).round();for(var r=Kc.x1,i=Kc.y1,o=Kc.x2,a=Kc.y2,s=i;s<=a;++s)for(var l=r;l<=o;++l)if($c.isPointInPath(l,s))return!0;return!1}}function Qc(e,t){return t.contains(e.x||0,e.y||0)}function Jc(e,t){var n=e.x||0,r=e.y||0,i=e.width||0,o=e.height||0;return t.intersects(Kc.set(n,r,n+i,r+o))}function ef(e,t){var n=e.x||0,r=e.y||0;return tf(t,n,r,null!=e.x2?e.x2:n,null!=e.y2?e.y2:r)}function tf(e,t,n,r,i){var o,a,s,l,u=e.x1,c=e.y1,f=e.x2,d=e.y2,h=r-t,p=i-n,m=0,v=1;for(l=0;l<4;++l){if(0===l&&(o=-h,a=-(u-t)),1===l&&(o=h,a=f-t),2===l&&(o=-p,a=-(c-n)),3===l&&(o=p,a=d-n),Math.abs(o)<1e-10&&a<0)return!1;if(s=a/o,o<0){if(s>v)return!1;s>m&&(m=s)}else if(o>0){if(s<m)return!1;s<v&&(v=s)}}return!0}var nf=function(e,t){e.globalCompositeOperation=t.blend||"source-over"};function rf(e,t){return null==e?t:e}function of(e,t){for(var n=t.length,r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}var af=function(e,t,n){return wl(n)?function(e,t,n){var r,i=n.width(),o=n.height();if("radial"===t.gradient)r=e.createRadialGradient(n.x1+rf(t.x1,.5)*i,n.y1+rf(t.y1,.5)*o,Math.max(i,o)*rf(t.r1,0),n.x1+rf(t.x2,.5)*i,n.y1+rf(t.y2,.5)*o,Math.max(i,o)*rf(t.r2,.5));else{var a=rf(t.x1,0),s=rf(t.y1,0),l=rf(t.x2,1),u=rf(t.y2,0);if(a!==l&&s!==u&&i!==o){var c=Cl(Math.ceil(i),Math.ceil(o)),f=c.getContext("2d");return f.scale(i,o),f.fillStyle=of(f.createLinearGradient(a,s,l,u),t.stops),f.fillRect(0,0,i,o),e.createPattern(c,"no-repeat")}r=e.createLinearGradient(n.x1+a*i,n.y1+s*o,n.x1+l*i,n.y1+u*o)}return of(r,t.stops)}(e,n,t.bounds):n},sf=function(e,t,n){return(n*=null==t.fillOpacity?1:t.fillOpacity)>0&&(e.globalAlpha=n,e.fillStyle=af(e,t,t.fill),!0)},lf=[],uf=function(e,t,n){var r=null!=(r=t.strokeWidth)?r:1;return!(r<=0)&&((n*=null==t.strokeOpacity?1:t.strokeOpacity)>0&&(e.globalAlpha=n,e.strokeStyle=af(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||lf),e.lineDashOffset=t.strokeDashOffset||0),!0))};function cf(e,t){return e.zindex-t.zindex||e.index-t.index}function ff(e){if(!e.zdirty)return e.zitems;var t,n,r,i=e.items,o=[];for(n=0,r=i.length;n<r;++n)(t=i[n]).index=n,t.zindex&&o.push(t);return e.zdirty=!1,e.zitems=o.sort(cf)}function df(e,t){var n,r,i=e.items;if(i&&i.length){var o=ff(e);if(o&&o.length){for(n=0,r=i.length;n<r;++n)i[n].zindex||t(i[n]);i=o}for(n=0,r=i.length;n<r;++n)t(i[n])}}function hf(e,t){var n,r,i=e.items;if(!i||!i.length)return null;var o=ff(e);for(o&&o.length&&(i=o),r=i.length;--r>=0;)if(n=t(i[r]))return n;if(i===o)for(r=(i=e.items).length;--r>=0;)if(!i[r].zindex&&(n=t(i[r])))return n;return null}function pf(e){return function(t,n,r){df(n,(function(n){r&&!r.intersects(n.bounds)||mf(e,t,n,n)}))}}function mf(e,t,n,r){var i=null==n.opacity?1:n.opacity;0!==i&&(e(t,r)||(nf(t,n),n.fill&&sf(t,n,i)&&t.fill(),n.stroke&&uf(t,n,i)&&t.stroke()))}function vf(e){return e=e||ne.gb,function(t,n,r,i,o,a){return r*=t.pixelRatio,i*=t.pixelRatio,hf(n,(function(n){var s=n.bounds;if((!s||s.contains(o,a))&&s)return e(t,n,r,i,o,a)?n:void 0}))}}function gf(e,t){return function(n,r,i,o){var a,s,l=Array.isArray(r)?r[0]:r,u=null==t?l.fill:t,c=l.stroke&&n.isPointInStroke;return c&&(a=l.strokeWidth,s=l.strokeCap,n.lineWidth=null!=a?a:1,n.lineCap=null!=s?s:"butt"),!e(n,r)&&(u&&n.isPointInPath(i,o)||c&&n.isPointInStroke(i,o))}}function yf(e){return vf(gf(e))}function bf(e,t){return"translate("+e+","+t+")"}function _f(e){return"rotate("+e+")"}function xf(e){return bf(e.x||0,e.y||0)}function wf(e){return bf(e.x||0,e.y||0)+(e.angle?" "+_f(e.angle):"")+(e.scaleX||e.scaleY?" "+(t=e.scaleX||1,n=e.scaleY||1,"scale("+t+","+n+")"):"");var t,n}var Ef=function(e,t,n){function r(e,n){var r=n.x||0,i=n.y||0,o=n.angle||0;e.translate(r,i),o&&e.rotate(o*=Pu),e.beginPath(),t(e,n),o&&e.rotate(-o),e.translate(-r,-i)}return{type:e,tag:"path",nested:!1,attr:function(e,n){e("transform",wf(n)),e("d",t(null,n))},bound:function(e,n){var r=n.x||0,i=n.y||0;return t(zc(e),n),Rc(e,n).translate(r,i),n.angle&&e.rotate(n.angle*Pu,r,i),e},draw:pf(r),pick:yf(r),isect:n||Zc(r)}},Tf=Ef("arc",(function(e,t){return kc.context(e)(t)}));var Sf=function(e,t,n){function r(e,n){e.beginPath(),t(e,n)}var i,o=gf(r);return{type:e,tag:"path",nested:!0,attr:function(e,n){var r=n.mark.items;r.length&&e("d",t(null,r))},bound:function(e,n){var r=n.items;return 0===r.length?e:(t(zc(e),r),Rc(e,r[0]))},draw:(i=r,function(e,t,n){!t.items.length||n&&!n.intersects(t.bounds)||mf(i,e,t.items[0],t.items)}),pick:function(e,t,n,r,i,a){var s=t.items,l=t.bounds;return!s||!s.length||l&&!l.contains(i,a)?null:(n*=e.pixelRatio,r*=e.pixelRatio,o(e,s,n,r)?s[0]:null)},isect:Qc,tip:n}},kf=Sf("area",(function(e,t){var n=t[0],r=n.interpolate||"linear";return("horizontal"===n.orient?Cc:Oc).curve(Ou(r,n.orient,n.tension)).context(e)(t)}),(function(e,t){for(var n,r,i="horizontal"===e[0].orient?t[1]:t[0],o="horizontal"===e[0].orient?"y":"x",a=e.length,s=1/0;--a>=0;)!1!==e[a].defined&&(r=Math.abs(e[a][o]-i))<s&&(s=r,n=e[a]);return n}));function Of(e,t){e.beginPath(),Dc(t)?Nc(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}var Cf=1;function Af(){Cf=1}var Mf=function(e,t,n){var r=t.clip,i=e._defs,o=t.clip_id||(t.clip_id="clip"+Cf++),a=i.clipping[o]||(i.clipping[o]={id:o});return Object(ne.D)(r)?a.path=r(null):Dc(n)?a.path=Nc(null,n,0,0):(a.width=n.width||0,a.height=n.height||0),"url(#"+o+")"};function Pf(e){var t=null!=(t=e.strokeWidth)?t:1;return null!=e.strokeOffset?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function If(e,t){var n=Pf(t);e("d",Nc(null,t,n,n))}function Df(e,t,n,r){var i=Pf(t);e.beginPath(),Nc(e,t,(n||0)+i,(r||0)+i)}var Nf=gf(Df),Rf=gf(Df,!1);var Lf={type:"group",tag:"g",nested:!1,attr:function(e,t){e("transform",xf(t))},bound:function(e,t){if(!t.clip&&t.items)for(var n=t.items,r=0,i=n.length;r<i;++r)e.union(n[r].bounds);return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),Rc(e,t),e.translate(t.x||0,t.y||0)},draw:function(e,t,n){var r=this;df(t,(function(t){var i=t.x||0,o=t.y||0,a=t.strokeForeground,s=null==t.opacity?1:t.opacity;(t.stroke||t.fill)&&s&&(Df(e,t,i,o),nf(e,t),t.fill&&sf(e,t,s)&&e.fill(),t.stroke&&!a&&uf(e,t,s)&&e.stroke()),e.save(),e.translate(i,o),t.clip&&Of(e,t),n&&n.translate(-i,-o),df(t,(function(t){r.draw(e,t,n)})),n&&n.translate(i,o),e.restore(),a&&t.stroke&&s&&(Df(e,t,i,o),nf(e,t),uf(e,t,s)&&e.stroke())}))},pick:function(e,t,n,r,i,o){if(t.bounds&&!t.bounds.contains(i,o)||!t.items)return null;var a=this,s=n*e.pixelRatio,l=r*e.pixelRatio;return hf(t,(function(u){var c,f,d,h,p,m,v,g,y;if((!(g=u.bounds)||g.contains(i,o))&&(h=u.x||0,p=u.y||0,m=h+(u.width||0),v=p+(u.height||0),!(y=u.clip)||!(i<h||i>m||o<h||o>v)))return e.save(),e.translate(h,p),h=i-h,p=o-p,y&&Dc(u)&&!Nf(e,u,s,l)?(e.restore(),null):(f=u.strokeForeground,(d=!1!==t.interactive)&&f&&u.stroke&&Rf(e,u,s,l)?(e.restore(),u):(!(c=hf(u,(function(e){return function(e,t,n){return(!1!==e.interactive||"group"===e.marktype)&&e.bounds&&e.bounds.contains(t,n)}(e,h,p)?a.pick(e,n,r,h,p):null})))&&d&&(u.fill||!f&&u.stroke)&&Nf(e,u,s,l)&&(c=u),e.restore(),c||null))}))},isect:Jc,content:function(e,t,n){e("clip-path",t.clip?Mf(n,t,t):null)},background:function(e,t){e("class","background"),e("aria-hidden",!0),If(e,t)},foreground:function(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?If(e,t):e("d","")}};function jf(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then((function(t){e.image=t,e.image.url=e.url}))),n}function Ff(e,t){return null!=e.width?e.width:t&&t.width?!1!==e.aspect&&e.height?e.height*t.width/t.height:t.width:0}function Bf(e,t){return null!=e.height?e.height:t&&t.height?!1!==e.aspect&&e.width?e.width*t.height/t.width:t.height:0}function zf(e,t){return"center"===e?t/2:"right"===e?t:0}function Hf(e,t){return"middle"===e?t/2:"bottom"===e?t:0}var Uf={type:"image",tag:"image",nested:!1,attr:function(e,t,n){var r=jf(t,n),i=t.x||0,o=t.y||0,a=Ff(t,r),s=Bf(t,r),l=!1===t.aspect?"none":"xMidYMid";i-=zf(t.align,a),o-=Hf(t.baseline,s),!r.src&&r.toDataURL?e("href",r.toDataURL(),"http://www.w3.org/1999/xlink","xlink:href"):e("href",r.src||"","http://www.w3.org/1999/xlink","xlink:href"),e("transform",bf(i,o)),e("width",a),e("height",s),e("preserveAspectRatio",l)},bound:function(e,t){var n=t.image,r=t.x||0,i=t.y||0,o=Ff(t,n),a=Bf(t,n);return r-=zf(t.align,o),i-=Hf(t.baseline,a),e.set(r,i,r+o,i+a)},draw:function(e,t,n){var r=this;df(t,(function(t){if(!n||n.intersects(t.bounds)){var i,o,a,s,l=jf(t,r),u=t.x||0,c=t.y||0,f=Ff(t,l),d=Bf(t,l);u-=zf(t.align,f),c-=Hf(t.baseline,d),!1!==t.aspect&&(o=l.width/l.height,a=t.width/t.height,o===o&&a===a&&o!==a&&(a<o?(c+=(d-(s=f/o))/2,d=s):(u+=(f-(s=d*o))/2,f=s))),(l.complete||l.toDataURL)&&(nf(e,t),e.globalAlpha=null!=(i=t.opacity)?i:1,e.imageSmoothingEnabled=!1!==t.smooth,e.drawImage(l,u,c,f,d))}}))},pick:vf(),isect:ne.gb,get:jf,xOffset:zf,yOffset:Hf},Vf=Sf("line",(function(e,t){var n=t[0],r=n.interpolate||"linear";return Ac.curve(Ou(r,n.orient,n.tension)).context(e)(t)}),(function(e,t){for(var n,r,i=Math.pow(e[0].strokeWidth||1,2),o=e.length;--o>=0;)if(!1!==e[o].defined&&(n=e[o].x-t[0])*n+(r=e[o].y-t[1])*r<i)return e[o];return null}));function Gf(e,t){var n=t.path;if(null==n)return!0;var r=t.x||0,i=t.y||0,o=t.scaleX||1,a=t.scaleY||1,s=(t.angle||0)*Pu,l=t.pathCache;l&&l.path===n||((t.pathCache=l=Mu(n)).path=n),s&&e.rotate&&e.translate?(e.translate(r,i),e.rotate(s),Hu(e,l,0,0,o,a),e.rotate(-s),e.translate(-r,-i)):Hu(e,l,r,i,o,a)}var Wf={type:"path",tag:"path",nested:!1,attr:function(e,t){var n=t.scaleX||1,r=t.scaleY||1;1===n&&1===r||e("vector-effect","non-scaling-stroke"),e("transform",wf(t)),e("d",t.path)},bound:function(e,t){return Gf(zc(e),t)?e.set(0,0,0,0):Rc(e,t,!0),t.angle&&e.rotate(t.angle*Pu,t.x||0,t.y||0),e},draw:pf(Gf),pick:yf(Gf),isect:Zc(Gf)};function qf(e,t){e.beginPath(),Nc(e,t)}var Yf={type:"rect",tag:"path",nested:!1,attr:function(e,t){e("d",Nc(null,t))},bound:function(e,t){var n,r;return Rc(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)},draw:pf(qf),pick:yf(qf),isect:Jc};function Xf(e,t,n){var r,i,o,a;return!(!t.stroke||!uf(e,t,n))&&(r=t.x||0,i=t.y||0,o=null!=t.x2?t.x2:r,a=null!=t.y2?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(o,a),!0)}var $f={type:"rule",tag:"line",nested:!1,attr:function(e,t){e("transform",xf(t)),e("x2",null!=t.x2?t.x2-(t.x||0):0),e("y2",null!=t.y2?t.y2-(t.y||0):0)},bound:function(e,t){var n,r;return Rc(e.set(n=t.x||0,r=t.y||0,null!=t.x2?t.x2:n,null!=t.y2?t.y2:r),t)},draw:function(e,t,n){df(t,(function(t){if(!n||n.intersects(t.bounds)){var r=null==t.opacity?1:t.opacity;r&&Xf(e,t,r)&&(nf(e,t),e.stroke())}}))},pick:vf((function(e,t,n,r){return!!e.isPointInStroke&&(Xf(e,t,1)&&e.isPointInStroke(n,r))})),isect:ef},Kf=Ef("shape",(function(e,t){return(t.mark.shape||t.shape).context(e)(t)})),Zf=Ef("symbol",(function(e,t){return Pc.context(e)(t)}),Qc),Qf=Object(ne.L)(),Jf={height:od,measureWidth:rd,estimateWidth:td,width:td,canvas:ed};function ed(e){Jf.width=e&&$c?rd:td}function td(e,t){return nd(ud(e,t),od(e))}function nd(e,t){return~~(.8*e.length*t)}function rd(e,t){return od(e)<=0||!(t=ud(e,t))?0:id(t,fd(e))}function id(e,t){var n="(".concat(t,") ").concat(e),r=Qf.get(n);return void 0===r&&($c.font=t,r=$c.measureText(e).width,Qf.set(n,r)),r}function od(e){return null!=e.fontSize?+e.fontSize||0:11}function ad(e){return null!=e.lineHeight?e.lineHeight:od(e)+2}function sd(e){return t=e.lineBreak&&e.text&&!Object(ne.A)(e.text)?e.text.split(e.lineBreak):e.text,Object(ne.A)(t)?t.length>1?t:t[0]:t;var t}function ld(e){var t=sd(e);return(Object(ne.A)(t)?t.length-1:0)*ad(e)}function ud(e,t){var n=null==t?"":(t+"").trim();return e.limit>0&&n.length?function(e,t){var n=+e.limit,r=function(e){if(Jf.width===rd){var t=fd(e);return function(e){return id(e,t)}}var n=od(e);return function(e){return nd(e,n)}}(e);if(r(t)<n)return t;var i,o=e.ellipsis||"\u2026",a="rtl"===e.dir,s=0,l=t.length;if(n-=r(o),a){for(;s<l;)i=s+l>>>1,r(t.slice(i))>n?s=i+1:l=i;return o+t.slice(s)}for(;s<l;)i=1+(s+l>>>1),r(t.slice(0,i))<n?s=i:l=i-1;return t.slice(0,s)+o}(e,n):n}function cd(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function fd(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+od(e)+"px "+cd(e,t)}function dd(e){var t=e.baseline,n=od(e);return Math.round("top"===t?.79*n:"middle"===t?.3*n:"bottom"===t?-.21*n:"line-top"===t?.29*n+.5*ad(e):"line-bottom"===t?.29*n-.5*ad(e):0)}ed(!0);var hd={left:"start",center:"middle",right:"end"},pd=new bl;function md(e){var t,n=e.x||0,r=e.y||0,i=e.radius||0;return i&&(t=(e.theta||0)-Iu,n+=i*Math.cos(t),r+=i*Math.sin(t)),pd.x1=n,pd.y1=r,pd}function vd(e,t,n){var r,i=Jf.height(t),o=t.align,a=md(t),s=a.x1,l=a.y1,u=t.dx||0,c=(t.dy||0)+dd(t)-Math.round(.8*i),f=sd(t);if(Object(ne.A)(f)?(i+=ad(t)*(f.length-1),r=f.reduce((function(e,n){return Math.max(e,Jf.width(t,n))}),0)):r=Jf.width(t,f),"center"===o?u-=r/2:"right"===o&&(u-=r),e.set(u+=s,c+=l,u+r,c+i),t.angle&&!n)e.rotate(t.angle*Pu,s,l);else if(2===n)return e.rotatedPoints(t.angle*Pu,s,l);return e}var gd={arc:Tf,area:kf,group:Lf,image:Uf,line:Vf,path:Wf,rect:Yf,rule:$f,shape:Kf,symbol:Zf,text:{type:"text",tag:"text",nested:!1,attr:function(e,t){var n,r=t.dx||0,i=(t.dy||0)+dd(t),o=md(t),a=o.x1,s=o.y1,l=t.angle||0;e("text-anchor",hd[t.align]||"start"),l?(n=bf(a,s)+" "+_f(l),(r||i)&&(n+=" "+bf(r,i))):n=bf(a+r,s+i),e("transform",n)},bound:vd,draw:function(e,t,n){df(t,(function(t){var r,i,o,a,s,l,u,c=null==t.opacity?1:t.opacity;if(!(n&&!n.intersects(t.bounds)||0===c||t.fontSize<=0||null==t.text||0===t.text.length)){if(e.font=fd(t),e.textAlign=t.align||"left",i=(r=md(t)).x1,o=r.y1,t.angle&&(e.save(),e.translate(i,o),e.rotate(t.angle*Pu),i=o=0),i+=t.dx||0,o+=(t.dy||0)+dd(t),l=sd(t),nf(e,t),Object(ne.A)(l))for(s=ad(t),a=0;a<l.length;++a)u=ud(t,l[a]),t.fill&&sf(e,t,c)&&e.fillText(u,i,o),t.stroke&&uf(e,t,c)&&e.strokeText(u,i,o),o+=s;else u=ud(t,l),t.fill&&sf(e,t,c)&&e.fillText(u,i,o),t.stroke&&uf(e,t,c)&&e.strokeText(u,i,o);t.angle&&e.restore()}}))},pick:vf((function(e,t,n,r,i,o){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var a=md(t),s=a.x1,l=a.y1,u=vd(pd,t,1),c=-t.angle*Pu,f=Math.cos(c),d=Math.sin(c),h=f*i-d*o+(s-f*s+d*l),p=d*i+f*o+(l-d*s-f*l);return u.contains(h,p)})),isect:function(e,t){var n=vd(pd,e,2);return tf(t,n[0],n[1],n[2],n[3])||tf(t,n[0],n[1],n[4],n[5])||tf(t,n[4],n[5],n[6],n[7])||tf(t,n[2],n[3],n[6],n[7])}},trail:Sf("trail",(function(e,t){return Ic.context(e)(t)}),(function(e,t){for(var n,r,i=e.length;--i>=0;)if(!1!==e[i].defined&&(n=e[i].x-t[0])*n+(r=e[i].y-t[1])*r<(n=e[i].size||1)*n)return e[i];return null}))},yd=function(e,t,n){var r=gd[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new bl),e,n)},bd={mark:null},_d=function(e,t,n){var r,i,o,a,s=gd[e.marktype],l=s.bound,u=e.items,c=u&&u.length;if(s.nested)return c?o=u[0]:(bd.mark=e,o=bd),a=yd(o,l,n),t=t&&t.union(a)||a;if(t=t||e.bounds&&e.bounds.clear()||new bl,c)for(r=0,i=u.length;r<i;++r)t.union(yd(u[r],l,n));return e.bounds=t},xd=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function wd(e,t){return JSON.stringify(e,xd,t)}function Ed(e){return function e(t){var n,r,i,o=t.marktype,a=t.items;if(a)for(r=0,i=a.length;r<i;++r)n=o?"mark":"group",a[r][n]=t,a[r].zindex&&(a[r][n].zdirty=!0),"group"===(o||n)&&e(a[r]);o&&_d(t);return t}("string"===typeof e?JSON.parse(e):e)}function Td(e){arguments.length?this.root=Ed(e):(this.root=kd({marktype:"group",name:"root",role:"frame"}),this.root.items=[new Ol(this.root)])}var Sd=Td.prototype;function kd(e,t){var n={bounds:new bl,clip:!!e.clip,group:t,interactive:!1!==e.interactive,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return null!=e.aria&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function Od(e,t,n){return!e&&"undefined"!==typeof document&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function Cd(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function Ad(e,t,n,r){var i,o=e.childNodes[t];return o&&o.tagName.toLowerCase()===n.toLowerCase()||(i=o||null,o=Od(e.ownerDocument,n,r),e.insertBefore(o,i)),o}function Md(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function Pd(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}Sd.toJSON=function(e){return wd(this.root,e||0)},Sd.mark=function(e,t,n){var r=kd(e,t=t||this.root.items[0]);return t.items[n]=r,r.zindex&&(r.group.zdirty=!0),r};var Id=function(e,t){var n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]};function Dd(e,t){this._active=null,this._handlers={},this._loader=e||vr(),this._tooltip=t||Nd}function Nd(e,t,n,r){e.element().setAttribute("title",r||"")}var Rd=Dd.prototype;function Ld(e){this._el=null,this._bgcolor=null,this._loader=new Ml(e)}Rd.initialize=function(e,t,n){return this._el=e,this._obj=n||null,this.origin(t)},Rd.element=function(){return this._el},Rd.canvas=function(){return this._el&&this._el.firstChild},Rd.origin=function(e){return arguments.length?(this._origin=e||[0,0],this):this._origin.slice()},Rd.scene=function(e){return arguments.length?(this._scene=e,this):this._scene},Rd.on=function(){},Rd.off=function(){},Rd._handlerIndex=function(e,t,n){for(var r=e?e.length:0;--r>=0;)if(e[r].type===t&&(!n||e[r].handler===n))return r;return-1},Rd.handlers=function(e){var t,n=this._handlers,r=[];if(e)r.push.apply(r,n[this.eventName(e)]);else for(t in n)r.push.apply(r,n[t]);return r},Rd.eventName=function(e){var t=e.indexOf(".");return t<0?e:e.slice(0,t)},Rd.handleHref=function(e,t,n){this._loader.sanitize(n,{context:"href"}).then((function(t){var n=new MouseEvent(e.type,e),r=Od(null,"a");for(var i in t)r.setAttribute(i,t[i]);r.dispatchEvent(n)})).catch((function(){}))},Rd.handleTooltip=function(e,t,n){if(t&&null!=t.tooltip){t=function(e,t,n,r){var i,o,a=e&&e.mark;if(a&&(i=gd[a.marktype]).tip){for((o=Id(t,n))[0]-=r[0],o[1]-=r[1];e=e.mark.group;)o[0]-=e.x||0,o[1]-=e.y||0;e=i.tip(a.items,o)}return e}(t,e,this.canvas(),this._origin);var r=n&&t&&t.tooltip||null;this._tooltip.call(this._obj,this,e,t,r)}},Rd.getItemBoundingClientRect=function(e){if(t=this.canvas()){for(var t,n=t.getBoundingClientRect(),r=this._origin,i=e.bounds,o=i.x1+r[0]+n.left,a=i.y1+r[1]+n.top,s=i.width(),l=i.height();e.mark&&(e=e.mark.group);)o+=e.x||0,a+=e.y||0;return{x:o,y:a,width:s,height:l,left:o,top:a,right:o+s,bottom:a+l}}};var jd=Ld.prototype;jd.initialize=function(e,t,n,r,i){return this._el=e,this.resize(t,n,r,i)},jd.element=function(){return this._el},jd.canvas=function(){return this._el&&this._el.firstChild},jd.background=function(e){return 0===arguments.length?this._bgcolor:(this._bgcolor=e,this)},jd.resize=function(e,t,n,r){return this._width=e,this._height=t,this._origin=n||[0,0],this._scale=r||1,this},jd.dirty=function(){},jd.render=function(e){var t=this;return t._call=function(){t._render(e)},t._call(),t._call=null,t},jd._render=function(){},jd.renderAsync=function(e){var t=this.render(e);return this._ready?this._ready.then((function(){return t})):Promise.resolve(t)},jd._load=function(e,t){var n=this,r=n._loader[e](t);if(!n._ready){var i=n._call;n._ready=n._loader.ready().then((function(e){e&&i(),n._ready=null}))}return r},jd.sanitizeURL=function(e){return this._load("sanitizeURL",e)},jd.loadImage=function(e){return this._load("loadImage",e)};function Fd(e,t){Dd.call(this,e,t),this._down=null,this._touch=null,this._first=!0}var Bd=Object(ne.y)(Fd,Dd);function zd(e,t,n){return function(r){var i=this._active,o=this.pickEvent(r);o===i||(i&&i.exit||this.fire(n,r),this._active=o,this.fire(t,r)),this.fire(e,r)}}function Hd(e){return function(t){this.fire(e,t),this._active=null}}Bd.initialize=function(e,t,n){var r=this._canvas=e&&Cd(e,"canvas");if(r){var i=this;this.events.forEach((function(e){r.addEventListener(e,(function(t){Bd[e]?Bd[e].call(i,t):i.fire(e,t)}))}))}return Dd.prototype.initialize.call(this,e,t,n)},Bd.canvas=function(){return this._canvas},Bd.context=function(){return this._canvas.getContext("2d")},Bd.events=["keydown","keypress","keyup","dragenter","dragleave","dragover","mousedown","mouseup","mousemove","mouseout","mouseover","click","dblclick","wheel","mousewheel","touchstart","touchmove","touchend"],Bd.DOMMouseScroll=function(e){this.fire("mousewheel",e)},Bd.mousemove=zd("mousemove","mouseover","mouseout"),Bd.dragover=zd("dragover","dragenter","dragleave"),Bd.mouseout=Hd("mouseout"),Bd.dragleave=Hd("dragleave"),Bd.mousedown=function(e){this._down=this._active,this.fire("mousedown",e)},Bd.click=function(e){this._down===this._active&&(this.fire("click",e),this._down=null)},Bd.touchstart=function(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire("touchstart",e,!0)},Bd.touchmove=function(e){this.fire("touchmove",e,!0)},Bd.touchend=function(e){this.fire("touchend",e,!0),this._touch=null},Bd.fire=function(e,t,n){var r,i,o=n?this._touch:this._active,a=this._handlers[e];if(t.vegaType=e,"click"===e&&o&&o.href?this.handleHref(t,o,o.href):"mousemove"!==e&&"mouseout"!==e||this.handleTooltip(t,o,"mouseout"!==e),a)for(r=0,i=a.length;r<i;++r)a[r].handler.call(this._obj,t,o)},Bd.on=function(e,t){var n=this.eventName(e),r=this._handlers;return this._handlerIndex(r[n],e,t)<0&&(r[n]||(r[n]=[])).push({type:e,handler:t}),this},Bd.off=function(e,t){var n=this.eventName(e),r=this._handlers[n],i=this._handlerIndex(r,e,t);return i>=0&&r.splice(i,1),this},Bd.pickEvent=function(e){var t=Id(e,this._canvas),n=this._origin;return this.pick(this._scene,t[0],t[1],t[0]-n[0],t[1]-n[1])},Bd.pick=function(e,t,n,r,i){var o=this.context();return gd[e.marktype].pick.call(this,o,e,t,n,r,i)};var Ud="undefined"!==typeof window&&window.devicePixelRatio||1;function Vd(e){Ld.call(this,e),this._redraw=!1,this._dirty=new bl}var Gd=Object(ne.y)(Vd,Ld),Wd=Ld.prototype,qd=new bl;function Yd(e,t,n){return qd.set(0,0,t,n).translate(-e[0],-e[1])}function Xd(e,t){Dd.call(this,e,t);var n=this;n._hrefHandler=Kd(n,(function(e,t){t&&t.href&&n.handleHref(e,t,t.href)})),n._tooltipHandler=Kd(n,(function(e,t){n.handleTooltip(e,t,"mouseout"!==e.type)}))}Gd.initialize=function(e,t,n,r,i,o){return this._options=o,this._canvas=Cl(1,1,o&&o.type),e&&(Md(e,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),Wd.initialize.call(this,e,t,n,r,i)},Gd.resize=function(e,t,n,r){return Wd.resize.call(this,e,t,n,r),function(e,t,n,r,i,o){var a="undefined"!==typeof HTMLElement&&e instanceof HTMLElement&&null!=e.parentNode,s=e.getContext("2d"),l=a?Ud:i;for(var u in e.width=t*l,e.height=n*l,o)s[u]=o[u];a&&1!==l&&(e.style.width=t+"px",e.style.height=n+"px"),s.pixelRatio=l,s.setTransform(l,0,0,l,l*r[0],l*r[1])}(this._canvas,this._width,this._height,this._origin,this._scale,this._options&&this._options.context),this._redraw=!0,this},Gd.canvas=function(){return this._canvas},Gd.context=function(){return this._canvas?this._canvas.getContext("2d"):null},Gd.dirty=function(e){var t=function(e,t){if(null==t)return e;for(var n=qd.clear().union(e);null!=t;t=t.mark.group)n.translate(t.x||0,t.y||0);return n}(e.bounds,e.mark.group);this._dirty.union(t)},Gd._render=function(e){var t=this.context(),n=this._origin,r=this._width,i=this._height,o=this._dirty;return t.save(),this._redraw||o.empty()?(this._redraw=!1,o=Yd(n,r,i).expand(1)):o=function(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-n[0]%1,-n[1]%1),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}(t,o.intersect(Yd(n,r,i)),n),this.clear(-n[0],-n[1],r,i),this.draw(t,e,o),t.restore(),this._dirty.clear(),this},Gd.draw=function(e,t,n){var r=gd[t.marktype];t.clip&&function(e,t){var n=t.clip;e.save(),Object(ne.D)(n)?(e.beginPath(),n(e),e.clip()):Of(e,t.group)}(e,t),r.draw.call(this,e,t,n),t.clip&&e.restore()},Gd.clear=function(e,t,n,r){var i=this.context();i.clearRect(e,t,n,r),null!=this._bgcolor&&(i.fillStyle=this._bgcolor,i.fillRect(e,t,n,r))};var $d=Object(ne.y)(Xd,Dd);function Kd(e,t){return function(n){var r=n.target.__data__;n.vegaType=n.type,r=Array.isArray(r)?r[0]:r,t.call(e._obj,n,r)}}$d.initialize=function(e,t,n){var r=this._svg;return r&&(r.removeEventListener("click",this._hrefHandler),r.removeEventListener("mousemove",this._tooltipHandler),r.removeEventListener("mouseout",this._tooltipHandler)),this._svg=r=e&&Cd(e,"svg"),r&&(r.addEventListener("click",this._hrefHandler),r.addEventListener("mousemove",this._tooltipHandler),r.addEventListener("mouseout",this._tooltipHandler)),Dd.prototype.initialize.call(this,e,t,n)},$d.canvas=function(){return this._svg},$d.on=function(e,t){var n=this.eventName(e),r=this._handlers;if(this._handlerIndex(r[n],e,t)<0){var i={type:e,handler:t,listener:Kd(this,t)};(r[n]||(r[n]=[])).push(i),this._svg&&this._svg.addEventListener(n,i.listener)}return this},$d.off=function(e,t){var n=this.eventName(e),r=this._handlers[n],i=this._handlerIndex(r,e,t);return i>=0&&(this._svg&&this._svg.removeEventListener(n,r[i].listener),r.splice(i,1)),this};var Zd=function(e,t,n){var r=e-t+2*n;return e?r>0?r:1:0},Qd="log",Jd="time",eh="utc",th="continuous",nh=Fs(oi),rh=nh.right,ih=nh.left,oh=rh;function ah(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function sh(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}var lh=Symbol("implicit");function uh(){var e=new Map,t=[],n=[],r=lh;function i(i){var o=i+"",a=e.get(o);if(!a){if(r!==lh)return r;e.set(o,a=t.push(i))}return n[(a-1)%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Map;var r,o=ni(n);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=a+"";e.has(s)||e.set(s,t.push(a))}}catch(l){o.e(l)}finally{o.f()}return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return uh(t,n).unknown(r)},ah.apply(i,arguments),i}function ch(){var e,t,n=uh().unknown(void 0),r=n.domain,i=n.range,o=[0,1],a=!1,s=0,l=0,u=.5;function c(){var n=r().length,c=o[1]<o[0],f=o[c-0],d=o[1-c],h=Zd(n,s,l);e=(d-f)/(h||1),a&&(e=Math.floor(e)),f+=(d-f-e*(n-s))*u,t=e*(1-s),a&&(f=Math.round(f),t=Math.round(t));var p=ha(n).map((function(t){return f+e*t}));return i(c?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),c()):r()},n.range=function(e){return arguments.length?(o=[+e[0],+e[1]],c()):o.slice()},n.rangeRound=function(e){return o=[+e[0],+e[1]],a=!0,c()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(a=!!e,c()):a},n.padding=function(e){return arguments.length?(l=Math.max(0,Math.min(1,e)),s=l,c()):s},n.paddingInner=function(e){return arguments.length?(s=Math.max(0,Math.min(1,e)),c()):s},n.paddingOuter=function(e){return arguments.length?(l=Math.max(0,Math.min(1,e)),c()):l},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),c()):u},n.invertRange=function(e){if(null!=e[0]&&null!=e[1]){var n,a,s,l=+e[0],u=+e[1],c=o[1]<o[0],f=c?i().reverse():i(),d=f.length-1;if(l===l&&u===u&&(u<l&&(s=l,l=u,u=s),!(u<f[0]||l>o[1-c])))return n=Math.max(0,rh(f,l)-1),a=l===u?n:rh(f,u)-1,l-f[n]>t+1e-10&&++n,c&&(s=n,n=d-a,a=d-s),n>a?void 0:r().slice(n,a+1)}},n.invert=function(e){var t=n.invertRange([e,e]);return t?t[0]:t},n.copy=function(){return ch().domain(r()).range(o).round(a).paddingInner(s).paddingOuter(l).align(u)},c()}var fh=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function dh(e){if(!(t=fh.exec(e)))throw new Error("invalid format: "+e);var t;return new hh({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function hh(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}dh.prototype=hh.prototype,hh.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var ph,mh,vh,gh,yh=function(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]},bh=function(e){return(e=yh(Math.abs(e)))?e[1]:NaN},_h=function(e,t){var n=yh(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},xh={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return _h(100*e,t)},r:_h,s:function(e,t){var n=yh(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(ph=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+yh(e,Math.max(0,t+o-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},wh=function(e){return e},Eh=Array.prototype.map,Th=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],Sh=function(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?wh:(t=Eh.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?wh:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(Eh.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",u=void 0===e.minus?"-":e.minus+"",c=void 0===e.nan?"NaN":e.nan+"";function f(e){var t=(e=dh(e)).fill,n=e.align,f=e.sign,d=e.symbol,h=e.zero,p=e.width,m=e.comma,v=e.precision,g=e.trim,y=e.type;"n"===y?(m=!0,y="g"):xh[y]||(void 0===v&&(v=12),g=!0,y="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var b="$"===d?i:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",_="$"===d?o:/[%p]/.test(y)?l:"",x=xh[y],w=/[defgprs%]/.test(y);function E(e){var i,o,l,d=b,E=_;if("c"===y)E=x(e)+E,e="";else{var T=(e=+e)<0||1/e<0;if(e=isNaN(e)?c:x(Math.abs(e),v),g&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),T&&0===+e&&"+"!==f&&(T=!1),d=(T?"("===f?f:u:"-"===f||"("===f?"":f)+d,E=("s"===y?Th[8+ph/3]:"")+E+(T&&"("===f?")":""),w)for(i=-1,o=e.length;++i<o;)if(48>(l=e.charCodeAt(i))||l>57){E=(46===l?a+e.slice(i+1):e.slice(i))+E,e=e.slice(0,i);break}}m&&!h&&(e=r(e,1/0));var S=d.length+e.length+E.length,k=S<p?new Array(p-S+1).join(t):"";switch(m&&h&&(e=r(k+e,k.length?p-E.length:1/0),k=""),n){case"<":e=d+e+E+k;break;case"=":e=d+k+e+E;break;case"^":e=k.slice(0,S=k.length>>1)+d+e+E+k.slice(S);break;default:e=k+d+e+E}return s(e)}return v=void 0===v?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),E.toString=function(){return e+""},E}return{format:f,formatPrefix:function(e,t){var n=f(((e=dh(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(bh(t)/3))),i=Math.pow(10,-r),o=Th[8+r/3];return function(e){return n(i*e)+o}}}};function kh(e){return mh=Sh(e),vh=mh.format,gh=mh.formatPrefix,mh}kh({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});var Oh=function(e,t,n,r){var i,o=Gs(e,t,n);switch((r=dh(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(bh(t)/3)))-bh(Math.abs(e)))}(o,a))||(r.precision=i),gh(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,bh(t)-bh(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-bh(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return vh(r)},Ch=Array.prototype.map;function Ah(e){return Ch.call(e,(function(e){return+e}))}var Mh=Array.prototype.slice;var Ph=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function Ih(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Dh(){}var Nh="\\s*([+-]?\\d+)\\s*",Rh="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Lh="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jh=/^#([0-9a-f]{3,8})$/,Fh=new RegExp("^rgb\\("+[Nh,Nh,Nh]+"\\)$"),Bh=new RegExp("^rgb\\("+[Lh,Lh,Lh]+"\\)$"),zh=new RegExp("^rgba\\("+[Nh,Nh,Nh,Rh]+"\\)$"),Hh=new RegExp("^rgba\\("+[Lh,Lh,Lh,Rh]+"\\)$"),Uh=new RegExp("^hsl\\("+[Rh,Lh,Lh]+"\\)$"),Vh=new RegExp("^hsla\\("+[Rh,Lh,Lh,Rh]+"\\)$"),Gh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Wh(){return this.rgb().formatHex()}function qh(){return this.rgb().formatRgb()}function Yh(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=jh.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Xh(t):3===n?new Qh(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?$h(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?$h(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Fh.exec(e))?new Qh(t[1],t[2],t[3],1):(t=Bh.exec(e))?new Qh(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=zh.exec(e))?$h(t[1],t[2],t[3],t[4]):(t=Hh.exec(e))?$h(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Uh.exec(e))?np(t[1],t[2]/100,t[3]/100,1):(t=Vh.exec(e))?np(t[1],t[2]/100,t[3]/100,t[4]):Gh.hasOwnProperty(e)?Xh(Gh[e]):"transparent"===e?new Qh(NaN,NaN,NaN,0):null}function Xh(e){return new Qh(e>>16&255,e>>8&255,255&e,1)}function $h(e,t,n,r){return r<=0&&(e=t=n=NaN),new Qh(e,t,n,r)}function Kh(e){return e instanceof Dh||(e=Yh(e)),e?new Qh((e=e.rgb()).r,e.g,e.b,e.opacity):new Qh}function Zh(e,t,n,r){return 1===arguments.length?Kh(e):new Qh(e,t,n,null==r?1:r)}function Qh(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Jh(){return"#"+tp(this.r)+tp(this.g)+tp(this.b)}function ep(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function tp(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function np(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new op(e,t,n,r)}function rp(e){if(e instanceof op)return new op(e.h,e.s,e.l,e.opacity);if(e instanceof Dh||(e=Yh(e)),!e)return new op;if(e instanceof op)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new op(a,s,l,e.opacity)}function ip(e,t,n,r){return 1===arguments.length?rp(e):new op(e,t,n,null==r?1:r)}function op(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function ap(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function sp(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}Ph(Dh,Yh,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Wh,formatHex:Wh,formatHsl:function(){return rp(this).formatHsl()},formatRgb:qh,toString:qh}),Ph(Qh,Zh,Ih(Dh,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Qh(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Qh(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Jh,formatHex:Jh,formatRgb:ep,toString:ep})),Ph(op,ip,Ih(Dh,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new op(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new op(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Qh(ap(e>=240?e-240:e+120,i,r),ap(e,i,r),ap(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var lp=function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return sp((n-r/t)*t,a,i,o,s)}},up=function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return sp((n-r/t)*t,i,o,a,s)}},cp=function(e){return function(){return e}};function fp(e,t){return function(n){return e+n*t}}function dp(e,t){var n=t-e;return n?fp(e,n>180||n<-180?n-360*Math.round(n/360):n):cp(isNaN(e)?t:e)}function hp(e){return 1===(e=+e)?pp:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):cp(isNaN(t)?n:t)}}function pp(e,t){var n=t-e;return n?fp(e,n):cp(isNaN(e)?t:e)}var mp=function e(t){var n=hp(t);function r(e,t){var r=n((e=Zh(e)).r,(t=Zh(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=pp(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function vp(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Zh(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}var gp=vp(lp),yp=vp(up),bp=function(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}};function _p(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}var xp=function(e,t){return(_p(t)?bp:wp)(e,t)};function wp(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Ap(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}var Ep=function(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}},Tp=function(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}},Sp=function(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=Ap(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}},kp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Op=new RegExp(kp.source,"g");var Cp=function(e,t){var n,r,i,o=kp.lastIndex=Op.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=kp.exec(e))&&(r=Op.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:Tp(n,r)})),o=Op.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})},Ap=function(e,t){var n,r=typeof t;return null==t||"boolean"===r?cp(t):("number"===r?Tp:"string"===r?(n=Yh(t))?(t=n,mp):Cp:t instanceof Yh?mp:t instanceof Date?Ep:_p(t)?bp:Array.isArray(t)?wp:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?Sp:Tp)(e,t)},Mp=function(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}},Pp=function(e){return+e},Ip=[0,1];function Dp(e){return e}function Np(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function Rp(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=Np(i,r),o=n(a,o)):(r=Np(r,i),o=n(o,a)),function(e){return o(r(e))}}function Lp(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=Np(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=oh(e,t,1,r)-1;return o[n](i[n](t))}}function jp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Fp(){var e,t,n,r,i,o,a=Ip,s=Ip,l=Ap,u=Dp;function c(){var e=Math.min(a.length,s.length);return u!==Dp&&(u=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(a[0],a[e-1])),r=e>2?Lp:Rp,i=o=null,f}function f(t){return isNaN(t=+t)?n:(i||(i=r(a.map(e),s,l)))(e(u(t)))}return f.invert=function(n){return u(t((o||(o=r(s,a.map(e),Tp)))(n)))},f.domain=function(e){return arguments.length?(a=Array.from(e,Pp),c()):a.slice()},f.range=function(e){return arguments.length?(s=Array.from(e),c()):s.slice()},f.rangeRound=function(e){return s=Array.from(e),l=Mp,c()},f.clamp=function(e){return arguments.length?(u=!!e||Dp,c()):u!==Dp},f.interpolate=function(e){return arguments.length?(l=e,c()):l},f.unknown=function(e){return arguments.length?(n=e,f):n},function(n,r){return e=n,t=r,c()}}function Bp(){return Fp()(Dp,Dp)}function zp(e){var t=e.domain;return e.ticks=function(e){var n=t();return Us(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return Oh(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i=t(),o=0,a=i.length-1,s=i[o],l=i[a];return l<s&&(r=s,s=l,l=r,r=o,o=a,a=r),(r=Vs(s,l,n))>0?r=Vs(s=Math.floor(s/r)*r,l=Math.ceil(l/r)*r,n):r<0&&(r=Vs(s=Math.ceil(s*r)/r,l=Math.floor(l*r)/r,n)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(l/r)*r,t(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(l*r)/r,t(i)),e},e}var Hp=function(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e};function Up(e){return Math.log(e)}function Vp(e){return Math.exp(e)}function Gp(e){return-Math.log(-e)}function Wp(e){return-Math.exp(-e)}function qp(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Yp(e){return function(t){return-e(-t)}}function Xp(e){var t,n,r=e(Up,Vp),i=r.domain,o=10;function a(){return t=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(o),n=function(e){return 10===e?qp:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(o),i()[0]<0?(t=Yp(t),n=Yp(n),e(Gp,Wp)):e(Up,Vp),r}return r.base=function(e){return arguments.length?(o=+e,a()):o},r.domain=function(e){return arguments.length?(i(e),a()):i()},r.ticks=function(e){var r,a=i(),s=a[0],l=a[a.length-1];(r=l<s)&&(d=s,s=l,l=d);var u,c,f,d=t(s),h=t(l),p=null==e?10:+e,m=[];if(!(o%1)&&h-d<p){if(d=Math.floor(d),h=Math.ceil(h),s>0){for(;d<=h;++d)for(c=1,u=n(d);c<o;++c)if(!((f=u*c)<s)){if(f>l)break;m.push(f)}}else for(;d<=h;++d)for(c=o-1,u=n(d);c>=1;--c)if(!((f=u*c)<s)){if(f>l)break;m.push(f)}2*m.length<p&&(m=Us(s,l,p))}else m=Us(d,h,Math.min(h-d,p)).map(n);return r?m.reverse():m},r.tickFormat=function(e,i){if(null==i&&(i=10===o?".0e":","),"function"!==typeof i&&(i=vh(i)),e===1/0)return i;null==e&&(e=10);var a=Math.max(1,o*e/r.ticks().length);return function(e){var r=e/n(Math.round(t(e)));return r*o<o-.5&&(r*=o),r<=a?i(e):""}},r.nice=function(){return i(Hp(i(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},r}function $p(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Kp(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Zp(e){return e<0?-e*e:e*e}function Qp(e){var t=e(Dp,Dp),n=1;function r(){return 1===n?e(Dp,Dp):.5===n?e(Kp,Zp):e($p(n),$p(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,r()):n},zp(t)}function Jp(){var e=Qp(Fp());return e.copy=function(){return jp(e,Jp()).exponent(e.exponent())},ah.apply(e,arguments),e}function em(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function tm(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function nm(e){var t=1,n=e(em(t),tm(t));return n.constant=function(n){return arguments.length?e(em(t=+n),tm(t)):t},zp(n)}function rm(e){return new Date(e)}function im(e){return e instanceof Date?+e:+new Date(+e)}function om(e,t,n,r,i,o,a,s,l){var u=Bp(),c=u.invert,f=u.domain,d=l(".%L"),h=l(":%S"),p=l("%I:%M"),m=l("%I %p"),v=l("%a %d"),g=l("%b %d"),y=l("%B"),b=l("%Y"),_=[[a,1,1e3],[a,5,5e3],[a,15,15e3],[a,30,3e4],[o,1,6e4],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,36e5],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,864e5],[r,2,1728e5],[n,1,6048e5],[t,1,2592e6],[t,3,7776e6],[e,1,31536e6]];function x(s){return(a(s)<s?d:o(s)<s?h:i(s)<s?p:r(s)<s?m:t(s)<s?n(s)<s?v:g:e(s)<s?y:b)(s)}function w(t,n,r){if(null==t&&(t=10),"number"===typeof t){var i,o=Math.abs(r-n)/t,a=Fs((function(e){return e[2]})).right(_,o);return a===_.length?(i=Gs(n/31536e6,r/31536e6,t),t=e):a?(i=(a=_[o/_[a-1][2]<_[a][2]/o?a-1:a])[1],t=a[0]):(i=Math.max(Gs(n,r,t),1),t=s),t.every(i)}return t}return u.invert=function(e){return new Date(c(e))},u.domain=function(e){return arguments.length?f(Array.from(e,im)):f().map(rm)},u.ticks=function(e){var t,n=f(),r=n[0],i=n[n.length-1],o=i<r;return o&&(t=r,r=i,i=t),t=(t=w(e,r,i))?t.range(r,i+1):[],o?t.reverse():t},u.tickFormat=function(e,t){return null==t?x:l(t)},u.nice=function(e){var t=f();return(e=w(e,t[0],t[t.length-1]))?f(Hp(t,e)):u},u.copy=function(){return jp(u,om(e,t,n,r,i,o,a,s,l))},u}function am(){var e,t,n,r,i,o=0,a=1,s=Dp,l=!1;function u(t){return isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function c(e){return function(t){var n,r,i;return arguments.length?(r=(n=Qi(t,2))[0],i=n[1],s=e(r,i),u):[s(0),s(1)]}}return u.domain=function(i){var s;return arguments.length?(s=Qi(i,2),o=s[0],a=s[1],e=r(o=+o),t=r(a=+a),n=e===t?0:1/(t-e),u):[o,a]},u.clamp=function(e){return arguments.length?(l=!!e,u):l},u.interpolator=function(e){return arguments.length?(s=e,u):s},u.range=c(Ap),u.rangeRound=c(Mp),u.unknown=function(e){return arguments.length?(i=e,u):i},function(i){return r=i,e=i(o),t=i(a),n=e===t?0:1/(t-e),u}}function sm(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function lm(){var e=zp(am()(Dp));return e.copy=function(){return sm(e,lm())},sh.apply(e,arguments)}function um(){var e=Qp(am());return e.copy=function(){return sm(e,um()).exponent(e.exponent())},sh.apply(e,arguments)}function cm(e,t){for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return o[t](e-t)}}function fm(){var e,t,n,r,i,o,a,s=0,l=.5,u=1,c=1,f=Dp,d=!1;function h(e){return isNaN(e=+e)?a:(e=.5+((e=+o(e))-t)*(c*e<c*t?r:i),f(d?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,i,o;return arguments.length?(r=(n=Qi(t,3))[0],i=n[1],o=n[2],f=cm(e,[r,i,o]),h):[f(0),f(.5),f(1)]}}return h.domain=function(a){var f;return arguments.length?(f=Qi(a,3),s=f[0],l=f[1],u=f[2],e=o(s=+s),t=o(l=+l),n=o(u=+u),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),c=t<e?-1:1,h):[s,l,u]},h.clamp=function(e){return arguments.length?(d=!!e,h):d},h.interpolator=function(e){return arguments.length?(f=e,h):f},h.range=p(Ap),h.rangeRound=p(Mp),h.unknown=function(e){return arguments.length?(a=e,h):a},function(a){return o=a,e=a(s),t=a(l),n=a(u),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),c=t<e?-1:1,h}}function dm(){var e=Qp(fm());return e.copy=function(){return sm(e,dm()).exponent(e.exponent())},sh.apply(e,arguments)}var hm={};function pm(e,t,n){var r=function(){var n=t();return n.invertRange||(n.invertRange=n.invert?function(e){return function(t){var n,r=t[0],i=t[1];return i<r&&(n=r,r=i,i=n),[e.invert(r),e.invert(i)]}}(n):n.invertExtent?function(e){return function(t){var n,r,i,o,a=e.range(),s=t[0],l=t[1],u=-1;for(l<s&&(r=s,s=l,l=r),i=0,o=a.length;i<o;++i)a[i]>=s&&a[i]<=l&&(u<0&&(u=i),n=i);if(!(u<0))return s=e.invertExtent(a[u]),l=e.invertExtent(a[n]),[void 0===s[0]?s[1]:s[0],void 0===l[1]?l[0]:l[1]]}}(n):void 0),n.type=e,n};return r.metadata=Object(ne.db)(Object(ne.i)(n)),r}function mm(e,t,n){return arguments.length>1?(hm[e]=pm(e,t,n),this):vm(e)?hm[e]:void 0}function vm(e){return Object(ne.v)(hm,e)}function gm(e,t){var n=hm[e];return n&&n.metadata[t]}function ym(e){return gm(e,th)}function bm(e){return gm(e,"discrete")}function _m(e){return gm(e,"discretizing")}function xm(e){return gm(e,Qd)}function wm(e){return gm(e,"interpolating")}function Em(e){return gm(e,"quantile")}mm("identity",(function e(t){var n;function r(e){return isNaN(e=+e)?n:e}return r.invert=r,r.domain=r.range=function(e){return arguments.length?(t=Array.from(e,Pp),r):t.slice()},r.unknown=function(e){return arguments.length?(n=e,r):n},r.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,Pp):[0,1],zp(r)})),mm("linear",(function e(){var t=Bp();return t.copy=function(){return jp(t,e())},ah.apply(t,arguments),zp(t)}),th),mm(Qd,(function e(){var t=Xp(Fp()).domain([1,10]);return t.copy=function(){return jp(t,e()).base(t.base())},ah.apply(t,arguments),t}),[th,Qd]),mm("pow",Jp,th),mm("sqrt",(function(){return Jp.apply(null,arguments).exponent(.5)}),th),mm("symlog",(function e(){var t=nm(Fp());return t.copy=function(){return jp(t,e()).constant(t.constant())},ah.apply(t,arguments)}),th),mm(Jd,(function(){return ah.apply(om(Wt,os,Rt,Vt,ss,us,fs,vs,Qt).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}),[th,"temporal"]),mm(eh,(function(){return ah.apply(om(Yt,ys,St,Dt,_s,ws,fs,vs,en).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}),[th,"temporal"]),mm("sequential",lm,[th,"interpolating"]),mm("".concat("sequential","-").concat("linear"),lm,[th,"interpolating"]),mm("".concat("sequential","-").concat(Qd),(function e(){var t=Xp(am()).domain([1,10]);return t.copy=function(){return sm(t,e()).base(t.base())},sh.apply(t,arguments)}),[th,"interpolating",Qd]),mm("".concat("sequential","-").concat("pow"),um,[th,"interpolating"]),mm("".concat("sequential","-").concat("sqrt"),(function(){return um.apply(null,arguments).exponent(.5)}),[th,"interpolating"]),mm("".concat("sequential","-").concat("symlog"),(function e(){var t=nm(am());return t.copy=function(){return sm(t,e()).constant(t.constant())},sh.apply(t,arguments)}),[th,"interpolating"]),mm("".concat("diverging","-").concat("linear"),(function e(){var t=zp(fm()(Dp));return t.copy=function(){return sm(t,e())},sh.apply(t,arguments)}),[th,"interpolating"]),mm("".concat("diverging","-").concat(Qd),(function e(){var t=Xp(fm()).domain([.1,1,10]);return t.copy=function(){return sm(t,e()).base(t.base())},sh.apply(t,arguments)}),[th,"interpolating",Qd]),mm("".concat("diverging","-").concat("pow"),dm,[th,"interpolating"]),mm("".concat("diverging","-").concat("sqrt"),(function(){return dm.apply(null,arguments).exponent(.5)}),[th,"interpolating"]),mm("".concat("diverging","-").concat("symlog"),(function e(){var t=nm(fm());return t.copy=function(){return sm(t,e()).constant(t.constant())},sh.apply(t,arguments)}),[th,"interpolating"]),mm("quantile",(function e(){var t,n=[],r=[],i=[];function o(){var e=0,t=Math.max(1,r.length);for(i=new Array(t-1);++e<t;)i[e-1]=di(n,e/t);return a}function a(e){return isNaN(e=+e)?t:r[oh(i,e)]}return a.invertExtent=function(e){var t=r.indexOf(e);return t<0?[NaN,NaN]:[t>0?i[t-1]:n[0],t<i.length?i[t]:n[n.length-1]]},a.domain=function(e){if(!arguments.length)return n.slice();n=[];var t,r=ni(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;null==i||isNaN(i=+i)||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n.sort(oi),o()},a.range=function(e){return arguments.length?(r=Array.from(e),o()):r.slice()},a.unknown=function(e){return arguments.length?(t=e,a):t},a.quantiles=function(){return i.slice()},a.copy=function(){return e().domain(n).range(r).unknown(t)},ah.apply(a,arguments)}),["discretizing","quantile"]),mm("quantize",(function e(){var t,n=0,r=1,i=1,o=[.5],a=[0,1];function s(e){return e<=e?a[oh(o,e,0,i)]:t}function l(){var e=-1;for(o=new Array(i);++e<i;)o[e]=((e+1)*r-(e-i)*n)/(i+1);return s}return s.domain=function(e){var t;return arguments.length?(t=Qi(e,2),n=t[0],r=t[1],n=+n,r=+r,l()):[n,r]},s.range=function(e){return arguments.length?(i=(a=Array.from(e)).length-1,l()):a.slice()},s.invertExtent=function(e){var t=a.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,o[0]]:t>=i?[o[i-1],r]:[o[t-1],o[t]]},s.unknown=function(e){return arguments.length?(t=e,s):s},s.thresholds=function(){return o.slice()},s.copy=function(){return e().domain([n,r]).range(a).unknown(t)},ah.apply(zp(s),arguments)}),"discretizing"),mm("threshold",(function e(){var t,n=[.5],r=[0,1],i=1;function o(e){return e<=e?r[oh(n,e,0,i)]:t}return o.domain=function(e){return arguments.length?(n=Array.from(e),i=Math.min(n.length,r.length-1),o):n.slice()},o.range=function(e){return arguments.length?(r=Array.from(e),i=Math.min(n.length,r.length-1),o):r.slice()},o.invertExtent=function(e){var t=r.indexOf(e);return[n[t-1],n[t]]},o.unknown=function(e){return arguments.length?(t=e,o):t},o.copy=function(){return e().domain(n).range(r).unknown(t)},ah.apply(o,arguments)}),"discretizing"),mm("bin-ordinal",(function e(){var t=[],n=[];function r(e){return null==e||e!==e?void 0:n[(oh(t,e)-1)%n.length]}return r.domain=function(e){return arguments.length?(t=Ah(e),r):t.slice()},r.range=function(e){return arguments.length?(n=Mh.call(e),r):n.slice()},r.tickFormat=function(e,n){return Oh(t[0],Object(ne.U)(t),null==e?10:e,n)},r.copy=function(){return e().domain(r.domain()).range(r.range())},r}),["discrete","discretizing"]),mm("ordinal",uh,"discrete"),mm("band",ch,"discrete"),mm("point",(function(){return function e(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,t.copy=function(){return e(n())},t}(ch().paddingInner(1))}),"discrete");var Tm,Sm,km,Om,Cm=function(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}},Am=function(e,t){var n=dp(+e,+t);return function(e){var t=n(e);return t-360*Math.floor(t/360)}},Mm=180/Math.PI,Pm={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Im=function(e,t,n,r,i,o){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Mm,skewX:Math.atan(l)*Mm,scaleX:a,scaleY:s}};function Dm(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(o,a){var s=[],l=[];return o=e(o),a=e(a),function(e,r,i,o,a,s){if(e!==i||r!==o){var l=a.push("translate(",null,t,null,n);s.push({i:l-4,x:Tp(e,i)},{i:l-2,x:Tp(r,o)})}else(i||o)&&a.push("translate("+i+t+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,l),function(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Tp(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(o.rotate,a.rotate,s,l),function(e,t,n,o){e!==t?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Tp(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(o.skewX,a.skewX,s,l),function(e,t,n,r,o,a){if(e!==n||t!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Tp(e,n)},{i:s-2,x:Tp(t,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,l),o=a=null,function(e){for(var t,n=-1,r=l.length;++n<r;)s[(t=l[n]).i]=t.x(e);return s.join("")}}}var Nm=Dm((function(e){return"none"===e?Pm:(Tm||(Tm=document.createElement("DIV"),Sm=document.documentElement,km=document.defaultView),Tm.style.transform=e,e=km.getComputedStyle(Sm.appendChild(Tm),null).getPropertyValue("transform"),Sm.removeChild(Tm),e=e.slice(7,-1).split(","),Im(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}),"px, ","px)","deg)"),Rm=Dm((function(e){return null==e?Pm:(Om||(Om=document.createElementNS("http://www.w3.org/2000/svg","g")),Om.setAttribute("transform",e),(e=Om.transform.baseVal.consolidate())?(e=e.matrix,Im(e.a,e.b,e.c,e.d,e.e,e.f)):Pm)}),", ",")",")"),Lm=Math.SQRT2;function jm(e){return((e=Math.exp(e))+1/e)/2}var Fm=function(e,t){var n,r,i=e[0],o=e[1],a=e[2],s=t[0],l=t[1],u=t[2],c=s-i,f=l-o,d=c*c+f*f;if(d<1e-12)r=Math.log(u/a)/Lm,n=function(e){return[i+e*c,o+e*f,a*Math.exp(Lm*e*r)]};else{var h=Math.sqrt(d),p=(u*u-a*a+4*d)/(2*a*2*h),m=(u*u-a*a-4*d)/(2*u*2*h),v=Math.log(Math.sqrt(p*p+1)-p),g=Math.log(Math.sqrt(m*m+1)-m);r=(g-v)/Lm,n=function(e){var t,n=e*r,s=jm(v),l=a/(2*h)*(s*(t=Lm*n+v,((t=Math.exp(2*t))-1)/(t+1))-function(e){return((e=Math.exp(e))-1/e)/2}(v));return[i+l*c,o+l*f,a*s/jm(Lm*n+v)]}}return n.duration=1e3*r,n};function Bm(e){return function(t,n){var r=e((t=ip(t)).h,(n=ip(n)).h),i=pp(t.s,n.s),o=pp(t.l,n.l),a=pp(t.opacity,n.opacity);return function(e){return t.h=r(e),t.s=i(e),t.l=o(e),t.opacity=a(e),t+""}}}var zm=Bm(dp),Hm=Bm(pp),Um=Math.PI/180,Vm=180/Math.PI;function Gm(e){if(e instanceof qm)return new qm(e.l,e.a,e.b,e.opacity);if(e instanceof Jm)return ev(e);e instanceof Qh||(e=Kh(e));var t,n,r=Km(e.r),i=Km(e.g),o=Km(e.b),a=Ym((.2225045*r+.7168786*i+.0606169*o)/1);return r===i&&i===o?t=n=a:(t=Ym((.4360747*r+.3850649*i+.1430804*o)/.96422),n=Ym((.0139322*r+.0971045*i+.7141733*o)/.82521)),new qm(116*a-16,500*(t-a),200*(a-n),e.opacity)}function Wm(e,t,n,r){return 1===arguments.length?Gm(e):new qm(e,t,n,null==r?1:r)}function qm(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function Ym(e){return e>6/29*(6/29)*(6/29)?Math.pow(e,1/3):e/(6/29*3*(6/29))+4/29}function Xm(e){return e>6/29?e*e*e:6/29*3*(6/29)*(e-4/29)}function $m(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Km(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Zm(e){if(e instanceof Jm)return new Jm(e.h,e.c,e.l,e.opacity);if(e instanceof qm||(e=Gm(e)),0===e.a&&0===e.b)return new Jm(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Vm;return new Jm(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function Qm(e,t,n,r){return 1===arguments.length?Zm(e):new Jm(e,t,n,null==r?1:r)}function Jm(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function ev(e){if(isNaN(e.h))return new qm(e.l,0,0,e.opacity);var t=e.h*Um;return new qm(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}function tv(e,t){var n=pp((e=Wm(e)).l,(t=Wm(t)).l),r=pp(e.a,t.a),i=pp(e.b,t.b),o=pp(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=i(t),e.opacity=o(t),e+""}}function nv(e){return function(t,n){var r=e((t=Qm(t)).h,(n=Qm(n)).h),i=pp(t.c,n.c),o=pp(t.l,n.l),a=pp(t.opacity,n.opacity);return function(e){return t.h=r(e),t.c=i(e),t.l=o(e),t.opacity=a(e),t+""}}}Ph(qm,Wm,Ih(Dh,{brighter:function(e){return new qm(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new qm(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new Qh($m(3.1338561*(t=.96422*Xm(t))-1.6168667*(e=1*Xm(e))-.4906146*(n=.82521*Xm(n))),$m(-.9787684*t+1.9161415*e+.033454*n),$m(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),Ph(Jm,Qm,Ih(Dh,{brighter:function(e){return new Jm(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new Jm(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return ev(this).rgb()}}));var rv=nv(dp),iv=nv(pp),ov=1.97294,av=-.90649*ov,sv=1.78277*ov,lv=-.6557636667999999;function uv(e){if(e instanceof fv)return new fv(e.h,e.s,e.l,e.opacity);e instanceof Qh||(e=Kh(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(lv*r+av*t-sv*n)/(lv+av-sv),o=r-i,a=(ov*(n-i)- -.29227*o)/-.90649,s=Math.sqrt(a*a+o*o)/(ov*i*(1-i)),l=s?Math.atan2(a,o)*Vm-120:NaN;return new fv(l<0?l+360:l,s,i,e.opacity)}function cv(e,t,n,r){return 1===arguments.length?uv(e):new fv(e,t,n,null==r?1:r)}function fv(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function dv(e){return function t(n){function r(t,r){var i=e((t=cv(t)).h,(r=cv(r)).h),o=pp(t.s,r.s),a=pp(t.l,r.l),s=pp(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=o(e),t.l=a(Math.pow(e,n)),t.opacity=s(e),t+""}}return n=+n,r.gamma=t,r}(1)}Ph(fv,cv,Ih(Dh,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new fv(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new fv(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*Um,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new Qh(255*(t+n*(-.14861*r+1.78277*i)),255*(t+n*(-.29227*r+-.90649*i)),255*(t+n*(ov*r)),this.opacity)}}));var hv=dv(dp),pv=dv(pp),mv=function(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n},vv=["clamp","base","constant","exponent"];function gv(e,t){var n=t[0],r=Object(ne.U)(t)-n;return function(t){return e(n+t*r)}}function yv(e,t,n){return cm(xv(t||"rgb",n),e)}function bv(e,t){for(var n=new Array(t),r=t+1,i=0;i<t;)n[i]=e(++i/r);return n}function _v(e,t,n){var r,i,o,a=n-t;return a&&Number.isFinite(a)?(r=(i=e.type).indexOf("-"),i=r<0?i:i.slice(r+1),o=mm(i)().domain([t,n]).range([0,1]),vv.forEach((function(t){return e[t]?o[t](e[t]()):0})),o):Object(ne.l)(.5)}function xv(e,t){var n=a[function(e){return"interpolate"+e.toLowerCase().split("-").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("")}(e)];return null!=t&&n&&n.gamma?n.gamma(t):n}function wv(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}function Ev(e,t){for(var n in e)Sv(n,t(e[n]))}var Tv={};function Sv(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(Tv[e]=t,this):Tv[e]}Ev({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},wv),Ev({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},(function(e){return yv(wv(e))}));var kv,Ov,Cv=function(e){return Object(ne.A)(e)?e.map((function(e){return String(e)})):String(e)};function Av(e,t,n){var r;return Object(ne.E)(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),null!=n&&(t=Math.min(t,Math.floor(Object(ne.X)(e.domain())/n||1)))),Object(ne.F)(t)&&(r=t.step,t=t.interval),Object(ne.H)(t)&&(t=e.type===Jd?Ss(t):e.type==eh?ks(t):Object(ne.n)("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function Mv(e,t,n){var r=e.range(),i=r[0],o=Object(ne.U)(r);if(i>o&&(r=o,o=i,i=r),i=Math.floor(i),o=Math.ceil(o),t=t.filter((function(t){return t=e(t),i<=t&&t<=o})),n>0&&t.length>1){for(var a=[t[0],Object(ne.U)(t)];t.length>n&&t.length>=3;)t=t.filter((function(e,t){return!(t%2)}));t.length<3&&(t=a)}return t}function Pv(e,t){return e.bins?Mv(e,e.bins):e.ticks?e.ticks(t):e.domain()}function Iv(e,t,n,r,i){var o,a,s=e.type,l=s===Jd||r===Jd?Rs(n):s===eh||r===eh?Ls(n):e.tickFormat?e.tickFormat(t,n):n?vh(n):Cv;if(xm(s)){var u=function(e){var t=dh(e||",");if(null==t.precision){switch(t.precision=12,t.type){case"%":t.precision-=2;break;case"e":t.precision-=1}return function(e,t){return function(n){var r,i,o=e(n),a=o.indexOf(t);if(a<0)return o;for(i=(r=function(e,t){var n,r=e.lastIndexOf("e");if(r>0)return r;for(r=e.length;--r>t;)if((n=e.charCodeAt(r))>=48&&n<=57)return r+1}(o,a))<o.length?o.slice(r):"";--r>a;)if("0"!==o[r]){++r;break}return o.slice(0,r)+i}}(vh(t),vh(".1f")(1)[1])}return vh(t)}(n);l=i||e.bins?u:(o=l,a=u,function(e){return o(e)?a(e):""})}return l}var Dv=($a(kv={},"quantile","quantiles"),$a(kv,"quantize","thresholds"),$a(kv,"threshold","domain"),kv),Nv=($a(Ov={},"quantile","quantiles"),$a(Ov,"quantize","domain"),Ov);function Rv(e,t){return e.bins?function(e){var t=e.slice(0,-1);return t.max=Object(ne.U)(e),t}(e.bins):e.type===Qd?function(e,t){var n=Pv(e,t),r=e.base(),i=Math.log(r),o=Math.max(1,r*t/n.length);return n.filter((function(e){var t=e/Math.pow(r,Math.round(Math.log(e)/i));return t*r<r-.5&&(t*=r),t<=o}))}(e,t):Dv[e.type]?function(e){var t=[-1/0].concat(e);return t.max=1/0,t}(e[Dv[e.type]]()):Pv(e,t)}function Lv(e,t,n,r,i,o){var a=Nv[e.type]&&i!==Jd&&i!==eh?function(e,t){var n,r=e[Nv[e.type]](),i=r.length,o=i>1?r[1]-r[0]:r[0];for(n=1;n<i;++n)o=Math.min(o,r[n]-r[n-1]);return Oh(0,o,30,t)}(e,r):Iv(e,t,r,i,o);return"symbol"===n&&function(e){return Dv[e.type]||e.bins}(e)?function(e){return function(t,n,r){var i=jv(r[n+1],jv(r.max,1/0)),o=Fv(t,e),a=Fv(i,e);return o&&a?o+" \u2013 "+a:a?"< "+a:"\u2265 "+o}}(a):"discrete"===n?function(e){return function(t,n){return n?e(t):null}}(a):function(e){return function(t){return e(t)}}(a)}function jv(e,t){return null!=e?e:t}function Fv(e,t){return Number.isFinite(e)?t(e):null}function Bv(e,t,n){var r=n||e.type;return Object(ne.H)(t)&&gm(r,"temporal")&&(t=t.replace(/%a/g,"%A").replace(/%b/g,"%B")),t||r!==Jd?t||r!==eh?Lv(e,5,null,t,n,!0):Ls("%A, %d %B %Y, %X UTC"):Rs("%A, %d %B %Y, %X")}function zv(e,t){t=t||{};var n=Math.max(3,t.maxlen||7),r=Bv(e,t.format,t.formatType);if(_m(e.type)){var i=Rv(e).slice(1).map(r),o=i.length;return"".concat(o," boundar").concat(1===o?"y":"ies",": ").concat(i.join(", "))}if(bm(e.type)){var a=e.domain(),s=a.length,l=s>n?a.slice(0,n-2).map(r).join(", ")+", ending with "+a.slice(-1).map(r):a.map(r).join(", ");return"".concat(s," value").concat(1===s?"":"s",": ").concat(l)}var u=e.domain();return"values from ".concat(r(u[0])," to ").concat(r(Object(ne.U)(u)))}var Hv=function(e,t,n){var r;return $a(r={},"role",e),$a(r,"aria-roledescription",t),$a(r,"aria-label",n||void 0),r},Uv=Object(ne.db)(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),Vv={axis:{desc:"axis",caption:function(e){var t=e.datum,n=t.orient,r=t.title?Xv(e):null,i=e.context.scales[t.scale].value,o=i.type;return"".concat("left"===n||"right"===n?"Y":"X","-axis")+(r?" titled '".concat(r,"'"):"")+" for a ".concat(bm(o)?"discrete":o," scale")+" with ".concat(zv(i,e))}},legend:{desc:"legend",caption:function(e){var t=e.datum,n=t.title?Xv(e):null,r="".concat(t.type||""," legend").trim(),i=t.scales,o=Object.keys(i),a=e.context.scales[i[o[0]]].value;return s=r,(s.length?s[0].toUpperCase()+s.slice(1):s)+(n?" titled '".concat(n,"'"):"")+" for ".concat(function(e){return(e=e.map((function(e){return e+("fill"===e||"stroke"===e?" color":"")}))).length<2?e[0]:e.slice(0,-1).join(", ")+" and "+Object(ne.U)(e)}(o)," with ").concat(zv(a,e));var s}},"title-text":{desc:"title",caption:function(e){return"Title text '".concat(Yv(e),"'")}},"title-subtitle":{desc:"subtitle",caption:function(e){return"Subtitle text '".concat(Yv(e),"'")}}},Gv={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"};function Wv(e,t){var n=!1===t.aria;if(e("aria-hidden",n||void 0),n||null==t.description)for(var r in Gv)e(Gv[r],void 0);else{var i=t.mark.marktype;e("aria-label",t.description),e("role",t.ariaRole||("group"===i?"graphics-object":"graphics-symbol")),e("aria-roledescription",t.ariaRoleDescription||"".concat(i," mark"))}}function qv(e){return!1===e.aria?$a({},"aria-hidden",!0):Uv[e.role]?null:Vv[e.role]?function(e,t){try{var n=e.items[0],r=t.caption||function(){return""};return Hv(t.role||"graphics-symbol",t.desc,n.description||r(n))}catch(i){return null}}(e,Vv[e.role]):function(e){var t=e.marktype,n="group"===t||"text"===t||e.items.some((function(e){return null!=e.description&&!1!==e.aria}));return Hv(n?"graphics-object":"graphics-symbol","".concat(t," mark container"),e.description)}(e)}function Yv(e){return Object(ne.i)(e.text).join(" ")}function Xv(e){try{return Object(ne.i)(Object(ne.U)(e.items).items[0].text).join(" ")}catch(t){return null}}function $v(e,t,n){var r,i,o="<"+e;if(t)for(r in t)null!=(i=t[r])&&(o+=" "+r+'="'+(i=(i+"").replace(/"/g,"&quot;"))+'"');return n&&(o+=" "+n),o+">"}function Kv(e){return"</"+e+">"}var Zv={version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Qv={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity",blend:"mix-blend-mode"},Jv=Zv.xmlns;function eg(e){Ld.call(this,e),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}var tg=Object(ne.y)(eg,Ld),ng=Ld.prototype;function rg(e,t,n){var r,i,o;if("radial"===t.gradient){var a=Ad(e,n++,"pattern",Jv);a.setAttribute("id","p_"+t.id),a.setAttribute("viewBox","0,0,1,1"),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("preserveAspectRatio","xMidYMid slice"),(a=Ad(a,0,"rect",Jv)).setAttribute("width","1"),a.setAttribute("height","1"),a.setAttribute("fill","url("+hg()+"#"+t.id+")"),(e=Ad(e,n++,"radialGradient",Jv)).setAttribute("id",t.id),e.setAttribute("fx",t.x1),e.setAttribute("fy",t.y1),e.setAttribute("fr",t.r1),e.setAttribute("cx",t.x2),e.setAttribute("cy",t.y2),e.setAttribute("r",t.r2)}else(e=Ad(e,n++,"linearGradient",Jv)).setAttribute("id",t.id),e.setAttribute("x1",t.x1),e.setAttribute("x2",t.x2),e.setAttribute("y1",t.y1),e.setAttribute("y2",t.y2);for(r=0,i=t.stops.length;r<i;++r)(o=Ad(e,r,"stop",Jv)).setAttribute("offset",t.stops[r].offset),o.setAttribute("stop-color",t.stops[r].color);return Md(e,r),n}function ig(e,t,n){var r;return(e=Ad(e,n,"clipPath",Jv)).setAttribute("id",t.id),t.path?(r=Ad(e,0,"path",Jv)).setAttribute("d",t.path):((r=Ad(e,0,"rect",Jv)).setAttribute("x",0),r.setAttribute("y",0),r.setAttribute("width",t.width),r.setAttribute("height",t.height)),Md(e,1),n+1}function og(e,t){for(;e&&e.dirty!==t;e=e.mark.group){if(e.dirty=t,!e.mark||e.mark.dirty===t)return;e.mark.dirty=t}}function ag(e,t,n,r,i){var o,a=e._svg;if(!a&&(a=Od(o=t.ownerDocument,r,Jv),e._svg=a,e.mark&&(a.__data__=e,a.__values__={fill:"default"},"g"===r))){var s=Od(o,"path",Jv);a.appendChild(s),s.__data__=e;var l=Od(o,"g",Jv);a.appendChild(l),l.__data__=e;var u=Od(o,"path",Jv);a.appendChild(u),u.__data__=e,u.__values__={fill:"default"}}return(a.ownerSVGElement!==i||function(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}(a,n))&&t.insertBefore(a,n?n.nextSibling:t.firstChild),a}tg.initialize=function(e,t,n,r){return e&&(this._svg=Ad(e,0,"svg",Jv),this._svg.setAttribute("class","marks"),Md(e,1),this._root=Ad(this._svg,0,"g",Jv),Md(this._svg,1)),this._defs={gradient:{},clipping:{}},this.background(this._bgcolor),ng.initialize.call(this,e,t,n,r)},tg.background=function(e){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",e),ng.background.apply(this,arguments)},tg.resize=function(e,t,n,r){return ng.resize.call(this,e,t,n,r),this._svg&&(this._svg.setAttribute("width",this._width*this._scale),this._svg.setAttribute("height",this._height*this._scale),this._svg.setAttribute("viewBox","0 0 "+this._width+" "+this._height),this._root.setAttribute("transform","translate("+this._origin+")")),this._dirty=[],this},tg.canvas=function(){return this._svg},tg.svg=function(){if(!this._svg)return null;var e={class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+" "+this._height};for(var t in Zv)e[t]=Zv[t];var n=this._bgcolor?$v("rect",{width:this._width,height:this._height,style:"fill: "+this._bgcolor+";"})+Kv("rect"):"";return $v("svg",e)+n+this._svg.innerHTML+Kv("svg")},tg._render=function(e){return this._dirtyCheck()&&(this._dirtyAll&&this._resetDefs(),this.draw(this._root,e),Md(this._root,1)),this.updateDefs(),this._dirty=[],++this._dirtyID,this},tg.updateDefs=function(){var e,t=this._svg,n=this._defs,r=n.el,i=0;for(e in n.gradient)r||(n.el=r=Ad(t,0,"defs",Jv)),i=rg(r,n.gradient[e],i);for(e in n.clipping)r||(n.el=r=Ad(t,0,"defs",Jv)),i=ig(r,n.clipping[e],i);r&&(0===i?(t.removeChild(r),n.el=null):Md(r,i))},tg._resetDefs=function(){var e=this._defs;e.gradient={},e.clipping={}},tg.dirty=function(e){e.dirty!==this._dirtyID&&(e.dirty=this._dirtyID,this._dirty.push(e))},tg.isDirty=function(e){return this._dirtyAll||!e._svg||e.dirty===this._dirtyID},tg._dirtyCheck=function(){this._dirtyAll=!0;var e=this._dirty;if(!e.length||!this._dirtyID)return!0;var t,n,r,i,o,a,s,l=++this._dirtyID;for(o=0,a=e.length;o<a;++o)(n=(t=e[o]).mark).marktype!==r&&(r=n.marktype,i=gd[r]),n.zdirty&&n.dirty!==l&&(this._dirtyAll=!1,og(t,l),n.items.forEach((function(e){e.dirty=l}))),n.zdirty||(t.exit?(i.nested&&n.items.length?(s=n.items[0])._svg&&this._update(i,s._svg,s):t._svg&&(s=t._svg.parentNode)&&s.removeChild(t._svg),t._svg=null):(t=i.nested?n.items[0]:t)._update!==l&&(t._svg&&t._svg.ownerSVGElement?this._update(i,t._svg,t):(this._dirtyAll=!1,og(t,l)),t._update=l));return!this._dirtyAll},tg.draw=function(e,t,n){if(!this.isDirty(t))return t._svg;var r,i=this,o=this._svg,a=gd[t.marktype],s=!1===t.interactive?"none":null,l="g"===a.tag,u=null,c=0;(r=ag(t,e,n,"g",o)).setAttribute("class",Pd(t));var f=qv(t);for(var d in f)dg(r,d,f[d]);function h(e){var t=i.isDirty(e),n=ag(e,r,u,a.tag,o);t&&(i._update(a,n,e),l&&function(e,t,n){t=t.lastChild.previousSibling;var r,i=0;df(n,(function(n){r=e.draw(t,n,r),++i})),Md(t,1+i)}(i,n,e)),u=n,++c}return l||r.style.setProperty("pointer-events",s),dg(r,"clip-path",t.clip?Mf(i,t,t.group):null),a.nested?t.items.length&&h(t.items[0]):df(t,h),Md(r,c),r};var sg=null,lg=null,ug={group:function(e,t,n){var r,i;sg=r=t.childNodes[2],lg=r.__values__,e.foreground(fg,n,this),lg=t.__values__,sg=t.childNodes[1],e.content(fg,n,this),sg=i=t.childNodes[0],e.background(fg,n,this);var o=!1===n.mark.interactive?"none":null;if(o!==lg.events&&(r.style.setProperty("pointer-events",o),i.style.setProperty("pointer-events",o),lg.events=o),n.strokeForeground&&n.stroke){var a=n.fill;r.style.removeProperty("display"),this.style(i,n),i.style.removeProperty("stroke"),a&&(n.fill=null),lg=r.__values__,this.style(r,n),a&&(n.fill=a),sg=null}else r.style.setProperty("display","none"),r.style.setProperty("fill","none")},image:function(e,t,n){!1===n.smooth?(cg(t,"image-rendering","optimizeSpeed"),cg(t,"image-rendering","pixelated")):cg(t,"image-rendering",null)},text:function(e,t,n){var r,i,o,a,s=sd(n);Object(ne.A)(s)?(r=(i=s.map((function(e){return ud(n,e)}))).join("\n"))!==lg.text&&(Md(t,0),o=t.ownerDocument,a=ad(n),i.forEach((function(e,r){var i=Od(o,"tspan",Jv);i.__data__=n,i.textContent=e,r&&(i.setAttribute("x",0),i.setAttribute("dy",a)),t.appendChild(i)})),lg.text=r):(i=ud(n,s))!==lg.text&&(t.textContent=i,lg.text=i),cg(t,"font-family",cd(n)),cg(t,"font-size",od(n)+"px"),cg(t,"font-style",n.fontStyle),cg(t,"font-variant",n.fontVariant),cg(t,"font-weight",n.fontWeight)}};function cg(e,t,n){n!==lg[t]&&(null==n?e.style.removeProperty(t):e.style.setProperty(t,n+""),lg[t]=n)}function fg(e,t,n){t!==lg[e]&&(n?function(e,t,n,r){null!=n?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}(sg,e,t,n):dg(sg,e,t),lg[e]=t)}function dg(e,t,n){null!=n?e.setAttribute(t,n):e.removeAttribute(t)}function hg(){var e;return"undefined"===typeof window?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}function pg(e){Ld.call(this,e),this._text={head:"",bg:"",root:"",foot:"",defs:"",body:""},this._defs={gradient:{},clipping:{}}}tg._update=function(e,t,n){sg=t,lg=t.__values__,Wv(fg,n),e.attr(fg,n,this);var r=ug[e.type];r&&r.call(this,e,t,n),sg&&this.style(sg,n)},tg.style=function(e,t){if(null!=t)for(var n in Qv){var r=t[n];if("font"===n&&(r=cd(t)),r!==lg[n]){var i=Qv[n];null==r?"fill"===i?e.style.setProperty(i,"none"):e.style.removeProperty(i):(wl(r)&&(r=El(r,this._defs.gradient,hg())),e.style.setProperty(i,r+"")),lg[n]=r}}};var mg,vg=Object(ne.y)(pg,Ld),gg=Ld.prototype;function yg(e,t,n,r){mg[r||e]=t}function bg(e,t,n,r){if(null==e)return"";var i="";for(var o in"bgrect"===n&&!1===t.interactive&&(i+="pointer-events: none; "),"bgfore"===n&&(!1===t.interactive&&(i+="pointer-events: none; "),i+="display: none; "),"image"===n&&!1===e.smooth&&(i+="image-rendering: optimizeSpeed; image-rendering: pixelated; "),"text"===n&&(i+="font-family: "+cd(e)+"; ",i+="font-size: "+od(e)+"px; ",e.fontStyle&&(i+="font-style: "+e.fontStyle+"; "),e.fontVariant&&(i+="font-variant: "+e.fontVariant+"; "),e.fontWeight&&(i+="font-weight: "+e.fontWeight+"; ")),Qv){var a=e[o],s=Qv[o];null==a?"fill"===s&&(i+="fill: none; "):"transparent"!==a||"fill"!==s&&"stroke"!==s?(wl(a)&&(a=El(a,r.gradient,"")),i+=s+": "+a+"; "):i+=s+": none; "}return i?'style="'+i.trim()+'"':null}function _g(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}vg.resize=function(e,t,n,r){gg.resize.call(this,e,t,n,r);var i=this._origin,o=this._text,a={class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+" "+this._height};for(var s in Zv)a[s]=Zv[s];o.head=$v("svg",a);var l=this._bgcolor;return"transparent"!==l&&"none"!==l||(l=null),o.bg=l?$v("rect",{width:this._width,height:this._height,style:"fill: "+l+";"})+Kv("rect"):"",o.root=$v("g",{transform:"translate("+i+")"}),o.foot=Kv("g")+Kv("svg"),this},vg.background=function(){var e=gg.background.apply(this,arguments);return arguments.length&&this._text.head&&this.resize(this._width,this._height,this._origin,this._scale),e},vg.svg=function(){var e=this._text;return e.head+e.bg+e.defs+e.root+e.body+e.foot},vg._render=function(e){return this._text.body=this.mark(e),this._text.defs=this.buildDefs(),this},vg.buildDefs=function(){var e,t,n,r,i,o=this._defs,a="";for(t in o.gradient){for(i=(n=o.gradient[t]).stops,"radial"===n.gradient?(a+=$v(r="pattern",{id:"p_"+t,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),a+=$v("rect",{width:"1",height:"1",fill:"url(#"+t+")"})+Kv("rect"),a+=Kv(r),a+=$v(r="radialGradient",{id:t,fx:n.x1,fy:n.y1,fr:n.r1,cx:n.x2,cy:n.y2,r:n.r2})):a+=$v(r="linearGradient",{id:t,x1:n.x1,x2:n.x2,y1:n.y1,y2:n.y2}),e=0;e<i.length;++e)a+=$v("stop",{offset:i[e].offset,"stop-color":i[e].color})+Kv("stop");a+=Kv(r)}for(t in o.clipping)n=o.clipping[t],a+=$v("clipPath",{id:t}),n.path?a+=$v("path",{d:n.path})+Kv("path"):a+=$v("rect",{x:0,y:0,width:n.width,height:n.height})+Kv("rect"),a+=Kv("clipPath");return a.length>0?$v("defs")+a+Kv("defs"):""},vg.attributes=function(e,t){var n=this;return mg={},Array.isArray(e)?e.forEach((function(e){return e(yg,t,n)})):e(yg,t,this),mg},vg.href=function(e){var t,n=this,r=e.href;if(r){if(t=n._hrefs&&n._hrefs[r])return t;n.sanitizeURL(r).then((function(e){e["xlink:href"]=e.href,e.href=null,(n._hrefs||(n._hrefs={}))[r]=e}))}return null},vg.mark=function(e){var t,n=this,r=gd[e.marktype],i=r.tag,o=this._defs,a="";function s(s){var l=n.href(s);if(l&&(a+=$v("a",l)),t="g"!==i?bg(s,e,i,o):null,a+=$v(i,n.attributes([Wv,r.attr],s),t),"text"===i){var u=sd(s);if(Object(ne.A)(u))for(var c={x:0,dy:ad(s)},f=0;f<u.length;++f)a+=$v("tspan",f?c:null)+_g(ud(s,u[f]))+Kv("tspan");else a+=_g(ud(s,u))}else if("g"===i){var d=s.strokeForeground,h=s.fill,p=s.stroke;d&&p&&(s.stroke=null),a+=$v("path",n.attributes(r.background,s),bg(s,e,"bgrect",o))+Kv("path"),a+=$v("g",n.attributes(r.content,s))+n.markGroup(s)+Kv("g"),d&&p?(h&&(s.fill=null),s.stroke=p,a+=$v("path",n.attributes(r.foreground,s),bg(s,e,"bgrect",o))+Kv("path"),h&&(s.fill=h)):a+=$v("path",n.attributes(r.foreground,s),bg({},e,"bgfore",o))+Kv("path")}a+=Kv(i),l&&(a+=Kv("a"))}return"g"!==i&&!1===e.interactive&&(t='style="pointer-events: none;"'),a+=$v("g",Object.assign({class:Pd(e),"clip-path":e.clip?Mf(n,e,e.group):null},qv(e)),t),r.nested?e.items&&e.items.length&&s(e.items[0]):df(e,s),a+Kv("g")},vg.markGroup=function(e){var t=this,n="";return df(e,(function(e){n+=t.mark(e)})),n};var xg={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"},wg={};function Eg(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(wg[e]=t,this):wg[e]}function Tg(e,t,n){var r=[],i=(new bl).union(t),o=e.marktype;return o?Sg(e,i,n,r):"group"===o?kg(e,i,n,r):Object(ne.n)("Intersect scene must be mark node or group item.")}function Sg(e,t,n,r){if(function(e,t,n){return e.bounds&&t.intersects(e.bounds)&&("group"===e.marktype||!1!==e.interactive&&(!n||n(e)))}(e,t,n)){var i=e.items,o=e.marktype,a=i.length,s=0;if("group"===o)for(;s<a;++s)kg(i[s],t,n,r);else for(var l=gd[o].isect;s<a;++s){var u=i[s];Og(u,t,l)&&r.push(u)}}return r}function kg(e,t,n,r){n&&n(e.mark)&&Og(e,t,gd.group.isect)&&r.push(e);var i=e.items,o=i&&i.length;if(o){var a=e.x||0,s=e.y||0;t.translate(-a,-s);for(var l=0;l<o;++l)Sg(i[l],t,n,r);t.translate(a,s)}return r}function Og(e,t,n){var r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}wg.canvas=wg.png={renderer:Vd,headless:Vd,handler:Fd},wg.svg={renderer:eg,headless:pg,handler:Xd},wg.none={};var Cg=new bl,Ag=function(e){var t=e.clip;if(Object(ne.D)(t))t(zc(Cg.clear()));else{if(!t)return;Cg.set(0,0,e.group.width,e.group.height)}e.bounds.intersect(Cg)};function Mg(e,t,n){return e===t||("path"===n?Pg(e,t):e instanceof Date&&t instanceof Date?+e===+t:Object(ne.E)(e)&&Object(ne.E)(t)?Math.abs(e-t)<=1e-9:e&&t&&(Object(ne.F)(e)||Object(ne.F)(t))?null!=e&&null!=t&&function(e,t){var n,r,i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(i.sort(),o.sort(),r=i.length-1;r>=0;r--)if(i[r]!=o[r])return!1;for(r=i.length-1;r>=0;r--)if(n=i[r],!Mg(e[n],t[n],n))return!1;return typeof e===typeof t}(e,t):e==t)}function Pg(e,t){return Mg(Mu(e),Mu(t))}function Ig(e){Hr.call(this,null,e)}function Dg(e,t,n){return t(e.bounds.clear(),e,n)}Object(ne.y)(Ig,Hr).transform=function(e,t){var n,r=t.dataflow,i=e.mark,o=i.marktype,a=gd[o],s=a.bound,l=i.bounds;if(a.nested)i.items.length&&r.dirty(i.items[0]),l=Dg(i,s),i.items.forEach((function(e){e.bounds.clear().union(l)}));else if("group"===o||e.modified())switch(t.visit(t.MOD,(function(e){return r.dirty(e)})),l.clear(),i.items.forEach((function(e){return l.union(Dg(e,s))})),i.role){case"axis":case"legend":case"title":t.reflow()}else n=t.changed(t.REM),t.visit(t.ADD,(function(e){l.union(Dg(e,s))})),t.visit(t.MOD,(function(e){n=n||l.alignsWith(e.bounds),r.dirty(e),l.union(Dg(e,s))})),n&&(l.clear(),i.items.forEach((function(e){return l.union(e.bounds)})));return Ag(i),t.modifies("bounds")};function Ng(e){Hr.call(this,0,e)}function Rg(e){Hr.call(this,null,e)}function Lg(e){Hr.call(this,null,e)}Ng.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]},Object(ne.y)(Ng,Hr).transform=function(e,t){var n=function(e){var t=e._signals[":vega_identifier:"];t||(e._signals[":vega_identifier:"]=t=e.add(0));return t}(t.dataflow),r=n.value,i=e.as;return t.visit(t.ADD,(function(e){e[i]||(e[i]=++r)})),n.set(this.value=r),t},Object(ne.y)(Rg,Hr).transform=function(e,t){var n=this.value;n||((n=t.dataflow.scenegraph().mark(e.markdef,function(e){var t=e.groups,n=e.parent;return t&&1===t.size?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}(e),e.index)).group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);var r="group"===n.marktype?Ol:kl;return t.visit(t.ADD,(function(e){return r.call(e,n)})),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t};var jg=Object(ne.y)(Lg,Hr),Fg={parity:function(e){return e.filter((function(e,t){return t%2?e.opacity=0:1}))},greedy:function(e,t){var n;return e.filter((function(e,r){return r&&Bg(n.bounds,e.bounds,t)?e.opacity=0:(n=e,1)}))}};function Bg(e,t,n){return n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2)}function zg(e,t){for(var n,r=1,i=e.length,o=e[0].bounds;r<i;o=n,++r)if(Bg(o,n=e[r].bounds,t))return!0}function Hg(e){var t=e.bounds;return t.width()>1&&t.height()>1}function Ug(e){return e.forEach((function(e){return e.opacity=1})),e}function Vg(e,t){return e.reflow(t.modified()).modifies("opacity")}function Gg(e){Hr.call(this,null,e)}jg.transform=function(e,t){var n,r,i,o=Fg[e.method]||Fg.parity,a=t.materialize(t.SOURCE).source,s=e.separation||0;if(a&&a.length){if(!e.method)return e.modified("method")&&(Ug(a),t=Vg(t,e)),t;if((a=a.filter(Hg)).length){if(e.sort&&(a=a.slice().sort(e.sort)),n=Ug(a),t=Vg(t,e),n.length>=3&&zg(n,s)){do{n=o(n,s)}while(n.length>=3&&zg(n,s));n.length<3&&!Object(ne.U)(a).opacity&&(n.length>1&&(Object(ne.U)(n).opacity=0),Object(ne.U)(a).opacity=1)}return e.boundScale&&e.boundTolerance>=0&&(r=function(e,t,n){var r=e.range(),i=new bl;return t===pl||"bottom"===t?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),function(e){return i.encloses(e.bounds)}}(e.boundScale,e.boundOrient,+e.boundTolerance),a.forEach((function(e){r(e)||(e.opacity=0)}))),i=n[0].mark.bounds.clear(),a.forEach((function(e){e.opacity&&i.union(e.bounds)})),t}}},Object(ne.y)(Gg,Hr).transform=function(e,t){var n=t.dataflow;if(t.visit(t.ALL,(function(e){return n.dirty(e)})),t.fields&&t.fields.zindex){var r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}};var Wg=new bl;function qg(e,t,n){return e[t]===n?0:(e[t]=n,1)}function Yg(e){var t=e.items[0].datum.orient;return t===ml||t===vl}function Xg(e,t,n,r){var i,o,a=t.items[0],s=a.datum,l=s.orient,u=null!=s.translate?s.translate:.5,c=function(e){var t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}(s),f=a.range,d=a.offset,h=a.position,p=a.minExtent,m=a.maxExtent,v=s.title&&a.items[c[2]].items[0],g=a.titlePadding,y=a.bounds,b=v&&ld(v),_=0,x=0;switch(Wg.clear().union(y),y.clear(),(i=c[0])>-1&&y.union(a.items[i].bounds),(i=c[1])>-1&&y.union(a.items[i].bounds),l){case pl:_=h||0,x=-d,o=Math.max(p,Math.min(m,-y.y1)),y.add(0,-o).add(f,0),v&&$g(e,v,o,g,b,0,-1,y);break;case ml:_=-d,x=h||0,o=Math.max(p,Math.min(m,-y.x1)),y.add(-o,0).add(0,f),v&&$g(e,v,o,g,b,1,-1,y);break;case vl:_=n+d,x=h||0,o=Math.max(p,Math.min(m,y.x2)),y.add(0,0).add(o,f),v&&$g(e,v,o,g,b,1,1,y);break;case"bottom":_=h||0,x=r+d,o=Math.max(p,Math.min(m,y.y2)),y.add(0,0).add(f,o),v&&$g(e,v,o,g,0,0,1,y);break;default:_=a.x,x=a.y}return Rc(y.translate(_,x),a),qg(a,"x",_+u)|qg(a,"y",x+u)&&(a.bounds=Wg,e.dirty(a),a.bounds=y,e.dirty(a)),a.mark.bounds.clear().union(y)}function $g(e,t,n,r,i,o,a,s){var l=t.bounds;if(t.auto){var u=a*(n+i+r),c=0,f=0;e.dirty(t),o?c=(t.x||0)-(t.x=u):f=(t.y||0)-(t.y=u),t.mark.bounds.clear().union(l.translate(-c,-f)),e.dirty(t)}s.union(l)}function Kg(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function Zg(e){return function(e){if(Array.isArray(e))return ei(e)}(e)||Kg(e)||ti(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Qg=function(e,t){return Math.floor(Math.min(e,t))},Jg=function(e,t){return Math.ceil(Math.max(e,t))};function ey(e){return(new bl).set(0,0,e.width||0,e.height||0)}function ty(e){var t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function ny(e,t,n){var r=Object(ne.F)(e)?e[t]:e;return null!=r?r:void 0!==n?n:0}function ry(e){return e<0?Math.ceil(-e):0}function iy(e,t,n){var r,i,o,a,s,l,u,c,f,d,h,p=!n.nodirty,m="flush"===n.bounds?ey:ty,v=Wg.set(0,0,0,0),g=ny(n.align,"column"),y=ny(n.align,yl),b=ny(n.padding,"column"),_=ny(n.padding,yl),x=n.columns||t.length,w=x<0?1:Math.ceil(t.length/x),E=t.length,T=Array(E),S=Array(x),k=0,O=Array(E),C=Array(w),A=0,M=Array(E),P=Array(E),I=Array(E);for(i=0;i<x;++i)S[i]=0;for(i=0;i<w;++i)C[i]=0;for(i=0;i<E;++i)l=t[i],s=I[i]=m(l),l.x=l.x||0,M[i]=0,l.y=l.y||0,P[i]=0,o=i%x,a=~~(i/x),k=Math.max(k,u=Math.ceil(s.x2)),A=Math.max(A,c=Math.ceil(s.y2)),S[o]=Math.max(S[o],u),C[a]=Math.max(C[a],c),T[i]=b+ry(s.x1),O[i]=_+ry(s.y1),p&&e.dirty(t[i]);for(i=0;i<E;++i)i%x===0&&(T[i]=0),i<x&&(O[i]=0);if("each"===g)for(o=1;o<x;++o){for(h=0,i=o;i<E;i+=x)h<T[i]&&(h=T[i]);for(i=o;i<E;i+=x)T[i]=h+S[o-1]}else if("all"===g){for(h=0,i=0;i<E;++i)i%x&&h<T[i]&&(h=T[i]);for(i=0;i<E;++i)i%x&&(T[i]=h+k)}else for(g=!1,o=1;o<x;++o)for(i=o;i<E;i+=x)T[i]+=S[o-1];if("each"===y)for(a=1;a<w;++a){for(h=0,r=(i=a*x)+x;i<r;++i)h<O[i]&&(h=O[i]);for(i=a*x;i<r;++i)O[i]=h+C[a-1]}else if("all"===y){for(h=0,i=x;i<E;++i)h<O[i]&&(h=O[i]);for(i=x;i<E;++i)O[i]=h+A}else for(y=!1,a=1;a<w;++a)for(r=(i=a*x)+x;i<r;++i)O[i]+=C[a-1];for(f=0,i=0;i<E;++i)f=T[i]+(i%x?f:0),M[i]+=f-t[i].x;for(o=0;o<x;++o)for(d=0,i=o;i<E;i+=x)d+=O[i],P[i]+=d-t[i].y;if(g&&ny(n.center,"column")&&w>1)for(i=0;i<E;++i)(f=(s="all"===g?k:S[i%x])-I[i].x2-t[i].x-M[i])>0&&(M[i]+=f/2);if(y&&ny(n.center,yl)&&1!==x)for(i=0;i<E;++i)(d=(s="all"===y?A:C[~~(i/x)])-I[i].y2-t[i].y-P[i])>0&&(P[i]+=d/2);for(i=0;i<E;++i)v.union(I[i].translate(M[i],P[i]));switch(f=ny(n.anchor,"x"),d=ny(n.anchor,"y"),ny(n.anchor,"column")){case gl:f-=v.width();break;case"middle":f-=v.width()/2}switch(ny(n.anchor,yl)){case gl:d-=v.height();break;case"middle":d-=v.height()/2}for(f=Math.round(f),d=Math.round(d),v.clear(),i=0;i<E;++i)t[i].mark.bounds.clear();for(i=0;i<E;++i)(l=t[i]).x+=M[i]+=f,l.y+=P[i]+=d,v.union(l.mark.bounds.union(l.bounds.translate(M[i],P[i]))),p&&e.dirty(l);return v}function oy(e,t,n){var r,i,o,a,s,l,u,c=function(e){for(var t,n,r,i,o,a,s,l=e.items,u=l.length,c=0,f={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};c<u;++c)if(s=(a=l[c]).items,"group"===a.marktype)switch(a.role){case"axis":case"legend":case"title":break;case"row-header":(t=f.rowheaders).push.apply(t,Zg(s));break;case"row-footer":(n=f.rowfooters).push.apply(n,Zg(s));break;case"column-header":(r=f.colheaders).push.apply(r,Zg(s));break;case"column-footer":(i=f.colfooters).push.apply(i,Zg(s));break;case"row-title":f.rowtitle=s[0];break;case"column-title":f.coltitle=s[0];break;default:(o=f.marks).push.apply(o,Zg(s))}return f}(t),f=c.marks,d="flush"===n.bounds?ay:sy,h=n.offset,p=n.columns||f.length,m=p<0?1:Math.ceil(f.length/p),v=m*p,g=iy(e,f,n);c.rowheaders&&(l=ny(n.headerBand,yl,null),r=ly(e,c.rowheaders,f,p,m,-ny(h,"rowHeader"),Qg,0,d,"x1",0,p,1,l)),c.colheaders&&(l=ny(n.headerBand,"column",null),i=ly(e,c.colheaders,f,p,p,-ny(h,"columnHeader"),Qg,1,d,"y1",0,1,p,l)),c.rowfooters&&(l=ny(n.footerBand,yl,null),o=ly(e,c.rowfooters,f,p,m,ny(h,"rowFooter"),Jg,0,d,"x2",p-1,p,1,l)),c.colfooters&&(l=ny(n.footerBand,"column",null),a=ly(e,c.colfooters,f,p,p,ny(h,"columnFooter"),Jg,1,d,"y2",v-p,1,p,l)),c.rowtitle&&(s=ny(n.titleAnchor,yl),u=ny(h,"rowTitle"),u=s===gl?o+u:r-u,l=ny(n.titleBand,yl,.5),uy(e,c.rowtitle,u,0,g,l)),c.coltitle&&(s=ny(n.titleAnchor,"column"),u=ny(h,"columnTitle"),u=s===gl?a+u:i-u,l=ny(n.titleBand,"column",.5),uy(e,c.coltitle,u,1,g,l))}function ay(e,t){return"x1"===t?e.x||0:"y1"===t?e.y||0:"x2"===t?(e.x||0)+(e.width||0):"y2"===t?(e.y||0)+(e.height||0):void 0}function sy(e,t){return e.bounds[t]}function ly(e,t,n,r,i,o,a,s,l,u,c,f,d,h){var p,m,v,g,y,b,_,x,w,E=n.length,T=0,S=0;if(!E)return T;for(p=c;p<E;p+=f)n[p]&&(T=a(T,l(n[p],u)));if(!t.length)return T;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),T+=o,m=0,g=t.length;m<g;++m)e.dirty(t[m]),t[m].mark.bounds.clear();for(p=c,m=0,g=t.length;m<g;++m,p+=f){for(y=(b=t[m]).mark.bounds,v=p;v>=0&&null==(_=n[v]);v-=d);s?(x=null==h?_.x:Math.round(_.bounds.x1+h*_.bounds.width()),w=T):(x=T,w=null==h?_.y:Math.round(_.bounds.y1+h*_.bounds.height())),y.union(b.bounds.translate(x-(b.x||0),w-(b.y||0))),b.x=x,b.y=w,e.dirty(b),S=a(S,y[u])}return S}function uy(e,t,n,r,i,o){if(t){e.dirty(t);var a=n,s=n;r?a=Math.round(i.x1+o*i.width()):s=Math.round(i.y1+o*i.height()),t.bounds.translate(a-(t.x||0),s-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=a,t.y=s,e.dirty(t)}}function cy(e,t,n,r,i,o,a){var s=function(e,t){var n=e[t]||{};return function(t,r){return null!=n[t]?n[t]:null!=e[t]?e[t]:r}}(n,t),l=function(e,t){var n=-1/0;return e.forEach((function(e){null!=e.offset&&(n=Math.max(n,e.offset))})),n>-1/0?n:t}(e,s("offset",0)),u=s("anchor","start"),c=u===gl?1:"middle"===u?.5:0,f={align:"each",bounds:s("bounds","flush"),columns:"vertical"===s("direction")?1:e.length,padding:s("margin",8),center:s("center"),nodirty:!0};switch(t){case ml:f.anchor={x:Math.floor(r.x1)-l,column:gl,y:c*(a||r.height()+2*r.y1),row:u};break;case vl:f.anchor={x:Math.ceil(r.x2)+l,y:c*(a||r.height()+2*r.y1),row:u};break;case pl:f.anchor={y:Math.floor(i.y1)-l,row:gl,x:c*(o||i.width()+2*i.x1),column:u};break;case"bottom":f.anchor={y:Math.ceil(i.y2)+l,x:c*(o||i.width()+2*i.x1),column:u};break;case"top-left":f.anchor={x:l,y:l};break;case"top-right":f.anchor={x:o-l,y:l,column:gl};break;case"bottom-left":f.anchor={x:l,y:a-l,row:gl};break;case"bottom-right":f.anchor={x:o-l,y:a-l,column:gl,row:gl}}return f}function fy(e,t){var n,r,i=t.items[0],o=i.datum,a=i.orient,s=i.bounds,l=i.x,u=i.y;return i._bounds?i._bounds.clear().union(s):i._bounds=s.clone(),s.clear(),function(e,t,n){var r=t.padding,i=r-n.x,o=r-n.y;if(t.datum.title){var a=t.items[1].items[0],s=a.anchor,l=t.titlePadding||0,u=r-a.x,c=r-a.y;switch(a.orient){case ml:i+=Math.ceil(a.bounds.width())+l;break;case vl:case"bottom":break;default:o+=a.bounds.height()+l}switch((i||o)&&hy(e,n,i,o),a.orient){case ml:c+=dy(t,n,a,s,1,1);break;case vl:u+=dy(t,n,a,gl,0,0)+l,c+=dy(t,n,a,s,1,1);break;case"bottom":u+=dy(t,n,a,s,0,0),c+=dy(t,n,a,gl,-1,0,1)+l;break;default:u+=dy(t,n,a,s,0,0)}(u||c)&&hy(e,a,u,c),(u=Math.round(a.bounds.x1-r))<0&&(hy(e,n,-u,0),hy(e,a,-u,0))}else(i||o)&&hy(e,n,i,o)}(e,i,i.items[0].items[0]),s=function(e,t){return e.items.forEach((function(e){return t.union(e.bounds)})),t.x1=e.padding,t.y1=e.padding,t}(i,s),n=2*i.padding,r=2*i.padding,s.empty()||(n=Math.ceil(s.width()+n),r=Math.ceil(s.height()+r)),"symbol"===o.type&&function(e){var t=e.reduce((function(e,t){return e[t.column]=Math.max(t.bounds.x2-t.x,e[t.column]||0),e}),{});e.forEach((function(e){e.width=t[e.column],e.height=e.bounds.y2-e.y}))}(i.items[0].items[0].items[0].items),"none"!==a&&(i.x=l=0,i.y=u=0),i.width=n,i.height=r,Rc(s.set(l,u,l+n,u+r),i),i.mark.bounds.clear().union(s),i}function dy(e,t,n,r,i,o,a){var s="symbol"!==e.datum.type,l=n.datum.vgrad,u=(!s||!o&&l||a?t:t.items[0]).bounds[i?"y2":"x2"]-e.padding,c=l&&o?u:0,f=l&&o?0:u,d=i<=0?0:ld(n);return Math.round("start"===r?c:r===gl?f-d:.5*(u-d))}function hy(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function py(e){Hr.call(this,null,e)}function my(e){Hr.call(this,null,e)}function vy(e){Hr.call(this,null,e)}function gy(){return he({})}function yy(e){return e.exit}function by(e){Hr.call(this,null,e)}function _y(e){Hr.call(this,[],e)}Object(ne.y)(py,Hr).transform=function(e,t){var n=t.dataflow;return e.mark.items.forEach((function(t){e.layout&&oy(n,t,e.layout),function(e,t,n){var r,i,o,a,s,l=t.items,u=Math.max(0,t.width||0),c=Math.max(0,t.height||0),f=(new bl).set(0,0,u,c),d=f.clone(),h=f.clone(),p=[];for(a=0,s=l.length;a<s;++a)switch((i=l[a]).role){case"axis":(Yg(i)?d:h).union(Xg(e,i,u,c));break;case"title":r=i;break;case"legend":p.push(fy(e,i));break;case"frame":case"scope":case"row-header":case"row-footer":case"row-title":case"column-header":case"column-footer":case"column-title":d.union(i.bounds),h.union(i.bounds);break;default:f.union(i.bounds)}if(p.length){var m={};for(var v in p.forEach((function(e){"none"!==(o=e.orient||vl)&&(m[o]||(m[o]=[])).push(e)})),m){var g=m[v];iy(e,g,cy(g,v,n.legends,d,h,u,c))}p.forEach((function(t){var r=t.bounds;if(r.equals(t._bounds)||(t.bounds=t._bounds,e.dirty(t),t.bounds=r,e.dirty(t)),n.autosize&&"fit"===n.autosize.type)switch(t.orient){case ml:case vl:f.add(r.x1,0).add(r.x2,0);break;case pl:case"bottom":f.add(0,r.y1).add(0,r.y2)}else f.union(r)}))}f.union(d).union(h),r&&f.union(function(e,t,n,r,i){var o,a=t.items[0],s=a.frame,l=a.orient,u=a.anchor,c=a.offset,f=a.padding,d=a.items[0].items[0],h=a.items[1]&&a.items[1].items[0],p=l===ml||l===vl?r:n,m=0,v=0,g=0,y=0,b=0;if("group"!==s?l===ml?(m=i.y2,p=i.y1):l===vl?(m=i.y1,p=i.y2):(m=i.x1,p=i.x2):l===ml&&(m=r,p=0),o="start"===u?m:u===gl?p:(m+p)/2,h&&h.text){switch(l){case pl:case"bottom":b=d.bounds.height()+f;break;case ml:y=d.bounds.width()+f;break;case vl:y=-d.bounds.width()-f}Wg.clear().union(h.bounds),Wg.translate(y-(h.x||0),b-(h.y||0)),qg(h,"x",y)|qg(h,"y",b)&&(e.dirty(h),h.bounds.clear().union(Wg),h.mark.bounds.clear().union(Wg),e.dirty(h)),Wg.clear().union(h.bounds)}else Wg.clear();switch(Wg.union(d.bounds),l){case pl:v=o,g=i.y1-Wg.height()-c;break;case ml:v=i.x1-Wg.width()-c,g=o;break;case vl:v=i.x2+Wg.width()+c,g=o;break;case"bottom":v=o,g=i.y2+c;break;default:v=a.x,g=a.y}return qg(a,"x",v)|qg(a,"y",g)&&(Wg.translate(v,g),e.dirty(a),a.bounds.clear().union(Wg),t.bounds.clear().union(Wg),e.dirty(a)),a.bounds}(e,r,u,c,f));t.clip&&f.set(0,0,t.width||0,t.height||0);!function(e,t,n,r){var i=r.autosize||{},o=i.type;if(e._autosize<1||!o)return;var a=e._width,s=e._height,l=Math.max(0,t.width||0),u=Math.max(0,Math.ceil(-n.x1)),c=Math.max(0,Math.ceil(n.x2-l)),f=Math.max(0,t.height||0),d=Math.max(0,Math.ceil(-n.y1)),h=Math.max(0,Math.ceil(n.y2-f));if("padding"===i.contains){var p=e.padding();a-=p.left+p.right,s-=p.top+p.bottom}"none"===o?(u=0,d=0,l=a,f=s):"fit"===o?(l=Math.max(0,a-u-c),f=Math.max(0,s-d-h)):"fit-x"===o?(l=Math.max(0,a-u-c),s=f+d+h):"fit-y"===o?(a=l+u+c,f=Math.max(0,s-d-h)):"pad"===o&&(a=l+u+c,s=f+d+h);e._resizeView(a,s,l,f,[u,d],i.resize)}(e,t,f,n)}(n,t,e)})),e.modified()&&t.reflow(),t},Object(ne.y)(my,Hr).transform=function(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=this.value,i=e.scale,o=Av(i,null==e.count?e.values?e.values.length:10:e.count,e.minstep),a=e.format||Iv(i,o,e.formatSpecifier,e.formatType,!!e.values),s=e.values?Mv(i,e.values,o):Pv(i,o);return r&&(n.rem=r),r=s.map((function(e,t){return he({index:t/(s.length-1||1),value:e,label:a(e)})})),e.extra&&r.length&&r.push(he({index:-1,extra:{value:r[0].value},label:""})),n.source=r,n.add=r,this.value=r,n},Object(ne.y)(vy,Hr).transform=function(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.item||gy,o=e.key||fe,a=this.value;return Object(ne.A)(r.encode)&&(r.encode=null),a&&(e.modified("key")||t.modified(o))&&Object(ne.n)("DataJoin does not support modified key function or fields."),a||(t=t.addAll(),this.value=a=Object(ne.s)().test(yy),a.lookup=function(e){return a.get(o(e))}),t.visit(t.ADD,(function(e){var t=o(e),n=a.get(t);n?n.exit?(a.empty--,r.add.push(n)):r.mod.push(n):(a.set(t,n=i(e)),r.add.push(n)),n.datum=e,n.exit=!1})),t.visit(t.MOD,(function(e){var t=o(e),n=a.get(t);n&&(n.datum=e,r.mod.push(n))})),t.visit(t.REM,(function(e){var t=o(e),n=a.get(t);e!==n.datum||n.exit||(r.rem.push(n),n.exit=!0,++a.empty)})),t.changed(t.ADD_MOD)&&r.modifies("datum"),e.clean&&a.empty>n.cleanThreshold&&n.runAfter(a.clean),r},Object(ne.y)(by,Hr).transform=function(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,i=e.encoders,o=t.encode;if(Object(ne.A)(o)){if(!n.changed()&&!o.every((function(e){return i[e]})))return t.StopPropagation;o=o[0],n.encode=null}var a="enter"===o,s=i.update||ne.r,l=i.enter||ne.r,u=i.exit||ne.r,c=(o&&!a?i[o]:s)||ne.r;if(t.changed(t.ADD)&&(t.visit(t.ADD,(function(t){l(t,e),s(t,e)})),n.modifies(l.output),n.modifies(s.output),c!==ne.r&&c!==s&&(t.visit(t.ADD,(function(t){c(t,e)})),n.modifies(c.output))),t.changed(t.REM)&&u!==ne.r&&(t.visit(t.REM,(function(t){u(t,e)})),n.modifies(u.output)),a||c!==ne.r){var f=t.MOD|(e.modified()?t.REFLOW:0);a?(t.visit(f,(function(t){var i=l(t,e)||r;(c(t,e)||i)&&n.mod.push(t)})),n.mod.length&&n.modifies(l.output)):t.visit(f,(function(t){(c(t,e)||r)&&n.mod.push(t)})),n.mod.length&&n.modifies(c.output)}return n.changed()?n:t.StopPropagation},Object(ne.y)(_y,Hr).transform=function(e,t){if(null!=this.value&&!e.modified())return t.StopPropagation;var n,r,i,o,a,s=t.fork(t.NO_SOURCE|t.NO_FIELDS),l=this.value,u=e.type||"symbol",c=e.scale,f=+e.limit,d=Av(c,null==e.count?5:e.count,e.minstep),h=!!e.values||"symbol"===u,p=e.format||Lv(c,d,u,e.formatSpecifier,e.formatType,h),m=e.values||Rv(c,d);return l&&(s.rem=l),"symbol"===u?(f&&m.length>f?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),l=m.slice(0,f-1),a=!0):l=m,Object(ne.D)(i=e.size)?(e.values||0!==c(l[0])||(l=l.slice(1)),o=l.reduce((function(t,n){return Math.max(t,i(n,e))}),0)):i=Object(ne.l)(o=i||8),l=l.map((function(t,n){return he({index:n,label:p(t,n,l),value:t,offset:o,size:i(t,e)})})),a&&(a=m[l.length],l.push(he({index:l.length,label:"\u2026".concat(m.length-l.length," entries"),value:a,offset:o,size:i(a,e)})))):"gradient"===u?(n=c.domain(),r=_v(c,n[0],Object(ne.U)(n)),m.length<3&&!e.values&&n[0]!==Object(ne.U)(n)&&(m=[n[0],Object(ne.U)(n)]),l=m.map((function(e,t){return he({index:t,label:p(e,t,m),value:e,perc:r(e)})}))):(i=m.length-1,r=function(e){var t=e.domain(),n=t.length-1,r=+t[0],i=+Object(ne.U)(t),o=i-r;if("threshold"===e.type){var a=n?o/n:.1;o=(i+=a)-(r-=a)}return function(e){return(e-r)/o}}(c),l=m.map((function(e,t){return he({index:t,label:p(e,t,m),value:e,perc:t?r(e):0,perc2:t===i?1:r(m[t+1])})}))),s.source=l,s.add=l,this.value=l,s};var xy=Object(ne.s)({line:Oy,"line-radial":function(e,t,n,r){return Oy(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))},arc:Cy,"arc-radial":function(e,t,n,r){return Cy(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))},curve:Ay,"curve-radial":function(e,t,n,r){return Ay(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))},"orthogonal-horizontal":function(e,t,n,r){return"M"+e+","+t+"V"+r+"H"+n},"orthogonal-vertical":function(e,t,n,r){return"M"+e+","+t+"H"+n+"V"+r},"orthogonal-radial":function(e,t,n,r){var i=Math.cos(e),o=Math.sin(e),a=Math.cos(n),s=Math.sin(n),l=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*i+","+t*o+"A"+t+","+t+" 0 0,"+(l?1:0)+" "+t*a+","+t*s+"L"+r*a+","+r*s},"diagonal-horizontal":function(e,t,n,r){var i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},"diagonal-vertical":function(e,t,n,r){var i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},"diagonal-radial":function(e,t,n,r){var i=Math.cos(e),o=Math.sin(e),a=Math.cos(n),s=Math.sin(n),l=(t+r)/2;return"M"+t*i+","+t*o+"C"+l*i+","+l*o+" "+l*a+","+l*s+" "+r*a+","+r*s}});function wy(e){return e.source.x}function Ey(e){return e.source.y}function Ty(e){return e.target.x}function Sy(e){return e.target.y}function ky(e){Hr.call(this,{},e)}function Oy(e,t,n,r){return"M"+e+","+t+"L"+n+","+r}function Cy(e,t,n,r){var i=n-e,o=r-t,a=Math.sqrt(i*i+o*o)/2;return"M"+e+","+t+"A"+a+","+a+" "+180*Math.atan2(o,i)/Math.PI+" 0 1 "+n+","+r}function Ay(e,t,n,r){var i=n-e,o=r-t,a=.2*(i+o),s=.2*(o-i);return"M"+e+","+t+"C"+(e+a)+","+(t+s)+" "+(n+s)+","+(r-a)+" "+n+","+r}function My(e,t){var n=0;if(void 0===t){var r,i=ni(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;(o=+o)&&(n+=o)}}catch(c){i.e(c)}finally{i.f()}}else{var a,s=-1,l=ni(e);try{for(l.s();!(a=l.n()).done;){var u=a.value;(u=+t(u,++s,e))&&(n+=u)}}catch(c){l.e(c)}finally{l.f()}}return n}function Py(e){Hr.call(this,null,e)}ky.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]},Object(ne.y)(ky,Hr).transform=function(e,t){var n=e.sourceX||wy,r=e.sourceY||Ey,i=e.targetX||Ty,o=e.targetY||Sy,a=e.as||"path",s=e.orient||"vertical",l=e.shape||"line",u=xy.get(l+"-"+s)||xy.get(l);return u||Object(ne.n)("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,(function(e){e[a]=u(n(e),r(e),i(e),o(e))})),t.reflow(e.modified()).modifies(a)},Py.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},Object(ne.y)(Py,Hr).transform=function(e,t){var n,r,i,o=e.as||["startAngle","endAngle"],a=o[0],s=o[1],l=e.field||ne.O,u=e.startAngle||0,c=null!=e.endAngle?e.endAngle:2*Math.PI,f=t.source,d=f.map(l),h=d.length,p=u,m=(c-u)/My(d),v=ha(h);for(e.sort&&v.sort((function(e,t){return d[e]-d[t]})),n=0;n<h;++n)i=d[v[n]],(r=f[v[n]])[a]=p,r[s]=p+=i*m;return this.value=d,t.reflow(e.modified()).modifies(o)};function Iy(e){return ym(e)&&"sequential"!==e}var Dy=Object(ne.db)(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function Ny(e){Hr.call(this,null,e),this.modified(!0)}function Ry(e,t,n){xm(e)&&(Math.abs(t.reduce((function(e,t){return e+(t<0?-1:t>0?1:0)}),0))!==t.length&&n.warn("Log scale domain includes zero: "+Object(ne.Z)(t)));return t}function Ly(e,t,n){return Object(ne.D)(e)&&(t||n)?gv(e,jy(t||[0,1],n)):e}function jy(e,t){return t?e.slice().reverse():e}function Fy(e){Hr.call(this,null,e)}Object(ne.y)(Ny,Hr).transform=function(e,t){var n=t.dataflow,r=this.value,i=function(e){var t,n=e.type,r="";if("sequential"===n)return"sequential-linear";(function(e){var t=e.type;return ym(t)&&t!==Jd&&t!==eh&&(e.scheme||e.range&&e.range.length&&e.range.every(ne.H))})(e)&&(t=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(null!=e.domainMid):0,r=2===t?"sequential-":3===t?"diverging-":"");return(r+n||"linear").toLowerCase()}(e);for(i in r&&i===r.type||(this.value=r=mm(i)()),e)if(!Dy[i]){if("padding"===i&&Iy(r.type))continue;Object(ne.D)(r[i])?r[i](e[i]):n.warn("Unsupported scale property: "+i)}return function(e,t,n){var r=e.type,i=t.round||!1,o=t.range;if(null!=t.rangeStep)o=function(e,t,n){"band"!==e&&"point"!==e&&Object(ne.n)("Only band and point scales support rangeStep.");var r=(null!=t.paddingOuter?t.paddingOuter:t.padding)||0,i="point"===e?1:(null!=t.paddingInner?t.paddingInner:t.padding)||0;return[0,t.rangeStep*Zd(n,i,r)]}(r,t,n);else if(t.scheme&&(o=function(e,t,n){var r,i,o=t.schemeExtent;Object(ne.A)(t.scheme)?i=yv(t.scheme,t.interpolate,t.interpolateGamma):(r=t.scheme.toLowerCase(),(i=Sv(r))||Object(ne.n)("Unrecognized scheme name: ".concat(t.scheme)));return n="threshold"===e?n+1:"bin-ordinal"===e?n-1:"quantile"===e||"quantize"===e?+t.schemeCount||5:n,wm(e)?Ly(i,o,t.reverse):Object(ne.D)(i)?bv(Ly(i,o),n):"ordinal"===e?i:i.slice(0,n)}(r,t,n),Object(ne.D)(o))){if(e.interpolator)return e.interpolator(o);Object(ne.n)("Scale type ".concat(r," does not support interpolating color schemes."))}if(o&&wm(r))return e.interpolator(yv(jy(o,t.reverse),t.interpolate,t.interpolateGamma));o&&t.interpolate&&e.interpolate?e.interpolate(xv(t.interpolate,t.interpolateGamma)):Object(ne.D)(e.round)?e.round(i):Object(ne.D)(e.rangeRound)&&e.interpolate(i?Mp:Ap);o&&e.range(jy(o,t.reverse))}(r,e,function(e,t,n){var r=t.bins;if(r&&!Object(ne.A)(r)){var i=e.domain(),o=i[0],a=Object(ne.U)(i),s=null==r.start?o:r.start,l=null==r.stop?a:r.stop,u=r.step;u||Object(ne.n)("Scale bins parameter missing step property."),s<o&&(s=u*Math.ceil(o/u)),l>a&&(l=u*Math.floor(a/u)),r=ha(s,l+u/2,u)}r?e.bins=r:e.bins&&delete e.bins;"bin-ordinal"===e.type&&(r?t.domain||t.domainRaw||(e.domain(r),n=r.length):e.bins=e.domain());return n}(r,e,function(e,t,n){var r=function(e,t,n){return t?(e.domain(Ry(e.type,t,n)),t.length):-1}(e,t.domainRaw,n);if(r>-1)return r;var i,o,a=t.domain,s=e.type,l=t.zero||void 0===t.zero&&function(e){var t=e.type;return!e.bins&&("linear"===t||"pow"===t||"sqrt"===t)}(e);if(!a)return 0;Iy(s)&&t.padding&&a[0]!==Object(ne.U)(a)&&(a=function(e,t,n,r,i,o){var a=Math.abs(Object(ne.U)(n)-n[0]),s=a/(a-2*r),l=e===Qd?Object(ne.mb)(t,null,s):"sqrt"===e?Object(ne.nb)(t,null,s,.5):"pow"===e?Object(ne.nb)(t,null,s,i||1):"symlog"===e?Object(ne.ob)(t,null,s,o||1):Object(ne.lb)(t,null,s);return(t=t.slice())[0]=l[0],t[t.length-1]=l[1],t}(s,a,t.range,t.padding,t.exponent,t.constant));(l||null!=t.domainMin||null!=t.domainMax||null!=t.domainMid)&&(i=(a=a.slice()).length-1||1,l&&(a[0]>0&&(a[0]=0),a[i]<0&&(a[i]=0)),null!=t.domainMin&&(a[0]=t.domainMin),null!=t.domainMax&&(a[i]=t.domainMax),null!=t.domainMid&&(((o=t.domainMid)<a[0]||o>a[i])&&n.warn("Scale domainMid exceeds domain min or max.",o),a.splice(i,0,o)));e.domain(Ry(s,a,n)),"ordinal"===s&&e.unknown(t.domainImplicit?lh:void 0);t.nice&&e.nice&&e.nice(!0!==t.nice&&Av(e,t.nice)||null);return a.length}(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)},Object(ne.y)(Fy,Hr).transform=function(e,t){var n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(ge(e.sort)),this.modified(n),t};var By=["y0","y1"];function zy(e){Hr.call(this,null,e)}function Hy(e,t,n,r,i){for(var o,a=(t-e.sum)/2,s=e.length,l=0;l<s;++l)(o=e[l])[r]=a,o[i]=a+=Math.abs(n(o))}function Uy(e,t,n,r,i){for(var o,a=1/e.sum,s=0,l=e.length,u=0,c=0;u<l;++u)(o=e[u])[r]=s,o[i]=s=a*(c+=Math.abs(n(o)))}function Vy(e,t,n,r,i){for(var o,a,s=0,l=0,u=e.length,c=0;c<u;++c)(o=+n(a=e[c]))<0?(a[r]=l,a[i]=l+=o):(a[r]=s,a[i]=s+=o)}function Gy(){}zy.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,default:By}]},Object(ne.y)(zy,Hr).transform=function(e,t){var n,r,i,o,a=e.as||By,s=a[0],l=a[1],u=ge(e.sort),c=e.field||ne.O,f="center"===e.offset?Hy:"normalize"===e.offset?Uy:Vy;for(n=function(e,t,n,r){var i,o,a,s,l,u,c,f,d,h=[],p=function(e){return e(l)};if(null==t)h.push(e.slice());else for(i={},o=0,a=e.length;o<a;++o)l=e[o],u=t.map(p),(c=i[u])||(i[u]=c=[],h.push(c)),c.push(l);for(u=0,d=0,s=h.length;u<s;++u){for(c=h[u],o=0,f=0,a=c.length;o<a;++o)f+=Math.abs(r(c[o]));c.sum=f,f>d&&(d=f),n&&c.sort(n)}return h.max=d,h}(t.source,e.groupby,u,c),r=0,i=n.length,o=n.max;r<i;++r)f(n[r],o,c,s,l);return t.reflow(e.modified()).modifies(a)};var Wy=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],qy=function(){var e=1,t=1,n=a;function r(e,t){return t.map((function(t){return i(e,t)}))}function i(r,i){var a=[],s=[];return function(n,r,i){var a,s,l,u,c,f,d=new Array,h=new Array;a=s=-1,u=n[0]>=r,Wy[u<<1].forEach(p);for(;++a<e-1;)l=u,u=n[a+1]>=r,Wy[l|u<<1].forEach(p);Wy[u<<0].forEach(p);for(;++s<t-1;){for(a=-1,u=n[s*e+e]>=r,c=n[s*e]>=r,Wy[u<<1|c<<2].forEach(p);++a<e-1;)l=u,u=n[s*e+e+a+1]>=r,f=c,c=n[s*e+a+1]>=r,Wy[l|u<<1|c<<2|f<<3].forEach(p);Wy[u|c<<3].forEach(p)}a=-1,c=n[s*e]>=r,Wy[c<<2].forEach(p);for(;++a<e-1;)f=c,c=n[s*e+a+1]>=r,Wy[c<<2|f<<3].forEach(p);function p(e){var t,n,r=[e[0][0]+a,e[0][1]+s],l=[e[1][0]+a,e[1][1]+s],u=o(r),c=o(l);(t=h[u])?(n=d[c])?(delete h[t.end],delete d[n.start],t===n?(t.ring.push(l),i(t.ring)):d[t.start]=h[n.end]={start:t.start,end:n.end,ring:t.ring.concat(n.ring)}):(delete h[t.end],t.ring.push(l),h[t.end=c]=t):(t=d[c])?(n=h[u])?(delete d[t.start],delete h[n.end],t===n?(t.ring.push(l),i(t.ring)):d[n.start]=h[t.end]={start:n.start,end:t.end,ring:n.ring.concat(t.ring)}):(delete d[t.start],t.ring.unshift(r),d[t.start=u]=t):d[u]=h[c]={start:u,end:c,ring:[r,l]}}Wy[c<<3].forEach(p)}(r,i,(function(e){n(e,r,i),function(e){var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];for(;++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}(e)>0?a.push([e]):s.push(e)})),s.forEach((function(e){for(var t,n=0,r=a.length;n<r;++n)if(-1!==Yy((t=a[n])[0],e))return void t.push(e)})),{type:"MultiPolygon",value:i,coordinates:a}}function o(t){return 2*t[0]+t[1]*(e+1)*4}function a(n,r,i){n.forEach((function(n){var o,a=n[0],s=n[1],l=0|a,u=0|s,c=r[u*e+l];a>0&&a<e&&l===a&&(o=r[u*e+l-1],n[0]=a+(i-o)/(c-o)-.5),s>0&&s<t&&u===s&&(o=r[(u-1)*e+l],n[1]=s+(i-o)/(c-o)-.5)}))}return r.contour=i,r.size=function(n){if(!arguments.length)return[e,t];var i=Math.ceil(n[0]),o=Math.ceil(n[1]);return i>0&&o>0||Object(ne.n)("invalid size"),e=i,t=o,r},r.smooth=function(e){return arguments.length?(n=e?a:Gy,r):n===a},r};function Yy(e,t){for(var n,r=-1,i=t.length;++r<i;)if(n=Xy(e,t[r]))return n;return 0}function Xy(e,t){for(var n=t[0],r=t[1],i=-1,o=0,a=e.length,s=a-1;o<a;s=o++){var l=e[o],u=l[0],c=l[1],f=e[s],d=f[0],h=f[1];if($y(l,f,t))return 0;c>r!==h>r&&n<(d-u)*(r-c)/(h-c)+u&&(i=-i)}return i}function $y(e,t,n){var r,i,o,a;return function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}(e,t,n)&&(i=e[r=+(e[0]===t[0])],o=n[r],a=t[r],i<=o&&o<=a||a<=o&&o<=i)}var Ky=function(e,t,n){return function(r){var i=Object(ne.p)(r),o=n?Math.min(i[0],0):i[0],a=i[1],s=a-o,l=t?Gs(o,a,e):s/(e+1);return ha(l,a,l)}};function Zy(e){Hr.call(this,null,e)}function Qy(e,t,n,r,i){var o=e.x1||0,a=e.y1||0,s=t*n<0;function l(e){e.forEach(u)}function u(e){s&&e.reverse(),e.forEach(c)}function c(e){e[0]=(e[0]-o)*t+r,e[1]=(e[1]-a)*n+i}return function(e){return e.coordinates.forEach(l),e}}function Jy(e,t,n){var r=e>=0?e:vi(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function eb(e){return Object(ne.D)(e)?e:Object(ne.l)(+e)}Zy.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]},Object(ne.y)(Zy,Hr).transform=function(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=e.field||ne.x,o=qy().smooth(!1!==e.smooth),a=e.thresholds||function(e,t,n){var r=Ky(n.levels||10,n.nice,!1!==n.zero);return"shared"!==n.resolve?r:r(e.map((function(e){return ai(t(e).values)})))}(r,i,e),s=null===e.as?null:e.as||"contour",l=[];return r.forEach((function(t){var n=i(t),r=o.size([n.width,n.height])(n.values,Object(ne.A)(a)?a:a(n.values));!function(e,t,n,r){var i=r.scale||t.scale,o=r.translate||t.translate;Object(ne.D)(i)&&(i=i(n,r));Object(ne.D)(o)&&(o=o(n,r));if((1===i||null==i)&&!o)return;var a=(Object(ne.E)(i)?i:i[0])||1,s=(Object(ne.E)(i)?i:i[1])||1,l=o&&o[0]||0,u=o&&o[1]||0;e.forEach(Qy(t,a,s,l,u))}(r,n,t,e),r.forEach((function(e){l.push(me(t,he(null!=s?$a({},s,e):e)))}))})),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n};var tb=function(){var e=function(e){return e[0]},t=function(e){return e[1]},n=ne.O,r=[-1,-1],i=960,o=500,a=2;function s(s,l){var u=Jy(r[0],s,e)>>a,c=Jy(r[1],s,t)>>a,f=u?u+2:0,d=c?c+2:0,h=2*f+(i>>a),p=2*d+(o>>a),m=new Float32Array(h*p),v=new Float32Array(h*p),g=m;s.forEach((function(r){var i=f+(+e(r)>>a),o=d+(+t(r)>>a);i>=0&&i<h&&o>=0&&o<p&&(m[i+o*h]+=+n(r))})),u>0&&c>0?(nb(h,p,m,v,u),rb(h,p,v,m,c),nb(h,p,m,v,u),rb(h,p,v,m,c),nb(h,p,m,v,u),rb(h,p,v,m,c)):u>0?(nb(h,p,m,v,u),nb(h,p,v,m,u),nb(h,p,m,v,u),g=v):c>0&&(rb(h,p,m,v,c),rb(h,p,v,m,c),rb(h,p,m,v,c),g=v);for(var y=l?Math.pow(2,-2*a):1/My(g),b=0,_=h*p;b<_;++b)g[b]*=y;return{values:g,scale:1<<a,width:h,height:p,x1:f,y1:d,x2:f+(i>>a),y2:d+(o>>a)}}return s.x=function(t){return arguments.length?(e=eb(t),s):e},s.y=function(e){return arguments.length?(t=eb(e),s):t},s.weight=function(e){return arguments.length?(n=eb(e),s):n},s.size=function(e){if(!arguments.length)return[i,o];var t=Math.ceil(e[0]),n=Math.ceil(e[1]);return t>=0||n>=0||Object(ne.n)("invalid size"),i=t,o=n,s},s.cellSize=function(e){return arguments.length?((e=+e)>=1||Object(ne.n)("invalid cell size"),a=Math.floor(Math.log(e)/Math.LN2),s):1<<a},s.bandwidth=function(e){return arguments.length?(1===(e=Object(ne.i)(e)).length&&(e=[+e[0],+e[0]]),2!==e.length&&Object(ne.n)("invalid bandwidth"),r=e,s):r},s};function nb(e,t,n,r,i){for(var o=1+(i<<1),a=0;a<t;++a)for(var s=0,l=0;s<e+i;++s)s<e&&(l+=n[s+a*e]),s>=i&&(s>=o&&(l-=n[s-o+a*e]),r[s-i+a*e]=l/Math.min(s+1,e-1+o-s,o))}function rb(e,t,n,r,i){for(var o=1+(i<<1),a=0;a<e;++a)for(var s=0,l=0;s<t+i;++s)s<t&&(l+=n[a+s*e]),s>=i&&(s>=o&&(l-=n[a+(s-o)*e]),r[a+(s-i)*e]=l/Math.min(s+1,t-1+o-s,o))}function ib(e){Hr.call(this,null,e)}ib.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};var ob=Object(ne.y)(ib,Hr),ab=["x","y","weight","size","cellSize","bandwidth"];function sb(e,t){return ab.forEach((function(n){return null!=t[n]?e[n](t[n]):0})),e}function lb(e){Hr.call(this,null,e)}ob.transform=function(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=function(e,t){var n,r,i,o,a,s,l=[],u=function(e){return e(o)};if(null==t)l.push(e);else for(n={},r=0,i=e.length;r<i;++r)o=e[r],a=t.map(u),(s=n[a])||(n[a]=s=[],s.dims=a,l.push(s)),s.push(o);return l}(t.materialize(t.SOURCE).source,e.groupby),o=(e.groupby||[]).map(ne.h),a=sb(tb(),e),s=e.as||"grid";return n=i.map((function(t){return he(function(e,t){for(var n=0;n<o.length;++n)e[o[n]]=t[n];return e}($a({},s,a(t,e.counts)),t.dims))})),this.value&&(r.rem=this.value),this.value=r.source=r.add=n,r},lb.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]},Object(ne.y)(lb,Hr).transform=function(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n,r,i=t.fork(t.NO_SOURCE|t.NO_FIELDS),o=qy().smooth(!1!==e.smooth),a=e.values,s=e.thresholds||Ky(e.count||10,e.nice,!!a),l=e.size;return a||(a=t.materialize(t.SOURCE).source,r=Qy(n=sb(tb(),e)(a,!0),n.scale||1,n.scale||1,0,0),l=[n.width,n.height],a=n.values),s=Object(ne.A)(s)?s:s(a),a=o.size(l)(a,s),r&&a.forEach(r),this.value&&(i.rem=this.value),this.value=i.source=i.add=(a||[]).map(he),i};function ub(e){Hr.call(this,null,e)}ub.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]},Object(ne.y)(ub,Hr).transform=function(e,t){var n,r=this._features,i=this._points,o=e.fields,a=o&&o[0],s=o&&o[1],l=e.geojson||!o&&ne.x,u=t.ADD;n=e.modified()||t.changed(t.REM)||t.modified(Object(ne.g)(l))||a&&t.modified(Object(ne.g)(a))||s&&t.modified(Object(ne.g)(s)),this.value&&!n||(u=t.SOURCE,this._features=r=[],this._points=i=[]),l&&t.visit(u,(function(e){r.push(l(e))})),a&&s&&(t.visit(u,(function(e){var t=a(e),n=s(e);null!=t&&null!=n&&(t=+t)===t&&(n=+n)===n&&i.push([t,n])})),r=r.concat({type:"Feature",geometry:{type:"MultiPoint",coordinates:i}})),this.value={type:"FeatureCollection",features:r}};var cb=function(e){return e};function fb(e,t){e&&hb.hasOwnProperty(e.type)&&hb[e.type](e,t)}var db={Feature:function(e,t){fb(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)fb(n[r].geometry,t)}},hb={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){pb(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)pb(n[r],t,0)},Polygon:function(e,t){mb(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)mb(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)fb(n[r],t)}};function pb(e,t,n){var r,i=-1,o=e.length-n;for(t.lineStart();++i<o;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function mb(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)pb(e[n],t,1);t.polygonEnd()}var vb=function(e,t){e&&db.hasOwnProperty(e.type)?db[e.type](e,t):fb(e,t)},gb=function(){return new yb};function yb(){this.reset()}yb.prototype={constructor:yb,reset:function(){this.s=this.t=0},add:function(e){_b(bb,e,this.t),_b(this,bb.s,this.s),this.s?this.t+=bb.t:this.s=bb.t},valueOf:function(){return this.s}};var bb=new yb;function _b(e,t,n){var r=e.s=t+n,i=r-t,o=r-i;e.t=t-o+(n-i)}var xb=Math.PI,wb=xb/2,Eb=xb/4,Tb=2*xb,Sb=180/xb,kb=xb/180,Ob=Math.abs,Cb=Math.atan,Ab=Math.atan2,Mb=Math.cos,Pb=Math.ceil,Ib=Math.exp,Db=(Math.floor,Math.log),Nb=Math.pow,Rb=Math.sin,Lb=Math.sign||function(e){return e>0?1:e<0?-1:0},jb=Math.sqrt,Fb=Math.tan;function Bb(e){return e>1?0:e<-1?xb:Math.acos(e)}function zb(e){return e>1?wb:e<-1?-wb:Math.asin(e)}function Hb(){}var Ub,Vb,Gb,Wb,qb=gb(),Yb=gb(),Xb={point:Hb,lineStart:Hb,lineEnd:Hb,polygonStart:function(){Xb.lineStart=$b,Xb.lineEnd=Qb},polygonEnd:function(){Xb.lineStart=Xb.lineEnd=Xb.point=Hb,qb.add(Ob(Yb)),Yb.reset()},result:function(){var e=qb/2;return qb.reset(),e}};function $b(){Xb.point=Kb}function Kb(e,t){Xb.point=Zb,Ub=Gb=e,Vb=Wb=t}function Zb(e,t){Yb.add(Wb*e-Gb*t),Gb=e,Wb=t}function Qb(){Zb(Ub,Vb)}var Jb=Xb,e_=1/0,t_=e_,n_=-e_,r_=n_;var i_,o_,a_,s_,l_={point:function(e,t){e<e_&&(e_=e);e>n_&&(n_=e);t<t_&&(t_=t);t>r_&&(r_=t)},lineStart:Hb,lineEnd:Hb,polygonStart:Hb,polygonEnd:Hb,result:function(){var e=[[e_,t_],[n_,r_]];return n_=r_=-(t_=e_=1/0),e}},u_=0,c_=0,f_=0,d_=0,h_=0,p_=0,m_=0,v_=0,g_=0,y_={point:b_,lineStart:__,lineEnd:E_,polygonStart:function(){y_.lineStart=T_,y_.lineEnd=S_},polygonEnd:function(){y_.point=b_,y_.lineStart=__,y_.lineEnd=E_},result:function(){var e=g_?[m_/g_,v_/g_]:p_?[d_/p_,h_/p_]:f_?[u_/f_,c_/f_]:[NaN,NaN];return u_=c_=f_=d_=h_=p_=m_=v_=g_=0,e}};function b_(e,t){u_+=e,c_+=t,++f_}function __(){y_.point=x_}function x_(e,t){y_.point=w_,b_(a_=e,s_=t)}function w_(e,t){var n=e-a_,r=t-s_,i=jb(n*n+r*r);d_+=i*(a_+e)/2,h_+=i*(s_+t)/2,p_+=i,b_(a_=e,s_=t)}function E_(){y_.point=b_}function T_(){y_.point=k_}function S_(){O_(i_,o_)}function k_(e,t){y_.point=O_,b_(i_=a_=e,o_=s_=t)}function O_(e,t){var n=e-a_,r=t-s_,i=jb(n*n+r*r);d_+=i*(a_+e)/2,h_+=i*(s_+t)/2,p_+=i,m_+=(i=s_*e-a_*t)*(a_+e),v_+=i*(s_+t),g_+=3*i,b_(a_=e,s_=t)}var C_=y_;function A_(e){this._context=e}A_.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Tb)}},result:Hb};var M_,P_,I_,D_,N_,R_=gb(),L_={point:Hb,lineStart:function(){L_.point=j_},lineEnd:function(){M_&&F_(P_,I_),L_.point=Hb},polygonStart:function(){M_=!0},polygonEnd:function(){M_=null},result:function(){var e=+R_;return R_.reset(),e}};function j_(e,t){L_.point=F_,P_=D_=e,I_=N_=t}function F_(e,t){D_-=e,N_-=t,R_.add(jb(D_*D_+N_*N_)),D_=e,N_=t}var B_=L_;function z_(){this._string=[]}function H_(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}z_.prototype={_radius:4.5,_circle:H_(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=H_(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}};var U_=function(e,t){var n,r,i=4.5;function o(e){return e&&("function"===typeof i&&r.pointRadius(+i.apply(this,arguments)),vb(e,n(r))),r.result()}return o.area=function(e){return vb(e,n(Jb)),Jb.result()},o.measure=function(e){return vb(e,n(B_)),B_.result()},o.bounds=function(e){return vb(e,n(l_)),l_.result()},o.centroid=function(e){return vb(e,n(C_)),C_.result()},o.projection=function(t){return arguments.length?(n=null==t?(e=null,cb):(e=t).stream,o):e},o.context=function(e){return arguments.length?(r=null==e?(t=null,new z_):new A_(t=e),"function"!==typeof i&&r.pointRadius(i),o):t},o.pointRadius=function(e){return arguments.length?(i="function"===typeof e?e:(r.pointRadius(+e),+e),o):i},o.projection(e).context(t)},V_=function(){var e,t=[];return{point:function(t,n){e.push([t,n])},lineStart:function(){t.push(e=[])},lineEnd:Hb,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}},G_=function(e,t){return Ob(e[0]-t[0])<1e-6&&Ob(e[1]-t[1])<1e-6};function W_(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}var q_=function(e,t,n,r,i){var o,a,s=[],l=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],a=e[t];if(G_(r,a)){for(i.lineStart(),o=0;o<t;++o)i.point((r=e[o])[0],r[1]);i.lineEnd()}else s.push(n=new W_(r,e,null,!0)),l.push(n.o=new W_(r,null,n,!1)),s.push(n=new W_(a,e,null,!1)),l.push(n.o=new W_(a,null,n,!0))}})),s.length){for(l.sort(t),Y_(s),Y_(l),o=0,a=l.length;o<a;++o)l[o].e=n=!n;for(var u,c,f=s[0];;){for(var d=f,h=!0;d.v;)if((d=d.n)===f)return;u=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(o=0,a=u.length;o<a;++o)i.point((c=u[o])[0],c[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(h)for(u=d.p.z,o=u.length-1;o>=0;--o)i.point((c=u[o])[0],c[1]);else r(d.x,d.p.x,-1,i);d=d.p}u=(d=d.o).z,h=!h}while(!d.v);i.lineEnd()}}};function Y_(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function X_(e){return[Ab(e[1],e[0]),zb(e[2])]}function $_(e){var t=e[0],n=e[1],r=Mb(n);return[r*Mb(t),r*Rb(t),Rb(n)]}function K_(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Z_(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Q_(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function J_(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function ex(e){var t=jb(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var tx=gb();function nx(e){return Ob(e[0])<=xb?e[0]:Lb(e[0])*((Ob(e[0])+xb)%Tb-xb)}var rx=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN};var ix=function(e){var t;return 1===e.length&&(t=e,e=function(e,n){return rx(t(e),n)}),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}(rx);ix.right,ix.left;var ox=Array.prototype,ax=(ox.slice,ox.map,function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o});Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var sx=function(e){for(var t,n,r,i=e.length,o=-1,a=0;++o<i;)a+=e[o].length;for(n=new Array(a);--i>=0;)for(t=(r=e[i]).length;--t>=0;)n[--a]=r[t];return n};var lx=function(e,t,n,r){return function(i){var o,a,s,l=t(i),u=V_(),c=t(u),f=!1,d={point:h,lineStart:m,lineEnd:v,polygonStart:function(){d.point=g,d.lineStart=y,d.lineEnd=b,a=[],o=[]},polygonEnd:function(){d.point=h,d.lineStart=m,d.lineEnd=v,a=sx(a);var e=function(e,t){var n=nx(t),r=t[1],i=Rb(r),o=[Rb(n),-Mb(n),0],a=0,s=0;tx.reset(),1===i?r=wb+1e-6:-1===i&&(r=-wb-1e-6);for(var l=0,u=e.length;l<u;++l)if(f=(c=e[l]).length)for(var c,f,d=c[f-1],h=nx(d),p=d[1]/2+Eb,m=Rb(p),v=Mb(p),g=0;g<f;++g,h=b,m=x,v=w,d=y){var y=c[g],b=nx(y),_=y[1]/2+Eb,x=Rb(_),w=Mb(_),E=b-h,T=E>=0?1:-1,S=T*E,k=S>xb,O=m*x;if(tx.add(Ab(O*T*Rb(S),v*w+O*Mb(S))),a+=k?E+T*Tb:E,k^h>=n^b>=n){var C=Z_($_(d),$_(y));ex(C);var A=Z_(o,C);ex(A);var M=(k^E>=0?-1:1)*zb(A[2]);(r>M||r===M&&(C[0]||C[1]))&&(s+=k^E>=0?1:-1)}}return(a<-1e-6||a<1e-6&&tx<-1e-6)^1&s}(o,r);a.length?(f||(i.polygonStart(),f=!0),q_(a,cx,e,n,i)):e&&(f||(i.polygonStart(),f=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(t,n){e(t,n)&&i.point(t,n)}function p(e,t){l.point(e,t)}function m(){d.point=p,l.lineStart()}function v(){d.point=h,l.lineEnd()}function g(e,t){s.push([e,t]),c.point(e,t)}function y(){c.lineStart(),s=[]}function b(){g(s[0][0],s[0][1]),c.lineEnd();var e,t,n,r,l=c.clean(),d=u.result(),h=d.length;if(s.pop(),o.push(s),s=null,h)if(1&l){if((t=(n=d[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),e=0;e<t;++e)i.point((r=n[e])[0],r[1]);i.lineEnd()}}else h>1&&2&l&&d.push(d.pop().concat(d.shift())),a.push(d.filter(ux))}return d}};function ux(e){return e.length>1}function cx(e,t){return((e=e.x)[0]<0?e[1]-wb-1e-6:wb-e[1])-((t=t.x)[0]<0?t[1]-wb-1e-6:wb-t[1])}var fx=lx((function(){return!0}),(function(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,a){var s=o>0?xb:-xb,l=Ob(o-n);Ob(l-xb)<1e-6?(e.point(n,r=(r+a)/2>0?wb:-wb),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(o,r),t=0):i!==s&&l>=xb&&(Ob(n-i)<1e-6&&(n-=1e-6*i),Ob(o-s)<1e-6&&(o-=1e-6*s),r=function(e,t,n,r){var i,o,a=Rb(e-n);return Ob(a)>1e-6?Cb((Rb(t)*(o=Mb(r))*Rb(n)-Rb(r)*(i=Mb(t))*Rb(e))/(i*o*a)):(t+r)/2}(n,r,o,a),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=o,r=a),i=s},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}),(function(e,t,n,r){var i;if(null==e)i=n*wb,r.point(-xb,i),r.point(0,i),r.point(xb,i),r.point(xb,0),r.point(xb,-i),r.point(0,-i),r.point(-xb,-i),r.point(-xb,0),r.point(-xb,i);else if(Ob(e[0]-t[0])>1e-6){var o=e[0]<t[0]?xb:-xb;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}),[-xb,-wb]);var dx=function(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n};function hx(e,t){return[Ob(e)>xb?e+Math.round(-e/Tb)*Tb:e,t]}function px(e,t,n){return(e%=Tb)?t||n?dx(vx(e),gx(t,n)):vx(e):t||n?gx(t,n):hx}function mx(e){return function(t,n){return[(t+=e)>xb?t-Tb:t<-xb?t+Tb:t,n]}}function vx(e){var t=mx(e);return t.invert=mx(-e),t}function gx(e,t){var n=Mb(e),r=Rb(e),i=Mb(t),o=Rb(t);function a(e,t){var a=Mb(t),s=Mb(e)*a,l=Rb(e)*a,u=Rb(t),c=u*n+s*r;return[Ab(l*i-c*o,s*n-u*r),zb(c*i+l*o)]}return a.invert=function(e,t){var a=Mb(t),s=Mb(e)*a,l=Rb(e)*a,u=Rb(t),c=u*i-l*o;return[Ab(l*i+u*o,s*n+c*r),zb(c*n-s*r)]},a}hx.invert=hx;function yx(e,t,n,r,i,o){if(n){var a=Mb(t),s=Rb(t),l=r*n;null==i?(i=t+r*Tb,o=t-l/2):(i=bx(a,i),o=bx(a,o),(r>0?i<o:i>o)&&(i+=r*Tb));for(var u,c=i;r>0?c>o:c<o;c-=l)u=X_([a,-s*Mb(c),-s*Rb(c)]),e.point(u[0],u[1])}}function bx(e,t){(t=$_(t))[0]-=e,ex(t);var n=Bb(-t[1]);return((-t[2]<0?-n:n)+Tb-1e-6)%Tb}var _x=function(e){var t=Mb(e),n=6*kb,r=t>0,i=Ob(t)>1e-6;function o(e,n){return Mb(e)*Mb(n)>t}function a(e,n,r){var i=[1,0,0],o=Z_($_(e),$_(n)),a=K_(o,o),s=o[0],l=a-s*s;if(!l)return!r&&e;var u=t*a/l,c=-t*s/l,f=Z_(i,o),d=J_(i,u);Q_(d,J_(o,c));var h=f,p=K_(d,h),m=K_(h,h),v=p*p-m*(K_(d,d)-1);if(!(v<0)){var g=jb(v),y=J_(h,(-p-g)/m);if(Q_(y,d),y=X_(y),!r)return y;var b,_=e[0],x=n[0],w=e[1],E=n[1];x<_&&(b=_,_=x,x=b);var T=x-_,S=Ob(T-xb)<1e-6;if(!S&&E<w&&(b=w,w=E,E=b),S||T<1e-6?S?w+E>0^y[1]<(Ob(y[0]-_)<1e-6?w:E):w<=y[1]&&y[1]<=E:T>xb^(_<=y[0]&&y[0]<=x)){var k=J_(h,(-p+g)/m);return Q_(k,d),[y,X_(k)]}}}function s(t,n){var i=r?e:xb-e,o=0;return t<-i?o|=1:t>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return lx(o,(function(e){var t,n,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(f,d){var h,p=[f,d],m=o(f,d),v=r?m?0:s(f,d):m?s(f+(f<0?xb:-xb),d):0;if(!t&&(u=l=m)&&e.lineStart(),m!==l&&(!(h=a(t,p))||G_(t,h)||G_(p,h))&&(p[0]+=1e-6,p[1]+=1e-6,m=o(p[0],p[1])),m!==l)c=0,m?(e.lineStart(),h=a(p,t),e.point(h[0],h[1])):(h=a(t,p),e.point(h[0],h[1]),e.lineEnd()),t=h;else if(i&&t&&r^m){var g;v&n||!(g=a(p,t,!0))||(c=0,r?(e.lineStart(),e.point(g[0][0],g[0][1]),e.point(g[1][0],g[1][1]),e.lineEnd()):(e.point(g[1][0],g[1][1]),e.lineEnd(),e.lineStart(),e.point(g[0][0],g[0][1])))}!m||t&&G_(t,p)||e.point(p[0],p[1]),t=p,l=m,n=v},lineEnd:function(){l&&e.lineEnd(),t=null},clean:function(){return c|(u&&l)<<1}}}),(function(t,r,i,o){yx(o,e,n,i,t,r)}),r?[0,-e]:[-xb,e-xb])};function xx(e,t,n,r){function i(i,o){return e<=i&&i<=n&&t<=o&&o<=r}function o(i,o,s,u){var c=0,f=0;if(null==i||(c=a(i,s))!==(f=a(o,s))||l(i,o)<0^s>0)do{u.point(0===c||3===c?e:n,c>1?r:t)}while((c=(c+s+4)%4)!==f);else u.point(o[0],o[1])}function a(r,i){return Ob(r[0]-e)<1e-6?i>0?0:3:Ob(r[0]-n)<1e-6?i>0?2:1:Ob(r[1]-t)<1e-6?i>0?1:0:i>0?3:2}function s(e,t){return l(e.x,t.x)}function l(e,t){var n=a(e,1),r=a(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(a){var l,u,c,f,d,h,p,m,v,g,y,b=a,_=V_(),x={point:w,lineStart:function(){x.point=E,u&&u.push(c=[]);g=!0,v=!1,p=m=NaN},lineEnd:function(){l&&(E(f,d),h&&v&&_.rejoin(),l.push(_.result()));x.point=w,v&&b.lineEnd()},polygonStart:function(){b=_,l=[],u=[],y=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,i=u.length;n<i;++n)for(var o,a,s=u[n],l=1,c=s.length,f=s[0],d=f[0],h=f[1];l<c;++l)o=d,a=h,f=s[l],d=f[0],h=f[1],a<=r?h>r&&(d-o)*(r-a)>(h-a)*(e-o)&&++t:h<=r&&(d-o)*(r-a)<(h-a)*(e-o)&&--t;return t}(),n=y&&t,i=(l=sx(l)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&q_(l,s,t,o,a),a.polygonEnd());b=a,l=u=c=null}};function w(e,t){i(e,t)&&b.point(e,t)}function E(o,a){var s=i(o,a);if(u&&c.push([o,a]),g)f=o,d=a,h=s,g=!1,s&&(b.lineStart(),b.point(o,a));else if(s&&v)b.point(o,a);else{var l=[p=Math.max(-1e9,Math.min(1e9,p)),m=Math.max(-1e9,Math.min(1e9,m))],_=[o=Math.max(-1e9,Math.min(1e9,o)),a=Math.max(-1e9,Math.min(1e9,a))];!function(e,t,n,r,i,o){var a,s=e[0],l=e[1],u=0,c=1,f=t[0]-s,d=t[1]-l;if(a=n-s,f||!(a>0)){if(a/=f,f<0){if(a<u)return;a<c&&(c=a)}else if(f>0){if(a>c)return;a>u&&(u=a)}if(a=i-s,f||!(a<0)){if(a/=f,f<0){if(a>c)return;a>u&&(u=a)}else if(f>0){if(a<u)return;a<c&&(c=a)}if(a=r-l,d||!(a>0)){if(a/=d,d<0){if(a<u)return;a<c&&(c=a)}else if(d>0){if(a>c)return;a>u&&(u=a)}if(a=o-l,d||!(a<0)){if(a/=d,d<0){if(a>c)return;a>u&&(u=a)}else if(d>0){if(a<u)return;a<c&&(c=a)}return u>0&&(e[0]=s+u*f,e[1]=l+u*d),c<1&&(t[0]=s+c*f,t[1]=l+c*d),!0}}}}}(l,_,e,t,n,r)?s&&(b.lineStart(),b.point(o,a),y=!1):(v||(b.lineStart(),b.point(l[0],l[1])),b.point(_[0],_[1]),s||b.lineEnd(),y=!1)}p=o,m=a,v=s}return x}}function wx(e){return function(t){var n=new Ex;for(var r in e)n[r]=e[r];return n.stream=t,n}}function Ex(){}function Tx(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),vb(n,e.stream(l_)),t(l_.result()),null!=r&&e.clipExtent(r),e}function Sx(e,t,n){return Tx(e,(function(n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+t[0][0]+(r-o*(n[1][0]+n[0][0]))/2,s=+t[0][1]+(i-o*(n[1][1]+n[0][1]))/2;e.scale(150*o).translate([a,s])}),n)}function kx(e,t,n){return Sx(e,[[0,0],t],n)}function Ox(e,t,n){return Tx(e,(function(n){var r=+t,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];e.scale(150*i).translate([o,a])}),n)}function Cx(e,t,n){return Tx(e,(function(n){var r=+t,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([o,a])}),n)}Ex.prototype={constructor:Ex,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Ax=Mb(30*kb),Mx=function(e,t){return+t?function(e,t){function n(r,i,o,a,s,l,u,c,f,d,h,p,m,v){var g=u-r,y=c-i,b=g*g+y*y;if(b>4*t&&m--){var _=a+d,x=s+h,w=l+p,E=jb(_*_+x*x+w*w),T=zb(w/=E),S=Ob(Ob(w)-1)<1e-6||Ob(o-f)<1e-6?(o+f)/2:Ab(x,_),k=e(S,T),O=k[0],C=k[1],A=O-r,M=C-i,P=y*A-g*M;(P*P/b>t||Ob((g*A+y*M)/b-.5)>.3||a*d+s*h+l*p<Ax)&&(n(r,i,o,a,s,l,O,C,S,_/=E,x/=E,w,m,v),v.point(O,C),n(O,C,S,_,x,w,u,c,f,d,h,p,m,v))}}return function(t){var r,i,o,a,s,l,u,c,f,d,h,p,m={point:v,lineStart:g,lineEnd:b,polygonStart:function(){t.polygonStart(),m.lineStart=_},polygonEnd:function(){t.polygonEnd(),m.lineStart=g}};function v(n,r){n=e(n,r),t.point(n[0],n[1])}function g(){c=NaN,m.point=y,t.lineStart()}function y(r,i){var o=$_([r,i]),a=e(r,i);n(c,f,u,d,h,p,c=a[0],f=a[1],u=r,d=o[0],h=o[1],p=o[2],16,t),t.point(c,f)}function b(){m.point=v,t.lineEnd()}function _(){g(),m.point=x,m.lineEnd=w}function x(e,t){y(r=e,t),i=c,o=f,a=d,s=h,l=p,m.point=y}function w(){n(c,f,u,d,h,p,i,o,r,a,s,l,16,t),m.lineEnd=b,b()}return m}}(e,t):function(e){return wx({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)};var Px=wx({point:function(e,t){this.stream.point(e*kb,t*kb)}});function Ix(e,t,n,r,i){function o(o,a){return[t+e*(o*=r),n-e*(a*=i)]}return o.invert=function(o,a){return[(o-t)/e*r,(n-a)/e*i]},o}function Dx(e,t,n,r,i,o){var a=Mb(o),s=Rb(o),l=a*e,u=s*e,c=a/e,f=s/e,d=(s*n-a*t)/e,h=(s*t+a*n)/e;function p(e,o){return[l*(e*=r)-u*(o*=i)+t,n-u*e-l*o]}return p.invert=function(e,t){return[r*(c*e-f*t+d),i*(h-f*e-c*t)]},p}function Nx(e){return Rx((function(){return e}))()}function Rx(e){var t,n,r,i,o,a,s,l,u,c,f=150,d=480,h=250,p=0,m=0,v=0,g=0,y=0,b=0,_=1,x=1,w=null,E=fx,T=null,S=cb,k=.5;function O(e){return l(e[0]*kb,e[1]*kb)}function C(e){return(e=l.invert(e[0],e[1]))&&[e[0]*Sb,e[1]*Sb]}function A(){var e=Dx(f,0,0,_,x,b).apply(null,t(p,m)),r=(b?Dx:Ix)(f,d-e[0],h-e[1],_,x,b);return n=px(v,g,y),s=dx(t,r),l=dx(n,s),a=Mx(s,k),M()}function M(){return u=c=null,O}return O.stream=function(e){return u&&c===e?u:u=Px(function(e){return wx({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}(n)(E(a(S(c=e)))))},O.preclip=function(e){return arguments.length?(E=e,w=void 0,M()):E},O.postclip=function(e){return arguments.length?(S=e,T=r=i=o=null,M()):S},O.clipAngle=function(e){return arguments.length?(E=+e?_x(w=e*kb):(w=null,fx),M()):w*Sb},O.clipExtent=function(e){return arguments.length?(S=null==e?(T=r=i=o=null,cb):xx(T=+e[0][0],r=+e[0][1],i=+e[1][0],o=+e[1][1]),M()):null==T?null:[[T,r],[i,o]]},O.scale=function(e){return arguments.length?(f=+e,A()):f},O.translate=function(e){return arguments.length?(d=+e[0],h=+e[1],A()):[d,h]},O.center=function(e){return arguments.length?(p=e[0]%360*kb,m=e[1]%360*kb,A()):[p*Sb,m*Sb]},O.rotate=function(e){return arguments.length?(v=e[0]%360*kb,g=e[1]%360*kb,y=e.length>2?e[2]%360*kb:0,A()):[v*Sb,g*Sb,y*Sb]},O.angle=function(e){return arguments.length?(b=e%360*kb,A()):b*Sb},O.reflectX=function(e){return arguments.length?(_=e?-1:1,A()):_<0},O.reflectY=function(e){return arguments.length?(x=e?-1:1,A()):x<0},O.precision=function(e){return arguments.length?(a=Mx(s,k=e*e),M()):jb(k)},O.fitExtent=function(e,t){return Sx(O,e,t)},O.fitSize=function(e,t){return kx(O,e,t)},O.fitWidth=function(e,t){return Ox(O,e,t)},O.fitHeight=function(e,t){return Cx(O,e,t)},function(){return t=e.apply(this,arguments),O.invert=t.invert&&C,A()}}function Lx(e){var t=0,n=xb/3,r=Rx(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*kb,n=e[1]*kb):[t*Sb,n*Sb]},i}function jx(e,t){var n=Rb(e),r=(n+Rb(t))/2;if(Ob(r)<1e-6)return function(e){var t=Mb(e);function n(e,n){return[e*t,Rb(n)/t]}return n.invert=function(e,n){return[e/t,zb(n*t)]},n}(e);var i=1+n*(2*r-n),o=jb(i)/r;function a(e,t){var n=jb(i-2*r*Rb(t))/r;return[n*Rb(e*=r),o-n*Mb(e)]}return a.invert=function(e,t){var n=o-t,a=Ab(e,Ob(n))*Lb(n);return n*r<0&&(a-=xb*Lb(e)*Lb(n)),[a/r,zb((i-(e*e+n*n)*r*r)/(2*r))]},a}var Fx=function(){return Lx(jx).scale(155.424).center([0,33.6442])},Bx=function(){return Fx().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};function zx(e){return function(t,n){var r=Mb(t),i=Mb(n),o=e(r*i);return[o*i*Rb(t),o*Rb(n)]}}function Hx(e){return function(t,n){var r=jb(t*t+n*n),i=e(r),o=Rb(i),a=Mb(i);return[Ab(t*o,r*a),zb(r&&n*o/r)]}}var Ux=zx((function(e){return jb(2/(1+e))}));Ux.invert=Hx((function(e){return 2*zb(e/2)}));var Vx=zx((function(e){return(e=Bb(e))&&e/Rb(e)}));Vx.invert=Hx((function(e){return e}));function Gx(e,t){return[e,Db(Fb((wb+t)/2))]}Gx.invert=function(e,t){return[e,2*Cb(Ib(t))-wb]};function Wx(e){var t,n,r,i=Nx(e),o=i.center,a=i.scale,s=i.translate,l=i.clipExtent,u=null;function c(){var o=xb*a(),s=i(function(e){function t(t){return(t=e(t[0]*kb,t[1]*kb))[0]*=Sb,t[1]*=Sb,t}return e=px(e[0]*kb,e[1]*kb,e.length>2?e[2]*kb:0),t.invert=function(t){return(t=e.invert(t[0]*kb,t[1]*kb))[0]*=Sb,t[1]*=Sb,t},t}(i.rotate()).invert([0,0]));return l(null==u?[[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]]:e===Gx?[[Math.max(s[0]-o,u),t],[Math.min(s[0]+o,n),r]]:[[u,Math.max(s[1]-o,t)],[n,Math.min(s[1]+o,r)]])}return i.scale=function(e){return arguments.length?(a(e),c()):a()},i.translate=function(e){return arguments.length?(s(e),c()):s()},i.center=function(e){return arguments.length?(o(e),c()):o()},i.clipExtent=function(e){return arguments.length?(null==e?u=t=n=r=null:(u=+e[0][0],t=+e[0][1],n=+e[1][0],r=+e[1][1]),c()):null==u?null:[[u,t],[n,r]]},c()}function qx(e){return Fb((wb+e)/2)}function Yx(e,t){var n=Mb(e),r=e===t?Rb(e):Db(n/Mb(t))/Db(qx(t)/qx(e)),i=n*Nb(qx(e),r)/r;if(!r)return Gx;function o(e,t){i>0?t<1e-6-wb&&(t=1e-6-wb):t>wb-1e-6&&(t=wb-1e-6);var n=i/Nb(qx(t),r);return[n*Rb(r*e),i-n*Mb(r*e)]}return o.invert=function(e,t){var n=i-t,o=Lb(r)*jb(e*e+n*n),a=Ab(e,Ob(n))*Lb(n);return n*r<0&&(a-=xb*Lb(e)*Lb(n)),[a/r,2*Cb(Nb(i/o,1/r))-wb]},o}function Xx(e,t){return[e,t]}Xx.invert=Xx;function $x(e,t){var n=Mb(e),r=e===t?Rb(e):(n-Mb(t))/(t-e),i=n/r+e;if(Ob(r)<1e-6)return Xx;function o(e,t){var n=i-t,o=r*e;return[n*Rb(o),i-n*Mb(o)]}return o.invert=function(e,t){var n=i-t,o=Ab(e,Ob(n))*Lb(n);return n*r<0&&(o-=xb*Lb(e)*Lb(n)),[o/r,i-Lb(r)*jb(e*e+n*n)]},o}var Kx=1.340264,Zx=-.081106,Qx=893e-6,Jx=.003796,ew=jb(3)/2;function tw(e,t){var n=zb(ew*Rb(t)),r=n*n,i=r*r*r;return[e*Mb(n)/(ew*(Kx+3*Zx*r+i*(7*Qx+9*Jx*r))),n*(Kx+Zx*r+i*(Qx+Jx*r))]}tw.invert=function(e,t){for(var n,r=t,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=n=(r*(Kx+Zx*i+o*(Qx+Jx*i))-t)/(Kx+3*Zx*i+o*(7*Qx+9*Jx*i)))*r)*i*i,!(Ob(n)<1e-12));++a);return[ew*e*(Kx+3*Zx*i+o*(7*Qx+9*Jx*i))/Mb(r),zb(Rb(r)/ew)]};function nw(e,t){var n=Mb(t),r=Mb(e)*n;return[n*Rb(e)/r,Rb(t)/r]}nw.invert=Hx(Cb);function rw(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}rw.invert=function(e,t){var n,r=t,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-t)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(Ob(n)>1e-6&&--i>0);return[e/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]};function iw(e,t){return[Mb(t)*Rb(e),Rb(t)]}iw.invert=Hx(zb);function ow(e,t){var n=Mb(t),r=1+Mb(e)*n;return[n*Rb(e)/r,Rb(t)/r]}ow.invert=Hx((function(e){return 2*Cb(e)}));function aw(e,t){return[Db(Fb((wb+t)/2)),-e]}aw.invert=function(e,t){return[-t,2*Cb(Ib(e))-wb]};var sw=Math.abs,lw=(Math.atan,Math.atan2,Math.ceil,Math.cos),uw=(Math.exp,Math.floor,Math.log,Math.max,Math.min,Math.pow,Math.round,Math.sign,Math.sin),cw=(Math.tan,Math.PI),fw=cw/2,dw=(Math.SQRT1_2,pw(2));pw(cw);function hw(e){return e>1?fw:e<-1?-fw:Math.asin(e)}function pw(e){return e>0?Math.sqrt(e):0}function mw(e,t){var n,r=e*uw(t),i=30;do{t-=n=(t+uw(t)-r)/(1+lw(t))}while(sw(n)>1e-6&&--i>0);return t/2}var vw=function(e,t,n){function r(r,i){return[e*r*lw(i=mw(n,i)),t*uw(i)]}return r.invert=function(r,i){return i=hw(i/t),[r/(e*lw(i)),hw((2*i+uw(2*i))/n)]},r}(dw/fw,dw,cw),gw=U_(),yw=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function bw(e,t){return function n(){var r=t();return r.type=e,r.path=U_().projection(r),r.copy=r.copy||function(){var e=n();return yw.forEach((function(t){r[t]&&e[t](r[t]())})),e.path.pointRadius(r.path.pointRadius()),e},r}}function _w(e,t){if(!e||"string"!==typeof e)throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(ww[e]=bw(e,t),this):ww[e]||null}function xw(e){return e&&e.path||gw}var ww={albers:Bx,albersusa:function(){var e,t,n,r,i,o,a=Bx(),s=Fx().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=Fx().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(e,t){o=[e,t]}};function c(e){var t=e[0],a=e[1];return o=null,n.point(t,a),o||(r.point(t,a),o)||(i.point(t,a),o)}function f(){return e=t=null,c}return c.invert=function(e){var t=a.scale(),n=a.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?s:i>=.166&&i<.234&&r>=-.214&&r<-.115?l:a).invert(e)},c.stream=function(n){return e&&t===n?e:e=function(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}([a.stream(t=n),s.stream(n),l.stream(n)])},c.precision=function(e){return arguments.length?(a.precision(e),s.precision(e),l.precision(e),f()):a.precision()},c.scale=function(e){return arguments.length?(a.scale(e),s.scale(.35*e),l.scale(e),c.translate(a.translate())):a.scale()},c.translate=function(e){if(!arguments.length)return a.translate();var t=a.scale(),o=+e[0],c=+e[1];return n=a.translate(e).clipExtent([[o-.455*t,c-.238*t],[o+.455*t,c+.238*t]]).stream(u),r=s.translate([o-.307*t,c+.201*t]).clipExtent([[o-.425*t+1e-6,c+.12*t+1e-6],[o-.214*t-1e-6,c+.234*t-1e-6]]).stream(u),i=l.translate([o-.205*t,c+.212*t]).clipExtent([[o-.214*t+1e-6,c+.166*t+1e-6],[o-.115*t-1e-6,c+.234*t-1e-6]]).stream(u),f()},c.fitExtent=function(e,t){return Sx(c,e,t)},c.fitSize=function(e,t){return kx(c,e,t)},c.fitWidth=function(e,t){return Ox(c,e,t)},c.fitHeight=function(e,t){return Cx(c,e,t)},c.scale(1070)},azimuthalequalarea:function(){return Nx(Ux).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function(){return Nx(Vx).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return Lx(Yx).scale(109.5).parallels([30,30])},conicequalarea:Fx,conicequidistant:function(){return Lx($x).scale(131.154).center([0,13.9389])},equalEarth:function(){return Nx(tw).scale(177.158)},equirectangular:function(){return Nx(Xx).scale(152.63)},gnomonic:function(){return Nx(nw).scale(144.049).clipAngle(60)},identity:function(){var e,t,n,r,i,o,a,s=1,l=0,u=0,c=1,f=1,d=0,h=null,p=1,m=1,v=wx({point:function(e,t){var n=b([e,t]);this.stream.point(n[0],n[1])}}),g=cb;function y(){return p=s*c,m=s*f,o=a=null,b}function b(n){var r=n[0]*p,i=n[1]*m;if(d){var o=i*e-r*t;r=r*e+i*t,i=o}return[r+l,i+u]}return b.invert=function(n){var r=n[0]-l,i=n[1]-u;if(d){var o=i*e+r*t;r=r*e-i*t,i=o}return[r/p,i/m]},b.stream=function(e){return o&&a===e?o:o=v(g(a=e))},b.postclip=function(e){return arguments.length?(g=e,h=n=r=i=null,y()):g},b.clipExtent=function(e){return arguments.length?(g=null==e?(h=n=r=i=null,cb):xx(h=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),y()):null==h?null:[[h,n],[r,i]]},b.scale=function(e){return arguments.length?(s=+e,y()):s},b.translate=function(e){return arguments.length?(l=+e[0],u=+e[1],y()):[l,u]},b.angle=function(n){return arguments.length?(t=Rb(d=n%360*kb),e=Mb(d),y()):d*Sb},b.reflectX=function(e){return arguments.length?(c=e?-1:1,y()):c<0},b.reflectY=function(e){return arguments.length?(f=e?-1:1,y()):f<0},b.fitExtent=function(e,t){return Sx(b,e,t)},b.fitSize=function(e,t){return kx(b,e,t)},b.fitWidth=function(e,t){return Ox(b,e,t)},b.fitHeight=function(e,t){return Cx(b,e,t)},b},mercator:function(){return Wx(Gx).scale(961/Tb)},mollweide:function(){return Nx(vw).scale(169.529)},naturalEarth1:function(){return Nx(rw).scale(175.295)},orthographic:function(){return Nx(iw).scale(249.5).clipAngle(90.000001)},stereographic:function(){return Nx(ow).scale(250).clipAngle(142)},transversemercator:function(){var e=Wx(aw),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)}};for(var Ew in ww)_w(Ew,ww[Ew]);function Tw(e){Hr.call(this,null,e)}function Sw(e){Hr.call(this,null,e)}function kw(e){Hr.call(this,null,e)}function Ow(e,t,n){var r=ax(e,t-1e-6,n).concat(t);return function(e){return r.map((function(t){return[e,t]}))}}function Cw(e,t,n){var r=ax(e,t-1e-6,n).concat(t);return function(e){return r.map((function(t){return[t,e]}))}}function Aw(){var e,t,n,r,i,o,a,s,l,u,c,f,d=10,h=d,p=90,m=360,v=2.5;function g(){return{type:"MultiLineString",coordinates:y()}}function y(){return ax(Pb(r/p)*p,n,p).map(c).concat(ax(Pb(s/m)*m,a,m).map(f)).concat(ax(Pb(t/d)*d,e,d).filter((function(e){return Ob(e%p)>1e-6})).map(l)).concat(ax(Pb(o/h)*h,i,h).filter((function(e){return Ob(e%m)>1e-6})).map(u))}return g.lines=function(){return y().map((function(e){return{type:"LineString",coordinates:e}}))},g.outline=function(){return{type:"Polygon",coordinates:[c(r).concat(f(a).slice(1),c(n).reverse().slice(1),f(s).reverse().slice(1))]}},g.extent=function(e){return arguments.length?g.extentMajor(e).extentMinor(e):g.extentMinor()},g.extentMajor=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),s>a&&(e=s,s=a,a=e),g.precision(v)):[[r,s],[n,a]]},g.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],o=+n[0][1],i=+n[1][1],t>e&&(n=t,t=e,e=n),o>i&&(n=o,o=i,i=n),g.precision(v)):[[t,o],[e,i]]},g.step=function(e){return arguments.length?g.stepMajor(e).stepMinor(e):g.stepMinor()},g.stepMajor=function(e){return arguments.length?(p=+e[0],m=+e[1],g):[p,m]},g.stepMinor=function(e){return arguments.length?(d=+e[0],h=+e[1],g):[d,h]},g.precision=function(d){return arguments.length?(v=+d,l=Ow(o,i,90),u=Cw(t,e,v),c=Ow(s,a,90),f=Cw(r,n,v),g):v},g.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function Mw(e){Hr.call(this,[],e),this.generator=Aw()}function Pw(e){Hr.call(this,null,e)}function Iw(e){if(!Object(ne.D)(e))return!1;var t=Object(ne.db)(Object(ne.g)(e));return t.$x||t.$y||t.$value||t.$max}function Dw(e){Hr.call(this,null,e),this.modified(!0)}function Nw(e,t,n){Object(ne.D)(e[t])&&e[t](n)}Tw.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]},Object(ne.y)(Tw,Hr).transform=function(e,t){var n=t.fork(t.ALL),r=this.value,i=e.field||ne.x,o=e.as||"path",a=n.SOURCE;!r||e.modified()?(this.value=r=xw(e.projection),n.materialize().reflow()):a=i===ne.x||t.modified(i.fields)?n.ADD_MOD:n.ADD;var s=function(e,t){var n=e.pointRadius();e.context(null),null!=t&&e.pointRadius(t);return n}(r,e.pointRadius);return n.visit(a,(function(e){e[o]=r(i(e))})),r.pointRadius(s),n.modifies(o)},Sw.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},Object(ne.y)(Sw,Hr).transform=function(e,t){var n,r=e.projection,i=e.fields[0],o=e.fields[1],a=e.as||["x","y"],s=a[0],l=a[1];function u(e){var t=r([i(e),o(e)]);t?(e[s]=t[0],e[l]=t[1]):(e[s]=void 0,e[l]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,u):(n=t.modified(i.fields)||t.modified(o.fields),t.visit(n?t.ADD_MOD:t.ADD,u)),t.modifies(a)},kw.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]},Object(ne.y)(kw,Hr).transform=function(e,t){var n=t.fork(t.ALL),r=this.value,i=e.as||"shape",o=n.ADD;return r&&!e.modified()||(this.value=r=function(e,t,n){var r=null==n?function(n){return e(t(n))}:function(r){var i=e.pointRadius(),o=e.pointRadius(n)(t(r));return e.pointRadius(i),o};return r.context=function(t){return e.context(t),r},r}(xw(e.projection),e.field||Object(ne.t)("datum"),e.pointRadius),n.materialize().reflow(),o=n.SOURCE),n.visit(o,(function(e){e[i]=r})),n.modifies(i)},Mw.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]},Object(ne.y)(Mw,Hr).transform=function(e,t){var n,r=this.value,i=this.generator;if(!r.length||e.modified())for(var o in e)Object(ne.D)(i[o])&&i[o](e[o]);return n=i(),r.length?t.mod.push(ve(r[0],n)):t.add.push(he(n)),r[0]=n,t},Pw.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]},Object(ne.y)(Pw,Hr).transform=function(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,r="shared"===e.resolve,i=e.field||ne.x,o=function(e,t){var n;Object(ne.D)(e)?(n=function(n){return e(n,t)}).dep=Iw(e):e?n=Object(ne.l)(e):(n=function(e){return e.$value/e.$max||0}).dep=!0;return n}(e.opacity,e),a=function(e,t){var n;Object(ne.D)(e)?(n=function(n){return Zh(e(n,t))}).dep=Iw(e):n=Object(ne.l)(Zh(e||"#888"));return n}(e.color,e),s=e.as||"image",l={$x:0,$y:0,$value:0,$max:r?ai(n.map((function(e){return ai(i(e).values)}))):0};return n.forEach((function(e){var t=i(e),n=Object(ne.o)({},e,l);r||(n.$max=ai(t.values||[])),e[s]=function(e,t,n,r){for(var i=e.width,o=e.height,a=e.x1||0,s=e.y1||0,l=e.x2||i,u=e.y2||o,c=e.values,f=c?function(e){return c[e]}:ne.kb,d=Cl(l-a,u-s),h=d.getContext("2d"),p=h.getImageData(0,0,l-a,u-s),m=p.data,v=s,g=0;v<u;++v){t.$y=v-s;for(var y=a,b=v*i;y<l;++y,g+=4){t.$x=y-a,t.$value=f(y+b);var _=n(t);m[g+0]=_.r,m[g+1]=_.g,m[g+2]=_.b,m[g+3]=~~(255*r(t))}}return h.putImageData(p,0,0),d}(t,n,a.dep?a:Object(ne.l)(a(n)),o.dep?o:Object(ne.l)(o(n)))})),t.reflow(!0).modifies(s)},Object(ne.y)(Dw,Hr).transform=function(e,t){var n=this.value;return!n||e.modified("type")?(this.value=n=function(e){var t=_w((e||"mercator").toLowerCase());t||Object(ne.n)("Unrecognized projection type: "+e);return t()}(e.type),yw.forEach((function(t){null!=e[t]&&Nw(n,t,e[t])}))):yw.forEach((function(t){e.modified(t)&&Nw(n,t,e[t])})),null!=e.pointRadius&&n.path.pointRadius(e.pointRadius),e.fit&&function(e,t){var n=function(e){return 1===(e=Object(ne.i)(e)).length?e[0]:{type:"FeatureCollection",features:e.reduce((function(e,t){return e.concat(function(e){return"FeatureCollection"===e.type?e.features:Object(ne.i)(e).filter((function(e){return null!=e})).map((function(e){return"Feature"===e.type?e:{type:"Feature",geometry:e}}))}(t))}),[])}}(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)};function Rw(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o,a,s,l,u,c,f,d,h=e._root,p={data:r},m=e._x0,v=e._y0,g=e._x1,y=e._y1;if(!h)return e._root=p,e;for(;h.length;)if((u=t>=(o=(m+g)/2))?m=o:g=o,(c=n>=(a=(v+y)/2))?v=a:y=a,i=h,!(h=h[f=c<<1|u]))return i[f]=p,e;if(s=+e._x.call(null,h.data),l=+e._y.call(null,h.data),t===s&&n===l)return p.next=h,i?i[f]=p:e._root=p,e;do{i=i?i[f]=new Array(4):e._root=new Array(4),(u=t>=(o=(m+g)/2))?m=o:g=o,(c=n>=(a=(v+y)/2))?v=a:y=a}while((f=c<<1|u)===(d=(l>=a)<<1|s>=o));return i[d]=h,i[f]=p,e}var Lw=function(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i};function jw(e){return e[0]}function Fw(e){return e[1]}function Bw(e,t,n){var r=new zw(null==t?jw:t,null==n?Fw:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function zw(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Hw(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var Uw=Bw.prototype=zw.prototype;Uw.copy=function(){var e,t,n=new zw(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Hw(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=Hw(t));return n},Uw.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return Rw(this.cover(t,n),t,n,e)},Uw.addAll=function(e){var t,n,r,i,o=e.length,a=new Array(o),s=new Array(o),l=1/0,u=1/0,c=-1/0,f=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(a[n]=r,s[n]=i,r<l&&(l=r),r>c&&(c=r),i<u&&(u=i),i>f&&(f=i));if(l>c||u>f)return this;for(this.cover(l,u).cover(c,f),n=0;n<o;++n)Rw(this,a[n],s[n],e[n]);return this},Uw.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var a,s,l=i-n,u=this._root;n>e||e>=i||r>t||t>=o;)switch(s=(t<r)<<1|e<n,(a=new Array(4))[s]=u,u=a,l*=2,s){case 0:i=n+l,o=r+l;break;case 1:n=i-l,o=r+l;break;case 2:i=n+l,r=o-l;break;case 3:n=i-l,r=o-l}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},Uw.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},Uw.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Uw.find=function(e,t,n){var r,i,o,a,s,l,u,c=this._x0,f=this._y0,d=this._x1,h=this._y1,p=[],m=this._root;for(m&&p.push(new Lw(m,c,f,d,h)),null==n?n=1/0:(c=e-n,f=t-n,d=e+n,h=t+n,n*=n);l=p.pop();)if(!(!(m=l.node)||(i=l.x0)>d||(o=l.y0)>h||(a=l.x1)<c||(s=l.y1)<f))if(m.length){var v=(i+a)/2,g=(o+s)/2;p.push(new Lw(m[3],v,g,a,s),new Lw(m[2],i,g,v,s),new Lw(m[1],v,o,a,g),new Lw(m[0],i,o,v,g)),(u=(t>=g)<<1|e>=v)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-u],p[p.length-1-u]=l)}else{var y=e-+this._x.call(null,m.data),b=t-+this._y.call(null,m.data),_=y*y+b*b;if(_<n){var x=Math.sqrt(n=_);c=e-x,f=t-x,d=e+x,h=t+x,r=m.data}}return r},Uw.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,i,o,a,s,l,u,c,f,d,h=this._root,p=this._x0,m=this._y0,v=this._x1,g=this._y1;if(!h)return this;if(h.length)for(;;){if((u=o>=(s=(p+v)/2))?p=s:v=s,(c=a>=(l=(m+g)/2))?m=l:g=l,t=h,!(h=h[f=c<<1|u]))return this;if(!h.length)break;(t[f+1&3]||t[f+2&3]||t[f+3&3])&&(n=t,d=f)}for(;h.data!==e;)if(r=h,!(h=h.next))return this;return(i=h.next)&&delete h.next,r?(i?r.next=i:delete r.next,this):t?(i?t[f]=i:delete t[f],(h=t[0]||t[1]||t[2]||t[3])&&h===(t[3]||t[2]||t[1]||t[0])&&!h.length&&(n?n[d]=h:this._root=h),this):(this._root=i,this)},Uw.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},Uw.root=function(){return this._root},Uw.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},Uw.visit=function(e){var t,n,r,i,o,a,s=[],l=this._root;for(l&&s.push(new Lw(l,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(l=t.node,r=t.x0,i=t.y0,o=t.x1,a=t.y1)&&l.length){var u=(r+o)/2,c=(i+a)/2;(n=l[3])&&s.push(new Lw(n,u,c,o,a)),(n=l[2])&&s.push(new Lw(n,r,c,u,a)),(n=l[1])&&s.push(new Lw(n,u,i,o,c)),(n=l[0])&&s.push(new Lw(n,r,i,u,c))}return this},Uw.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new Lw(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var o,a=t.x0,s=t.y0,l=t.x1,u=t.y1,c=(a+l)/2,f=(s+u)/2;(o=i[0])&&n.push(new Lw(o,a,s,c,f)),(o=i[1])&&n.push(new Lw(o,c,s,l,f)),(o=i[2])&&n.push(new Lw(o,a,f,c,u)),(o=i[3])&&n.push(new Lw(o,c,f,l,u))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},Uw.x=function(e){return arguments.length?(this._x=e,this):this._x},Uw.y=function(e){return arguments.length?(this._y=e,this):this._y};var Vw=function(e){return function(){return e}},Gw=function(){return 1e-6*(Math.random()-.5)};function Ww(e){return e.x+e.vx}function qw(e){return e.y+e.vy}function Yw(e){return e.index}function Xw(e,t){var n=e.get(t);if(!n)throw new Error("missing: "+t);return n}var $w={value:function(){}};function Kw(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new Zw(r)}function Zw(e){this._=e}function Qw(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function Jw(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function eE(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=$w,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}Zw.prototype=Kw.prototype={constructor:Zw,on:function(e,t){var n,r=this._,i=Qw(e+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++o<a;)if(n=(e=i[o]).type)r[n]=eE(r[n],e.name,t);else if(null==t)for(n in r)r[n]=eE(r[n],e.name,null);return this}for(;++o<a;)if((n=(e=i[o]).type)&&(n=Jw(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Zw(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};var tE,nE,rE=Kw,iE=0,oE=0,aE=0,sE=0,lE=0,uE=0,cE="object"===typeof performance&&performance.now?performance:Date,fE="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function dE(){return lE||(fE(hE),lE=cE.now()+uE)}function hE(){lE=0}function pE(){this._call=this._time=this._next=null}function mE(e,t,n){var r=new pE;return r.restart(e,t,n),r}function vE(){lE=(sE=cE.now())+uE,iE=oE=0;try{!function(){dE(),++iE;for(var e,t=tE;t;)(e=lE-t._time)>=0&&t._call.call(null,e),t=t._next;--iE}()}finally{iE=0,function(){var e,t,n=tE,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:tE=t);nE=e,yE(r)}(),lE=0}}function gE(){var e=cE.now(),t=e-sE;t>1e3&&(uE-=t,sE=e)}function yE(e){iE||(oE&&(oE=clearTimeout(oE)),e-lE>24?(e<1/0&&(oE=setTimeout(vE,e-cE.now()-uE)),aE&&(aE=clearInterval(aE))):(aE||(sE=cE.now(),aE=setInterval(gE,1e3)),iE=1,fE(vE)))}function bE(e){return e.x}function _E(e){return e.y}pE.prototype=mE.prototype={constructor:pE,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?dE():+n)+(null==t?0:+t),this._next||nE===this||(nE?nE._next=this:tE=this,nE=this),this._call=e,this._time=n,yE()},stop:function(){this._call&&(this._call=null,this._time=1/0,yE())}};var xE=Math.PI*(3-Math.sqrt(5)),wE={center:function(e,t){var n;function r(){var r,i,o=n.length,a=0,s=0;for(r=0;r<o;++r)a+=(i=n[r]).x,s+=i.y;for(a=a/o-e,s=s/o-t,r=0;r<o;++r)(i=n[r]).x-=a,i.y-=s}return null==e&&(e=0),null==t&&(t=0),r.initialize=function(e){n=e},r.x=function(t){return arguments.length?(e=+t,r):e},r.y=function(e){return arguments.length?(t=+e,r):t},r},collide:function(e){var t,n,r=1,i=1;function o(){for(var e,o,s,l,u,c,f,d=t.length,h=0;h<i;++h)for(o=Bw(t,Ww,qw).visitAfter(a),e=0;e<d;++e)s=t[e],c=n[s.index],f=c*c,l=s.x+s.vx,u=s.y+s.vy,o.visit(p);function p(e,t,n,i,o){var a=e.data,d=e.r,h=c+d;if(!a)return t>l+h||i<l-h||n>u+h||o<u-h;if(a.index>s.index){var p=l-a.x-a.vx,m=u-a.y-a.vy,v=p*p+m*m;v<h*h&&(0===p&&(v+=(p=Gw())*p),0===m&&(v+=(m=Gw())*m),v=(h-(v=Math.sqrt(v)))/v*r,s.vx+=(p*=v)*(h=(d*=d)/(f+d)),s.vy+=(m*=v)*h,a.vx-=p*(h=1-h),a.vy-=m*h)}}}function a(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function s(){if(t){var r,i,o=t.length;for(n=new Array(o),r=0;r<o;++r)i=t[r],n[i.index]=+e(i,r,t)}}return"function"!==typeof e&&(e=Vw(null==e?1:+e)),o.initialize=function(e){t=e,s()},o.iterations=function(e){return arguments.length?(i=+e,o):i},o.strength=function(e){return arguments.length?(r=+e,o):r},o.radius=function(t){return arguments.length?(e="function"===typeof t?t:Vw(+t),s(),o):e},o},nbody:function(){var e,t,n,r,i=Vw(-30),o=1,a=1/0,s=.81;function l(r){var i,o=e.length,a=Bw(e,bE,_E).visitAfter(c);for(n=r,i=0;i<o;++i)t=e[i],a.visit(f)}function u(){if(e){var t,n,o=e.length;for(r=new Array(o),t=0;t<o;++t)n=e[t],r[n.index]=+i(n,t,e)}}function c(e){var t,n,i,o,a,s=0,l=0;if(e.length){for(i=o=a=0;a<4;++a)(t=e[a])&&(n=Math.abs(t.value))&&(s+=t.value,l+=n,i+=n*t.x,o+=n*t.y);e.x=i/l,e.y=o/l}else{(t=e).x=t.data.x,t.y=t.data.y;do{s+=r[t.data.index]}while(t=t.next)}e.value=s}function f(e,i,l,u){if(!e.value)return!0;var c=e.x-t.x,f=e.y-t.y,d=u-i,h=c*c+f*f;if(d*d/s<h)return h<a&&(0===c&&(h+=(c=Gw())*c),0===f&&(h+=(f=Gw())*f),h<o&&(h=Math.sqrt(o*h)),t.vx+=c*e.value*n/h,t.vy+=f*e.value*n/h),!0;if(!(e.length||h>=a)){(e.data!==t||e.next)&&(0===c&&(h+=(c=Gw())*c),0===f&&(h+=(f=Gw())*f),h<o&&(h=Math.sqrt(o*h)));do{e.data!==t&&(d=r[e.data.index]*n/h,t.vx+=c*d,t.vy+=f*d)}while(e=e.next)}}return l.initialize=function(t){e=t,u()},l.strength=function(e){return arguments.length?(i="function"===typeof e?e:Vw(+e),u(),l):i},l.distanceMin=function(e){return arguments.length?(o=e*e,l):Math.sqrt(o)},l.distanceMax=function(e){return arguments.length?(a=e*e,l):Math.sqrt(a)},l.theta=function(e){return arguments.length?(s=e*e,l):Math.sqrt(s)},l},link:function(e){var t,n,r,i,o,a=Yw,s=function(e){return 1/Math.min(i[e.source.index],i[e.target.index])},l=Vw(30),u=1;function c(r){for(var i=0,a=e.length;i<u;++i)for(var s,l,c,f,d,h,p,m=0;m<a;++m)l=(s=e[m]).source,f=(c=s.target).x+c.vx-l.x-l.vx||Gw(),d=c.y+c.vy-l.y-l.vy||Gw(),f*=h=((h=Math.sqrt(f*f+d*d))-n[m])/h*r*t[m],d*=h,c.vx-=f*(p=o[m]),c.vy-=d*p,l.vx+=f*(p=1-p),l.vy+=d*p}function f(){if(r){var s,l,u=r.length,c=e.length,f=new Map(r.map((function(e,t){return[a(e,t,r),e]})));for(s=0,i=new Array(u);s<c;++s)(l=e[s]).index=s,"object"!==typeof l.source&&(l.source=Xw(f,l.source)),"object"!==typeof l.target&&(l.target=Xw(f,l.target)),i[l.source.index]=(i[l.source.index]||0)+1,i[l.target.index]=(i[l.target.index]||0)+1;for(s=0,o=new Array(c);s<c;++s)l=e[s],o[s]=i[l.source.index]/(i[l.source.index]+i[l.target.index]);t=new Array(c),d(),n=new Array(c),h()}}function d(){if(r)for(var n=0,i=e.length;n<i;++n)t[n]=+s(e[n],n,e)}function h(){if(r)for(var t=0,i=e.length;t<i;++t)n[t]=+l(e[t],t,e)}return null==e&&(e=[]),c.initialize=function(e){r=e,f()},c.links=function(t){return arguments.length?(e=t,f(),c):e},c.id=function(e){return arguments.length?(a=e,c):a},c.iterations=function(e){return arguments.length?(u=+e,c):u},c.strength=function(e){return arguments.length?(s="function"===typeof e?e:Vw(+e),d(),c):s},c.distance=function(e){return arguments.length?(l="function"===typeof e?e:Vw(+e),h(),c):l},c},x:function(e){var t,n,r,i=Vw(.1);function o(e){for(var i,o=0,a=t.length;o<a;++o)(i=t[o]).vx+=(r[o]-i.x)*n[o]*e}function a(){if(t){var o,a=t.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+e(t[o],o,t))?0:+i(t[o],o,t)}}return"function"!==typeof e&&(e=Vw(null==e?0:+e)),o.initialize=function(e){t=e,a()},o.strength=function(e){return arguments.length?(i="function"===typeof e?e:Vw(+e),a(),o):i},o.x=function(t){return arguments.length?(e="function"===typeof t?t:Vw(+t),a(),o):e},o},y:function(e){var t,n,r,i=Vw(.1);function o(e){for(var i,o=0,a=t.length;o<a;++o)(i=t[o]).vy+=(r[o]-i.y)*n[o]*e}function a(){if(t){var o,a=t.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+e(t[o],o,t))?0:+i(t[o],o,t)}}return"function"!==typeof e&&(e=Vw(null==e?0:+e)),o.initialize=function(e){t=e,a()},o.strength=function(e){return arguments.length?(i="function"===typeof e?e:Vw(+e),a(),o):i},o.y=function(t){return arguments.length?(e="function"===typeof t?t:Vw(+t),a(),o):e},o}},EE=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],TE=["static","iterations"],SE=["x","y","vx","vy"];function kE(e){Hr.call(this,null,e)}kE.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:SE}]};var OE=Object(ne.y)(kE,Hr);function CE(e,t,n,r){var i,o,a,s,l=Object(ne.i)(t.forces);for(i=0,o=EE.length;i<o;++i)"forces"!==(a=EE[i])&&t.modified(a)&&e[a](t[a]);for(i=0,o=l.length;i<o;++i)s="forces"+i,(a=n||t.modified("forces",i)?ME(l[i]):r&&AE(l[i],r)?e.force(s):null)&&e.force(s,a);for(o=e.numForces||0;i<o;++i)e.force("forces"+i,null);return e.numForces=l.length,e}function AE(e,t){var n,r;for(n in e)if(Object(ne.D)(r=e[n])&&t.modified(Object(ne.g)(r)))return 1;return 0}function ME(e){var t,n;for(n in Object(ne.v)(wE,e.force)||Object(ne.n)("Unrecognized force: "+e.force),t=wE[e.force](),e)Object(ne.D)(t[n])&&PE(t[n],e[n],e);return t}function PE(e,t,n){e(Object(ne.D)(t)?function(e){return t(e,n)}:t)}OE.transform=function(e,t){var n,r,i=this.value,o=t.changed(t.ADD_REM),a=e.modified(EE),s=e.iterations||300;if(i?(o&&(t.modifies("index"),i.nodes(t.source)),(a||t.changed(t.MOD))&&CE(i,e,0,t)):(this.value=i=function(e,t){var n=function(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=new Map,l=mE(c),u=rE("tick","end");function c(){f(),u.call("tick",t),n<r&&(l.stop(),u.call("end",t))}function f(r){var l,u,c=e.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(n+=(o-n)*i,s.forEach((function(e){e(n)})),l=0;l<c;++l)null==(u=e[l]).fx?u.x+=u.vx*=a:(u.x=u.fx,u.vx=0),null==u.fy?u.y+=u.vy*=a:(u.y=u.fy,u.vy=0);return t}function d(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var i=10*Math.sqrt(n),o=n*xE;t.x=i*Math.cos(o),t.y=i*Math.sin(o)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function h(t){return t.initialize&&t.initialize(e),t}return null==e&&(e=[]),d(),t={tick:f,restart:function(){return l.restart(c),t},stop:function(){return l.stop(),t},nodes:function(n){return arguments.length?(e=n,d(),s.forEach(h),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(i=+e,t):+i},alphaTarget:function(e){return arguments.length?(o=+e,t):o},velocityDecay:function(e){return arguments.length?(a=1-e,t):1-a},force:function(e,n){return arguments.length>1?(null==n?s.delete(e):s.set(e,h(n)),t):s.get(e)},find:function(t,n,r){var i,o,a,s,l,u=0,c=e.length;for(null==r?r=1/0:r*=r,u=0;u<c;++u)(a=(i=t-(s=e[u]).x)*i+(o=n-s.y)*o)<r&&(l=s,r=a);return l},on:function(e,n){return arguments.length>1?(u.on(e,n),t):u.on(e)}}}(e),r=!1,i=n.stop,o=n.restart;return n.stopped=function(){return r},n.restart=function(){return r=!1,o()},n.stop=function(){return r=!0,i()},CE(n,t,!0).on("end",(function(){r=!0}))}(t.source,e),i.on("tick",(n=t.dataflow,r=this,function(){n.touch(r).run()})),e.static||(o=!0,i.tick()),t.modifies("index")),a||o||e.modified(TE)||t.changed()&&e.restart)if(i.alpha(Math.max(i.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(i.alphaMin(),1/s)),e.static)for(i.stop();--s>=0;)i.tick();else if(i.stopped()&&i.restart(),!o)return t.StopPropagation;return this.finish(e,t)},OE.finish=function(e,t){for(var n,r=t.dataflow,i=this._argops,o=0,a=i.length;o<a;++o)if("forces"===(n=i[o]).name&&"link"===n.op._argval.force)for(var s,l=n.op._argops,u=0,c=l.length;u<c;++u)if("links"===l[u].name&&(s=l[u].op.source)){r.pulse(s,r.changeset().reflow());break}return t.reflow(e.modified()).modifies(SE)};var IE=function(e,t,n){var r={};return e.each((function(e){var i=e.data;n(i)&&(r[t(i)]=e)})),e.lookup=r,e};function DE(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function NE(e,t){var n,r,i,o,a,s=new FE(e),l=+e.value&&(s.value=e.value),u=[s];for(null==t&&(t=RE);n=u.pop();)if(l&&(n.value=+n.data.value),(i=t(n.data))&&(a=i.length))for(n.children=new Array(a),o=a-1;o>=0;--o)u.push(r=n.children[o]=new FE(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(jE)}function RE(e){return e.children}function LE(e){e.data=e.data.data}function jE(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function FE(e){this.data=e,this.depth=this.height=0,this.parent=null}function BE(e){Hr.call(this,null,e)}function zE(e){return e.values}function HE(){var e,t=[];return e={entries:function(e){return function e(n,r){if(++r>t.length)return n;var i,o=[];for(i in n)o.push({key:i,values:e(n[i],r)});return o}(function e(n,r){if(r>=t.length)return n;for(var i,o,a,s=-1,l=n.length,u=t[r++],c={},f={};++s<l;)(a=c[i=u(o=n[s])+""])?a.push(o):c[i]=[o];for(i in c)f[i]=e(c[i],r);return f}(e,0),0)},key:function(n){return t.push(n),e}}}function UE(e){Hr.call(this,null,e)}function VE(e,t){return e.parent===t.parent?1:2}FE.prototype=NE.prototype={constructor:FE,count:function(){return this.eachAfter(DE)},each:function(e){var t,n,r,i,o=this,a=[o];do{for(t=a.reverse(),a=[];o=t.pop();)if(e(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r])}while(a.length);return this},eachAfter:function(e){for(var t,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),t=i.children)for(n=0,r=t.length;n<r;++n)o.push(t[n]);for(;i=a.pop();)e(i);return this},eachBefore:function(e){for(var t,n,r=this,i=[r];r=i.pop();)if(e(r),t=r.children)for(n=t.length-1;n>=0;--n)i.push(t[n]);return this},sum:function(e){return this.eachAfter((function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n}))},sort:function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;e=n.pop(),t=r.pop();for(;e===t;)i=e,e=n.pop(),t=r.pop();return i}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){var e=[];return this.each((function(t){e.push(t)})),e},leaves:function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e},links:function(){var e=this,t=[];return e.each((function(n){n!==e&&t.push({source:n.parent,target:n})})),t},copy:function(){return NE(this).eachBefore(LE)}},BE.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]},Object(ne.y)(BE,Hr).transform=function(e,t){t.source||Object(ne.n)("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),i=t.clone(),o=this.value;return(!o||r||t.changed())&&(o&&o.each((function(e){e.children&&ce(e.data)&&i.rem.push(e.data)})),this.value=o=NE({values:Object(ne.i)(e.keys).reduce((function(e,t){return e.key(t),e}),HE()).entries(i.source)},zE),n&&o.each((function(e){e.children&&(e=he(e.data),i.add.push(e),i.source.push(e))})),IE(o,fe,fe)),i.source.root=o,i},Object(ne.y)(UE,Hr).transform=function(e,t){t.source&&t.source.root||Object(ne.n)(this.constructor.name+" transform requires a backing tree data source.");var n=this.layout(e.method),r=this.fields,i=t.source.root,o=e.as||r;e.field?i.sum(e.field):i.count(),e.sort&&i.sort(ge(e.sort,(function(e){return e.data}))),function(e,t,n){for(var r,i=0,o=t.length;i<o;++i)(r=t[i])in n&&e[r](n[r])}(n,this.params,e),n.separation&&n.separation(!1!==e.separation?VE:ne.O);try{this.value=n(i)}catch(a){Object(ne.n)(a)}return i.each((function(e){!function(e,t,n){for(var r=e.data,i=0,o=t.length-1;i<o;++i)r[n[i]]=e[t[i]];r[n[o]]=e.children?e.children.length:0}(e,r,o)})),t.reflow(e.modified()).modifies(o).modifies("leaf")};var GE=Array.prototype.slice;var WE=function(e){for(var t,n,r=0,i=(e=function(e){for(var t,n,r=e.length;r;)n=Math.random()*r--|0,t=e[r],e[r]=e[n],e[n]=t;return e}(GE.call(e))).length,o=[];r<i;)t=e[r],n&&XE(n,t)?++r:(n=KE(o=qE(o,t)),r=0);return n};function qE(e,t){var n,r;if($E(t,e))return[t];for(n=0;n<e.length;++n)if(YE(t,e[n])&&$E(ZE(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(YE(ZE(e[n],e[r]),t)&&YE(ZE(e[n],t),e[r])&&YE(ZE(e[r],t),e[n])&&$E(QE(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function YE(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function XE(e,t){var n=e.r-t.r+1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function $E(e,t){for(var n=0;n<t.length;++n)if(!XE(e,t[n]))return!1;return!0}function KE(e){switch(e.length){case 1:return{x:(t=e[0]).x,y:t.y,r:t.r};case 2:return ZE(e[0],e[1]);case 3:return QE(e[0],e[1],e[2])}var t}function ZE(e,t){var n=e.x,r=e.y,i=e.r,o=t.x,a=t.y,s=t.r,l=o-n,u=a-r,c=s-i,f=Math.sqrt(l*l+u*u);return{x:(n+o+l/f*c)/2,y:(r+a+u/f*c)/2,r:(f+i+s)/2}}function QE(e,t,n){var r=e.x,i=e.y,o=e.r,a=t.x,s=t.y,l=t.r,u=n.x,c=n.y,f=n.r,d=r-a,h=r-u,p=i-s,m=i-c,v=l-o,g=f-o,y=r*r+i*i-o*o,b=y-a*a-s*s+l*l,_=y-u*u-c*c+f*f,x=h*p-d*m,w=(p*_-m*b)/(2*x)-r,E=(m*v-p*g)/x,T=(h*b-d*_)/(2*x)-i,S=(d*g-h*v)/x,k=E*E+S*S-1,O=2*(o+w*E+T*S),C=w*w+T*T-o*o,A=-(k?(O+Math.sqrt(O*O-4*k*C))/(2*k):C/O);return{x:r+w+E*A,y:i+T+S*A,r:A}}function JE(e,t,n){var r,i,o,a,s=e.x-t.x,l=e.y-t.y,u=s*s+l*l;u?(i=t.r+n.r,i*=i,a=e.r+n.r,i>(a*=a)?(r=(u+a-i)/(2*u),o=Math.sqrt(Math.max(0,a/u-r*r)),n.x=e.x-r*s-o*l,n.y=e.y-r*l+o*s):(r=(u+i-a)/(2*u),o=Math.sqrt(Math.max(0,i/u-r*r)),n.x=t.x+r*s-o*l,n.y=t.y+r*l+o*s)):(n.x=t.x+n.r,n.y=t.y)}function eT(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function tT(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,o=(t.y*n.r+n.y*t.r)/r;return i*i+o*o}function nT(e){this._=e,this.next=null,this.previous=null}function rT(e){if(!(i=e.length))return 0;var t,n,r,i,o,a,s,l,u,c,f;if((t=e[0]).x=0,t.y=0,!(i>1))return t.r;if(n=e[1],t.x=-n.r,n.x=t.r,n.y=0,!(i>2))return t.r+n.r;JE(n,t,r=e[2]),t=new nT(t),n=new nT(n),r=new nT(r),t.next=r.previous=n,n.next=t.previous=r,r.next=n.previous=t;e:for(s=3;s<i;++s){JE(t._,n._,r=e[s]),r=new nT(r),l=n.next,u=t.previous,c=n._.r,f=t._.r;do{if(c<=f){if(eT(l._,r._)){n=l,t.next=n,n.previous=t,--s;continue e}c+=l._.r,l=l.next}else{if(eT(u._,r._)){(t=u).next=n,n.previous=t,--s;continue e}f+=u._.r,u=u.previous}}while(l!==u.next);for(r.previous=t,r.next=n,t.next=n.previous=n=r,o=tT(t);(r=r.next)!==n;)(a=tT(r))<o&&(t=r,o=a);n=t.next}for(t=[n._],r=n;(r=r.next)!==n;)t.push(r._);for(r=WE(t),s=0;s<i;++s)(t=e[s]).x-=r.x,t.y-=r.y;return r.r}function iT(e){return null==e?null:oT(e)}function oT(e){if("function"!==typeof e)throw new Error;return e}function aT(){return 0}var sT=function(e){return function(){return e}};function lT(e){return Math.sqrt(e.value)}function uT(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function cT(e,t){return function(n){if(r=n.children){var r,i,o,a=r.length,s=e(n)*t||0;if(s)for(i=0;i<a;++i)r[i].r+=s;if(o=rT(r),s)for(i=0;i<a;++i)r[i].r-=s;n.r=o+s}}}function fT(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}var dT=["x","y","r","depth","children"];function hT(e){UE.call(this,e)}hT.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:dT.length,default:dT}]};var pT=Object(ne.y)(hT,UE);pT.layout=function(){var e=null,t=1,n=1,r=aT;function i(i){return i.x=t/2,i.y=n/2,e?i.eachBefore(uT(e)).eachAfter(cT(r,.5)).eachBefore(fT(1)):i.eachBefore(uT(lT)).eachAfter(cT(aT,1)).eachAfter(cT(r,i.r/Math.min(t,n))).eachBefore(fT(Math.min(t,n)/(2*i.r))),i}return i.radius=function(t){return arguments.length?(e=iT(t),i):e},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(e){return arguments.length?(r="function"===typeof e?e:sT(+e),i):r},i},pT.params=["radius","size","padding"],pT.fields=dT;var mT=function(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)},vT=function(e,t,n,r,i){for(var o,a=e.children,s=-1,l=a.length,u=e.value&&(r-t)/e.value;++s<l;)(o=a[s]).y0=n,o.y1=i,o.x0=t,o.x1=t+=o.value*u},gT=["x0","y0","x1","y1","depth","children"];function yT(e){UE.call(this,e)}yT.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:gT.length,default:gT}]};var bT=Object(ne.y)(yT,UE);bT.layout=function(){var e=1,t=1,n=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=n,i.x1=e,i.y1=t/o,i.eachBefore(function(e,t){return function(r){r.children&&vT(r,r.x0,e*(r.depth+1)/t,r.x1,e*(r.depth+2)/t);var i=r.x0,o=r.y0,a=r.x1-n,s=r.y1-n;a<i&&(i=a=(i+a)/2),s<o&&(o=s=(o+s)/2),r.x0=i,r.y0=o,r.x1=a,r.y1=s}}(t,o)),r&&i.eachBefore(mT),i}return i.round=function(e){return arguments.length?(r=!!e,i):r},i.size=function(n){return arguments.length?(e=+n[0],t=+n[1],i):[e,t]},i.padding=function(e){return arguments.length?(n=+e,i):n},i},bT.params=["size","round","padding"],bT.fields=gT;var _T={depth:-1},xT={};function wT(e){return e.id}function ET(e){return e.parentId}var TT=function(){var e=wT,t=ET;function n(n){var r,i,o,a,s,l,u,c=n.length,f=new Array(c),d={};for(i=0;i<c;++i)r=n[i],s=f[i]=new FE(r),null!=(l=e(r,i,n))&&(l+="")&&(d[u="$"+(s.id=l)]=u in d?xT:s);for(i=0;i<c;++i)if(s=f[i],null!=(l=t(n[i],i,n))&&(l+="")){if(!(a=d["$"+l]))throw new Error("missing: "+l);if(a===xT)throw new Error("ambiguous: "+l);a.children?a.children.push(s):a.children=[s],s.parent=a}else{if(o)throw new Error("multiple roots");o=s}if(!o)throw new Error("no root");if(o.parent=_T,o.eachBefore((function(e){e.depth=e.parent.depth+1,--c})).eachBefore(jE),o.parent=null,c>0)throw new Error("cycle");return o}return n.id=function(t){return arguments.length?(e=oT(t),n):e},n.parentId=function(e){return arguments.length?(t=oT(e),n):t},n};function ST(e){Hr.call(this,null,e)}function kT(e,t){return e.parent===t.parent?1:2}function OT(e){var t=e.children;return t?t[0]:e.t}function CT(e){var t=e.children;return t?t[t.length-1]:e.t}function AT(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function MT(e,t,n){return e.a.parent===t.parent?e.a:n}function PT(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}ST.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},Object(ne.y)(ST,Hr).transform=function(e,t){t.source||Object(ne.n)("Stratify transform requires an upstream data source.");var n=this.value,r=e.modified(),i=t.fork(t.ALL).materialize(t.SOURCE),o=!this.value||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return i.source=i.source.slice(),o&&(n=i.source.length?IE(TT().id(e.key).parentId(e.parentKey)(i.source),e.key,ne.gb):IE(TT()([{}]),e.key,e.key)),i.source.root=this.value=n,i},PT.prototype=Object.create(FE.prototype);function IT(e,t){return e.parent===t.parent?1:2}function DT(e,t){return e+t.x}function NT(e,t){return Math.max(e,t.y)}var RT={tidy:function(){var e=kT,t=1,n=1,r=null;function i(i){var l=function(e){for(var t,n,r,i,o,a=new PT(e,0),s=[a];t=s.pop();)if(r=t._.children)for(t.children=new Array(o=r.length),i=o-1;i>=0;--i)s.push(n=t.children[i]=new PT(r[i],i)),n.parent=t;return(a.parent=new PT(null,0)).children=[a],a}(i);if(l.eachAfter(o),l.parent.m=-l.z,l.eachBefore(a),r)i.eachBefore(s);else{var u=i,c=i,f=i;i.eachBefore((function(e){e.x<u.x&&(u=e),e.x>c.x&&(c=e),e.depth>f.depth&&(f=e)}));var d=u===c?1:e(u,c)/2,h=d-u.x,p=t/(c.x+d+h),m=n/(f.depth||1);i.eachBefore((function(e){e.x=(e.x+h)*p,e.y=e.depth*m}))}return i}function o(t){var n=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(n){!function(e){for(var t,n=0,r=0,i=e.children,o=i.length;--o>=0;)(t=i[o]).z+=n,t.m+=n,n+=t.s+(r+=t.c)}(t);var o=(n[0].z+n[n.length-1].z)/2;i?(t.z=i.z+e(t._,i._),t.m=t.z-o):t.z=o}else i&&(t.z=i.z+e(t._,i._));t.parent.A=function(t,n,r){if(n){for(var i,o=t,a=t,s=n,l=o.parent.children[0],u=o.m,c=a.m,f=s.m,d=l.m;s=CT(s),o=OT(o),s&&o;)l=OT(l),(a=CT(a)).a=t,(i=s.z+f-o.z-u+e(s._,o._))>0&&(AT(MT(s,t,r),t,i),u+=i,c+=i),f+=s.m,u+=o.m,d+=l.m,c+=a.m;s&&!CT(a)&&(a.t=s,a.m+=f-c),o&&!OT(l)&&(l.t=o,l.m+=u-d,r=t)}return r}(t,i,t.parent.A||r[0])}function a(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function s(e){e.x*=t,e.y=e.depth*n}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i},cluster:function(){var e=IT,t=1,n=1,r=!1;function i(i){var o,a=0;i.eachAfter((function(t){var n=t.children;n?(t.x=function(e){return e.reduce(DT,0)/e.length}(n),t.y=function(e){return 1+e.reduce(NT,0)}(n)):(t.x=o?a+=e(t,o):0,t.y=0,o=t)}));var s=function(e){for(var t;t=e.children;)e=t[0];return e}(i),l=function(e){for(var t;t=e.children;)e=t[t.length-1];return e}(i),u=s.x-e(s,l)/2,c=l.x+e(l,s)/2;return i.eachAfter(r?function(e){e.x=(e.x-i.x)*t,e.y=(i.y-e.y)*n}:function(e){e.x=(e.x-u)/(c-u)*t,e.y=(1-(i.y?e.y/i.y:1))*n})}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i}},LT=["x","y","depth","children"];function jT(e){UE.call(this,e)}jT.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:LT.length,default:LT}]};var FT=Object(ne.y)(jT,UE);function BT(e){Hr.call(this,[],e)}FT.layout=function(e){var t=e||"tidy";if(Object(ne.v)(RT,t))return RT[t]();Object(ne.n)("Unrecognized Tree layout method: "+t)},FT.params=["size","nodeSize"],FT.fields=LT,BT.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]},Object(ne.y)(BT,Hr).transform=function(e,t){var n=this.value,r=t.source&&t.source.root,i=t.fork(t.NO_SOURCE),o={};return r||Object(ne.n)("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(i.rem=n,t.visit(t.SOURCE,(function(e){o[fe(e)]=1})),r.each((function(e){var t=e.data,n=e.parent&&e.parent.data;n&&o[fe(t)]&&o[fe(n)]&&i.add.push(he({source:n,target:t}))})),this.value=i.add):t.changed(t.MOD)&&(t.visit(t.MOD,(function(e){o[fe(e)]=1})),n.forEach((function(e){(o[fe(e.source)]||o[fe(e.target)])&&i.mod.push(e)}))),i};var zT=function(e,t,n,r,i){for(var o,a=e.children,s=-1,l=a.length,u=e.value&&(i-n)/e.value;++s<l;)(o=a[s]).x0=t,o.x1=r,o.y0=n,o.y1=n+=o.value*u},HT=(1+Math.sqrt(5))/2;function UT(e,t,n,r,i,o){for(var a,s,l,u,c,f,d,h,p,m,v,g=[],y=t.children,b=0,_=0,x=y.length,w=t.value;b<x;){l=i-n,u=o-r;do{c=y[_++].value}while(!c&&_<x);for(f=d=c,v=c*c*(m=Math.max(u/l,l/u)/(w*e)),p=Math.max(d/v,v/f);_<x;++_){if(c+=s=y[_].value,s<f&&(f=s),s>d&&(d=s),v=c*c*m,(h=Math.max(d/v,v/f))>p){c-=s;break}p=h}g.push(a={value:c,dice:l<u,children:y.slice(b,_)}),a.dice?vT(a,n,r,i,w?r+=u*c/w:o):zT(a,n,r,w?n+=l*c/w:i,o),w-=c,b=_}return g}var VT=function e(t){function n(e,n,r,i,o){UT(t,e,n,r,i,o)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(HT),GT=function e(t){function n(e,n,r,i,o){if((a=e._squarify)&&a.ratio===t)for(var a,s,l,u,c,f=-1,d=a.length,h=e.value;++f<d;){for(l=(s=a[f]).children,u=s.value=0,c=l.length;u<c;++u)s.value+=l[u].value;s.dice?vT(s,n,r,i,r+=(o-r)*s.value/h):zT(s,n,r,n+=(i-n)*s.value/h,o),h-=s.value}else e._squarify=a=UT(t,e,n,r,i,o),a.ratio=t}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(HT),WT={binary:function(e,t,n,r,i){var o,a,s=e.children,l=s.length,u=new Array(l+1);for(u[0]=a=o=0;o<l;++o)u[o+1]=a+=s[o].value;!function e(t,n,r,i,o,a,l){if(t>=n-1){var c=s[t];return c.x0=i,c.y0=o,c.x1=a,void(c.y1=l)}var f=u[t],d=r/2+f,h=t+1,p=n-1;for(;h<p;){var m=h+p>>>1;u[m]<d?h=m+1:p=m}d-u[h-1]<u[h]-d&&t+1<h&&--h;var v=u[h]-f,g=r-v;if(a-i>l-o){var y=(i*g+a*v)/r;e(t,h,v,i,o,y,l),e(h,n,g,y,o,a,l)}else{var b=(o*g+l*v)/r;e(t,h,v,i,o,a,b),e(h,n,g,i,b,a,l)}}(0,l,e.value,t,n,r,i)},dice:vT,slice:zT,slicedice:function(e,t,n,r,i){(1&e.depth?zT:vT)(e,t,n,r,i)},squarify:VT,resquarify:GT},qT=["x0","y0","x1","y1","depth","children"];function YT(e){UE.call(this,e)}YT.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:qT.length,default:qT}]};var XT=Object(ne.y)(YT,UE);XT.layout=function(){var e=function(){var e=VT,t=!1,n=1,r=1,i=[0],o=aT,a=aT,s=aT,l=aT,u=aT;function c(e){return e.x0=e.y0=0,e.x1=n,e.y1=r,e.eachBefore(f),i=[0],t&&e.eachBefore(mT),e}function f(t){var n=i[t.depth],r=t.x0+n,c=t.y0+n,f=t.x1-n,d=t.y1-n;f<r&&(r=f=(r+f)/2),d<c&&(c=d=(c+d)/2),t.x0=r,t.y0=c,t.x1=f,t.y1=d,t.children&&(n=i[t.depth+1]=o(t)/2,r+=u(t)-n,c+=a(t)-n,(f-=s(t)-n)<r&&(r=f=(r+f)/2),(d-=l(t)-n)<c&&(c=d=(c+d)/2),e(t,r,c,f,d))}return c.round=function(e){return arguments.length?(t=!!e,c):t},c.size=function(e){return arguments.length?(n=+e[0],r=+e[1],c):[n,r]},c.tile=function(t){return arguments.length?(e=oT(t),c):e},c.padding=function(e){return arguments.length?c.paddingInner(e).paddingOuter(e):c.paddingInner()},c.paddingInner=function(e){return arguments.length?(o="function"===typeof e?e:sT(+e),c):o},c.paddingOuter=function(e){return arguments.length?c.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):c.paddingTop()},c.paddingTop=function(e){return arguments.length?(a="function"===typeof e?e:sT(+e),c):a},c.paddingRight=function(e){return arguments.length?(s="function"===typeof e?e:sT(+e),c):s},c.paddingBottom=function(e){return arguments.length?(l="function"===typeof e?e:sT(+e),c):l},c.paddingLeft=function(e){return arguments.length?(u="function"===typeof e?e:sT(+e),c):u},c}();return e.ratio=function(t){var n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=function(t){Object(ne.v)(WT,t)?e.tile(WT[t]):Object(ne.n)("Unrecognized Treemap layout method: "+t)},e},XT.params=["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],XT.fields=qT;var $T=function(e,t){var n,r,i,o,a,s,l=[],u=function(e){return e(o)};if(null==t)l.push(e);else for(n={},r=0,i=e.length;r<i;++r)o=e[r],(s=n[a=t.map(u)])||(n[a]=s=[],s.dims=a,l.push(s)),s.push(o);return l};function KT(e){Hr.call(this,null,e)}KT.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]},Object(ne.y)(KT,Hr).transform=function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var r=t.materialize(t.SOURCE).source,i=$T(r,e.groupby),o=(e.groupby||[]).map(ne.h),a=o.length,s=e.as||[Object(ne.h)(e.x),Object(ne.h)(e.y)],l=[];i.forEach((function(t){oo(t,e.x,e.y,e.bandwidth||.3).forEach((function(e){for(var n={},r=0;r<a;++r)n[o[r]]=t.dims[r];n[s[0]]=e[0],n[s[1]]=e[1],l.push(he(n))}))})),this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n};var ZT={linear:Xi,log:$i,exp:Ji,pow:eo,quad:to,poly:no};function QT(e){Hr.call(this,null,e)}function JT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tS(e,t,n){return t&&eS(e.prototype,t),n&&eS(e,n),e}QT.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(ZT)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]},Object(ne.y)(QT,Hr).transform=function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var r=t.materialize(t.SOURCE).source,i=$T(r,e.groupby),o=(e.groupby||[]).map(ne.h),a=e.method||"linear",s=e.order||3,l=function(e,t){return"poly"===e?t:"quad"===e?2:1}(a,s),u=e.as||[Object(ne.h)(e.x),Object(ne.h)(e.y)],c=ZT[a],f=[],d=e.extent;Object(ne.v)(ZT,a)||Object(ne.n)("Invalid regression method: "+a),null!=d&&"log"===a&&d[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),d=null),i.forEach((function(n){if(n.length<=l)t.dataflow.warn("Skipping regression with more parameters than data points.");else{var r=c(n,e.x,e.y,s);if(e.params)f.push(he({keys:n.dims,coef:r.coef,rSquared:r.rSquared}));else{var i=d||Object(ne.p)(n,e.x),h=function(e){for(var t={},r=0;r<o.length;++r)t[o[r]]=n.dims[r];t[u[0]]=e[0],t[u[1]]=e[1],f.push(he(t))};"linear"===a?i.forEach((function(e){return h([e,r.predict(e)])})):uo(r.predict,i,25,200).forEach(h)}}})),this.value&&(n.rem=this.value),this.value=n.add=n.source=f}return n};var nS=Math.pow(2,-52),rS=new Uint32Array(512),iS=function(){function e(t){JT(this,e);var n=t.length>>1;if(n>0&&"number"!==typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;var r=Math.max(2*n-5,0);this._triangles=new Uint32Array(3*r),this._halfedges=new Int32Array(3*r),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}return tS(e,null,[{key:"from",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dS,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:hS,i=t.length,o=new Float64Array(2*i),a=0;a<i;a++){var s=t[a];o[2*a]=n(s),o[2*a+1]=r(s)}return new e(o)}}]),tS(e,[{key:"update",value:function(){for(var e=this.coords,t=this._hullPrev,n=this._hullNext,r=this._hullTri,i=this._hullHash,o=e.length>>1,a=1/0,s=1/0,l=-1/0,u=-1/0,c=0;c<o;c++){var f=e[2*c],d=e[2*c+1];f<a&&(a=f),d<s&&(s=d),f>l&&(l=f),d>u&&(u=d),this._ids[c]=c}for(var h,p,m,v=(a+l)/2,g=(s+u)/2,y=1/0,b=0;b<o;b++){var _=oS(v,g,e[2*b],e[2*b+1]);_<y&&(h=b,y=_)}var x=e[2*h],w=e[2*h+1];y=1/0;for(var E=0;E<o;E++)if(E!==h){var T=oS(x,w,e[2*E],e[2*E+1]);T<y&&T>0&&(p=E,y=T)}for(var S=e[2*p],k=e[2*p+1],O=1/0,C=0;C<o;C++)if(C!==h&&C!==p){var A=uS(x,w,S,k,e[2*C],e[2*C+1]);A<O&&(m=C,O=A)}var M=e[2*m],P=e[2*m+1];if(O===1/0){for(var I=0;I<o;I++)this._dists[I]=e[2*I]-e[0]||e[2*I+1]-e[1];cS(this._ids,this._dists,0,o-1);for(var D=new Uint32Array(o),N=0,R=0,L=-1/0;R<o;R++){var j=this._ids[R];this._dists[j]>L&&(D[N++]=j,L=this._dists[j])}return this.hull=D.subarray(0,N),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(sS(x,w,S,k,M,P)){var F=p,B=S,z=k;p=m,S=M,k=P,m=F,M=B,P=z}var H=function(e,t,n,r,i,o){var a=n-e,s=r-t,l=i-e,u=o-t,c=a*a+s*s,f=l*l+u*u,d=.5/(a*u-s*l);return{x:e+(u*c-s*f)*d,y:t+(a*f-l*c)*d}}(x,w,S,k,M,P);this._cx=H.x,this._cy=H.y;for(var U=0;U<o;U++)this._dists[U]=oS(e[2*U],e[2*U+1],H.x,H.y);cS(this._ids,this._dists,0,o-1),this._hullStart=h;var V=3;n[h]=t[m]=p,n[p]=t[h]=m,n[m]=t[p]=h,r[h]=0,r[p]=1,r[m]=2,i.fill(-1),i[this._hashKey(x,w)]=h,i[this._hashKey(S,k)]=p,i[this._hashKey(M,P)]=m,this.trianglesLen=0,this._addTriangle(h,p,m,-1,-1,-1);for(var G,W,q=0;q<this._ids.length;q++){var Y=this._ids[q],X=e[2*Y],$=e[2*Y+1];if(!(q>0&&Math.abs(X-G)<=nS&&Math.abs($-W)<=nS)&&(G=X,W=$,Y!==h&&Y!==p&&Y!==m)){for(var K=0,Z=0,Q=this._hashKey(X,$);Z<this._hashSize&&(-1===(K=i[(Q+Z)%this._hashSize])||K===n[K]);Z++);for(var J=K=t[K],ee=void 0;ee=n[J],!sS(X,$,e[2*J],e[2*J+1],e[2*ee],e[2*ee+1]);)if((J=ee)===K){J=-1;break}if(-1!==J){var te=this._addTriangle(J,Y,n[J],-1,-1,r[J]);r[Y]=this._legalize(te+2),r[J]=te,V++;for(var ne=n[J];ee=n[ne],sS(X,$,e[2*ne],e[2*ne+1],e[2*ee],e[2*ee+1]);)te=this._addTriangle(ne,Y,ee,r[Y],-1,r[ne]),r[Y]=this._legalize(te+2),n[ne]=ne,V--,ne=ee;if(J===K)for(;sS(X,$,e[2*(ee=t[J])],e[2*ee+1],e[2*J],e[2*J+1]);)te=this._addTriangle(ee,Y,J,-1,r[J],r[ee]),this._legalize(te+2),r[ee]=te,n[J]=J,V--,J=ee;this._hullStart=t[Y]=J,n[J]=t[ne]=Y,n[Y]=ne,i[this._hashKey(X,$)]=Y,i[this._hashKey(e[2*J],e[2*J+1])]=J}}}this.hull=new Uint32Array(V);for(var re=0,ie=this._hullStart;re<V;re++)this.hull[re]=ie,ie=n[ie];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}},{key:"_hashKey",value:function(e,t){return Math.floor(function(e,t){var n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}},{key:"_legalize",value:function(e){for(var t=this._triangles,n=this._halfedges,r=this.coords,i=0,o=0;;){var a=n[e],s=e-e%3;if(o=s+(e+2)%3,-1!==a){var l=a-a%3,u=s+(e+1)%3,c=l+(a+2)%3,f=t[o],d=t[e],h=t[u],p=t[c];if(lS(r[2*f],r[2*f+1],r[2*d],r[2*d+1],r[2*h],r[2*h+1],r[2*p],r[2*p+1])){t[e]=p,t[a]=f;var m=n[c];if(-1===m){var v=this._hullStart;do{if(this._hullTri[v]===c){this._hullTri[v]=e;break}v=this._hullPrev[v]}while(v!==this._hullStart)}this._link(e,m),this._link(a,n[o]),this._link(o,c);var g=l+(a+1)%3;i<rS.length&&(rS[i++]=g)}else{if(0===i)break;e=rS[--i]}}else{if(0===i)break;e=rS[--i]}}return o}},{key:"_link",value:function(e,t){this._halfedges[e]=t,-1!==t&&(this._halfedges[t]=e)}},{key:"_addTriangle",value:function(e,t,n,r,i,o){var a=this.trianglesLen;return this._triangles[a]=e,this._triangles[a+1]=t,this._triangles[a+2]=n,this._link(a,r),this._link(a+1,i),this._link(a+2,o),this.trianglesLen+=3,a}}]),e}();function oS(e,t,n,r){var i=e-n,o=t-r;return i*i+o*o}function aS(e,t,n,r,i,o){var a=(r-t)*(i-e),s=(n-e)*(o-t);return Math.abs(a-s)>=33306690738754716e-32*Math.abs(a+s)?a-s:0}function sS(e,t,n,r,i,o){return(aS(i,o,e,t,n,r)||aS(e,t,n,r,i,o)||aS(n,r,i,o,e,t))<0}function lS(e,t,n,r,i,o,a,s){var l=e-a,u=t-s,c=n-a,f=r-s,d=i-a,h=o-s,p=c*c+f*f,m=d*d+h*h;return l*(f*m-p*h)-u*(c*m-p*d)+(l*l+u*u)*(c*h-f*d)<0}function uS(e,t,n,r,i,o){var a=n-e,s=r-t,l=i-e,u=o-t,c=a*a+s*s,f=l*l+u*u,d=.5/(a*u-s*l),h=(u*c-s*f)*d,p=(a*f-l*c)*d;return h*h+p*p}function cS(e,t,n,r){if(r-n<=20)for(var i=n+1;i<=r;i++){for(var o=e[i],a=t[o],s=i-1;s>=n&&t[e[s]]>a;)e[s+1]=e[s--];e[s+1]=o}else{var l=n+1,u=r;fS(e,n+r>>1,l),t[e[n]]>t[e[r]]&&fS(e,n,r),t[e[l]]>t[e[r]]&&fS(e,l,r),t[e[n]]>t[e[l]]&&fS(e,n,l);for(var c=e[l],f=t[c];;){do{l++}while(t[e[l]]<f);do{u--}while(t[e[u]]>f);if(u<l)break;fS(e,l,u)}e[n+1]=e[u],e[u]=c,r-l+1>=u-n?(cS(e,t,l,r),cS(e,t,n,u-1)):(cS(e,t,n,u-1),cS(e,t,l,r))}}function fS(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function dS(e){return e[0]}function hS(e){return e[1]}var pS=function(){function e(){JT(this,e),this._x0=this._y0=this._x1=this._y1=null,this._=""}return tS(e,[{key:"moveTo",value:function(e,t){this._+="M".concat(this._x0=this._x1=+e,",").concat(this._y0=this._y1=+t)}},{key:"closePath",value:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}},{key:"lineTo",value:function(e,t){this._+="L".concat(this._x1=+e,",").concat(this._y1=+t)}},{key:"arc",value:function(e,t,n){var r=(e=+e)+(n=+n),i=t=+t;if(n<0)throw new Error("negative radius");null===this._x1?this._+="M".concat(r,",").concat(i):(Math.abs(this._x1-r)>1e-6||Math.abs(this._y1-i)>1e-6)&&(this._+="L"+r+","+i),n&&(this._+="A".concat(n,",").concat(n,",0,1,1,").concat(e-n,",").concat(t,"A").concat(n,",").concat(n,",0,1,1,").concat(this._x1=r,",").concat(this._y1=i))}},{key:"rect",value:function(e,t,n,r){this._+="M".concat(this._x0=this._x1=+e,",").concat(this._y0=this._y1=+t,"h").concat(+n,"v").concat(+r,"h").concat(-n,"Z")}},{key:"value",value:function(){return this._||null}}]),e}(),mS=function(){function e(){JT(this,e),this._=[]}return tS(e,[{key:"moveTo",value:function(e,t){this._.push([e,t])}},{key:"closePath",value:function(){this._.push(this._[0].slice())}},{key:"lineTo",value:function(e,t){this._.push([e,t])}},{key:"value",value:function(){return this._.length?this._:null}}]),e}(),vS=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,960,500],r=Qi(n,4),i=r[0],o=r[1],a=r[2],s=r[3];if(JT(this,e),!((a=+a)>=(i=+i))||!((s=+s)>=(o=+o)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=a,this.xmin=i,this.ymax=s,this.ymin=o,this._init()}return tS(e,[{key:"update",value:function(){return this.delaunay.update(),this._init(),this}},{key:"_init",value:function(){for(var e,t,n=this.delaunay,r=n.points,i=n.hull,o=n.triangles,a=this.vectors,s=this.circumcenters=this._circumcenters.subarray(0,o.length/3*2),l=0,u=0,c=o.length;l<c;l+=3,u+=2){var f=2*o[l],d=2*o[l+1],h=2*o[l+2],p=r[f],m=r[f+1],v=r[d],g=r[d+1],y=r[h],b=r[h+1],_=v-p,x=g-m,w=y-p,E=b-m,T=_*_+x*x,S=w*w+E*E,k=2*(_*E-x*w);if(k)if(Math.abs(k)<1e-8)e=(p+y)/2,t=(m+b)/2;else{var O=1/k;e=p+(E*T-x*S)*O,t=m+(_*S-w*T)*O}else e=(p+y)/2-1e8*E,t=(m+b)/2+1e8*w;s[u]=e,s[u+1]=t}var C,A,M,P=i[i.length-1],I=4*P,D=r[2*P],N=r[2*P+1];a.fill(0);for(var R=0;R<i.length;++R)C=I,A=D,M=N,I=4*(P=i[R]),D=r[2*P],N=r[2*P+1],a[C+2]=a[I]=M-N,a[C+3]=a[I+1]=D-A}},{key:"render",value:function(e){var t=null==e?e=new pS:void 0,n=this.delaunay,r=n.halfedges,i=n.inedges,o=n.hull,a=this.circumcenters,s=this.vectors;if(o.length<=1)return null;for(var l=0,u=r.length;l<u;++l){var c=r[l];if(!(c<l)){var f=2*Math.floor(l/3),d=2*Math.floor(c/3),h=a[f],p=a[f+1],m=a[d],v=a[d+1];this._renderSegment(h,p,m,v,e)}}for(var g,y=o[o.length-1],b=0;b<o.length;++b){g=y,y=o[b];var _=2*Math.floor(i[y]/3),x=a[_],w=a[_+1],E=4*g,T=this._project(x,w,s[E+2],s[E+3]);T&&this._renderSegment(x,w,T[0],T[1],e)}return t&&t.value()}},{key:"renderBounds",value:function(e){var t=null==e?e=new pS:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}},{key:"renderCell",value:function(e,t){var n=null==t?t=new pS:void 0,r=this._clip(e);if(null!==r){t.moveTo(r[0],r[1]);for(var i=r.length;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(var o=2;o<i;o+=2)r[o]===r[o-2]&&r[o+1]===r[o-1]||t.lineTo(r[o],r[o+1]);return t.closePath(),n&&n.value()}}},{key:"cellPolygons",value:x.a.mark((function e(){var t,n,r,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.delaunay.points,n=0,r=t.length/2;case 2:if(!(n<r)){e.next=10;break}if(!(i=this.cellPolygon(n))){e.next=7;break}return e.next=7,i;case 7:++n,e.next=2;break;case 10:case"end":return e.stop()}}),e,this)}))},{key:"cellPolygon",value:function(e){var t=new mS;return this.renderCell(e,t),t.value()}},{key:"_renderSegment",value:function(e,t,n,r,i){var o,a=this._regioncode(e,t),s=this._regioncode(n,r);0===a&&0===s?(i.moveTo(e,t),i.lineTo(n,r)):(o=this._clipSegment(e,t,n,r,a,s))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}},{key:"contains",value:function(e,t,n){return(t=+t)===t&&(n=+n)===n&&this.delaunay._step(e,t,n)===e}},{key:"neighbors",value:x.a.mark((function e(t){var n,r,i,o,a,s,l,u,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this._clip(t))){e.next=33;break}r=ni(this.delaunay.neighbors(t)),e.prev=3,r.s();case 5:if((i=r.n()).done){e.next=25;break}if(o=i.value,!(a=this._clip(o))){e.next=23;break}s=0,l=n.length;case 10:if(!(s<l)){e.next=23;break}u=0,c=a.length;case 12:if(!(u<c)){e.next=20;break}if(n[s]!=a[u]||n[s+1]!=a[u+1]||n[(s+2)%l]!=a[(u+c-2)%c]||n[(s+3)%l]!=a[(u+c-1)%c]){e.next=17;break}return e.next=16,o;case 16:return e.abrupt("break",23);case 17:u+=2,e.next=12;break;case 20:s+=2,e.next=10;break;case 23:e.next=5;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(3),r.e(e.t0);case 30:return e.prev=30,r.f(),e.finish(30);case 33:case"end":return e.stop()}}),e,this,[[3,27,30,33]])}))},{key:"_cell",value:function(e){var t=this.circumcenters,n=this.delaunay,r=n.inedges,i=n.halfedges,o=n.triangles,a=r[e];if(-1===a)return null;var s=[],l=a;do{var u=Math.floor(l/3);if(s.push(t[2*u],t[2*u+1]),o[l=l%3===2?l-2:l+1]!==e)break;l=i[l]}while(l!==a&&-1!==l);return s}},{key:"_clip",value:function(e){if(0===e&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];var t=this._cell(e);if(null===t)return null;var n=this.vectors,r=4*e;return n[r]||n[r+1]?this._clipInfinite(e,t,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(e,t)}},{key:"_clipFinite",value:function(e,t){for(var n,r,i,o,a,s=t.length,l=null,u=t[s-2],c=t[s-1],f=this._regioncode(u,c),d=0;d<s;d+=2)if(n=u,r=c,u=t[d],c=t[d+1],i=f,f=this._regioncode(u,c),0===i&&0===f)o=a,a=0,l?l.push(u,c):l=[u,c];else{var h=void 0,p=void 0,m=void 0,v=void 0,g=void 0;if(0===i){if(null===(h=this._clipSegment(n,r,u,c,i,f)))continue;var y=Qi(h,4);p=y[0],m=y[1],v=y[2],g=y[3]}else{if(null===(h=this._clipSegment(u,c,n,r,f,i)))continue;var b=Qi(h,4);v=b[0],g=b[1],p=b[2],m=b[3],o=a,a=this._edgecode(p,m),o&&a&&this._edge(e,o,a,l,l.length),l?l.push(p,m):l=[p,m]}o=a,a=this._edgecode(v,g),o&&a&&this._edge(e,o,a,l,l.length),l?l.push(v,g):l=[v,g]}if(l)o=a,a=this._edgecode(l[0],l[1]),o&&a&&this._edge(e,o,a,l,l.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return l}},{key:"_clipSegment",value:function(e,t,n,r,i,o){for(;;){if(0===i&&0===o)return[e,t,n,r];if(i&o)return null;var a=void 0,s=void 0,l=i||o;8&l?(a=e+(n-e)*(this.ymax-t)/(r-t),s=this.ymax):4&l?(a=e+(n-e)*(this.ymin-t)/(r-t),s=this.ymin):2&l?(s=t+(r-t)*(this.xmax-e)/(n-e),a=this.xmax):(s=t+(r-t)*(this.xmin-e)/(n-e),a=this.xmin),i?(e=a,t=s,i=this._regioncode(e,t)):(n=a,r=s,o=this._regioncode(n,r))}}},{key:"_clipInfinite",value:function(e,t,n,r,i,o){var a,s=Array.from(t);if((a=this._project(s[0],s[1],n,r))&&s.unshift(a[0],a[1]),(a=this._project(s[s.length-2],s[s.length-1],i,o))&&s.push(a[0],a[1]),s=this._clipFinite(e,s))for(var l,u=0,c=s.length,f=this._edgecode(s[c-2],s[c-1]);u<c;u+=2)l=f,f=this._edgecode(s[u],s[u+1]),l&&f&&(u=this._edge(e,l,f,s,u),c=s.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}},{key:"_edge",value:function(e,t,n,r,i){for(;t!==n;){var o=void 0,a=void 0;switch(t){case 5:t=4;continue;case 4:t=6,o=this.xmax,a=this.ymin;break;case 6:t=2;continue;case 2:t=10,o=this.xmax,a=this.ymax;break;case 10:t=8;continue;case 8:t=9,o=this.xmin,a=this.ymax;break;case 9:t=1;continue;case 1:t=5,o=this.xmin,a=this.ymin}r[i]===o&&r[i+1]===a||!this.contains(e,o,a)||(r.splice(i,0,o,a),i+=2)}if(r.length>4)for(var s=0;s<r.length;s+=2){var l=(s+2)%r.length,u=(s+4)%r.length;(r[s]===r[l]&&r[l]===r[u]||r[s+1]===r[l+1]&&r[l+1]===r[u+1])&&(r.splice(l,2),s-=2)}return i}},{key:"_project",value:function(e,t,n,r){var i,o,a,s=1/0;if(r<0){if(t<=this.ymin)return null;(i=(this.ymin-t)/r)<s&&(a=this.ymin,o=e+(s=i)*n)}else if(r>0){if(t>=this.ymax)return null;(i=(this.ymax-t)/r)<s&&(a=this.ymax,o=e+(s=i)*n)}if(n>0){if(e>=this.xmax)return null;(i=(this.xmax-e)/n)<s&&(o=this.xmax,a=t+(s=i)*r)}else if(n<0){if(e<=this.xmin)return null;(i=(this.xmin-e)/n)<s&&(o=this.xmin,a=t+(s=i)*r)}return[o,a]}},{key:"_edgecode",value:function(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}},{key:"_regioncode",value:function(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}}]),e}(),gS=x.a.mark(TS),yS=2*Math.PI;function bS(e){return e[0]}function _S(e){return e[1]}function xS(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}var wS=function(){function e(t){JT(this,e),this._delaunator=new iS(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}return tS(e,null,[{key:"from",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bS,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_S,i=arguments.length>3?arguments[3]:void 0;return new e("length"in t?ES(t,n,r,i):Float64Array.from(TS(t,n,r,i)))}}]),tS(e,[{key:"update",value:function(){return this._delaunator.update(),this._init(),this}},{key:"_init",value:function(){var e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&function(e){for(var t=e.triangles,n=e.coords,r=0;r<t.length;r+=3){var i=2*t[r],o=2*t[r+1],a=2*t[r+2];if((n[a]-n[i])*(n[o+1]-n[i+1])-(n[o]-n[i])*(n[a+1]-n[i+1])>1e-10)return!1}return!0}(e)){this.collinear=Int32Array.from({length:t.length/2},(function(e,t){return t})).sort((function(e,n){return t[2*e]-t[2*n]||t[2*e+1]-t[2*n+1]}));for(var n=this.collinear[0],r=this.collinear[this.collinear.length-1],i=[t[2*n],t[2*n+1],t[2*r],t[2*r+1]],o=1e-8*Math.sqrt(Math.pow(i[3]-i[1],2)+Math.pow(i[2]-i[0],2)),a=0,s=t.length/2;a<s;++a){var l=xS(t[2*a],t[2*a+1],o);t[2*a]=l[0],t[2*a+1]=l[1]}this._delaunator=new iS(t)}else delete this.collinear;for(var u=this.halfedges=this._delaunator.halfedges,c=this.hull=this._delaunator.hull,f=this.triangles=this._delaunator.triangles,d=this.inedges.fill(-1),h=this._hullIndex.fill(-1),p=0,m=u.length;p<m;++p){var v=f[p%3===2?p-2:p+1];-1!==u[p]&&-1!==d[v]||(d[v]=p)}for(var g=0,y=c.length;g<y;++g)h[c[g]]=g;c.length<=2&&c.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=c[0],this.triangles[1]=c[1],this.triangles[2]=c[1],d[c[0]]=1,2===c.length&&(d[c[1]]=0))}},{key:"voronoi",value:function(e){return new vS(this,e)}},{key:"neighbors",value:x.a.mark((function e(t){var n,r,i,o,a,s,l,u,c,f,d;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.inedges,r=this.hull,i=this._hullIndex,o=this.halfedges,a=this.triangles,!(s=this.collinear)){e.next=10;break}if(!((l=s.indexOf(t))>0)){e.next=6;break}return e.next=6,s[l-1];case 6:if(!(l<s.length-1)){e.next=9;break}return e.next=9,s[l+1];case 9:return e.abrupt("return");case 10:if(-1!==(u=n[t])){e.next=13;break}return e.abrupt("return");case 13:c=u,f=-1;case 14:return e.next=16,f=a[c];case 16:if(a[c=c%3===2?c-2:c+1]===t){e.next=19;break}return e.abrupt("return");case 19:if(-1!==(c=o[c])){e.next=26;break}if((d=r[(i[t]+1)%r.length])===f){e.next=25;break}return e.next=25,d;case 25:return e.abrupt("return");case 26:if(c!==u){e.next=14;break}case 27:case"end":return e.stop()}}),e,this)}))},{key:"find",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if((e=+e)!==e||(t=+t)!==t)return-1;for(var r,i=n;(r=this._step(n,e,t))>=0&&r!==n&&r!==i;)n=r;return r}},{key:"_step",value:function(e,t,n){var r=this.inedges,i=this.hull,o=this._hullIndex,a=this.halfedges,s=this.triangles,l=this.points;if(-1===r[e]||!l.length)return(e+1)%(l.length>>1);var u=e,c=Math.pow(t-l[2*e],2)+Math.pow(n-l[2*e+1],2),f=r[e],d=f;do{var h=s[d],p=Math.pow(t-l[2*h],2)+Math.pow(n-l[2*h+1],2);if(p<c&&(c=p,u=h),s[d=d%3===2?d-2:d+1]!==e)break;if(-1===(d=a[d])){if((d=i[(o[e]+1)%i.length])!==h&&Math.pow(t-l[2*d],2)+Math.pow(n-l[2*d+1],2)<c)return d;break}}while(d!==f);return u}},{key:"render",value:function(e){for(var t=null==e?e=new pS:void 0,n=this.points,r=this.halfedges,i=this.triangles,o=0,a=r.length;o<a;++o){var s=r[o];if(!(s<o)){var l=2*i[o],u=2*i[s];e.moveTo(n[l],n[l+1]),e.lineTo(n[u],n[u+1])}}return this.renderHull(e),t&&t.value()}},{key:"renderPoints",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=null==e?e=new pS:void 0,r=this.points,i=0,o=r.length;i<o;i+=2){var a=r[i],s=r[i+1];e.moveTo(a+t,s),e.arc(a,s,t,0,yS)}return n&&n.value()}},{key:"renderHull",value:function(e){var t=null==e?e=new pS:void 0,n=this.hull,r=this.points,i=2*n[0],o=n.length;e.moveTo(r[i],r[i+1]);for(var a=1;a<o;++a){var s=2*n[a];e.lineTo(r[s],r[s+1])}return e.closePath(),t&&t.value()}},{key:"hullPolygon",value:function(){var e=new mS;return this.renderHull(e),e.value()}},{key:"renderTriangle",value:function(e,t){var n=null==t?t=new pS:void 0,r=this.points,i=this.triangles,o=2*i[e*=3],a=2*i[e+1],s=2*i[e+2];return t.moveTo(r[o],r[o+1]),t.lineTo(r[a],r[a+1]),t.lineTo(r[s],r[s+1]),t.closePath(),n&&n.value()}},{key:"trianglePolygons",value:x.a.mark((function e(){var t,n,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.triangles,n=0,r=t.length/3;case 2:if(!(n<r)){e.next=8;break}return e.next=5,this.trianglePolygon(n);case 5:++n,e.next=2;break;case 8:case"end":return e.stop()}}),e,this)}))},{key:"trianglePolygon",value:function(e){var t=new mS;return this.renderTriangle(e,t),t.value()}}]),e}();function ES(e,t,n,r){for(var i=e.length,o=new Float64Array(2*i),a=0;a<i;++a){var s=e[a];o[2*a]=t.call(r,s,a,e),o[2*a+1]=n.call(r,s,a,e)}return o}function TS(e,t,n,r){var i,o,a,s;return x.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:i=0,o=ni(e),l.prev=2,o.s();case 4:if((a=o.n()).done){l.next=13;break}return s=a.value,l.next=8,t.call(r,s,i,e);case 8:return l.next=10,n.call(r,s,i,e);case 10:++i;case 11:l.next=4;break;case 13:l.next=18;break;case 15:l.prev=15,l.t0=l.catch(2),o.e(l.t0);case 18:return l.prev=18,o.f(),l.finish(18);case 21:case"end":return l.stop()}}),gS,null,[[2,15,18,21]])}function SS(e){Hr.call(this,null,e)}SS.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};var kS=Object(ne.y)(SS,Hr),OS=[-1e5,-1e5,1e5,1e5];function CS(e){for(var t=e[0][0],n=e[0][1],r=e.length-1;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}kS.transform=function(e,t){var n=e.as||"path",r=t.source;if(!r||!r.length)return t;var i=e.size;i=i?[0,0,i[0],i[1]]:(i=e.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:OS;for(var o=this.value=wS.from(r,e.x,e.y).voronoi(i),a=0,s=r.length;a<s;++a){var l=o.cellPolygon(a);r[a][n]=l?CS(l):null}return t.reflow(e.modified()).modifies(n)};var AS=Math.PI/180,MS=function(){var e,t,n,r,i,o,a,s=[256,256],l=NS,u=[],c=Math.random,f={};function d(e,t,n){for(var r,i,o,a,u,f=t.x,d=t.y,h=Math.sqrt(s[0]*s[0]+s[1]*s[1]),p=l(s),m=c()<.5?1:-1,v=-m;(r=p(v+=m))&&(i=~~r[0],o=~~r[1],!(Math.min(Math.abs(i),Math.abs(o))>=h));)if(t.x=f+i,t.y=d+o,!(t.x+t.x0<0||t.y+t.y0<0||t.x+t.x1>s[0]||t.y+t.y1>s[1])&&(!n||!IS(t,e,s[0]))&&(!n||(u=n,(a=t).x+a.x1>u[0].x&&a.x+a.x0<u[1].x&&a.y+a.y1>u[0].y&&a.y+a.y0<u[1].y))){for(var g,y=t.sprite,b=t.width>>5,_=s[0]>>5,x=t.x-(b<<4),w=127&x,E=32-w,T=t.y1-t.y0,S=(t.y+t.y0)*_+(x>>5),k=0;k<T;k++){g=0;for(var O=0;O<=b;O++)e[S+O]|=g<<E|(O<b?(g=y[k*b+O])>>>w:0);S+=_}return t.sprite=null,!0}return!1}return f.layout=function(){for(var l=function(e){e.width=e.height=1;var t=Math.sqrt(e.getContext("2d").getImageData(0,0,1,1).data.length>>2);e.width=2048/t,e.height=2048/t;var n=e.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:t}}(Cl()),f=function(e){var t=[],n=-1;for(;++n<e;)t[n]=0;return t}((s[0]>>5)*s[1]),h=null,p=u.length,m=-1,v=[],g=u.map((function(s){return{text:e(s),font:t(s),style:r(s),weight:i(s),rotate:o(s),size:~~(n(s)+1e-14),padding:a(s),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:s}})).sort((function(e,t){return t.size-e.size}));++m<p;){var y=g[m];y.x=s[0]*(c()+.5)>>1,y.y=s[1]*(c()+.5)>>1,PS(l,y,g,m),y.hasText&&d(f,y,h)&&(v.push(y),h?DS(h,y):h=[{x:y.x+y.x0,y:y.y+y.y0},{x:y.x+y.x1,y:y.y+y.y1}],y.x-=s[0]>>1,y.y-=s[1]>>1)}return v},f.words=function(e){return arguments.length?(u=e,f):u},f.size=function(e){return arguments.length?(s=[+e[0],+e[1]],f):s},f.font=function(e){return arguments.length?(t=RS(e),f):t},f.fontStyle=function(e){return arguments.length?(r=RS(e),f):r},f.fontWeight=function(e){return arguments.length?(i=RS(e),f):i},f.rotate=function(e){return arguments.length?(o=RS(e),f):o},f.text=function(t){return arguments.length?(e=RS(t),f):e},f.spiral=function(e){return arguments.length?(l=LS[e]||e,f):l},f.fontSize=function(e){return arguments.length?(n=RS(e),f):n},f.padding=function(e){return arguments.length?(a=RS(e),f):a},f.random=function(e){return arguments.length?(c=e,f):c},f};function PS(e,t,n,r){if(!t.sprite){var i=e.context,o=e.ratio;i.clearRect(0,0,2048/o,2048/o);var a,s,l,u,c,f=0,d=0,h=0,p=n.length;for(--r;++r<p;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/o)+"px "+t.font,a=i.measureText(t.text+"m").width*o,l=t.size<<1,t.rotate){var m=Math.sin(t.rotate*AS),v=Math.cos(t.rotate*AS),g=a*v,y=a*m,b=l*v,_=l*m;a=Math.max(Math.abs(g+_),Math.abs(g-_))+31>>5<<5,l=~~Math.max(Math.abs(y+b),Math.abs(y-b))}else a=a+31>>5<<5;if(l>h&&(h=l),f+a>=2048&&(f=0,d+=h,h=0),d+l>=2048)break;i.translate((f+(a>>1))/o,(d+(l>>1))/o),t.rotate&&i.rotate(t.rotate*AS),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=a,t.height=l,t.xoff=f,t.yoff=d,t.x1=a>>1,t.y1=l>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,f+=a}for(var x=i.getImageData(0,0,2048/o,2048/o).data,w=[];--r>=0;)if((t=n[r]).hasText){for(s=(a=t.width)>>5,l=t.y1-t.y0,u=0;u<l*s;u++)w[u]=0;if(null==(f=t.xoff))return;d=t.yoff;var E=0,T=-1;for(c=0;c<l;c++){for(u=0;u<a;u++){var S=s*c+(u>>5),k=x[2048*(d+c)+(f+u)<<2]?1<<31-u%32:0;w[S]|=k,E|=k}E?T=c:(t.y0++,l--,c--,d++)}t.y1=t.y0+T,t.sprite=w.slice(0,(t.y1-t.y0)*s)}}}function IS(e,t,n){n>>=5;for(var r,i=e.sprite,o=e.width>>5,a=e.x-(o<<4),s=127&a,l=32-s,u=e.y1-e.y0,c=(e.y+e.y0)*n+(a>>5),f=0;f<u;f++){r=0;for(var d=0;d<=o;d++)if((r<<l|(d<o?(r=i[f*o+d])>>>s:0))&t[c+d])return!0;c+=n}return!1}function DS(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function NS(e){var t=e[0]/e[1];return function(e){return[t*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function RS(e){return"function"===typeof e?e:function(){return e}}var LS={archimedean:NS,rectangular:function(e){var t=4*e[0]/e[1],n=0,r=0;return function(e){var i=e<0?-1:1;switch(Math.sqrt(1+4*i*e)-i&3){case 0:n+=t;break;case 1:r+=4;break;case 2:n-=t;break;default:r-=4}return[n,r]}}},jS=["x","y","font","fontSize","fontStyle","fontWeight","angle"],FS=["text","font","rotate","fontSize","fontStyle","fontWeight"];function BS(e){Hr.call(this,MS(),e)}function zS(e){return new Uint8Array(e)}function HS(e){return new Uint16Array(e)}function US(e){return new Uint32Array(e)}function VS(e,t,n){var r=(t<257?zS:t<65537?HS:US)(e);return n&&r.set(n),r}BS.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:jS}]},Object(ne.y)(BS,Hr).transform=function(e,t){!e.size||e.size[0]&&e.size[1]||Object(ne.n)("Wordcloud size dimensions must be non-zero.");var n=e.modified();if(n||t.changed(t.ADD_REM)||FS.some((function(n){var r=e[n];return Object(ne.D)(r)&&t.modified(r.fields)}))){var r,i=t.materialize(t.SOURCE).source,o=this.value,a=e.as||jS,s=e.fontSize||14;if(Object(ne.D)(s)?r=e.fontSizeRange:s=Object(ne.l)(s),r){var l=s,u=mm("sqrt")().domain(Object(ne.p)(i,l)).range(r);s=function(e){return u(l(e))}}i.forEach((function(e){e[a[0]]=NaN,e[a[1]]=NaN,e[a[3]]=0}));for(var c,f,d=o.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(s).random(yi).layout(),h=o.size(),p=h[0]>>1,m=h[1]>>1,v=0,g=d.length;v<g;++v)(f=(c=d[v]).datum)[a[0]]=c.x+p,f[a[1]]=c.y+m,f[a[2]]=c.font,f[a[3]]=c.size,f[a[4]]=c.style,f[a[5]]=c.weight,f[a[6]]=c.rotate;return t.reflow(n).modifies(a)}};var GS=function(e,t,n){var r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd:function(e,t){var n,i=this.bisect(this.range,e.value),o=e.index,a=i[0],s=i[1],l=o.length;for(n=0;n<a;++n)t[o[n]]|=r;for(n=s;n<l;++n)t[o[n]]|=r;return this}}};function WS(){var e=US(0),t=[],n=0;return{insert:function(r,i,o){if(!i.length)return[];var a,s,l,u,c,f,d,h=n,p=i.length,m=Array(p),v=US(p);for(l=0;l<p;++l)m[l]=r(i[l]),v[l]=l;if(d=v,(f=m).sort.call(d,(function(e,t){var n=f[e],r=f[t];return n<r?-1:n>r?1:0})),u=f,c=d,m=Array.from(c,(function(e){return u[e]})),h)a=t,s=e,t=Array(h+p),e=US(h+p),function(e,t,n,r,i,o,a,s,l){var u,c=0,f=0;for(u=0;c<r&&f<a;++u)t[c]<i[f]?(s[u]=t[c],l[u]=n[c++]):(s[u]=i[f],l[u]=o[f++]+e);for(;c<r;++c,++u)s[u]=t[c],l[u]=n[c];for(;f<a;++f,++u)s[u]=i[f],l[u]=o[f]+e}(o,a,s,h,m,v,p,t,e);else{if(o>0)for(l=0;l<p;++l)v[l]+=o;t=m,e=v}return n=h+p,{index:v,value:m}},remove:function(r,i){var o,a,s,l=n;for(a=0;!i[e[a]]&&a<l;++a);for(s=a;a<l;++a)i[o=e[a]]||(e[s]=o,t[s]=t[a],++s);n=l-r},bisect:function(e,r){var i;return r?i=r.length:(r=t,i=n),[ih(r,e[0],0,i),rh(r,e[1],0,i)]},reindex:function(t){for(var r=0,i=n;r<i;++r)e[r]=t[e[r]]},index:function(){return e},size:function(){return n}}}function qS(e){Hr.call(this,function(){var e=8,t=[],n=US(0),r=VS(0,e),i=VS(0,e);return{data:function(){return t},seen:function(){return e=n,r=t.length,n=e.length>=r?e:((i=i||new e.constructor(r)).set(e),i);var e,r,i},add:function(e){for(var n,r=0,i=t.length,o=e.length;r<o;++r)(n=e[r])._index=i++,t.push(n)},remove:function(e,n){var o,a,s,l=t.length,u=Array(l-e),c=t;for(a=0;!n[a]&&a<l;++a)u[a]=t[a],c[a]=a;for(s=a;a<l;++a)o=t[a],n[a]?c[a]=-1:(c[a]=s,r[s]=r[a],i[s]=i[a],u[s]=o,o._index=s++),r[a]=0;return t=u,c},size:function(){return t.length},curr:function(){return r},prev:function(){return i},reset:function(e){i[e]=r[e]},all:function(){return e<257?255:e<65537?65535:4294967295},set:function(e,t){r[e]|=t},clear:function(e,t){r[e]&=~t},resize:function(t,n){(t>r.length||n>e)&&(e=Math.max(n,e),r=VS(t,e,r),i=VS(t,e))}}}(),e),this._indices=null,this._dims=null}qS.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};var YS=Object(ne.y)(qS,Hr);function XS(e){Hr.call(this,null,e)}YS.transform=function(e,t){return this._dims?e.modified("fields")||e.fields.some((function(e){return t.modified(e.fields)}))?this.reinit(e,t):this.eval(e,t):this.init(e,t)},YS.init=function(e,t){for(var n,r,i=e.fields,o=e.query,a=this._indices={},s=this._dims=[],l=o.length,u=0;u<l;++u)r=a[n=i[u].fname]||(a[n]=WS()),s.push(GS(r,u,o[u]));return this.eval(e,t)},YS.reinit=function(e,t){var n,r,i,o,a,s,l,u,c,f=t.materialize().fork(),d=e.fields,h=e.query,p=this._indices,m=this._dims,v=this.value,g=v.curr(),y=v.prev(),b=v.all(),_=f.rem=f.add,x=f.mod,w=h.length,E={};if(y.set(g),t.rem.length&&(a=this.remove(e,t,f)),t.add.length&&v.add(t.add),t.mod.length)for(s={},l=0,u=(o=t.mod).length;l<u;++l)s[o[l]._index]=1;for(l=0;l<w;++l)c=d[l],(!m[l]||e.modified("fields",l)||t.modified(c.fields))&&((n=E[i=c.fname])||(p[i]=r=WS(),E[i]=n=r.insert(c,t.source,0)),m[l]=GS(r,l,h[l]).onAdd(n,g));for(l=0,u=v.data().length;l<u;++l)a[l]||(y[l]!==g[l]?_.push(l):s[l]&&g[l]!==b&&x.push(l));return v.mask=(1<<w)-1,f},YS.eval=function(e,t){var n=t.materialize().fork(),r=this._dims.length,i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},YS.insert=function(e,t,n){var r,i,o,a=t.add,s=this.value,l=this._dims,u=this._indices,c=e.fields,f={},d=n.add,h=s.size(),p=h+a.length,m=l.length;s.resize(p,m),s.add(a);var v=s.curr(),g=s.prev(),y=s.all();for(r=0;r<m;++r)o=f[i=c[r].fname]||(f[i]=u[i].insert(c[r],a,h)),l[r].onAdd(o,v);for(;h<p;++h)g[h]=y,v[h]!==y&&d.push(h)},YS.modify=function(e,t){var n,r,i,o=t.mod,a=this.value,s=a.curr(),l=a.all(),u=e.mod;for(n=0,r=u.length;n<r;++n)s[i=u[n]._index]!==l&&o.push(i)},YS.remove=function(e,t,n){var r,i,o,a,s=this._indices,l=this.value,u=l.curr(),c=l.prev(),f=l.all(),d={},h=n.rem,p=t.rem;for(r=0,i=p.length;r<i;++r)d[o=p[r]._index]=1,c[o]=a=u[o],u[o]=f,a!==f&&h.push(o);for(o in s)s[o].remove(i,d);return this.reindex(t,i,d),d},YS.reindex=function(e,t,n){var r=this._indices,i=this.value;e.runAfter((function(){var e=i.remove(t,n);for(var o in r)r[o].reindex(e)}))},YS.update=function(e,t,n){var r,i,o=this._dims,a=e.query,s=t.stamp,l=o.length,u=0;for(n.filters=0,i=0;i<l;++i)e.modified("query",i)&&(r=i,++u);if(1===u)u=o[r].one,this.incrementOne(o[r],a[r],n.add,n.rem);else for(i=0,u=0;i<l;++i)e.modified("query",i)&&(u|=o[i].one,this.incrementAll(o[i],a[i],s,n.add),n.rem=n.add);return u},YS.incrementAll=function(e,t,n,r){var i,o,a,s=this.value,l=s.seen(),u=s.curr(),c=s.prev(),f=e.index(),d=e.bisect(e.range),h=e.bisect(t),p=h[0],m=h[1],v=d[0],g=d[1],y=e.one;if(p<v)for(i=p,o=Math.min(v,m);i<o;++i)l[a=f[i]]!==n&&(c[a]=u[a],l[a]=n,r.push(a)),u[a]^=y;else if(p>v)for(i=v,o=Math.min(p,g);i<o;++i)l[a=f[i]]!==n&&(c[a]=u[a],l[a]=n,r.push(a)),u[a]^=y;if(m>g)for(i=Math.max(p,g),o=m;i<o;++i)l[a=f[i]]!==n&&(c[a]=u[a],l[a]=n,r.push(a)),u[a]^=y;else if(m<g)for(i=Math.max(v,m),o=g;i<o;++i)l[a=f[i]]!==n&&(c[a]=u[a],l[a]=n,r.push(a)),u[a]^=y;e.range=t.slice()},YS.incrementOne=function(e,t,n,r){var i,o,a,s=this.value.curr(),l=e.index(),u=e.bisect(e.range),c=e.bisect(t),f=c[0],d=c[1],h=u[0],p=u[1],m=e.one;if(f<h)for(i=f,o=Math.min(h,d);i<o;++i)s[a=l[i]]^=m,n.push(a);else if(f>h)for(i=h,o=Math.min(f,p);i<o;++i)s[a=l[i]]^=m,r.push(a);if(d>p)for(i=Math.max(f,p),o=d;i<o;++i)s[a=l[i]]^=m,n.push(a);else if(d<p)for(i=Math.max(h,d),o=p;i<o;++i)s[a=l[i]]^=m,r.push(a);e.range=t.slice()},XS.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]},Object(ne.y)(XS,Hr).transform=function(e,t){var n=~(e.ignore||0),r=e.filter,i=r.mask;if(0===(i&n))return t.StopPropagation;var o=t.fork(t.ALL),a=r.data(),s=r.curr(),l=r.prev(),u=function(e){return s[e]&n?null:a[e]};return o.filter(o.MOD,u),i&i-1?(o.filter(o.ADD,(function(e){var t=s[e]&n;return!t&&t^l[e]&n?a[e]:null})),o.filter(o.REM,(function(e){var t=s[e]&n;return t&&!(t^t^l[e]&n)?a[e]:null}))):(o.filter(o.ADD,u),o.filter(o.REM,(function(e){return(s[e]&n)===i?a[e]:null}))),o.filter(o.SOURCE,(function(e){return u(e._index)}))};var $S=n(141);function KS(e,t){e&&(null==t?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}var ZS=function(e){var t=e._signals.cursor;t||(e._signals.cursor=t=e.add({user:"default",item:null})),e.on(e.events("view","mousemove"),t,(function(e,n){var r=t.value,i=r?Object(ne.H)(r)?r:r.user:"default",o=n.item&&n.item.cursor||null;return r&&i===r.user&&o==r.item?r:{user:i,item:o}})),e.add(null,(function(e){var t=e.cursor,n=this.value;return Object(ne.H)(t)||(n=t.item,t=t.user),function(e){"undefined"!==typeof document&&document.body&&(document.body.style.cursor=e)}(t&&"default"!==t?t:n||t),n}),{cursor:t})};function QS(e,t){var n=e._runtime.data;return Object(ne.v)(n,t)||Object(ne.n)("Unrecognized data set: "+t),n[t]}function JS(e,t){ye(t)||Object(ne.n)("Second argument to changes must be a changeset.");var n=QS(this,e);return n.modified=!0,this.pulse(n.input,t)}function ek(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function tk(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function nk(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function rk(e){var t=nk(e),n=ek(e),r=tk(e);e._renderer.background(e.background()),e._renderer.resize(n,r,t),e._handler.origin(t),e._resizeListeners.forEach((function(t){try{t(n,r)}catch(i){e.error(i)}}))}var ik=function(e,t,n){var r,i,o,a=e._renderer,s=a&&a.canvas();return s&&(o=nk(e),i=t.changedTouches?t.changedTouches[0]:t,(r=Id(i,s))[0]-=o[0],r[1]-=o[1]),t.dataflow=e,t.item=n,t.vega=function(e,t,n){var r=t?"group"===t.mark.marktype?t:t.mark.group:null;function i(e){var n,i=r;if(e)for(n=t;n;n=n.mark.group)if(n.mark.name===e){i=n;break}return i&&i.mark&&i.mark.interactive?i:{}}function o(e){if(!e)return n;Object(ne.H)(e)&&(e=i(e));for(var t=n.slice();e;)t[0]-=e.x||0,t[1]-=e.y||0,e=e.mark&&e.mark.group;return t}return{view:Object(ne.l)(e),item:Object(ne.l)(t||{}),group:i,xy:o,x:function(e){return o(e)[0]},y:function(e){return o(e)[1]}}}(e,n,r),t};var ok={trap:!1};function ak(e,t,n){var r=e._eventConfig&&e._eventConfig[t];return!(!1===r||Object(ne.F)(r)&&!r[n])||(e.warn("Blocked ".concat(t," ").concat(n," event listener.")),!1)}function sk(e){return e.item}function lk(e){return e.item.mark.source}function uk(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}var ck=function(e,t,n){var r=document.createElement(e);for(var i in t)r.setAttribute(i,t[i]);return null!=n&&(r.textContent=n),r},fk=function(e,t,n){if(t){var r=n.param,i=n.state;return i||(i=n.state={elements:null,active:!1,set:null,update:function(t){t!==e.signal(r.signal)&&e.runAsync(null,(function(){i.source=!0,e.signal(r.signal,t)}))}},r.debounce&&(i.update=Object(ne.m)(r.debounce,i.update))),function(e,t,n,r){var i=ck("div",{class:"vega-bind"}),o="radio"===n.input?i:i.appendChild(ck("label"));o.appendChild(ck("span",{class:"vega-bind-name"},n.name||n.signal)),t.appendChild(i);var a=dk;switch(n.input){case"checkbox":a=hk;break;case"select":a=pk;break;case"radio":a=mk;break;case"range":a=vk}a(e,o,n,r)}(i,t,r,e.signal(r.signal)),i.active||(e.on(e._signals[r.signal],null,(function(){i.source?i.source=!1:i.set(e.signal(r.signal))})),i.active=!0),i}};function dk(e,t,n,r){var i=ck("input");for(var o in n)"signal"!==o&&"element"!==o&&i.setAttribute("input"===o?"type":o,n[o]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",(function(){return e.update(i.value)})),e.elements=[i],e.set=function(e){return i.value=e}}function hk(e,t,n,r){var i={type:"checkbox",name:n.signal};r&&(i.checked=!0);var o=ck("input",i);t.appendChild(o),o.addEventListener("change",(function(){return e.update(o.checked)})),e.elements=[o],e.set=function(e){return o.checked=!!e||null}}function pk(e,t,n,r){var i=ck("select",{name:n.signal}),o=n.labels||[];n.options.forEach((function(e,t){var n={value:e};gk(e,r)&&(n.selected=!0),i.appendChild(ck("option",n,(o[t]||e)+""))})),t.appendChild(i),i.addEventListener("change",(function(){e.update(n.options[i.selectedIndex])})),e.elements=[i],e.set=function(e){for(var t=0,r=n.options.length;t<r;++t)if(gk(n.options[t],e))return void(i.selectedIndex=t)}}function mk(e,t,n,r){var i=ck("span",{class:"vega-bind-radio"}),o=n.labels||[];t.appendChild(i),e.elements=n.options.map((function(t,a){var s={type:"radio",name:n.signal,value:t};gk(t,r)&&(s.checked=!0);var l=ck("input",s);l.addEventListener("change",(function(){return e.update(t)}));var u=ck("label",{},(o[a]||t)+"");return u.prepend(l),i.appendChild(u),l})),e.set=function(t){for(var n=e.elements,r=n.length,i=0;i<r;++i)gk(n[i].value,t)&&(n[i].checked=!0)}}function vk(e,t,n,r){r=void 0!==r?r:(+n.max+ +n.min)/2;var i=null!=n.max?n.max:Math.max(100,+r)||100,o=n.min||Math.min(0,i,+r)||0,a=n.step||Gs(o,i,100),s=ck("input",{type:"range",name:n.signal,min:o,max:i,step:a});s.value=r;var l=ck("span",{},+r);t.appendChild(s),t.appendChild(l);var u=function(){l.textContent=s.value,e.update(+s.value)};s.addEventListener("input",u),s.addEventListener("change",u),e.elements=[s],e.set=function(e){s.value=e,l.textContent=e}}function gk(e,t){return e===t||e+""===t+""}var yk=function(e,t,n,r,i,o){return(t=t||new r(e.loader())).initialize(n,ek(e),tk(e),nk(e),i,o).background(e.background())},bk=function(e,t){return t?function(){try{t.apply(this,arguments)}catch(n){e.error(n)}}:null};function _k(e,t){if("string"===typeof t){if("undefined"===typeof document)return e.error("DOM document instance not found."),null;if(!(t=document.querySelector(t)))return e.error("Signal bind element not found: "+t),null}if(t)try{t.innerHTML=""}catch(n){t=null,e.error(n)}return t}var xk=function(e){return+e||0},wk=function(e){return Object(ne.F)(e)?{top:xk(e.top),bottom:xk(e.bottom),left:xk(e.left),right:xk(e.right)}:function(e){return{top:e,bottom:e,left:e,right:e}}(xk(e))},Ek=function(e,t,n,r){return Tk.apply(this,arguments)};function Tk(){return(Tk=oe(x.a.mark((function e(t,n,r,i){var o,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Eg(n),(a=o&&o.headless)||Object(ne.n)("Unrecognized renderer type: "+n),e.next=4,t.runAsync();case 4:return e.abrupt("return",yk(t,null,null,a,r,i).renderAsync(t._scenegraph.root));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sk(){return(Sk=oe(x.a.mark((function e(t,n){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t!==xg.Canvas&&t!==xg.SVG&&t!==xg.PNG&&Object(ne.n)("Unrecognized image type: "+t),e.next=3,Ek(this,t,n);case 3:return r=e.sent,e.abrupt("return",t===xg.SVG?kk(r.svg(),"image/svg+xml"):r.canvas().toDataURL("image/png"));case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function kk(e,t){var n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}function Ok(){return(Ok=oe(x.a.mark((function e(t,n){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ek(this,xg.Canvas,t,n);case 2:return r=e.sent,e.abrupt("return",r.canvas());case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Ck(){return(Ck=oe(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ek(this,xg.SVG,t);case 2:return n=e.sent,e.abrupt("return",n.svg());case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var Ak,Mk,Pk,Ik,Dk;function Nk(e){this.type=e}Nk.prototype.visit=function(e){var t,n,r;if(e(this))return 1;for(n=0,r=(t=function(e){switch(e.type){case"ArrayExpression":return e.elements;case"BinaryExpression":case"LogicalExpression":return[e.left,e.right];case"CallExpression":var t=e.arguments.slice();return t.unshift(e.callee),t;case"ConditionalExpression":return[e.test,e.consequent,e.alternate];case"MemberExpression":return[e.object,e.property];case"ObjectExpression":return e.properties;case"Property":return[e.key,e.value];case"UnaryExpression":return[e.argument];case"Identifier":case"Literal":case"RawCode":default:return[]}}(this)).length;n<r;++n)if(t[n].visit(e))return 1};(Ak={})[1]="Boolean",Ak[2]="<end>",Ak[3]="Identifier",Ak[4]="Keyword",Ak[5]="Null",Ak[6]="Numeric",Ak[7]="Punctuator",Ak[8]="String",Ak[9]="RegularExpression";var Rk="ILLEGAL",Lk=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),jk=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function Fk(e,t){if(!e)throw new Error("ASSERT: "+t)}function Bk(e){return e>=48&&e<=57}function zk(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function Hk(e){return"01234567".indexOf(e)>=0}function Uk(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function Vk(e){return 10===e||13===e||8232===e||8233===e}function Gk(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&Lk.test(String.fromCharCode(e))}function Wk(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&jk.test(String.fromCharCode(e))}var qk={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function Yk(){for(var e;Pk<Ik&&(Uk(e=Mk.charCodeAt(Pk))||Vk(e));)++Pk}function Xk(e){var t,n,r,i=0;for(n="u"===e?4:2,t=0;t<n;++t)Pk<Ik&&zk(Mk[Pk])?(r=Mk[Pk++],i=16*i+"0123456789abcdef".indexOf(r.toLowerCase())):cO({},"Unexpected token %0",Rk);return String.fromCharCode(i)}function $k(){var e,t,n,r;for(t=0,"}"===(e=Mk[Pk])&&cO({},"Unexpected token %0",Rk);Pk<Ik&&zk(e=Mk[Pk++]);)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&cO({},"Unexpected token %0",Rk),t<=65535?String.fromCharCode(t):(n=55296+(t-65536>>10),r=56320+(t-65536&1023),String.fromCharCode(n,r))}function Kk(){var e,t;for(e=Mk.charCodeAt(Pk++),t=String.fromCharCode(e),92===e&&(117!==Mk.charCodeAt(Pk)&&cO({},"Unexpected token %0",Rk),++Pk,(e=Xk("u"))&&"\\"!==e&&Gk(e.charCodeAt(0))||cO({},"Unexpected token %0",Rk),t=e);Pk<Ik&&Wk(e=Mk.charCodeAt(Pk));)++Pk,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==Mk.charCodeAt(Pk)&&cO({},"Unexpected token %0",Rk),++Pk,(e=Xk("u"))&&"\\"!==e&&Wk(e.charCodeAt(0))||cO({},"Unexpected token %0",Rk),t+=e);return t}function Zk(){var e,t;return e=Pk,{type:1===(t=92===Mk.charCodeAt(Pk)?Kk():function(){var e,t;for(e=Pk++;Pk<Ik;){if(92===(t=Mk.charCodeAt(Pk)))return Pk=e,Kk();if(!Wk(t))break;++Pk}return Mk.slice(e,Pk)}()).length?3:qk.hasOwnProperty(t)?4:"null"===t?5:"true"===t||"false"===t?1:3,value:t,start:e,end:Pk}}function Qk(){var e,t,n,r,i=Pk,o=Mk.charCodeAt(Pk),a=Mk[Pk];switch(o){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Pk,{type:7,value:String.fromCharCode(o),start:i,end:Pk};default:if(61===(e=Mk.charCodeAt(Pk+1)))switch(o){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Pk+=2,{type:7,value:String.fromCharCode(o)+String.fromCharCode(e),start:i,end:Pk};case 33:case 61:return Pk+=2,61===Mk.charCodeAt(Pk)&&++Pk,{type:7,value:Mk.slice(i,Pk),start:i,end:Pk}}}return">>>="===(r=Mk.substr(Pk,4))?{type:7,value:r,start:i,end:Pk+=4}:">>>"===(n=r.substr(0,3))||"<<="===n||">>="===n?{type:7,value:n,start:i,end:Pk+=3}:a===(t=n.substr(0,2))[1]&&"+-<>&|".indexOf(a)>=0||"=>"===t?{type:7,value:t,start:i,end:Pk+=2}:"<>=!+-*%&|^/".indexOf(a)>=0?{type:7,value:a,start:i,end:++Pk}:void cO({},"Unexpected token %0",Rk)}function Jk(){var e,t,n;if(Fk(Bk((n=Mk[Pk]).charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),t=Pk,e="","."!==n){if(e=Mk[Pk++],n=Mk[Pk],"0"===e){if("x"===n||"X"===n)return++Pk,function(e){for(var t="";Pk<Ik&&zk(Mk[Pk]);)t+=Mk[Pk++];return 0===t.length&&cO({},"Unexpected token %0",Rk),Gk(Mk.charCodeAt(Pk))&&cO({},"Unexpected token %0",Rk),{type:6,value:parseInt("0x"+t,16),start:e,end:Pk}}(t);if(Hk(n))return function(e){for(var t="0"+Mk[Pk++];Pk<Ik&&Hk(Mk[Pk]);)t+=Mk[Pk++];return(Gk(Mk.charCodeAt(Pk))||Bk(Mk.charCodeAt(Pk)))&&cO({},"Unexpected token %0",Rk),{type:6,value:parseInt(t,8),octal:!0,start:e,end:Pk}}(t);n&&Bk(n.charCodeAt(0))&&cO({},"Unexpected token %0",Rk)}for(;Bk(Mk.charCodeAt(Pk));)e+=Mk[Pk++];n=Mk[Pk]}if("."===n){for(e+=Mk[Pk++];Bk(Mk.charCodeAt(Pk));)e+=Mk[Pk++];n=Mk[Pk]}if("e"===n||"E"===n)if(e+=Mk[Pk++],"+"!==(n=Mk[Pk])&&"-"!==n||(e+=Mk[Pk++]),Bk(Mk.charCodeAt(Pk)))for(;Bk(Mk.charCodeAt(Pk));)e+=Mk[Pk++];else cO({},"Unexpected token %0",Rk);return Gk(Mk.charCodeAt(Pk))&&cO({},"Unexpected token %0",Rk),{type:6,value:parseFloat(e),start:t,end:Pk}}function eO(){var e,t,n,r;return Dk=null,Yk(),e=Pk,t=function(){var e,t,n,r;for(Fk("/"===(e=Mk[Pk]),"Regular expression literal must start with a slash"),t=Mk[Pk++],n=!1,r=!1;Pk<Ik;)if(t+=e=Mk[Pk++],"\\"===e)Vk((e=Mk[Pk++]).charCodeAt(0))&&cO({},"Invalid regular expression: missing /"),t+=e;else if(Vk(e.charCodeAt(0)))cO({},"Invalid regular expression: missing /");else if(n)"]"===e&&(n=!1);else{if("/"===e){r=!0;break}"["===e&&(n=!0)}return r||cO({},"Invalid regular expression: missing /"),{value:t.substr(1,t.length-2),literal:t}}(),n=function(){var e,t,n;for(t="",n="";Pk<Ik&&Wk((e=Mk[Pk]).charCodeAt(0));)++Pk,"\\"===e&&Pk<Ik?cO({},"Unexpected token %0",Rk):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&cO({},"Invalid regular expression",n),{value:n,literal:t}}(),r=function(e,t){var n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(function(e,t){if(parseInt(t,16)<=1114111)return"x";cO({},"Invalid regular expression")})).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch(r){cO({},"Invalid regular expression")}try{return new RegExp(e,t)}catch(i){return null}}(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:Pk}}function tO(){var e;return Yk(),Pk>=Ik?{type:2,start:Pk,end:Pk}:Gk(e=Mk.charCodeAt(Pk))?Zk():40===e||41===e||59===e?Qk():39===e||34===e?function(){var e,t,n,r,i="",o=!1;for(Fk("'"===(e=Mk[Pk])||'"'===e,"String literal must starts with a quote"),t=Pk,++Pk;Pk<Ik;){if((n=Mk[Pk++])===e){e="";break}if("\\"===n)if((n=Mk[Pk++])&&Vk(n.charCodeAt(0)))"\r"===n&&"\n"===Mk[Pk]&&++Pk;else switch(n){case"u":case"x":"{"===Mk[Pk]?(++Pk,i+=$k()):i+=Xk(n);break;case"n":i+="\n";break;case"r":i+="\r";break;case"t":i+="\t";break;case"b":i+="\b";break;case"f":i+="\f";break;case"v":i+="\v";break;default:Hk(n)?(0!==(r="01234567".indexOf(n))&&(o=!0),Pk<Ik&&Hk(Mk[Pk])&&(o=!0,r=8*r+"01234567".indexOf(Mk[Pk++]),"0123".indexOf(n)>=0&&Pk<Ik&&Hk(Mk[Pk])&&(r=8*r+"01234567".indexOf(Mk[Pk++]))),i+=String.fromCharCode(r)):i+=n}else{if(Vk(n.charCodeAt(0)))break;i+=n}}return""!==e&&cO({},"Unexpected token %0",Rk),{type:8,value:i,octal:o,start:t,end:Pk}}():46===e?Bk(Mk.charCodeAt(Pk+1))?Jk():Qk():Bk(e)?Jk():Qk()}function nO(){var e;return Pk=(e=Dk).end,Dk=tO(),Pk=e.end,e}function rO(){var e;e=Pk,Dk=tO(),Pk=e}function iO(e,t,n){var r=new Nk("||"===e||"&&"===e?"LogicalExpression":"BinaryExpression");return r.operator=e,r.left=t,r.right=n,r}function oO(e,t){var n=new Nk("CallExpression");return n.callee=e,n.arguments=t,n}function aO(e){var t=new Nk("Identifier");return t.name=e,t}function sO(e){var t=new Nk("Literal");return t.value=e.value,t.raw=Mk.slice(e.start,e.end),e.regex&&("//"===t.raw&&(t.raw="/(?:)/"),t.regex=e.regex),t}function lO(e,t,n){var r=new Nk("MemberExpression");return r.computed="["===e,r.object=t,r.property=n,r.computed||(n.member=!0),r}function uO(e,t,n){var r=new Nk("Property");return r.key=t,r.value=n,r.kind=e,r}function cO(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(function(e,t){return Fk(t<r.length,"Message reference must be in range"),r[t]}));throw(n=new Error(i)).index=Pk,n.description=i,n}function fO(e){2===e.type&&cO(e,"Unexpected end of input"),6===e.type&&cO(e,"Unexpected number"),8===e.type&&cO(e,"Unexpected string"),3===e.type&&cO(e,"Unexpected identifier"),4===e.type&&cO(e,"Unexpected reserved word"),cO(e,"Unexpected token %0",e.value)}function dO(e){var t=nO();7===t.type&&t.value===e||fO(t)}function hO(e){return 7===Dk.type&&Dk.value===e}function pO(e){return 4===Dk.type&&Dk.value===e}function mO(){var e=[];for(Pk=Dk.start,dO("[");!hO("]");)hO(",")?(nO(),e.push(null)):(e.push(OO()),hO("]")||dO(","));return nO(),function(e){var t=new Nk("ArrayExpression");return t.elements=e,t}(e)}function vO(){var e;return Pk=Dk.start,8===(e=nO()).type||6===e.type?(e.octal&&cO(e,"Octal literals are not allowed in strict mode."),sO(e)):aO(e.value)}function gO(){var e,t,n;return Pk=Dk.start,3===(e=Dk).type?(n=vO(),dO(":"),uO("init",n,OO())):2!==e.type&&7!==e.type?(t=vO(),dO(":"),uO("init",t,OO())):void fO(e)}function yO(){var e,t,n=[],r={},i=String;for(Pk=Dk.start,dO("{");!hO("}");)t="$"+("Identifier"===(e=gO()).key.type?e.key.name:i(e.key.value)),Object.prototype.hasOwnProperty.call(r,t)?cO({},"Duplicate data property in object literal not allowed in strict mode"):r[t]=!0,n.push(e),hO("}")||dO(",");return dO("}"),function(e){var t=new Nk("ObjectExpression");return t.properties=e,t}(n)}var bO={if:1,this:1};function _O(){var e,t,n;if(hO("("))return function(){var e;return dO("("),e=CO(),dO(")"),e}();if(hO("["))return mO();if(hO("{"))return yO();if(e=Dk.type,Pk=Dk.start,3===e||bO[Dk.value])n=aO(nO().value);else if(8===e||6===e)Dk.octal&&cO(Dk,"Octal literals are not allowed in strict mode."),n=sO(nO());else{if(4===e)throw new Error("Disabled.");1===e?((t=nO()).value="true"===t.value,n=sO(t)):5===e?((t=nO()).value=null,n=sO(t)):hO("/")||hO("/=")?(n=sO(eO()),rO()):fO(nO())}return n}function xO(){var e=[];if(dO("("),!hO(")"))for(;Pk<Ik&&(e.push(OO()),!hO(")"));)dO(",");return dO(")"),e}function wO(){return dO("."),function(){var e;return Pk=Dk.start,function(e){return 3===e.type||4===e.type||1===e.type||5===e.type}(e=nO())||fO(e),aO(e.value)}()}function EO(){var e;return dO("["),e=CO(),dO("]"),e}function TO(){var e=function(){var e;for(e=_O();;)if(hO("."))e=lO(".",e,wO());else if(hO("("))e=oO(e,xO());else{if(!hO("["))break;e=lO("[",e,EO())}return e}();if(7===Dk.type&&(hO("++")||hO("--")))throw new Error("Disabled.");return e}function SO(){var e,t;if(7!==Dk.type&&4!==Dk.type)t=TO();else{if(hO("++")||hO("--"))throw new Error("Disabled.");if(hO("+")||hO("-")||hO("~")||hO("!"))e=nO(),t=SO(),t=function(e,t){var n=new Nk("UnaryExpression");return n.operator=e,n.argument=t,n.prefix=!0,n}(e.value,t);else{if(pO("delete")||pO("void")||pO("typeof"))throw new Error("Disabled.");t=TO()}}return t}function kO(e){var t=0;if(7!==e.type&&4!==e.type)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function OO(){var e,t;return e=function(){var e,t,n,r,i,o,a,s,l,u;if(e=Dk,l=SO(),0===(i=kO(r=Dk)))return l;for(r.prec=i,nO(),t=[e,Dk],o=[l,r,a=SO()];(i=kO(Dk))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)a=o.pop(),s=o.pop().value,l=o.pop(),t.pop(),n=iO(s,l,a),o.push(n);(r=nO()).prec=i,o.push(r),t.push(Dk),n=SO(),o.push(n)}for(n=o[u=o.length-1],t.pop();u>1;)t.pop(),n=iO(o[u-1].value,o[u-2],n),u-=2;return n}(),hO("?")&&(nO(),t=OO(),dO(":"),e=function(e,t,n){var r=new Nk("ConditionalExpression");return r.test=e,r.consequent=t,r.alternate=n,r}(e,t,OO())),e}function CO(){var e=OO();if(hO(","))throw new Error("Disabled.");return e}var AO=function(e){Pk=0,Ik=(Mk=e).length,Dk=null,rO();var t=CO();if(2!==Dk.type)throw new Error("Unexpect token after expression.");return t},MO={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"},PO=function(e){function t(t,n,r){return function(i){return function(t,n,r,i){var o=e(n[0]);return r&&(o=r+"("+o+")",0===r.lastIndexOf("new ",0)&&(o="("+o+")")),o+"."+t+(i<0?"":0===i?"()":"("+n.slice(1).map(e).join(",")+")")}(t,i,n,r)}}var n="new Date";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(t){t.length<3&&Object(ne.n)("Missing arguments to clamp function."),t.length>3&&Object(ne.n)("Too many arguments to clamp function.");var n=t.map(e);return"Math.max("+n[1]+", Math.min("+n[2]+","+n[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:n,date:t("getDate",n,0),day:t("getDay",n,0),year:t("getFullYear",n,0),month:t("getMonth",n,0),hours:t("getHours",n,0),minutes:t("getMinutes",n,0),seconds:t("getSeconds",n,0),milliseconds:t("getMilliseconds",n,0),time:t("getTime",n,0),timezoneoffset:t("getTimezoneOffset",n,0),utcdate:t("getUTCDate",n,0),utcday:t("getUTCDay",n,0),utcyear:t("getUTCFullYear",n,0),utcmonth:t("getUTCMonth",n,0),utchours:t("getUTCHours",n,0),utcminutes:t("getUTCMinutes",n,0),utcseconds:t("getUTCSeconds",n,0),utcmilliseconds:t("getUTCMilliseconds",n,0),length:t("length",null,-1),join:t("join",null),indexof:t("indexOf",null),lastindexof:t("lastIndexOf",null),slice:t("slice",null),reverse:function(t){return"("+e(t[0])+").slice().reverse()"},parseFloat:"parseFloat",parseInt:"parseInt",upper:t("toUpperCase","String",0),lower:t("toLowerCase","String",0),substring:t("substring","String"),split:t("split","String"),replace:t("replace","String"),trim:t("trim","String",0),regexp:"RegExp",test:t("test","RegExp"),if:function(t){t.length<3&&Object(ne.n)("Missing arguments to if function."),t.length>3&&Object(ne.n)("Too many arguments to if function.");var n=t.map(e);return"("+n[0]+"?"+n[1]+":"+n[2]+")"}}};function IO(e,t){for(var n,r,i=t.fields,o=t.values,a=i.length,s=0;s<a;++s)if((r=i[s]).getter=ne.t.getter||Object(ne.t)(r.field),n=r.getter(e),Object(ne.C)(n)&&(n=Object(ne.cb)(n)),Object(ne.C)(o[s])&&(o[s]=Object(ne.cb)(o[s])),Object(ne.C)(o[s][0])&&(o[s]=o[s].map(ne.cb)),"E"===r.type){if(Object(ne.A)(o[s])?o[s].indexOf(n)<0:n!==o[s])return!1}else if("R"===r.type){if(!Object(ne.z)(n,o[s]))return!1}else if("R-RE"===r.type){if(!Object(ne.z)(n,o[s],!0,!1))return!1}else if("R-E"===r.type){if(!Object(ne.z)(n,o[s],!1,!1))return!1}else if("R-LE"===r.type&&!Object(ne.z)(n,o[s],!1,!0))return!1;return!0}var DO={E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.indexOf(t[n])<0&&e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter((function(e){return t.indexOf(e)>=0})):t},R_union:function(e,t){var n=Object(ne.cb)(t[0]),r=Object(ne.cb)(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=Object(ne.cb)(t[0]),r=Object(ne.cb)(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}};function NO(e,t,n,r){"Literal"!==t[0].type&&Object(ne.n)("First argument to selection functions must be a string literal.");var i=t[0].value,o=":"+i;"intersect"!==(t.length>=2&&Object(ne.U)(t).value)||Object(ne.v)(r,"@unit")||(r["@unit"]=n.getData(i).indataRef(n,"unit")),Object(ne.v)(r,o)||(r[o]=n.getData(i).tuplesRef())}function RO(e){var t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function LO(e){var t=Zh(e);return.2126*RO(t.r)+.7152*RO(t.g)+.0722*RO(t.b)}function jO(e){var t=this.context.data[e];return t?t.values.value:[]}var FO={};function BO(e,t,n){var r=e+":"+n,i=FO[r];return i&&i[0]===t||(FO[r]=i=[t,t(n)]),i[1]}function zO(e,t){return BO("timeFormat",Rs,t)(e)}var HO=new Date(2e3,0,1);function UO(e,t,n){return Number.isInteger(e)&&Number.isInteger(t)?(HO.setYear(2e3),HO.setMonth(e),HO.setDate(t),zO(HO,n)):""}function VO(e,t){var n;return Object(ne.D)(e)?e:Object(ne.H)(e)?(n=t.scales[e])&&n.value:void 0}var GO,WO,qO,YO,XO,$O=gb(),KO=gb(),ZO={point:Hb,lineStart:Hb,lineEnd:Hb,polygonStart:function(){$O.reset(),ZO.lineStart=QO,ZO.lineEnd=JO},polygonEnd:function(){var e=+$O;KO.add(e<0?Tb+e:e),this.lineStart=this.lineEnd=this.point=Hb},sphere:function(){KO.add(Tb)}};function QO(){ZO.point=eC}function JO(){tC(GO,WO)}function eC(e,t){ZO.point=tC,GO=e,WO=t,qO=e*=kb,YO=Mb(t=(t*=kb)/2+Eb),XO=Rb(t)}function tC(e,t){var n=(e*=kb)-qO,r=n>=0?1:-1,i=r*n,o=Mb(t=(t*=kb)/2+Eb),a=Rb(t),s=XO*a,l=YO*o+s*Mb(i),u=s*r*Rb(i);$O.add(Ab(u,l)),qO=e,YO=o,XO=a}var nC,rC,iC,oC,aC,sC,lC,uC,cC,fC,dC=gb(),hC={point:pC,lineStart:vC,lineEnd:gC,polygonStart:function(){hC.point=yC,hC.lineStart=bC,hC.lineEnd=_C,dC.reset(),ZO.polygonStart()},polygonEnd:function(){ZO.polygonEnd(),hC.point=pC,hC.lineStart=vC,hC.lineEnd=gC,$O<0?(nC=-(iC=180),rC=-(oC=90)):dC>1e-6?oC=90:dC<-1e-6&&(rC=-90),fC[0]=nC,fC[1]=iC},sphere:function(){nC=-(iC=180),rC=-(oC=90)}};function pC(e,t){cC.push(fC=[nC=e,iC=e]),t<rC&&(rC=t),t>oC&&(oC=t)}function mC(e,t){var n=$_([e*kb,t*kb]);if(uC){var r=Z_(uC,n),i=Z_([r[1],-r[0],0],r);ex(i),i=X_(i);var o,a=e-aC,s=a>0?1:-1,l=i[0]*Sb*s,u=Ob(a)>180;u^(s*aC<l&&l<s*e)?(o=i[1]*Sb)>oC&&(oC=o):u^(s*aC<(l=(l+360)%360-180)&&l<s*e)?(o=-i[1]*Sb)<rC&&(rC=o):(t<rC&&(rC=t),t>oC&&(oC=t)),u?e<aC?xC(nC,e)>xC(nC,iC)&&(iC=e):xC(e,iC)>xC(nC,iC)&&(nC=e):iC>=nC?(e<nC&&(nC=e),e>iC&&(iC=e)):e>aC?xC(nC,e)>xC(nC,iC)&&(iC=e):xC(e,iC)>xC(nC,iC)&&(nC=e)}else cC.push(fC=[nC=e,iC=e]);t<rC&&(rC=t),t>oC&&(oC=t),uC=n,aC=e}function vC(){hC.point=mC}function gC(){fC[0]=nC,fC[1]=iC,hC.point=pC,uC=null}function yC(e,t){if(uC){var n=e-aC;dC.add(Ob(n)>180?n+(n>0?360:-360):n)}else sC=e,lC=t;ZO.point(e,t),mC(e,t)}function bC(){ZO.lineStart()}function _C(){yC(sC,lC),ZO.lineEnd(),Ob(dC)>1e-6&&(nC=-(iC=180)),fC[0]=nC,fC[1]=iC,uC=null}function xC(e,t){return(t-=e)<0?t+360:t}function wC(e,t){return e[0]-t[0]}function EC(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var TC,SC,kC,OC,CC,AC,MC,PC,IC,DC,NC,RC,LC,jC,FC,BC,zC={sphere:Hb,point:HC,lineStart:VC,lineEnd:qC,polygonStart:function(){zC.lineStart=YC,zC.lineEnd=XC},polygonEnd:function(){zC.lineStart=VC,zC.lineEnd=qC}};function HC(e,t){e*=kb;var n=Mb(t*=kb);UC(n*Mb(e),n*Rb(e),Rb(t))}function UC(e,t,n){++TC,kC+=(e-kC)/TC,OC+=(t-OC)/TC,CC+=(n-CC)/TC}function VC(){zC.point=GC}function GC(e,t){e*=kb;var n=Mb(t*=kb);jC=n*Mb(e),FC=n*Rb(e),BC=Rb(t),zC.point=WC,UC(jC,FC,BC)}function WC(e,t){e*=kb;var n=Mb(t*=kb),r=n*Mb(e),i=n*Rb(e),o=Rb(t),a=Ab(jb((a=FC*o-BC*i)*a+(a=BC*r-jC*o)*a+(a=jC*i-FC*r)*a),jC*r+FC*i+BC*o);SC+=a,AC+=a*(jC+(jC=r)),MC+=a*(FC+(FC=i)),PC+=a*(BC+(BC=o)),UC(jC,FC,BC)}function qC(){zC.point=HC}function YC(){zC.point=$C}function XC(){KC(RC,LC),zC.point=HC}function $C(e,t){RC=e,LC=t,e*=kb,t*=kb,zC.point=KC;var n=Mb(t);jC=n*Mb(e),FC=n*Rb(e),BC=Rb(t),UC(jC,FC,BC)}function KC(e,t){e*=kb;var n=Mb(t*=kb),r=n*Mb(e),i=n*Rb(e),o=Rb(t),a=FC*o-BC*i,s=BC*r-jC*o,l=jC*i-FC*r,u=jb(a*a+s*s+l*l),c=zb(u),f=u&&-c/u;IC+=f*a,DC+=f*s,NC+=f*l,SC+=c,AC+=c*(jC+(jC=r)),MC+=c*(FC+(FC=i)),PC+=c*(BC+(BC=o)),UC(jC,FC,BC)}function ZC(e,t){return function(n,r,i){if(n){var o=VO(n,(i||this).context);return o&&o.path[e](r)}return t(r)}}var QC=ZC("area",(function(e){return KO.reset(),vb(e,ZO),2*KO})),JC=ZC("bounds",(function(e){var t,n,r,i,o,a,s;if(oC=iC=-(nC=rC=1/0),cC=[],vb(e,hC),n=cC.length){for(cC.sort(wC),t=1,o=[r=cC[0]];t<n;++t)EC(r,(i=cC[t])[0])||EC(r,i[1])?(xC(r[0],i[1])>xC(r[0],r[1])&&(r[1]=i[1]),xC(i[0],r[1])>xC(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,t=0,r=o[n=o.length-1];t<=n;r=i,++t)i=o[t],(s=xC(r[1],i[0]))>a&&(a=s,nC=i[0],iC=r[1])}return cC=fC=null,nC===1/0||rC===1/0?[[NaN,NaN],[NaN,NaN]]:[[nC,rC],[iC,oC]]})),eA=ZC("centroid",(function(e){TC=SC=kC=OC=CC=AC=MC=PC=IC=DC=NC=0,vb(e,zC);var t=IC,n=DC,r=NC,i=t*t+n*n+r*r;return i<1e-12&&(t=AC,n=MC,r=PC,SC<1e-6&&(t=kC,n=OC,r=CC),(i=t*t+n*n+r*r)<1e-12)?[NaN,NaN]:[Ab(n,t)*Sb,zb(r/jb(i))*Sb]}));function tA(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function nA(e,t){return e===t||e!==e&&t!==t||(Object(ne.A)(e)?!(!Object(ne.A)(t)||e.length!==t.length)&&function(e,t){for(var n=0,r=e.length;n<r;++n)if(!nA(e[n],t[n]))return!1;return!0}(e,t):!(!Object(ne.F)(e)||!Object(ne.F)(t))&&rA(e,t))}function rA(e,t){for(var n in e)if(!nA(e[n],t[n]))return!1;return!0}function iA(e){return function(t){return rA(e,t)}}var oA={};function aA(e){return e.data}function sA(e,t){var n=jO.call(t,e);return n.root&&n.root.lookup||oA}var lA="undefined"!==typeof window&&window||null;function uA(e,t,n,r){"Literal"!==t[0].type&&Object(ne.n)("First argument to data functions must be a string literal.");var i=t[0].value,o=":"+i;if(!Object(ne.v)(o,r))try{r[o]=n.getData(i).tuplesRef()}catch(a){}}function cA(e,t,n,r){if("Literal"===t[0].type)fA(n,r,t[0].value);else if("Identifier"===t[0].type)for(e in n.scales)fA(n,r,e)}function fA(e,t,n){var r="%"+n;if(!Object(ne.v)(t,r))try{t[r]=e.scaleRef(n)}catch(i){}}var dA={random:function(){return yi()},cumulativeNormal:Ai,cumulativeLogNormal:Ri,cumulativeUniform:Hi,densityNormal:Ci,densityLogNormal:Ni,densityUniform:zi,quantileNormal:Mi,quantileLogNormal:Li,quantileUniform:Ui,sampleNormal:Oi,sampleLogNormal:Di,sampleUniform:Bi,isArray:ne.A,isBoolean:ne.B,isDate:ne.C,isDefined:function(e){return void 0!==e},isNumber:ne.E,isObject:ne.F,isRegExp:ne.G,isString:ne.H,isTuple:ce,isValid:function(e){return null!=e&&e===e},toBoolean:ne.ab,toDate:ne.bb,toNumber:ne.cb,toString:ne.eb,flush:ne.u,lerp:ne.J,merge:function(){var e=[].slice.call(arguments);return e.unshift({}),ne.o.apply(null,e)},pad:ne.P,peek:ne.U,span:ne.X,inrange:ne.z,truncate:ne.fb,rgb:Zh,lab:Wm,hcl:Qm,hsl:ip,luminance:LO,contrast:function(e,t){var n=LO(e),r=LO(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},sequence:ha,format:function(e,t){return BO("format",vh,t)(e)},utcFormat:function(e,t){return BO("utcFormat",Ls,t)(e)},utcParse:function(e,t){return BO("utcParse",tn,t)(e)},utcOffset:As,utcSequence:Is,timeFormat:zO,timeParse:function(e,t){return BO("timeParse",Jt,t)(e)},timeOffset:Cs,timeSequence:Ps,timeUnitSpecifier:Ns,monthFormat:function(e){return UO(e,1,"%B")},monthAbbrevFormat:function(e){return UO(e,1,"%b")},dayFormat:function(e){return UO(0,2+e,"%A")},dayAbbrevFormat:function(e){return UO(0,2+e,"%a")},quarter:ne.V,utcquarter:ne.hb,week:Fa,utcweek:Ga,dayofyear:ja,utcdayofyear:Va,warn:function(){return tA(this.context.dataflow,"warn",arguments)},info:function(){return tA(this.context.dataflow,"info",arguments)},debug:function(){return tA(this.context.dataflow,"debug",arguments)},extent:ne.p,inScope:function(e){var t=this.context.group,n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n},intersect:function(e,t,n){if(!e)return[];var r=Qi(e,2),i=r[0],o=r[1],a=(new bl).set(i[0],i[1],o[0],o[1]);return Tg(n||this.context.dataflow.scenegraph().root,a,function(e){var t=null;if(e){var n=Object(ne.i)(e.marktype),r=Object(ne.i)(e.markname);t=function(e){return(!n.length||n.some((function(t){return e.marktype===t})))&&(!r.length||r.some((function(t){return e.name===t})))}}return t}(t))},clampRange:ne.j,pinchDistance:function(e){var t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.sqrt(n*n+r*r)},pinchAngle:function(e){var t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)},screen:function(){return lA?lA.screen:{}},containerSize:function(){var e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]},windowSize:function(){return lA?[lA.innerWidth,lA.innerHeight]:[void 0,void 0]},bandspace:function(e,t,n){return Zd(e||0,t||0,n||0)},setdata:function(e,t){var n=this.context.dataflow,r=this.context.data[e].input;return n.pulse(r,n.changeset().remove(ne.gb).insert(t)),1},pathShape:function(e){var t=null;return function(n){return n?Hu(n,t=t||Mu(e)):e}},panLinear:ne.Q,panLog:ne.R,panPow:ne.S,panSymlog:ne.T,zoomLinear:ne.lb,zoomLog:ne.mb,zoomPow:ne.nb,zoomSymlog:ne.ob,encode:function(e,t,n){if(e){var r=this.context.dataflow,i=e.mark.source;r.pulse(i,r.changeset().encode(e,t))}return void 0!==n?n:e},modify:function(e,t,n,r,i,o){var a,s,l=this.context.dataflow,u=this.context.data[e],c=u.input,f=u.changes,d=l.stamp();if(!1===l._trigger||!(c.value.length||t||r))return 0;if((!f||f.stamp<d)&&(u.changes=f=l.changeset(),f.stamp=d,l.runAfter((function(){u.modified=!0,l.pulse(c,f).run()}),!0,1)),n&&(a=!0===n?ne.gb:Object(ne.A)(n)||ce(n)?n:iA(n),f.remove(a)),t&&f.insert(t),r&&(a=iA(r),c.value.some(a)?f.remove(a):f.insert(r)),i)for(s in o)f.modify(i,s,o[s]);return 1}},hA=["view","item","group","xy","x","y"],pA={};function mA(e,t,n){return 1===arguments.length?dA[e]:(dA[e]=t,n&&(pA[e]=n),gA&&(gA.functions[e]="this."+e),this)}mA("bandwidth",(function(e,t){var n=VO(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}),cA),mA("copy",(function(e,t){var n=VO(e,(t||this).context);return n?n.copy():void 0}),cA),mA("domain",(function(e,t){var n=VO(e,(t||this).context);return n?n.domain():[]}),cA),mA("range",(function(e,t){var n=VO(e,(t||this).context);return n&&n.range?n.range():[]}),cA),mA("invert",(function(e,t,n){var r=VO(e,(n||this).context);return r?Object(ne.A)(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}),cA),mA("scale",(function(e,t,n){var r=VO(e,(n||this).context);return r&&void 0!==t?r(t):void 0}),cA),mA("gradient",(function(e,t,n,r,i){e=VO(e,(i||this).context);var o=Sl(t,n),a=e.domain(),s=a[0],l=Object(ne.U)(a),u=ne.x;return l-s?u=_v(e,s,l):e=(e.interpolator?mm("sequential")().interpolator(e.interpolator()):mm("linear")().interpolate(e.interpolate()).range(e.range())).domain([s=0,l=1]),e.ticks&&(s!==(a=e.ticks(+r||15))[0]&&a.unshift(s),l!==Object(ne.U)(a)&&a.push(l)),a.forEach((function(t){return o.stop(u(t),e(t))})),o}),cA),mA("geoArea",QC,cA),mA("geoBounds",JC,cA),mA("geoCentroid",eA,cA),mA("geoShape",(function(e,t,n){var r=VO(e,(n||this).context);return function(e){return r?r.path.context(e)(t):""}}),cA),mA("indata",(function(e,t,n){var r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i?i.count:i}),(function(e,t,n,r){"Literal"!==t[0].type&&Object(ne.n)("First argument to indata must be a string literal."),"Literal"!==t[1].type&&Object(ne.n)("Second argument to indata must be a string literal.");var i=t[0].value,o=t[1].value,a="@"+o;Object(ne.v)(a,r)||(r[a]=n.getData(i).indataRef(n,o))})),mA("data",jO,uA),mA("treePath",(function(e,t,n){var r=sA(e,this),i=r[t],o=r[n];return i&&o?i.path(o).map(aA):void 0}),uA),mA("treeAncestors",(function(e,t){var n=sA(e,this)[t];return n?n.ancestors().map(aA):void 0}),uA),mA("vlSelectionTest",(function(e,t,n){for(var r,i,o,a,s,l=this.context.data[e],u=l?l.values.value:[],c=l?l["index:unit"]&&l["index:unit"].value:void 0,f="intersect"===n,d=u.length,h=0;h<d;++h)if(r=u[h],c&&f){if(-1===(o=(i=i||{})[a=r.unit]||0))continue;if(s=IO(t,r),i[a]=s?-1:++o,s&&1===c.size)return!0;if(!s&&o===c.get(a).count)return!1}else if(f^(s=IO(t,r)))return s;return d&&f}),NO),mA("vlSelectionResolve",(function(e,t,n){for(var r,i,o,a,s,l,u,c,f,d,h,p=this.context.data[e],m=p?p.values.value:[],v={},g={},y={},b=m.length,_=0;_<b;++_){for(a=(r=m[_]).unit,i=r.fields,o=r.values,d=0,h=i.length;d<h;++d)s=i[d],u=(l=v[s.field]||(v[s.field]={}))[a]||(l[a]=[]),y[s.field]=c=s.type.charAt(0),f=DO[c+"_union"],l[a]=f(u,Object(ne.i)(o[d]));n&&(u=g[a]||(g[a]=[])).push(Object(ne.i)(o).reduce((function(e,t,n){return e[i[n].field]=t,e}),{}))}return t=t||"union",Object.keys(v).forEach((function(e){v[e]=Object.keys(v[e]).map((function(t){return v[e][t]})).reduce((function(n,r){return void 0===n?r:DO[y[e]+"_"+t](n,r)}))})),m=Object.keys(g),n&&m.length&&(v.vlMulti="union"===t?$a({},"or",m.reduce((function(e,t){return e.push.apply(e,g[t]),e}),[])):$a({},"and",m.map((function(e){return $a({},"or",g[e])})))),v}),NO);var vA={blacklist:["_"],whitelist:["datum","event","item"],fieldvar:"datum",globalvar:function(e){return"_["+Object(ne.Z)("$"+e)+"]"},functions:function(e){var t=PO(e);for(var n in hA.forEach((function(e){return t[e]="event.vega."+e})),dA)t[n]="this."+n;return t},constants:MO,visitors:pA},gA=function(e){var t=(e=e||{}).whitelist?Object(ne.db)(e.whitelist):{},n=e.blacklist?Object(ne.db)(e.blacklist):{},r=e.constants||MO,i=(e.functions||PO)(f),o=e.globalvar,a=e.fieldvar,s={},l={},u=0,c=Object(ne.D)(o)?o:function(e){return o+'["'+e+'"]'};function f(e){if(Object(ne.H)(e))return e;var t=d[e.type];return null==t&&Object(ne.n)("Unsupported type: "+e.type),t(e)}var d={Literal:function(e){return e.raw},Identifier:function(e){var i=e.name;return u>0?i:Object(ne.v)(n,i)?Object(ne.n)("Illegal identifier: "+i):Object(ne.v)(r,i)?r[i]:Object(ne.v)(t,i)?i:(s[i]=1,c(i))},MemberExpression:function(e){var t=!e.computed,n=f(e.object);t&&(u+=1);var r=f(e.property);return n===a&&(l[function(e){var t=e&&e.length-1;return t&&('"'===e[0]&&'"'===e[t]||"'"===e[0]&&"'"===e[t])?e.slice(1,-1):e}(r)]=1),t&&(u-=1),n+(t?"."+r:"["+r+"]")},CallExpression:function(e){"Identifier"!==e.callee.type&&Object(ne.n)("Illegal callee type: "+e.callee.type);var t=e.callee.name,n=e.arguments,r=Object(ne.v)(i,t)&&i[t];return r||Object(ne.n)("Unrecognized function: "+t),Object(ne.D)(r)?r(n):r+"("+n.map(f).join(",")+")"},ArrayExpression:function(e){return"["+e.elements.map(f).join(",")+"]"},BinaryExpression:function(e){return"("+f(e.left)+e.operator+f(e.right)+")"},UnaryExpression:function(e){return"("+e.operator+f(e.argument)+")"},ConditionalExpression:function(e){return"("+f(e.test)+"?"+f(e.consequent)+":"+f(e.alternate)+")"},LogicalExpression:function(e){return"("+f(e.left)+e.operator+f(e.right)+")"},ObjectExpression:function(e){return"{"+e.properties.map(f).join(",")+"}"},Property:function(e){u+=1;var t=f(e.key);return u-=1,t+":"+f(e.value)}};function h(e){var t={code:f(e),globals:Object.keys(s),fields:Object.keys(l)};return s={},l={},t}return h.functions=i,h.constants=r,h}(vA);function yA(e,t,n){";"!==t[t.length-1]&&(t="return("+t+");");var r=Function.apply(null,e.concat(t));return n&&n.functions?r.bind(n.functions):r}function bA(e,t){return yA(["event"],e,t)}function _A(e,t){return yA(["item","_"],e,t)}function xA(e,t,n){var r,i;for(r in n=n||{},e)i=e[r],n[r]=Object(ne.A)(i)?i.map((function(e){return wA(e,t,n)})):wA(i,t,n);return n}function wA(e,t,n){if(!e||!Object(ne.F)(e))return e;for(var r,i=0,o=EA.length;i<o;++i)if(r=EA[i],Object(ne.v)(e,r.key))return r.parse(e,t,n);return e}var EA=[{key:"$ref",parse:function(e,t){return t.get(e.$ref)||Object(ne.n)("Operator not defined: "+e.$ref)}},{key:"$key",parse:function(e,t){var n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=Object(ne.I)(e.$key,e.$flat))}},{key:"$expr",parse:function(e,t,n){e.$params&&xA(e.$params,t,n);var r="e:"+e.$expr+"_"+e.$name;return t.fn[r]||(t.fn[r]=Object(ne.f)(function(e,t){return yA(["datum","_"],e,t)}(e.$expr,t),e.$fields,e.$name))}},{key:"$field",parse:function(e,t){if(!e.$field)return null;var n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=Object(ne.t)(e.$field,e.$name))}},{key:"$encode",parse:function(e,t){var n,r,i=e.$encode,o={};for(n in i)r=i[n],o[n]=Object(ne.f)(_A(r.$expr,t),r.$fields),o[n].output=r.$output;return o}},{key:"$compare",parse:function(e,t){var n="c:"+e.$compare+"_"+e.$order,r=Object(ne.i)(e.$compare).map((function(e){return e&&e.$tupleid?fe:e}));return t.fn[n]||(t.fn[n]=Object(ne.k)(r,e.$order))}},{key:"$context",parse:function(e,t){return t}},{key:"$subflow",parse:function(e,t){var n=e.$subflow;return function(e,r,i){var o=OA(n,t.fork()),a=o.get(n.operators[0].id),s=o.signals.parent;return s&&s.set(i),a}}},{key:"$tupleid",parse:function(){return fe}}];function TA(e){return(e+"").toLowerCase()}var SA=function(e,t){"operator"!==TA(e.type)&&e.type?t.transform(e,e.type):t.operator(e,e.update?function(e,t){return yA(["_"],e,t)}(e.update,t):null)};var kA=function(e,t){var n=Object(ne.F)(n=e.source)?n.$ref:n,r=t.get(n),i=null,o=e.update,a=void 0;r||Object(ne.n)("Source not defined: "+e.source),i=e.target&&e.target.$expr?bA(e.target.$expr,t):t.get(e.target),o&&o.$expr&&(o.$params&&(a=xA(o.$params,t)),o=function(e,t){return yA(["_","event"],e,t)}(o.$expr,t)),t.update(e,r,i,o,a)},OA=function(e,t){var n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),n.forEach((function(e){SA(e,t)})),n.forEach((function(e){!function(e,t){if(e.params){var n=t.get(e.id);n||Object(ne.n)("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(xA(e.params,t),e.react,e.initonly))}}(e,t)})),(e.streams||[]).forEach((function(e){!function(e,t){var n,r=null!=e.filter?bA(e.filter,t):void 0,i=null!=e.stream?t.get(e.stream):void 0;e.source?i=t.events(e.source,e.type,r):e.merge&&(i=(n=e.merge.map(t.get.bind(t)))[0].merge.apply(n[0],n.slice(1))),e.between&&(n=e.between.map(t.get.bind(t)),i=i.between(n[0],n[1])),e.filter&&(i=i.filter(r)),null!=e.throttle&&(i=i.throttle(+e.throttle)),null!=e.debounce&&(i=i.debounce(+e.debounce)),null==i&&Object(ne.n)("Invalid stream definition: "+JSON.stringify(e)),e.consume&&i.consume(!0),t.stream(e,i)}(e,t)})),(e.updates||[]).forEach((function(e){kA(e,t)})),t.resolve()},CA={skip:!0};var AA=function(e,t,n){return new MA(e,t,n)};function MA(e,t,n){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function PA(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.functions=e.functions,this.events=e.events,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}MA.prototype=PA.prototype={fork:function(){var e=new PA(this);return(this.subcontext||(this.subcontext=[])).push(e),e},get:function(e){return this.nodes[e]},set:function(e,t){return this.nodes[e]=t},add:function(e,t){var n,r=this,i=r.dataflow;if(r.set(e.id,t),"collect"===TA(e.type)&&(n=e.value)&&(n.$ingest?i.ingest(t,n.$ingest,n.$format):n.$request?i.preload(t,n.$request,n.$format):i.pulse(t,i.changeset().insert(n))),e.root&&(r.root=t),e.parent){var o=r.get(e.parent.$ref);o?(i.connect(o,[t]),t.targets().add(o)):(r.unresolved=r.unresolved||[]).push((function(){o=r.get(e.parent.$ref),i.connect(o,[t]),t.targets().add(o)}))}if(e.signal&&(r.signals[e.signal]=t),e.scale&&(r.scales[e.scale]=t),e.data)for(var a in e.data)n=r.data[a]||(r.data[a]={}),e.data[a].forEach((function(e){n[e]=t}))},resolve:function(){return(this.unresolved||[]).forEach((function(e){e()})),delete this.unresolved,this},operator:function(e,t){this.add(e,this.dataflow.add(e.value,t))},transform:function(e,t){this.add(e,this.dataflow.add(this.transforms[TA(t)]))},stream:function(e,t){this.set(e.id,t)},update:function(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},getState:function(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach((function(n){var i=t.signals[n];e.signals(n,i)&&(r[n]=i.value)}))}if(e.data){var i=n.data={};Object.keys(t.data).forEach((function(n){var r=t.data[n];e.data(n,r)&&(i[n]=r.input.value)}))}return t.subcontext&&!1!==e.recurse&&(n.subcontext=t.subcontext.map((function(t){return t.getState(e)}))),n},setState:function(e){var t=this,n=t.dataflow,r=e.data,i=e.signals;Object.keys(i||{}).forEach((function(e){n.update(t.signals[e],i[e],CA)})),Object.keys(r||{}).forEach((function(e){n.pulse(t.data[e].input,n.changeset().remove(ne.gb).insert(r[e]))})),(e.subcontext||[]).forEach((function(e,n){var r=t.subcontext[n];r&&r.setState(e)}))}};var IA={skip:!0};function DA(e,t){var n=e.autosize(),r=e.padding();return t-(n&&"padding"===n.contains?r.left+r.right:0)}function NA(e,t){var n=e.autosize(),r=e.padding();return t-(n&&"padding"===n.contains?r.top+r.bottom:0)}function RA(e,t){return t.modified&&Object(ne.A)(t.input.value)&&e.indexOf("_:vega:_")}function LA(e,t){return!("parent"===e||t instanceof Vr.proxy)}var jA=function(e,t,n,r){var i=e.element();i&&i.setAttribute("title",function(e){return null==e?"":Object(ne.A)(e)?FA(e):Object(ne.F)(e)&&!Object(ne.C)(e)?(t=e,Object.keys(t).map((function(e){var n=t[e];return e+": "+(Object(ne.A)(n)?FA(n):BA(n))})).join("\n")):e+"";var t}(r))};function FA(e){return"["+e.map(BA).join(", ")+"]"}function BA(e){return Object(ne.A)(e)?"[\u2026]":Object(ne.F)(e)&&!Object(ne.C)(e)?"{\u2026}":e}function zA(e,t){t=t||{},Fr.call(this),t.loader&&this.loader(t.loader),t.logger&&this.logger(t.logger),null!=t.logLevel&&this.logLevel(t.logLevel),this._el=null,this._elBind=null,this._renderType=t.renderer||xg.Canvas,this._scenegraph=new Td;var n=this._scenegraph.root;this._renderer=null,this._tooltip=t.tooltip||jA,this._redraw=!0,this._handler=(new Fd).scene(n),this._preventDefault=!1,this._timers=[],this._eventListeners=[],this._resizeListeners=[],this._eventConfig=function(e){var t=Object(ne.o)({defaults:{}},e),n=function(e,t){t.forEach((function(t){Object(ne.A)(e[t])&&(e[t]=Object(ne.db)(e[t]))}))};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}(e.eventConfig);var r=function(e,t,n){return OA(t,AA(e,Vr,n||dA))}(this,e,t.functions);this._runtime=r,this._signals=r.signals,this._bind=(e.bindings||[]).map((function(e){return{state:null,param:Object(ne.o)({},e)}})),r.root&&r.root.set(n),n.source=r.data.root.input,this.pulse(r.data.root.input,this.changeset().insert(n.items)),this._width=this.width(),this._height=this.height(),this._viewWidth=DA(this,this._width),this._viewHeight=NA(this,this._height),this._origin=[0,0],this._resize=0,this._autosize=1,function(e){var t=e._signals,n=t.width,r=t.height,i=t.padding;function o(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,(function(t){e._width=t.size,e._viewWidth=DA(e,t.size),o()}),{size:n}),e._resizeHeight=e.add(null,(function(t){e._height=t.size,e._viewHeight=NA(e,t.size),o()}),{size:r});var a=e.add(null,o,{pad:i});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,a.rank=i.rank+1}(this),function(e){e.add(null,(function(t){return e._background=t.bg,e._resize=1,t.bg}),{bg:e._signals.background})}(this),ZS(this),this.description(e.description),t.hover&&this.hover(),t.container&&this.initialize(t.container,t.bind)}var HA=Object(ne.y)(zA,Fr);function UA(e,t){return Object(ne.v)(e._signals,t)?e._signals[t]:Object(ne.n)("Unrecognized signal name: "+Object(ne.Z)(t))}function VA(e,t){var n=(e._targets||[]).filter((function(e){var n=e._update;return n&&n.handler===t}));return n.length?n[0]:null}function GA(e,t,n,r){var i=VA(n,r);return i||((i=bk(this,(function(){r(t,n.value)}))).handler=r,e.on(n,null,i)),e}function WA(e,t,n){var r=VA(t,n);return r&&t._targets.remove(r),e}HA.evaluate=function(){var e=oe(x.a.mark((function e(t,n,r){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fr.prototype.evaluate.call(this,t,n);case 2:if(!this._redraw&&!this._resize){e.next=14;break}if(e.prev=3,!this._renderer){e.next=8;break}return this._resize&&(this._resize=0,rk(this)),e.next=8,this._renderer.renderAsync(this._scenegraph.root);case 8:this._redraw=!1,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),this.error(e.t0);case 14:return r&&ae(this,r),e.abrupt("return",this);case 16:case"end":return e.stop()}}),e,this,[[3,11]])})));return function(t,n,r){return e.apply(this,arguments)}}(),HA.dirty=function(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},HA.description=function(e){if(arguments.length){var t=null!=e?e+"":null;return t!==this._desc&&KS(this._el,this._desc=t),this}return this._desc},HA.container=function(){return this._el},HA.scenegraph=function(){return this._scenegraph},HA.origin=function(){return this._origin.slice()},HA.signal=function(e,t,n){var r=UA(this,e);return 1===arguments.length?r.value:this.update(r,t,n)},HA.width=function(e){return arguments.length?this.signal("width",e):this.signal("width")},HA.height=function(e){return arguments.length?this.signal("height",e):this.signal("height")},HA.padding=function(e){return arguments.length?this.signal("padding",wk(e)):wk(this.signal("padding"))},HA.autosize=function(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},HA.background=function(e){return arguments.length?this.signal("background",e):this.signal("background")},HA.renderer=function(e){return arguments.length?(Eg(e)||Object(ne.n)("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},HA.tooltip=function(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},HA.loader=function(e){return arguments.length?(e!==this._loader&&(Fr.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},HA.resize=function(){return this._autosize=1,this.touch(UA(this,"autosize"))},HA._resetRenderer=function(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},HA._resizeView=function(e,t,n,r,i,o){this.runAfter((function(a){var s=0;a._autosize=0,a.width()!==n&&(s=1,a.signal("width",n,IA),a._resizeWidth.skip(!0)),a.height()!==r&&(s=1,a.signal("height",r,IA),a._resizeHeight.skip(!0)),a._viewWidth!==e&&(a._resize=1,a._viewWidth=e),a._viewHeight!==t&&(a._resize=1,a._viewHeight=t),a._origin[0]===i[0]&&a._origin[1]===i[1]||(a._resize=1,a._origin=i),s&&a.run("enter"),o&&a.runAfter((function(e){return e.resize()}))}),!1,1)},HA.addEventListener=function(e,t,n){var r=t;return n&&!1===n.trap||((r=bk(this,t)).raw=t),this._handler.on(e,r),this},HA.removeEventListener=function(e,t){for(var n,r,i=this._handler.handlers(e),o=i.length;--o>=0;)if(r=i[o].type,n=i[o].handler,e===r&&(t===n||t===n.raw)){this._handler.off(r,n);break}return this},HA.addResizeListener=function(e){var t=this._resizeListeners;return t.indexOf(e)<0&&t.push(e),this},HA.removeResizeListener=function(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},HA.addSignalListener=function(e,t){return GA(this,e,UA(this,e),t)},HA.removeSignalListener=function(e,t){return WA(this,UA(this,e),t)},HA.addDataListener=function(e,t){return GA(this,e,QS(this,e).values,t)},HA.removeDataListener=function(e,t){return WA(this,QS(this,e).values,t)},HA.preventDefault=function(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},HA.timer=function(e,t){this._timers.push(function(e,t,n){var r=new pE,i=t;return null==t?(r.restart(e,t,n),r):(t=+t,n=null==n?dE():+n,r.restart((function o(a){a+=i,r.restart(o,i+=t,n),e(a)}),t,n),r)}((function(t){e({timestamp:Date.now(),elapsed:t})}),t))},HA.events=function(e,t,n){var r,i=this,o=new Ae(n),a=function(n,r){i.runAsync(null,(function(){"view"===e&&function(e,t){var n=e._eventConfig.defaults,r=n.prevent,i=n.allow;return!1!==r&&!0!==i&&(!0===r||!1===i||(r?r[t]:i?!i[t]:e.preventDefault()))}(i,t)&&n.preventDefault(),o.receive(ik(i,n,r))}))};if("timer"===e)ak(i,"timer",t)&&i.timer(a,t);else if("view"===e)ak(i,"view",t)&&i.addEventListener(t,a,ok);else if("window"===e?ak(i,"window",t)&&"undefined"!==typeof window&&(r=[window]):"undefined"!==typeof document&&ak(i,"selector",t)&&(r=document.querySelectorAll(e)),r){for(var s=0,l=r.length;s<l;++s)r[s].addEventListener(t,a);i._eventListeners.push({type:t,sources:r,handler:a})}else i.warn("Can not resolve event source: "+e);return o},HA.finalize=function(){var e,t,n,r=this._tooltip,i=this._timers,o=this._eventListeners;for(e=i.length;--e>=0;)i[e].stop();for(e=o.length;--e>=0;)for(t=(n=o[e]).sources.length;--t>=0;)n.sources[t].removeEventListener(n.type,n.handler);return r&&r.call(this,this._handler,null,null,null),this},HA.hover=function(e,t){return t=[t||"update",(e=[e||"hover"])[0]],this.on(this.events("view","mouseover",sk),lk,uk(e)),this.on(this.events("view","mouseout",sk),lk,uk(t)),this},HA.data=function(e,t){return arguments.length<2?QS(this,e).values.value:JS.call(this,e,be().remove(ne.gb).insert(t))},HA.change=JS,HA.insert=function(e,t){return JS.call(this,e,be().insert(t))},HA.remove=function(e,t){return JS.call(this,e,be().remove(t))},HA.scale=function(e){var t=this._runtime.scales;return Object(ne.v)(t,e)||Object(ne.n)("Unrecognized scale or projection: "+e),t[e].value},HA.initialize=function(e,t){var n=this,r=n._renderType,i=n._eventConfig.bind,o=Eg(r);e=n._el=e?_k(n,e):null,function(e){var t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),KS(t,e.description()))}(n),o||n.error("Unrecognized renderer type: "+r);var a=o.handler||Fd,s=e?o.renderer:o.headless;return n._renderer=s?yk(n,n._renderer,e,s):null,n._handler=function(e,t,n,r){var i=new r(e.loader(),bk(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,nk(e),e);return t&&t.handlers().forEach((function(e){i.on(e.type,e.handler)})),i}(n,n._handler,e,a),n._redraw=!0,e&&"none"!==i&&(t=t?n._elBind=_k(n,t):e.appendChild(ck("form",{class:"vega-bindings"})),n._bind.forEach((function(e){e.param.element&&"container"!==i&&(e.element=_k(n,e.param.element))})),n._bind.forEach((function(e){fk(n,e.element||t,e)}))),n},HA.toImageURL=function(e,t){return Sk.apply(this,arguments)},HA.toCanvas=function(e,t){return Ok.apply(this,arguments)},HA.toSVG=function(e){return Ck.apply(this,arguments)},HA.getState=function(e){return this._runtime.getState(e||{data:RA,signals:LA,recurse:!0})},HA.setState=function(e){return this.runAsync(null,(function(t){t._trigger=!1,t._runtime.setState(e)}),(function(e){e._trigger=!0})),this};var qA=function(e){return Object(ne.F)(e)?e:{type:e||"pad"}},YA=function(e){return+e||0},XA=function(e){return Object(ne.F)(e)?e.signal?e:{top:YA(e.top),bottom:YA(e.bottom),left:YA(e.left),right:YA(e.right)}:{top:t=YA(e),bottom:t,left:t,right:t};var t},$A=["value","update","init","react","bind"];function KA(e,t){Object(ne.n)(e+' for "outer" push: '+Object(ne.Z)(t))}var ZA=function(e,t){var n=e.name;if("outer"===e.push)t.signals[n]||KA("No prior signal definition",n),$A.forEach((function(t){void 0!==e[t]&&KA("Invalid property ",t)}));else{var r=t.addSignal(n,e.value);!1===e.react&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}},QA=function(e,t,n){var r,i,o={};try{e=Object(ne.H)(e)?e:Object(ne.Z)(e)+"",r=AO(e)}catch(a){Object(ne.n)("Expression parse error: "+e)}return r.visit((function(e){if("CallExpression"===e.type){var n=e.callee.name,r=vA.visitors[n];r&&r(n,e.arguments,t,o)}})),(i=gA(r)).globals.forEach((function(e){var n="$"+e;!Object(ne.v)(o,n)&&t.getSignal(e)&&(o[n]=t.signalRef(e))})),{$expr:n?n+"return("+i.code+");":i.code,$fields:i.fields,$params:o}};function JA(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function eM(e,t,n,r){return new JA(e,t,n,r)}function tM(e,t){return eM("operator",e,t)}function nM(e){var t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function rM(e,t){return t?{$field:e,$name:t}:{$field:e}}var iM=rM("key");function oM(e,t){return{$compare:e,$order:t}}function aM(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}function sM(e){return e&&e.signal}function lM(e){if(sM(e))return!0;if(Object(ne.F)(e))for(var t in e)if(lM(e[t]))return!0;return!1}function uM(e,t){return null!=e?e:t}function cM(e){return e&&e.signal||e}function fM(e,t){return(e.merge?dM:e.stream?hM:e.type?pM:Object(ne.n)("Invalid stream specification: "+Object(ne.Z)(e)))(e,t)}function dM(e,t){var n=mM({merge:e.merge.map((function(e){return fM(e,t)}))},e,t);return t.addStream(n).id}function hM(e,t){var n=mM({stream:fM(e.stream,t)},e,t);return t.addStream(n).id}function pM(e,t){var n,r,i;return"timer"===e.type?(n=t.event("timer",e.throttle),e={between:e.between,filter:e.filter}):n=t.event("scope"===(i=e.source)?"view":i||"view",e.type),r=mM({stream:n},e,t),1===Object.keys(r).length?n:t.addStream(r).id}function mM(e,t,n){var r=t.between;return r&&(2!==r.length&&Object(ne.n)('Stream "between" parameter must have 2 entries: '+Object(ne.Z)(t)),e.between=[fM(r[0],n),fM(r[1],n)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(function(e,t,n){var r="event.item";return r+(e&&"*"!==e?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}(t.marktype,t.markname,t.markrole)),"scope"===t.source&&r.push("inScope(event.item)"),r.length&&(e.filter=QA("("+r.join(")&&(")+")").$expr),null!=(r=t.throttle)&&(e.throttle=+r),null!=(r=t.debounce)&&(e.debounce=+r),t.consume&&(e.consume=!0),e}var vM,gM,yM=function(e,t,n){return vM=t||bM,gM=n||xM,EM(e.trim()).map(TM)},bM="view",_M=/[[\]{}]/,xM={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};function wM(e,t,n,r,i){for(var o,a=0,s=e.length;t<s;++t){if(o=e[t],!a&&o===n)return t;i&&i.indexOf(o)>=0?--a:r&&r.indexOf(o)>=0&&++a}return t}function EM(e){for(var t=[],n=0,r=e.length,i=0;i<r;)i=wM(e,i,",","[{","]}"),t.push(e.substring(n,i).trim()),n=++i;if(0===t.length)throw"Empty event selector: "+e;return t}function TM(e){return"["===e[0]?function(e){var t,n,r=e.length,i=1;if((i=wM(e,i,"]","[","]"))===r)throw"Empty between selector: "+e;if(2!==(t=EM(e.substring(1,i))).length)throw"Between selector must have two elements: "+e;if(">"!==(e=e.slice(i+1).trim())[0])throw"Expected '>' after between selector: "+e;if(t=t.map(TM),(n=TM(e.slice(1).trim())).between)return{between:t,stream:n};n.between=t;return n}(e):function(e){var t,n,r={source:vM},i=[],o=[0,0],a=0,s=0,l=e.length,u=0;if("}"===e[l-1]){if(!((u=e.lastIndexOf("{"))>=0))throw"Unmatched right brace: "+e;try{o=function(e){var t=e.split(",");if(!e.length||t.length>2)throw e;return t.map((function(t){var n=+t;if(n!==n)throw e;return n}))}(e.substring(u+1,l-1))}catch(f){throw"Invalid throttle specification: "+e}e=e.slice(0,u).trim(),l=e.length,u=0}if(!l)throw e;"@"===e[0]&&(a=++u);(t=wM(e,u,":"))<l&&(i.push(e.substring(s,t).trim()),s=u=++t);if((u=wM(e,u,"["))===l)i.push(e.substring(s,l).trim());else if(i.push(e.substring(s,u).trim()),n=[],(s=++u)===l)throw"Unmatched left bracket: "+e;for(;u<l;){if((u=wM(e,u,"]"))===l)throw"Unmatched left bracket: "+e;if(n.push(e.substring(s,u).trim()),u<l-1&&"["!==e[++u])throw"Expected left bracket: "+e;s=++u}if(!(l=i.length)||_M.test(i[l-1]))throw"Invalid event selector: "+e;l>1?(r.type=i[1],a?r.markname=i[0].slice(1):(c=i[0],gM[c]?r.marktype=i[0]:r.source=i[0])):r.type=i[0];var c;"!"===r.type.slice(-1)&&(r.consume=!0,r.type=r.type.slice(0,-1));null!=n&&(r.filter=n);o[0]&&(r.throttle=o[0]);o[1]&&(r.debounce=o[1]);return r}(e)}var SM=function(e,t,n){var r=e.events,i=e.update,o=e.encode,a=[],s={target:n};r||Object(ne.n)("Signal update missing events specification."),Object(ne.H)(r)&&(r=yM(r,t.isSubscope()?"scope":"view")),r=Object(ne.i)(r).filter((function(e){return e.signal||e.scale?(a.push(e),0):1})),a.length>1&&(a=[kM(a)]),r.length&&a.push(r.length>1?{merge:r}:r[0]),null!=o&&(i&&Object(ne.n)("Signal encode and update are mutually exclusive."),i="encode(item(),"+Object(ne.Z)(o)+")"),s.update=Object(ne.H)(i)?QA(i,t,"var datum=event.item&&event.item.datum;"):null!=i.expr?QA(i.expr,t,"var datum=event.item&&event.item.datum;"):null!=i.value?i.value:null!=i.signal?{$expr:"_.value",$params:{value:t.signalRef(i.signal)}}:Object(ne.n)("Invalid signal update specification."),e.force&&(s.options={force:!0}),a.forEach((function(e){t.addUpdate(Object(ne.o)(function(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):fM(e,t)}}(e,t),s))}))};function kM(e){return{signal:"["+e.map((function(e){return e.scale?'scale("'+e.scale+'")':e.signal}))+"]"}}function OM(e){return function(t,n,r){return eM(e,n,t||void 0,r)}}var CM=OM("aggregate"),AM=OM("axisticks"),MM=OM("bound"),PM=OM("collect"),IM=OM("compare"),DM=OM("datajoin"),NM=OM("encode"),RM=OM("expression"),LM=(OM("extent"),OM("facet")),jM=OM("field"),FM=OM("key"),BM=OM("legendentries"),zM=OM("load"),HM=OM("mark"),UM=OM("multiextent"),VM=OM("multivalues"),GM=OM("overlap"),WM=OM("params"),qM=OM("prefacet"),YM=OM("projection"),XM=OM("proxy"),$M=OM("relay"),KM=OM("render"),ZM=OM("scale"),QM=OM("sieve"),JM=OM("sortitems"),eP=OM("viewlayout"),tP=OM("values"),nP=0,rP={min:"min",max:"max",count:"sum"};function iP(e,t){var n,r,i=t.getScale(e.name).params;for(n in i.domain=lP(e.domain,e,t),null!=e.range&&(i.range=function e(t,n,r){var i=t.range,o=n.config.range;if(i.signal)return n.signalRef(i.signal);if(Object(ne.H)(i)){if(o&&Object(ne.v)(o,i))return t=Object(ne.o)({},t,{range:o[i]}),e(t,n,r);"width"===i?i=[0,{signal:"width"}]:"height"===i?i=bm(t.type)?[0,{signal:"height"}]:[{signal:"height"},0]:Object(ne.n)("Unrecognized scale range value: "+Object(ne.Z)(i))}else{if(i.scheme)return r.scheme=Object(ne.A)(i.scheme)?aP(i.scheme,n):oP(i.scheme,n),i.extent&&(r.schemeExtent=aP(i.extent,n)),void(i.count&&(r.schemeCount=oP(i.count,n)));if(i.step)return void(r.rangeStep=oP(i.step,n));if(bm(t.type)&&!Object(ne.A)(i))return lP(i,t,n);Object(ne.A)(i)||Object(ne.n)("Unsupported range type: "+Object(ne.Z)(i))}return i.map((function(e){return(Object(ne.A)(e)?aP:oP)(e,n)}))}(e,t,i)),null!=e.interpolate&&function(e,t){t.interpolate=oP(e.type||e),null!=e.gamma&&(t.interpolateGamma=oP(e.gamma))}(e.interpolate,i),null!=e.nice&&(i.nice=(r=e.nice,Object(ne.F)(r)?{interval:oP(r.interval),step:oP(r.step)}:oP(r))),null!=e.bins&&(i.bins=function(e,t){return e.signal||Object(ne.A)(e)?aP(e,t):t.objectProperty(e)}(e.bins,t)),e)Object(ne.v)(i,n)||"name"===n||(i[n]=oP(e[n],t))}function oP(e,t){return Object(ne.F)(e)?e.signal?t.signalRef(e.signal):Object(ne.n)("Unsupported object: "+Object(ne.Z)(e)):e}function aP(e,t){return e.signal?t.signalRef(e.signal):e.map((function(e){return oP(e,t)}))}function sP(e){Object(ne.n)("Can not find data set: "+Object(ne.Z)(e))}function lP(e,t,n){if(e)return e.signal?n.signalRef(e.signal):(Object(ne.A)(e)?uP:e.fields?fP:cP)(e,t,n);null==t.domainMin&&null==t.domainMax||Object(ne.n)("No scale domain defined for domainMin/domainMax to override.")}function uP(e,t,n){return e.map((function(e){return oP(e,n)}))}function cP(e,t,n){var r=n.getData(e.data);return r||sP(e.data),bm(t.type)?r.valuesRef(n,e.field,hP(e.sort,!1)):Em(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function fP(e,t,n){var r=e.data,i=e.fields.reduce((function(e,t){return t=Object(ne.H)(t)?{data:r,field:t}:Object(ne.A)(t)||t.signal?function(e,t){var n="_:vega:_"+nP++,r=PM({});if(Object(ne.A)(e))r.value={$ingest:e};else if(e.signal){var i="setdata("+Object(ne.Z)(n)+","+e.signal+")";r.params.input=t.signalRef(i)}return t.addDataPipeline(n,[r,QM({})]),{data:n,field:"data"}}(t,n):t,e.push(t),e}),[]);return(bm(t.type)?dP:Em(t.type)?pP:mP)(e,n,i)}function dP(e,t,n){var r,i,o,a,s,l=hP(e.sort,!0);return r=n.map((function(e){var n=t.getData(e.data);return n||sP(e.data),n.countsRef(t,e.field,l)})),i={groupby:iM,pulse:r},l&&(o=l.op||"count",s=l.field?aM(o,l.field):"count",i.ops=[rP[o]],i.fields=[t.fieldRef(s)],i.as=[s]),o=t.add(CM(i)),a=t.add(PM({pulse:nM(o)})),s=t.add(tP({field:iM,sort:t.sortRef(l),pulse:nM(a)})),nM(s)}function hP(e,t){return e&&(e.field||e.op?e.field||"count"===e.op?t&&e.field&&e.op&&!rP[e.op]&&Object(ne.n)("Multiple domain scales can not be sorted using "+e.op):Object(ne.n)("No field provided for sort aggregate op: "+e.op):Object(ne.F)(e)?e.field="key":e={field:"key"}),e}function pP(e,t,n){var r=n.map((function(e){var n=t.getData(e.data);return n||sP(e.data),n.domainRef(t,e.field)}));return nM(t.add(VM({values:r})))}function mP(e,t,n){var r=n.map((function(e){var n=t.getData(e.data);return n||sP(e.data),n.extentRef(t,e.field)}));return nM(t.add(UM({extents:r})))}function vP(e,t,n){return Object(ne.A)(e)?e.map((function(e){return vP(e,t,n)})):Object(ne.F)(e)?e.signal?n.signalRef(e.signal):"fit"===t?e:Object(ne.n)("Unsupported parameter object: "+Object(ne.Z)(e)):e}var gP="value",yP=["size","shape","fill","stroke","strokeWidth","strokeDash","opacity"],bP={name:1,style:1,interactive:1},_P={value:0},xP={value:1},wP=Object(ne.db)(["rule"]),EP=Object(ne.db)(["group","image","rect"]),TP=function(e,t,n,r){var i=QA(e,t);return i.$fields.forEach((function(e){r[e]=1})),Object(ne.o)(n,i.$params),i.$expr},SP=function(e,t,n,r){return function e(t,n,r,i){var o,a,s;if(t.signal)o="datum",s=TP(t.signal,n,r,i);else if(t.group||t.parent){for(a=Math.max(1,t.level||1),o="item";a-- >0;)o+=".mark.group";t.parent?(s=t.parent,o+=".datum"):s=t.group}else t.datum?(o="datum",s=t.datum):Object(ne.n)("Invalid field reference: "+Object(ne.Z)(t));t.signal||(Object(ne.H)(s)?(i[s]=1,s=Object(ne.Y)(s).map(ne.Z).join("][")):s=e(s,n,r,i));return o+"["+s+"]"}(Object(ne.F)(e)?e:{datum:e},t,n,r)};var kP=function(e,t,n,r){return Object(ne.F)(e)?"("+AP(null,e,t,n,r)+")":e},OP=function(e,t,n,r,i){var o,a,s,l=CP(e.scale,n,r,i);return null!=e.range?(a=l+".range()",t=0===(o=+e.range)?a+"[0]":"($="+a+","+(1===o?"$[$.length-1]":"$[0]+"+o+"*($[$.length-1]-$[0])")+")"):(void 0!==t&&(t=l+"("+t+")"),e.band&&(s=function(e,t){if(!Object(ne.H)(e))return-1;var n=t.scaleType(e);return"band"===n||"point"===n?1:0}(e.scale,n))&&(a=l+".bandwidth",o=e.band.signal?a+"()*"+kP(e.band,n,r,i):a+"()"+(1===(o=+e.band)?"":"*"+o),s<0&&(o="("+a+"?"+o+":0)"),t=(t?t+"+":"")+o,e.extra&&(t="(datum.extra?"+l+"(datum.extra.value):"+t+")")),null==t&&(t="0")),t};function CP(e,t,n,r){var i;if(Object(ne.H)(e))i="%"+e,Object(ne.v)(n,i)||(n[i]=t.scaleRef(e)),i=Object(ne.Z)(i);else{for(i in t.scales)n["%"+i]=t.scaleRef(i);i=Object(ne.Z)("%")+"+"+(e.signal?"("+TP(e.signal,t,n,r)+")":SP(e,t,n,r))}return"_["+i+"]"}var AP=function(e,t,n,r,i){if(null!=t.gradient)return function(e,t,n,r){return"this.gradient("+CP(e.gradient,t,n,r)+","+Object(ne.Z)(e.start)+","+Object(ne.Z)(e.stop)+","+Object(ne.Z)(e.count)+")"}(t,n,r,i);var o=t.signal?TP(t.signal,n,r,i):t.color?function(e,t,n,r){function i(e,i,o,a){return"this."+e+"("+[AP(null,i,t,n,r),AP(null,o,t,n,r),AP(null,a,t,n,r)].join(",")+").toString()"}return e.c?i("hcl",e.h,e.c,e.l):e.h||e.s?i("hsl",e.h,e.s,e.l):e.l||e.a?i("lab",e.l,e.a,e.b):e.r||e.g||e.b?i("rgb",e.r,e.g,e.b):null}(t.color,n,r,i):null!=t.field?SP(t.field,n,r,i):void 0!==t.value?Object(ne.Z)(t.value):void 0;return null!=t.scale&&(o=OP(t,o,n,r,i)),void 0===o&&(o=null),null!=t.exponent&&(o="Math.pow("+o+","+kP(t.exponent,n,r,i)+")"),null!=t.mult&&(o+="*"+kP(t.mult,n,r,i)),null!=t.offset&&(o+="+"+kP(t.offset,n,r,i)),t.round&&(o="Math.round("+o+")"),o},MP=function(e,t,n){var r=e+"["+Object(ne.Z)(t)+"]";return"$=".concat(n,";if(").concat(r,"!==$)").concat(r,"=$,m=1;")},PP=function(e,t,n,r,i){var o="";return t.forEach((function(t){var a=AP(e,t,n,r,i);o+=t.test?TP(t.test,n,r,i)+"?"+a+":":a})),":"===Object(ne.U)(o)&&(o+="null"),MP("o",e,o)};function IP(e,t,n,r){var i,o,a,s={},l="var o=item,datum=o.datum,m=0,$;";for(i in e)o=e[i],Object(ne.A)(o)?l+=PP(i,o,r,n,s):(a=AP(i,o,r,n,s),l+=MP("o",i,a));return l+=function(e,t){var n="";return wP[t]||(e.x2&&(e.x?(EP[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(EP[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}(e,t),{$expr:l+="return m;",$fields:Object.keys(s),$output:Object.keys(e)}}function DP(e){return Object(ne.F)(e)&&!Object(ne.A)(e)?Object(ne.o)({},e):{value:e}}function NP(e,t,n,r){return null!=n?(Object(ne.F)(n)&&!Object(ne.A)(n)?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function RP(e,t,n){for(var r in t)NP(e,r,t[r]);for(var i in n)NP(e,i,n[i],"update")}function LP(e,t,n){for(var r in t)n&&Object(ne.v)(n,r)||(e[r]=Object(ne.o)(e[r]||{},t[r]));return e}function jP(e,t,n,r,i,o){var a,s;for(s in(o=o||{}).encoders={$encode:a={}},e=function(e,t,n,r,i){var o,a,s,l={},u={};a="lineBreak","text"!==t||null==i[a]||BP(a,e)||FP(l,a,i[a]);("legend"==n||String(n).startsWith("axis"))&&(n=null);for(a in s="frame"===n?i.group:"mark"===n?Object(ne.o)({},i.mark,i[t]):null)BP(a,e)||("fill"===a||"stroke"===a)&&(BP("fill",e)||BP("stroke",e))||FP(l,a,s[a]);for(a in Object(ne.i)(r).forEach((function(t){var n=i.style&&i.style[t];for(var r in n)BP(r,e)||FP(l,r,n[r])})),e=Object(ne.o)({},e),l)(s=l[a]).signal?(o=o||{})[a]=s:u[a]=s;e.enter=Object(ne.o)(u,e.enter),o&&(e.update=Object(ne.o)(o,e.update));return e}(e,t,n,r,i.config))a[s]=IP(e[s],t,o,i);return o}function FP(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}function BP(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}var zP=function(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=LP(e.encode,t,bP)):e.interactive=!1,e};function HP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function UP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HP(Object(n),!0).forEach((function(t){$a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function VP(e,t){var n=function(n,r){return uM(e[n],uM(t[n],r))};return n.isVertical=function(n){return"vertical"===uM(e.direction,t.direction||(n?t.symbolDirection:t.gradientDirection))},n.gradientLength=function(){return uM(e.gradientLength,t.gradientLength||t.gradientWidth)},n.gradientThickness=function(){return uM(e.gradientThickness,t.gradientThickness||t.gradientHeight)},n.entryColumns=function(){return uM(e.columns,uM(t.columns,+n.isVertical(!0)))},n}function GP(e,t){var n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function WP(e,t,n){return'item.anchor === "'.concat("start",'" ? ').concat(e,' : item.anchor === "').concat("end",'" ? ').concat(t," : ").concat(n)}var qP=WP(Object(ne.Z)("left"),Object(ne.Z)("right"),Object(ne.Z)("center"));function YP(e,t){return t?e?Object(ne.F)(e)?UP(UP({},e),{},{offset:YP(e.offset,t)}):{value:e,offset:t}:t:e}var XP=function(e,t,n,r){var i,o,a,s,l,u,c=VP(e,n),f=c.isVertical(),d=c.gradientThickness(),h=c.gradientLength();return f?(a=[0,1],s=[0,0],l=d,u=h):(a=[0,0],s=[1,0],l=h,u=d),RP(i={enter:o={opacity:_P,x:_P,y:_P,width:DP(l),height:DP(u)},update:Object(ne.o)({},o,{opacity:xP,fill:{gradient:t,start:a,stop:s}}),exit:{opacity:_P}},{stroke:c("gradientStrokeColor"),strokeWidth:c("gradientStrokeWidth")},{opacity:c("gradientOpacity")}),zP({type:"rect",role:"legend-gradient",encode:i},r)},$P=function(e,t,n,r,i){var o,a,s,l,u,c,f=VP(e,n),d=f.isVertical(),h=f.gradientThickness(),p=f.gradientLength(),m="";return d?(s="y",u="y2",l="x",c="width",m="1-"):(s="x",u="x2",l="y",c="height"),(a={opacity:_P,fill:{scale:t,field:gP}})[s]={signal:m+"datum.perc",mult:p},a[l]=_P,a[u]={signal:m+"datum.perc2",mult:p},a[c]=DP(h),RP(o={enter:a,update:Object(ne.o)({},a,{opacity:xP}),exit:{opacity:_P}},{stroke:f("gradientStrokeColor"),strokeWidth:f("gradientStrokeWidth")},{opacity:f("gradientOpacity")}),zP({type:"rect",role:"legend-band",key:gP,from:i,encode:o},r)},KP="datum.".concat("perc",'<=0?"').concat("left",'":datum.').concat("perc",'>=1?"').concat("right",'":"').concat("center",'"'),ZP="datum.".concat("perc",'<=0?"').concat("bottom",'":datum.').concat("perc",'>=1?"').concat("top",'":"').concat("middle",'"'),QP=function(e,t,n,r){var i,o,a,s,l,u=VP(e,t),c=u.isVertical(),f=DP(u.gradientThickness()),d=u.gradientLength(),h=u("labelOverlap"),p="";return RP(i={enter:o={opacity:_P},update:a={opacity:xP,text:{field:"label"}},exit:{opacity:_P}},{fill:u("labelColor"),fillOpacity:u("labelOpacity"),font:u("labelFont"),fontSize:u("labelFontSize"),fontStyle:u("labelFontStyle"),fontWeight:u("labelFontWeight"),limit:uM(e.labelLimit,t.gradientLabelLimit)}),c?(o.align={value:"left"},o.baseline=a.baseline={signal:ZP},s="y",l="x",p="1-"):(o.align=a.align={signal:KP},o.baseline={value:"top"},s="x",l="y"),o[s]=a[s]={signal:p+"datum.perc",mult:d},o[l]=a[l]=f,f.offset=uM(e.labelOffset,t.gradientLabelOffset)||0,h=h?{separation:u("labelSeparation"),method:h,order:"datum.index"}:void 0,zP({type:"text",role:"legend-label",style:"guide-label",key:gP,from:r,encode:i,overlap:h},n)},JP=function(e){return e.type="group",e.interactive=e.interactive||!1,e},eI=function(e,t,n,r,i){var o,a,s,l,u,c,f,d=VP(e,t),h=n.entries,p=!(!h||!h.interactive),m=h?h.name:void 0,v=d("clipHeight"),g=d("symbolOffset"),y={data:"value"},b={},_="(".concat(i,") ? datum.").concat("offset"," : datum.").concat("size"),x=v?DP(v):{field:"size"},w="datum.".concat("index"),E="max(1, ".concat(i,")");x.mult=.5,b={enter:o={opacity:_P,x:{signal:_,mult:.5,offset:g},y:x},update:a={opacity:xP,x:o.x,y:o.y},exit:{opacity:_P}};var T=null,S=null;return e.fill||(T=t.symbolBaseFillColor,S=t.symbolBaseStrokeColor),RP(b,{fill:d("symbolFillColor",T),shape:d("symbolType"),size:d("symbolSize"),stroke:d("symbolStrokeColor",S),strokeDash:d("symbolDash"),strokeDashOffset:d("symbolDashOffset"),strokeWidth:d("symbolStrokeWidth")},{opacity:d("symbolOpacity")}),yP.forEach((function(t){e[t]&&(a[t]=o[t]={scale:e[t],field:gP})})),l=zP({type:"symbol",role:"legend-symbol",key:gP,from:y,clip:!!v||void 0,encode:b},n.symbols),(s=DP(g)).offset=d("labelOffset"),RP(b={enter:o={opacity:_P,x:{signal:_,offset:s},y:x},update:a={opacity:xP,text:{field:"label"},x:o.x,y:o.y},exit:{opacity:_P}},{align:d("labelAlign"),baseline:d("labelBaseline"),fill:d("labelColor"),fillOpacity:d("labelOpacity"),font:d("labelFont"),fontSize:d("labelFontSize"),fontStyle:d("labelFontStyle"),fontWeight:d("labelFontWeight"),limit:d("labelLimit")}),u=zP({type:"text",role:"legend-label",style:"guide-label",key:gP,from:y,encode:b},n.labels),b={enter:{noBound:{value:!v},width:_P,height:v?DP(v):_P,opacity:_P},exit:{opacity:_P},update:a={opacity:xP,row:{signal:null},column:{signal:null}}},d.isVertical(!0)?(c="ceil(item.mark.items.length / ".concat(E,")"),a.row.signal="".concat(w,"%").concat(c),a.column.signal="floor(".concat(w," / ").concat(c,")"),f={field:["row",w]}):(a.row.signal="floor(".concat(w," / ").concat(E,")"),a.column.signal="".concat(w," % ").concat(E),f={field:w}),a.column.signal="(".concat(i,")?").concat(a.column.signal,":").concat(w),JP({role:"scope",from:r={facet:{data:r,name:"value",groupby:"index"}},encode:LP(b,h,bP),marks:[l,u],name:m,interactive:p,sort:f})};var tI='item.orient === "left"',nI='item.orient === "right"',rI="(".concat(tI," || ").concat(nI,")"),iI="datum.vgrad && ".concat(rI),oI=WP('"top"','"bottom"','"middle"'),aI=WP('"right"','"left"','"center"'),sI="datum.vgrad && ".concat(nI," ? (").concat(aI,") : (").concat(rI," && !(datum.vgrad && ").concat(tI,')) ? "left" : ').concat(qP),lI="item._anchor || (".concat(rI,' ? "middle" : "start")'),uI="".concat(iI," ? (").concat(tI," ? -90 : 90) : 0"),cI="".concat(rI," ? (datum.vgrad ? (").concat(nI,' ? "bottom" : "top") : ').concat(oI,') : "top"'),fI=function(e,t){var n;return Object(ne.F)(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+dI(e.path)+")":e.sphere&&(n="geoShape("+dI(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e};function dI(e){return Object(ne.F)(e)&&e.signal?e.signal:Object(ne.Z)(e)}var hI=function(e){var t=e.role||"";return t.indexOf("axis")&&t.indexOf("legend")&&t.indexOf("title")?"group"===e.type?"scope":t||"mark":t},pI=function(e){return{marktype:e.type,name:e.name||void 0,role:e.role||hI(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}},mI=function(e,t){return e&&e.signal?t.signalRef(e.signal):!1!==e},vI=function(e,t){var n=Gr(e.type);n||Object(ne.n)("Unrecognized transform type: "+Object(ne.Z)(e.type));var r=eM(n.type.toLowerCase(),null,gI(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r};function gI(e,t,n){var r,i,o,a={};for(i=0,o=e.params.length;i<o;++i)a[(r=e.params[i]).name]=yI(r,t,n);return a}function yI(e,t,n){var r=e.type,i=t[e.name];return"index"===r?function(e,t,n){Object(ne.H)(t.from)||Object(ne.n)('Lookup "from" parameter must be a string literal.');return n.getData(t.from).lookupRef(n,t.key)}(0,t,n):void 0!==i?"param"===r?function(e,t,n){var r=t[e.name];return e.array?(Object(ne.A)(r)||Object(ne.n)("Expected an array of sub-parameters. Instead: "+Object(ne.Z)(r)),r.map((function(t){return _I(e,t,n)}))):_I(e,r,n)}(e,t,n):"projection"===r?n.projectionRef(t[e.name]):e.array&&!sM(i)?i.map((function(t){return bI(e,t,n)})):bI(e,i,n):void(e.required&&Object(ne.n)("Missing required "+Object(ne.Z)(t.type)+" parameter: "+Object(ne.Z)(e.name)))}function bI(e,t,n){var r=e.type;if(sM(t))return xI(r)?Object(ne.n)("Expression references can not be signals."):wI(r)?n.fieldRef(t):EI(r)?n.compareRef(t):n.signalRef(t.signal);var i,o=e.expr||wI(r);return o&&((i=t)&&i.expr)?n.exprRef(t.expr,t.as):o&&function(e){return e&&e.field}(t)?rM(t.field,t.as):xI(r)?QA(t,n):function(e){return"data"===e}(r)?nM(n.getData(t).values):wI(r)?rM(t):EI(r)?n.compareRef(t):t}function _I(e,t,n){var r,i,o,a,s;for(a=0,s=e.params.length;a<s;++a){for(o in(i=e.params[a]).key)if(i.key[o]!==t[o]){i=null;break}if(i)break}return i||Object(ne.n)("Unsupported parameter: "+Object(ne.Z)(t)),r=Object(ne.o)(gI(i,t,n),i.key),nM(n.add(WM(r)))}function xI(e){return"expr"===e}function wI(e){return"field"===e}function EI(e){return"compare"===e}function TI(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:nM(t.getData(e.data).output)}function SI(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}SI.fromEntries=function(e,t){var n=t.length,r=1,i=t[0],o=t[n-1],a=t[n-2],s=null;for(i&&"load"===i.type&&(i=t[1]),e.add(t[0]);r<n;++r)t[r].params.pulse=nM(t[r-1]),e.add(t[r]),"aggregate"===t[r].type&&(s=t[r]);return new SI(e,i,a,o,s)};var kI=SI.prototype;function OI(e){return Object(ne.H)(e)?e:null}function CI(e,t,n){var r,i=aM(n.op,n.field);if(t.ops){for(var o=0,a=t.as.length;o<a;++o)if(t.as[o]===i)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((r=n.op.signal)?e.signalRef(r):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(i))}function AI(e,t,n,r,i,o,a){var s,l,u=t[n]||(t[n]={}),c=function(e){return Object(ne.F)(e)?("descending"===e.order?"-":"+")+aM(e.op,e.field):""}(o),f=OI(i);if(null!=f&&(e=t.scope,s=u[f+=c?"|"+c:""]),!s){var d=o?{field:iM,pulse:t.countsRef(e,i,o)}:{field:e.fieldRef(i),pulse:nM(t.output)};c&&(d.sort=e.sortRef(o)),l=e.add(eM(r,void 0,d)),a&&(t.index[i]=l),s=nM(l),null!=f&&(u[f]=s)}return s}kI.countsRef=function(e,t,n){var r,i,o,a=this.counts||(this.counts={}),s=OI(t);return null!=s&&(e=this.scope,r=a[s]),r?n&&n.field&&CI(e,r.agg.params,n):(o={groupby:e.fieldRef(t,"key"),pulse:nM(this.output)},n&&n.field&&CI(e,o,n),i=e.add(CM(o)),r=e.add(PM({pulse:nM(i)})),r={agg:i,ref:nM(r)},null!=s&&(a[s]=r)),r.ref},kI.tuplesRef=function(){return nM(this.values)},kI.extentRef=function(e,t){return AI(e,this,"extent","extent",t,!1)},kI.domainRef=function(e,t){return AI(e,this,"domain","values",t,!1)},kI.valuesRef=function(e,t,n){return AI(e,this,"vals","values",t,n||!0)},kI.lookupRef=function(e,t){return AI(e,this,"lookup","tupleindex",t,!1)},kI.indataRef=function(e,t){return AI(e,this,"indata","tupleindex",t,!0,!0)};var MI=function(e,t,n){var r,i,o=e.remove,a=e.insert,s=e.toggle,l=e.modify,u=e.values,c=t.add(tM());r="if("+e.trigger+',modify("'+n+'",'+[a,o,s,l,u].map((function(e){return null==e?"null":e})).join(",")+"),0)",i=QA(r,t),c.update=i.$expr,c.params=i.$params},PI=function(e,t){var n,r,i,o,a,s,l,u,c,f,d,h,p,m,v=hI(e),g="group"===e.type,y=e.from&&e.from.facet,b=e.layout||"scope"===v||"frame"===v,_="mark"===v||b||y,x=e.overlap;i=function(e,t,n){var r,i,o,a,s;return e?(r=e.facet)&&(t||Object(ne.n)("Only group marks can be faceted."),null!=r.field?a=s=TI(r,n):(e.data?s=nM(n.getData(e.data).aggregate):((o=vI(Object(ne.o)({type:"aggregate",groupby:Object(ne.i)(r.groupby)},r.aggregate),n)).params.key=n.keyRef(r.groupby),o.params.pulse=TI(r,n),a=s=nM(n.add(o))),i=n.keyRef(r.groupby,!0))):a=nM(n.add(PM(null,[{}]))),a||(a=TI(e,n)),{key:i,pulse:a,parent:s}}(e.from,g,t),f=nM(r=t.add(DM({key:i.key||(e.key?rM(e.key):void 0),pulse:i.pulse,clean:!g}))),r=o=t.add(PM({pulse:f})),r=t.add(HM({markdef:pI(e),interactive:mI(e.interactive,t),clip:fI(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:nM(r)})),d=nM(r),(r=a=t.add(NM(jP(e.encode,e.type,v,e.style,t,{mod:!1,pulse:d})))).params.parent=t.encode(),e.transform&&e.transform.forEach((function(e){var n=vI(e,t),i=n.metadata;(i.generates||i.changes)&&Object(ne.n)("Mark transforms should not generate new data."),i.nomod||(a.params.mod=!0),n.params.pulse=nM(r),t.add(r=n)})),e.sort&&(r=t.add(JM({sort:t.compareRef(e.sort),pulse:nM(r)}))),h=nM(r),(y||b)&&(p=nM(b=t.add(eP({layout:t.objectProperty(e.layout),legends:t.legends,mark:d,pulse:h})))),m=nM(s=t.add(MM({mark:d,pulse:p||h}))),g&&(_&&((n=t.operators).pop(),b&&n.pop()),t.pushState(h,p||m,f),y?function(e,t,n){var r,i,o,a,s=e.from.facet,l=s.name,u=TI(s,t);s.name||Object(ne.n)("Facet must have a name: "+Object(ne.Z)(s)),s.data||Object(ne.n)("Facet must reference a data set: "+Object(ne.Z)(s)),s.field?a=t.add(qM({field:t.fieldRef(s.field),pulse:u})):s.groupby?a=t.add(LM({key:t.keyRef(s.groupby),group:nM(t.proxy(n.parent)),pulse:u})):Object(ne.n)("Facet must specify groupby or field: "+Object(ne.Z)(s)),i=(r=t.fork()).add(PM()),o=r.add(QM({pulse:nM(i)})),r.addData(l,new SI(r,i,i,o)),r.addSignal("parent",null),a.params.subflow={$subflow:GI(e,r).toRuntime()}}(e,t,i):_?function(e,t,n){var r=t.add(qM({pulse:n.pulse})),i=t.fork();i.add(QM()),i.addSignal("parent",null),r.params.subflow={$subflow:GI(e,i).toRuntime()}}(e,t,i):GI(e,t),t.popState(),_&&(b&&n.push(b),n.push(s))),x&&(m=function(e,t,n){var r,i=e.method,o=e.bound,a=e.separation,s={separation:sM(a)?n.signalRef(a.signal):a,method:sM(i)?n.signalRef(i.signal):i,pulse:t};e.order&&(s.sort=n.compareRef({field:e.order}));o&&(r=o.tolerance,s.boundTolerance=sM(r)?n.signalRef(r.signal):+r,s.boundScale=n.scaleRef(o.scale),s.boundOrient=o.orient);return nM(n.add(GM(s)))}(x,m,t)),l=t.add(KM({pulse:m})),u=t.add(QM({pulse:nM(l)},void 0,t.parent())),null!=e.name&&(c=e.name,t.addData(c,new SI(t,o,l,u)),e.on&&e.on.forEach((function(e){(e.insert||e.remove||e.toggle)&&Object(ne.n)("Marks only support modify triggers."),MI(e,t,c)})))};var II=function(e,t){var n,r,i,o,a,s,l,u,c=t.config.legend,f=e.encode||{},d=f.legend||{},h=d.name||void 0,p=d.interactive,m=d.style,v=VP(e,c),g={},y=0;return yP.forEach((function(t){return e[t]?(g[t]=e[t],y=y||e[t]):0})),y||Object(ne.n)("Missing valid scale for legend."),a=function(e,t){var n=e.type||"symbol";e.type||1!==function(e){return yP.reduce((function(t,n){return t+(e[n]?1:0)}),0)}(e)||!e.fill&&!e.stroke||(n=ym(t)?"gradient":_m(t)?"discrete":"symbol");return"gradient"!==n?n:_m(t)?"discrete":"gradient"}(e,t.scaleType(y)),s={title:null!=e.title,scales:g,type:a,vgrad:"symbol"!==a&&v.isVertical()},l=nM(t.add(PM(null,[s]))),d=LP(function(e,t,n){var r={enter:{},update:{}};return RP(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}(v,e,c),d,bP),n={enter:{x:{value:0},y:{value:0}}},u=nM(t.add(BM(i={type:a,scale:t.scaleRef(y),count:t.objectProperty(v("tickCount")),limit:t.property(v("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),"gradient"===a?(o=[XP(e,y,c,f.gradient),QP(e,c,f.labels,u)],i.count=i.count||t.signalRef("max(2,2*floor((".concat(cM(v.gradientLength()),")/100))"))):"discrete"===a?o=[$P(e,y,c,f.gradient,u),QP(e,c,f.labels,u)]:(r=function(e,t){var n=VP(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}(e,c),o=[eI(e,c,f,u,cM(r.columns))],i.size=function(e,t,n){var r=cM(DI("size",e,n)),i=cM(DI("strokeWidth",e,n)),o=cM(function(e,t,n){return GP("fontSize",e)||function(e,t,n){var r=t.config.style[n];return r&&r[e]}("fontSize",t,n)}(n[1].encode,t,"guide-label"));return QA("max(ceil(sqrt(".concat(r,")+").concat(i,"),").concat(o,")"),t)}(e,t,o[0].marks)),o=[JP({role:"legend-entry",from:l,encode:n,marks:o,layout:r,interactive:p})],s.title&&o.push(function(e,t,n,r){var i,o=VP(e,t);return RP(i={enter:{opacity:_P},update:{opacity:xP,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:_P}},{orient:o("titleOrient"),_anchor:o("titleAnchor"),anchor:{signal:lI},angle:{signal:uI},align:{signal:sI},baseline:{signal:cI},text:e.title,fill:o("titleColor"),fillOpacity:o("titleOpacity"),font:o("titleFont"),fontSize:o("titleFontSize"),fontStyle:o("titleFontStyle"),fontWeight:o("titleFontWeight"),limit:o("titleLimit"),lineHeight:o("titleLineHeight")},{align:o("titleAlign"),baseline:o("titleBaseline")}),zP({type:"text",role:"legend-title",style:"guide-title",from:r,encode:i},n)}(e,c,f.title,l)),PI(JP({role:"legend",from:l,encode:d,marks:o,aria:v("aria"),description:v("description"),zindex:v("zindex"),name:h,interactive:p,style:m}),t)};function DI(e,t,n){return t[e]?'scale("'.concat(t[e],'",datum)'):GP(e,n[0].encode)}var NI='item.orient==="'.concat("left",'"?-90:item.orient==="').concat("right",'"?90:0'),RI=function(e,t){var n,r,i=VP(e=Object(ne.H)(e)?{text:e}:e,t.config.title),o=e.encode||{},a=o.group||{},s=a.name||void 0,l=a.interactive,u=a.style,c=[];return n={},r=nM(t.add(PM(null,[n]))),c.push(function(e,t,n,r){var i={value:0},o=e.text,a={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return RP(a,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),zP({type:"text",role:"title-text",style:"group-title",from:r,encode:a},n)}(e,i,function(e){var t=e.encode;return t&&t.title||Object(ne.o)({name:e.name,interactive:e.interactive,style:e.style},t)}(e),r)),e.subtitle&&c.push(function(e,t,n,r){var i={value:0},o=e.subtitle,a={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return RP(a,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),zP({type:"text",role:"title-subtitle",style:"group-subtitle",from:r,encode:a},n)}(e,i,o.subtitle,r)),PI(JP({role:"title",from:r,encode:LI(i,a),marks:c,aria:i("aria"),description:i("description"),zindex:i("zindex"),name:s,interactive:l,style:u}),t)};function LI(e,t){var n={enter:{},update:{}};return RP(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:qP},angle:{signal:NI},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),LP(n,t,bP)}function jI(e,t){var n=[];e.transform&&e.transform.forEach((function(e){n.push(vI(e,t))})),e.on&&e.on.forEach((function(n){MI(n,t,e.name)})),t.addDataPipeline(e.name,function(e,t,n){var r,i,o,a,s,l=[],u=null,c=!1,f=!1;e.values?lM(e.values)||lM(e.format)?(l.push(BI(t,e)),l.push(u=FI())):l.push(u=FI({$ingest:e.values,$format:e.format})):e.url?lM(e.url)||lM(e.format)?(l.push(BI(t,e)),l.push(u=FI())):l.push(u=FI({$request:e.url,$format:e.format})):e.source&&(u=r=Object(ne.i)(e.source).map((function(e){return nM(t.getData(e).output)})),l.push(null));for(i=0,o=n.length;i<o;++i)a=n[i],s=a.metadata,u||s.source||l.push(u=FI()),l.push(a),s.generates&&(f=!0),s.modifies&&!f&&(c=!0),s.source?u=a:s.changes&&(u=null);r&&(o=r.length-1,l[0]=$M({derive:c,pulse:o?r:r[0]}),(c||o)&&l.splice(1,0,FI()));u||l.push(FI());return l.push(QM({})),l}(e,t,n))}function FI(e){var t=PM({},e);return t.metadata={source:!0},t}function BI(e,t){return zM({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}function zI(e,t){return{scale:e.scale,range:t}}var HI=function(e,t,n,r,i){var o,a,s,l,u,c,f,d,h,p=VP(e,t),m=e.orient,v=e.gridScale,g="left"===m||"top"===m?1:-1,y=function(e,t){if(1===t);else if(Object(ne.F)(e)){for(var n=e=Object(ne.o)({},e);null!=n.mult;){if(!Object(ne.F)(n.mult))return n.mult*=t,e;n=n.mult=Object(ne.o)({},n.mult)}n.mult=t}else e=t*(e||0);return e}(e.offset,g);return RP(o={enter:a={opacity:_P},update:l={opacity:xP},exit:s={opacity:_P}},{stroke:p("gridColor"),strokeCap:p("gridCap"),strokeDash:p("gridDash"),strokeDashOffset:p("gridDashOffset"),strokeOpacity:p("gridOpacity"),strokeWidth:p("gridWidth")}),u={scale:e.scale,field:gP,band:i.band,extra:i.extra,offset:i.offset,round:p("tickRound")},"top"===m||"bottom"===m?(c="x",f="y",h="height"):(c="y",f="x",h="width"),d=f+"2",l[c]=a[c]=s[c]=u,v?(l[f]=a[f]={scale:v,range:0,mult:g,offset:y},l[d]=a[d]={scale:v,range:1,mult:g,offset:y}):(l[f]=a[f]={value:0,offset:y},l[d]=a[d]={signal:h,mult:g,offset:y}),zP({type:"rule",role:"axis-grid",key:gP,from:r,encode:o},n)};function UI(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}var VI=function(e,t){var n,r,i,o,a,s=function(e,t){var n=t.config,r=e.orient,i="top"===r||"bottom"===r?n.axisX:n.axisY,o=n["axis"+r[0].toUpperCase()+r.slice(1)],a="band"===t.scaleType(e.scale)&&n.axisBand;return i||o||a?Object(ne.o)({},n.axis,i,o,a):n.axis}(e,t),l=e.encode||{},u=l.axis||{},c=u.name||void 0,f=u.interactive,d=u.style,h=VP(e,s),p=function(e){var t,n,r=e("tickBand"),i=e("tickOffset");return r?r.signal?(t={signal:"(".concat(r.signal,")==='extent'?1:0.5")},n={signal:"(".concat(r.signal,")==='extent'?true:false")},Object(ne.F)(i)||(i={signal:"(".concat(r.signal,")==='extent'?0:").concat(i)})):"extent"===r?(t=1,n=!0,i=0):(t=.5,n=!1):(t=e("bandPosition"),n=e("tickExtra")),{extra:n,band:t,offset:i}}(h);return n={orient:e.orient,scale:e.scale,ticks:!!h("ticks"),labels:!!h("labels"),grid:!!h("grid"),domain:!!h("domain"),title:null!=e.title,translate:h("translate")},r=nM(t.add(PM({},[n]))),u=LP(function(e,t){var n={enter:{},update:{}};return RP(n,{offset:e("offset")||0,position:uM(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:'abs(span(range("'.concat(t.scale,'")))')},format:t.format,formatType:t.formatType}),n}(h,e),u,bP),i=nM(t.add(AM({scale:t.scaleRef(e.scale),extra:t.property(p.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),a=[],n.grid&&a.push(HI(e,s,l.grid,i,p)),n.ticks&&(o=h("tickSize"),a.push(function(e,t,n,r,i,o){var a,s,l,u,c,f,d=VP(e,t),h=e.orient,p="left"===h||"top"===h?-1:1;return RP(a={enter:s={opacity:_P},update:u={opacity:xP},exit:l={opacity:_P}},{stroke:d("tickColor"),strokeCap:d("tickCap"),strokeDash:d("tickDash"),strokeDashOffset:d("tickDashOffset"),strokeOpacity:d("tickOpacity"),strokeWidth:d("tickWidth")}),(c=DP(i)).mult=p,f={scale:e.scale,field:gP,band:o.band,extra:o.extra,offset:o.offset,round:d("tickRound")},"top"===h||"bottom"===h?(u.y=s.y=_P,u.y2=s.y2=c,u.x=s.x=l.x=f):(u.x=s.x=_P,u.x2=s.x2=c,u.y=s.y=l.y=f),zP({type:"rule",role:"axis-tick",key:gP,from:r,encode:a},n)}(e,s,l.ticks,i,o,p))),n.labels&&(o=n.ticks?o:0,a.push(function(e,t,n,r,i,o){var a,s,l,u,c,f,d,h,p,m,v=VP(e,t),g=e.orient,y="left"===g||"top"===g?-1:1,b="top"===g||"bottom"===g,_=e.scale,x=cM(v("labelFlush")),w=cM(v("labelFlushOffset")),E=0===x||!!x,T=v("labelAlign"),S=v("labelBaseline");return(u=DP(i)).mult=y,u.offset=DP(v("labelPadding")||0),u.offset.mult=y,c={scale:_,field:gP,band:.5,offset:YP(o.offset,v("labelOffset"))},b?(f=T||(E?UI(_,x,'"left"','"right"','"center"'):"center"),d=S||("top"===g?"bottom":"top"),h=!T):(f=T||("right"===g?"left":"right"),d=S||(E?UI(_,x,'"top"','"bottom"','"middle"'):"middle"),h=!S),h=h&&E&&w?UI(_,x,"-("+w+")",w,0):null,RP(s={enter:l={opacity:_P,x:b?c:u,y:b?u:c},update:{opacity:xP,text:{field:"label"},x:l.x,y:l.y},exit:{opacity:_P,x:l.x,y:l.y}},($a(a={},b?"dx":"dy",h),$a(a,"align",f),$a(a,"baseline",d),$a(a,"angle",v("labelAngle")),$a(a,"fill",v("labelColor")),$a(a,"fillOpacity",v("labelOpacity")),$a(a,"font",v("labelFont")),$a(a,"fontSize",v("labelFontSize")),$a(a,"fontWeight",v("labelFontWeight")),$a(a,"fontStyle",v("labelFontStyle")),$a(a,"limit",v("labelLimit")),$a(a,"lineHeight",v("labelLineHeight")),a)),p=v("labelBound"),m=(m=v("labelOverlap"))||p?{separation:v("labelSeparation"),method:m,order:"datum.index",bound:p?{scale:_,orient:g,tolerance:p}:null}:void 0,zP({type:"text",role:"axis-label",style:"guide-label",key:gP,from:r,encode:s,overlap:m},n)}(e,s,l.labels,i,o,p))),n.domain&&a.push(function(e,t,n,r){var i,o,a,s,l,u,c=VP(e,t),f=e.orient;return RP(i={enter:o={opacity:_P},update:a={opacity:xP},exit:{opacity:_P}},{stroke:c("domainColor"),strokeCap:c("domainCap"),strokeDash:c("domainDash"),strokeDashOffset:c("domainDashOffset"),strokeWidth:c("domainWidth"),strokeOpacity:c("domainOpacity")}),"top"===f||"bottom"===f?(s="x",u="y"):(s="y",u="x"),l=s+"2",o[u]=_P,a[s]=o[s]=zI(e,0),a[l]=o[l]=zI(e,1),zP({type:"rule",role:"axis-domain",from:r,encode:i},n)}(e,s,l.domain,r)),n.title&&a.push(function(e,t,n,r){var i,o,a,s,l=VP(e,t),u=e.orient,c="left"===u||"top"===u?-1:1,f="top"===u||"bottom"===u;return i={enter:o={opacity:_P,anchor:DP(l("titleAnchor")),align:{signal:qP}},update:a=Object(ne.o)({},o,{opacity:xP,text:DP(e.title)}),exit:{opacity:_P}},s={signal:'lerp(range("'.concat(e.scale,'"), ').concat(WP(0,1,.5),")")},f?(a.x=s,o.angle={value:0},o.baseline={value:"top"===u?"bottom":"top"}):(a.y=s,o.angle={value:90*c},o.baseline={value:"bottom"}),RP(i,{angle:l("titleAngle"),baseline:l("titleBaseline"),fill:l("titleColor"),fillOpacity:l("titleOpacity"),font:l("titleFont"),fontSize:l("titleFontSize"),fontStyle:l("titleFontStyle"),fontWeight:l("titleFontWeight"),limit:l("titleLimit"),lineHeight:l("titleLineHeight")},{align:l("titleAlign")}),!NP(i,"x",l("titleX"),"update")&&!f&&!BP("x",n)&&(i.enter.auto={value:!0}),!NP(i,"y",l("titleY"),"update")&&f&&!BP("y",n)&&(i.enter.auto={value:!0}),zP({type:"text",role:"axis-title",style:"guide-title",from:r,encode:i},n)}(e,s,l.title,r)),PI(JP({role:"axis",from:r,encode:u,marks:a,aria:h("aria"),description:h("description"),zindex:h("zindex"),name:c,interactive:f,style:d}),t)};var GI=function(e,t,n){var r=Object(ne.i)(e.signals),i=Object(ne.i)(e.scales);return n||r.forEach((function(e){return ZA(e,t)})),Object(ne.i)(e.projections).forEach((function(e){return function(e,t){var n=t.config.projection||{},r={};for(var i in e)"name"!==i&&(r[i]=vP(e[i],i,t));for(i in n)null==r[i]&&(r[i]=vP(n[i],i,t));t.addProjection(e.name,r)}(e,t)})),i.forEach((function(e){return function(e,t){var n=e.type||"linear";vm(n)||Object(ne.n)("Unrecognized scale type: "+Object(ne.Z)(n)),t.addScale(e.name,{type:n,domain:void 0})}(e,t)})),Object(ne.i)(e.data).forEach((function(e){return jI(e,t)})),i.forEach((function(e){return iP(e,t)})),(n||r).forEach((function(e){return function(e,t){var n=t.getSignal(e.name),r=e.update;e.init&&(r?Object(ne.n)("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=QA(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach((function(e){SM(e,t,n.id)}))}(e,t)})),Object(ne.i)(e.axes).forEach((function(e){return VI(e,t)})),Object(ne.i)(e.marks).forEach((function(e){return PI(e,t)})),Object(ne.i)(e.legends).forEach((function(e){return II(e,t)})),e.title&&RI(e.title,t),t.parseLambdas(),t};function WI(e,t){var n,r,i,o,a,s,l=t.config;return a=nM(t.root=t.add(tM())),(s=function(e,t){var n=function(n){return uM(e[n],t[n])},r=[qI("background",n("background")),qI("autosize",qA(n("autosize"))),qI("padding",XA(n("padding"))),qI("width",n("width")||0),qI("height",n("height")||0)],i=r.reduce((function(e,t){return e[t.name]=t,e}),{}),o={};return Object(ne.i)(e.signals).forEach((function(e){Object(ne.v)(i,e.name)?e=Object(ne.o)(i[e.name],e):r.push(e),o[e.name]=e})),Object(ne.i)(t.signals).forEach((function(e){Object(ne.v)(o,e.name)||Object(ne.v)(i,e.name)||r.push(e)})),r}(e,l)).forEach((function(e){return ZA(e,t)})),t.description=e.description||l.description,t.eventConfig=l.events,t.legends=t.objectProperty(l.legend&&l.legend.layout),r=t.add(PM()),i=LP({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e.encode),i=t.add(NM(jP(i,"group","frame",e.style,t,{pulse:nM(r)}))),o=t.add(eP({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:a,pulse:nM(i)})),t.operators.pop(),t.pushState(nM(i),nM(o),null),GI(e,t,s),t.operators.push(o),n=t.add(MM({mark:a,pulse:nM(o)})),n=t.add(KM({pulse:nM(n)})),n=t.add(QM({pulse:nM(n)})),t.addData("root",new SI(t,r,r,n)),t}function qI(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function YI(e){this.config=e,this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function XI(e){this.config=e.config,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}var $I=YI.prototype=XI.prototype;function KI(e){return(Object(ne.A)(e)?ZI:QI)(e)}function ZI(e){for(var t,n="[",r=0,i=e.length;r<i;++r)t=e[r],n+=(r>0?",":"")+(Object(ne.F)(t)?t.signal||KI(t):Object(ne.Z)(t));return n+"]"}function QI(e){var t,n,r="{",i=0;for(t in e)n=e[t],r+=(++i>1?",":"")+Object(ne.Z)(t)+":"+(Object(ne.F)(n)?n.signal||KI(n):Object(ne.Z)(n));return r+"}"}$I.fork=function(){return new XI(this)},$I.isSubscope=function(){return this._subid>0},$I.toRuntime=function(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig}},$I.id=function(){return(this._subid?this._subid+":":0)+this._id++},$I.add=function(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach((function(t){t.$ref=e.id})),e.refs=null),e},$I.proxy=function(e){var t=e instanceof JA?nM(e):e;return this.add(XM({value:t}))},$I.addStream=function(e){return this.streams.push(e),e.id=this.id(),e},$I.addUpdate=function(e){return this.updates.push(e),e},$I.finish=function(){var e,t;for(e in this.root&&(this.root.root=!0),this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(e,t,n){var r;e&&((r=e.data||(e.data={}))[t]||(r[t]=[])).push(n)}for(e in this.data)for(var r in n((t=this.data[e]).input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values"),t.index)n(t.index[r],e,"index:"+r);return this},$I.pushState=function(e,t,n){this._encode.push(nM(this.add(QM({pulse:e})))),this._parent.push(t),this._lookup.push(n?nM(this.proxy(n)):null),this._markpath.push(-1)},$I.popState=function(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},$I.parent=function(){return Object(ne.U)(this._parent)},$I.encode=function(){return Object(ne.U)(this._encode)},$I.lookup=function(){return Object(ne.U)(this._lookup)},$I.markpath=function(){var e=this._markpath;return++e[e.length-1]},$I.fieldRef=function(e,t){if(Object(ne.H)(e))return rM(e,t);e.signal||Object(ne.n)("Unsupported field reference: "+Object(ne.Z)(e));var n,r=e.signal,i=this.field[r];return i||(n={name:this.signalRef(r)},t&&(n.as=t),this.field[r]=i=nM(this.add(jM(n)))),i},$I.compareRef=function(e){function t(e){return sM(e)?(r=!0,n.signalRef(e.signal)):function(e){return e&&e.expr}(e)?(r=!0,n.exprRef(e.expr)):e}var n=this,r=!1,i=Object(ne.i)(e.field).map(t),o=Object(ne.i)(e.order).map(t);return r?nM(this.add(IM({fields:i,orders:o}))):oM(i,o)},$I.keyRef=function(e,t){var n=this.signals,r=!1;return e=Object(ne.i)(e).map((function(e){return sM(e)?(r=!0,nM(n[e.signal])):e})),r?nM(this.add(FM({fields:e,flat:t}))):function(e,t){var n={$key:e};return t&&(n.$flat=!0),n}(e,t)},$I.sortRef=function(e){if(!e)return e;var t=aM(e.op,e.field),n=e.order||"ascending";return n.signal?nM(this.add(IM({fields:t,orders:this.signalRef(n.signal)}))):oM(t,n)},$I.event=function(e,t){var n=e+":"+t;if(!this.events[n]){var r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},$I.hasOwnSignal=function(e){return Object(ne.v)(this.signals,e)},$I.addSignal=function(e,t){this.hasOwnSignal(e)&&Object(ne.n)("Duplicate signal name: "+Object(ne.Z)(e));var n=t instanceof JA?t:this.add(tM(t));return this.signals[e]=n},$I.getSignal=function(e){return this.signals[e]||Object(ne.n)("Unrecognized signal name: "+Object(ne.Z)(e)),this.signals[e]},$I.signalRef=function(e){return this.signals[e]?nM(this.signals[e]):(Object(ne.v)(this.lambdas,e)||(this.lambdas[e]=this.add(tM(null))),nM(this.lambdas[e]))},$I.parseLambdas=function(){for(var e=Object.keys(this.lambdas),t=0,n=e.length;t<n;++t){var r=e[t],i=QA(r,this),o=this.lambdas[r];o.params=i.$params,o.update=i.$expr}},$I.property=function(e){return e&&e.signal?this.signalRef(e.signal):e},$I.objectProperty=function(e){return e&&Object(ne.F)(e)?this.signalRef(e.signal||KI(e)):e},$I.exprRef=function(e,t){var n={expr:QA(e,this)};return t&&(n.expr.$name=t),nM(this.add(RM(n)))},$I.addBinding=function(e,t){this.bindings||Object(ne.n)("Nested signals do not support binding: "+Object(ne.Z)(e)),this.bindings.push(Object(ne.o)({signal:e},t))},$I.addScaleProj=function(e,t){Object(ne.v)(this.scales,e)&&Object(ne.n)("Duplicate scale or projection name: "+Object(ne.Z)(e)),this.scales[e]=this.add(t)},$I.addScale=function(e,t){this.addScaleProj(e,ZM(t))},$I.addProjection=function(e,t){this.addScaleProj(e,YM(t))},$I.getScale=function(e){return this.scales[e]||Object(ne.n)("Unrecognized scale name: "+Object(ne.Z)(e)),this.scales[e]},$I.projectionRef=$I.scaleRef=function(e){return nM(this.getScale(e))},$I.projectionType=$I.scaleType=function(e){return this.getScale(e).params.type},$I.addData=function(e,t){return Object(ne.v)(this.data,e)&&Object(ne.n)("Duplicate data set name: "+Object(ne.Z)(e)),this.data[e]=t},$I.getData=function(e){return this.data[e]||Object(ne.n)("Undefined data set name: "+Object(ne.Z)(e)),this.data[e]},$I.addDataPipeline=function(e,t){return Object(ne.v)(this.data,e)&&Object(ne.n)("Duplicate data set name: "+Object(ne.Z)(e)),this.addData(e,SI.fromEntries(this,t))};var JI=function(e,t){return Object(ne.F)(e)||Object(ne.n)("Input Vega specification must be an object."),WI(e,new YI(t=Object(ne.N)({description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:"#4c78a8"},area:{fill:"#4c78a8"},image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},symbol:{fill:"#4c78a8",size:64},text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",font:"sans-serif",fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:"#000",font:"sans-serif",fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:"#ddd"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,gridColor:"#ddd",labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}},t,e.config))).toRuntime()};Object(ne.o)(Vr,o,s,l,u,c,f,d,h,p,m);var eD=n(146);Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function e(){var t=isNaN(arguments[0])?1:Number(arguments[0]);return t?Array.prototype.reduce.call(this,(function(n,r){return Array.isArray(r)?n.push.apply(n,e.call(r,t-1)):n.push(r),n}),[]):Array.prototype.slice.call(this)},writable:!0}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(e){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var tD=n(147),nD=n.n(tD),rD=n(148),iD=n.n(rD),oD=n(38),aD=n.n(oD);function sD(e){return!!e.or}function lD(e){return!!e.and}function uD(e){return!!e.not}function cD(e,t){return uD(e)?{not:cD(e.not,t)}:lD(e)?{and:e.and.map((function(e){return cD(e,t)}))}:sD(e)?{or:e.or.map((function(e){return cD(e,t)}))}:t(e)}var fD=iD.a,dD=nD.a;function hD(e,t){var n,r={},i=ni(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;Object(ne.v)(e,o)&&(r[o]=e[o])}}catch(a){i.e(a)}finally{i.f()}return r}function pD(e,t){var n,r=Object.assign({},e),i=ni(t);try{for(i.s();!(n=i.n()).done;){delete r[n.value]}}catch(o){i.e(o)}finally{i.f()}return r}Set.prototype.toJSON=function(){return"Set(".concat(Zg(this).map((function(e){return aD()(e)})).join(","),")")};var mD=aD.a;function vD(e){if(Object(ne.E)(e))return e;var t=Object(ne.H)(e)?e:aD()(e);if(t.length<250)return t;for(var n=0,r=0;r<t.length;r++){n=(n<<5)-n+t.charCodeAt(r),n&=n}return n}function gD(e){return!1===e||null===e}function yD(e,t){return e.indexOf(t)>-1}function bD(e,t){var n,r=0,i=ni(e.entries());try{for(i.s();!(n=i.n()).done;){var o=Qi(n.value,2),a=o[0];if(t(o[1],a,r++))return!0}}catch(s){i.e(s)}finally{i.f()}return!1}function _D(e,t){var n,r=0,i=ni(e.entries());try{for(i.s();!(n=i.n()).done;){var o=Qi(n.value,2),a=o[0];if(!t(o[1],a,r++))return!1}}catch(s){i.e(s)}finally{i.f()}return!0}function xD(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object(ne.jb)(e,i,t[i],!0)}}function wD(e,t){var n,r,i=[],o={},a=ni(e);try{for(a.s();!(r=a.n()).done;){var s=r.value;(n=t(s))in o||(o[n]=1,i.push(s))}}catch(l){a.e(l)}finally{a.f()}return i}function ED(e,t){var n,r=ni(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.has(i))return!0}}catch(o){r.e(o)}finally{r.f()}return!1}function TD(e){var t,n=new Set,r=ni(e);try{var i=function(){var e,r=t.value,i=Object(ne.Y)(r).map((function(e,t){return 0===t?e:"[".concat(e,"]")})),o=ni(i.map((function(e,t){return i.slice(0,t+1).join("")})));try{for(o.s();!(e=o.n()).done;){var a=e.value;n.add(a)}}catch(s){o.e(s)}finally{o.f()}};for(r.s();!(t=r.n()).done;)i()}catch(o){r.e(o)}finally{r.f()}return n}function SD(e,t){return void 0===e||void 0===t||ED(TD(e),TD(t))}var kD=Object.keys,OD=Object.values;function CD(e){return!0===e||!1===e}function AD(e){var t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function MD(e,t){return uD(e)?"!("+MD(e.not,t)+")":lD(e)?"("+e.and.map((function(e){return MD(e,t)})).join(") && (")+")":sD(e)?"("+e.or.map((function(e){return MD(e,t)})).join(") || (")+")":t(e)}function PD(e,t){if(0===t.length)return!0;var n=t.shift();return n in e&&PD(e[n],t)&&delete e[n],0===kD(e).length}function ID(e){return e.charAt(0).toUpperCase()+e.substr(1)}function DD(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function ND(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"datum",n=Object(ne.Y)(e),r=[],i=1;i<=n.length;i++){var o="[".concat(n.slice(0,i).map(ne.Z).join("]["),"]");r.push("".concat(t).concat(o))}return r.join(" && ")}function RD(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"datum";return"".concat(t,"[").concat(Object(ne.Z)(Object(ne.Y)(e).join(".")),"]")}function LD(e){return"".concat(Object(ne.Y)(e).map(DD).join("\\."))}function jD(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function FD(e){return"".concat(Object(ne.Y)(e).join("."))}function BD(e){return e?Object(ne.Y)(e).length:0}function zD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];if(void 0!==o)return o}}var HD=42;function UD(e){var t=++HD;return e?String(e)+t:t}function VD(e){return function(e){return 0===e.indexOf("__")}(e)?e:"__".concat(e)}function GD(e){if(void 0!==e)return(e%360+360)%360}function WD(e){return!!Object(ne.E)(e)||!isNaN(e)&&!isNaN(parseFloat(e))}var qD={domainColor:{part:"domain",vgProp:"stroke"},labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDash"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDash"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"},titleColor:{part:"title",vgProp:"fill"},title:null};function YD(e){return e&&e.condition}var XD=["domain","grid","labels","ticks","title"],$D={grid:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",domain:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOpacity:"main",labelOffset:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"main",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},KD={orient:1,bandPosition:1,domain:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,values:1,translate:1,zindex:1},ZD=Object.assign(Object.assign({},KD),{style:1,labelExpr:1,encoding:1});function QD(e){return!!ZD[e]}kD(ZD);var JD={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},eN=JD.arc,tN=JD.area,nN=JD.bar,rN=JD.image,iN=JD.line,oN=JD.point,aN=JD.rect,sN=JD.rule,lN=JD.text,uN=JD.tick,cN=JD.trail,fN=JD.circle,dN=JD.square,hN=JD.geoshape;function pN(e){return yD(["line","area","trail"],e)}function mN(e){return yD(["rect","bar","image","arc"],e)}var vN=kD(JD);function gN(e){return e.type}Object(ne.db)(vN);var yN=[].concat(["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],["fill","fillOpacity"]),bN=kD({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBand:1,timeUnitBandPosition:1}),_N={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},xN={binSpacing:1,continuousBandSize:5,timeUnitBandPosition:.5},wN={binSpacing:0,continuousBandSize:5,timeUnitBandPosition:.5};function EN(e){return"mark"in e}var TN=function(){function e(t,n){JT(this,e),this.name=t,this.run=n}return tS(e,[{key:"hasMatchingType",value:function(e){return!!EN(e)&&(gN(t=e.mark)?t.type:t)===this.name;var t}}]),e}(),SN={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},kN={count:1,min:1,max:1};function ON(e){return!!e&&!!e.argmin}function CN(e){return!!e&&!!e.argmax}kD(SN);function AN(e){return Object(ne.H)(e)&&!!SN[e]}var MN=["count","valid","missing","distinct"];function PN(e){return Object(ne.H)(e)&&yD(MN,e)}var IN=["count","sum","distinct","valid","missing"],DN=Object(ne.db)(["mean","average","median","q1","q3","min","max"]),NN="row",RN="column",LN="radius",jN="theta",FN="theta2",BN="color",zN="fill",HN="stroke",UN="shape",VN="size",GN={theta:1,theta2:1,radius:1,radius2:1};function WN(e){return e in GN}var qN={longitude:1,longitude2:1,latitude:1,latitude2:1};var YN=kD(qN),XN=Object.assign(Object.assign(Object.assign(Object.assign({},{x:1,y:1,x2:1,y2:1}),GN),qN),{color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1});function $N(e){return e===BN||e===zN||e===HN}var KN={row:1,column:1,facet:1},ZN=kD(KN),QN=Object.assign(Object.assign({},XN),KN),JN=kD(QN),eR=(QN.order,QN.detail,QN.tooltip,w(QN,["order","detail","tooltip"])),tR=(eR.row,eR.column,eR.facet,w(eR,["row","column","facet"]));kD(eR),kD(tR);function nR(e){return!!QN[e]}var rR=["x2","y2","latitude2","longitude2",FN,"radius2"];function iR(e){return oR(e)!==e}function oR(e){switch(e){case"x2":return"x";case"y2":return"y";case"latitude2":return"latitude";case"longitude2":return"longitude";case FN:return jN;case"radius2":return LN}return e}function aR(e){if(WN(e))switch(e){case jN:return"startAngle";case FN:return"endAngle";case LN:return"outerRadius";case"radius2":return"innerRadius"}return e}function sR(e){switch(e){case"x":return"x2";case"y":return"y2";case"latitude":return"latitude2";case"longitude":return"longitude2";case jN:return FN;case LN:return"radius2"}}function lR(e){switch(e){case"x":case"x2":return"width";case"y":case"y2":return"height"}}kD(XN),XN.x,XN.y,XN.x2,XN.y2,XN.latitude,XN.longitude,XN.latitude2,XN.longitude2,XN.theta,XN.theta2,XN.radius,XN.radius2;var uR=w(XN,["x","y","x2","y2","latitude","longitude","latitude2","longitude2","theta","theta2","radius","radius2"]),cR=kD(uR),fR={x:1,y:1},dR=kD(fR);function hR(e){return e in fR}var pR={theta:1,radius:1},mR=kD(pR);function vR(e){return"width"===e?"x":"y"}uR.text,uR.tooltip,uR.href,uR.url,uR.detail,uR.key,uR.order;var gR=w(uR,["text","tooltip","href","url","detail","key","order"]),yR=kD(gR);var bR=Object.assign(Object.assign(Object.assign({},fR),pR),gR),_R=kD(bR);function xR(e){return!!bR[e]}function wR(e,t){return function(e){switch(e){case BN:case zN:case HN:case"detail":case"key":case"tooltip":case"href":case"order":case"opacity":case"fillOpacity":case"strokeOpacity":case"strokeWidth":case"facet":case NN:case RN:return ER;case"x":case"y":case"latitude":case"longitude":return TR;case"x2":case"y2":case"latitude2":case"longitude2":return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case VN:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case"strokeDash":return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case UN:return{point:"always",geoshape:"always"};case"text":return{text:"always"};case"angle":return{point:"always",square:"always",text:"always"};case"url":return{image:"always"};case jN:case LN:return{text:"always",arc:"always"};case FN:case"radius2":return{arc:"always"}}}(e)[t]}var ER={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},TR=w(ER,["geoshape"]);function SR(e){switch(e){case"x":case"y":case jN:case LN:case VN:case"angle":case"strokeWidth":case"opacity":case"fillOpacity":case"strokeOpacity":case"x2":case"y2":case FN:case"radius2":return;case"facet":case NN:case RN:case UN:case"strokeDash":case"text":case"tooltip":case"href":case"url":return"discrete";case BN:case zN:case HN:return"flexible";case"latitude":case"longitude":case"latitude2":case"longitude2":case"detail":case"key":case"order":return}}function kR(e){return Object(ne.B)(e)&&(e=FB(e,void 0)),"bin"+kD(e).map((function(t){return MR(e[t])?AD("_".concat(t,"_").concat(Object.entries(e[t]))):AD("_".concat(t,"_").concat(e[t]))})).join("")}function OR(e){return!0===e||AR(e)&&!e.binned}function CR(e){return"binned"===e||AR(e)&&!0===e.binned}function AR(e){return Object(ne.F)(e)}function MR(e){return null===e||void 0===e?void 0:e.selection}function PR(e){switch(e){case NN:case RN:case VN:case BN:case zN:case HN:case"strokeWidth":case"opacity":case"fillOpacity":case"strokeOpacity":case UN:return 6;case"strokeDash":return 4;default:return 10}}function IR(e,t){return(IR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function DR(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function NR(e,t,n){return(NR=DR()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&IR(i,n.prototype),i}).apply(null,arguments)}function RR(e){return"Invalid specification ".concat(JSON.stringify(e),'. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".')}var LR='Autosize "fit" only works for single views and layered views.';function jR(e){return"".concat("width"==e?"Width":"Height",' "container" only works for single views and layered views.')}function FR(e){var t="width"==e?"x":"y";return"".concat("width"==e?"Width":"Height",' "container" only works well with autosize "fit" or "fit-').concat(t,'".')}function BR(e){return e?'Dropping "fit-'.concat(e,'" because spec has discrete ').concat(lR(e),"."):'Dropping "fit" because spec has discrete size.'}function zR(e){return'Cannot project a selection on encoding channel "'.concat(e,'", which has no field.')}function HR(e,t){return'Cannot project a selection on encoding channel "'.concat(e,'" as it uses an aggregate function ("').concat(t,'").')}function UR(e){return'The "nearest" transform is not supported for '.concat(e," marks.")}function VR(e){return"Selection not supported for ".concat(e," yet.")}function GR(e){return'Cannot find a selection named "'.concat(e,'".')}var WR="Scale bindings are currently only supported for scales with unbinned, continuous domains.",qR="Legend bindings are only supported for selections over an individual field or encoding channel.";function YR(e){return'Cannot define and lookup the "'.concat(e,'" selection in the same view. ')+"Try moving the lookup into a second, layered view?"}function XR(e){return'Unknown repeated value "'.concat(e,'".')}function $R(e){return'The "columns" property cannot be used when "'.concat(e,'" has nested row/column.')}var KR="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function ZR(e){return'Unrecognized parse "'.concat(e,'".')}function QR(e,t,n){return'An ancestor parsed field "'.concat(e,'" as ').concat(n," but a child wants to parse the field as ").concat(t,".")}function JR(e){return"Ignoring an invalid transform: ".concat(mD(e),".")}var eL='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function tL(e){return"Layer's shared ".concat(e.join(",")," channel ").concat(1===e.length?"is":"are"," overriden.")}function nL(e){var t=e.parentProjection,n=e.projection;return"Layer's shared projection ".concat(mD(t)," is overridden by a child projection ").concat(mD(n),".")}var rL="Arc marks uses theta channel rather than angle, replacing angle with theta.";function iL(e,t,n){return"Channel ".concat(e," is a ").concat(t,". Converted to {value: ").concat(mD(n),"}.")}function oL(e){return'Invalid field type "'.concat(e,'".')}function aL(e,t){return'Invalid field type "'.concat(e,'" for aggregate: "').concat(t,'", using "quantitative" instead.')}function sL(e){return'Invalid aggregation operator "'.concat(e,'".')}function lL(e,t){return'Missing type for channel "'.concat(e,'", using "').concat(t,'" instead.')}function uL(e,t){var n=t.fill,r=t.stroke;return"Dropping color ".concat(e," as the plot also has ").concat(n&&r?"fill and stroke":n?"fill":"stroke",".")}function cL(e,t){return"Dropping ".concat(mD(e),' from channel "').concat(t,'" since it does not contain any data field, datum, value, or signal.')}function fL(e,t,n){return"".concat(e,"-encoding with type ").concat(t," is deprecated. Replacing with ").concat(n,"-encoding.")}var dL="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function hL(e,t,n){return"".concat(e,' dropped as it is incompatible with "').concat(t,'"').concat(n?" when ".concat(n):"",".")}function pL(e){return"".concat(e,"-encoding is dropped as ").concat(e," is not a valid encoding channel.")}function mL(e){return"".concat(e," encoding should be discrete (ordinal / nominal / binned).")}function vL(e){return"Facet encoding dropped as ".concat(e.join(" and ")," ").concat(e.length>1?"are":"is"," also specified.")}function gL(e,t){return'Using discrete channel "'.concat(e,'" to encode "').concat(t,'" field can be misleading as it does not encode ').concat("ordinal"===t?"order":"magnitude",".")}function yL(e,t){return"Line mark is for continuous lines and thus cannot be used with ".concat(e&&t?"x2 and y2":e?"x2":"y2",". We will use the rule mark (line segments) instead.")}function bL(e,t){return'Specified orient "'.concat(e,'" overridden with "').concat(t,'".')}var _L="Custom domain scale cannot be unioned with default field-based domain.",xL='Scale\'s "rangeStep" is deprecated and will be removed in Vega-Lite 5.0. Please use "width"/"height": {"step": ...} instead. See https://vega.github.io/vega-lite/docs/size.html.';function wL(e){return'Cannot use the scale property "'.concat(e,'" with non-color channel.')}function EL(e){return"Using unaggregated domain with raw field has no effect (".concat(mD(e),").")}function TL(e){return'Unaggregated domain not applicable for "'.concat(e,'" since it produces values outside the origin domain of the source data.')}function SL(e){return"Unaggregated domain is currently unsupported for log scale (".concat(mD(e),").")}function kL(e){return'Cannot apply size to non-oriented mark "'.concat(e,'".')}function OL(e,t,n){return'Channel "'.concat(e,'" does not work with "').concat(t,'" scale. We are using "').concat(n,'" scale instead.')}function CL(e,t){return'FieldDef does not work with "'.concat(e,'" scale. We are using "').concat(t,'" scale instead.')}function AL(e,t,n){return"".concat(n,"-scale's \"").concat(t,'" is dropped as it does not work with ').concat(e," scale.")}function ML(e,t){return'Scale type "'.concat(t,'" does not work with mark "').concat(e,'".')}function PL(e){return'The step for "'.concat(e,'" is dropped because the ').concat("width"===e?"x":"y"," is continuous.")}function IL(e,t,n,r){return"Conflicting ".concat(t.toString(),' property "').concat(e.toString(),'" (').concat(mD(n)," and ").concat(mD(r),"). Using ").concat(mD(n),".")}function DL(e,t,n,r){return"Conflicting ".concat(t.toString(),' property "').concat(e.toString(),'" (').concat(mD(n)," and ").concat(mD(r),"). Using the union of the two domains.")}function NL(e){return'Setting the scale to be independent for "'.concat(e,'" means we also have to set the guide (axis or legend) to be independent.')}function RL(e){return"Dropping sort property ".concat(mD(e),' as unioned domains only support boolean or op "count", "min", and "max".')}var LL="Unable to merge domains.",jL="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",FL="Invalid channel for axis.";function BL(e){return'Cannot stack "'.concat(e,'" if there is already "').concat(e,'2".')}function zL(e){return"Cannot stack non-linear scale (".concat(e,").")}function HL(e){return'Stacking is applied even though the aggregate function is non-summative ("'.concat(e,'").')}function UL(e,t){return"Invalid ".concat(e,": ").concat(mD(t),".")}function VL(e){return'Time unit "'.concat(e,'" is not supported. We are replacing it with ').concat(jD(e,"day","date"),".")}function GL(e){return"Dropping day from datetime ".concat(mD(e)," as day cannot be combined with other units.")}function WL(e,t){return"".concat(t?"extent ":"").concat(t&&e?"and ":"").concat(e?"center ":"").concat(t&&e?"are ":"is ","not needed when data are aggregated.")}function qL(e,t,n){return"".concat(e," is not usually used with ").concat(t," for ").concat(n,".")}function YL(e,t){return"Continuous axis should not have customized aggregation function ".concat(e,"; ").concat(t," already agregates the axis.")}function XL(e,t){return"Center is not needed to be specified in ".concat(t," when extent is ").concat(e,".")}function $L(e){return"1D error band does not support ".concat(e,".")}function KL(e){return"Channel ".concat(e,' is required for "binned" bin.')}function ZL(e){return"Domain for ".concat(e," is required for threshold scale.")}var QL=g,JL=Object(ne.K)(ne.e),ej=JL;function tj(e){return ej=e}function nj(){return ej=JL}function rj(){var e;(e=ej).warn.apply(e,arguments)}function ij(e){if(e&&Object(ne.F)(e)){var t,n=ni(pj);try{for(n.s();!(t=n.n()).done;){if(t.value in e)return!0}}catch(r){n.e(r)}finally{n.f()}}return!1}var oj=["january","february","march","april","may","june","july","august","september","october","november","december"],aj=oj.map((function(e){return e.substr(0,3)})),sj=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],lj=sj.map((function(e){return e.substr(0,3)}));function uj(e,t){var n=[];if(t&&void 0!==e.day&&kD(e).length>1&&(rj(QL.droppedDay(e)),delete(e=dD(e)).day),void 0!==e.year?n.push(e.year):n.push(2012),void 0!==e.month){var r=t?function(e){if(WD(e)&&(e=+e),Object(ne.E)(e))return e-1;var t=e.toLowerCase(),n=oj.indexOf(t);if(-1!==n)return n;var r=t.substr(0,3),i=aj.indexOf(r);if(-1!==i)return i;throw new Error(QL.invalidTimeUnit("month",e))}(e.month):e.month;n.push(r)}else if(void 0!==e.quarter){var i=t?function(e){if(WD(e)&&(e=+e),Object(ne.E)(e))return e>4&&rj(QL.invalidTimeUnit("quarter",e)),e-1;throw new Error(QL.invalidTimeUnit("quarter",e))}(e.quarter):e.quarter;n.push(Object(ne.E)(i)?3*i:i+"*3")}else n.push(0);if(void 0!==e.date)n.push(e.date);else if(void 0!==e.day){var o=t?function(e){if(WD(e)&&(e=+e),Object(ne.E)(e))return e%7;var t=e.toLowerCase(),n=sj.indexOf(t);if(-1!==n)return n;var r=t.substr(0,3),i=lj.indexOf(r);if(-1!==i)return i;throw new Error(QL.invalidTimeUnit("day",e))}(e.day):e.day;n.push(Object(ne.E)(o)?o+1:o+"+1")}else n.push(1);for(var a=0,s=["hours","minutes","seconds","milliseconds"];a<s.length;a++){var l=e[s[a]];n.push("undefined"===typeof l?0:l)}return n}function cj(e){var t=uj(e,!0).join(", ");return e.utc?"utc(".concat(t,")"):"datetime(".concat(t,")")}function fj(e){var t=uj(e,!1).join(", ");return e.utc?"utc(".concat(t,")"):"datetime(".concat(t,")")}function dj(e){var t=uj(e,!0);return e.utc?+new Date(Date.UTC.apply(Date,Zg(t))):+NR(Date,Zg(t))}var hj={year:1,quarter:1,month:1,day:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},pj=kD(hj);function mj(e){return e.startsWith("utc")}var vj={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function gj(e){return pj.reduce((function(t,n){return yj(e,n)?[].concat(Zg(t),[n]):t}),[])}function yj(e,t){var n=e.indexOf(t);return n>-1&&("seconds"!==t||0===n||"i"!==e.charAt(n-1))}function bj(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{end:!1},i=r.end,o=ND(t),a=mj(e)?"utc":"";function s(e){return"quarter"===e?"(".concat(a,"quarter(").concat(o,")-1)"):"".concat(a).concat(e,"(").concat(o,")")}var l=pj.reduce((function(t,r){return yj(e,r)&&(t[r]=s(r),n=r),t}),{});return i&&(l[n]+="+1"),fj(l)}function _j(e,t,n){if(e){var r=function(e){if(e){var t=gj(e);return"timeUnitSpecifier(".concat(aD()(t),", ").concat(aD()(vj),")")}}(e);return n||mj(e)?"utcFormat(".concat(t,", ").concat(r,")"):"timeFormat(".concat(t,", ").concat(r,")")}}function xj(e){var t;if(e)return Object(ne.H)(e)?t={unit:wj(e)}:Object(ne.F)(e)&&(t=Object.assign(Object.assign({},e),e.unit?{unit:wj(e.unit)}:{})),mj(t.unit)&&(t.utc=!0,t.unit=t.unit.substr(3)),t}function wj(e){return"day"!==e&&e.indexOf("day")>=0?(rj(QL.dayReplacedWithDate(e)),jD(e,"day","date")):e}function Ej(e){var t=xj(e),n=t.utc,r=w(t,["utc"]);return r.unit?(n?"utc":"")+kD(r).map((function(e){return AD("".concat("unit"===e?"":"_".concat(e,"_")).concat(r[e]))})).join(""):(n?"utc":"")+"timeunit"+kD(r).map((function(e){return AD("_".concat(e,"_").concat(r[e]))})).join("")}function Tj(e){return e&&!!e.signal}function Sj(e){return!!e.step}function kj(e){return!Object(ne.A)(e)&&("field"in e&&"data"in e)}var Oj=kD({blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1}),Cj=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function Aj(e){return e&&!!e.field&&void 0!==e.equal}function Mj(e){return e&&!!e.field&&void 0!==e.lt}function Pj(e){return e&&!!e.field&&void 0!==e.lte}function Ij(e){return e&&!!e.field&&void 0!==e.gt}function Dj(e){return e&&!!e.field&&void 0!==e.gte}function Nj(e){if(e&&e.field){if(Object(ne.A)(e.range)&&2===e.range.length)return!0;if(Tj(e.range))return!0}return!1}function Rj(e){return e&&!!e.field&&(Object(ne.A)(e.oneOf)||Object(ne.A)(e.in))}function Lj(e){return e&&!!e.field&&void 0!==e.valid}function jj(e){return Rj(e)||Aj(e)||Nj(e)||Mj(e)||Ij(e)||Pj(e)||Dj(e)}function Fj(e,t){return UB(e,{timeUnit:t,time:!0})}function Bj(e,t){return e.map((function(e){return Fj(e,t)}))}function zj(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.field,i=null===(t=xj(e.timeUnit))||void 0===t?void 0:t.unit,o=i?"time("+bj(i,r)+")":xB(e,{expr:"datum"});if(Aj(e))return o+"==="+Fj(e.equal,i);if(Mj(e)){var a=e.lt;return"".concat(o,"<").concat(Fj(a,i))}if(Ij(e)){var s=e.gt;return"".concat(o,">").concat(Fj(s,i))}if(Pj(e)){var l=e.lte;return"".concat(o,"<=").concat(Fj(l,i))}if(Dj(e)){var u=e.gte;return"".concat(o,">=").concat(Fj(u,i))}if(Rj(e))return"indexof([".concat(Bj(e.oneOf,i).join(","),"], ").concat(o,") !== -1");if(Lj(e))return Hj(o,e.valid);if(Nj(e)){var c=e.range,f=Tj(c)?{signal:"".concat(c.signal,"[0]")}:c[0],d=Tj(c)?{signal:"".concat(c.signal,"[1]")}:c[1];if(null!==f&&null!==d&&n)return"inrange("+o+", ["+Fj(f,i)+", "+Fj(d,i)+"])";var h=[];return null!==f&&h.push("".concat(o," >= ").concat(Fj(f,i))),null!==d&&h.push("".concat(o," <= ").concat(Fj(d,i))),h.length>0?h.join(" && "):"true"}throw new Error("Invalid field predicate: ".concat(JSON.stringify(e)))}function Hj(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t?"isValid(".concat(e,") && isFinite(+").concat(e,")"):"!isValid(".concat(e,") || !isFinite(+").concat(e,")")}function Uj(e){var t;return jj(e)&&e.timeUnit?Object.assign(Object.assign({},e),{timeUnit:null===(t=xj(e.timeUnit))||void 0===t?void 0:t.unit}):e}var Vj={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};var Gj=Vj.quantitative,Wj=Vj.ordinal,qj=Vj.temporal,Yj=Vj.nominal,Xj=Vj.geojson,$j=kD(Vj);var Kj="linear",Zj="log",Qj="pow",Jj="sqrt",eF="symlog",tF="time",nF="utc",rF="quantile",iF="quantize",oF="threshold",aF="point",sF="band",lF={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},uF=kD(lF);function cF(e,t){var n=lF[e],r=lF[t];return n===r||"ordinal-position"===n&&"time"===r||"ordinal-position"===r&&"time"===n}var fF={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function dF(e){return fF[e]}var hF=["linear","log","pow","sqrt","symlog","time","utc"],pF=Object(ne.db)(hF),mF=Object(ne.db)(["linear","log","pow","sqrt","symlog"]);var vF=Object(ne.db)(["quantile","quantize","threshold"]),gF=hF.concat(["quantile","quantize","threshold","sequential","identity"]),yF=Object(ne.db)(gF),bF=Object(ne.db)(["ordinal","bin-ordinal","point","band"]);function _F(e){return e in bF}function xF(e){return e in yF}function wF(e){return e in pF}function EF(e){return e in vF}function TF(e){return null===e||void 0===e?void 0:e.selection}var SF={type:1,domain:1,domainMid:1,align:1,range:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},kF=(kD(SF),w(SF,["type","domain","range","scheme"])),OF=kD(kF);!function(){var e,t,n={},r=ni(JN);try{for(r.s();!(t=r.n()).done;){var i,o=t.value,a=ni($j);try{for(a.s();!(i=a.n()).done;){var s,l=i.value,u=ni(uF);try{for(u.s();!(s=u.n()).done;){var c=s.value,f=IF(o,l);PF(o,c)&&MF(c,l)&&(n[f]=null!==(e=n[f])&&void 0!==e?e:[],n[f].push(c))}}catch(d){u.e(d)}finally{u.f()}}}catch(d){a.e(d)}finally{a.f()}}}catch(d){r.e(d)}finally{r.f()}}();function CF(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!yD(["point","band","identity"],e);case"bins":return!yD(["point","band","identity","ordinal"],e);case"round":return wF(e)||"band"===e||"point"===e;case"padding":return wF(e)||yD(["point","band"],e);case"paddingOuter":case"align":return yD(["point","band"],e);case"paddingInner":return"band"===e;case"domainMid":case"clamp":return wF(e);case"nice":return wF(e)||"quantize"===e||"threshold"===e;case"exponent":return"pow"===e;case"base":return"log"===e;case"constant":return"symlog"===e;case"zero":return xF(e)&&!yD(["log","time","utc","threshold","quantile"],e)}}function AF(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return $N(e)?void 0:QL.cannotUseScalePropertyWithNonColor(e);case"align":case"type":case"bins":case"domain":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"reverse":case"round":case"clamp":case"zero":return}}function MF(e,t){return yD([Wj,Yj],t)?void 0===e||_F(e):t===qj?yD([tF,nF,void 0],e):t!==Gj||yD([Zj,Qj,Jj,eF,rF,iF,oF,Kj,void 0],e)}function PF(e,t){if(!xR(e))return!1;switch(e){case"x":case"y":case jN:case LN:return wF(t)||yD(["band","point"],t);case VN:case"strokeWidth":case"opacity":case"fillOpacity":case"strokeOpacity":case"angle":return wF(t)||EF(t)||yD(["band","point","ordinal"],t);case BN:case zN:case HN:return"band"!==t;case"strokeDash":return"ordinal"===t||EF(t);case UN:return"ordinal"===t}}function IF(e,t){return e+"_"+t}function DF(e){var t=e.channel,n=e.channelDef,r=e.markDef,i=e.scale,o=e.config,a=BF(e);return uB(n)&&!PN(n.aggregate)&&i&&wF(i.get("type"))&&!1===i.get("zero")?NF({fieldDef:n,channel:t,markDef:r,ref:a,config:o}):a}function NF(e){var t=e.fieldDef,n=e.channel,r=e.markDef,i=e.ref,o=e.config;return pN(r.type)||null===$B("invalid",r,o)?i:[RF(t,n),i]}function RF(e,t){var n=LF(e,!0),r="y"===oR(t)?{field:{group:"height"}}:{value:0};return Object.assign({test:n},r)}function LF(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Hj(Object(ne.H)(e)?e:xB(e,{expr:"datum"}),!t)}function jF(e,t,n,r){var i={};if(t&&(i.scale=t),fB(e)){var o=e.datum;ij(o)?i.signal=cj(o):i.value=o}else i.field=xB(e,n);if(r){var a=r.offset,s=r.band;a&&(i.offset=a),s&&(i.band=s)}return i}function FF(e){var t=e.scaleName,n=e.fieldOrDatumDef,r=e.fieldOrDatumDef2,i=e.offset,o=e.startSuffix,a=e.band,s=void 0===a?.5:a,l=0<s&&s<1?"datum":void 0,u=xB(n,{expr:l,suffix:o}),c=void 0!==r?xB(r,{expr:l}):xB(n,{suffix:"end",expr:l}),f={};if(0===s||1===s){f.scale=t;var d=0===s?u:c;f.field=d}else{var h="".concat(s," * ").concat(u," + ").concat(1-s," * ").concat(c);f.signal='scale("'.concat(t,'", ').concat(h,")")}return i&&(f.offset=i),f}function BF(e){var t,n=e.channel,r=e.channelDef,i=e.channel2Def,o=e.markDef,a=e.config,s=e.scaleName,l=e.scale,u=e.stack,c=e.offset,f=e.defaultRef,d=e.band;if(r){if(pB(r)){if(mB(r)){d=null!==d&&void 0!==d?d:iB({channel:n,fieldDef:r,fieldDef2:i,markDef:o,stack:u,config:a,isMidPoint:!0});var h=r.bin,p=r.timeUnit,m=r.type;if(OR(h)||d&&p&&m===qj)return u&&u.impute?jF(r,s,{binSuffix:"mid"},{offset:c}):d?FF({scaleName:s,fieldOrDatumDef:r,band:d,offset:c}):jF(r,s,GB(r,n)?{binSuffix:"range"}:{},{offset:c});if(CR(h)){if(uB(i))return FF({scaleName:s,fieldOrDatumDef:r,fieldOrDatumDef2:i,band:d,offset:c});var v="x"===n?"x2":"y2";rj(QL.channelRequiredForBinned(v))}}var g=null===l||void 0===l?void 0:l.get("type");return jF(r,s,_F(g)?{binSuffix:"range"}:{},{offset:c,band:"band"===g?null!==(t=null!==d&&void 0!==d?d:r.band)&&void 0!==t?t:.5:void 0})}if(vB(r)){var y=r.value,b=c?{offset:c}:{};return Object.assign(Object.assign({},zF(n,y)),b)}if(Tj(r))return r}return Object(ne.D)(f)&&(f=f()),f?Object.assign(Object.assign({},f),c?{offset:c}:{}):f}function zF(e,t){return yD(["x","x2"],e)&&"width"===t?{field:{group:"width"}}:yD(["y","y2"],e)&&"height"===t?{field:{group:"height"}}:YB(t)}function HF(e,t){return t.customFormatTypes&&e&&"number"!==e&&"time"!==e}function UF(e,t,n){return"".concat(e,"(").concat(t,", ").concat(JSON.stringify(n),")")}function VF(e){var t,n,r=e.fieldOrDatumDef,i=e.format,o=e.formatType,a=e.expr,s=e.normalizeStack,l=e.config,u=e.field,c=e.omitNumberFormatAndEmptyTimeFormat,f=e.omitTimeFormatConfig,d=e.isUTCScale;u||(u=uB(r)?s?"".concat(xB(r,{expr:a,suffix:"end"}),"-").concat(xB(r,{expr:a,suffix:"start"})):xB(r,{expr:a}):function(e){var t=e.datum;return ij(t)?cj(t):"".concat(JSON.stringify(t))}(r)),d=null!==d&&void 0!==d?d:gB(r)&&(null===(t=r.scale)||void 0===t?void 0:t.type)===nF;var h=f?null:l.timeFormat;if(HF(o,l))return uB(r)&&OR(r.bin)?{signal:YF(u,xB(r,{expr:a,binSuffix:"end"}),i,o,l)}:{signal:UF(o,u,i)};if(o&&(o=void 0),zB(r)){var p=function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return!t||n?(n=Object(ne.H)(n)?n:r)||o?"".concat(i?"utc":"time","Format(").concat(e,", '").concat(n,"')"):void 0:_j(t,e,i)}(u,uB(r)?null===(n=xj(r.timeUnit))||void 0===n?void 0:n.unit:void 0,i,h,d,!c);return p?{signal:p}:void 0}return c?void 0:(i=GF(cB(r),i,l),uB(r)&&OR(r.bin)?{signal:YF(u,xB(r,{expr:a,binSuffix:"end"}),i,o,l)}:i||"quantitative"===cB(r)?{signal:"".concat(WF(u,i))}:{signal:"isValid(".concat(u,") ? ").concat(u,' : ""+').concat(u)})}function GF(e,t,n){return Object(ne.H)(t)?t:e===Gj?n.numberFormat:void 0}function WF(e,t){return"format(".concat(e,', "').concat(t||"",'")')}function qF(e,t,n,r){var i;return HF(n,r)?UF(n,e,t):WF(e,null!==(i=Object(ne.H)(t)?t:void 0)&&void 0!==i?i:r.numberFormat)}function YF(e,t,n,r,i){var o=qF(e,n,r,i),a=qF(t,n,r,i);return"".concat(Hj(e,!1),' ? "null" : ').concat(o,' + "').concat(" \u2013 ",'" + ').concat(a)}var XF={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function $F(e){return e in XF}function KF(e){return!!e&&!!e.encoding}function ZF(e){return!!e&&("count"===e.op||!!e.field)}function QF(e){return!!e&&Object(ne.A)(e)}function JF(e){return"row"in e||"column"in e}function eB(e){return!!e&&"header"in e}function tB(e){return"facet"in e}function nB(e){var t=e.field,n=e.timeUnit,r=e.bin,i=e.aggregate;return Object.assign(Object.assign(Object.assign(Object.assign({},n?{timeUnit:n}:{}),r?{bin:r}:{}),i?{aggregate:i}:{}),{field:t})}function rB(e){return mB(e)&&"sort"in e}function iB(e){var t=e.channel,n=e.fieldDef,r=e.fieldDef2,i=e.markDef,o=e.stack,a=e.config,s=e.isMidPoint;if(pB(n)&&void 0!==n.band)return n.band;if(uB(n)){var l=n.timeUnit,u=n.bin;if(l&&!r)return s?KB("timeUnitBandPosition",i,a):mN(i.type)?KB("timeUnitBand",i,a):0;if(OR(u))return mN(i.type)&&!s?1:.5}return(null===o||void 0===o?void 0:o.fieldChannel)===t&&s?.5:void 0}function oB(e,t,n,r,i,o){return!!(OR(t.bin)||t.timeUnit&&mB(t)&&"temporal"===t.type)&&!!iB({channel:e,fieldDef:t,fieldDef2:n,stack:r,markDef:i,config:o})}function aB(e){return!!e&&"condition"in e}function sB(e){var t=e&&e.condition;return!!t&&!Object(ne.A)(t)&&uB(t)}function lB(e){var t=e&&e.condition;return!!t&&!Object(ne.A)(t)&&pB(t)}function uB(e){return!!e&&(!!e.field||"count"===e.aggregate)}function cB(e){return e&&e.type}function fB(e){return!!e&&"datum"in e}function dB(e){return mB(e)&&EB(e)||hB(e)}function hB(e){return fB(e)&&Object(ne.E)(e.datum)}function pB(e){return uB(e)||fB(e)}function mB(e){return!!e&&("field"in e&&"type"in e||"count"===e.aggregate)}function vB(e){return e&&"value"in e&&"value"in e}function gB(e){return!!e&&("scale"in e||"sort"in e)}function yB(e){return e&&("axis"in e||"stack"in e||"impute"in e)}function bB(e){return!!e&&"format"in e}function _B(e){return"op"in e}function xB(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.field,a=i.prefix,s=i.suffix,l="";if(TB(e))o=VD("count");else{var u;if(!i.nofn)if(_B(e))u=e.op;else{var c=e.bin,f=e.aggregate,d=e.timeUnit;OR(c)?(u=kR(c),s=(null!==(t=i.binSuffix)&&void 0!==t?t:"")+(null!==(n=i.suffix)&&void 0!==n?n:"")):f?CN(f)?(l=".".concat(o),o="argmax_".concat(f.argmax)):ON(f)?(l=".".concat(o),o="argmin_".concat(f.argmin)):u=String(f):d&&(u=Ej(d),s=(!yD(["range","mid"],i.binSuffix)&&i.binSuffix||"")+(null!==(r=i.suffix)&&void 0!==r?r:""))}u&&(o=o?"".concat(u,"_").concat(o):u)}return s&&(o="".concat(o,"_").concat(s)),a&&(o="".concat(a,"_").concat(o)),i.forAs?o:i.expr?RD(o,i.expr)+l:LD(o)+l}function wB(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return uB(e)&&!!e.bin;case"temporal":return!1}throw new Error(QL.invalidFieldType(e.type))}function EB(e){return!wB(e)}function TB(e){return"count"===e.aggregate}var SB=function(e,t){switch(t.fieldTitle){case"plain":return e.field;case"functional":return function(e){var t=e.aggregate,n=e.bin,r=e.timeUnit,i=e.field;if(CN(t))return"".concat(i," for argmax(").concat(t.argmax,")");if(ON(t))return"".concat(i," for argmin(").concat(t.argmin,")");var o=xj(r),a=t||(null===o||void 0===o?void 0:o.unit)||(null===o||void 0===o?void 0:o.maxbins)&&"timeunit"||OR(n)&&"bin";return a?a.toUpperCase()+"("+i+")":i}(e);default:return function(e,t){var n,r=e.field,i=e.bin,o=e.timeUnit,a=e.aggregate;if("count"===a)return t.countTitle;if(OR(i))return"".concat(r," (binned)");if(o){var s=null===(n=xj(o))||void 0===n?void 0:n.unit;if(s)return"".concat(r," (").concat(gj(s).join("-"),")")}else if(a)return CN(a)?"".concat(r," for max ").concat(a.argmax):ON(a)?"".concat(r," for min ").concat(a.argmin):"".concat(ID(a)," of ").concat(r);return r}(e,t)}},kB=SB;function OB(e){kB=e}function CB(){OB(SB)}function AB(e,t,n){var r,i,o=n.allowDisabling,a=n.includeDefault,s=void 0===a||a,l=(null!==(r=MB(e))&&void 0!==r?r:{}).title;if(!uB(e))return l;var u=e,c=s?PB(u,t):void 0;return o?zD(l,u.title,c):null!==(i=null!==l&&void 0!==l?l:u.title)&&void 0!==i?i:c}function MB(e){return yB(e)&&e.axis?e.axis:(t=e)&&"legend"in t&&e.legend?e.legend:eB(e)&&e.header?e.header:void 0;var t}function PB(e,t){return kB(e,t)}function IB(e){var t;if(bB(e))return{format:e.format,formatType:e.formatType};var n=null!==(t=MB(e))&&void 0!==t?t:{};return{format:n.format,formatType:n.formatType}}function DB(e){return uB(e)?e:sB(e)?e.condition:void 0}function NB(e){return pB(e)?e:lB(e)?e.condition:void 0}function RB(e,t){if(Object(ne.H)(e)||Object(ne.E)(e)||Object(ne.B)(e)){var n=Object(ne.H)(e)?"string":Object(ne.E)(e)?"number":"boolean";return rj(QL.primitiveChannelDef(t,n,e)),{value:e}}return pB(e)?LB(e,t):lB(e)?Object.assign(Object.assign({},e),{condition:LB(e.condition,t)}):e}function LB(e,t){return uB(e)?jB(e,t):function(e){var t=e.type;if(t)return e;var n=e.datum;return t=Object(ne.E)(n)?"quantitative":Object(ne.H)(n)?"nominal":ij(n)?"temporal":void 0,Object.assign(Object.assign({},e),{type:t})}(e)}function jB(e,t){var n=e.aggregate,r=e.timeUnit,i=e.bin,o=e.field,a=Object.assign({},e);if(!n||AN(n)||CN(n)||ON(n)||(rj(QL.invalidAggregate(n)),delete a.aggregate),r&&(a.timeUnit=xj(r)),o&&(a.field="".concat(o)),OR(i)&&(a.bin=FB(i,t)),CR(i)&&!hR(t)&&rj("Channel ".concat(t,' should not be used with "binned" bin.')),mB(a)){var s=a.type,l=function(e){if(e)switch(e=e.toLowerCase()){case"q":case Gj:return"quantitative";case"t":case qj:return"temporal";case"o":case Wj:return"ordinal";case"n":case Yj:return"nominal";case Xj:return"geojson"}}(s);s!==l&&(a.type=l),"quantitative"!==s&&PN(n)&&(rj(QL.invalidFieldTypeForCountAggregate(s,n)),a.type="quantitative")}else if(!iR(t)){var u=function(e,t){if(e.timeUnit)return"temporal";if(OR(e.bin))return"quantitative";switch(SR(t)){case"continuous":return"quantitative";case"discrete":case"flexible":return"nominal";default:return"quantitative"}}(a,t);rj(QL.missingFieldType(t,u)),a.type=u}if(mB(a)){var c=function(e,t){var n=e.type;if("geojson"===n&&"shape"!==t)return{compatible:!1,warning:"Channel ".concat(t," should not be used with a geojson data.")};switch(t){case NN:case RN:case"facet":return EB(e)?{compatible:!1,warning:QL.facetChannelShouldBeDiscrete(t)}:BB;case"x":case"y":case BN:case zN:case HN:case"text":case"detail":case"key":case"tooltip":case"href":case"url":case"angle":case jN:case LN:return BB;case"longitude":case"longitude2":case"latitude":case"latitude2":return n!==Gj?{compatible:!1,warning:"Channel ".concat(t," should be used with a quantitative field only, not ").concat(e.type," field.")}:BB;case"opacity":case"fillOpacity":case"strokeOpacity":case"strokeWidth":case VN:case FN:case"radius2":case"x2":case"y2":return"nominal"!==n||e.sort?BB:{compatible:!1,warning:"Channel ".concat(t," should not be used with an unsorted discrete field.")};case"strokeDash":return yD(["ordinal","nominal"],e.type)?BB:{compatible:!1,warning:"StrokeDash channel should be used with only discrete data."};case UN:return yD(["ordinal","nominal","geojson"],e.type)?BB:{compatible:!1,warning:"Shape channel should be used with only either discrete or geojson data."};case"order":return"nominal"!==e.type||"sort"in e?BB:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}(a,t),f=c.compatible,d=c.warning;f||rj(d)}if(rB(a)&&Object(ne.H)(a.sort)){var h=a.sort;if($F(h))return Object.assign(Object.assign({},a),{sort:{encoding:h}});var p=h.substr(1);if("-"===h.charAt(0)&&$F(p))return Object.assign(Object.assign({},a),{sort:{encoding:p,order:"descending"}})}if(eB(a)){var m=a.header,v=m.orient,g=w(m,["orient"]);if(v)return Object.assign(Object.assign({},a),{header:Object.assign(Object.assign({},g),{labelOrient:m.labelOrient||v,titleOrient:m.titleOrient||v})})}return a}function FB(e,t){return Object(ne.B)(e)?{maxbins:PR(t)}:"binned"===e?{binned:!0}:e.maxbins||e.step?e:Object.assign(Object.assign({},e),{maxbins:PR(t)})}var BB={compatible:!0};function zB(e){var t,n=MB(e),r=n&&n.formatType||bB(e)&&e.formatType;return"time"===r||!r&&((t=e)&&("temporal"===t.type||uB(t)&&!!t.timeUnit))}function HB(e,t){var n=MB(e);return HF(n&&n.formatType||bB(e)&&e.formatType,t)}function UB(e,t){var n,r,i=t.timeUnit,o=t.type,a=t.time,s=t.undefinedIfExprNotRequired,l=i&&(null===(n=xj(i))||void 0===n?void 0:n.unit);if(Tj(e)){var u=e.signal;if(a&&!l&&"temporal"!==o)return a?"isDate(".concat(u,") ? time(").concat(u,") : ").concat(u):u;r=u}else ij(e)?r=cj(e):(Object(ne.H)(e)||Object(ne.E)(e))&&(l||"temporal"===o)&&(r="datetime(".concat(JSON.stringify(e),")"),function(e){return!!hj[e]}(l)&&(Object(ne.E)(e)&&e<1e4||Object(ne.H)(e)&&isNaN(Date.parse(e)))&&(r=cj($a({},l,e))));return r?a?"time(".concat(r,")"):r:s?void 0:JSON.stringify(e)}function VB(e,t){var n=e.type;return t.map((function(t){var r=UB(t,{timeUnit:uB(e)?e.timeUnit:void 0,type:n,undefinedIfExprNotRequired:!0});return void 0!==r?{signal:r}:t}))}function GB(e,t){return OR(e.bin)?xR(t)&&yD(["ordinal","nominal"],e.type):(console.warn("Only call this method for binned field defs."),!1)}function WB(e){var t=e.anchor,n=e.frame,r=e.offset,i=e.orient,o=e.color,a=e.subtitleColor,s=e.subtitleFont,l=e.subtitleFontSize,u=e.subtitleFontStyle,c=e.subtitleFontWeight,f=e.subtitleLineHeight,d=e.subtitlePadding,h=w(e,["anchor","frame","offset","orient","color","subtitleColor","subtitleFont","subtitleFontSize","subtitleFontStyle","subtitleFontWeight","subtitleLineHeight","subtitlePadding"]);return{mark:Object.assign(Object.assign({},h),o?{fill:o}:{}),nonMark:Object.assign(Object.assign(Object.assign(Object.assign({},t?{anchor:t}:{}),n?{frame:n}:{}),r?{offset:r}:{}),i?{orient:i}:{}),subtitle:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},a?{subtitleColor:a}:{}),s?{subtitleFont:s}:{}),l?{subtitleFontSize:l}:{}),u?{subtitleFontStyle:u}:{}),c?{subtitleFontWeight:c}:{}),f?{subtitleLineHeight:f}:{}),d?{subtitlePadding:d}:{})}}function qB(e){return Object(ne.H)(e)||Object(ne.A)(e)&&Object(ne.H)(e[0])}function YB(e){return Tj(e)?e:void 0!==e?{value:e}:void 0}function XB(e){var t;return[].concat(e.type,null!==(t=e.style)&&void 0!==t?t:[])}function $B(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.vgChannel,o=r.ignoreVgConfig;return i&&void 0!==t[i]?t[i]:void 0!==t[e]?t[e]:!o||i&&i!==e?KB(e,t,n,r):void 0}function KB(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.vgChannel;return zD(i?ZB(e,t,n.style):void 0,ZB(e,t,n.style),i?n[t.type][i]:void 0,n[t.type][e],i?n.mark[i]:n.mark[e])}function ZB(e,t,n){return QB(e,XB(t),n)}function QB(e,t,n){var r,i,o=ni(t=Object(ne.i)(t));try{for(o.s();!(i=o.n()).done;){var a=n[i.value];a&&void 0!==a[e]&&(r=a[e])}}catch(s){o.e(s)}finally{o.f()}return r}function JB(e,t){return Object(ne.i)(e).reduce((function(e,n){var r;return e.field.push(xB(n,t)),e.order.push(null!==(r=n.sort)&&void 0!==r?r:"ascending"),e}),{field:[],order:[]})}function ez(e,t){var n=Zg(e);return t.forEach((function(e){var t,r=ni(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(fD(i,e))return}}catch(o){r.e(o)}finally{r.f()}n.push(e)})),n}function tz(e,t){return fD(e,t)||!t?e:e?[].concat(Zg(Object(ne.i)(e)),Zg(Object(ne.i)(t))).join(", "):t}function nz(e,t){var n=e.value,r=t.value;if(null==n||null===r)return{explicit:e.explicit,value:null};if((qB(n)||Tj(n))&&(qB(r)||Tj(r)))return{explicit:e.explicit,value:tz(n,r)};if(qB(n)||Tj(n))return{explicit:e.explicit,value:n};if(qB(r)||Tj(r))return{explicit:e.explicit,value:r};if(!qB(n)&&!Tj(n)&&!qB(r)&&!Tj(r))return{explicit:e.explicit,value:ez(n,r)};throw new Error("It should never reach here")}function rz(e,t){var n=e&&e[t];return!!n&&(Object(ne.A)(n)?bD(n,(function(e){return!!e.field})):uB(n)||sB(n))}function iz(e){return bD(JN,(function(t){if(rz(e,t)){var n=e[t];if(Object(ne.A)(n))return bD(n,(function(e){return!!e.aggregate}));var r=DB(n);return r&&!!r.aggregate}return!1}))}function oz(e,t){var n=[],r=[],i=[],o=[],a={};return lz(e,(function(s,l){if(uB(s)){var u=s.field,c=s.aggregate,f=s.bin,d=s.timeUnit,h=w(s,["field","aggregate","bin","timeUnit"]);if(c||d||f){var p,m=MB(s),v=m&&m.title,g=xB(s,{forAs:!0}),y=Object.assign(Object.assign(Object.assign({},v?[]:{title:AB(s,t,{allowDisabling:!0})}),h),{field:g});if(c){if(CN(c)?(p="argmax",g=xB({op:"argmax",field:c.argmax},{forAs:!0}),y.field="".concat(g,".").concat(u)):ON(c)?(p="argmin",g=xB({op:"argmin",field:c.argmin},{forAs:!0}),y.field="".concat(g,".").concat(u)):"boxplot"!==c&&"errorbar"!==c&&"errorband"!==c&&(p=c),p){var b={op:p,as:g};u&&(b.field=u),o.push(b)}}else if(n.push(g),mB(s)&&OR(f)){if(r.push({bin:f,field:u,as:g}),n.push(xB(s,{binSuffix:"end"})),GB(s,l)&&n.push(xB(s,{binSuffix:"range"})),hR(l)){var _={field:g+"_end"};a[l+"2"]=_}y.bin="binned",iR(l)||(y.type=Gj)}else if(d){i.push({timeUnit:d,field:u,as:g});var x=mB(s)&&s.type!==qj&&"time";x&&("text"===l||"tooltip"===l?y.formatType=x:!function(e){return!!uR[e]}(l)?hR(l)&&(y.axis=Object.assign({formatType:x},y.axis)):y.legend=Object.assign({formatType:x},y.legend))}a[l]=y}else n.push(u),a[l]=e[l]}else a[l]=e[l]})),{bins:r,timeUnits:i,aggregate:o,groupby:n,encoding:a}}function az(e,t){var n=t.type;return kD(e).reduce((function(r,i){if(!nR(i))return rj(QL.invalidEncodingChannel(i)),r;var o=e[i];if("angle"!==i||"arc"!==n||e.theta||(rj(QL.REPLACE_ANGLE_WITH_THETA),i=jN),!function(e,t,n){var r=wR(t,n);if(!r)return!1;if("binned"===r){var i=e["x2"===t?"x":"y"];return!!(uB(i)&&uB(e[t])&&CR(i.bin))}return!0}(e,i,n))return rj(QL.incompatibleChannel(i,n)),r;if(i===VN&&"line"===n){var a=DB(e[i]);if(null===a||void 0===a?void 0:a.aggregate)return rj(QL.LINE_WITH_VARYING_SIZE),r}if(i===BN&&(t.filled?"fill"in e:"stroke"in e))return rj(QL.droppingColor("encoding",{fill:"fill"in e,stroke:"stroke"in e})),r;if("detail"===i||"order"===i&&!Object(ne.A)(o)&&!vB(o)||"tooltip"===i&&Object(ne.A)(o))o&&(r[i]=Object(ne.i)(o).reduce((function(e,t){return uB(t)?e.push(jB(t,i)):rj(QL.emptyFieldDef(t,i)),e}),[]));else{if("tooltip"===i&&null===o)r[i]=null;else if(!uB(o)&&!fB(o)&&!vB(o)&&!aB(o)&&!Tj(o))return rj(QL.emptyFieldDef(o,i)),r;r[i]=RB(o,i)}return r}),{})}function sz(e){var t,n=[],r=ni(kD(e));try{for(r.s();!(t=r.n()).done;){var i=t.value;if(rz(e,i)){var o,a=e[i],s=ni(Object(ne.i)(a));try{for(s.s();!(o=s.n()).done;){var l=o.value;uB(l)?n.push(l):sB(l)&&n.push(l.condition)}}catch(u){s.e(u)}finally{s.f()}}}}catch(u){r.e(u)}finally{r.f()}return n}function lz(e,t,n){if(e){var r,i=ni(kD(e));try{for(i.s();!(r=i.n()).done;){var o=r.value,a=e[o];if(Object(ne.A)(a)){var s,l=ni(a);try{for(l.s();!(s=l.n()).done;){var u=s.value;t.call(n,u,o)}}catch(c){l.e(c)}finally{l.f()}}else t.call(n,a,o)}}catch(c){i.e(c)}finally{i.f()}}}function uz(e,t,n,r){return e?kD(e).reduce((function(n,i){var o=e[i];return Object(ne.A)(o)?o.reduce((function(e,n){return t.call(r,e,n,i)}),n):t.call(r,n,o,i)}),n):n}function cz(e,t){return kD(t).reduce((function(n,r){switch(r){case"x":case"y":case"href":case"url":case"x2":case"y2":case jN:case FN:case LN:case"radius2":case"latitude":case"longitude":case"latitude2":case"longitude2":case"text":case UN:case"angle":case"tooltip":return n;case"order":if("line"===e||"trail"===e)return n;case"detail":case"key":var i=t[r];if(Object(ne.A)(i)||uB(i)){var o,a=ni(Object(ne.i)(i));try{for(a.s();!(o=a.n()).done;){var s=o.value;s.aggregate||n.push(xB(s,{}))}}catch(u){a.e(u)}finally{a.f()}}return n;case VN:if("trail"===e)return n;case BN:case zN:case HN:case"opacity":case"fillOpacity":case"strokeOpacity":case"strokeDash":case"strokeWidth":var l=DB(t[r]);return l&&!l.aggregate&&n.push(xB(l,{})),n}}),[])}function fz(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if("tooltip"in n)return{tooltip:n.tooltip};var i=e.map((function(e){var n=e.fieldPrefix,i=e.titlePrefix,o=r?" of ".concat(t.field):"";return{field:n+t.field,type:t.type,title:Tj(i)?{signal:i+'"'.concat(escape(o),'"')}:i+o}}));return{tooltip:[].concat(Zg(i),Zg(sz(n)))}}function dz(e){var t=e.axis,n=e.title,r=e.field;return t&&void 0!==t.title?void 0:zD(n,r)}function hz(e,t,n,r,i){var o=n.scale,a=n.axis;return function(s){var l=s.partName,u=s.mark,c=s.positionPrefix,f=s.endPositionPrefix,d=void 0===f?void 0:f,h=s.extraEncoding,p=void 0===h?{}:h,m=dz(n);return pz(e,l,i,{mark:u,encoding:Object.assign(Object.assign(Object.assign($a({},t,Object.assign(Object.assign(Object.assign({field:c+"_"+n.field,type:n.type},void 0!==m?{title:m}:{}),void 0!==o?{scale:o}:{}),void 0!==a?{axis:a}:{})),Object(ne.H)(d)?$a({},t+"2",{field:d+"_"+n.field}):{}),r),p)})}}function pz(e,t,n,r){var i=e.clip,o=e.color,a=e.opacity,s=e.type;return e[t]||void 0===e[t]&&n[t]?[Object.assign(Object.assign({},r),{mark:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n[t]),i?{clip:i}:{}),o?{color:o}:{}),a?{opacity:a}:{}),gN(r.mark)?r.mark:{type:r.mark}),{style:"".concat(s,"-").concat(t)}),Object(ne.B)(e[t])?{}:e[t])})]:[]}function mz(e,t,n){var r=e.encoding,i="vertical"===t?"y":"x",o=r[i],a=r[i+"2"],s=r[i+"Error"],l=r[i+"Error2"];return{continuousAxisChannelDef:vz(o,n),continuousAxisChannelDef2:vz(a,n),continuousAxisChannelDefError:vz(s,n),continuousAxisChannelDefError2:vz(l,n),continuousAxis:i}}function vz(e,t){if(e&&e.aggregate){var n=e.aggregate,r=w(e,["aggregate"]);return n!==t&&rj(QL.errorBarContinuousAxisHasCustomizedAggregate(n,t)),r}return e}function gz(e,t){var n=e.mark,r=e.encoding,i=r.x,o=r.y;if(dB(i)){if(dB(o)){var a=uB(i)&&i.aggregate,s=uB(o)&&o.aggregate;if(a||s!==t){if(s||a!==t){if(a===t&&s===t)throw new Error("Both x and y cannot have aggregate");return gN(n)&&n.orient?n.orient:"vertical"}return"horizontal"}return"vertical"}return"horizontal"}if(dB(o))return"vertical";throw new Error("Need a valid continuous axis for "+t+"s")}var yz=new TN("boxplot",_z);function bz(e){return Object(ne.E)(e)?"tukey":e}function _z(e,t){var n,r,i=t.config,o=e.mark,a=(e.encoding,e.selection),s=(e.projection,w(e,["mark","encoding","selection","projection"])),l=gN(o)?o:{type:o};a&&rj(QL.selectionNotSupported("boxplot"));var u,c=null!==(n=l.extent)&&void 0!==n?n:i.boxplot.extent,f=$B("size",l,i),d=bz(c),h=function(e,t,n){var r=gz(e,"boxplot"),i=mz(e,r,"boxplot"),o=i.continuousAxisChannelDef,a=i.continuousAxis,s=o.field,l=bz(t),u=[].concat(Zg(xz(s)),[{op:"median",field:s,as:"mid_box_"+s},{op:"min",field:s,as:("min-max"===l?"lower_whisker_":"min_")+s},{op:"max",field:s,as:("min-max"===l?"upper_whisker_":"max_")+s}]),c="min-max"===l||"tukey"===l?[]:[{calculate:'datum["upper_box_'.concat(s,'"] - datum["lower_box_').concat(s,'"]'),as:"iqr_"+s},{calculate:'min(datum["upper_box_'.concat(s,'"] + datum["iqr_').concat(s,'"] * ').concat(t,', datum["max_').concat(s,'"])'),as:"upper_whisker_"+s},{calculate:'max(datum["lower_box_'.concat(s,'"] - datum["iqr_').concat(s,'"] * ').concat(t,', datum["min_').concat(s,'"])'),as:"lower_whisker_"+s}],f=e.encoding,d=a,h=(f[d],function(e){var t,n,r=e.tooltip,i=w(e,["tooltip"]);if(!r)return{filteredEncoding:e};if(Object(ne.A)(r)){var o,a=ni(r);try{for(a.s();!(o=a.n()).done;){var s=o.value;s.aggregate?(t||(t=[]),t.push(s)):(n||(n=[]),n.push(s))}}catch(l){a.e(l)}finally{a.f()}t&&(i.tooltip=t)}else r.aggregate?i.tooltip=r:n=r;return Object(ne.A)(n)&&1===n.length&&(n=n[0]),{customTooltipWithoutAggregatedField:n,filteredEncoding:i}}(w(f,["symbol"===typeof d?d:d+""]))),p=h.customTooltipWithoutAggregatedField,m=oz(h.filteredEncoding,n),v=m.bins,g=m.timeUnits,y=m.aggregate,b=m.groupby,_=m.encoding,x="vertical"===r?"horizontal":"vertical",E=r;return{transform:[].concat(Zg(v),Zg(g),[{aggregate:[].concat(Zg(y),Zg(u)),groupby:b}],c),groupby:b,aggregate:y,continuousAxisChannelDef:o,continuousAxis:a,encodingWithoutContinuousAxis:_,ticksOrient:x,boxOrient:E,customTooltipWithoutAggregatedField:p}}(e,c,i),p=h.transform,m=h.continuousAxisChannelDef,v=h.continuousAxis,g=h.groupby,y=h.aggregate,b=h.encodingWithoutContinuousAxis,_=h.ticksOrient,x=h.boxOrient,E=h.customTooltipWithoutAggregatedField,T=(b.color,b.size),S=w(b,["color","size"]),k=function(e){return hz(l,v,m,e,i.boxplot)},O=k(S),C=k(b),A=k(Object.assign(Object.assign({},S),T?{size:T}:{})),M=fz([{fieldPrefix:"min-max"===d?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===d?"lower_whisker_":"min_",titlePrefix:"Min"}],m,b),P={type:"tick",color:"black",opacity:1,orient:_,invalid:null},I="min-max"===d?M:fz([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],m,b),D=[].concat(Zg(O({partName:"rule",mark:{type:"rule",invalid:null},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:I})),Zg(O({partName:"rule",mark:{type:"rule",invalid:null},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:I})),Zg(O({partName:"ticks",mark:P,positionPrefix:"lower_whisker",extraEncoding:I})),Zg(O({partName:"ticks",mark:P,positionPrefix:"upper_whisker",extraEncoding:I}))),N=[].concat(Zg("tukey"!==d?D:[]),Zg(C({partName:"box",mark:Object.assign(Object.assign({type:"bar"},f?{size:f}:{}),{orient:x,invalid:null}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:M})),Zg(A({partName:"median",mark:Object.assign(Object.assign(Object.assign({type:"tick",invalid:null},Object(ne.F)(i.boxplot.median)&&i.boxplot.median.color?{color:i.boxplot.median.color}:{}),f?{size:f}:{}),{orient:_}),positionPrefix:"mid_box",extraEncoding:M})));if("min-max"!==d){var R='datum["lower_box_'.concat(m.field,'"]'),L='datum["upper_box_'.concat(m.field,'"]'),j="(".concat(L," - ").concat(R,")"),F="".concat(R," - ").concat(c," * ").concat(j),B="".concat(L," + ").concat(c," * ").concat(j),z='datum["'.concat(m.field,'"]'),H={joinaggregate:xz(m.field),groupby:g},U=void 0;"tukey"===d&&(U={transform:[{filter:"(".concat(F," <= ").concat(z,") && (").concat(z," <= ").concat(B,")")},{aggregate:[{op:"min",field:m.field,as:"lower_whisker_"+m.field},{op:"max",field:m.field,as:"upper_whisker_"+m.field},{op:"min",field:"lower_box_"+m.field,as:"lower_box_"+m.field},{op:"max",field:"upper_box_"+m.field,as:"upper_box_"+m.field}].concat(Zg(y)),groupby:g}],layer:D});S.tooltip;var V=w(S,["tooltip"]),G=m.scale,W=m.axis,q=dz(m),Y=pz(l,"outliers",i.boxplot,{transform:[{filter:"(".concat(z," < ").concat(F,") || (").concat(z," > ").concat(B,")")}],mark:"point",encoding:Object.assign(Object.assign($a({},v,Object.assign(Object.assign(Object.assign({field:m.field,type:m.type},void 0!==q?{title:q}:{}),void 0!==G?{scale:G}:{}),void 0!==W?{axis:W}:{})),V),E?{tooltip:E}:{})})[0];Y&&U?u={transform:[H],layer:[Y,U]}:Y?(u=Y).transform.unshift(H):U&&(u=U).transform.unshift(H)}return u?Object.assign(Object.assign({},s),{layer:[u,{transform:p,layer:N}]}):Object.assign(Object.assign({},s),{transform:(null!==(r=s.transform)&&void 0!==r?r:[]).concat(p),layer:N})}function xz(e){return[{op:"q1",field:e,as:"lower_box_"+e},{op:"q3",field:e,as:"upper_box_"+e}]}var wz=new TN("errorbar",Ez);function Ez(e,t){var n=t.config,r=Sz(e,"errorbar",n),i=r.transform,o=r.continuousAxisChannelDef,a=r.continuousAxis,s=r.encodingWithoutContinuousAxis,l=r.ticksOrient,u=r.markDef,c=r.outerSpec,f=r.tooltipEncoding,d=hz(u,a,o,s,n.errorbar),h={type:"tick",orient:l},p=[].concat(Zg(d({partName:"ticks",mark:h,positionPrefix:"lower",extraEncoding:f})),Zg(d({partName:"ticks",mark:h,positionPrefix:"upper",extraEncoding:f})),Zg(d({partName:"rule",mark:"rule",positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:f})));return Object.assign(Object.assign(Object.assign({},c),{transform:i}),p.length>1?{layer:p}:Object.assign({},p[0]))}function Tz(e,t){var n=e.encoding;if(function(e){return(pB(e.x)||pB(e.y))&&!pB(e.x2)&&!pB(e.y2)&&!pB(e.xError)&&!pB(e.xError2)&&!pB(e.yError)&&!pB(e.yError2)}(n))return{orient:gz(e,t),inputType:"raw"};var r=function(e){return pB(e.x2)||pB(e.y2)}(n),i=function(e){return pB(e.xError)||pB(e.xError2)||pB(e.yError)||pB(e.yError2)}(n),o=n.x,a=n.y;if(r){if(i)throw new Error("".concat(t," cannot be both type aggregated-upper-lower and aggregated-error"));var s=n.x2,l=n.y2;if(pB(s)&&pB(l))throw new Error("".concat(t," cannot have both x2 and y2"));if(pB(s)){if(dB(o))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error("Both x and x2 have to be quantitative in ".concat(t))}if(pB(l)){if(dB(a))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error("Both y and y2 have to be quantitative in ".concat(t))}throw new Error("No ranged axis")}var u=n.xError,c=n.xError2,f=n.yError,d=n.yError2;if(pB(c)&&!pB(u))throw new Error("".concat(t," cannot have xError2 without xError"));if(pB(d)&&!pB(f))throw new Error("".concat(t," cannot have yError2 without yError"));if(pB(u)&&pB(f))throw new Error("".concat(t," cannot have both xError and yError with both are quantiative"));if(pB(u)){if(dB(o))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}if(pB(f)){if(dB(a))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}function Sz(e,t,n){var r,i=e.mark,o=e.encoding,a=e.selection,s=(e.projection,w(e,["mark","encoding","selection","projection"])),l=gN(i)?i:{type:i};a&&rj(QL.selectionNotSupported(t));var u=Tz(e,t),c=u.orient,f=u.inputType,d=mz(e,c,t),h=d.continuousAxisChannelDef,p=d.continuousAxisChannelDef2,m=d.continuousAxisChannelDefError,v=d.continuousAxisChannelDefError2,g=d.continuousAxis,y=function(e,t,n,r,i,o,a,s){var l,u=[],c=[],f=t.field,d=!1;if("raw"===o){var h,p,m,v=e.center?e.center:e.extent?"iqr"===e.extent?"median":"mean":s.errorbar.center,g=e.extent?e.extent:"mean"===v?"stderr":"iqr";if("median"===v!==("iqr"===g)&&rj(QL.errorBarCenterIsUsedWithWrongExtent(v,g,a)),"stderr"===g||"stdev"===g)u=[{op:g,field:f,as:"extent_"+f},{op:v,field:f,as:"center_"+f}],c=[{calculate:'datum["center_'.concat(f,'"] + datum["extent_').concat(f,'"]'),as:"upper_"+f},{calculate:'datum["center_'.concat(f,'"] - datum["extent_').concat(f,'"]'),as:"lower_"+f}],l=[{fieldPrefix:"center_",titlePrefix:ID(v)},{fieldPrefix:"upper_",titlePrefix:kz(v,g,"+")},{fieldPrefix:"lower_",titlePrefix:kz(v,g,"-")}],d=!0;else e.center&&e.extent&&rj(QL.errorBarCenterIsNotNeeded(e.extent,a)),"ci"===g?(h="mean",p="ci0",m="ci1"):(h="median",p="q1",m="q3"),u=[{op:p,field:f,as:"lower_"+f},{op:m,field:f,as:"upper_"+f},{op:h,field:f,as:"center_"+f}],l=[{fieldPrefix:"upper_",titlePrefix:AB({field:f,aggregate:m,type:"quantitative"},s,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:AB({field:f,aggregate:p,type:"quantitative"},s,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:AB({field:f,aggregate:h,type:"quantitative"},s,{allowDisabling:!1})}]}else{(e.center||e.extent)&&rj(QL.errorBarCenterAndExtentAreNotNeeded(e.center,e.extent)),"aggregated-upper-lower"===o?(l=[],c=[{calculate:'datum["'.concat(n.field,'"]'),as:"upper_"+f},{calculate:'datum["'.concat(f,'"]'),as:"lower_"+f}]):"aggregated-error"===o&&(l=[{fieldPrefix:"",titlePrefix:f}],c=[{calculate:'datum["'.concat(f,'"] + datum["').concat(r.field,'"]'),as:"upper_"+f}],i?c.push({calculate:'datum["'.concat(f,'"] + datum["').concat(i.field,'"]'),as:"lower_"+f}):c.push({calculate:'datum["'.concat(f,'"] - datum["').concat(r.field,'"]'),as:"lower_"+f}));var y,b=ni(c);try{for(b.s();!(y=b.n()).done;){var _=y.value;l.push({fieldPrefix:_.as.substring(0,6),titlePrefix:jD(jD(_.calculate,'datum["',""),'"]',"")})}}catch(x){b.e(x)}finally{b.f()}}return{postAggregateCalculates:c,errorBarSpecificAggregate:u,tooltipSummary:l,tooltipTitleWithFieldName:d}}(l,h,p,m,v,f,t,n),b=y.errorBarSpecificAggregate,_=y.postAggregateCalculates,x=y.tooltipSummary,E=y.tooltipTitleWithFieldName,T=o,S=g,k=(T[S],"x"===g?"x2":"y2"),O=(T[k],"x"===g?"xError":"yError"),C=(T[O],"x"===g?"xError2":"yError2"),A=(T[C],oz(w(T,["symbol"===typeof S?S:S+"","symbol"===typeof k?k:k+"","symbol"===typeof O?O:O+"","symbol"===typeof C?C:C+""]),n)),M=A.bins,P=A.timeUnits,I=A.aggregate,D=A.groupby,N=A.encoding,R=[].concat(Zg(I),Zg(b)),L="raw"!==f?[]:D,j=fz(x,h,N,E);return{transform:[].concat(Zg(null!==(r=s.transform)&&void 0!==r?r:[]),Zg(M),Zg(P),Zg(0===R.length?[]:[{aggregate:R,groupby:L}]),Zg(_)),groupby:L,continuousAxisChannelDef:h,continuousAxis:g,encodingWithoutContinuousAxis:N,ticksOrient:"vertical"===c?"horizontal":"vertical",markDef:l,outerSpec:s,tooltipEncoding:j}}function kz(e,t,n){return ID(e)+" "+n+" "+t}var Oz=new TN("errorband",Cz);function Cz(e,t){var n=t.config,r=Sz(e,"errorband",n),i=r.transform,o=r.continuousAxisChannelDef,a=r.continuousAxis,s=r.encodingWithoutContinuousAxis,l=r.markDef,u=r.outerSpec,c=r.tooltipEncoding,f=l,d=hz(f,a,o,s,n.errorband),h=void 0!==e.encoding.x&&void 0!==e.encoding.y,p={type:h?"area":"rect"},m={type:h?"line":"rule"},v=Object.assign(Object.assign({},f.interpolate?{interpolate:f.interpolate}:{}),f.tension&&f.interpolate?{tension:f.tension}:{});return h?(p=Object.assign(Object.assign({},p),v),m=Object.assign(Object.assign({},m),v)):f.interpolate?rj(QL.errorBand1DNotSupport("interpolate")):f.tension&&rj(QL.errorBand1DNotSupport("tension")),Object.assign(Object.assign({},u),{transform:i,layer:[].concat(Zg(d({partName:"band",mark:p,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:c})),Zg(d({partName:"borders",mark:m,positionPrefix:"lower",extraEncoding:c})),Zg(d({partName:"borders",mark:m,positionPrefix:"upper",extraEncoding:c})))})}var Az={};function Mz(e,t,n){var r=new TN(e,t);Az[e]={normalizer:r,parts:n}}Mz("boxplot",_z,["box","median","outliers","rule","ticks"]),Mz("errorbar",Ez,["ticks","rule"]),Mz("errorband",Cz,["band","borders"]);var Pz=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],Iz=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],Dz={fillColor:{part:"legend",vgProp:"fill"},gradientStrokeColor:{part:"gradient",vgProp:"stroke"},labelColor:{part:"labels",vgProp:"fill"},strokeColor:{part:"legend",vgProp:"stroke"},symbolFillColor:{part:"symbols",vgProp:"fill"},symbolStrokeColor:{part:"symbols",vgProp:"stroke"},titleColor:{part:"title",vgProp:"fill"}},Nz={clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},Rz=(kD(Nz),{single:{on:"click",fields:["_vgsid_"],resolve:"global",empty:"all",clear:"dblclick"},multi:{on:"click",fields:["_vgsid_"],toggle:"event.shiftKey",resolve:"global",empty:"all",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}});function Lz(e){return!!e&&("legend"===e||!!e.legend)}function jz(e){return Lz(e)&&Object(ne.F)(e)}function Fz(e){return"concat"in e}function Bz(e){return"vconcat"in e}function zz(e){return"hconcat"in e}function Hz(e){return Object(ne.F)(e)&&void 0!==e.step}function Uz(e){return e.view||e.width||e.height}var Vz=kD({align:1,bounds:1,center:1,columns:1,spacing:1});function Gz(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:e["width"===t?"continuousWidth":"continuousHeight"]}function Wz(e,t){var n=qz(e,t);return Hz(n)?n.step:Yz}function qz(e,t){var n;return zD(null!==(n=e[t])&&void 0!==n?n:e["width"===t?"discreteWidth":"discreteHeight"],{step:e.step})}var Yz=20;var Xz={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:Yz},mark:{color:"#4c78a8",invalid:"filter",timeUnitBand:1},arc:{},area:{},bar:xN,circle:{},geoshape:{},image:{},line:{},point:{},rect:wN,rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:Rz,style:{},title:{},facet:{spacing:20},concat:{spacing:20}},$z=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],Kz={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},Zz={blue:$z[0],orange:$z[1],red:$z[2],teal:$z[3],green:$z[4],yellow:$z[5],purple:$z[6],pink:$z[7],brown:$z[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function Qz(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{signals:[{name:"color",value:Object(ne.F)(e)?Object.assign(Object.assign({},Zz),e):Zz}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function Jz(e){return{signals:[{name:"fontSize",value:Object(ne.F)(e)?Object.assign(Object.assign({},Kz),e):Kz}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function eH(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function tH(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.color,n=e.font,r=e.fontSize,i=w(e,["color","font","fontSize"]);return Object(ne.N)({},Xz,n?eH(n):{},t?Qz(t):{},r?Jz(r):{},i||{})}var nH=["view"].concat(Zg(vN)),rH=["color","fontSize","background","padding","facet","concat","numberFormat","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],iH=Object.assign({view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]});function oH(e){e=dD(e);var t,n=ni(rH);try{for(n.s();!(t=n.n()).done;){delete e[t.value]}}catch(E){n.e(E)}finally{n.f()}if(e.axis)for(var r in e.axis)YD(e.axis[r])&&delete e.axis[r];if(e.legend){var i,o=ni(Pz);try{for(o.s();!(i=o.n()).done;){var a=i.value;delete e.legend[a]}}catch(E){o.e(E)}finally{o.f()}}if(e.mark){var s,l=ni(bN);try{for(l.s();!(s=l.n()).done;){var u=s.value;delete e.mark[u]}}catch(E){l.e(E)}finally{l.f()}}var c,f=ni(nH);try{for(f.s();!(c=f.n()).done;){var d,h=c.value,p=ni(bN);try{for(p.s();!(d=p.n()).done;){var m=d.value;delete e[h][m]}}catch(E){p.e(E)}finally{p.f()}var v=iH[h];if(v){var g,y=ni(v);try{for(y.s();!(g=y.n()).done;){var b=g.value;delete e[h][b]}}catch(E){y.e(E)}finally{y.f()}}aH(e,h)}}catch(E){f.e(E)}finally{f.f()}var _,x=ni(kD(Az));try{for(x.s();!(_=x.n()).done;){delete e[_.value]}}catch(E){x.e(E)}finally{x.f()}for(var w in function(e){var t=WB(e.title),n=t.mark,r=t.subtitle,i=Object.assign(Object.assign({},e.style["group-title"]),n);kD(i).length>0&&(e.style["group-title"]=i);kD(r).length>0?e.title=r:delete e.title}(e),e)Object(ne.F)(e[w])&&0===kD(e[w]).length&&delete e[w];return kD(e).length>0?e:void 0}function aH(e,t,n,r){var i=r?e[t][r]:e[t];"view"===t&&(n="cell");var o=Object.assign(Object.assign({},i),e.style[null!==n&&void 0!==n?n:t]);kD(o).length>0&&(e.style[null!==n&&void 0!==n?n:t]=o),r||delete e[t]}function sH(e){return"layer"in e}function lH(e){return(lH=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uH(e,t,n){return(uH="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=lH(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function cH(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&IR(e,t)}function fH(e){return(fH="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dH(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hH(e,t){return!t||"object"!==fH(t)&&"function"!==typeof t?dH(e):t}function pH(e){return function(){var t,n=lH(e);if(DR()){var r=lH(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return hH(this,t)}}var mH=function(){function e(){JT(this,e)}return tS(e,[{key:"map",value:function(e,t){return tB(e)?this.mapFacet(e,t):function(e){return"repeat"in e}(e)?this.mapRepeat(e,t):zz(e)?this.mapHConcat(e,t):Bz(e)?this.mapVConcat(e,t):Fz(e)?this.mapConcat(e,t):this.mapLayerOrUnit(e,t)}},{key:"mapLayerOrUnit",value:function(e,t){if(sH(e))return this.mapLayer(e,t);if(EN(e))return this.mapUnit(e,t);throw new Error(QL.invalidSpec(e))}},{key:"mapLayer",value:function(e,t){var n=this;return Object.assign(Object.assign({},e),{layer:e.layer.map((function(e){return n.mapLayerOrUnit(e,t)}))})}},{key:"mapHConcat",value:function(e,t){var n=this;return Object.assign(Object.assign({},e),{hconcat:e.hconcat.map((function(e){return n.map(e,t)}))})}},{key:"mapVConcat",value:function(e,t){var n=this;return Object.assign(Object.assign({},e),{vconcat:e.vconcat.map((function(e){return n.map(e,t)}))})}},{key:"mapConcat",value:function(e,t){var n=this,r=e.concat,i=w(e,["concat"]);return Object.assign(Object.assign({},i),{concat:r.map((function(e){return n.map(e,t)}))})}},{key:"mapFacet",value:function(e,t){return Object.assign(Object.assign({},e),{spec:this.map(e.spec,t)})}},{key:"mapRepeat",value:function(e,t){return Object.assign(Object.assign({},e),{spec:this.map(e.spec,t)})}}]),e}(),vH={zero:1,center:1,normalize:1};function gH(e){return e in vH}var yH=[eN,nN,tN,sN,oN,fN,dN,iN,lN,uN],bH=[nN,tN,eN];function _H(e,t,n){var r,i,o="x"===n?"y":"radius",a=e[n],s=e[o];if(uB(a)&&uB(s))if("quantitative"===cB(a)&&"quantitative"===cB(s)){if(a.stack)return n;if(s.stack)return o;var l=uB(a)&&!!a.aggregate;if(l!==(uB(s)&&!!s.aggregate))return l?n:o;var u=null===(r=a.scale)||void 0===r?void 0:r.type,c=null===(i=s.scale)||void 0===i?void 0:i.type;if(u&&"linear"!==u)return o;if(c&&"linear"!==c)return n}else{if("quantitative"===cB(a))return n;if("quantitative"===cB(s))return o}else{if("quantitative"===cB(a))return n;if("quantitative"===cB(s))return o}}function xH(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function wH(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=gN(e)?e.type:e;if(!yD(yH,r))return null;var i=_H(t,0,"x")||_H(t,0,"theta");if(!i)return null;var o=t[i],a=uB(o)?xB(o,{}):void 0,s=xH(i),l=t[s],u=uB(l)?xB(l,{}):void 0;u===a&&(u=void 0,l=void 0,s=void 0);var c,f=cR.reduce((function(e,n){if("tooltip"!==n&&rz(t,n)){var r,i=t[n],o=ni(Object(ne.i)(i));try{for(o.s();!(r=o.n()).done;){var a=DB(r.value);if(!a.aggregate){var s=xB(a,{});s&&s===u||e.push({channel:n,fieldDef:a})}}}catch(l){o.e(l)}finally{o.f()}}return e}),[]);if(void 0!==o.stack?c=Object(ne.B)(o.stack)?o.stack?"zero":null:o.stack:f.length>0&&yD(bH,r)&&(c="zero"),!c||!gH(c))return null;if(iz(t)&&0===f.length)return null;if(o.scale&&o.scale.type&&o.scale.type!==Kj){if(n.disallowNonLinearStack)return null;rj(QL.cannotStackNonLinearScale(o.scale.type))}return pB(t[sR(i)])?(void 0!==o.stack&&rj(QL.cannotStackRangedMark(i)),null):(uB(o)&&o.aggregate&&!yD(IN,o.aggregate)&&rj(QL.stackNonSummativeAggregate(o.aggregate)),{groupbyChannel:l?s:void 0,groupbyField:u,fieldChannel:i,impute:null!==o.impute&&pN(r),stackBy:f,offset:c})}function EH(e){e.point,e.line;var t=w(e,["point","line"]);return kD(t).length>1?t:t.type}function TH(e){for(var t=0,n=["line","area","rule","trail"];t<n.length;t++){var r=n[t];e[r]&&(e=Object.assign(Object.assign({},e),$a({},r,pD(e[r],["point","line"]))))}return e}function SH(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return"transparent"===e.point?{opacity:0}:e.point?Object(ne.F)(e.point)?e.point:{}:void 0!==e.point?null:t.point||n.shape?Object(ne.F)(t.point)?t.point:{}:void 0}function kH(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.line?!0===e.line?{}:e.line:void 0!==e.line?null:t.line?!0===t.line?{}:t.line:void 0}var OH=function(){function e(){JT(this,e),this.name="path-overlay"}return tS(e,[{key:"hasMatchingType",value:function(e,t){if(EN(e)){var n=e.mark,r=e.encoding,i=gN(n)?n:{type:n};switch(i.type){case"line":case"rule":case"trail":return!!SH(i,t[i.type],r);case"area":return!!SH(i,t[i.type],r)||!!kH(i,t[i.type])}}return!1}},{key:"run",value:function(e,t,n){var r=t.config,i=e.selection,o=e.projection,a=e.encoding,s=e.mark,l=w(e,["selection","projection","encoding","mark"]),u=gN(s)?s:{type:s},c=SH(u,r[u.type],a),f="area"===u.type&&kH(u,r[u.type]),d=[Object.assign(Object.assign({},i?{selection:i}:{}),{mark:EH(Object.assign(Object.assign({},"area"===u.type&&void 0===u.opacity&&void 0===u.fillOpacity?{opacity:.7}:{}),u)),encoding:pD(a,["shape"])})],h=wH(u,a),p=a;if(h){var m=h.fieldChannel,v=h.offset;p=Object.assign(Object.assign({},a),$a({},m,Object.assign(Object.assign({},a[m]),v?{stack:v}:{})))}return f&&d.push(Object.assign(Object.assign({},o?{projection:o}:{}),{mark:Object.assign(Object.assign({type:"line"},hD(u,["clip","interpolate","tension","tooltip"])),f),encoding:p})),c&&d.push(Object.assign(Object.assign({},o?{projection:o}:{}),{mark:Object.assign(Object.assign({type:"point",opacity:1,filled:!0},hD(u,["clip","tooltip"])),c),encoding:p})),n(Object.assign(Object.assign({},l),{layer:d}),Object.assign(Object.assign({},t),{config:TH(r)}))}}]),e}(),CH=function(){function e(){JT(this,e),this.name="RangeStep"}return tS(e,[{key:"hasMatchingType",value:function(e){var t;if(EN(e)&&e.encoding){var n,r=ni(dR);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=e.encoding[i];if(o&&pB(o)&&(null===(t=null===o||void 0===o?void 0:o.scale)||void 0===t?void 0:t.rangeStep))return!0}}catch(a){r.e(a)}finally{r.f()}}return!1}},{key:"run",value:function(e){var t,n,r={},i=Object.assign({},e.encoding),o=ni(dR);try{for(o.s();!(n=o.n()).done;){var a=n.value,s=lR(a),l=i[a];if(l&&pB(l)&&(null===(t=null===l||void 0===l?void 0:l.scale)||void 0===t?void 0:t.rangeStep)){var u=l.scale,c=w(l,["scale"]),f=u,d=(f.rangeStep,w(f,["rangeStep"]));r[s]={step:u.rangeStep},rj(QL.RANGE_STEP_DEPRECATED),i=Object.assign(Object.assign({},i),$a({},a,Object.assign(Object.assign({},c),kD(d).length>0?{scale:d}:{})))}}}catch(h){o.e(h)}finally{o.f()}return Object.assign(Object.assign(Object.assign({},r),e),{encoding:i})}}]),e}();function AH(e,t){return t?JF(e)?RH(e,t):IH(e,t):e}function MH(e,t){return t?RH(e,t):e}function PH(e,t,n){var r,i=t[e];return(r=i)&&!Object(ne.H)(r)&&"repeat"in r?i.repeat in n?Object.assign(Object.assign({},t),$a({},e,n[i.repeat])):void rj(QL.noSuchRepeatedValue(i.repeat)):t}function IH(e,t){if(void 0!==(e=PH("field",e,t))){if(null===e)return null;if(rB(e)&&ZF(e.sort)){var n=PH("field",e.sort,t);e=Object.assign(Object.assign({},e),n?{sort:n}:{})}return e}}function DH(e,t){if(uB(e))return IH(e,t);var n=PH("datum",e,t);return n===e||n.type||(n.type="nominal"),n}function NH(e,t){if(!pB(e)){if(lB(e)){var n=DH(e.condition,t);if(n)return Object.assign(Object.assign({},e),{condition:n});e.condition;return w(e,["condition"])}return e}var r=DH(e,t);return r||(aB(e)?{condition:e.condition}:void 0)}function RH(e,t){var n={};for(var r in e)if(Object(ne.v)(e,r)){var i=e[r];if(Object(ne.A)(i))n[r]=i.map((function(e){return NH(e,t)})).filter((function(e){return e}));else{var o=NH(i,t);void 0!==o&&(n[r]=o)}}return n}var LH=function(){function e(){JT(this,e),this.name="RuleForRangedLine"}return tS(e,[{key:"hasMatchingType",value:function(e){if(EN(e)){var t=e.encoding;if("line"===e.mark){var n,r=ni(rR);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=t[oR(i)];if(t[i]&&(uB(o)&&!CR(o.bin)||fB(o)))return!0}}catch(a){r.e(a)}finally{r.f()}}}return!1}},{key:"run",value:function(e,t,n){var r=e.encoding;return rj(QL.lineWithRange(!!r.x2,!!r.y2)),n(Object.assign(Object.assign({},e),{mark:"rule"}),t)}}]),e}();function jH(e){var t=e.parentEncoding,n=e.encoding;if(t&&n){var r=kD(t).reduce((function(e,t){return n[t]&&e.push(t),e}),[]);r.length>0&&rj(QL.encodingOverridden(r))}var i=Object.assign(Object.assign({},null!==t&&void 0!==t?t:{}),null!==n&&void 0!==n?n:{});return kD(i).length>0?i:void 0}function FH(e){var t=e.parentProjection,n=e.projection;return t&&n&&rj(QL.projectionOverridden({parentProjection:t,projection:n})),null!==n&&void 0!==n?n:t}function BH(e,t){void 0===t&&(t=tH(e.config));var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return zH.map(e,{config:t})}(e,t),r=function(e,t,n){var r=t.width,i=t.height,o=EN(e)||sH(e),a={};o?"container"==r&&"container"==i?(a.type="fit",a.contains="padding"):"container"==r?(a.type="fit-x",a.contains="padding"):"container"==i&&(a.type="fit-y",a.contains="padding"):("container"==r&&(rj(QL.containerSizeNonSingle("width")),r=void 0),"container"==i&&(rj(QL.containerSizeNonSingle("height")),i=void 0));var s=Object.assign(Object.assign(Object.assign({type:"pad"},a),n?HH(n.autosize):{}),HH(e.autosize));"fit"!==s.type||o||(rj(QL.FIT_NON_SINGLE),s.type="pad");"container"==r&&"fit"!=s.type&&"fit-x"!=s.type&&rj(QL.containerSizeNotCompatibleWithAutosize("width"));"container"==i&&"fit"!=s.type&&"fit-y"!=s.type&&rj(QL.containerSizeNotCompatibleWithAutosize("height"));if(fD(s,{type:"pad"}))return;return s}(n,{width:e.width,height:e.height,autosize:e.autosize},t);return Object.assign(Object.assign({},n),r?{autosize:r}:{})}var zH=new(function(e){cH(n,e);var t=pH(n);function n(){var e;return JT(this,n),(e=t.apply(this,arguments)).nonFacetUnitNormalizers=[yz,wz,Oz,new OH,new LH,new CH],e}return tS(n,[{key:"map",value:function(e,t){if(EN(e)){var r=rz(e.encoding,NN),i=rz(e.encoding,RN),o=rz(e.encoding,"facet");if(r||i||o)return this.mapFacetedUnit(e,t)}return uH(lH(n.prototype),"map",this).call(this,e,t)}},{key:"mapUnit",value:function(e,t){var n=t.parentEncoding,r=t.parentProjection,i=Object.assign(Object.assign({},e),{encoding:MH(e.encoding,t.repeater)});if(n||r)return this.mapUnitWithParentEncodingOrProjection(i,t);var o,a=this.mapLayerOrUnit.bind(this),s=ni(this.nonFacetUnitNormalizers);try{for(s.s();!(o=s.n()).done;){var l=o.value;if(l.hasMatchingType(i,t.config))return l.run(i,t,a)}}catch(u){s.e(u)}finally{s.f()}return i}},{key:"mapRepeat",value:function(e,t){return function(e){return!Object(ne.A)(e.repeat)&&e.repeat.layer}(e)?this.mapLayerRepeat(e,t):this.mapNonLayerRepeat(e,t)}},{key:"mapLayerRepeat",value:function(e,t){var n=this,r=e.repeat,i=e.spec,o=w(e,["repeat","spec"]),a=r.row,s=r.column,l=r.layer,u=t.repeater,c=void 0===u?{}:u,f=t.repeaterPrefix,d=void 0===f?"":f;return a||s?this.mapRepeat(Object.assign(Object.assign({},e),{repeat:Object.assign(Object.assign({},a?{row:a}:{}),s?{column:s}:{}),spec:{repeat:{layer:l},spec:i}}),t):Object.assign(Object.assign({},o),{layer:l.map((function(e){var r=Object.assign(Object.assign({},c),{layer:e}),o=(i.name||"")+d+"child__layer_".concat(AD(e)),a=n.mapLayerOrUnit(i,Object.assign(Object.assign({},t),{repeater:r,repeaterPrefix:o}));return a.name=o,a}))})}},{key:"mapNonLayerRepeat",value:function(e,t){var n,r=e,i=r.repeat,o=r.spec,a=r.data,s=w(e,["repeat","spec","data"]);!Object(ne.A)(i)&&e.columns&&(e=pD(e,["columns"]),rj(QL.columnsNotSupportByRowCol("repeat")));var l,u=[],c=t.repeater,f=void 0===c?{}:c,d=t.repeaterPrefix,h=void 0===d?"":d,p=!Object(ne.A)(i)&&i.row||[f?f.row:null],m=!Object(ne.A)(i)&&i.column||[f?f.column:null],v=ni(Object(ne.A)(i)&&i||[f?f.repeat:null]);try{for(v.s();!(l=v.n()).done;){var g,y=l.value,b=ni(p);try{for(b.s();!(g=b.n()).done;){var _,x=g.value,E=ni(m);try{for(E.s();!(_=E.n()).done;){var T=_.value,S={repeat:y,row:x,column:T,layer:f.layer},k=(o.name||"")+h+"child__"+(Object(ne.A)(i)?"".concat(AD(y)):(i.row?"row_".concat(AD(x)):"")+(i.column?"column_".concat(AD(T)):"")),O=this.map(o,Object.assign(Object.assign({},t),{repeater:S,repeaterPrefix:k}));O.name=k,u.push(pD(O,["data"]))}}catch(A){E.e(A)}finally{E.f()}}}catch(A){b.e(A)}finally{b.f()}}}catch(A){v.e(A)}finally{v.f()}var C=Object(ne.A)(i)?e.columns:i.column?i.column.length:1;return Object.assign(Object.assign({data:null!==(n=o.data)&&void 0!==n?n:a,align:"all"},s),{columns:C,concat:u})}},{key:"mapFacet",value:function(e,t){return JF(e.facet)&&e.columns&&(e=pD(e,["columns"]),rj(QL.columnsNotSupportByRowCol("facet"))),uH(lH(n.prototype),"mapFacet",this).call(this,e,t)}},{key:"mapUnitWithParentEncodingOrProjection",value:function(e,t){var n=e.encoding,r=e.projection,i=t.parentEncoding,o=t.parentProjection,a=t.config,s=FH({parentProjection:o,projection:r}),l=jH({parentEncoding:i,encoding:MH(n,t.repeater)});return this.mapUnit(Object.assign(Object.assign(Object.assign({},e),s?{projection:s}:{}),l?{encoding:l}:{}),{config:a})}},{key:"mapFacetedUnit",value:function(e,t){var n=e.encoding,r=n.row,i=n.column,o=n.facet,a=w(n,["row","column","facet"]),s=e.mark,l=e.width,u=e.projection,c=e.height,f=e.view,d=e.selection,h=(e.encoding,w(e,["mark","width","projection","height","view","selection","encoding"])),p=this.getFacetMappingAndLayout({row:r,column:i,facet:o},t),m=p.facetMapping,v=p.layout,g=MH(a,t.repeater);return this.mapFacet(Object.assign(Object.assign(Object.assign({},h),v),{facet:m,spec:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},l?{width:l}:{}),c?{height:c}:{}),f?{view:f}:{}),u?{projection:u}:{}),{mark:s,encoding:g}),d?{selection:d}:{})}),t)}},{key:"getFacetMappingAndLayout",value:function(e,t){var n,r=e.row,i=e.column,o=e.facet;if(r||i){o&&rj(QL.facetChannelDropped([].concat(Zg(r?[NN]:[]),Zg(i?[RN]:[]))));for(var a={},s={},l=0,u=[NN,RN];l<u.length;l++){var c=u[l],f=e[c];if(f){f.align,f.center,f.spacing,f.columns;var d=w(f,["align","center","spacing","columns"]);a[c]=d;for(var h=0,p=["align","center","spacing"];h<p.length;h++){var m=p[h];void 0!==f[m]&&(s[m]=null!==(n=s[m])&&void 0!==n?n:{},s[m][c]=f[m])}}}return{facetMapping:a,layout:s}}var v=o.align,g=o.center,y=o.spacing,b=o.columns;return{facetMapping:AH(w(o,["align","center","spacing","columns"]),t.repeater),layout:Object.assign(Object.assign(Object.assign(Object.assign({},v?{align:v}:{}),g?{center:g}:{}),y?{spacing:y}:{}),b?{columns:b}:{})}}},{key:"mapLayer",value:function(e,t){var r=t.parentEncoding,i=t.parentProjection,o=w(t,["parentEncoding","parentProjection"]),a=e.encoding,s=e.projection,l=w(e,["encoding","projection"]),u=Object.assign(Object.assign({},o),{parentEncoding:jH({parentEncoding:r,encoding:a}),parentProjection:FH({parentProjection:i,projection:s})});return uH(lH(n.prototype),"mapLayer",this).call(this,l,u)}}]),n}(mH));function HH(e){return Object(ne.H)(e)?{type:e}:null!==e&&void 0!==e?e:{}}var UH=["background","padding"];function VH(e){return UH.reduce((function(t,n){return e&&void 0!==e[n]&&(t[n]=e[n]),t}),{})}function GH(e){return"url"in e}function WH(e){return"values"in e}function qH(e){return"name"in e&&!GH(e)&&!WH(e)&&!YH(e)}function YH(e){return e&&(XH(e)||$H(e)||KH(e))}function XH(e){return"sequence"in e}function $H(e){return"sphere"in e}function KH(e){return"graticule"in e}var ZH="main";function QH(e){return"filter"in e}function JH(e){return"lookup"in e}function eU(e){return"pivot"in e}function tU(e){return"density"in e}function nU(e){return"quantile"in e}function rU(e){return"regression"in e}function iU(e){return"loess"in e}function oU(e){return"sample"in e}function aU(e){return"window"in e}function sU(e){return"joinaggregate"in e}function lU(e){return"flatten"in e}function uU(e){return"calculate"in e}function cU(e){return"bin"in e}function fU(e){return"impute"in e}function dU(e){return"timeUnit"in e}function hU(e){return"aggregate"in e}function pU(e){return"stack"in e}function mU(e){return"fold"in e}function vU(e,t,n,r){var i=aB(t)&&t.condition,o=r(t);if(i){var a=Object(ne.i)(i).map((function(t){var n=r(t),i=function(e){return e.selection}(t)?TV(e,t.selection):kV(e,t.test);return Object.assign({test:i},n)}));return $a({},n,[].concat(Zg(a),Zg(void 0!==o?[o]:[])))}return void 0!==o?$a({},n,o):{}}function gU(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.markDef,i=t.encoding,o=t.config,a=n.vgChannel,s=n.defaultRef,l=n.defaultValue;void 0===s&&void 0!==(l=null!==l&&void 0!==l?l:$B(e,r,o,{vgChannel:a,ignoreVgConfig:!0}))&&(s=YB(l));var u=i[e];return vU(t,u,null!==a&&void 0!==a?a:e,(function(n){return BF({channel:e,channelDef:n,markDef:r,config:o,scaleName:t.scaleName(e),scale:t.getScaleComponent(e),stack:null,defaultRef:s})}))}function yU(e){var t,n,r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{filled:void 0},a=e.markDef,s=e.encoding,l=e.config,u=a.type,c=null!==(t=o.filled)&&void 0!==t?t:$B("filled",a,l),f=yD(["bar","point","circle","square","geoshape"],u)?"transparent":void 0,d=null!==(r=null!==(n=$B(!0===c?"color":void 0,a,l,{vgChannel:"fill"}))&&void 0!==n?n:l.mark[!0===c&&"color"])&&void 0!==r?r:f,h=null!==(i=$B(!1===c?"color":void 0,a,l,{vgChannel:"stroke"}))&&void 0!==i?i:l.mark[!1===c&&"color"],p=c?"fill":"stroke",m=Object.assign(Object.assign({},d?{fill:YB(d)}:{}),h?{stroke:YB(h)}:{});return a.color&&(c?a.fill:a.stroke)&&rj(QL.droppingColor("property",{fill:"fill"in a,stroke:"stroke"in a})),Object.assign(Object.assign(Object.assign(Object.assign({},m),gU("color",e,{vgChannel:p,defaultValue:c?d:h})),gU("fill",e,{defaultValue:s.fill?d:void 0})),gU("stroke",e,{defaultValue:s.stroke?h:void 0}))}function bU(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",n=e.encoding[t];return vU(e,n,t,(function(t){return _U(t,e.config)}))}function _U(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"datum";if(e){if(vB(e))return{value:e.value};if(mB(e)){var r=IB(e),i=r.format,o=r.formatType;return VF({fieldOrDatumDef:e,format:i,formatType:o,expr:n,config:t})}if(Tj(e))return e}}function xU(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.encoding,r=e.markDef,i=e.config,o=n.tooltip;if(Object(ne.A)(o))return{tooltip:wU({tooltip:o},e.stack,i,t)};var a=t.reactiveGeom?"datum.datum":"datum";return vU(e,o,"tooltip",(function(o){var s=_U(o,e.config,a);if(s)return s;if(null!==o){var l=$B("tooltip",r,i);return!0===l&&(l={content:"encoding"}),Object(ne.H)(l)?{value:l}:Object(ne.F)(l)?"encoding"===l.content?wU(n,e.stack,i,t):{signal:a}:void 0}}))}function wU(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.reactiveGeom,o=[],a={},s={},l=i?"datum.datum":"datum",u=[];function c(r,i){var o=oR(i),a=mB(r)?r:Object.assign(Object.assign({},r),{type:e[o].type}),c=Object(ne.i)(AB(a,n,{allowDisabling:!1})).join(", "),f=_U(a,n,l).signal;if(hR(i)){var d="x"===i?"x2":"y2",h=DB(e[d]);if(CR(a.bin)&&h){var p=xB(a,{expr:l}),m=xB(h,{expr:l}),v=IB(a);f=YF(p,m,v.format,v.formatType,n),s[d]=!0}else if(t&&t.fieldChannel===i&&"normalize"===t.offset){var g=IB(a);f=VF({fieldOrDatumDef:a,format:g.format,formatType:g.formatType,expr:l,config:n,normalizeStack:!0}).signal}}u.push({channel:i,key:c,value:f})}lz(e,(function(e,t){uB(e)?c(e,t):sB(e)&&c(e.condition,t)}));for(var f=0,d=u;f<d.length;f++){var h=d[f],p=h.channel,m=h.key,v=h.value;s[p]||a[m]||(o.push("".concat(Object(ne.Z)(m),": ").concat(v)),a[m]=!0)}return o.length>0?{signal:"{".concat(o.join(", "),"}")}:void 0}function EU(e,t){var n=t[function(e){switch(e){case"x":return"xOffset";case"y":return"yOffset";case"x2":return"x2Offset";case"y2":return"y2Offset";case jN:return"thetaOffset";case LN:return"radiusOffset";case FN:return"theta2Offset";case"radius2":return"radius2Offset"}}(e)];if(n)return n}function TU(e,t,n){var r=n.defaultPos,i=n.vgChannel,o=n.isMidPoint,a=t.encoding,s=t.markDef,l=t.config,u=t.stack,c=a[e],f=a[sR(e)],d=t.scaleName(e),h=t.getScaleComponent(e),p=EU(e,s),m=SU({model:t,defaultPos:r,channel:e,scaleName:d,scale:h}),v=!c&&hR(e)&&(a.latitude||a.longitude)?{field:t.getName(e)}:function(e){var t=e.channel,n=e.channelDef,r=e.isMidPoint,i=e.scaleName,o=e.stack,a=e.offset,s=e.markDef,l=e.config;if(pB(n)&&o&&t===o.fieldChannel){if(uB(n)){var u=iB({channel:t,fieldDef:n,isMidPoint:r,markDef:s,stack:o,config:l});if(void 0!==u)return FF({scaleName:i,fieldOrDatumDef:n,startSuffix:"start",band:u,offset:a})}return jF(n,i,{suffix:"end"},{offset:a})}return DF(e)}({channel:e,channelDef:c,channel2Def:f,markDef:s,config:l,isMidPoint:o,scaleName:d,scale:h,stack:u,offset:p,defaultRef:m});return v?$a({},i||e,v):void 0}function SU(e){var t=e.model,n=e.defaultPos,r=e.channel,i=e.scaleName,o=e.scale,a=t.markDef,s=t.config;return function(){var e=oR(r),l=aR(r),u=$B(r,a,s,{vgChannel:l});if(void 0!==u)return zF(r,u);switch(n){case"zeroOrMin":case"zeroOrMax":if(i){var c=o.get("type");if(yD([Zj,tF,nF],c));else if(o.domainDefinitelyIncludesZero())return{scale:i,value:0}}if("zeroOrMin"===n)return"y"===e?{field:{group:"height"}}:{value:0};switch(e){case"radius":return{signal:"min(".concat(t.width.signal,",").concat(t.height.signal,")/2")};case"theta":return{signal:"2*PI"};case"x":return{field:{group:"width"}};case"y":return{value:0}}break;case"mid":var f=t[lR(r)];return Object.assign(Object.assign({},f),{mult:.5})}}}var kU={left:"x",center:"xc",right:"x2"},OU={top:"y",middle:"yc",bottom:"y2"};function CU(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle";if("radius"===e||"theta"===e)return aR(e);var i="x"===e?"align":"baseline",o=$B(i,t,n);return"x"===e?kU[o||("top"===r?"left":"center")]:OU[o||r]}function AU(e,t,n){var r=n.defaultPos,i=n.defaultPos2;return n.range?MU(e,t,{defaultPos:r,defaultPos2:i}):TU(e,t,{defaultPos:r})}function MU(e,t,n){var r=n.defaultPos,i=n.defaultPos2,o=t.markDef,a=t.config,s=sR(e),l=lR(e),u=function(e,t,n){var r,i=e.encoding,o=e.mark,a=e.markDef,s=e.stack,l=e.config,u=oR(n),c=lR(n),f=aR(n),d=i[u],h=e.scaleName(u),p=e.getScaleComponent(u),m=EU(n in i||n in a?n:u,e.markDef);if(!d&&("x2"===n||"y2"===n)&&(i.latitude||i.longitude))return $a({},f,{field:e.getName(n)});var v=function(e){var t=e.channel,n=e.channelDef,r=e.channel2Def,i=e.markDef,o=e.config,a=e.scaleName,s=e.scale,l=e.stack,u=e.offset,c=e.defaultRef;if(pB(n)&&l&&t.charAt(0)===l.fieldChannel.charAt(0))return jF(n,a,{suffix:"start"},{offset:u});return DF({channel:t,channelDef:r,scaleName:a,scale:s,stack:l,markDef:i,config:o,offset:u,defaultRef:c})}({channel:n,channelDef:d,channel2Def:i[n],markDef:a,config:l,scaleName:h,scale:p,stack:s,offset:m,defaultRef:void 0});if(void 0!==v)return $a({},f,v);return PU(n,a)||PU(n,($a(r={},n,ZB(n,a,l.style)),$a(r,c,ZB(c,a,l.style)),r))||PU(n,l[o])||PU(n,l.mark)||$a({},f,SU({model:e,defaultPos:t,channel:n,scaleName:h,scale:p})())}(t,i,s),c=u[l]?CU(e,o,a):aR(e);return Object.assign(Object.assign({},TU(e,t,{defaultPos:r,vgChannel:c})),u)}function PU(e,t){var n=lR(e),r=aR(e);return void 0!==t[r]?$a({},r,zF(e,t[r])):void 0!==t[e]?$a({},r,zF(e,t[e])):t[n]?$a({},n,zF(e,t[n])):void 0}function IU(e,t,n){var r,i,o,a,s=e.config,l=e.encoding,u=e.markDef,c=e.stack,f=sR(t),d=lR(t),h=l[t],p=l[f],m=e.getScaleComponent(t),v=m?m.get("type"):void 0,g=e.scaleName(t),y=u.orient,b=null!==(i=null!==(r=l[d])&&void 0!==r?r:l.size)&&void 0!==i?i:$B("size",u,s,{vgChannel:d}),_="bar"===n&&("x"===t?"vertical"===y:"horizontal"===y);if(uB(h)&&(OR(h.bin)||CR(h.bin)||h.timeUnit&&!p)&&!b&&!_F(v)){var x=iB({channel:t,fieldDef:h,stack:c,markDef:u,config:s}),w=null===(o=e.component.axes[t])||void 0===o?void 0:o[0];return function(e){var t,n=e.fieldDef,r=e.fieldDef2,i=e.channel,o=e.band,a=e.scaleName,s=e.markDef,l=e.spacing,u=void 0===l?0:l,c=e.axisTranslate,f=e.reverse,d=e.config,h=sR(i),p=aR(i),m=aR(h),v=EU(i,s);return OR(n.bin)||n.timeUnit?($a(t={},m,NU({channel:i,fieldDef:n,scaleName:a,markDef:s,band:(1-o)/2,offset:DU(h,u,f,c,v),config:d})),$a(t,p,NU({channel:i,fieldDef:n,scaleName:a,markDef:s,band:1-(1-o)/2,offset:DU(i,u,f,c,v),config:d})),t):CR(n.bin)&&uB(r)?($a(g={},m,jF(n,a,{},{offset:DU(h,u,f,c,v)})),$a(g,p,jF(r,a,{},{offset:DU(i,u,f,c,v)})),g):void rj(QL.channelRequiredForBinned(h));var g}({fieldDef:h,fieldDef2:p,channel:t,markDef:u,scaleName:g,band:x,axisTranslate:null!==(a=null===w||void 0===w?void 0:w.get("translate"))&&void 0!==a?a:.5,spacing:hR(t)?$B("binSpacing",u,s):void 0,reverse:m.get("reverse"),config:s})}return(pB(h)&&_F(v)||_)&&!p?function(e,t,n,r){var i,o,a=r.markDef,s=r.encoding,l=r.config,u=r.stack,c=a.orient,f=r.scaleName(n),d=r.getScaleComponent(n),h=lR(n),p=sR(n),m="horizontal"===c&&"y"===n||"vertical"===c&&"x"===n,v=$B(m?"size":h,a,l,{vgChannel:h});(s.size||void 0!==v)&&(m?o=gU("size",r,{vgChannel:h,defaultValue:v}):rj(QL.cannotApplySizeToNonOrientedMark(a.type)));var g=null!==(i=pB(t)?iB({channel:n,fieldDef:t,markDef:a,stack:u,config:l}):void 0)&&void 0!==i?i:1;o=o||$a({},h,function(e,t,n,r,i,o){if(r){var a=r.get("type");if("point"===a||"band"===a){if(void 0!==i[e].discreteBandSize)return{value:i[e].discreteBandSize};if(a===aF){var s=r.get("range");return Sj(s)&&Object(ne.E)(s.step)?{value:s.step-2}:{value:Yz-2}}return{scale:n,band:o}}return{value:i[e].continuousBandSize}}var l=Wz(i.view,t),u=zD(i[e].discreteBandSize,l-2);return void 0!==u?{value:u}:void 0}(e,h,f,d,l,g));var y="band"!==(null===d||void 0===d?void 0:d.get("type"))||!("band"in o[h]),b=CU(n,a,l,y?"middle":"top"),_=EU(n,a),x=DF({channel:n,channelDef:t,markDef:a,config:l,scaleName:f,scale:d,stack:u,offset:_,defaultRef:SU({model:r,defaultPos:"mid",channel:n,scaleName:f,scale:d}),band:y?.5:(1-g)/2});if(h)return Object.assign($a({},b,x),o);var w,E=aR(p),T=o[h],S=_?Object.assign(Object.assign({},T),{offset:_}):T;return $a(w={},b,x),$a(w,E,Object(ne.A)(x)?[x[0],Object.assign(Object.assign({},x[1]),{offset:S})]:Object.assign(Object.assign({},x),{offset:S})),w}(n,h,t,e):MU(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function DU(e,t,n,r,i){if(WN(e))return 0;var o="x"===e||"y2"===e?-t/2:t/2;if(Tj(n)){var a=Tj(i)?i.signal:i?"".concat(i):"";return{signal:"".concat(n.signal," ? ").concat(r-o).concat(a?"-"+a:""," : ").concat(r+o).concat(a?"+"+a:"")}}if(Tj(i)){var s=r+(n?-o:o);return{signal:"".concat(s||"").concat(n?" - ":s?" + ":"").concat(i.signal)}}return i=i||0,r+(n?-i-o:+i+o)}function NU(e){var t=e.channel,n=e.fieldDef,r=e.scaleName,i=e.markDef,o=e.band,a=e.offset,s=e.config;return NF({fieldDef:n,channel:t,markDef:i,ref:FF({scaleName:r,fieldOrDatumDef:n,band:o,offset:a}),config:s})}function RU(e,t){var n="include"===t.color?yU(e):{},r=n.fill,i=void 0===r?void 0:r,o=n.stroke,a=void 0===o?void 0:o;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},function(e,t){return Oj.reduce((function(n,r){return void 0!==e[r]&&"ignore"!==t[r]&&(n[r]=YB(e[r])),n}),{})}(e.markDef,t)),LU(e,"fill",i)),LU(e,"stroke",a)),gU("opacity",e)),gU("fillOpacity",e)),gU("strokeOpacity",e)),gU("strokeWidth",e)),gU("strokeDash",e)),xU(e)),bU(e,"href"))}function LU(e,t,n){var r=e.config,i=e.mark;if("hide"===$B("invalid",e.markDef,r)&&n&&!pN(i)){var o=function(e,t){var n=t.invalid,r=void 0!==n&&n,i=t.channels.reduce((function(t,n){var r=e.getScaleComponent(n);if(r){var i=r.get("type"),o=e.vgField(n,{expr:"datum"});o&&xF(i)&&(t[o]=!0)}return t}),{}),o=kD(i);if(o.length>0){var a=r?"||":"&&";return o.map((function(e){return LF(e,r)})).join(" ".concat(a," "))}return}(e,{invalid:!0,channels:_R});if(o)return $a({},t,[{test:o,value:null}].concat(Zg(Object(ne.i)(n))))}return n?$a({},t,n):{}}function jU(e){var t=e.config;if($B("invalid",e.markDef,t)){var n=function(e,t){var n=t.invalid,r=void 0!==n&&n,i=t.channels.reduce((function(t,n){var r=e.getScaleComponent(n);if(r){var i=r.get("type"),o=e.vgField(n,{expr:"datum"});o&&xF(i)&&(t[o]=!0)}return t}),{}),o=kD(i);if(o.length>0){var a=r?"||":"&&";return o.map((function(e){return LF(e,r)})).join(" ".concat(a," "))}return}(e,{channels:dR});if(n)return{defined:{signal:n}}}return{}}function FU(e,t){if(void 0!==t)return $a({},e,YB(t))}var BU={has:function(e){return"interval"!==e.type&&e.nearest},parse:function(e,t){if(t.events){var n,r=ni(t.events);try{for(r.s();!(n=r.n()).done;){n.value.markname=e.getName("voronoi")}}catch(i){r.e(i)}finally{r.f()}}},marks:function(e,t,n){var r=t.project.hasChannel,i=r.x,o=r.y,a=e.mark;if(pN(a))return rj(QL.nearestNotSupportForContinuous(a)),n;var s={name:e.getName("voronoi"),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:Object.assign({fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},xU(e,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:i||!o?"datum.datum.x || 0":"0"},y:{expr:o||!i?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]},l=0,u=!1;return n.forEach((function(t,n){var r,i=null!==(r=t.name)&&void 0!==r?r:"";i===e.component.mark[0].name?l=n:i.indexOf("voronoi")>=0&&(u=!0)})),u||n.splice(l+1,0,s),n}},zU=function(){function e(t,n){JT(this,e),this.debugName=n,this._children=[],this._parent=null,t&&(this.parent=t)}return tS(e,[{key:"clone",value:function(){throw new Error("Cannot clone node")}},{key:"numChildren",value:function(){return this._children.length}},{key:"addChild",value:function(e,t){this._children.indexOf(e)>-1?console.warn("Attempt to add the same child twice."):void 0!==t?this._children.splice(t,0,e):this._children.push(e)}},{key:"removeChild",value:function(e){var t=this._children.indexOf(e);return this._children.splice(t,1),t}},{key:"remove",value:function(){var e,t=this._parent.removeChild(this),n=ni(this._children);try{for(n.s();!(e=n.n()).done;){var r=e.value;r._parent=this._parent,this._parent.addChild(r,t++)}}catch(i){n.e(i)}finally{n.f()}}},{key:"insertAsParentOf",value:function(e){var t=e.parent;t.removeChild(this),this.parent=t,e.parent=this}},{key:"swapWithParent",value:function(){var e,t=this._parent,n=t.parent,r=ni(this._children);try{for(r.s();!(e=r.n()).done;){e.value.parent=t}}catch(i){r.e(i)}finally{r.f()}this._children=[],t.removeChild(this),t.parent.removeChild(t),this.parent=n,t.parent=this}},{key:"parent",get:function(){return this._parent},set:function(e){this._parent=e,e&&e.addChild(this)}},{key:"children",get:function(){return this._children}}]),e}(),HU=function(e){cH(n,e);var t=pH(n);function n(e,r,i,o){var a;return JT(this,n),(a=t.call(this,e,r)).type=i,a.refCounts=o,a._source=a._name=r,a.refCounts&&!(a._name in a.refCounts)&&(a.refCounts[a._name]=0),a}return tS(n,[{key:"clone",value:function(){var e=new this.constructor;return e.debugName="clone_"+this.debugName,e._source=this._source,e._name="clone_"+this._name,e.type=this.type,e.refCounts=this.refCounts,e.refCounts[e._name]=0,e}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return void 0===this._hash&&(this._hash="Output ".concat(UD())),this._hash}},{key:"getSource",value:function(){return this.refCounts[this._name]++,this._source}},{key:"isRequired",value:function(){return!!this.refCounts[this._name]}},{key:"setSource",value:function(e){this._source=e}}]),n}(zU),UU=function(e){cH(n,e);var t=pH(n);function n(e,r){var i;return JT(this,n),(i=t.call(this,e)).formula=r,i}return tS(n,[{key:"clone",value:function(){return new n(null,dD(this.formula))}},{key:"merge",value:function(e){for(var t in this.formula=Object.assign({},this.formula),e.formula)this.formula[t]&&!e.formula[t].band||(this.formula[t]=e.formula[t]);var n,r=ni(e.children);try{for(r.s();!(n=r.n()).done;){var i=n.value;e.removeChild(i),i.parent=this}}catch(o){r.e(o)}finally{r.f()}e.remove()}},{key:"producedFields",value:function(){return new Set(OD(this.formula).map((function(e){return e.as})))}},{key:"dependentFields",value:function(){return new Set(OD(this.formula).map((function(e){return e.field})))}},{key:"hash",value:function(){return"TimeUnit ".concat(vD(this.formula))}},{key:"assemble",value:function(){var e,t=[],n=ni(OD(this.formula));try{for(n.s();!(e=n.n()).done;){var r=e.value,i=r.field,o=r.as,a=xj(r.timeUnit),s=a.unit,l=a.utc,u=w(a,["unit","utc"]);t.push(Object.assign(Object.assign(Object.assign(Object.assign({field:i,type:"timeunit"},s?{units:gj(s)}:{}),l?{timezone:"utc"}:{}),u),{as:[o,"".concat(o,"_end")]}))}}catch(c){n.e(c)}finally{n.f()}return t}}],[{key:"makeFromEncoding",value:function(e,t){var r=t.reduceFieldDef((function(e,n,r){var i=n.field,o=n.timeUnit,a=uq(t)?t.encoding[sR(r)]:void 0,s=uq(t)&&oB(r,n,a,t.stack,t.markDef,t.config);if(o){var l=xB(n,{forAs:!0});e[vD({as:l,field:i,timeUnit:o})]=Object.assign({as:l,field:i,timeUnit:o},s?{band:!0}:{})}return e}),{});return 0===kD(r).length?null:new n(e,r)}},{key:"makeFromTransform",value:function(e,t){var r=Object.assign({},t),i=r.timeUnit,o=w(r,["timeUnit"]),a=xj(i),s=Object.assign(Object.assign({},o),{timeUnit:a});return new n(e,$a({},vD(s),s))}}]),n}(zU),VU=function e(){JT(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.items=n,this.hasChannel={},this.hasField={}},GU={has:function(e){return"single"===e.type&&"global"===e.resolve&&e.bind&&"scales"!==e.bind&&!Lz(e.bind)},parse:function(e,t,n,r){r.on||delete t.events,r.clear||delete t.clear},topLevelSignals:function(e,t,n){var r=t.name,i=t.project,o=t.bind,a=t.init&&t.init[0],s=BU.has(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach((function(e,i){var l,u,c=AD("".concat(r,"_").concat(e.field));n.filter((function(e){return e.name===c})).length||n.unshift(Object.assign(Object.assign({name:c},a?{init:iV(a[i])}:{value:null}),{on:t.events?[{events:t.events,update:"datum && item().mark.marktype !== 'group' ? ".concat(s,"[").concat(Object(ne.Z)(e.field),"] : null")}]:[],bind:null!==(u=null!==(l=o[e.field])&&void 0!==l?l:o[e.channel])&&void 0!==u?u:o}))})),n},signals:function(e,t,n){var r=t.name,i=t.project,o=n.filter((function(e){return e.name===r+pV}))[0],a=r+"_tuple_fields",s=i.items.map((function(e){return AD("".concat(r,"_").concat(e.field))})),l=s.map((function(e){return"".concat(e," !== null")})).join(" && ");return s.length&&(o.update="".concat(l," ? {fields: ").concat(a,", values: [").concat(s.join(", "),"]} : null")),delete o.value,delete o.on,n}},WU={has:function(e){return"multi"===e.type&&!!e.toggle},signals:function(e,t,n){return n.concat({name:t.name+"_toggle",value:!1,on:[{events:t.events,update:t.toggle}]})},modifyExpr:function(e,t){var n=t.name+pV,r=t.name+"_toggle";return"".concat(r," ? null : ").concat(n,", ")+("global"===t.resolve?"".concat(r," ? null : true, "):"".concat(r," ? null : {unit: ").concat(_V(e),"}, "))+"".concat(r," ? ").concat(n," : null")}},qU={has:function(e){return void 0!==e.clear&&!1!==e.clear},parse:function(e,t,n){n.clear&&(t.clear=Object(ne.H)(n.clear)?yM(n.clear,"scope"):n.clear)},topLevelSignals:function(e,t,n){if(GU.has(t)){var r,i=ni(t.project.items);try{var o=function(){var e=r.value,i=n.findIndex((function(n){return n.name===AD("".concat(t.name,"_").concat(e.field))}));-1!==i&&n[i].on.push({events:t.clear,update:"null"})};for(i.s();!(r=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}}return n},signals:function(e,t,n){function r(e,r){-1!==e&&n[e].on&&n[e].on.push({events:t.clear,update:r})}if("interval"===t.type){var i,o=ni(t.project.items);try{var a=function(){var e=i.value,t=n.findIndex((function(t){return t.name===e.signals.visual}));(r(t,"[0, 0]"),-1===t)&&r(n.findIndex((function(t){return t.name===e.signals.data})),"null")};for(o.s();!(i=o.n()).done;)a()}catch(l){o.e(l)}finally{o.f()}}else{var s=n.findIndex((function(e){return e.name===t.name+pV}));r(s,"null"),WU.has(t)&&r(s=n.findIndex((function(e){return e.name===t.name+"_toggle"})),"false")}return n}},YU={has:function(e){return"interval"===e.type&&"global"===e.resolve&&e.bind&&"scales"===e.bind},parse:function(e,t){var n,r=t.scales=[],i=ni(t.project.items);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=o.channel;if(xR(a)){var s=e.getScaleComponent(a),l=s?s.get("type"):void 0;if(s&&xF(l)){var u={selection:t.name,field:o.field};s.set("selectionExtent",u,!0),r.push(o)}else rj(QL.SCALE_BINDINGS_CONTINUOUS)}}}catch(c){i.e(c)}finally{i.f()}},topLevelSignals:function(e,t,n){var r=t.scales.filter((function(e){return 0===n.filter((function(t){return t.name===e.signals.data})).length}));if(!e.parent||$U(e)||0===r.length)return n;var i=n.filter((function(e){return e.name===t.name}))[0],o=i.update;if(o.indexOf(vV)>=0)i.update="{".concat(r.map((function(e){return"".concat(Object(ne.Z)(e.field),": ").concat(e.signals.data)})).join(", "),"}");else{var a,s=ni(r);try{for(s.s();!(a=s.n()).done;){var l=a.value,u="".concat(Object(ne.Z)(l.field),": ").concat(l.signals.data);o.indexOf(u)<0&&(o="".concat(o.substring(0,o.length-1),", ").concat(u,"}"))}}catch(c){s.e(c)}finally{s.f()}i.update=o}return n.concat(r.map((function(e){return{name:e.signals.data}})))},signals:function(e,t,n){if(e.parent&&!$U(e)){var r,i=ni(t.scales);try{var o=function(){var e=r.value,t=n.filter((function(t){return t.name===e.signals.data}))[0];t.push="outer",delete t.value,delete t.update};for(i.s();!(r=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}}return n}};function XU(e,t){var n=Object(ne.Z)(e.scaleName(t));return"domain(".concat(n,")")}function $U(e){var t;return e.parent&&dq(e.parent)&&(null!==(t=!e.parent.parent)&&void 0!==t?t:$U(e.parent.parent))}var KU={has:function(e){var t="global"===e.resolve&&e.bind&&Lz(e.bind),n=1===e.project.items.length&&"_vgsid_"!==e.project.items[0].field;return t&&!n&&rj(QL.LEGEND_BINDINGS_PROJECT_LENGTH),t&&n},parse:function(e,t,n,r){var i;if(r.on||delete t.events,r.clear||delete t.clear,r.on||r.clear){var o,a='event.item && indexof(event.item.mark.role, "legend") < 0',s=ni(t.events);try{for(s.s();!(o=s.n()).done;){var l=o.value;l.filter=Object(ne.i)(null!==(i=l.filter)&&void 0!==i?i:[]),l.filter.indexOf(a)<0&&l.filter.push(a)}}catch(f){s.e(f)}finally{s.f()}}var u=jz(t.bind)?t.bind.legend:"click",c=Object(ne.H)(u)?yM(u,"view"):Object(ne.i)(u);t.bind={legend:{merge:c}}},topLevelSignals:function(e,t,n){var r,i=t.name,o=jz(t.bind)&&t.bind.legend,a=function(e){return function(t){var n=dD(t);return n.markname=e,n}},s=ni(t.project.items);try{var l=function(){var e=r.value;if(!e.hasLegend)return"continue";var s="".concat(AD(e.field),"_legend"),l="".concat(i,"_").concat(s);if(0===n.filter((function(e){return e.name===l})).length){var u=o.merge.map(a("".concat(s,"_symbols"))).concat(o.merge.map(a("".concat(s,"_labels")))).concat(o.merge.map(a("".concat(s,"_entries"))));n.unshift(Object.assign(Object.assign({name:l},t.init?{}:{value:null}),{on:[{events:u,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:o.merge,update:"!event.item || !datum ? null : ".concat(l),force:!0}]}))}};for(s.s();!(r=s.n()).done;)l()}catch(u){s.e(u)}finally{s.f()}return n},signals:function(e,t,n){var r=t.name,i=t.project,o=n.find((function(e){return e.name===r+pV})),a=r+"_tuple_fields",s=i.items.filter((function(e){return e.hasLegend})).map((function(e){return AD("".concat(r,"_").concat(AD(e.field),"_legend"))})),l=s.map((function(e){return"".concat(e," !== null")})).join(" && "),u="".concat(l," ? {fields: ").concat(a,", values: [").concat(s.join(", "),"]} : null");t.events&&s.length>0?o.on.push({events:s.map((function(e){return{signal:e}})),update:u}):s.length>0&&(o.update=u,delete o.value,delete o.on);var c=n.find((function(e){return e.name===r+"_toggle"})),f=jz(t.bind)&&t.bind.legend;return c&&(t.events?c.on.push(Object.assign(Object.assign({},c.on[0]),{events:f})):c.on[0].events=f),n}};var ZU="_translate_delta",QU={has:function(e){return"interval"===e.type&&e.translate},signals:function(e,t,n){var r=t.name,i=YU.has(t),o=r+"_translate_anchor",a=t.project.hasChannel,s=a.x,l=a.y,u=yM(t.translate,"scope");return i||(u=u.map((function(e){return e.between[0].markname=r+sV,e}))),n.push({name:o,value:{},on:[{events:u.map((function(e){return e.between[0]})),update:"{x: x(unit), y: y(unit)"+(void 0!==s?", extent_x: "+(i?XU(e,"x"):"slice(".concat(s.signals.visual,")")):"")+(void 0!==l?", extent_y: "+(i?XU(e,"y"):"slice(".concat(l.signals.visual,")")):"")+"}"}]},{name:r+ZU,value:{},on:[{events:u,update:"{x: ".concat(o,".x - x(unit), y: ").concat(o,".y - y(unit)}")}]}),void 0!==s&&JU(e,t,s,"width",n),void 0!==l&&JU(e,t,l,"height",n),n}};function JU(e,t,n,r,i){var o,a=t.name,s=a+"_translate_anchor",l=a+ZU,u=n.channel,c=YU.has(t),f=i.filter((function(e){return e.name===n.signals[c?"data":"visual"]}))[0],d=e.getSizeSignalRef(r).signal,h=e.getScaleComponent(u),p=h.get("type"),m=c&&"x"===u?"-":"",v="".concat(s,".extent_").concat(u),g="".concat(m).concat(l,".").concat(u," / ")+(c?"".concat(d):"span(".concat(v,")")),y="".concat(c?"log"===p?"panLog":"pow"===p?"panPow":"panLinear":"panLinear","(").concat(v,", ").concat(g)+(c&&"pow"===p?", ".concat(null!==(o=h.get("exponent"))&&void 0!==o?o:1):"")+")";f.on.push({events:{signal:l},update:c?y:"clampRange(".concat(y,", 0, ").concat(d,")")})}var eV={has:function(e){return"interval"===e.type&&e.zoom},signals:function(e,t,n){var r=t.name,i=YU.has(t),o=r+"_zoom_delta",a=t.project.hasChannel,s=a.x,l=a.y,u=Object(ne.Z)(e.scaleName("x")),c=Object(ne.Z)(e.scaleName("y")),f=yM(t.zoom,"scope");return i||(f=f.map((function(e){return e.markname=r+sV,e}))),n.push({name:r+"_zoom_anchor",on:[{events:f,update:i?"{"+[u?"x: invert(".concat(u,", x(unit))"):"",c?"y: invert(".concat(c,", y(unit))"):""].filter((function(e){return!!e})).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:o,on:[{events:f,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),void 0!==s&&tV(e,t,s,"width",n),void 0!==l&&tV(e,t,l,"height",n),n}};function tV(e,t,n,r,i){var o,a=t.name,s=n.channel,l=YU.has(t),u=i.filter((function(e){return e.name===n.signals[l?"data":"visual"]}))[0],c=e.getSizeSignalRef(r).signal,f=e.getScaleComponent(s),d=f.get("type"),h=l?XU(e,s):u.name,p=a+"_zoom_delta",m="".concat(a).concat("_zoom_anchor",".").concat(s),v="".concat(l?"log"===d?"zoomLog":"pow"===d?"zoomPow":"zoomLinear":"zoomLinear","(").concat(h,", ").concat(m,", ").concat(p)+(l&&"pow"===d?", ".concat(null!==(o=f.get("exponent"))&&void 0!==o?o:1):"")+")";u.on.push({events:{signal:p},update:l?v:"clampRange(".concat(v,", 0, ").concat(c,")")})}var nV=[{has:function(){return!0},parse:function(e,t,n){var r,i,o,a=t.name,s=null!==(r=t.project)&&void 0!==r?r:t.project=new VU,l={},u={},c=new Set,f=function(e,t){for(var n="visual"===t?e.channel:e.field,r=AD("".concat(a,"_").concat(n)),i=1;c.has(r);i++)r=AD("".concat(a,"_").concat(n,"_").concat(i));return c.add(r),$a({},t,r)};if(!n.fields&&!n.encodings){var d=e.config.selection[n.type];if(n.init){var h,p=ni(Object(ne.i)(n.init));try{for(p.s();!(h=p.n()).done;){var m,v=h.value,g=ni(kD(v));try{for(g.s();!(m=g.n()).done;){var y=m.value;tR[y]?(n.encodings||(n.encodings=[])).push(y):"interval"===n.type?(rj('Interval selections should be initialized using "x" and/or "y" keys.'),n.encodings=d.encodings):(n.fields||(n.fields=[])).push(y)}}catch(D){g.e(D)}finally{g.f()}}}catch(D){p.e(D)}finally{p.f()}}else n.encodings=d.encodings,n.fields=d.fields}var b,_=ni(null!==(i=n.fields)&&void 0!==i?i:[]);try{for(_.s();!(b=_.n()).done;){var x=b.value,w={type:"E",field:x};w.signals=Object.assign({},f(w,"data")),s.items.push(w),s.hasField[x]=w}}catch(D){_.e(D)}finally{_.f()}var E,T=ni(null!==(o=n.encodings)&&void 0!==o?o:[]);try{for(T.s();!(E=T.n()).done;){var S=E.value,k=e.fieldDef(S);if(k){var O=k.field;if(k.aggregate){rj(QL.cannotProjectAggregate(S,k.aggregate));continue}if(!O){rj(QL.cannotProjectOnChannelWithoutField(S));continue}if(k.timeUnit){O=e.vgField(S);var C={timeUnit:k.timeUnit,as:O,field:k.field};u[vD(C)]=C}if(!l[O]){var A="E";if("interval"===t.type)xF(e.getScaleComponent(S).get("type"))&&(A="R");else k.bin&&(A="R-RE");var M={field:O,channel:S,type:A};M.signals=Object.assign(Object.assign({},f(M,"data")),f(M,"visual")),s.items.push(l[O]=M),s.hasField[O]=s.hasChannel[S]=l[O]}}else rj(QL.cannotProjectOnChannelWithoutField(S))}}catch(D){T.e(D)}finally{T.f()}if(n.init){var P=function(e){return s.items.map((function(t){return void 0!==e[t.channel]?e[t.channel]:e[t.field]}))};if("interval"===n.type)t.init=P(n.init);else{var I=Object(ne.i)(n.init);t.init=I.map(P)}}kD(u).length>0&&(s.timeUnit=new UU(null,u))},signals:function(e,t,n){var r=t.name+"_tuple_fields";return n.filter((function(e){return e.name===r})).length>0?n:n.concat({name:r,value:t.project.items.map((function(e){e.signals,e.hasLegend;var t=w(e,["signals","hasLegend"]);return t.field=LD(t.field),t}))})}},WU,YU,KU,QU,eV,GU,BU,qU];function rV(e,t){var n,r=ni(nV);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.has(e)&&t(i)}}catch(o){r.e(o)}finally{r.f()}}function iV(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ne.x;if(Object(ne.A)(e)){var r=e.map((function(e){return iV(e,t,n)}));return t?"[".concat(r.join(", "),"]"):r}return ij(e)?n(t?cj(e):dj(e)):t?n(JSON.stringify(e)):e}function oV(e,t){return yV(e,(function(n,r){t=r.marks?r.marks(e,n,t):t,rV(n,(function(r){r.marks&&(t=r.marks(e,n,t))}))})),t}function aV(e){return e.map((function(e){return e.on&&!e.on.length&&delete e.on,e}))}var sV="_brush",lV={signals:function(e,t){var n=t.name,r=n+"_tuple_fields",i=YU.has(t),o=[],a=[],s=[];if(t.translate&&!i){var l="!event.item || event.item.mark.name !== ".concat(Object(ne.Z)(n+sV));uV(t,(function(e,t){var n,r=Object(ne.i)(null!==(n=t.between[0].filter)&&void 0!==n?n:t.between[0].filter=[]);return r.indexOf(l)<0&&r.push(l),e}))}t.project.items.forEach((function(n,r){var i=n.channel;if("x"===i||"y"===i){var l=t.init?t.init[r]:null,u=function(e,t,n,r){var i=n.channel,o=n.signals.visual,a=n.signals.data,s=YU.has(t),l=Object(ne.Z)(e.scaleName(i)),u=e.getScaleComponent(i),c=u?u.get("type"):void 0,f=function(e){return"scale(".concat(l,", ").concat(e,")")},d=e.getSizeSignalRef("x"===i?"width":"height").signal,h="".concat(i,"(unit)"),p=uV(t,(function(e,t){return[].concat(Zg(e),[{events:t.between[0],update:"[".concat(h,", ").concat(h,"]")},{events:t,update:"[".concat(o,"[0], clamp(").concat(h,", 0, ").concat(d,")]")}])}));return p.push({events:{signal:t.name+"_scale_trigger"},update:xF(c)?"[".concat(f("".concat(a,"[0]")),", ").concat(f("".concat(a,"[1]")),"]"):"[0, 0]"}),s?[{name:a,on:[]}]:[Object.assign(Object.assign({name:o},r?{init:iV(r,!0,f)}:{value:[]}),{on:p}),Object.assign(Object.assign({name:a},r?{init:iV(r)}:{}),{on:[{events:{signal:o},update:"".concat(o,"[0] === ").concat(o,"[1] ? null : invert(").concat(l,", ").concat(o,")")}]})]}(e,t,n,l),c=n.signals.data,f=n.signals.visual,d=Object(ne.Z)(e.scaleName(i)),h=xF(e.getScaleComponent(i).get("type"))?"+":"";o.push.apply(o,Zg(u)),a.push(c),s.push({scaleName:e.scaleName(i),expr:"(!isArray(".concat(c,") || ")+"(".concat(h,"invert(").concat(d,", ").concat(f,")[0] === ").concat(h).concat(c,"[0] && ")+"".concat(h,"invert(").concat(d,", ").concat(f,")[1] === ").concat(h).concat(c,"[1]))")})}else rj("Interval selections only support x and y encoding channels.")})),i||o.push({name:n+"_scale_trigger",value:{},on:[{events:s.map((function(e){return{scale:e.scaleName}})),update:s.map((function(e){return e.expr})).join(" && ")+" ? ".concat(n+"_scale_trigger"," : {}")}]});var u=t.init,c="unit: ".concat(_V(e),", fields: ").concat(r,", values");return o.concat(Object.assign(Object.assign({name:n+pV},u?{init:"{".concat(c,": ").concat(iV(u),"}")}:{}),{on:[{events:[{signal:a.join(" || ")}],update:a.join(" && ")+" ? {".concat(c,": [").concat(a,"]} : null")}]}))},modifyExpr:function(e,t){return t.name+pV+", "+("global"===t.resolve?"true":"{unit: ".concat(_V(e),"}"))},marks:function(e,t,n){var r=t.name,i=t.project.hasChannel,o=i.x,a=i.y,s=o&&o.signals.visual,l=a&&a.signals.visual,u="data(".concat(Object(ne.Z)(t.name+hV),")");if(YU.has(t))return n;var c={x:void 0!==o?{signal:"".concat(s,"[0]")}:{value:0},y:void 0!==a?{signal:"".concat(l,"[0]")}:{value:0},x2:void 0!==o?{signal:"".concat(s,"[1]")}:{field:{group:"width"}},y2:void 0!==a?{signal:"".concat(l,"[1]")}:{field:{group:"height"}}};if("global"===t.resolve){var f,d=ni(kD(c));try{for(d.s();!(f=d.n()).done;){var h=f.value;c[h]=[Object.assign({test:"".concat(u,".length && ").concat(u,"[0].unit === ").concat(_V(e))},c[h]),{value:0}]}}catch(_){d.e(_)}finally{d.f()}}var p=t.mark,m=p.fill,v=p.fillOpacity,g=p.cursor,y=w(p,["fill","fillOpacity","cursor"]),b=kD(y).reduce((function(e,t){return e[t]=[{test:[void 0!==o&&"".concat(s,"[0] !== ").concat(s,"[1]"),void 0!==a&&"".concat(l,"[0] !== ").concat(l,"[1]")].filter((function(e){return e})).join(" && "),value:y[t]},{value:null}],e}),{});return[{name:r+sV+"_bg",type:"rect",clip:!0,encode:{enter:{fill:{value:m},fillOpacity:{value:v}},update:c}}].concat(Zg(n),[{name:r+sV,type:"rect",clip:!0,encode:{enter:Object.assign(Object.assign({},g?{cursor:{value:g}}:{}),{fill:{value:"transparent"}}),update:Object.assign(Object.assign({},c),b)}}])}};function uV(e,t){return e.events.reduce((function(e,n){return n.between?t(e,n):(rj("".concat(n," is not an ordered event stream for interval selections.")),e)}),[])}function cV(e,t){var n=t.name,r=n+"_tuple_fields",i=t.project,o="(item().isVoronoi ? datum.datum : datum)",a=i.items.map((function(t){var n=e.fieldDef(t.channel);return n&&n.bin?"[".concat(o,"[").concat(Object(ne.Z)(e.vgField(t.channel,{})),"], ")+"".concat(o,"[").concat(Object(ne.Z)(e.vgField(t.channel,{binSuffix:"end"})),"]]"):"".concat(o,"[").concat(Object(ne.Z)(t.field),"]")})).join(", "),s="unit: ".concat(_V(e),", fields: ").concat(r,", values"),l=t.events;return[{name:n+pV,on:l?[{events:l,update:"datum && item().mark.marktype !== 'group' ? {".concat(s,": [").concat(a,"]} : null"),force:!0}]:[]}]}var fV={signals:cV,modifyExpr:function(e,t){return t.name+pV+", "+("global"===t.resolve?"null":"{unit: ".concat(_V(e),"}"))}},dV={signals:cV,modifyExpr:function(e,t){return t.name+pV+", "+("global"===t.resolve?"true":"{unit: ".concat(_V(e),"}"))}},hV="_store",pV="_tuple",mV="_modify",vV="vlSelectionResolve",gV={single:dV,multi:fV,interval:lV};function yV(e,t){var n=e.component.selection;if(n){var r,i=ni(OD(n));try{for(i.s();!(r=i.n()).done;){var o=r.value;if(!0===t(o,gV[o.type]))break}}catch(a){i.e(a)}finally{i.f()}}}function bV(e){for(var t=e.parent;t&&!cq(t);)t=t.parent;return t}function _V(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{escape:!0},n=t.escape,r=n?Object(ne.Z)(e.name):e.name,i=bV(e);if(i){var o,a=i.facet,s=ni(ZN);try{for(s.s();!(o=s.n()).done;){var l=o.value;a[l]&&(r+=" + '__facet_".concat(l,"_' + (facet[").concat(Object(ne.Z)(i.vgField(l)),"])"))}}catch(u){s.e(u)}finally{s.f()}}return r}function xV(e){var t=!1;return yV(e,(function(e){t=t||e.project.items.some((function(e){return"_vgsid_"===e.field}))})),t}function wV(e){var t=AO(e),n=new Set;return t.visit((function(e){"MemberExpression"===e.type&&function e(t){return"MemberExpression"===t.object.type?e(t.object):"datum"===t.object.name}(e)&&n.add(function e(t){var n=[];return"Identifier"===t.type?[t.name]:"Literal"===t.type?[t.value]:("MemberExpression"===t.type&&(n.push.apply(n,Zg(e(t.object))),n.push.apply(n,Zg(e(t.property)))),n)}(e).slice(1).join("."))})),n}var EV=function(e){cH(n,e);var t=pH(n);function n(e,r,i){var o;return JT(this,n),(o=t.call(this,e)).model=r,o.filter=i,o.expr=kV(o.model,o.filter,dH(o)),o._dependentFields=wV(o.expr),o}return tS(n,[{key:"clone",value:function(){return new n(null,this.model,dD(this.filter))}},{key:"dependentFields",value:function(){return this._dependentFields}},{key:"producedFields",value:function(){return new Set}},{key:"assemble",value:function(){return{type:"filter",expr:this.expr}}},{key:"hash",value:function(){return"Filter ".concat(this.expr)}}]),n}(zU);function TV(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"datum",i=[];function o(t){var o=AD(t),a=e.getSelectionComponent(o,t),s=Object(ne.Z)(o+hV);if(a.project.timeUnit){var l=null!==n&&void 0!==n?n:e.component.data.raw,u=a.project.timeUnit.clone();l.parent?u.insertAsParentOf(l):l.parent=u}return"none"!==a.empty&&i.push(s),"vlSelectionTest(".concat(s,", ").concat(r)+("global"===a.resolve?")":", ".concat(Object(ne.Z)(a.resolve),")"))}var a=MD(t,o);return(i.length?"!("+i.map((function(e){return"length(data(".concat(e,"))")})).join(" || ")+") || ":"")+"(".concat(a,")")}function SV(e,t){var n=t.encoding,r=t.field;if(n||r){if(n&&!r){var i=e.project.items.filter((function(e){return e.channel===n}));!i.length||i.length>1?(r=e.project.items[0].field,rj((i.length?"Multiple ":"No ")+"matching ".concat(Object(ne.Z)(n)," encoding found for selection ").concat(Object(ne.Z)(t.selection),". ")+'Using "field": '.concat(Object(ne.Z)(r),"."))):r=i[0].field}}else r=e.project.items[0].field,e.project.items.length>1&&rj('A "field" or "encoding" must be specified when using a selection as a scale domain. '+'Using "field": '.concat(Object(ne.Z)(r),"."));return"".concat(e.name,"[").concat(Object(ne.Z)(r),"]")}function kV(e,t,n){return MD(t,(function(t){return Object(ne.H)(t)?t:function(e){return null===e||void 0===e?void 0:e.selection}(t)?TV(e,t.selection,n):zj(t)}))}function OV(e,t){if(e)return Object(ne.A)(e)&&!qB(e)?e.map((function(e){return PB(e,t)})).join(", "):e}function CV(e,t,n,r){var i,o,a;e.encode=null!==(i=e.encode)&&void 0!==i?i:{},e.encode[t]=null!==(o=e.encode[t])&&void 0!==o?o:{},e.encode[t].update=null!==(a=e.encode[t].update)&&void 0!==a?a:{},e.encode[t].update[n]=r}function AV(e){return Tj(e)?e.signal:Object(ne.Z)(e.value)}function MV(e,t,n){var r,i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{header:!1},a=e.combine(),s=a.disable,l=a.orient,u=a.scale,c=a.labelExpr,f=a.title,d=a.zindex,h=w(a,["disable","orient","scale","labelExpr","title","zindex"]);if(!s){for(var p in h){var m=$D[p],v=h[p];if(m&&m!==t&&"both"!==m)delete h[p];else if(YD(v)){var g=v.condition,y=w(v,["condition"]),b=Object(ne.i)(g),_=qD[p];if(_){var x=_.vgProp,E=_.part,T=[].concat(Zg(b.map((function(e){var t=e.test,n=w(e,["test"]);return Object.assign({test:kV(null,t)},n)}))),[y]);CV(h,E,x,T),delete h[p]}else if(null===_){var S={signal:b.map((function(e){var t=e.test,n=w(e,["test"]);return"".concat(kV(null,t)," ? ").concat(AV(n)," : ")})).join("")+AV(y)};h[p]=S}}else if(Tj(v)){var k=qD[p];if(k){var O=k.vgProp,C=k.part;CV(h,C,O,v),delete h[p]}}}if("grid"===t){if(!h.grid)return;if(h.encode){var A=h.encode.grid;h.encode=Object.assign({},A?{grid:A}:{}),0===kD(h.encode).length&&delete h.encode}return Object.assign(Object.assign({scale:u,orient:l},h),{domain:!1,labels:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:zD(d,0)})}if(o.header||!e.mainExtracted){if(void 0!==c){var M=c;(null===(i=null===(r=h.encode)||void 0===r?void 0:r.labels)||void 0===i?void 0:i.update)&&Tj(h.encode.labels.update.text)&&(M=jD(c,"datum.label",h.encode.labels.update.text.signal)),CV(h,"labels","text",{signal:M})}if(null===h.labelAlign&&delete h.labelAlign,h.encode){var P,I=ni(XD);try{for(I.s();!(P=I.n()).done;){var D=P.value;e.hasAxisPart(D)||delete h.encode[D]}}catch(R){I.e(R)}finally{I.f()}0===kD(h.encode).length&&delete h.encode}var N=OV(f,n);return Object.assign(Object.assign(Object.assign({scale:u,orient:l,grid:!1},N?{title:N}:{}),h),{zindex:zD(d,0)})}}}function PV(e){var t,n=e.component.axes,r=[],i=ni(dR);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(n[o]){var a,s=ni(n[o]);try{for(s.s();!(a=s.n()).done;){var l=a.value;if(!l.get("disable")&&!l.get("gridScale")){var u="x"===o?"height":"width",c=e.getSizeSignalRef(u).signal;u!==c&&r.push({name:u,update:c})}}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return r}var IV={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},DV={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},NV=kD(IV),RV=kD(DV);function LV(e){return Tj(e)?e.signal:Object(ne.Z)(e)}function jV(e,t,n,r){return Object.assign.apply(null,[{}].concat(Zg(e.map((function(e){if("axisOrient"===e){var i,o="x"===n?"bottom":"left",a=t["x"===n?"axisBottom":"axisLeft"]||{},s=t["x"===n?"axisTop":"axisRight"]||{},l={},u=ni(new Set([].concat(Zg(kD(a)),Zg(kD(s)))).values());try{for(u.s();!(i=u.n()).done;){var c=i.value;l[c]={signal:"".concat(r.signal,' === "').concat(o,'" ? ').concat(LV(a[c])," : ").concat(LV(s[c]))}}}catch(f){u.e(f)}finally{u.f()}return l}return t[e]})))))}function FV(e,t,n,r){var i="band"===t?["axisDiscrete","axisBand"]:"point"===t?["axisDiscrete","axisPoint"]:t in mF?["axisQuantitative"]:"time"===t||"utc"===t?["axisTemporal"]:[],o="x"===e?"axisX":"axisY",a=Tj(n)?"axisOrient":"axis"+ID(n),s=[].concat(i,Zg(i.map((function(e){return o+e.substr(4)})))),l=["axis",a,o];return{vlOnlyAxisConfig:jV(s,r,e,n),vgAxisConfig:jV(l,r,e,n),axisConfigStyle:BV([].concat(l,Zg(s)),r)}}function BV(e,t){var n,r,i=[{}],o=ni(e);try{for(o.s();!(r=o.n()).done;){var a=null===(n=t[r.value])||void 0===n?void 0:n.style;if(a){var s,l=ni(a=Object(ne.i)(a));try{for(l.s();!(s=l.n()).done;){var u=s.value;i.push(t.style[u])}}catch(c){l.e(c)}finally{l.f()}}}}catch(c){o.e(c)}finally{o.f()}return Object.assign.apply(null,i)}function zV(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=QB(e,n,t.style);if(void 0!==o)return{configFrom:"style",configValue:o};for(var a=0,s=["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"];a<s.length;a++){var l=s[a];if(void 0!==(null===(r=i[l])||void 0===r?void 0:r[e]))return{configFrom:l,configValue:i[l][e]}}return{}}var HV={scale:function(e){var t=e.model,n=e.channel;return t.scaleName(n)},format:function(e){var t=e.fieldOrDatumDef,n=e.axis,r=e.config;if(!zB(t)&&!HB(t,r))return GF(t.type,n.format,r)},formatType:function(e){var t=e.fieldOrDatumDef,n=e.axis,r=e.config;if(!zB(t)&&!HB(t,r)){var i=n.formatType;return i&&(Tj(i)||"number"===i||"time"===i||"utc"===i)?i:void 0}},grid:function(e){var t,n=e.fieldOrDatumDef,r=e.axis,i=e.scaleType;return(!uB(n)||!CR(n.bin))&&(null!==(t=r.grid)&&void 0!==t?t:function(e,t){return!_F(e)&&uB(t)&&!OR(null===t||void 0===t?void 0:t.bin)}(i,n))},gridScale:function(e){return function(e,t){var n="x"===t?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n);return}(e.model,e.channel)},labelAlign:function(e){var t=e.axis,n=e.labelAngle,r=e.orient,i=e.channel;return t.labelAlign||GV(n,r,i)},labelAngle:function(e){return e.labelAngle},labelBaseline:function(e){var t=e.axis,n=e.labelAngle,r=e.orient,i=e.channel;return t.labelBaseline||VV(n,r,i)},labelFlush:function(e){var t,n=e.axis,r=e.fieldOrDatumDef,i=e.channel;return null!==(t=n.labelFlush)&&void 0!==t?t:function(e,t){if("x"===t&&yD(["quantitative","temporal"],e))return!0;return}(r.type,i)},labelOverlap:function(e){var t,n=e.axis,r=e.fieldOrDatumDef,i=e.scaleType;return null!==(t=n.labelOverlap)&&void 0!==t?t:function(e,t){if("nominal"!==e)return"log"!==t||"greedy";return}(r.type,i)},orient:function(e){return e.orient},tickCount:function(e){var t,n=e.channel,r=e.model,i=e.axis,o=e.fieldOrDatumDef,a=e.scaleType,s="x"===n?"width":"y"===n?"height":void 0,l=s?r.getSizeSignalRef(s):void 0;return null!==(t=i.tickCount)&&void 0!==t?t:function(e){var t,n=e.fieldOrDatumDef,r=e.scaleType,i=e.size;if(!e.values&&!_F(r)&&"log"!==r){if(uB(n)){if(OR(n.bin))return{signal:"ceil(".concat(i.signal,"/10)")};if(n.timeUnit&&yD(["month","hours","day","quarter"],null===(t=xj(n.timeUnit))||void 0===t?void 0:t.unit))return}return{signal:"ceil(".concat(i.signal,"/40)")}}return}({fieldOrDatumDef:o,scaleType:a,size:l,values:i.values})},title:function(e){var t=e.axis,n=e.model,r=e.channel;if(void 0!==t.title)return t.title;var i=WV(n,r);if(void 0!==i)return i;var o=n.typedFieldDef(r),a="x"===r?"x2":"y2",s=n.fieldDef(a);return ez(o?[nB(o)]:[],uB(s)?[nB(s)]:[])},values:function(e){return function(e,t){var n=e.values;if(Object(ne.A)(n))return VB(t,n);if(Tj(n))return n;return}(e.axis,e.fieldOrDatumDef)},zindex:function(e){var t,n=e.axis,r=e.fieldOrDatumDef,i=e.mark;return null!==(t=n.zindex)&&void 0!==t?t:function(e,t){if("rect"===e&&wB(t))return 1;return 0}(i,r)}};function UV(e){return"(((".concat(e.signal," % 360) + 360) % 360)")}function VV(e,t,n,r){if(void 0!==e){if("x"===n){if(Tj(e)){var i=UV(e),o=Tj(t)?"(".concat(t.signal,' === "top")'):"top"===t;return{signal:"(45 < ".concat(i," && ").concat(i," < 135) || (225 < ").concat(i," && ").concat(i,' < 315) ? "middle" :')+"(".concat(i," <= 45 || 315 <= ").concat(i,") === ").concat(o,' ? "bottom" : "top"')}}if(45<e&&e<135||225<e&&e<315)return"middle";if(Tj(t)){var a=e<=45||315<=e?"===":"!==";return{signal:"".concat(t.signal," ").concat(a,' "top" ? "bottom" : "top"')}}return(e<=45||315<=e)===("top"===t)?"bottom":"top"}if(Tj(e)){var s=UV(e),l=Tj(t)?"(".concat(t.signal,' === "left")'):"left"===t,u=r?'"middle"':"null";return{signal:"".concat(s," <= 45 || 315 <= ").concat(s," || (135 <= ").concat(s," && ").concat(s," <= 225) ? ").concat(u," : (45 <= ").concat(s," && ").concat(s," <= 135) === ").concat(l,' ? "top" : "bottom"')}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(Tj(t)){var c=45<=e&&e<=135?"===":"!==";return{signal:"".concat(t.signal," ").concat(c,' "left" ? "top" : "bottom"')}}return(45<=e&&e<=135)===("left"===t)?"top":"bottom"}}function GV(e,t,n){if(void 0!==e){var r="x"===n,i=r?0:90,o=r?"bottom":"left";if(Tj(e)){var a=UV(e),s=Tj(t)?"(".concat(t.signal,' === "').concat(o,'")'):t===o;return{signal:"(".concat(i?"("+a+" + 90)":a," % 180 === 0) ? ").concat(r?null:'"center"'," :")+"(".concat(i," < ").concat(a," && ").concat(a," < ").concat(180+i,") === ").concat(s,' ? "left" : "right"')}}if((e+i)%180===0)return r?null:"center";if(Tj(t)){var l=i<e&&e<180+i?"===":"!==",u="".concat(t.signal," ").concat(l,' "').concat(o,'"');return{signal:"".concat(u,' ? "left" : "right"')}}return(i<e&&e<180+i)===(t===o)?"left":"right"}}function WV(e,t){var n="x"===t?"x2":"y2",r=e.fieldDef(t),i=e.fieldDef(n),o=r?r.title:void 0,a=i?i.title:void 0;return o&&a?tz(o,a):o||(a||(void 0!==o?o:void 0!==a?a:void 0))}var qV=function(e){cH(n,e);var t=pH(n);function n(e,r){var i;return JT(this,n),(i=t.call(this,e)).transform=r,i._dependentFields=wV(i.transform.calculate),i}return tS(n,[{key:"clone",value:function(){return new n(null,dD(this.transform))}},{key:"producedFields",value:function(){return new Set([this.transform.as])}},{key:"dependentFields",value:function(){return this._dependentFields}},{key:"assemble",value:function(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}},{key:"hash",value:function(){return"Calculate ".concat(vD(this.transform))}}],[{key:"parseAllForSortIndex",value:function(e,t){return t.forEachFieldDef((function(t,r){if(gB(t)&&QF(t.sort)){var i=t.field,o=t.timeUnit,a=t.sort,s=a.map((function(e,t){return"".concat(zj({field:i,timeUnit:o,equal:e})," ? ").concat(t," : ")})).join("")+a.length;e=new n(e,{calculate:s,as:YV(t,r,{forAs:!0})})}})),e}}]),n}(zU);function YV(e,t,n){return xB(e,Object.assign({prefix:t,suffix:"sort_index"},null!==n&&void 0!==n?n:{}))}function XV(e,t){return yD(["top","bottom"],t)?"column":yD(["left","right"],t)||"row"===e?"row":"column"}function $V(e,t,n,r){var i="row"===r?n.headerRow:"column"===r?n.headerColumn:n.headerFacet;return zD(((null===t||void 0===t?void 0:t.header)||{})[e],i[e],n.header[e])}function KV(e,t,n,r){var i,o={},a=ni(e);try{for(a.s();!(i=a.n()).done;){var s=i.value,l=$V(s,t,n,r);void 0!==l&&(o[s]=l)}}catch(u){a.e(u)}finally{a.f()}return o}var ZV=["row","column"],QV=["header","footer"];function JV(e,t){var n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,i=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,o=KV(["titleAnchor","titleAngle","titleOrient"],i,r,t),a=o.titleAnchor,s=o.titleAngle,l=XV(t,o.titleOrient),u=GD(s);return{name:"".concat(t,"-title"),type:"group",role:"".concat(l,"-title"),title:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:n},"row"===t?{orient:"left"}:{}),{style:"guide-title"}),tG(u,l)),eG(l,u,a)),lG(r,i,t,NV,IV))}}function eG(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"middle";switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}var r=GV(t,"row"===e?"left":"top","row"===e?"y":"x");return r?{align:r}:{}}function tG(e,t){var n=VV(e,"row"===t?"left":"top","row"===t?"y":"x",!0);return n?{baseline:n}:{}}function nG(e,t){var n,r=e.component.layoutHeaders[t],i=[],o=ni(QV);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(r[a]){var s,l=ni(r[a]);try{for(l.s();!(s=l.n()).done;){var u=oG(e,t,a,r,s.value);null!=u&&i.push(u)}}catch(c){l.e(c)}finally{l.f()}}}}catch(c){o.e(c)}finally{o.f()}return i}function rG(e,t){var n,r=e.sort;return ZF(r)?{field:xB(r,{expr:"datum"}),order:null!==(n=r.order)&&void 0!==n?n:"ascending"}:Object(ne.A)(r)?{field:YV(e,t,{expr:"datum"}),order:"ascending"}:{field:xB(e,{expr:"datum"}),order:null!==r&&void 0!==r?r:"ascending"}}function iG(e,t,n){var r=KV(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e,n,t),i=r.format,o=r.formatType,a=r.labelAngle,s=r.labelAnchor,l=r.labelOrient,u=r.labelExpr,c=VF({fieldOrDatumDef:e,format:i,formatType:o,expr:"parent",config:n}).signal,f=XV(t,l);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:{signal:u?jD(jD(u,"datum.label",c),"datum.value",xB(e,{expr:"parent"})):c}},"row"===t?{orient:"left"}:{}),{style:"guide-label",frame:"group"}),tG(a,f)),eG(f,a,s)),lG(n,e,t,RV,DV))}function oG(e,t,n,r,i){if(i){var o=null,a=r.facetFieldDef,s=e.config?e.config:void 0;if(a&&i.labels){var l=KV(["labelOrient"],a,s,t).labelOrient;("row"===t&&!yD(["top","bottom"],l)||"column"===t&&!yD(["left","right"],l))&&(o=iG(a,t,s))}var u=cq(e)&&!JF(e.facet),c=i.axes,f=(null===c||void 0===c?void 0:c.length)>0;if(o||f){var d="row"===t?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:e.getName("".concat(t,"_").concat(n)),type:"group",role:"".concat(t,"-").concat(n)},r.facetFieldDef?{from:{data:e.getName(t+"_domain")},sort:rG(a,t)}:{}),f&&u?{from:{data:e.getName("facet_domain_".concat(t))}}:{}),o?{title:o}:{}),i.sizeSignal?{encode:{update:$a({},d,i.sizeSignal)}}:{}),f?{axes:c}:{})}}return null}var aG={column:{start:0,end:1},row:{start:1,end:0}};function sG(e,t){return aG[t][e]}function lG(e,t,n,r,i){var o,a={},s=ni(r);try{for(s.s();!(o=s.n()).done;){var l=o.value;if(i[l]){var u=$V(l,t,e,n);void 0!==u&&(a[i[l]]=u)}}}catch(c){s.e(c)}finally{s.f()}return a}function uG(e){return[].concat(Zg(cG(e,"width")),Zg(cG(e,"height")),Zg(cG(e,"childWidth")),Zg(cG(e,"childHeight")))}function cG(e,t){var n="width"===t?"x":"y",r=e.component.layoutSize.get(t);if(!r||"merged"===r)return[];var i=e.getSizeSignalRef(t).signal;if("step"===r){var o=e.getScaleComponent(n);if(o){var a=o.get("type"),s=o.get("range");if(_F(a)&&Sj(s)){var l=e.scaleName(n);if(cq(e.parent))if("independent"===e.parent.component.resolve.scale[n])return[fG(l,s)];return[fG(l,s),{name:i,update:dG(l,o,"domain('".concat(l,"').length"))}]}}throw new Error("layout size is step although width/height is not step.")}if("container"==r){var u=i.endsWith("width"),c=u?"containerSize()[0]":"containerSize()[1]",f=Gz(e.config.view,u?"width":"height"),d="isFinite(".concat(c,") ? ").concat(c," : ").concat(f);return[{name:i,init:d,on:[{update:d,events:"window:resize"}]}]}return[{name:i,value:r}]}function fG(e,t){return{name:e+"_step",value:t.step}}function dG(e,t,n){var r=t.get("type"),i=t.get("padding"),o=zD(t.get("paddingOuter"),i),a=t.get("paddingInner");return a="band"===r?void 0!==a?a:i:1,"bandspace(".concat(n,", ").concat(a,", ").concat(o,") * ").concat(e,"_step")}function hG(e){return"childWidth"===e?"width":"childHeight"===e?"height":e}function pG(e,t){return kD(e).reduce((function(n,r){var i=e[r];return Object.assign(Object.assign({},n),vU(t,i,r,(function(e){return Tj(e)?e:{value:e.value}})))}),{})}function mG(e,t){if(dq(t)||cq(t))return"shared";if(fq(t))return hR(e)?"independent":"shared";throw new Error("invalid model type for resolve")}function vG(e,t){var n=e.scale[t],r=hR(t)?"axis":"legend";return"independent"===n?("shared"===e[r][t]&&rj(QL.independentScaleMeansIndependentGuide(t)),"independent"):e[r][t]||"shared"}var gG=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};JT(this,e),this.explicit=t,this.implicit=n}return tS(e,[{key:"clone",value:function(){return new e(dD(this.explicit),dD(this.implicit))}},{key:"combine",value:function(){return Object.assign(Object.assign({},this.explicit),this.implicit)}},{key:"get",value:function(e){return zD(this.explicit[e],this.implicit[e])}},{key:"getWithExplicit",value:function(e){return void 0!==this.explicit[e]?{explicit:!0,value:this.explicit[e]}:void 0!==this.implicit[e]?{explicit:!1,value:this.implicit[e]}:{explicit:!1,value:void 0}}},{key:"setWithExplicit",value:function(e,t){void 0!==t.value&&this.set(e,t.value,t.explicit)}},{key:"set",value:function(e,t,n){return delete this[n?"implicit":"explicit"][e],this[n?"explicit":"implicit"][e]=t,this}},{key:"copyKeyFromSplit",value:function(e,t){void 0!==t.explicit[e]?this.set(e,t.explicit[e],!0):void 0!==t.implicit[e]&&this.set(e,t.implicit[e],!1)}},{key:"copyKeyFromObject",value:function(e,t){void 0!==t[e]&&this.set(e,t[e],!0)}},{key:"copyAll",value:function(e){var t,n=ni(kD(e.combine()));try{for(n.s();!(t=n.n()).done;){var r=t.value,i=e.getWithExplicit(r);this.setWithExplicit(r,i)}}catch(o){n.e(o)}finally{n.f()}}}]),e}();function yG(e){return{explicit:!0,value:e}}function bG(e){return{explicit:!1,value:e}}function _G(e){return function(t,n,r,i){var o=e(t.value,n.value);return o>0?t:o<0?n:xG(t,n,r,i)}}function xG(e,t,n,r){return e.explicit&&t.explicit&&rj(QL.mergeConflictingProperty(n,r,e.value,t.value)),e}function wG(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:xG;return void 0===e||void 0===e.value?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:fD(e.value,t.value)?e:i(e,t,n,r)}var EG=Object.assign(Object.assign({},Nz),{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),TG=kD(EG),SG=function(e){cH(n,e);var t=pH(n);function n(){return JT(this,n),t.apply(this,arguments)}return n}(gG),kG={symbols:function(e,t){var n,r,i,o,a,s=t.fieldOrDatumDef,l=t.model,u=t.channel,c=t.legendCmpt;if("symbol"!==t.legendType)return;var f=l.markDef,d=l.encoding,h=l.config,p=l.mark,m=f.filled&&"trail"!==p,v=Object.assign(Object.assign({},function(e,t,n){var r,i=ni(n);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=KB(o,t.markDef,t.config);void 0!==a&&(e[o]=YB(a))}}catch(s){i.e(s)}finally{i.f()}return e}({},l,yN)),yU(l,{filled:m})),g=null!==(n=OG(d.opacity))&&void 0!==n?n:f.opacity;if(v.fill)if("fill"===u||m&&u===BN)delete v.fill;else if(v.fill.field)c.get("symbolFillColor")?delete v.fill:(v.fill=YB(null!==(r=h.legend.symbolBaseFillColor)&&void 0!==r?r:"black"),v.fillOpacity=YB(null!==g&&void 0!==g?g:1));else if(Object(ne.A)(v.fill)){var y=null!==(a=null!==(o=CG(null!==(i=d.fill)&&void 0!==i?i:d.color))&&void 0!==o?o:f.fill)&&void 0!==a?a:m&&f.color;y&&(v.fill=YB(y))}if(v.stroke)if("stroke"===u||!m&&u===BN)delete v.stroke;else if(v.stroke.field)delete v.stroke;else if(Object(ne.A)(v.stroke)){var b=zD(CG(d.stroke||d.color),f.stroke,m?f.color:void 0);b&&(v.stroke={value:b})}if("opacity"!==u){var _=uB(s)&&MG(l,c,s);_?v.opacity=[Object.assign({test:_},YB(null!==g&&void 0!==g?g:1)),YB(h.legend.unselectedOpacity)]:g&&(v.opacity=YB(g))}return v=Object.assign(Object.assign({},v),e),kD(v).length>0?v:void 0},gradient:function(e,t){var n=t.model;if("gradient"!==t.legendType)return;var r={},i=OG(n.encoding.opacity)||n.markDef.opacity;i&&(r.opacity=YB(i));return r=Object.assign(Object.assign({},r),e),kD(r).length>0?r:void 0},labels:function(e,t){var n=t.fieldOrDatumDef,r=t.model,i=t.channel,o=t.legendCmpt,a=r.legend(i)||{},s=r.config,l=uB(n)?MG(r,o,n):void 0,u=l?[{test:l,value:1},{value:s.legend.unselectedOpacity}]:void 0,c=a.format,f=a.formatType,d=VF({fieldOrDatumDef:n,format:c,formatType:f,field:"datum.value",config:s,isUTCScale:r.getScaleComponent(i).get("type")===nF,omitNumberFormatAndEmptyTimeFormat:!0}),h=Object.assign(Object.assign(Object.assign({},u?{opacity:u}:{}),d?{text:d}:{}),e);return kD(h).length>0?h:void 0},entries:function(e,t){var n=t.legendCmpt.get("selections");return(null===n||void 0===n?void 0:n.length)?Object.assign(Object.assign({},e),{fill:{value:"transparent"}}):e}};function OG(e){return AG(e,(function(e,t){return Math.max(e,t.value)}))}function CG(e){return AG(e,(function(e,t){return zD(e,t.value)}))}function AG(e,t){return function(e){var t=e&&e.condition;return!!t&&(Object(ne.A)(t)||vB(t))}(e)?Object(ne.i)(e.condition).reduce(t,e.value):vB(e)?e.value:void 0}function MG(e,t,n){var r=t.get("selections");if(null===r||void 0===r?void 0:r.length){var i=Object(ne.Z)(n.field);return r.map((function(e){var t=Object(ne.Z)(AD(e)+hV);return"(!length(data(".concat(t,")) || (").concat(e,"[").concat(i,"] && indexof(").concat(e,"[").concat(i,"], datum.value) >= 0))")})).join(" || ")}}var PG={direction:function(e){return e.direction},format:function(e){var t=e.fieldOrDatumDef,n=e.legend,r=e.config;if(!zB(t)&&!HB(t,r))return GF(t.type,n.format,r)},formatType:function(e){var t=e.fieldOrDatumDef,n=e.legend,r=e.config;if(!zB(t)&&!HB(t,r)){var i=n.formatType;return i&&(Tj(i)||"number"===i||"time"===i||"utc"===i)?i:void 0}},gradientLength:function(e){var t,n,r=e.legend,i=e.legendConfig;return null!==(n=null!==(t=r.gradientLength)&&void 0!==t?t:i.gradientLength)&&void 0!==n?n:function(e){var t=e.legendConfig,n=e.model,r=e.direction,i=e.orient,o=e.scaleType,a=t.gradientHorizontalMaxLength,s=t.gradientHorizontalMinLength,l=t.gradientVerticalMaxLength,u=t.gradientVerticalMinLength;if(wF(o))return"horizontal"===r?"top"===i||"bottom"===i?NG(n,"width",s,a):s:NG(n,"height",u,l);return}(e)},labelOverlap:function(e){var t,n,r=e.legend,i=e.legendConfig,o=e.scaleType;return null!==(n=null!==(t=r.labelOverlap)&&void 0!==t?t:i.labelOverlap)&&void 0!==n?n:function(e){if(yD(["quantile","threshold","log"],e))return"greedy";return}(o)},symbolType:function(e){var t,n=e.legend,r=e.markDef,i=e.channel,o=e.encoding;return null!==(t=n.symbolType)&&void 0!==t?t:function(e,t,n,r){var i;if("shape"!==t){var o=null!==(i=CG(n))&&void 0!==i?i:r;if(o)return o}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}(r.type,i,o.shape,r.shape)},title:function(e){return AB(e.fieldOrDatumDef,e.config,{allowDisabling:!0})},type:function(e){var t=e.legendType,n=e.scaleType;if($N(e.channel)&&wF(n)){if("gradient"===t)return}else if("symbol"===t)return;return t},values:function(e){var t=e.fieldOrDatumDef;return function(e,t){var n=e.values;if(Object(ne.A)(n))return VB(t,n);if(Tj(n))return n;return}(e.legend,t)}};function IG(e){return zD(e.legend.type,function(e){var t=e.channel,n=e.timeUnit,r=e.scaleType;if($N(t)){if(yD(["quarter","month","day"],n))return"symbol";if(wF(r))return"gradient"}return"symbol"}(e))}function DG(e){var t,n,r=e.legendConfig,i=e.legendType,o=e.orient;return null!==(n=null!==(t=e.legend.direction)&&void 0!==t?t:r[i?"gradientDirection":"symbolDirection"])&&void 0!==n?n:function(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return"gradient"===t?"horizontal":void 0}}(o,i)}function NG(e,t,n,r){var i=e.getSizeSignalRef(t).signal;return{signal:"clamp(".concat(i,", ").concat(n,", ").concat(r,")")}}function RG(e){uq(e)?e.component.legends=function(e){for(var t=e.encoding,n={},r=0,i=[BN].concat(Zg(Iz));r<i.length;r++){var o=i[r],a=NB(t[o]);a&&e.getScaleComponent(o)&&(o===UN&&uB(a)&&a.type===Xj||(n[o]=jG(e,o)))}return n}(e):e.component.legends=function(e){var t,n=e.component,r=n.legends,i=n.resolve,o=ni(e.children);try{for(o.s();!(t=o.n()).done;){var a=t.value;RG(a);var s,l=ni(kD(a.component.legends));try{for(l.s();!(s=l.n()).done;){var u=s.value;i.legend[u]=vG(e.component.resolve,u),"shared"===i.legend[u]&&(r[u]=FG(r[u],a.component.legends[u]),r[u]||(i.legend[u]="independent",delete r[u]))}}catch(v){l.e(v)}finally{l.f()}}}catch(v){o.e(v)}finally{o.f()}var c,f=ni(kD(r));try{for(f.s();!(c=f.n()).done;){var d,h=c.value,p=ni(e.children);try{for(p.s();!(d=p.n()).done;){var m=d.value;m.component.legends[h]&&("shared"===i.legend[h]&&delete m.component.legends[h])}}catch(v){p.e(v)}finally{p.f()}}}catch(v){f.e(v)}finally{f.f()}return r}(e)}function LG(e,t,n,r){switch(t){case"disable":return void 0!==n;case"values":return!!(null===n||void 0===n?void 0:n.values);case"title":if("title"===t&&e===(null===r||void 0===r?void 0:r.title))return!0}return e===(n||{})[t]}function jG(e,t){var n,r,i,o=e.legend(t),a=e.markDef,s=e.encoding,l=e.config,u=l.legend,c=new SG({},function(e,t){var n=e.scaleName(t);if("trail"===e.mark){if("color"===t)return{stroke:n};if("size"===t)return{strokeWidth:n}}return"color"===t?e.markDef.filled?{fill:n}:{stroke:n}:$a({},t,n)}(e,t));!function(e,t,n){var r,i=null===(r=e.fieldDef(t))||void 0===r?void 0:r.field;yV(e,(function(e){var r,o,a=null!==(r=e.project.hasField[i])&&void 0!==r?r:e.project.hasChannel[t];if(a&&KU.has(e)){var s=null!==(o=n.get("selections"))&&void 0!==o?o:[];s.push(e.name),n.set("selections",s,!1),a.hasLegend=!0}}))}(e,t,c);var f=void 0!==o?!o:u.disable;if(c.set("disable",f,void 0!==o),f)return c;o=o||{};var d,h=e.getScaleComponent(t).get("type"),p=NB(s[t]),m=uB(p)?null===(n=xj(p.timeUnit))||void 0===n?void 0:n.unit:void 0,v=o.orient||l.legend.orient||"right",g=IG({legend:o,channel:t,timeUnit:m,scaleType:h}),y={legend:o,channel:t,model:e,markDef:a,encoding:s,fieldOrDatumDef:p,legendConfig:u,config:l,scaleType:h,orient:v,legendType:g,direction:DG({legend:o,legendType:g,orient:v,legendConfig:u})},b=ni(TG);try{for(b.s();!(d=b.n()).done;){var _=d.value,x=_ in PG?PG[_](y):o[_];if(void 0!==x){var w=LG(x,_,o,e.fieldDef(t));(w||void 0===l.legend[_])&&c.set(_,x,w)}}}catch(I){b.e(I)}finally{b.f()}for(var E=null!==(r=null===o||void 0===o?void 0:o.encoding)&&void 0!==r?r:{},T=c.get("selections"),S={},k={fieldOrDatumDef:p,model:e,channel:t,legendCmpt:c,legendType:g},O=0,C=["labels","legend","title","symbols","gradient","entries"];O<C.length;O++){var A=C[O],M=pG(null!==(i=E[A])&&void 0!==i?i:{},e),P=A in kG?kG[A](M,k):M;void 0!==P&&kD(P).length>0&&(S[A]=Object.assign(Object.assign(Object.assign({},(null===T||void 0===T?void 0:T.length)&&uB(p)?{name:"".concat(AD(p.field),"_legend_").concat(A)}:{}),(null===T||void 0===T?void 0:T.length)?{interactive:!!T}:{}),{update:P}))}return kD(S).length>0&&c.set("encode",S,!!(null===o||void 0===o?void 0:o.encoding)),c}function FG(e,t){var n,r,i,o,a,s;if(!e)return t.clone();var l=e.getWithExplicit("orient"),u=t.getWithExplicit("orient");if(!l.explicit||!u.explicit||l.value===u.value){var c,f=!1,d=ni(TG);try{var h=function(){var n=c.value,r=wG(e.getWithExplicit(n),t.getWithExplicit(n),n,"legend",(function(e,t){switch(n){case"symbolType":return function(e,t){if("circle"===t.value)return t;return e}(e,t);case"title":return nz(e,t);case"type":return f=!0,bG("symbol")}return xG(e,t,n,"legend")}));e.setWithExplicit(n,r)};for(d.s();!(c=d.n()).done;)h()}catch(p){d.e(p)}finally{d.f()}return f&&((null===(i=null===(r=null===(n=e.implicit)||void 0===n?void 0:n.encode)||void 0===r?void 0:r.gradient)||void 0===i||i)&&PD(e.implicit,["encode","gradient"]),(null===(s=null===(a=null===(o=e.explicit)||void 0===o?void 0:o.encode)||void 0===a?void 0:a.gradient)||void 0===s||s)&&PD(e.explicit,["encode","gradient"])),e}}function BG(e,t,n,r){var i,o,a;e.encode=null!==(i=e.encode)&&void 0!==i?i:{},e.encode[t]=null!==(o=e.encode[t])&&void 0!==o?o:{},e.encode[t].update=null!==(a=e.encode[t].update)&&void 0!==a?a:{},e.encode[t].update[n]=r}function zG(e){var t,n=e.component.legends,r={},i=ni(kD(n));try{for(i.s();!(t=i.n()).done;){var o=t.value,a=e.getScaleComponent(o),s=mD(a.get("domains"));if(r[s]){var l,u=ni(r[s]);try{for(u.s();!(l=u.n()).done;){FG(l.value,n[o])||r[s].push(n[o])}}catch(c){u.e(c)}finally{u.f()}}else r[s]=[n[o].clone()]}}catch(c){i.e(c)}finally{i.f()}return OD(r).flat().map(HG).filter((function(e){return void 0!==e}))}function HG(e){var t,n,r,i,o=e.combine(),a=o.disable,s=o.labelExpr,l=(o.selections,w(o,["disable","labelExpr","selections"]));if(!a){if(null===(t=l.encode)||void 0===t?void 0:t.symbols){var u=l.encode.symbols.update;!u.fill||"transparent"===u.fill.value||u.stroke||l.stroke||(u.stroke={value:"transparent"});var c,f=ni(Iz);try{for(f.s();!(c=f.n()).done;){var d=c.value;l[d]&&delete u[d]}}catch(y){f.e(y)}finally{f.f()}}if(l.title||delete l.title,void 0!==s){var h=s;(null===(i=null===(r=null===(n=l.encode)||void 0===n?void 0:n.labels)||void 0===r?void 0:r.update)||void 0===i?void 0:i.text)&&Tj(l.encode.labels.update.text)&&(h=jD(s,"datum.label",l.encode.labels.update.text.signal)),BG(l,"labels","text",{signal:h})}for(var p in l){var m=l[p];if(Tj(m)){var v=Dz[p];if(v){var g=v.vgProp;BG(l,v.part,g,m),delete l[p]}}}return l}}function UG(e){return dq(e)||fq(e)?function(e){return e.children.reduce((function(e,t){return e.concat(t.assembleProjections())}),VG(e))}(e):VG(e)}function VG(e){var t=e.component.projection;if(!t||t.merged)return[];var n=t.combine(),r=n.name;if(t.data){var i={signal:"[".concat(t.size.map((function(e){return e.signal})).join(", "),"]")},o=t.data.reduce((function(t,n){var r=Tj(n)?n.signal:"data('".concat(e.lookupDataSource(n),"')");return yD(t,r)||t.push(r),t}),[]);if(o.length<=0)throw new Error("Projection's fit didn't find any data sources");return[Object.assign({name:r,size:i,fit:{signal:o.length>1?"[".concat(o.join(", "),"]"):o[0]}},n)]}return[Object.assign(Object.assign({name:r},{translate:{signal:"[width / 2, height / 2]"}}),n)]}var GG=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"],WG=function(e){cH(n,e);var t=pH(n);function n(e,r,i,o){var a;return JT(this,n),(a=t.call(this,Object.assign({},r),{name:e})).specifiedProjection=r,a.size=i,a.data=o,a.merged=!1,a}return tS(n,[{key:"isFit",get:function(){return!!this.data}}]),n}(gG);function qG(e){e.component.projection=uq(e)?function(e){var t;if(e.hasProjection){var n=e.specifiedProjection,r=!(n&&(null!=n.scale||null!=n.translate)),i=r?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,o=r?function(e){for(var t=[],n=e.encoding,r=0,i=[["longitude","latitude"],["longitude2","latitude2"]];r<i.length;r++){var o=i[r];(NB(n[o[0]])||NB(n[o[1]]))&&t.push({signal:e.getName("geojson_".concat(t.length))})}e.channelHasField(UN)&&e.typedFieldDef(UN).type===Xj&&t.push({signal:e.getName("geojson_".concat(t.length))});0===t.length&&t.push(e.requestDataName(ZH));return t}(e):void 0;return new WG(e.projectionName(!0),Object.assign(Object.assign({},null!==(t=e.config.projection)&&void 0!==t?t:{}),null!==n&&void 0!==n?n:{}),i,o)}return}(e):function(e){if(0===e.children.length)return;var t,n,r=ni(e.children);try{for(r.s();!(n=r.n()).done;){qG(n.value)}}catch(d){r.e(d)}finally{r.f()}var i=_D(e.children,(function(e){var n=e.component.projection;if(n){if(t){var r=function(e,t){var n=_D(GG,(function(n){return!Object(ne.v)(e.explicit,n)&&!Object(ne.v)(t.explicit,n)||!(!Object(ne.v)(e.explicit,n)||!Object(ne.v)(t.explicit,n)||mD(e.get(n))!==mD(t.get(n)))}));if(mD(e.size)===mD(t.size)){if(n)return e;if(mD(e.explicit)===mD({}))return t;if(mD(t.explicit)===mD({}))return e}return null}(t,n);return r&&(t=r),!!r}return t=n,!0}return!0}));if(t&&i){var o,a=e.projectionName(!0),s=new WG(a,t.specifiedProjection,t.size,dD(t.data)),l=ni(e.children);try{for(l.s();!(o=l.n()).done;){var u=o.value,c=u.component.projection;if(c){var f;if(c.isFit)(f=s.data).push.apply(f,Zg(u.component.projection.data));u.renameProjection(c.get("name"),a),c.merged=!0}}}catch(d){l.e(d)}finally{l.f()}return s}return}(e)}function YG(e,t){return"".concat(kR(e),"_").concat(t)}function XG(e,t,n){var r,i=YG(null!==(r=FB(n,void 0))&&void 0!==r?r:{},t);return e.getName("".concat(i,"_bins"))}function $G(e,t,n){var r,i;r=function(e){return"as"in e}(e)?Object(ne.H)(e.as)?[e.as,"".concat(e.as,"_end")]:[e.as[0],e.as[1]]:[xB(e,{forAs:!0}),xB(e,{binSuffix:"end",forAs:!0})];var o=Object.assign({},FB(t,void 0)),a=YG(o,e.field),s=function(e,t){return{signal:e.getName("".concat(t,"_bins")),extentSignal:e.getName("".concat(t,"_extent"))}}(n,a),l=s.signal,u=s.extentSignal;if(MR(o.extent)){var c=o.extent,f=c.selection;i=SV(n.getSelectionComponent(AD(f),f),c),delete o.extent}return{key:a,binComponent:Object.assign(Object.assign(Object.assign({bin:o,field:e.field,as:[r]},l?{signal:l}:{}),u?{extentSignal:u}:{}),i?{span:i}:{})}}var KG=function(e){cH(n,e);var t=pH(n);function n(e,r){var i;return JT(this,n),(i=t.call(this,e)).bins=r,i}return tS(n,[{key:"clone",value:function(){return new n(null,dD(this.bins))}},{key:"merge",value:function(e,t){var n,r=ni(kD(e.bins));try{for(r.s();!(n=r.n()).done;){var i=n.value;i in this.bins?(t(e.bins[i].signal,this.bins[i].signal),this.bins[i].as=wD([].concat(Zg(this.bins[i].as),Zg(e.bins[i].as)),vD)):this.bins[i]=e.bins[i]}}catch(l){r.e(l)}finally{r.f()}var o,a=ni(e.children);try{for(a.s();!(o=a.n()).done;){var s=o.value;e.removeChild(s),s.parent=this}}catch(l){a.e(l)}finally{a.f()}e.remove()}},{key:"producedFields",value:function(){return new Set(OD(this.bins).map((function(e){return e.as})).flat(2))}},{key:"dependentFields",value:function(){return new Set(OD(this.bins).map((function(e){return e.field})))}},{key:"hash",value:function(){return"Bin ".concat(vD(this.bins))}},{key:"assemble",value:function(){return OD(this.bins).flatMap((function(e){var t,n=[],r=Ki(t=e.as)||Kg(t)||ti(t)||Zi(),i=r[0],o=r.slice(1),a=e.bin,s=a.extent,l=w(a,["extent"]),u=Object.assign(Object.assign(Object.assign({type:"bin",field:LD(e.field),as:i,signal:e.signal},MR(s)?{extent:null}:{extent:s}),e.span?{span:{signal:"span(".concat(e.span,")")}}:{}),l);!s&&e.extentSignal&&(n.push({type:"extent",field:LD(e.field),signal:e.extentSignal}),u.extent={signal:e.extentSignal}),n.push(u);var c,f=ni(o);try{for(f.s();!(c=f.n()).done;)for(var d=c.value,h=0;h<2;h++)n.push({type:"formula",expr:xB({field:i[h]},{expr:"datum"}),as:d[h]})}catch(p){f.e(p)}finally{f.f()}return e.formula&&n.push({type:"formula",expr:e.formula,as:e.formulaAs}),n}))}}],[{key:"makeFromEncoding",value:function(e,t){var r=t.reduceFieldDef((function(e,n,r){if(mB(n)&&OR(n.bin)){var i=$G(n,n.bin,t),o=i.key,a=i.binComponent;e[o]=Object.assign(Object.assign(Object.assign({},a),e[o]),function(e,t,n,r){var i,o;if(GB(t,n)){var a=uq(e)&&null!==(o=null!==(i=e.axis(n))&&void 0!==i?i:e.legend(n))&&void 0!==o?o:{},s=xB(t,{expr:"datum"}),l=xB(t,{expr:"datum",binSuffix:"end"});return{formulaAs:xB(t,{binSuffix:"range",forAs:!0}),formula:YF(s,l,a.format,a.formatType,r)}}return{}}(t,n,r,t.config))}return e}),{});return 0===kD(r).length?null:new n(e,r)}},{key:"makeFromTransform",value:function(e,t,r){var i=$G(t,t.bin,r);return new n(e,$a({},i.key,i.binComponent))}}]),n}(zU),ZG=function(e){cH(n,e);var t=pH(n);function n(e){var r,i;if(JT(this,n),r=t.call(this,null),YH(e=null!==e&&void 0!==e?e:{name:"source"})||(i=e.format?Object.assign({},pD(e.format,["parse"])):{}),WH(e))r._data={values:e.values};else if(GH(e)){if(r._data={url:e.url},!i.type){var o=/(?:\.([^.]+))?$/.exec(e.url)[1];yD(["json","csv","tsv","dsv","topojson"],o)||(o="json"),i.type=o}}else $H(e)?r._data={values:[{type:"Sphere"}]}:(qH(e)||YH(e))&&(r._data={});return r._generator=YH(e),e.name&&(r._name=e.name),i&&kD(i).length>0&&(r._data.format=i),r}return tS(n,[{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){}},{key:"hasName",value:function(){return!!this._name}},{key:"remove",value:function(){throw new Error("Source nodes are roots and cannot be removed.")}},{key:"hash",value:function(){throw new Error("Cannot hash sources")}},{key:"assemble",value:function(){return Object.assign(Object.assign({name:this._name},this._data),{transform:[]})}},{key:"data",get:function(){return this._data}},{key:"isGenerator",get:function(){return this._generator}},{key:"dataName",get:function(){return this._name},set:function(e){this._name=e}},{key:"parent",set:function(e){throw new Error("Source nodes have to be roots.")}}]),n}(zU);function QG(e){var t,n=ni(e);try{for(n.s();!(t=n.n()).done;){var r,i=t.value,o=ni(i.children);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(a.parent!==i)return console.error("Dataflow graph is inconsistent.",i,a),!1}}catch(s){o.e(s)}finally{o.f()}if(!QG(i.children))return!1}}catch(s){n.e(s)}finally{n.f()}return!0}var JG=function(e){cH(n,e);var t=pH(n);function n(e,r){var i;return JT(this,n),(i=t.call(this,e)).params=r,i}return tS(n,[{key:"clone",value:function(){return new n(null,this.params)}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){}},{key:"hash",value:function(){return"Graticule ".concat(vD(this.params))}},{key:"assemble",value:function(){return Object.assign({type:"graticule"},!0===this.params?{}:this.params)}}]),n}(zU),eW=function(e){cH(n,e);var t=pH(n);function n(e,r){var i;return JT(this,n),(i=t.call(this,e)).params=r,i}return tS(n,[{key:"clone",value:function(){return new n(null,this.params)}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){var e;return new Set([null!==(e=this.params.as)&&void 0!==e?e:"data"])}},{key:"hash",value:function(){return"Hash ".concat(vD(this.params))}},{key:"assemble",value:function(){return Object.assign({type:"sequence"},this.params)}}]),n}(zU);function tW(e){return e instanceof ZG||e instanceof JG||e instanceof eW}var nW=function(){function e(){JT(this,e),this._mutated=!1}return tS(e,[{key:"setMutated",value:function(){this._mutated=!0}},{key:"mutatedFlag",get:function(){return this._mutated}}]),e}(),rW=function(e){cH(n,e);var t=pH(n);function n(){var e;return JT(this,n),(e=t.call(this))._continue=!1,e}return tS(n,[{key:"setContinue",value:function(){this._continue=!0}},{key:"reset",value:function(){}},{key:"optimizeNextFromLeaves",value:function(e){if(tW(e))return!1;var t=e.parent;return this.run(e).continueFlag&&this.optimizeNextFromLeaves(t),this.mutatedFlag}},{key:"continueFlag",get:function(){return this._continue}},{key:"flags",get:function(){return{continueFlag:this.continueFlag,mutatedFlag:this.mutatedFlag}},set:function(e){var t=e.continueFlag,n=e.mutatedFlag;t&&this.setContinue(),n&&this.setMutated()}}]),n}(nW),iW=function(e){cH(n,e);var t=pH(n);function n(){return JT(this,n),t.apply(this,arguments)}return n}(nW);function oW(e,t,n,r){var i=uq(r)?r.encoding[sR(t)]:void 0;if(mB(n)&&uq(r)&&oB(t,n,i,r.stack,r.markDef,r.config))e.add(xB(n,{})),e.add(xB(n,{suffix:"end"})),n.bin&&GB(n,t)&&e.add(xB(n,{binSuffix:"range"}));else if(t in qN){var o=function(e){switch(e){case"latitude":return"y";case"latitude2":return"y2";case"longitude":return"x";case"longitude2":return"x2"}}(t);e.add(r.getName(o))}else e.add(xB(n));return e}var aW=function(e){cH(n,e);var t=pH(n);function n(e,r,i){var o;return JT(this,n),(o=t.call(this,e)).dimensions=r,o.measures=i,o}return tS(n,[{key:"clone",value:function(){return new n(null,new Set(this.dimensions),dD(this.measures))}},{key:"merge",value:function(e){return function(e,t){if(e.size!==t.size)return!1;var n,r=ni(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!t.has(i))return!1}}catch(o){r.e(o)}finally{r.f()}return!0}(this.dimensions,e.dimensions)?(function(e,t){var n,r,i=ni(kD(t));try{for(i.s();!(r=i.n()).done;){var o,a=r.value,s=t[a],l=ni(kD(s));try{for(l.s();!(o=l.n()).done;){var u=o.value;a in e?e[a][u]=new Set([].concat(Zg(null!==(n=e[a][u])&&void 0!==n?n:[]),Zg(s[u]))):e[a]=$a({},u,s[u])}}catch(c){l.e(c)}finally{l.f()}}}catch(c){i.e(c)}finally{i.f()}}(this.measures,e.measures),!0):(function(){var e;(e=ej).debug.apply(e,arguments)}("different dimensions, cannot merge"),!1)}},{key:"addDimensions",value:function(e){e.forEach(this.dimensions.add,this.dimensions)}},{key:"dependentFields",value:function(){return new Set([].concat(Zg(this.dimensions),Zg(kD(this.measures))))}},{key:"producedFields",value:function(){var e,t=new Set,n=ni(kD(this.measures));try{for(n.s();!(e=n.n()).done;){var r,i=e.value,o=ni(kD(this.measures[i]));try{for(o.s();!(r=o.n()).done;){var a=r.value,s=this.measures[i][a];0===s.size?t.add("".concat(a,"_").concat(i)):s.forEach(t.add,t)}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}return t}},{key:"hash",value:function(){return"Aggregate ".concat(vD({dimensions:this.dimensions,measures:this.measures}))}},{key:"assemble",value:function(){var e,t=[],n=[],r=[],i=ni(kD(this.measures));try{for(i.s();!(e=i.n()).done;){var o,a=e.value,s=ni(kD(this.measures[a]));try{for(s.s();!(o=s.n()).done;){var l,u=o.value,c=ni(this.measures[a][u]);try{for(c.s();!(l=c.n()).done;){var f=l.value;r.push(f),t.push(u),n.push("*"===a?null:LD(a))}}catch(d){c.e(d)}finally{c.f()}}}catch(d){s.e(d)}finally{s.f()}}}catch(d){i.e(d)}finally{i.f()}return{type:"aggregate",groupby:Zg(this.dimensions).map(LD),ops:t,fields:n,as:r}}},{key:"groupBy",get:function(){return this.dimensions}}],[{key:"makeFromEncoding",value:function(e,t){var r=!1;t.forEachFieldDef((function(e){e.aggregate&&(r=!0)}));var i={},o=new Set;return r?(t.forEachFieldDef((function(e,n){var r,a,s,l,u=e.aggregate,c=e.field;if(u)if("count"===u)i["*"]=null!==(r=i["*"])&&void 0!==r?r:{},i["*"].count=new Set([xB(e,{forAs:!0})]);else{if(ON(u)||CN(u)){var f=ON(u)?"argmin":"argmax",d=u[f];i[d]=null!==(a=i[d])&&void 0!==a?a:{},i[d][f]=new Set([xB({op:f,field:d},{forAs:!0})])}else i[c]=null!==(s=i[c])&&void 0!==s?s:{},i[c][u]=new Set([xB(e,{forAs:!0})]);xR(n)&&"unaggregated"===t.scaleDomain(n)&&(i[c]=null!==(l=i[c])&&void 0!==l?l:{},i[c].min=new Set([xB({field:c,aggregate:"min"},{forAs:!0})]),i[c].max=new Set([xB({field:c,aggregate:"max"},{forAs:!0})]))}else oW(o,n,e,t)})),o.size+kD(i).length===0?null:new n(e,o,i)):null}},{key:"makeFromTransform",value:function(e,t){var r,i,o,a,s=new Set,l={},u=ni(t.aggregate);try{for(u.s();!(a=u.n()).done;){var c=a.value,f=c.op,d=c.field,h=c.as;f&&("count"===f?(l["*"]=null!==(r=l["*"])&&void 0!==r?r:{},l["*"].count=new Set([h||xB(c,{forAs:!0})])):(l[d]=null!==(i=l[d])&&void 0!==i?i:{},l[d][f]=new Set([h||xB(c,{forAs:!0})])))}}catch(g){u.e(g)}finally{u.f()}var p,m=ni(null!==(o=t.groupby)&&void 0!==o?o:[]);try{for(m.s();!(p=m.n()).done;){var v=p.value;s.add(v)}}catch(g){m.e(g)}finally{m.f()}return s.size+kD(l).length===0?null:new n(e,s,l)}}]),n}(zU),sW=function(e){cH(n,e);var t=pH(n);function n(e,r,i,o){var a;JT(this,n),(a=t.call(this,e)).model=r,a.name=i,a.data=o;var s,l=ni(ZN);try{for(l.s();!(s=l.n()).done;){var u=s.value,c=r.facet[u];if(c){var f=c.bin,d=c.sort;a[u]=Object.assign({name:r.getName("".concat(u,"_domain")),fields:[xB(c)].concat(Zg(OR(f)?[xB(c,{binSuffix:"end"})]:[]))},ZF(d)?{sortField:d}:Object(ne.A)(d)?{sortIndexField:YV(c,u)}:{})}}}catch(h){l.e(h)}finally{l.f()}return a.childModel=r.child,a}return tS(n,[{key:"hash",value:function(){var e,t="Facet",n=ni(ZN);try{for(n.s();!(e=n.n()).done;){var r=e.value;this[r]&&(t+=" ".concat(r.charAt(0),":").concat(vD(this[r])))}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"dependentFields",value:function(){var e,t=new Set(this.fields),n=ni(ZN);try{for(n.s();!(e=n.n()).done;){var r=e.value;this[r]&&(this[r].sortField&&t.add(this[r].sortField.field),this[r].sortIndexField&&t.add(this[r].sortIndexField))}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"producedFields",value:function(){return new Set}},{key:"getSource",value:function(){return this.name}},{key:"getChildIndependentFieldsWithStep",value:function(){var e,t={},n=ni(dR);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=this.childModel.component.scales[r];if(i&&!i.merged){var o=i.get("type"),a=i.get("range");if(_F(o)&&Sj(a)){var s=GW(WW(this.childModel,r));s?t[r]=s:rj("Unknown field for ".concat(r,". Cannot calculate view size."))}}}}catch(l){n.e(l)}finally{n.f()}return t}},{key:"assembleRowColumnHeaderData",value:function(e,t,n){var r={row:"y",column:"x"}[e],i=[],o=[],a=[];n&&n[r]&&(t?(i.push("distinct_".concat(n[r])),o.push("max")):(i.push(n[r]),o.push("distinct")),a.push("distinct_".concat(n[r])));var s=this[e],l=s.sortField,u=s.sortIndexField;if(l){var c=l.op,f=void 0===c?"min":c,d=l.field;i.push(d),o.push(f),a.push(xB(l,{forAs:!0}))}else u&&(i.push(u),o.push("max"),a.push(u));return{name:this[e].name,source:null!==t&&void 0!==t?t:this.data,transform:[Object.assign({type:"aggregate",groupby:this[e].fields},i.length?{fields:i,ops:o,as:a}:{})]}}},{key:"assembleFacetHeaderData",value:function(e){var t,n,r,i=this.model.layout.columns,o=this.model.component.layoutHeaders,a=[],s={},l=ni(ZV);try{for(l.s();!(r=l.n()).done;){var u,c=r.value,f=ni(QV);try{for(f.s();!(u=f.n()).done;){var d,h=u.value,p=ni(null!==(t=o[c]&&o[c][h])&&void 0!==t?t:[]);try{for(p.s();!(d=p.n()).done;){if((null===(n=d.value.axes)||void 0===n?void 0:n.length)>0){s[c]=!0;break}}}catch(b){p.e(b)}finally{p.f()}}}catch(b){f.e(b)}finally{f.f()}if(s[c]){var m='length(data("'.concat(this.facet.name,'"))'),v="row"===c?i?{signal:"ceil(".concat(m," / ").concat(i,")")}:1:i?{signal:"min(".concat(m,", ").concat(i,")")}:{signal:m};a.push({name:"".concat(this.facet.name,"_").concat(c),transform:[{type:"sequence",start:0,stop:v}]})}}}catch(b){l.e(b)}finally{l.f()}var g=s.row,y=s.column;return(g||y)&&a.unshift(this.assembleRowColumnHeaderData("facet",null,e)),a}},{key:"assemble",value:function(){var e,t,n=[],r=null,i=this.getChildIndependentFieldsWithStep(),o=this.column,a=this.row,s=this.facet;if(o&&a&&(i.x||i.y)){r="cross_".concat(this.column.name,"_").concat(this.row.name);var l=[].concat(null!==(e=i.x)&&void 0!==e?e:[],null!==(t=i.y)&&void 0!==t?t:[]),u=l.map((function(){return"distinct"}));n.push({name:r,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:l,ops:u}]})}for(var c=0,f=[RN,NN];c<f.length;c++){var d=f[c];this[d]&&n.push(this.assembleRowColumnHeaderData(d,r,i))}if(s){var h=this.assembleFacetHeaderData(i);h&&n.push.apply(n,Zg(h))}return n}},{key:"fields",get:function(){var e,t,n=[],r=ni(ZN);try{for(r.s();!(t=r.n()).done;){var i=t.value;(null===(e=this[i])||void 0===e?void 0:e.fields)&&n.push.apply(n,Zg(this[i].fields))}}catch(o){r.e(o)}finally{r.f()}return n}}]),n}(zU);function lW(e){return"'"===e[0]&&"'"===e[e.length-1]||'"'===e[0]&&'"'===e[e.length-1]?e.slice(1,-1):e}function uW(e,t){var n=ND(e);if("number"===t)return"toNumber(".concat(n,")");if("boolean"===t)return"toBoolean(".concat(n,")");if("string"===t)return"toString(".concat(n,")");if("date"===t)return"toDate(".concat(n,")");if("flatten"===t)return n;if(0===t.indexOf("date:")){var r=lW(t.slice(5,t.length));return"timeParse(".concat(n,",'").concat(r,"')")}if(0===t.indexOf("utc:")){var i=lW(t.slice(4,t.length));return"utcParse(".concat(n,",'").concat(i,"')")}return rj(QL.unrecognizedParse(t)),null}function cW(e){var t={};return function e(t,n){if(uD(t))e(t.not,n);else if(lD(t)){var r,i=ni(t.and);try{for(i.s();!(r=i.n()).done;){e(r.value,n)}}catch(s){i.e(s)}finally{i.f()}}else if(sD(t)){var o,a=ni(t.or);try{for(a.s();!(o=a.n()).done;){e(o.value,n)}}catch(s){a.e(s)}finally{a.f()}}else n(t)}(e.filter,(function(e){var n;if(jj(e)){var r=null;Aj(e)?r=e.equal:Nj(e)?r=e.range[0]:Rj(e)&&(r=(null!==(n=e.oneOf)&&void 0!==n?n:e.in)[0]),r&&(ij(r)?t[e.field]="date":Object(ne.E)(r)?t[e.field]="number":Object(ne.H)(r)&&(t[e.field]="string")),e.timeUnit&&(t[e.field]="date")}})),t}function fW(e){var t={};function n(e){var n;zB(e)?t[e.field]="date":"quantitative"===e.type&&(n=e.aggregate,Object(ne.H)(n)&&yD(["min","max"],n))?t[e.field]="number":BD(e.field)>1?e.field in t||(t[e.field]="flatten"):gB(e)&&ZF(e.sort)&&BD(e.sort.field)>1&&(e.sort.field in t||(t[e.sort.field]="flatten"))}if((uq(e)||cq(e))&&e.forEachFieldDef((function(t,r){if(mB(t))n(t);else{var i=oR(r),o=e.fieldDef(i);n(Object.assign(Object.assign({},t),{type:o.type}))}})),uq(e)){var r=e.mark,i=e.markDef,o=e.encoding;if(pN(r)&&!e.encoding.order){var a=o["horizontal"===i.orient?"y":"x"];uB(a)&&"quantitative"===a.type&&!(a.field in t)&&(t[a.field]="number")}}return t}var dW=function(e){cH(n,e);var t=pH(n);function n(e,r){var i;return JT(this,n),(i=t.call(this,e))._parse=r,i}return tS(n,[{key:"clone",value:function(){return new n(null,dD(this._parse))}},{key:"hash",value:function(){return"Parse ".concat(vD(this._parse))}},{key:"merge",value:function(e){this._parse=Object.assign(Object.assign({},this._parse),e.parse),e.remove()}},{key:"assembleFormatParse",value:function(){var e,t={},n=ni(kD(this._parse));try{for(n.s();!(e=n.n()).done;){var r=e.value,i=this._parse[r];1===BD(r)&&(t[r]=i)}}catch(o){n.e(o)}finally{n.f()}return t}},{key:"producedFields",value:function(){return new Set(kD(this._parse))}},{key:"dependentFields",value:function(){return new Set(kD(this._parse))}},{key:"assembleTransforms",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return kD(this._parse).filter((function(e){return!t||BD(e)>1})).map((function(t){var n=uW(t,e._parse[t]);return n?{type:"formula",expr:n,as:FD(t)}:null})).filter((function(e){return null!==e}))}},{key:"parse",get:function(){return this._parse}}],[{key:"makeExplicit",value:function(e,t,n){var r={},i=t.data;return!YH(i)&&i&&i.format&&i.format.parse&&(r=i.format.parse),this.makeWithAncestors(e,r,{},n)}},{key:"makeWithAncestors",value:function(e,t,r,i){var o,a=ni(kD(r));try{for(a.s();!(o=a.n()).done;){var s=o.value,l=i.getWithExplicit(s);void 0!==l.value&&(l.explicit||l.value===r[s]||"derived"===l.value||"flatten"===r[s]?delete r[s]:rj(QL.differentParse(s,r[s],l.value)))}}catch(b){a.e(b)}finally{a.f()}var u,c=ni(kD(t));try{for(c.s();!(u=c.n()).done;){var f=u.value,d=i.get(f);void 0!==d&&(d===t[f]?delete t[f]:rj(QL.differentParse(f,t[f],d)))}}catch(b){c.e(b)}finally{c.f()}var h=new gG(t,r);i.copyAll(h);var p,m={},v=ni(kD(h.combine()));try{for(v.s();!(p=v.n()).done;){var g=p.value,y=h.get(g);null!==y&&(m[g]=y)}}catch(b){v.e(b)}finally{v.f()}return 0===kD(m).length||i.parseNothing?null:new n(e,m)}}]),n}(zU),hW=function(e){cH(n,e);var t=pH(n);function n(e,r){var i;return JT(this,n),(i=t.call(this,e)).transform=r,i}return tS(n,[{key:"clone",value:function(){return new n(null,dD(this.transform))}},{key:"addDimensions",value:function(e){this.transform.groupby=wD(this.transform.groupby.concat(e),(function(e){return e}))}},{key:"dependentFields",value:function(){var e=new Set;return this.transform.groupby&&this.transform.groupby.forEach(e.add,e),this.transform.joinaggregate.map((function(e){return e.field})).filter((function(e){return void 0!==e})).forEach(e.add,e),e}},{key:"producedFields",value:function(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}},{key:"getDefaultName",value:function(e){var t;return null!==(t=e.as)&&void 0!==t?t:xB(e)}},{key:"hash",value:function(){return"JoinAggregateTransform ".concat(vD(this.transform))}},{key:"assemble",value:function(){var e,t=[],n=[],r=[],i=ni(this.transform.joinaggregate);try{for(i.s();!(e=i.n()).done;){var o=e.value;n.push(o.op),r.push(this.getDefaultName(o)),t.push(void 0===o.field?null:o.field)}}catch(s){i.e(s)}finally{i.f()}var a=this.transform.groupby;return Object.assign({type:"joinaggregate",as:r,ops:n,fields:t},void 0!==a?{groupby:a}:{})}}]),n}(zU);var pW=function(e){cH(n,e);var t=pH(n);function n(e,r){var i;return JT(this,n),(i=t.call(this,e))._stack=r,i}return tS(n,[{key:"clone",value:function(){return new n(null,dD(this._stack))}},{key:"addDimensions",value:function(e){var t;(t=this._stack.facetby).push.apply(t,Zg(e))}},{key:"dependentFields",value:function(){var e=new Set;return e.add(this._stack.stackField),this.getGroupbyFields().forEach(e.add,e),this._stack.facetby.forEach(e.add,e),this._stack.sort.field.forEach(e.add,e),e}},{key:"producedFields",value:function(){return new Set(this._stack.as)}},{key:"hash",value:function(){return"Stack ".concat(vD(this._stack))}},{key:"getGroupbyFields",value:function(){var e=this._stack,t=e.dimensionFieldDef,n=e.impute,r=e.groupby;return t?t.bin?n?[xB(t,{binSuffix:"mid"})]:[xB(t,{}),xB(t,{binSuffix:"end"})]:[xB(t)]:null!==r&&void 0!==r?r:[]}},{key:"assemble",value:function(){var e=[],t=this._stack,n=t.facetby,r=t.dimensionFieldDef,i=t.stackField,o=t.stackby,a=t.sort,s=t.offset,l=t.impute,u=t.as;if(l&&r){var c=r.band,f=void 0===c?.5:c;r.bin&&e.push({type:"formula",expr:"".concat(f,"*")+xB(r,{expr:"datum"})+"+".concat(1-f,"*")+xB(r,{expr:"datum",binSuffix:"end"}),as:xB(r,{binSuffix:"mid",forAs:!0})}),e.push({type:"impute",field:i,groupby:[].concat(Zg(o),Zg(n)),key:xB(r,{binSuffix:"mid"}),method:"value",value:0})}return e.push({type:"stack",groupby:[].concat(Zg(this.getGroupbyFields()),Zg(n)),field:i,sort:a,as:u,offset:s}),e}},{key:"stack",get:function(){return this._stack}}],[{key:"makeFromTransform",value:function(e,t){var r=t.stack,i=t.groupby,o=t.as,a=t.offset,s=void 0===a?"zero":a,l=[],u=[];if(void 0!==t.sort){var c,f=ni(t.sort);try{for(f.s();!(c=f.n()).done;){var d=c.value;l.push(d.field),u.push(zD(d.order,"ascending"))}}catch(h){f.e(h)}finally{f.f()}}return new n(e,{stackField:r,groupby:i,offset:s,sort:{field:l,order:u},facetby:[],as:function(e){return Object(ne.A)(e)&&e.every((function(e){return Object(ne.H)(e)}))&&e.length>1}(o)?o:Object(ne.H)(o)?[o,o+"_end"]:[t.stack+"_start",t.stack+"_end"]})}},{key:"makeFromEncoding",value:function(e,t){var r=t.stack,i=t.encoding;if(!r)return null;var o,a=r.groupbyChannel,s=r.fieldChannel,l=r.offset,u=r.impute;a&&(o=DB(i[a]));var c,f=function(e){return e.stack.stackBy.reduce((function(e,t){var n=xB(t.fieldDef);return n&&e.push(n),e}),[])}(t),d=t.encoding.order;return c=Object(ne.A)(d)||uB(d)?JB(d):f.reduce((function(e,t){return e.field.push(t),e.order.push("y"===s?"descending":"ascending"),e}),{field:[],order:[]}),new n(e,{dimensionFieldDef:o,stackField:t.vgField(s),facetby:[],stackby:f,sort:c,offset:l,impute:u,as:[t.vgField(s,{suffix:"start",forAs:!0}),t.vgField(s,{suffix:"end",forAs:!0})]})}}]),n}(zU),mW=function(e){cH(n,e);var t=pH(n);function n(e,r){var i;return JT(this,n),(i=t.call(this,e)).transform=r,i}return tS(n,[{key:"clone",value:function(){return new n(null,dD(this.transform))}},{key:"addDimensions",value:function(e){this.transform.groupby=wD(this.transform.groupby.concat(e),(function(e){return e}))}},{key:"dependentFields",value:function(){var e,t,n=new Set;return(null!==(e=this.transform.groupby)&&void 0!==e?e:[]).forEach(n.add,n),(null!==(t=this.transform.sort)&&void 0!==t?t:[]).forEach((function(e){return n.add(e.field)})),this.transform.window.map((function(e){return e.field})).filter((function(e){return void 0!==e})).forEach(n.add,n),n}},{key:"producedFields",value:function(){return new Set(this.transform.window.map(this.getDefaultName))}},{key:"getDefaultName",value:function(e){var t;return null!==(t=e.as)&&void 0!==t?t:xB(e)}},{key:"hash",value:function(){return"WindowTransform ".concat(vD(this.transform))}},{key:"assemble",value:function(){var e,t,n=[],r=[],i=[],o=[],a=ni(this.transform.window);try{for(a.s();!(t=a.n()).done;){var s=t.value;r.push(s.op),i.push(this.getDefaultName(s)),o.push(void 0===s.param?null:s.param),n.push(void 0===s.field?null:s.field)}}catch(g){a.e(g)}finally{a.f()}var l=this.transform.frame,u=this.transform.groupby;if(l&&null===l[0]&&null===l[1]&&r.every((function(e){return AN(e)})))return Object.assign({type:"joinaggregate",as:i,ops:r,fields:n},void 0!==u?{groupby:u}:{});var c=[],f=[];if(void 0!==this.transform.sort){var d,h=ni(this.transform.sort);try{for(h.s();!(d=h.n()).done;){var p=d.value;c.push(p.field),f.push(null!==(e=p.order)&&void 0!==e?e:"ascending")}}catch(g){h.e(g)}finally{h.f()}}var m={field:c,order:f},v=this.transform.ignorePeers;return Object.assign(Object.assign(Object.assign({type:"window",params:o,as:i,ops:r,fields:n,sort:m},void 0!==v?{ignorePeers:v}:{}),void 0!==u?{groupby:u}:{}),void 0!==l?{frame:l}:{})}}]),n}(zU),vW=function(e){cH(n,e);var t=pH(n);function n(e){return JT(this,n),t.call(this,e)}return tS(n,[{key:"clone",value:function(){return new n(null)}}]),tS(n,[{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){return new Set(["_vgsid_"])}},{key:"hash",value:function(){return"Identifier"}},{key:"assemble",value:function(){return{type:"identifier",as:"_vgsid_"}}}]),n}(zU),gW=function(e){cH(n,e);var t=pH(n);function n(){return JT(this,n),t.apply(this,arguments)}return tS(n,[{key:"run",value:function(e){var t=e.parent;if(e instanceof dW){if(tW(t))return this.flags;if(t.numChildren()>1)return this.setContinue(),this.flags;if(t instanceof dW)this.setMutated(),t.merge(e);else{if(SD(t.producedFields(),e.dependentFields()))return this.setContinue(),this.flags;this.setMutated(),e.swapWithParent()}}return this.setContinue(),this.flags}}]),n}(rW),yW=function(e){cH(n,e);var t=pH(n);function n(){return JT(this,n),t.apply(this,arguments)}return tS(n,[{key:"mergeNodes",value:function(e,t){var n,r=t.shift(),i=ni(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;e.removeChild(o),o.parent=r,o.remove()}}catch(a){i.e(a)}finally{i.f()}}},{key:"run",value:function(e){for(var t=e.children.map((function(e){return e.hash()})),n={},r=0;r<t.length;r++)void 0===n[t[r]]?n[t[r]]=[e.children[r]]:n[t[r]].push(e.children[r]);var i,o=ni(kD(n));try{for(o.s();!(i=o.n()).done;){var a=i.value;n[a].length>1&&(this.setMutated(),this.mergeNodes(e,n[a]))}}catch(c){o.e(c)}finally{o.f()}var s,l=ni(e.children);try{for(l.s();!(s=l.n()).done;){var u=s.value;this.run(u)}}catch(c){l.e(c)}finally{l.f()}return this.mutatedFlag}}]),n}(iW),bW=function(e){cH(n,e);var t=pH(n);function n(){return JT(this,n),t.apply(this,arguments)}return tS(n,[{key:"run",value:function(e){return e instanceof HU||e.numChildren()>0||e instanceof sW||(this.setMutated(),e.remove()),this.flags}}]),n}(rW),_W=function(e){cH(n,e);var t=pH(n);function n(){var e;return JT(this,n),(e=t.apply(this,arguments)).fields=new Set,e.prev=null,e}return tS(n,[{key:"run",value:function(e){if(this.setContinue(),e instanceof UU){var t=e.producedFields();ED(t,this.fields)?(this.setMutated(),this.prev.remove()):this.fields=new Set([].concat(Zg(this.fields),Zg(t))),this.prev=e}return this.flags}},{key:"reset",value:function(){this.fields.clear()}}]),n}(rW),xW=function(e){cH(n,e);var t=pH(n);function n(){return JT(this,n),t.apply(this,arguments)}return tS(n,[{key:"run",value:function(e){this.setContinue();var t,n=e.parent.children.filter((function(e){return e instanceof UU})),r=n.pop(),i=ni(n);try{for(i.s();!(t=i.n()).done;){var o=t.value;this.setMutated(),r.merge(o)}}catch(a){i.e(a)}finally{i.f()}return this.flags}}]),n}(rW);function wW(e){if(e instanceof sW)if(1!==e.numChildren()||e.children[0]instanceof HU){var t=e.model.component.data.main;!function e(t){if(t instanceof HU&&t.type===ZH&&1===t.numChildren()){var n=t.children[0];n instanceof sW||(n.swapWithParent(),e(t))}}(t);var n,r=(a=e,function e(t){if(!(t instanceof sW)){var n=t.clone();if(n instanceof HU){var r=AW+n.getSource();n.setSource(r),a.model.component.data.outputNodes[r]=n}else(n instanceof aW||n instanceof pW||n instanceof mW||n instanceof hW)&&n.addDimensions(a.fields);var i,o=ni(t.children.flatMap(e));try{for(o.s();!(i=o.n()).done;)i.value.parent=n}catch(s){o.e(s)}finally{o.f()}return[n]}return t.children.flatMap(e)}),i=ni(e.children.map(r).flat());try{for(i.s();!(n=i.n()).done;){n.value.parent=t}}catch(s){i.e(s)}finally{i.f()}}else{var o=e.children[0];(o instanceof aW||o instanceof pW||o instanceof mW||o instanceof hW)&&o.addDimensions(e.fields),o.swapWithParent(),wW(e)}else e.children.map(wW);var a}var EW=function(e){cH(n,e);var t=pH(n);function n(){return JT(this,n),t.call(this)}return tS(n,[{key:"run",value:function(e){e instanceof HU&&!e.isRequired()&&(this.setMutated(),e.remove());var t,n=ni(e.children);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.run(r)}}catch(i){n.e(i)}finally{n.f()}return this.mutatedFlag}}]),n}(iW),TW=function(e){cH(n,e);var t=pH(n);function n(e){var r;return JT(this,n),(r=t.call(this)).requiresSelectionId=e&&xV(e),r}return tS(n,[{key:"run",value:function(e){e instanceof vW&&(this.requiresSelectionId&&(tW(e.parent)||e.parent instanceof aW||e.parent instanceof dW)||(this.setMutated(),e.remove()));var t,n=ni(e.children);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.run(r)}}catch(i){n.e(i)}finally{n.f()}return this.mutatedFlag}}]),n}(iW),SW=function(e){cH(n,e);var t=pH(n);function n(){return JT(this,n),t.apply(this,arguments)}return tS(n,[{key:"run",value:function(e){var t=e.parent,n=Zg(t.children),r=t.children.filter((function(e){return e instanceof dW}));if(t.numChildren()>1&&r.length>=1){var i,o={},a=new Set,s=ni(r);try{for(s.s();!(i=s.n()).done;){var l,u=i.value.parse,c=ni(kD(u));try{for(c.s();!(l=c.n()).done;){var f=l.value;f in o?o[f]!==u[f]&&a.add(f):o[f]=u[f]}}catch(x){c.e(x)}finally{c.f()}}}catch(x){s.e(x)}finally{s.f()}var d,h=ni(a);try{for(h.s();!(d=h.n()).done;){delete o[d.value]}}catch(x){h.e(x)}finally{h.f()}if(0!==kD(o).length){this.setMutated();var p,m=new dW(t,o),v=ni(n);try{for(v.s();!(p=v.n()).done;){var g=p.value;if(g instanceof dW){var y,b=ni(kD(o));try{for(b.s();!(y=b.n()).done;){var _=y.value;delete g.parse[_]}}catch(x){b.e(x)}finally{b.f()}}t.removeChild(g),g.parent=m,g instanceof dW&&0===kD(g.parse).length&&g.remove()}}catch(x){v.e(x)}finally{v.f()}}}return this.setContinue(),this.flags}}]),n}(rW),kW=function(e){cH(n,e);var t=pH(n);function n(){return JT(this,n),t.apply(this,arguments)}return tS(n,[{key:"run",value:function(e){var t,n=e.parent,r={},i=ni(n.children.filter((function(e){return e instanceof aW})));try{for(i.s();!(t=i.n()).done;){var o=t.value,a=vD(o.groupBy);a in r||(r[a]=[]),r[a].push(o)}}catch(p){i.e(p)}finally{i.f()}var s,l=ni(kD(r));try{for(l.s();!(s=l.n()).done;){var u=r[s.value];if(u.length>1){var c,f=u.pop(),d=ni(u);try{for(d.s();!(c=d.n()).done;){var h=c.value;f.merge(h)&&(n.removeChild(h),h.parent=f,h.remove(),this.setMutated())}}catch(p){d.e(p)}finally{d.f()}}}}catch(p){l.e(p)}finally{l.f()}return this.setContinue(),this.flags}}]),n}(rW),OW=function(e){cH(n,e);var t=pH(n);function n(e){var r;return JT(this,n),(r=t.call(this)).model=e,r}return tS(n,[{key:"run",value:function(e){var t,n=e.parent,r=!(tW(n)||n instanceof EV||n instanceof dW||n instanceof vW),i=[],o=[],a=ni(n.children);try{for(a.s();!(t=a.n()).done;){var s=t.value;s instanceof KG&&(r&&!SD(n.producedFields(),s.dependentFields())?i.push(s):o.push(s))}}catch(v){a.e(v)}finally{a.f()}if(i.length>0){var l,u=i.pop(),c=ni(i);try{for(c.s();!(l=c.n()).done;){var f=l.value;u.merge(f,this.model.renameSignal.bind(this.model))}}catch(v){c.e(v)}finally{c.f()}this.setMutated(),n instanceof KG?n.merge(u,this.model.renameSignal.bind(this.model)):u.swapWithParent()}if(o.length>1){var d,h=o.pop(),p=ni(o);try{for(p.s();!(d=p.n()).done;){var m=d.value;h.merge(m,this.model.renameSignal.bind(this.model))}}catch(v){p.e(v)}finally{p.f()}this.setMutated()}return this.setContinue(),this.flags}}]),n}(rW),CW=function(e){cH(n,e);var t=pH(n);function n(){return JT(this,n),t.apply(this,arguments)}return tS(n,[{key:"run",value:function(e){var t=e.parent,n=Zg(t.children);if(!bD(n,(function(e){return e instanceof HU}))||t.numChildren()<=1)return this.setContinue(),this.flags;var r,i,o=[],a=ni(n);try{for(a.s();!(i=a.n()).done;){var s=i.value;if(s instanceof HU){for(var l=s;1===l.numChildren();){var u=l.children[0];if(!(u instanceof HU))break;l=u}o.push.apply(o,Zg(l.children)),r?(t.removeChild(s),s.parent=r.parent,r.parent.removeChild(r),r.parent=l,this.setMutated()):r=l}else o.push(s)}}catch(h){a.e(h)}finally{a.f()}if(o.length){this.setMutated();var c,f=ni(o);try{for(f.s();!(c=f.n()).done;){var d=c.value;d.parent.removeChild(d),d.parent=r}}catch(h){f.e(h)}finally{f.f()}}return this.setContinue(),this.flags}}]),n}(rW),AW="scale_";function MW(e){var t=[];function n(e){if(0===e.numChildren())t.push(e);else{var r,i=ni(e.children);try{for(i.s();!(r=i.n()).done;){n(r.value)}}catch(o){i.e(o)}finally{i.f()}}}var r,i=ni(e);try{for(i.s();!(r=i.n()).done;){n(r.value)}}catch(o){i.e(o)}finally{i.f()}return t}function PW(e){return e}function IW(e,t){return t.map((function(t){if(e instanceof rW){var n=e.optimizeNextFromLeaves(t);return e.reset(),n}return e.run(t)})).some(PW)}function DW(e,t){var n=e.sources,r=new Set;return r.add(IW(new EW,n)),r.add(IW(new TW(t),n)),n=n.filter((function(e){return e.numChildren()>0})),r.add(IW(new bW,MW(n))),n=n.filter((function(e){return e.numChildren()>0})),r.add(IW(new gW,MW(n))),r.add(IW(new OW(t),MW(n))),r.add(IW(new _W,MW(n))),r.add(IW(new SW,MW(n))),r.add(IW(new kW,MW(n))),r.add(IW(new xW,MW(n))),r.add(IW(new yW,n)),r.add(IW(new CW,MW(n))),e.sources=n,r.has(!0)}function NW(e,t){QG(e.sources);for(var n=0,r=0,i=0;i<5&&DW(e,t);i++)n++;e.sources.map(wW);for(var o=0;o<5&&DW(e,t);o++)r++;QG(e.sources),5===Math.max(n,r)&&rj("Maximum optimization runs(".concat(5,") reached."))}var RW=function(){function e(t){JT(this,e),Object.defineProperty(this,"signal",{enumerable:!0,get:t})}return tS(e,null,[{key:"fromName",value:function(t,n){return new e((function(){return t(n)}))}}]),e}();function LW(e){uq(e)?function(e){var t,n=e.component.scales,r=ni(kD(n));try{for(r.s();!(t=r.n()).done;){var i=t.value,o=jW(e,i);if(n[i].setWithExplicit("domains",o),HW(e,i),e.component.data.isFaceted){for(var a=e;!cq(a)&&a.parent;)a=a.parent;if("shared"===a.component.resolve.scale[i]){var s,l=ni(o.value);try{for(l.s();!(s=l.n()).done;){var u=s.value;kj(u)&&(u.data=AW+u.data.replace(AW,""))}}catch(c){l.e(c)}finally{l.f()}}}}}catch(c){r.e(c)}finally{r.f()}}(e):function(e){var t,n=ni(e.children);try{for(n.s();!(t=n.n()).done;){LW(t.value)}}catch(h){n.e(h)}finally{n.f()}var r,i=e.component.scales,o=ni(kD(i));try{for(o.s();!(r=o.n()).done;){var a,s=r.value,l=void 0,u=null,c=ni(e.children);try{for(c.s();!(a=c.n()).done;){var f=a.value.component.scales[s];if(f){l=void 0===l?f.getWithExplicit("domains"):wG(l,f.getWithExplicit("domains"),"domains","scale",VW);var d=f.get("selectionExtent");u&&d&&u.selection!==d.selection&&rj("The same selection must be used to override scale domains in a layered view."),u=d}}}catch(h){c.e(h)}finally{c.f()}i[s].setWithExplicit("domains",l),u&&i[s].set("selectionExtent",u,!0)}}catch(h){o.e(h)}finally{o.f()}}(e)}function jW(e,t){var n=e.getScaleComponent(t).get("type"),r=e.encoding,i=function(e,t,n,r){if("unaggregated"===e){var i=UW(t,n),o=i.valid,a=i.reason;if(!o)return void rj(a)}else if(void 0===e&&r.useUnaggregatedDomain){if(UW(t,n).valid)return"unaggregated"}return e}(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return i!==e.scaleDomain(t)&&(e.specifiedScales[t]=Object.assign(Object.assign({},e.specifiedScales[t]),{domain:i})),"x"===t&&NB(r.x2)?NB(r.x)?wG(BW(n,i,e,"x"),BW(n,i,e,"x2"),"domain","scale",VW):BW(n,i,e,"x2"):"y"===t&&NB(r.y2)?NB(r.y)?wG(BW(n,i,e,"y"),BW(n,i,e,"y2"),"domain","scale",VW):BW(n,i,e,"y2"):BW(n,i,e,t)}function FW(e,t,n){var r,i=null===(r=xj(n))||void 0===r?void 0:r.unit;return"temporal"===t||i?function(e,t,n){return e.map((function(e){var r=UB(e,{timeUnit:n,type:t});return{signal:"{data: ".concat(r,"}")}}))}(e,t,i):[e]}function BW(e,t,n,r){var i=NB(n.encoding[r]),o=i.type,a=i.timeUnit;if(function(e){return e&&e.unionWith}(t)){var s=BW(e,void 0,n,r),l=FW(t.unionWith,o,a);return yG([].concat(Zg(s.value),Zg(l)))}if(Tj(t))return yG([t]);if(t&&"unaggregated"!==t&&!TF(t))return yG(FW(t,o,a));var u=n.stack;if(u&&r===u.fieldChannel){if("normalize"===u.offset)return bG([[0,1]]);var c=n.requestDataName(ZH);return bG([{data:c,field:n.vgField(r,{suffix:"start"})},{data:c,field:n.vgField(r,{suffix:"end"})}])}var f=xR(r)&&uB(i)?function(e,t,n){if(!_F(n))return;var r=e.fieldDef(t),i=r.sort;if(QF(i))return{op:"min",field:YV(r,t),order:"ascending"};var o=e.stack,a=o?[].concat(Zg(o.groupbyField?[o.groupbyField]:[]),Zg(o.stackBy.map((function(e){return e.fieldDef.field})))):void 0;if(ZF(i)){var s=o&&!yD(a,i.field);return zW(i,s)}if(KF(i)){var l=i.encoding,u=i.order,c=e.fieldDef(l),f=c.aggregate,d=c.field,h=o&&!yD(a,d);if(ON(f)||CN(f))return zW({field:xB(c),order:u},h);if(AN(f)||!f)return zW({op:f,field:d,order:u},h)}else{if("descending"===i)return{op:"min",field:e.vgField(t),order:"descending"};if(yD(["ascending",void 0],i))return!0}return}(n,r,e):void 0;if(fB(i))return bG(FW([i.datum],o,a));var d=i;if("unaggregated"===t){var h=n.requestDataName(ZH),p=i.field;return bG([{data:h,field:xB({field:p,aggregate:"min"})},{data:h,field:xB({field:p,aggregate:"max"})}])}if(OR(d.bin)){if(_F(e))return bG("bin-ordinal"===e?[]:[{data:CD(f)?n.requestDataName(ZH):n.requestDataName("raw"),field:n.vgField(r,GB(d,r)?{binSuffix:"range"}:{}),sort:!0!==f&&Object(ne.F)(f)?f:{field:n.vgField(r,{}),op:"min"}}]);var m=d.bin;if(OR(m)){var v=XG(n,d.field,m);return bG([new RW((function(){var e=n.getSignalName(v);return"[".concat(e,".start, ").concat(e,".stop]")}))])}return bG([{data:n.requestDataName(ZH),field:n.vgField(r,{})}])}if(d.timeUnit&&yD(["time","utc"],e)&&oB(r,d,uq(n)?n.encoding[sR(r)]:void 0,n.stack,n.markDef,n.config)){var g=n.requestDataName(ZH);return bG([{data:g,field:n.vgField(r)},{data:g,field:n.vgField(r,{suffix:"end"})}])}return bG(f?[{data:CD(f)?n.requestDataName(ZH):n.requestDataName("raw"),field:n.vgField(r),sort:f}]:[{data:n.requestDataName(ZH),field:n.vgField(r)}])}function zW(e,t){var n=e.op,r=e.field,i=e.order;return Object.assign(Object.assign({op:null!==n&&void 0!==n?n:t?"sum":"min"},r?{field:LD(r)}:{}),i?{order:i}:{})}function HW(e,t){var n,r=e.component.scales[t],i=e.specifiedScales[t].domain,o=null===(n=e.fieldDef(t))||void 0===n?void 0:n.bin,a=TF(i)&&i,s=AR(o)&&MR(o.extent)&&o.extent;(a||s)&&r.set("selectionExtent",null!==a&&void 0!==a?a:s,!0)}function UW(e,t){var n=e.aggregate,r=e.type;return n?Object(ne.H)(n)&&!DN[n]?{valid:!1,reason:QL.unaggregateDomainWithNonSharedDomainOp(n)}:"quantitative"===r&&"log"===t?{valid:!1,reason:QL.unaggregatedDomainWithLogScale(e)}:{valid:!0}:{valid:!1,reason:QL.unaggregateDomainHasNoEffectForRawField(e)}}function VW(e,t,n,r){return e.explicit&&t.explicit&&rj(QL.mergeConflictingDomainProperty(n,r,e.value,t.value)),{explicit:e.explicit,value:[].concat(Zg(e.value),Zg(t.value))}}function GW(e){if(kj(e)&&Object(ne.H)(e.field))return e.field;if(function(e){return!Object(ne.A)(e)&&("fields"in e&&!("data"in e))}(e)){var t,n,r=ni(e.fields);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(kj(i)&&Object(ne.H)(i.field))if(t){if(t!==i.field)return rj("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),t}else t=i.field}}catch(a){r.e(a)}finally{r.f()}return rj("Detected faceted independent scales that union domain of identical fields from different source detected. We will assume that this is the same field from a different fork of the same data source. However, if this is not case, the result view size maybe incorrect."),t}if(function(e){return!Object(ne.A)(e)&&("fields"in e&&"data"in e)}(e)){rj("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.");var o=e.fields[0];return Object(ne.H)(o)?o:void 0}}function WW(e,t){return function(e){var t=wD(e.map((function(e){if(kj(e)){e.sort;return w(e,["sort"])}return e})),vD),n=wD(e.map((function(e){if(kj(e)){var t=e.sort;return void 0===t||CD(t)||("op"in t&&"count"===t.op&&delete t.field,"ascending"===t.order&&delete t.order),t}})).filter((function(e){return void 0!==e})),vD);if(0!==t.length){if(1===t.length){var r=e[0];if(kj(r)&&n.length>0){var i=n[0];if(n.length>1)rj(QL.MORE_THAN_ONE_SORT),i=!0;else if(Object(ne.F)(i)&&"field"in i){var o=i.field;r.field===o&&(i=!i.order||{order:i.order})}return Object.assign(Object.assign({},r),{sort:i})}return r}var a,s=wD(n.map((function(e){return CD(e)||!("op"in e)||e.op in kN?e:(rj(QL.domainSortDropped(e)),!0)})),vD);1===s.length?a=s[0]:s.length>1&&(rj(QL.MORE_THAN_ONE_SORT),a=!0);var l=wD(e.map((function(e){return kj(e)?e.data:null})),(function(e){return e}));return 1===l.length&&null!==l[0]?Object.assign({data:l[0],fields:t.map((function(e){return e.field}))},a?{sort:a}:{}):Object.assign({fields:t},a?{sort:a}:{})}}(e.component.scales[t].get("domains").map((function(t){return kj(t)&&(t.data=e.lookupDataSource(t.data)),t})))}function qW(e){return dq(e)||fq(e)?e.children.reduce((function(e,t){return e.concat(qW(t))}),YW(e)):YW(e)}function YW(e){return kD(e.component.scales).reduce((function(t,n){var r=e.component.scales[n];if(r.merged)return t;var i,o=r.combine(),a=o.name,s=o.type,l=o.selectionExtent,u=(o.domains,o.range,o.reverse),c=w(o,["name","type","selectionExtent","domains","range","reverse"]),f=function(e,t,n){if(hR(n)&&Sj(e))return{step:{signal:t+"_step"}};return e}(o.range,a,n);l&&(i=function(e,t){var n=t.selection;return{signal:SV(e.getSelectionComponent(n,AD(n)),t)}}(e,l));var d=WW(e,n);return t.push(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:a,type:s},d?{domain:d}:{}),i?{domainRaw:i}:{}),{range:f}),void 0!==u?{reverse:u}:{}),c)),t}),[])}var XW=function(e){cH(n,e);var t=pH(n);function n(e,r){var i;return JT(this,n),(i=t.call(this,{},{name:e})).merged=!1,i.setWithExplicit("type",r),i}return tS(n,[{key:"domainDefinitelyIncludesZero",value:function(){return!1!==this.get("zero")||bD(this.get("domains"),(function(e){return Object(ne.A)(e)&&2===e.length&&e[0]<=0&&e[1]>=0}))}}]),n}(gG),$W=["range","scheme"];function KW(e){return"x"===e?"width":"y"===e?"height":void 0}function ZW(e,t){var n=e.fieldDef(t);if(n&&n.bin&&OR(n.bin)){var r=XG(e,n.field,n.bin),i=KW(t),o=e.getName(i);return new RW((function(){var t=e.getSignalName(r),n="(".concat(t,".stop - ").concat(t,".start) / ").concat(t,".step");return"".concat(e.getSignalName(o)," / (").concat(n,")")}))}}function QW(e,t){var n,r=t.specifiedScales[e],i=t.size,o=t.getScaleComponent(e).get("type"),a=ni($W);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(void 0!==r[s]){var l=CF(o,s),u=AF(e,s);if(l)if(u)rj(u);else switch(s){case"range":return Object(ne.A)(r.range)&&hR(e)?yG(r.range.map((function(e){if("width"===e||"height"===e){var n=t.getName(e),r=t.getSignalName.bind(t);return RW.fromName(r,n)}return e}))):yG(r.range);case"scheme":return yG(JW(r[s]))}else rj(QL.scalePropertyNotWorkWithScaleType(o,s,e))}}}catch(d){a.e(d)}finally{a.f()}if("x"===e||"y"===e){var c="x"===e?"width":"height",f=i[c];if(Hz(f)){if(_F(o))return yG({step:f.step});rj(QL.stepDropped(c))}}return bG(function(e,t){var n=t.size,r=t.config,i=t.mark,o=t.encoding,a=t.getSignalName.bind(t),s=NB(o[e]).type,l=t.getScaleComponent(e).get("type"),u=t.specifiedScales[e],c=u.domain,f=u.domainMid;switch(e){case"x":case"y":if(yD(["point","band"],l))if("x"!==e||n.width){if("y"===e&&!n.height){var d=qz(r.view,"height");if(Hz(d))return d}}else{var h=qz(r.view,"width");if(Hz(h))return h}var p=KW(e),m=t.getName(p);return"y"===e&&xF(l)?[RW.fromName(a,m),0]:[0,RW.fromName(a,m)];case VN:var v=t.component.scales[e].get("zero"),g=function e(t,n,r){if(n)return Tj(n)?{signal:"".concat(n.signal," ? 0 : ").concat(e(t,!1,r))}:0;switch(t){case"bar":case"tick":return r.scale.minBandSize;case"line":case"trail":case"rule":return r.scale.minStrokeWidth;case"text":return r.scale.minFontSize;case"point":case"square":case"circle":return r.scale.minSize}throw new Error(QL.incompatibleChannel("size",t))}(i,v,r),y=function(e,t,n,r){var i={x:ZW(n,"x"),y:ZW(n,"y")};switch(e){case"bar":case"tick":if(void 0!==r.scale.maxBandSize)return r.scale.maxBandSize;var o=eq(t,i,r.view);return Object(ne.E)(o)?o-1:new RW((function(){return"".concat(o.signal," - 1")}));case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":if(r.scale.maxSize)return r.scale.maxSize;var a=eq(t,i,r.view);return Object(ne.E)(a)?Math.pow(.95*a,2):new RW((function(){return"pow(".concat(.95," * ").concat(a.signal,", 2)")}))}throw new Error(QL.incompatibleChannel("size",e))}(i,n,t,r);return EF(l)?function(e,t,n){var r=function(){var r=Tj(t)?t.signal:t,i=Tj(e)?e.signal:e,o="(".concat(r," - ").concat(i,") / (").concat(n," - 1)");return"sequence(".concat(i,", ").concat(r," + ").concat(o,", ").concat(o,")")};return Tj(t)?new RW(r):{signal:r()}}(g,y,function(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return void 0!==n&&Object(ne.A)(n)?n.length+1:(rj(QL.domainRequiredForThresholdScale(r)),3)}}(l,r,c,e)):[g,y];case jN:return[0,2*Math.PI];case"angle":return[0,360];case LN:return[0,new RW((function(){var e=t.getSignalName("width"),n=t.getSignalName("height");return"min(".concat(e,",").concat(n,")/2")}))];case"strokeWidth":return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case"strokeDash":return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case UN:return"symbol";case BN:case zN:case HN:return"ordinal"===l?"nominal"===s?"category":"ordinal":void 0!==f?"diverging":"rect"===i||"geoshape"===i?"heatmap":"ramp";case"opacity":case"fillOpacity":case"strokeOpacity":return[r.scale.minOpacity,r.scale.maxOpacity]}throw new Error("Scale range undefined for channel ".concat(e))}(e,t))}function JW(e){return function(e){return!Object(ne.H)(e)&&!!e.name}(e)?Object.assign({scheme:e.name},pD(e,["name"])):{scheme:e}}function eq(e,t,n){var r=Hz(e.width)?e.width.step:Wz(n,"width"),i=Hz(e.height)?e.height.step:Wz(n,"height");return t.x||t.y?new RW((function(){var e=[t.x?t.x.signal:r,t.y?t.y.signal:i];return"min(".concat(e.join(", "),")")})):Math.min(r,i)}function tq(e,t){uq(e)?function(e,t){var n,r=e.component.scales,i=e.config,o=e.encoding,a=e.markDef,s=e.specifiedScales,l=ni(kD(r));try{for(l.s();!(n=l.n()).done;){var u=n.value,c=s[u],f=r[u],d=e.getScaleComponent(u),h=NB(o[u]),p=c[t],m=d.get("type"),v=CF(m,t),g=AF(u,t);if(void 0!==p&&(v?g&&rj(g):rj(QL.scalePropertyNotWorkWithScaleType(m,t,u))),v&&void 0===g)if(void 0!==p)f.copyKeyFromObject(t,c);else{var y=nq(t,e,u,h,d.get("type"),d.get("padding"),d.get("paddingInner"),c.domain,a,i);void 0!==y&&f.set(t,y,!1)}}}catch(b){l.e(b)}finally{l.f()}}(e,t):iq(e,t)}function nq(e,t,n,r,i,o,a,s,l,u){var c=u.scale,f=r.type;switch(e){case"bins":return uB(r)?function(e,t){var n=t.bin;if(OR(n)){var r=XG(e,t.field,n);return new RW((function(){return e.getSignalName(r)}))}if(CR(n)&&AR(n)&&void 0!==n.step)return{step:n.step};return}(t,r):void 0;case"interpolate":return function(e,t){if(yD([BN,zN,HN],e)&&"nominal"!==t)return"hcl";return}(n,f);case"nice":return function(e,t,n){var r;if((null===(r=DB(n))||void 0===r?void 0:r.bin)||yD([tF,nF],e))return;return!!yD(dR,t)||void 0}(i,n,r);case"padding":return function(e,t,n,r,i,o){if(yD(dR,e)){if(wF(t)){if(void 0!==n.continuousPadding)return n.continuousPadding;var a=i.type,s=i.orient;if("bar"===a&&(!uB(r)||!r.bin&&!r.timeUnit)&&("vertical"===s&&"x"===e||"horizontal"===s&&"y"===e))return o.continuousBandSize}if(t===aF)return n.pointPadding}return}(n,i,c,r,l,u.bar);case"paddingInner":return function(e,t,n,r){if(void 0!==e)return;if(yD(dR,t)){var i=r.bandPaddingInner,o=r.barBandPaddingInner,a=r.rectBandPaddingInner;return zD(i,"bar"===n?o:a)}return}(o,n,l.type,c);case"paddingOuter":return function(e,t,n,r,i,o){if(void 0!==e)return;if(yD(dR,t)){if(n===sF)return zD(o.bandPaddingOuter,Tj(i)?{signal:"".concat(i.signal,"/2")}:i/2)}return}(o,n,i,l.type,a,c);case"reverse":return function(e,t,n,r){if("x"===n&&void 0!==r.xReverse)return xF(e)&&"descending"===t?Tj(r.xReverse)?{signal:"!".concat(r.xReverse.signal)}:!r.xReverse:r.xReverse;if(xF(e)&&"descending"===t)return!0;return}(i,uB(r)?r.sort:void 0,n,c);case"zero":return function(e,t,n,r,i){if(n&&"unaggregated"!==n&&xF(i)){if(Object(ne.A)(n)){var o=n[0],a=n[n.length-1];if(o<=0&&a>=0)return!0}return!1}if("size"===e&&"quantitative"===t.type&&!EF(i))return!0;if((!uB(t)||!t.bin)&&yD([].concat(Zg(dR),Zg(mR)),e)){var s=r.orient;return!yD(["bar","area","line","trail"],r.type)||!("horizontal"===s&&"y"===e||"vertical"===s&&"x"===e)}return!1}(n,r,s,l,i)}return c[e]}function rq(e){uq(e)?function(e){var t,n=e.component.scales,r=ni(_R);try{for(r.s();!(t=r.n()).done;){var i=t.value,o=n[i];if(o){var a=QW(i,e);o.setWithExplicit("range",a)}}}catch(s){r.e(s)}finally{r.f()}}(e):iq(e,"range")}function iq(e,t){var n,r=e.component.scales,i=ni(e.children);try{for(i.s();!(n=i.n()).done;){var o=n.value;"range"===t?rq(o):tq(o,t)}}catch(h){i.e(h)}finally{i.f()}var a,s=ni(kD(r));try{for(s.s();!(a=s.n()).done;){var l,u=a.value,c=void 0,f=ni(e.children);try{for(f.s();!(l=f.n()).done;){var d=l.value.component.scales[u];if(d)c=wG(c,d.getWithExplicit(t),t,"scale",_G((function(e,n){switch(t){case"range":return e.step&&n.step?e.step-n.step:0}return 0})))}}catch(h){f.e(h)}finally{f.f()}r[u].setWithExplicit(t,c)}}catch(h){s.e(h)}finally{s.f()}}function oq(e,t,n,r){var i=function(e,t,n){var r;switch(t.type){case"nominal":case"ordinal":if($N(e)||"discrete"===SR(e))return"shape"===e&&"ordinal"===t.type&&rj(QL.discreteChannelCannotEncode(e,"ordinal")),"ordinal";if(yD(dR,e)){if(yD(["rect","bar","image","rule"],n))return"band"}else if("arc"===n&&yD(mR,e))return"band";return void 0!==t.band||yB(t)&&(null===(r=t.axis)||void 0===r?void 0:r.tickBand)?"band":"point";case"temporal":return $N(e)?"time":"discrete"===SR(e)?(rj(QL.discreteChannelCannotEncode(e,"temporal")),"ordinal"):uB(t)&&t.timeUnit&&xj(t.timeUnit).utc?"utc":"time";case"quantitative":return $N(e)?uB(t)&&OR(t.bin)?"bin-ordinal":"linear":"discrete"===SR(e)?(rj(QL.discreteChannelCannotEncode(e,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(QL.invalidFieldType(t.type))}(t,n,r),o=e.type;return xR(t)?void 0!==o?PF(t,o)?uB(n)&&!MF(o,n.type)?(rj(QL.scaleTypeNotWorkWithFieldDef(o,i)),i):o:(rj(QL.scaleTypeNotWorkWithChannel(t,o,i)),i):i:null}function aq(e){uq(e)?e.component.scales=function(e){var t=e.encoding,n=e.mark;return _R.reduce((function(r,i){var o=NB(t[i]);if(o&&n===hN&&i===UN&&o.type===Xj)return r;var a=o&&o.scale;if(o&&null!==a&&!1!==a){var s=oq(a=null!==a&&void 0!==a?a:{},i,o,n);r[i]=new XW(e.scaleName(i+"",!0),{value:s,explicit:a.type===s})}return r}),{})}(e):e.component.scales=function(e){var t,n,r=e.component.scales={},i={},o=e.component.resolve,a=ni(e.children);try{for(a.s();!(n=a.n()).done;){var s=n.value;aq(s);var l,u=ni(kD(s.component.scales));try{for(u.s();!(l=u.n()).done;){var c=l.value;if(o.scale[c]=null!==(t=o.scale[c])&&void 0!==t?t:mG(c,e),"shared"===o.scale[c]){var f=i[c],d=s.component.scales[c].getWithExplicit("type");f?cF(f.value,d.value)?i[c]=wG(f,d,"type","scale",sq):(o.scale[c]="independent",delete i[c]):i[c]=d}}}catch(w){u.e(w)}finally{u.f()}}}catch(w){a.e(w)}finally{a.f()}var h,p=ni(kD(i));try{for(p.s();!(h=p.n()).done;){var m=h.value,v=e.scaleName(m,!0),g=i[m];r[m]=new XW(v,g);var y,b=ni(e.children);try{for(b.s();!(y=b.n()).done;){var _=y.value,x=_.component.scales[m];x&&(_.renameScale(x.get("name"),v),x.merged=!0)}}catch(w){b.e(w)}finally{b.f()}}}catch(w){p.e(w)}finally{p.f()}return r}(e)}var sq=_G((function(e,t){return dF(e)-dF(t)}));var lq=function(){function e(){JT(this,e),this.nameMap={}}return tS(e,[{key:"rename",value:function(e,t){this.nameMap[e]=t}},{key:"has",value:function(e){return void 0!==this.nameMap[e]}},{key:"get",value:function(e){for(;this.nameMap[e]&&e!==this.nameMap[e];)e=this.nameMap[e];return e}}]),e}();function uq(e){return"unit"===(null===e||void 0===e?void 0:e.type)}function cq(e){return"facet"===(null===e||void 0===e?void 0:e.type)}function fq(e){return"concat"===(null===e||void 0===e?void 0:e.type)}function dq(e){return"layer"===(null===e||void 0===e?void 0:e.type)}var hq=function(){function e(t,n,r,i,o,a,s){var l,u,c=this;JT(this,e),this.type=n,this.parent=r,this.config=o,this.view=s,this.children=[],this.correctDataNames=function(e){return e.from&&e.from.data&&(e.from.data=c.lookupDataSource(e.from.data)),e.from&&e.from.facet&&e.from.facet.data&&(e.from.facet.data=c.lookupDataSource(e.from.facet.data)),e},this.parent=r,this.config=o,this.name=null!==(l=t.name)&&void 0!==l?l:i,this.title=qB(t.title)?{text:t.title}:t.title,this.scaleNameMap=r?r.scaleNameMap:new lq,this.projectionNameMap=r?r.projectionNameMap:new lq,this.signalNameMap=r?r.signalNameMap:new lq,this.data=t.data,this.description=t.description,this.transforms=(null!==(u=t.transform)&&void 0!==u?u:[]).map((function(e){return QH(e)?{filter:cD(e.filter,Uj)}:e})),this.layout="layer"===n||"unit"===n?{}:function(e,t,n){var r,i,o=n[t],a={},s=o.spacing,l=o.columns;void 0!==s&&(a.spacing=s),void 0!==l&&(tB(e)&&!JF(e.facet)||Fz(e))&&(a.columns=l),Bz(e)&&(a.columns=1);var u,c=ni(Vz);try{for(c.s();!(u=c.n()).done;){var f=u.value;if(void 0!==e[f])if("spacing"===f){var d=e[f];a[f]=Object(ne.E)(d)?d:{row:null!==(r=d.row)&&void 0!==r?r:s,column:null!==(i=d.column)&&void 0!==i?i:s}}else a[f]=e[f]}}catch(h){c.e(h)}finally{c.f()}return a}(t,n,o),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:tB(t)||r&&r.component.data.isFaceted&&void 0===t.data},layoutSize:new gG,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({scale:{},axis:{},legend:{}},a?dD(a):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}return tS(e,[{key:"parse",value:function(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}},{key:"parseScale",value:function(){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.ignoreRange;aq(e),LW(e);var r,i=ni(OF);try{for(i.s();!(r=i.n()).done;){var o=r.value;tq(e,o)}}catch(a){i.e(a)}finally{i.f()}n||rq(e)}(this)}},{key:"parseProjection",value:function(){qG(this)}},{key:"renameTopLevelLayoutSizeSignal",value:function(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width"),"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}},{key:"parseLegends",value:function(){RG(this)}},{key:"assembleGroupStyle",value:function(){var e,t;if("unit"===this.type||"layer"===this.type)return null!==(t=null===(e=this.view)||void 0===e?void 0:e.style)&&void 0!==t?t:"cell"}},{key:"assembleEncodeFromView",value:function(e){e.style;var t,n=w(e,["style"]),r={},i=ni(kD(n));try{for(i.s();!(t=i.n()).done;){var o=t.value,a=n[o];void 0!==a&&(r[o]=YB(a))}}catch(s){i.e(s)}finally{i.f()}return r}},{key:"assembleGroupEncodeEntry",value:function(e){var t=void 0;return this.view&&(t=this.assembleEncodeFromView(this.view)),e||"unit"!==this.type&&"layer"!==this.type?t:Object.assign({width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!==t&&void 0!==t?t:{})}},{key:"assembleLayout",value:function(){if(this.layout){var e=this.layout,t=e.spacing,n=w(e,["spacing"]),r=this.component,i=this.config,o=function(e,t){var n,r={},i=ni(ZN);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=e[o];if(null===a||void 0===a?void 0:a.facetFieldDef){var s=KV(["titleAnchor","titleOrient"],a.facetFieldDef,t,o),l=s.titleAnchor,u=XV(o,s.titleOrient),c=sG(l,u);void 0!==c&&(r[u]=c)}}}catch(f){i.e(f)}finally{i.f()}return kD(r).length>0?r:void 0}(r.layoutHeaders,i);return Object.assign(Object.assign(Object.assign({padding:t},this.assembleDefaultLayout()),n),o?{titleBand:o}:{})}}},{key:"assembleDefaultLayout",value:function(){return{}}},{key:"assembleHeaderMarks",value:function(){var e,t=this.component.layoutHeaders,n=[],r=ni(ZN);try{for(r.s();!(e=r.n()).done;){var i=e.value;t[i].title&&n.push(JV(this,i))}}catch(l){r.e(l)}finally{r.f()}var o,a=ni(ZV);try{for(a.s();!(o=a.n()).done;){var s=o.value;n=n.concat(nG(this,s))}}catch(l){a.e(l)}finally{a.f()}return n}},{key:"assembleAxes",value:function(){return function(e,t){var n=e.x,r=void 0===n?[]:n,i=e.y,o=void 0===i?[]:i;return[].concat(Zg(r.map((function(e){return MV(e,"grid",t)}))),Zg(o.map((function(e){return MV(e,"grid",t)}))),Zg(r.map((function(e){return MV(e,"main",t)}))),Zg(o.map((function(e){return MV(e,"main",t)})))).filter((function(e){return e}))}(this.component.axes,this.config)}},{key:"assembleLegends",value:function(){return zG(this)}},{key:"assembleProjections",value:function(){return UG(this)}},{key:"assembleTitle",value:function(){var e,t,n,r=null!==(e=this.title)&&void 0!==e?e:{},i=r.encoding,o=w(r,["encoding"]),a=Object.assign(Object.assign(Object.assign({},WB(this.config.title).nonMark),o),i?{encode:{update:i}}:{});if(a.text)return yD(["unit","layer"],this.type)?yD(["middle",void 0],a.anchor)&&(a.frame=null!==(t=a.frame)&&void 0!==t?t:"group"):a.anchor=null!==(n=a.anchor)&&void 0!==n?n:"start",kD(a).length>0?a:void 0}},{key:"assembleGroup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={};(e=e.concat(this.assembleSignals())).length>0&&(t.signals=e);var n=this.assembleLayout();n&&(t.layout=n),t.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());var r=!this.parent||cq(this.parent)?qW(this):[];r.length>0&&(t.scales=r);var i=this.assembleAxes();i.length>0&&(t.axes=i);var o=this.assembleLegends();return o.length>0&&(t.legends=o),t}},{key:"getName",value:function(e){return AD((this.name?this.name+"_":"")+e)}},{key:"requestDataName",value:function(e){var t,n=this.getName(e),r=this.component.data.outputNodeRefCounts;return r[n]=(null!==(t=r[n])&&void 0!==t?t:0)+1,n}},{key:"getSizeSignalRef",value:function(e){if(cq(this.parent)){var t=vR(hG(e)),n=this.component.scales[t];if(n&&!n.merged){var r=n.get("type"),i=n.get("range");if(_F(r)&&Sj(i)){var o=n.get("name"),a=GW(WW(this,t));return a?{signal:dG(o,n,xB({aggregate:"distinct",field:a},{expr:"datum"}))}:(rj("Unknown field for ".concat(t,". Cannot calculate view size.")),null)}}}return{signal:this.signalNameMap.get(this.getName(e))}}},{key:"lookupDataSource",value:function(e){var t=this.component.data.outputNodes[e];return t?t.getSource():e}},{key:"getSignalName",value:function(e){return this.signalNameMap.get(e)}},{key:"renameSignal",value:function(e,t){this.signalNameMap.rename(e,t)}},{key:"renameScale",value:function(e,t){this.scaleNameMap.rename(e,t)}},{key:"renameProjection",value:function(e,t){this.projectionNameMap.rename(e,t)}},{key:"scaleName",value:function(e,t){return t?this.getName(e):nR(e)&&xR(e)&&this.component.scales[e]||this.scaleNameMap.has(this.getName(e))?this.scaleNameMap.get(this.getName(e)):void 0}},{key:"projectionName",value:function(e){return e?this.getName("projection"):this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection"))?this.projectionNameMap.get(this.getName("projection")):void 0}},{key:"getScaleComponent",value:function(e){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");var t=this.component.scales[e];return t&&!t.merged?t:this.parent?this.parent.getScaleComponent(e):void 0}},{key:"getSelectionComponent",value:function(e,t){var n=this.component.selection[e];if(!n&&this.parent&&(n=this.parent.getSelectionComponent(e,t)),!n)throw new Error(QL.selectionNotFound(t));return n}},{key:"width",get:function(){return this.getSizeSignalRef("width")}},{key:"height",get:function(){return this.getSizeSignalRef("height")}}]),e}(),pq=function(e){cH(n,e);var t=pH(n);function n(){return JT(this,n),t.apply(this,arguments)}return tS(n,[{key:"vgField",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.fieldDef(e);if(n)return xB(n,t)}},{key:"reduceFieldDef",value:function(e,t){return uz(this.getMapping(),(function(t,n,r){var i=DB(n);return i?e(t,i,r):t}),t)}},{key:"forEachFieldDef",value:function(e,t){lz(this.getMapping(),(function(t,n){var r=DB(t);r&&e(r,n)}),t)}}]),n}(hq),mq=function(e){cH(n,e);var t=pH(n);function n(e,r){var i,o,a,s;JT(this,n),(i=t.call(this,e)).transform=r,i.transform=dD(r);var l=null!==(o=i.transform.as)&&void 0!==o?o:[void 0,void 0];return i.transform.as=[null!==(a=l[0])&&void 0!==a?a:"value",null!==(s=l[1])&&void 0!==s?s:"density"],i}return tS(n,[{key:"clone",value:function(){return new n(null,dD(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.density].concat(Zg(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"DensityTransform ".concat(vD(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.density,n=w(e,["density"]);return Object.assign({type:"kde",field:t},n)}}]),n}(zU),vq=function(e){cH(n,e);var t=pH(n);function n(e,r){var i;return JT(this,n),(i=t.call(this,e)).filter=r,i}return tS(n,[{key:"clone",value:function(){return new n(null,Object.assign({},this.filter))}},{key:"dependentFields",value:function(){return new Set(kD(this.filter))}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return"FilterInvalid ".concat(vD(this.filter))}},{key:"assemble",value:function(){var e=this,t=kD(this.filter).reduce((function(t,n){var r=e.filter[n],i=xB(r,{expr:"datum"});return null!==r&&("temporal"===r.type?t.push("(isDate(".concat(i,") || (isValid(").concat(i,") && isFinite(+").concat(i,")))")):"quantitative"===r.type&&(t.push("isValid(".concat(i,")")),t.push("isFinite(+".concat(i,")")))),t}),[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}],[{key:"make",value:function(e,t){var r=t.config,i=t.mark;if("filter"!==$B("invalid",t.markDef,r))return null;var o=t.reduceFieldDef((function(e,n,r){var o=xR(r)&&t.getScaleComponent(r);o&&(xF(o.get("type"))&&"count"!==n.aggregate&&!pN(i)&&(e[n.field]=n));return e}),{});return kD(o).length?new n(e,o):null}}]),n}(zU),gq=function(e){cH(n,e);var t=pH(n);function n(e,r){var i;JT(this,n),(i=t.call(this,e)).transform=r,i.transform=dD(r);var o=i.transform,a=o.flatten,s=o.as,l=void 0===s?[]:s;return i.transform.as=a.map((function(e,t){var n;return null!==(n=l[t])&&void 0!==n?n:e})),i}return tS(n,[{key:"clone",value:function(){return new n(this.parent,dD(this.transform))}},{key:"dependentFields",value:function(){return new Set(this.transform.flatten)}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"FlattenTransform ".concat(vD(this.transform))}},{key:"assemble",value:function(){var e=this.transform;return{type:"flatten",fields:e.flatten,as:e.as}}}]),n}(zU),yq=function(e){cH(n,e);var t=pH(n);function n(e,r){var i,o,a,s;JT(this,n),(i=t.call(this,e)).transform=r,i.transform=dD(r);var l=null!==(o=i.transform.as)&&void 0!==o?o:[void 0,void 0];return i.transform.as=[null!==(a=l[0])&&void 0!==a?a:"key",null!==(s=l[1])&&void 0!==s?s:"value"],i}return tS(n,[{key:"clone",value:function(){return new n(null,dD(this.transform))}},{key:"dependentFields",value:function(){return new Set(this.transform.fold)}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"FoldTransform ".concat(vD(this.transform))}},{key:"assemble",value:function(){var e=this.transform;return{type:"fold",fields:e.fold,as:e.as}}}]),n}(zU),bq=function(e){cH(n,e);var t=pH(n);function n(e,r,i,o){var a;return JT(this,n),(a=t.call(this,e)).fields=r,a.geojson=i,a.signal=o,a}return tS(n,[{key:"clone",value:function(){return new n(null,dD(this.fields),this.geojson,this.signal)}},{key:"dependentFields",value:function(){var e,t=(null!==(e=this.fields)&&void 0!==e?e:[]).filter(ne.H);return new Set([].concat(Zg(this.geojson?[this.geojson]:[]),Zg(t)))}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return"GeoJSON ".concat(this.geojson," ").concat(this.signal," ").concat(vD(this.fields))}},{key:"assemble",value:function(){return Object.assign(Object.assign(Object.assign({type:"geojson"},this.fields?{fields:this.fields}:{}),this.geojson?{geojson:this.geojson}:{}),{signal:this.signal})}}],[{key:"parseAll",value:function(e,t){if(t.component.projection&&!t.component.projection.isFit)return e;for(var r=0,i=0,o=[["longitude","latitude"],["longitude2","latitude2"]];i<o.length;i++){var a=o[i].map((function(e){var n=NB(t.encoding[e]);return uB(n)?n.field:fB(n)?{expr:"".concat(n.datum)}:vB(n)?{expr:"".concat(n.value)}:void 0}));(a[0]||a[1])&&(e=new n(e,a,null,t.getName("geojson_".concat(r++))))}if(t.channelHasField(UN)){var s=t.typedFieldDef(UN);s.type===Xj&&(e=new n(e,null,s.field,t.getName("geojson_".concat(r++))))}return e}}]),n}(zU),_q=function(e){cH(n,e);var t=pH(n);function n(e,r,i,o){var a;return JT(this,n),(a=t.call(this,e)).projection=r,a.fields=i,a.as=o,a}return tS(n,[{key:"clone",value:function(){return new n(null,this.projection,dD(this.fields),dD(this.as))}},{key:"dependentFields",value:function(){return new Set(this.fields.filter(ne.H))}},{key:"producedFields",value:function(){return new Set(this.as)}},{key:"hash",value:function(){return"Geopoint ".concat(this.projection," ").concat(vD(this.fields)," ").concat(vD(this.as))}},{key:"assemble",value:function(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}],[{key:"parseAll",value:function(e,t){if(!t.projectionName())return e;for(var r=0,i=[["longitude","latitude"],["longitude2","latitude2"]];r<i.length;r++){var o=i[r],a=o.map((function(e){var n=NB(t.encoding[e]);return uB(n)?n.field:fB(n)?{expr:"".concat(n.datum)}:vB(n)?{expr:"".concat(n.value)}:void 0})),s="longitude2"===o[0]?"2":"";(a[0]||a[1])&&(e=new n(e,t.projectionName(),a,[t.getName("x"+s),t.getName("y"+s)]))}return e}}]),n}(zU),xq=function(e){cH(n,e);var t=pH(n);function n(e,r){var i;return JT(this,n),(i=t.call(this,e)).transform=r,i}return tS(n,[{key:"clone",value:function(){return new n(null,dD(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.impute,this.transform.key].concat(Zg(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set([this.transform.impute])}},{key:"processSequence",value:function(e){var t=e.start,n=void 0===t?0:t,r=e.stop,i=e.step,o=[n,r].concat(Zg(i?[i]:[])).join(",");return{signal:"sequence(".concat(o,")")}}},{key:"hash",value:function(){return"Impute ".concat(vD(this.transform))}},{key:"assemble",value:function(){var e,t=this.transform,n=t.impute,r=t.key,i=t.keyvals,o=t.method,a=t.groupby,s=t.value,l=t.frame,u=void 0===l?[null,null]:l,c=Object.assign(Object.assign(Object.assign(Object.assign({type:"impute",field:n,key:r},i?{keyvals:(e=i,void 0!==(null===e||void 0===e?void 0:e.stop)?this.processSequence(i):i)}:{}),{method:"value"}),a?{groupby:a}:{}),{value:o&&"value"!==o?null:s});return o&&"value"!==o?[c,Object.assign({type:"window",as:["imputed_".concat(n,"_value")],ops:[o],fields:[n],frame:u,ignorePeers:!1},a?{groupby:a}:{}),{type:"formula",expr:"datum.".concat(n," === null ? datum.imputed_").concat(n,"_value : datum.").concat(n),as:n}]:[c]}}],[{key:"makeFromTransform",value:function(e,t){return new n(e,t)}},{key:"makeFromEncoding",value:function(e,t){var r=t.encoding,i=r.x,o=r.y;if(uB(i)&&uB(o)){var a=i.impute?i:o.impute?o:void 0;if(void 0===a)return;var s=i.impute?o:o.impute?i:void 0,l=a.impute,u=l.method,c=l.value,f=l.frame,d=l.keyvals,h=cz(t.mark,r);return new n(e,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({impute:a.field,key:s.field},u?{method:u}:{}),void 0!==c?{value:c}:{}),f?{frame:f}:{}),void 0!==d?{keyvals:d}:{}),h.length?{groupby:h}:{}))}return null}}]),n}(zU),wq=function(e){cH(n,e);var t=pH(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return JT(this,n),(e=t.call(this,r,i)).explicit=r,e.implicit=i,e.parseNothing=o,e}return tS(n,[{key:"clone",value:function(){var e=uH(lH(n.prototype),"clone",this).call(this);return e.parseNothing=this.parseNothing,e}}]),n}(gG),Eq=function(e){cH(n,e);var t=pH(n);function n(e,r){var i,o,a,s;JT(this,n),(i=t.call(this,e)).transform=r,i.transform=dD(r);var l=null!==(o=i.transform.as)&&void 0!==o?o:[void 0,void 0];return i.transform.as=[null!==(a=l[0])&&void 0!==a?a:r.on,null!==(s=l[1])&&void 0!==s?s:r.loess],i}return tS(n,[{key:"clone",value:function(){return new n(null,dD(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.loess,this.transform.on].concat(Zg(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"LoessTransform ".concat(vD(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.loess,n=e.on,r=w(e,["loess","on"]);return Object.assign({type:"loess",x:n,y:t},r)}}]),n}(zU),Tq=function(e){cH(n,e);var t=pH(n);function n(e,r,i){var o;return JT(this,n),(o=t.call(this,e)).transform=r,o.secondary=i,o}return tS(n,[{key:"clone",value:function(){return new n(null,dD(this.transform),this.secondary)}},{key:"dependentFields",value:function(){return new Set([this.transform.lookup])}},{key:"producedFields",value:function(){return new Set(this.transform.as?Object(ne.i)(this.transform.as):this.transform.from.fields)}},{key:"hash",value:function(){return"Lookup ".concat(vD({transform:this.transform,secondary:this.secondary}))}},{key:"assemble",value:function(){var e;if(this.transform.from.fields)e=Object.assign({values:this.transform.from.fields},this.transform.as?{as:Object(ne.i)(this.transform.as)}:{});else{var t=this.transform.as;Object(ne.H)(t)||(rj(QL.NO_FIELDS_NEEDS_AS),t="_lookup"),e={as:[t]}}return Object.assign(Object.assign({type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},e),this.transform.default?{default:this.transform.default}:{})}}],[{key:"make",value:function(e,t,r,i){var o=t.component.data.sources,a=r.from,s=null;if(function(e){return"data"in e}(a)){var l=zq(a.data,o);l||(l=new ZG(a.data),o.push(l));var u=t.getName("lookup_".concat(i));s=new HU(l,u,"lookup",t.component.data.outputNodeRefCounts),t.component.data.outputNodes[u]=s}else if(function(e){return"selection"in e}(a)){var c=a.selection;if(r=Object.assign({as:c},r),!(s=t.getSelectionComponent(AD(c),c).materialized))throw new Error(QL.noSameUnitLookup(c))}return new n(e,r,s.getSource())}}]),n}(zU),Sq=function(e){cH(n,e);var t=pH(n);function n(e,r){var i,o,a,s;JT(this,n),(i=t.call(this,e)).transform=r,i.transform=dD(r);var l=null!==(o=i.transform.as)&&void 0!==o?o:[void 0,void 0];return i.transform.as=[null!==(a=l[0])&&void 0!==a?a:"prob",null!==(s=l[1])&&void 0!==s?s:"value"],i}return tS(n,[{key:"clone",value:function(){return new n(null,dD(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.quantile].concat(Zg(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"QuantileTransform ".concat(vD(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.quantile,n=w(e,["quantile"]);return Object.assign({type:"quantile",field:t},n)}}]),n}(zU),kq=function(e){cH(n,e);var t=pH(n);function n(e,r){var i,o,a,s;JT(this,n),(i=t.call(this,e)).transform=r,i.transform=dD(r);var l=null!==(o=i.transform.as)&&void 0!==o?o:[void 0,void 0];return i.transform.as=[null!==(a=l[0])&&void 0!==a?a:r.on,null!==(s=l[1])&&void 0!==s?s:r.regression],i}return tS(n,[{key:"clone",value:function(){return new n(null,dD(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.regression,this.transform.on].concat(Zg(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"RegressionTransform ".concat(vD(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.regression,n=e.on,r=w(e,["regression","on"]);return Object.assign({type:"regression",x:n,y:t},r)}}]),n}(zU),Oq=function(e){cH(n,e);var t=pH(n);function n(e,r){var i;return JT(this,n),(i=t.call(this,e)).transform=r,i}return tS(n,[{key:"clone",value:function(){return new n(null,dD(this.transform))}},{key:"addDimensions",value:function(e){var t;this.transform.groupby=wD((null!==(t=this.transform.groupby)&&void 0!==t?t:[]).concat(e),(function(e){return e}))}},{key:"producedFields",value:function(){}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.pivot,this.transform.value].concat(Zg(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"hash",value:function(){return"PivotTransform ".concat(vD(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.pivot,n=e.value,r=e.groupby,i=e.limit,o=e.op;return Object.assign(Object.assign(Object.assign({type:"pivot",field:t,value:n},void 0!==i?{limit:i}:{}),void 0!==o?{op:o}:{}),void 0!==r?{groupby:r}:{})}}]),n}(zU),Cq=function(e){cH(n,e);var t=pH(n);function n(e,r){var i;return JT(this,n),(i=t.call(this,e)).transform=r,i}return tS(n,[{key:"clone",value:function(){return new n(null,dD(this.transform))}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return"SampleTransform ".concat(vD(this.transform))}},{key:"assemble",value:function(){return{type:"sample",size:this.transform.sample}}}]),n}(zU);function Aq(e){var t=0;return function n(r,i){var o,a,s;if(r instanceof ZG&&(r.isGenerator||GH(r.data)||(e.push(i),i={name:null,source:i.name,transform:[]})),r instanceof dW&&(r.parent instanceof ZG&&!i.source?(i.format=Object.assign(Object.assign({},null!==(o=i.format)&&void 0!==o?o:{}),{parse:r.assembleFormatParse()}),(a=i.transform).push.apply(a,Zg(r.assembleTransforms(!0)))):(s=i.transform).push.apply(s,Zg(r.assembleTransforms()))),r instanceof sW){i.name||(i.name="data_".concat(t++)),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source;var l,u=ni(r.assemble());try{for(u.s();!(l=u.n()).done;){var c=l.value;e.push(c)}}catch(m){u.e(m)}finally{u.f()}}else{var f;if((r instanceof JG||r instanceof eW||r instanceof vq||r instanceof EV||r instanceof qV||r instanceof _q||r instanceof bq||r instanceof aW||r instanceof Tq||r instanceof mW||r instanceof hW||r instanceof yq||r instanceof gq||r instanceof mq||r instanceof Eq||r instanceof Sq||r instanceof kq||r instanceof vW||r instanceof Cq||r instanceof Oq)&&i.transform.push(r.assemble()),r instanceof KG||r instanceof UU||r instanceof xq||r instanceof pW)(f=i.transform).push.apply(f,Zg(r.assemble()));if(r instanceof HU)if(i.source&&0===i.transform.length)r.setSource(i.source);else if(r.parent instanceof HU)r.setSource(i.name);else{if(i.name||(i.name="data_".concat(t++)),r.setSource(i.name),1===r.numChildren())e.push(i),i={name:null,source:i.name,transform:[]}}switch(r.numChildren()){case 0:r instanceof HU&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:n(r.children[0],i);break;default:i.name||(i.name="data_".concat(t++));var d=i.name;!i.source||i.transform.length>0?e.push(i):d=i.source;var h,p=ni(r.children);try{for(p.s();!(h=p.n()).done;){n(h.value,{name:null,source:d,transform:[]})}}catch(m){p.e(m)}finally{p.f()}}}}}function Mq(e,t){var n,r,i,o=[],a=Aq(o),s=0,l=ni(e.sources);try{for(l.s();!(i=l.n()).done;){var u=i.value;u.hasName()||(u.dataName="source_".concat(s++));var c=u.assemble();a(u,c)}}catch(C){l.e(C)}finally{l.f()}for(var f=0,d=o;f<d.length;f++){var h=d[f];0===h.transform.length&&delete h.transform}var p,m=0,v=ni(o.entries());try{for(v.s();!(p=v.n()).done;){var g=Qi(p.value,2),y=g[0],b=g[1];0!==(null!==(n=b.transform)&&void 0!==n?n:[]).length||b.source||o.splice(m++,0,o.splice(y,1)[0])}}catch(C){v.e(C)}finally{v.f()}for(var _=0,x=o;_<x.length;_++){var w,E=ni(null!==(r=x[_].transform)&&void 0!==r?r:[]);try{for(E.s();!(w=E.n()).done;){var T=w.value;"lookup"===T.type&&(T.from=e.outputNodes[T.from].getSource())}}catch(C){E.e(C)}finally{E.f()}}for(var S=0,k=o;S<k.length;S++){var O=k[S];O.name in t&&(O.values=t[O.name])}return o}function Pq(e,t){var n,r=e.facet,i=e.config,o=e.child,a=e.component;if(e.channelHasField(t)){var s=r[t],l=$V("title",null,i,t),u=AB(s,i,{allowDisabling:!0,includeDefault:void 0===l||!!l});o.component.layoutHeaders[t].title&&(u=Object(ne.A)(u)?u.join(", "):u,u+=" / "+o.component.layoutHeaders[t].title,o.component.layoutHeaders[t].title=null);var c=$V("labelOrient",s,i,t),f=zD((null!==(n=s.header)&&void 0!==n?n:{}).labels,i.header.labels,!0),d=yD(["bottom","right"],c)?"footer":"header";a.layoutHeaders[t]=$a({title:u,facetFieldDef:s},d,"facet"===t?[]:[Iq(e,t,f)])}}function Iq(e,t,n){var r="row"===t?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function Dq(e,t){var n,r,i=e.child;if(i.component.axes[t]){var o=e.component,a=o.layoutHeaders,s=o.resolve;if(s.axis[t]=vG(s,t),"shared"===s.axis[t]){var l,u="x"===t?"column":"row",c=a[u],f=ni(i.component.axes[t]);try{for(f.s();!(l=f.n()).done;){var d=l.value,h="top"===(r=d.get("orient"))||"left"===r||Tj(r)?"header":"footer";c[h]=null!==(n=c[h])&&void 0!==n?n:[Iq(e,u,!1)];var p=MV(d,"main",e.config,{header:!0});p&&c[h][0].axes.push(p),d.mainExtracted=!0}}catch(m){f.e(m)}finally{f.f()}}}}function Nq(e){Rq(e);var t=1===e.layout.columns?"width":"childWidth",n=void 0===e.layout.columns?"height":"childHeight";Lq(e,t),Lq(e,n)}function Rq(e){var t,n=ni(e.children);try{for(n.s();!(t=n.n()).done;){t.value.parseLayoutSize()}}catch(r){n.e(r)}finally{n.f()}}function Lq(e,t){var n,r,i=hG(t),o=vR(i),a=e.component.resolve,s=e.component.layoutSize,l=ni(e.children);try{for(l.s();!(r=l.n()).done;){var u=r.value.component.layoutSize.getWithExplicit(i),c=a.scale[o];if("independent"===c&&"step"===u.value){n=void 0;break}if(n){if("independent"===c&&n.value!==u.value){n=void 0;break}n=wG(n,u,i,"")}else n=u}}catch(p){l.e(p)}finally{l.f()}if(n){var f,d=ni(e.children);try{for(d.s();!(f=d.n()).done;){var h=f.value;e.renameSignal(h.getName(i),e.getName(t)),h.component.layoutSize.set(i,"merged",!1)}}catch(p){d.e(p)}finally{d.f()}s.setWithExplicit(t,n)}else s.setWithExplicit(t,{explicit:!1,value:void 0})}function jq(e,t){var n="width"===t?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){var o=i.get("type"),a=i.get("range");if(_F(o)){var s=qz(r.view,t);return Sj(a)||Hz(s)?"step":s}return Gz(r.view,t)}if(e.hasProjection||"arc"===e.mark)return Gz(r.view,t);var l=qz(r.view,t);return Hz(l)?l.step:l}function Fq(e,t,n){return xB(t,Object.assign({suffix:"by_".concat(xB(e))},null!==n&&void 0!==n?n:{}))}var Bq=function(e){cH(n,e);var t=pH(n);function n(e,r,i,o){var a;return JT(this,n),(a=t.call(this,e,"facet",r,i,o,e.resolve)).child=dY(e.spec,dH(a),a.getName("child"),void 0,o),a.children=[a.child],a.facet=a.initFacet(e.facet),a}return tS(n,[{key:"initFacet",value:function(e){return JF(e)?uz(e,(function(e,t,n){return yD([NN,RN],n)?void 0===t.field?(rj(QL.emptyFieldDef(t,n)),e):(e[n]=RB(t,n),e):(rj(QL.incompatibleChannel(n,"facet")),e)}),{}):{facet:RB(e,"facet")}}},{key:"channelHasField",value:function(e){return!!this.facet[e]}},{key:"fieldDef",value:function(e){return this.facet[e]}},{key:"parseData",value:function(){this.component.data=Uq(this),this.child.parseData()}},{key:"parseLayoutSize",value:function(){Rq(this)}},{key:"parseSelections",value:function(){this.child.parseSelections(),this.component.selection=this.child.component.selection}},{key:"parseMarkGroup",value:function(){this.child.parseMarkGroup()}},{key:"parseAxesAndHeaders",value:function(){this.child.parseAxesAndHeaders(),function(e){var t,n=ni(ZN);try{for(n.s();!(t=n.n()).done;){Pq(e,t.value)}}catch(r){n.e(r)}finally{n.f()}Dq(e,"x"),Dq(e,"y")}(this)}},{key:"assembleSelectionTopLevelSignals",value:function(e){return this.child.assembleSelectionTopLevelSignals(e)}},{key:"assembleSignals",value:function(){return this.child.assembleSignals(),[]}},{key:"assembleSelectionData",value:function(e){return this.child.assembleSelectionData(e)}},{key:"getHeaderLayoutMixins",value:function(){var e,t,n,r,i={},o=ni(ZN);try{for(o.s();!(r=o.n()).done;){var a,s=r.value,l=ni(QV);try{for(l.s();!(a=l.n()).done;){var u=a.value,c=this.component.layoutHeaders[s],f=c[u],d=c.facetFieldDef;if(d){var h=$V("titleOrient",d,this.config,s);if(yD(["right","bottom"],h)){var p=XV(s,h);i.titleAnchor=null!==(e=i.titleAnchor)&&void 0!==e?e:{},i.titleAnchor[p]="end"}}if(null===f||void 0===f?void 0:f[0]){var m="row"===s?"height":"width",v="header"===u?"headerBand":"footerBand";"facet"===s||this.child.component.layoutSize.get(m)||(i[v]=null!==(t=i[v])&&void 0!==t?t:{},i[v][s]=.5),c.title&&(i.offset=null!==(n=i.offset)&&void 0!==n?n:{},i.offset["row"===s?"rowTitle":"columnTitle"]=10)}}}catch(g){l.e(g)}finally{l.f()}}}catch(g){o.e(g)}finally{o.f()}return i}},{key:"assembleDefaultLayout",value:function(){var e=this.facet,t=e.column,n=e.row,r=t?this.columnDistinctSignal():n?1:void 0,i="all";return(n||"independent"!==this.component.resolve.scale.x)&&(t||"independent"!==this.component.resolve.scale.y)||(i="none"),Object.assign(Object.assign(Object.assign({},this.getHeaderLayoutMixins()),r?{columns:r}:{}),{bounds:"full",align:i})}},{key:"assembleLayoutSignals",value:function(){return this.child.assembleLayoutSignals()}},{key:"columnDistinctSignal",value:function(){if(!(this.parent&&this.parent instanceof n)){var e=this.getName("column_domain");return{signal:"length(data('".concat(e,"'))")}}}},{key:"assembleGroup",value:function(e){return this.parent&&this.parent instanceof n?Object.assign(Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:xB(this.facet.column,{prefix:"distinct"})}}}}:{}),uH(lH(n.prototype),"assembleGroup",this).call(this,e)):uH(lH(n.prototype),"assembleGroup",this).call(this,e)}},{key:"getCardinalityAggregateForChild",value:function(){var e=[],t=[],r=[];if(this.child instanceof n){if(this.child.channelHasField("column")){var i=xB(this.child.facet.column);e.push(i),t.push("distinct"),r.push("distinct_".concat(i))}}else{var o,a=ni(dR);try{for(a.s();!(o=a.n()).done;){var s=o.value,l=this.child.component.scales[s];if(l&&!l.merged){var u=l.get("type"),c=l.get("range");if(_F(u)&&Sj(c)){var f=GW(WW(this.child,s));f?(e.push(f),t.push("distinct"),r.push("distinct_".concat(f))):rj("Unknown field for ".concat(s,". Cannot calculate view size."))}}}}catch(d){a.e(d)}finally{a.f()}}return{fields:e,ops:t,as:r}}},{key:"assembleFacet",value:function(){var e,t=this.component.data.facetRoot,n=t.name,r=t.data,i=this.facet,o=i.row,a=i.column,s=this.getCardinalityAggregateForChild(),l=s.fields,u=s.ops,c=s.as,f=[],d=ni(ZN);try{for(d.s();!(e=d.n()).done;){var h=e.value,p=this.facet[h];if(p){f.push(xB(p));var m=p.bin,v=p.sort;if(OR(m)&&f.push(xB(p,{binSuffix:"end"})),ZF(v)){var g=v.field,y=v.op,b=void 0===y?"min":y,_=Fq(p,v);o&&a?(l.push(_),u.push("max"),c.push(_)):(l.push(g),u.push(b),c.push(_))}else if(Object(ne.A)(v)){var x=YV(p,h);l.push(x),u.push("max"),c.push(x)}}}}catch(E){d.e(E)}finally{d.f()}var w=!!o&&!!a;return Object.assign({name:n,data:r,groupby:f},w||l.length>0?{aggregate:Object.assign(Object.assign({},w?{cross:w}:{}),l.length?{fields:l,ops:u,as:c}:{})}:{})}},{key:"facetSortFields",value:function(e){var t=this.facet[e];return t?ZF(t.sort)?[Fq(t,t.sort,{expr:"datum"})]:Object(ne.A)(t.sort)?[YV(t,e,{expr:"datum"})]:[xB(t,{expr:"datum"})]:[]}},{key:"facetSortOrder",value:function(e){var t=this.facet[e];if(t){var n=t.sort;return[(ZF(n)?n.order:!Object(ne.A)(n)&&n)||"ascending"]}return[]}},{key:"assembleLabelTitle",value:function(){var e=this.facet,t=this.config;if(e.facet)return iG(e.facet,"facet",t);var n,r={row:["top","bottom"],column:["left","right"]},i=ni(ZV);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(e[o]){var a=$V("labelOrient",e[o],t,o);if(yD(r[o],a))return iG(e[o],o,t)}}}catch(s){i.e(s)}finally{i.f()}}},{key:"assembleMarks",value:function(){var e=this,t=this.child,n=function(e){var t,n=[],r=Aq(n),i=ni(e.children);try{for(i.s();!(t=i.n()).done;){r(t.value,{source:e.name,name:null,transform:[]})}}catch(o){i.e(o)}finally{i.f()}return n}(this.component.data.facetRoot),r=t.assembleGroupEncodeEntry(!1),i=this.assembleLabelTitle()||t.assembleTitle(),o=t.assembleGroupStyle();return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:this.getName("cell"),type:"group"},i?{title:i}:{}),o?{style:o}:{}),{from:{facet:this.assembleFacet()},sort:{field:ZN.map((function(t){return e.facetSortFields(t)})).flat(),order:ZN.map((function(t){return e.facetSortOrder(t)})).flat()}}),n.length>0?{data:n}:{}),r?{encode:{update:r}}:{}),t.assembleGroup(function(e,t){if(e.component.selection&&kD(e.component.selection).length){var n=Object(ne.Z)(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:yM("mousemove","scope"),update:"isTuple(facet) ? facet : group(".concat(n,").datum")}]})}return aV(t)}(this,[])))]}},{key:"getMapping",value:function(){return this.facet}}]),n}(pq);function zq(e,t){var n,r,i,o,a,s,l,u,c,f,d,h=ni(t);try{for(h.s();!(d=h.n()).done;){var p=d.value,m=p.data;if((!e.name||!p.hasName()||e.name===p.dataName)&&((!(null===(n=e.format)||void 0===n?void 0:n.mesh)||!(null===(r=m.format)||void 0===r?void 0:r.feature))&&(!(null===(i=e.format)||void 0===i?void 0:i.feature)&&!(null===(o=m.format)||void 0===o?void 0:o.feature)||(null===(a=e.format)||void 0===a?void 0:a.feature)===(null===(s=m.format)||void 0===s?void 0:s.feature))&&(!(null===(l=e.format)||void 0===l?void 0:l.mesh)&&!(null===(u=m.format)||void 0===u?void 0:u.mesh)||(null===(c=e.format)||void 0===c?void 0:c.mesh)===(null===(f=m.format)||void 0===f?void 0:f.mesh))))if(WH(e)&&WH(m)){if(fD(e.values,m.values))return p}else if(GH(e)&&GH(m)){if(e.url===m.url)return p}else if(qH(e)&&e.name===p.dataName)return p}}catch(v){h.e(v)}finally{h.f()}return null}function Hq(e,t){if(e.data||!e.parent){if(null===e.data){var n=new ZG([]);return t.push(n),n}var r=zq(e.data,t);if(r)return YH(e.data)||(r.data.format=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];xD(e,null!==a&&void 0!==a?a:{})}return e}({},e.data.format,r.data.format)),!r.hasName()&&e.data.name&&(r.dataName=e.data.name),r;var i=new ZG(e.data);return t.push(i),i}return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function Uq(e){var t,n,r,i,o,a,s,l,u,c,f=Hq(e,e.component.data.sources),d=e.component.data,h=d.outputNodes,p=d.outputNodeRefCounts,m=e.parent?e.parent.component.data.ancestorParse.clone():new wq,v=e.data;YH(v)?(XH(v)?f=new eW(f,v.sequence):KH(v)&&(f=new JG(f,v.graticule)),m.parseNothing=!0):null===(null===(t=null===v||void 0===v?void 0:v.format)||void 0===t?void 0:t.parse)&&(m.parseNothing=!0),f=null!==(n=dW.makeExplicit(f,e,m))&&void 0!==n?n:f,f=new vW(f);var g=e.parent&&dq(e.parent);(uq(e)||cq(e))&&g&&(f=null!==(r=KG.makeFromEncoding(f,e))&&void 0!==r?r:f),e.transforms.length>0&&(f=function(e,t,n){var r,i,o,a=0,s=ni(t.transforms);try{for(s.s();!(o=s.n()).done;){var l=o.value,u=void 0,c=void 0;if(uU(l))c=e=new qV(e,l),u="derived";else if(QH(l)){var f=cW(l);c=e=null!==(r=dW.makeWithAncestors(e,{},f,n))&&void 0!==r?r:e,e=new EV(e,t,l.filter)}else if(cU(l))c=e=KG.makeFromTransform(e,l,t),u="number";else if(dU(l)){u="date",void 0===n.getWithExplicit(l.field).value&&(e=new dW(e,$a({},l.field,u)),n.set(l.field,u,!1)),c=e=UU.makeFromTransform(e,l)}else if(hU(l))c=e=aW.makeFromTransform(e,l),u="number",xV(t)&&(e=new vW(e));else if(JH(l))c=e=Tq.make(e,t,l,a++),u="derived";else if(aU(l))c=e=new mW(e,l),u="number";else if(sU(l))c=e=new hW(e,l),u="number";else if(pU(l))c=e=pW.makeFromTransform(e,l),u="derived";else if(mU(l))c=e=new yq(e,l),u="derived";else if(lU(l))c=e=new gq(e,l),u="derived";else if(eU(l))c=e=new Oq(e,l),u="derived";else if(oU(l))e=new Cq(e,l);else if(fU(l))c=e=xq.makeFromTransform(e,l),u="derived";else if(tU(l))c=e=new mq(e,l),u="derived";else if(nU(l))c=e=new Sq(e,l),u="derived";else if(rU(l))c=e=new kq(e,l),u="derived";else{if(!iU(l)){rj(QL.invalidTransformIgnored(l));continue}c=e=new Eq(e,l),u="derived"}if(c&&void 0!==u){var d,h=ni(null!==(i=c.producedFields())&&void 0!==i?i:[]);try{for(h.s();!(d=h.n()).done;){var p=d.value;n.set(p,u,!1)}}catch(m){h.e(m)}finally{h.f()}}}}catch(m){s.e(m)}finally{s.f()}return e}(f,e,m));var y=function(e){var t={};if(uq(e)&&e.component.selection){var n,r=ni(kD(e.component.selection));try{for(r.s();!(n=r.n()).done;){var i,o=n.value,a=ni(e.component.selection[o].project.items);try{for(a.s();!(i=a.n()).done;){var s=i.value;!s.channel&&BD(s.field)>1&&(t[s.field]="flatten")}}catch(l){a.e(l)}finally{a.f()}}}catch(l){r.e(l)}finally{r.f()}}return t}(e),b=fW(e);f=null!==(i=dW.makeWithAncestors(f,{},Object.assign(Object.assign({},y),b),m))&&void 0!==i?i:f,uq(e)&&(f=bq.parseAll(f,e),f=_q.parseAll(f,e)),(uq(e)||cq(e))&&(g||(f=null!==(o=KG.makeFromEncoding(f,e))&&void 0!==o?o:f),f=null!==(a=UU.makeFromEncoding(f,e))&&void 0!==a?a:f,f=qV.parseAllForSortIndex(f,e));var _=e.getName("raw"),x=new HU(f,_,"raw",p);if(h[_]=x,f=x,uq(e)){var w=aW.makeFromEncoding(f,e);w&&(f=w,xV(e)&&(f=new vW(f))),f=null!==(s=xq.makeFromEncoding(f,e))&&void 0!==s?s:f,f=null!==(l=pW.makeFromEncoding(f,e))&&void 0!==l?l:f}uq(e)&&(f=null!==(u=vq.make(f,e))&&void 0!==u?u:f);var E=e.getName(ZH),T=new HU(f,E,ZH,p);h[E]=T,f=T,uq(e)&&function(e,t){yV(e,(function(n){var r=n.name,i=e.getName("lookup_".concat(r));e.component.data.outputNodes[i]=n.materialized=new HU(new EV(t,e,{selection:r}),i,"lookup",e.component.data.outputNodeRefCounts)}))}(e,T);var S=null;if(cq(e)){var k=e.getName("facet");f=null!==(c=function(e,t){var n=t.row,r=t.column;if(n&&r){for(var i=null,o=0,a=[n,r];o<a.length;o++){var s=a[o];if(ZF(s.sort)){var l=s.sort,u=l.field,c=l.op;e=i=new hW(e,{joinaggregate:[{op:void 0===c?"min":c,field:u,as:Fq(s,s.sort,{forAs:!0})}],groupby:[xB(s)]})}}return i}return null}(f,e.facet))&&void 0!==c?c:f,S=new sW(f,e,k,T.getSource()),h[k]=S,f=S}return Object.assign(Object.assign({},e.component.data),{outputNodes:h,outputNodeRefCounts:p,raw:x,main:T,facetRoot:S,ancestorParse:m})}var Vq=function(e){cH(n,e);var t=pH(n);function n(e,r,i,o){var a,s,l,u,c;return JT(this,n),a=t.call(this,e,"concat",r,i,o,e.resolve),"shared"!==(null===(l=null===(s=e.resolve)||void 0===s?void 0:s.axis)||void 0===l?void 0:l.x)&&"shared"!==(null===(c=null===(u=e.resolve)||void 0===u?void 0:u.axis)||void 0===c?void 0:c.y)||rj(QL.CONCAT_CANNOT_SHARE_AXIS),a.children=a.getChildren(e).map((function(e,t){return dY(e,dH(a),a.getName("concat_"+t),void 0,o)})),a}return tS(n,[{key:"parseData",value:function(){this.component.data=Uq(this);var e,t=ni(this.children);try{for(t.s();!(e=t.n()).done;){e.value.parseData()}}catch(n){t.e(n)}finally{t.f()}}},{key:"parseSelections",value:function(){this.component.selection={};var e,t=ni(this.children);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.parseSelections();var r,i=ni(kD(n.component.selection));try{for(i.s();!(r=i.n()).done;){var o=r.value;this.component.selection[o]=n.component.selection[o]}}catch(a){i.e(a)}finally{i.f()}}}catch(a){t.e(a)}finally{t.f()}}},{key:"parseMarkGroup",value:function(){var e,t=ni(this.children);try{for(t.s();!(e=t.n()).done;){e.value.parseMarkGroup()}}catch(n){t.e(n)}finally{t.f()}}},{key:"parseAxesAndHeaders",value:function(){var e,t=ni(this.children);try{for(t.s();!(e=t.n()).done;){e.value.parseAxesAndHeaders()}}catch(n){t.e(n)}finally{t.f()}}},{key:"getChildren",value:function(e){return Bz(e)?e.vconcat:zz(e)?e.hconcat:e.concat}},{key:"parseLayoutSize",value:function(){Nq(this)}},{key:"parseAxisGroup",value:function(){return null}},{key:"assembleSelectionTopLevelSignals",value:function(e){return this.children.reduce((function(e,t){return t.assembleSelectionTopLevelSignals(e)}),e)}},{key:"assembleSignals",value:function(){return this.children.forEach((function(e){return e.assembleSignals()})),[]}},{key:"assembleLayoutSignals",value:function(){var e,t=uG(this),n=ni(this.children);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push.apply(t,Zg(r.assembleLayoutSignals()))}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"assembleSelectionData",value:function(e){return this.children.reduce((function(e,t){return t.assembleSelectionData(e)}),e)}},{key:"assembleMarks",value:function(){return this.children.map((function(e){var t=e.assembleTitle(),n=e.assembleGroupStyle(),r=e.assembleGroupEncodeEntry(!1);return Object.assign(Object.assign(Object.assign(Object.assign({type:"group",name:e.getName("group")},t?{title:t}:{}),n?{style:n}:{}),r?{encode:{update:r}}:{}),e.assembleGroup())}))}},{key:"assembleDefaultLayout",value:function(){var e=this.layout.columns;return Object.assign(Object.assign({},null!=e?{columns:e}:{}),{bounds:"full",align:"each"})}}]),n}(hq);var Gq=Object.assign(Object.assign({disable:1,gridScale:1,scale:1},KD),{labelExpr:1,encode:1}),Wq=kD(Gq),qq=function(e){cH(n,e);var t=pH(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return JT(this,n),(e=t.call(this)).explicit=r,e.implicit=i,e.mainExtracted=o,e}return tS(n,[{key:"clone",value:function(){return new n(dD(this.explicit),dD(this.implicit),this.mainExtracted)}},{key:"hasAxisPart",value:function(e){return"axis"===e||("grid"===e||"title"===e?!!this.get(e):!(!1===(t=this.get(e))||null===t));var t}}]),n}(gG);var Yq={bottom:"top",top:"bottom",left:"right",right:"left"};function Xq(e,t){if(!e)return t.map((function(e){return e.clone()}));if(e.length===t.length){for(var n=e.length,r=0;r<n;r++){var i=e[r],o=t[r];if(!!i!==!!o)return;if(i&&o){var a=i.getWithExplicit("orient"),s=o.getWithExplicit("orient");if(a.explicit&&s.explicit&&a.value!==s.value)return;e[r]=$q(i,o)}}return e}}function $q(e,t){var n,r=ni(Wq);try{var i=function(){var r=n.value,i=wG(e.getWithExplicit(r),t.getWithExplicit(r),r,"axis",(function(e,t){switch(r){case"title":return nz(e,t);case"gridScale":return{explicit:e.explicit,value:zD(e.value,t.value)}}return xG(e,t,r,"axis")}));e.setWithExplicit(r,i)};for(r.s();!(n=r.n()).done;)i()}catch(o){r.e(o)}finally{r.f()}return e}function Kq(e,t,n,r,i){if("disable"===t)return void 0!==n;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(Tj(n.labelAngle)?n.labelAngle:GD(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===WV(r,i))return!0}return e===n[t]}var Zq=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function Qq(e,t){var n,r,i,o=t.axis(e),a=new qq,s=NB(t.encoding[e]),l=t.mark,u=t.config,c=(null===o||void 0===o?void 0:o.orient)||(null===(n=u["x"===e?"axisX":"axisY"])||void 0===n?void 0:n.orient)||(null===(r=u.axis)||void 0===r?void 0:r.orient)||function(e){return"x"===e?"bottom":"left"}(e),f=t.getScaleComponent(e).get("type"),d=FV(e,f,c,t.config),h=void 0!==o?!o:zV("disable",u,null===o||void 0===o?void 0:o.style,d).configValue;if(a.set("disable",h,void 0!==o),h)return a;var p,m=function(e,t,n,r,i){var o=null===t||void 0===t?void 0:t.labelAngle;if(void 0!==o)return Tj(o)?o:GD(o);var a=zV("labelAngle",e.config,null===t||void 0===t?void 0:t.style,i).configValue;return void 0!==a?GD(a):"x"===n&&yD([Yj,Wj],r.type)?270:void 0}(t,o=o||{},e,s,d),v={fieldOrDatumDef:s,axis:o,channel:e,model:t,scaleType:f,orient:c,labelAngle:m,mark:l,config:u},g=ni(Wq);try{for(g.s();!(p=g.n()).done;){var y=p.value,b=y in HV?HV[y](v):QD(y)?o[y]:void 0,_=void 0!==b,x=Kq(b,y,o,t,e);if(_&&x)a.set(y,b,x);else{var w=QD(y)&&"values"!==y?zV(y,t.config,o.style,d):{},E=w.configValue,T=void 0===E?void 0:E,S=w.configFrom,k=void 0===S?void 0:S,O=void 0!==T;_&&!O?a.set(y,b,x):("vgAxisConfig"!==k||Zq.has(y)&&O||YD(T)||Tj(T))&&a.set(y,T,!1)}}}catch(M){g.e(M)}finally{g.f()}var C=null!==(i=o.encoding)&&void 0!==i?i:{},A=XD.reduce((function(n,r){var i;if(!a.hasAxisPart(r))return n;var o=pG(null!==(i=C[r])&&void 0!==i?i:{},t),s="labels"===r?function(e,t,n){var r,i=e.encoding,o=e.config,a=null!==(r=NB(i[t]))&&void 0!==r?r:NB(i[sR(t)]),s=e.axis(t)||{},l=VF({fieldOrDatumDef:a,field:"datum.value",format:s.format,formatType:s.formatType,config:o,isUTCScale:e.getScaleComponent(t).get("type")===nF,omitTimeFormatConfig:!0,omitNumberFormatAndEmptyTimeFormat:!0}),u=Object.assign(Object.assign({},l?{text:l}:{}),n);return u=Object.assign(Object.assign({},u),n),0===kD(u).length?void 0:u}(t,e,o):o;return void 0!==s&&kD(s).length>0&&(n[r]={update:s}),n}),{});return kD(A).length>0&&a.set("encode",A,!!o.encoding||void 0!==o.labelAngle),a}function Jq(e){var t,n=e.encoding,r=e.size,i=ni(dR);try{for(i.s();!(t=i.n()).done;){var o=t.value,a=lR(o);Hz(r[a])&&dB(n[o])&&(delete r[a],rj(QL.stepDropped(a)))}}catch(s){i.e(s)}finally{i.f()}return r}function eY(e,t,n,r){var i=r.graticule,o=gN(e)?Object.assign({},e):{type:e},a=$B("orient",o,n);if(o.orient=function(e,t,n){switch(e){case oN:case fN:case dN:case lN:case aN:case rN:return}var r=t.x,i=t.y,o=t.x2,a=t.y2;switch(e){case nN:if(uB(r)&&(CR(r.bin)||uB(i)&&i.aggregate&&!r.aggregate))return"vertical";if(uB(i)&&(CR(i.bin)||uB(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(a||o){if(n)return n;if(!o&&(uB(r)&&r.type===Gj&&!OR(r.bin)||hB(r)))return"horizontal";if(!a&&(uB(i)&&i.type===Gj&&!OR(i.bin)||hB(i)))return"vertical"}case sN:if(o&&(!uB(r)||!CR(r.bin))&&a&&(!uB(i)||!CR(i.bin)))return;case tN:if(a)return uB(i)&&CR(i.bin)?"horizontal":"vertical";if(o)return uB(r)&&CR(r.bin)?"vertical":"horizontal";if(e===sN){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case iN:case uN:var s=dB(r),l=dB(i);if(s&&!l)return"tick"!==e?"horizontal":"vertical";if(!s&&l)return"tick"!==e?"vertical":"horizontal";if(s&&l){var u=r,c=i,f=u.type===qj,d=c.type===qj;return f&&!d?"tick"!==e?"vertical":"horizontal":!f&&d?"tick"!==e?"horizontal":"vertical":!u.aggregate&&c.aggregate?"tick"!==e?"vertical":"horizontal":u.aggregate&&!c.aggregate?"tick"!==e?"horizontal":"vertical":n||"vertical"}return n||void 0}return"vertical"}(o.type,t,a),void 0!==a&&a!==o.orient&&rj(QL.orientOverridden(o.orient,a)),"bar"===o.type&&o.orient){var s=$B("cornerRadiusEnd",o,n);if(void 0!==s){var l,u=ni("horizontal"===o.orient&&t.x2||"vertical"===o.orient&&t.y2?["cornerRadius"]:_N[o.orient]);try{for(u.s();!(l=u.n()).done;){o[l.value]=s}}catch(c){u.e(c)}finally{u.f()}void 0!==o.cornerRadiusEnd&&delete o.cornerRadiusEnd}}return void 0===$B("opacity",o,n)&&(o.opacity=function(e,t){if(yD([oN,uN,fN,dN],e)&&!iz(t))return.7;return}(o.type,t)),void 0===o.filled&&(o.filled=!i&&function(e,t){var n=KB("filled",e,t),r=e.type;return zD(n,r!==oN&&r!==iN&&r!==sN)}(o,n)),void 0===$B("cursor",o,n)&&(o.cursor=function(e,t,n){if(t.href||e.href||$B("href",e,n))return"pointer";return e.cursor}(o,t,n)),o}function tY(e,t){e.config;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},RU(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),TU("x",e,{defaultPos:"mid"})),TU("y",e,{defaultPos:"mid"})),gU("size",e)),gU("angle",e)),function(e,t,n){if(n)return{shape:{value:n}};return gU("shape",e)}(e,0,t))}function nY(e){var t,n=e.config,r=e.markDef,i=r.orient,o="horizontal"===i?"width":"height",a=e.getScaleComponent("horizontal"===i?"x":"y"),s=null!==(t=$B("size",r,n,{vgChannel:o}))&&void 0!==t?t:n.tick.bandSize;if(void 0!==s)return s;var l=a?a.get("range"):void 0;return l&&Sj(l)&&Object(ne.E)(l.step)?3*l.step/4:3*Wz(n.view,o)/4}var rY={arc:{vgMark:"arc",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},RU(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),TU("x",e,{defaultPos:"mid"})),TU("y",e,{defaultPos:"mid"})),IU(e,"radius","arc")),IU(e,"theta","arc"))}},area:{vgMark:"area",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign({},RU(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"})),AU("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===e.markDef.orient})),AU("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===e.markDef.orient})),jU(e))}},bar:{vgMark:"rect",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign({},RU(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),IU(e,"x","bar")),IU(e,"y","bar"))}},circle:{vgMark:"symbol",encodeEntry:function(e){return tY(e,"circle")}},geoshape:{vgMark:"shape",encodeEntry:function(e){return Object.assign({},RU(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}))},postEncodingTransform:function(e){var t=e.encoding.shape;return[Object.assign({type:"geoshape",projection:e.projectionName()},t&&uB(t)&&t.type===Xj?{field:xB(t,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign({},RU(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"})),IU(e,"x","image")),IU(e,"y","image")),bU(e,"url"))}},line:{vgMark:"line",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},RU(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),TU("x",e,{defaultPos:"mid"})),TU("y",e,{defaultPos:"mid"})),gU("size",e,{vgChannel:"strokeWidth"})),jU(e))}},point:{vgMark:"symbol",encodeEntry:function(e){return tY(e)}},rect:{vgMark:"rect",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign({},RU(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),IU(e,"x","rect")),IU(e,"y","rect"))}},rule:{vgMark:"rule",encodeEntry:function(e){var t=e.markDef.orient;return e.encoding.x||e.encoding.y||e.encoding.latitude||e.encoding.longitude?Object.assign(Object.assign(Object.assign(Object.assign({},RU(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),AU("x",e,{defaultPos:"horizontal"===t?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==t})),AU("y",e,{defaultPos:"vertical"===t?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==t})),gU("size",e,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",encodeEntry:function(e){return tY(e,"square")}},text:{vgMark:"text",encodeEntry:function(e){var t=e.config;e.encoding;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},RU(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"})),TU("x",e,{defaultPos:"mid"})),TU("y",e,{defaultPos:"mid"})),bU(e)),gU("size",e,{vgChannel:"fontSize"})),gU("angle",e)),FU("align",function(e,t,n){if(void 0===$B("align",e,n))return"center";return}(e.markDef,0,t))),FU("baseline",function(e,t,n){if(void 0===$B("baseline",e,n))return"middle";return}(e.markDef,0,t))),TU("radius",e,{defaultPos:null,isMidPoint:!0})),TU("theta",e,{defaultPos:null,isMidPoint:!0}))}},tick:{vgMark:"rect",encodeEntry:function(e){var t=e.config,n=e.markDef,r=n.orient,i="horizontal"===r?"width":"height",o="horizontal"===r?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},RU(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),TU("x",e,{defaultPos:"mid",vgChannel:"xc"})),TU("y",e,{defaultPos:"mid",vgChannel:"yc"})),gU("size",e,{defaultValue:nY(e),vgChannel:i})),$a({},o,YB($B("thickness",n,t))))}},trail:{vgMark:"trail",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},RU(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),TU("x",e,{defaultPos:"mid"})),TU("y",e,{defaultPos:"mid"})),gU("size",e)),jU(e))}}};function iY(e){return yD([iN,tN,cN],e.mark)?function(e){var t=cz(e.mark,e.encoding),n=aY(e,{fromPrefix:t.length>0?"faceted_path_":""});return t.length>0?[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:"faceted_path_"+e.requestDataName(ZH),data:e.requestDataName(ZH),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:n}]:n}(e):yD([nN],e.mark)?function(e){var t=Cj.some((function(t){return $B(t,e.markDef,e.config)}));if(e.stack&&!e.fieldDef("size")&&t){var n,r,i=Qi(aY(e,{fromPrefix:"stack_group_"}),1)[0],o=e.scaleName(e.stack.fieldChannel),a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.vgField(e.stack.fieldChannel,t)},s=function(e,t){var n=[a({prefix:"min",suffix:"start",expr:t}),a({prefix:"max",suffix:"start",expr:t}),a({prefix:"min",suffix:"end",expr:t}),a({prefix:"max",suffix:"end",expr:t})];return"".concat(e,"(").concat(n.map((function(e){return"scale('".concat(o,"',").concat(e,")")})).join(","),")")};"x"===e.stack.fieldChannel?(n=Object.assign(Object.assign({},hD(i.encode.update,["y","yc","y2","height"].concat(Zg(Cj)))),{x:{signal:s("min","datum")},x2:{signal:s("max","datum")},clip:{value:!0}}),r={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},i.encode.update=Object.assign(Object.assign({},pD(i.encode.update,["y","yc","y2"])),{height:{field:{group:"height"}}})):(n=Object.assign(Object.assign({},hD(i.encode.update,["x","xc","x2","width"])),{y:{signal:s("min","datum")},y2:{signal:s("max","datum")},clip:{value:!0}}),r={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},i.encode.update=Object.assign(Object.assign({},pD(i.encode.update,["x","xc","x2"])),{width:{field:{group:"width"}}}));var l,u=ni(Cj);try{for(u.s();!(l=u.n()).done;){var c=l.value,f=KB(c,e.markDef,e.config);i.encode.update[c]?(n[c]=i.encode.update[c],delete i.encode.update[c]):f&&(n[c]=YB(f)),f&&(i.encode.update[c]={value:0})}}catch(p){u.e(p)}finally{u.f()}var d=e.fieldDef(e.stack.groupbyChannel),h=xB(d)?[xB(d)]:[];((null===d||void 0===d?void 0:d.bin)||(null===d||void 0===d?void 0:d.timeUnit))&&h.push(xB(d,{binSuffix:"end"}));return(n=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((function(t,n){if(i.encode.update[n])return Object.assign(Object.assign({},t),$a({},n,i.encode.update[n]));var r=KB(n,e.markDef,e.config);return void 0!==r?Object.assign(Object.assign({},t),$a({},n,YB(r))):t}),n)).stroke&&(n.strokeForeground={value:!0},n.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(ZH),name:"stack_group_"+e.requestDataName(ZH),groupby:h,aggregate:{fields:[a({suffix:"start"}),a({suffix:"start"}),a({suffix:"end"}),a({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:n},marks:[{type:"group",encode:{update:r},marks:[i]}]}]}return aY(e)}(e):aY(e)}function oY(e){var t=e.encoding,n=e.stack,r=e.mark,i=e.markDef,o=e.config,a=t.order;if(!(!Object(ne.A)(a)&&vB(a)&&gD(a.value)||!a&&gD($B("order",i,o)))){if((Object(ne.A)(a)||uB(a))&&!n)return JB(a,{expr:"datum"});if(pN(r)){var s="horizontal"===i.orient?"y":"x",l=t[s];if(uB(l)){var u=l.sort;return Object(ne.A)(u)?{field:xB(l,{prefix:s,suffix:"sort_index",expr:"datum"})}:ZF(u)?{field:xB({aggregate:iz(e.encoding)?u.op:void 0,field:u.field},{expr:"datum"})}:KF(u)?{field:xB(e.fieldDef(u.encoding),{expr:"datum"}),order:u.order}:null===u?void 0:{field:xB(l,{binSuffix:e.stack&&e.stack.impute?"mid":void 0,expr:"datum"})}}}else;}}function aY(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fromPrefix:""},n=e.mark,r=zD(e.markDef.clip,sY(e),lY(e)),i=XB(e.markDef),o=e.encoding.key,a=oY(e),s=uY(e),l=rY[n].postEncodingTransform?rY[n].postEncodingTransform(e):null;return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:e.getName("marks"),type:rY[n].vgMark},r?{clip:!0}:{}),i?{style:i}:{}),o?{key:o.field}:{}),a?{sort:a}:{}),s||{}),{from:{data:t.fromPrefix+e.requestDataName(ZH)},encode:{update:rY[n].encodeEntry(e)}}),l?{transform:l}:{})]}function sY(e){var t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return!!(t&&t.get("selectionExtent")||n&&n.get("selectionExtent"))||void 0}function lY(e){var t=e.component.projection;return!(!t||t.isFit)||void 0}function uY(e){if(!e.component.selection)return null;for(var t=kD(e.component.selection).length,n=t,r=e.parent;r&&0===n;)n=kD(r.component.selection).length,r=r.parent;return n?{interactive:t>0}:null}var cY=function(e){cH(n,e);var t=pH(n);function n(e,r,i){var o,a,s,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=arguments.length>4?arguments[4]:void 0;JT(this,n),(o=t.call(this,e,"unit",r,i,u,void 0,Uz(e)?e.view:void 0)).specifiedScales={},o.specifiedAxes={},o.specifiedLegends={},o.specifiedProjection={},o.selection={},o.children=[];var c=gN(e.mark)?e.mark.type:e.mark;o.markDef=eY(e.mark,null!==(a=e.encoding)&&void 0!==a?a:{},u,{graticule:e.data&&KH(e.data)});var f=o.encoding=az(null!==(s=e.encoding)&&void 0!==s?s:{},o.markDef);return o.size=Jq({encoding:f,size:Uz(e)?Object.assign(Object.assign(Object.assign({},l),e.width?{width:e.width}:{}),e.height?{height:e.height}:{}):l}),o.stack=wH(c,f),o.specifiedScales=o.initScales(c,f),o.specifiedAxes=o.initAxes(f),o.specifiedLegends=o.initLegend(f),o.specifiedProjection=e.projection,o.selection=e.selection,o}return tS(n,[{key:"scaleDomain",value:function(e){var t=this.specifiedScales[e];return t?t.domain:void 0}},{key:"axis",value:function(e){return this.specifiedAxes[e]}},{key:"legend",value:function(e){return this.specifiedLegends[e]}},{key:"initScales",value:function(e,t){return _R.reduce((function(e,n){var r,i=NB(t[n]);return i&&(e[n]=null!==(r=i.scale)&&void 0!==r?r:{}),e}),{})}},{key:"initAxes",value:function(e){return dR.reduce((function(t,n){var r=e[n];if(pB(r)||"x"===n&&pB(e.x2)||"y"===n&&pB(e.y2)){var i=pB(r)?r.axis:void 0;t[n]=i?Object.assign({},i):i}return t}),{})}},{key:"initLegend",value:function(e){return yR.reduce((function(t,n){var r=NB(e[n]);if(r&&function(e){switch(e){case BN:case zN:case HN:case VN:case UN:case"opacity":case"strokeWidth":case"strokeDash":return!0;case"fillOpacity":case"strokeOpacity":case"angle":return!1}}(n)){var i=r.legend;t[n]=i?Object.assign({},i):i}return t}),{})}},{key:"parseData",value:function(){this.component.data=Uq(this)}},{key:"parseLayoutSize",value:function(){!function(e){var t,n=e.size,r=e.component,i=ni(dR);try{for(i.s();!(t=i.n()).done;){var o=lR(t.value);if(n[o]){var a=n[o];r.layoutSize.set(o,Hz(a)?"step":a,!0)}else{var s=jq(e,o);r.layoutSize.set(o,s,!1)}}}catch(l){i.e(l)}finally{i.f()}}(this)}},{key:"parseSelections",value:function(){this.component.selection=function(e,t){var n,r,i={},o=e.config.selection,a=ni(kD(null!==t&&void 0!==t?t:{}));try{var s=function(){var a=r.value,s=dD(t[a]),l=o[s.type],u=(l.fields,l.encodings,w(l,["fields","encodings"]));for(var c in u)"encodings"===c&&s.fields||"fields"===c&&s.encodings||("mark"===c&&(s[c]=Object.assign(Object.assign({},u[c]),s[c])),void 0!==s[c]&&!0!==s[c]||(s[c]=null!==(n=u[c])&&void 0!==n?n:s[c]));var f=AD(a),d=i[f]=Object.assign(Object.assign({},s),{name:f,events:Object(ne.H)(s.on)?yM(s.on,"scope"):dD(s.on)});rV(d,(function(n){n.has(d)&&n.parse&&n.parse(e,d,s,t[a])}))};for(a.s();!(r=a.n()).done;)s()}catch(l){a.e(l)}finally{a.f()}return i}(this,this.selection)}},{key:"parseMarkGroup",value:function(){this.component.mark=iY(this)}},{key:"parseAxesAndHeaders",value:function(){var e;this.component.axes=(e=this,dR.reduce((function(t,n){return e.component.scales[n]&&(t[n]=[Qq(n,e)]),t}),{}))}},{key:"assembleSelectionTopLevelSignals",value:function(e){return function(e,t){var n=!1;return yV(e,(function(r,i){var o=r.name,a=Object(ne.Z)(o+hV);if(0===t.filter((function(e){return e.name===o})).length){var s="global"===r.resolve?"union":r.resolve,l="multi"===r.type?", true)":")";t.push({name:r.name,update:"".concat(vV,"(").concat(a,", ").concat(Object(ne.Z)(s)).concat(l)})}n=!0,i.topLevelSignals&&(t=i.topLevelSignals(e,r,t)),rV(r,(function(n){n.topLevelSignals&&(t=n.topLevelSignals(e,r,t))}))})),n&&0===t.filter((function(e){return"unit"===e.name})).length&&t.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]}),aV(t)}(this,e)}},{key:"assembleSignals",value:function(){return[].concat(Zg(PV(this)),Zg((t=[],yV(e=this,(function(n,r){var i,o=n.name,a=r.modifyExpr(e,n);(i=t).push.apply(i,Zg(r.signals(e,n))),rV(n,(function(r){r.signals&&(t=r.signals(e,n,t)),r.modifyExpr&&(a=r.modifyExpr(e,n,a))})),t.push({name:o+mV,on:[{events:{signal:n.name+pV},update:"modify(".concat(Object(ne.Z)(n.name+hV),", ").concat(a,")")}]})})),aV(t))));var e,t}},{key:"assembleSelectionData",value:function(e){return function(e,t){var n=Zg(t);return yV(e,(function(t){var r={name:t.name+hV};if(t.init){var i=t.project.items.map((function(e){e.signals;return w(e,["signals"])})),o=t.init.map((function(e){return iV(e,!1)}));r.values="interval"===t.type?[{unit:_V(e,{escape:!1}),fields:i,values:o}]:o.map((function(t){return{unit:_V(e,{escape:!1}),fields:i,values:t}}))}n.filter((function(e){return e.name===t.name+hV})).length||n.push(r)})),n}(this,e)}},{key:"assembleLayout",value:function(){return null}},{key:"assembleLayoutSignals",value:function(){return uG(this)}},{key:"assembleMarks",value:function(){var e,t=null!==(e=this.component.mark)&&void 0!==e?e:[];return this.parent&&dq(this.parent)||(t=oV(this,t)),t.map(this.correctDataNames)}},{key:"getMapping",value:function(){return this.encoding}},{key:"channelHasField",value:function(e){return rz(this.encoding,e)}},{key:"fieldDef",value:function(e){return DB(this.encoding[e])}},{key:"typedFieldDef",value:function(e){var t=this.fieldDef(e);return mB(t)?t:null}},{key:"hasProjection",get:function(){var e=this.encoding,t=this.mark===hN,n=e&&YN.some((function(t){return pB(e[t])}));return t||n}},{key:"mark",get:function(){return this.markDef.type}}]),n}(pq),fY=function(e){cH(n,e);var t=pH(n);function n(e,r,i,o,a){var s;JT(this,n),s=t.call(this,e,"layer",r,i,a,e.resolve,e.view);var l=Object.assign(Object.assign(Object.assign({},o),e.width?{width:e.width}:{}),e.height?{height:e.height}:{});return s.children=e.layer.map((function(e,t){if(sH(e))return new n(e,dH(s),s.getName("layer_"+t),l,a);if(EN(e))return new cY(e,dH(s),s.getName("layer_"+t),l,a);throw new Error(QL.invalidSpec(e))})),s}return tS(n,[{key:"parseData",value:function(){this.component.data=Uq(this);var e,t=ni(this.children);try{for(t.s();!(e=t.n()).done;){e.value.parseData()}}catch(n){t.e(n)}finally{t.f()}}},{key:"parseLayoutSize",value:function(){var e;Rq(e=this),Lq(e,"width"),Lq(e,"height")}},{key:"parseSelections",value:function(){this.component.selection={};var e,t=ni(this.children);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.parseSelections();var r,i=ni(kD(n.component.selection));try{for(i.s();!(r=i.n()).done;){var o=r.value;this.component.selection[o]=n.component.selection[o]}}catch(a){i.e(a)}finally{i.f()}}}catch(a){t.e(a)}finally{t.f()}}},{key:"parseMarkGroup",value:function(){var e,t=ni(this.children);try{for(t.s();!(e=t.n()).done;){e.value.parseMarkGroup()}}catch(n){t.e(n)}finally{t.f()}}},{key:"parseAxesAndHeaders",value:function(){!function(e){var t,n,r=e.component,i=r.axes,o=r.resolve,a={top:0,bottom:0,right:0,left:0},s=ni(e.children);try{for(s.s();!(n=s.n()).done;){var l=n.value;l.parseAxesAndHeaders();var u,c=ni(kD(l.component.axes));try{for(c.s();!(u=c.n()).done;){var f=u.value;o.axis[f]=vG(e.component.resolve,f),"shared"===o.axis[f]&&(i[f]=Xq(i[f],l.component.axes[f]),i[f]||(o.axis[f]="independent",delete i[f]))}}catch(C){c.e(C)}finally{c.f()}}}catch(C){s.e(C)}finally{s.f()}var d,h=ni(dR);try{for(h.s();!(d=h.n()).done;){var p,m=d.value,v=ni(e.children);try{for(v.s();!(p=v.n()).done;){var g=p.value;if(g.component.axes[m]){if("independent"===o.axis[m]){i[m]=(null!==(t=i[m])&&void 0!==t?t:[]).concat(g.component.axes[m]);var y,b=ni(g.component.axes[m]);try{for(b.s();!(y=b.n()).done;){var _=y.value,x=_.getWithExplicit("orient"),w=x.value,E=x.explicit;if(!Tj(w)){if(a[w]>0&&!E){var T=Yq[w];a[w]>a[T]&&_.set("orient",T,!1)}a[w]++}}}catch(C){b.e(C)}finally{b.f()}}delete g.component.axes[m]}}}catch(C){v.e(C)}finally{v.f()}if("independent"===o.axis[m]&&i[m]&&i[m].length>1){var S,k=ni(i[m]);try{for(k.s();!(S=k.n()).done;){var O=S.value;O.get("grid")&&!O.explicit.grid&&(O.implicit.grid=!1)}}catch(C){k.e(C)}finally{k.f()}}}}catch(C){h.e(C)}finally{h.f()}}(this)}},{key:"assembleSelectionTopLevelSignals",value:function(e){return this.children.reduce((function(e,t){return t.assembleSelectionTopLevelSignals(e)}),e)}},{key:"assembleSignals",value:function(){return this.children.reduce((function(e,t){return e.concat(t.assembleSignals())}),PV(this))}},{key:"assembleLayoutSignals",value:function(){return this.children.reduce((function(e,t){return e.concat(t.assembleLayoutSignals())}),uG(this))}},{key:"assembleSelectionData",value:function(e){return this.children.reduce((function(e,t){return t.assembleSelectionData(e)}),e)}},{key:"assembleTitle",value:function(){var e=uH(lH(n.prototype),"assembleTitle",this).call(this);if(e)return e;var t,r=ni(this.children);try{for(r.s();!(t=r.n()).done;){if(e=t.value.assembleTitle())return e}}catch(i){r.e(i)}finally{r.f()}}},{key:"assembleLayout",value:function(){return null}},{key:"assembleMarks",value:function(){return function(e,t){var n,r=ni(e.children);try{for(r.s();!(n=r.n()).done;){var i=n.value;uq(i)&&(t=oV(i,t))}}catch(o){r.e(o)}finally{r.f()}return t}(this,this.children.flatMap((function(e){return e.assembleMarks()})))}},{key:"assembleLegends",value:function(){return this.children.reduce((function(e,t){return e.concat(t.assembleLegends())}),zG(this))}}]),n}(hq);function dY(e,t,n,r,i){if(tB(e))return new Bq(e,t,n,i);if(sH(e))return new fY(e,t,n,r,i);if(EN(e))return new cY(e,t,n,r,i);if(function(e){return Bz(e)||zz(e)||Fz(e)}(e))return new Vq(e,t,n,i);throw new Error(QL.invalidSpec(e))}function hY(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.logger&&tj(t.logger),t.fieldTitle&&OB(t.fieldTitle);try{var n=tH(Object(ne.N)(t.config,e.config)),r=BH(e,n),i=dY(r,null,"",void 0,n);i.parse(),NW(i.component.data,i);var o=mY(i,pY(e,r.autosize,n,i),e.datasets,e.usermeta);return{spec:o,normalized:r}}finally{t.logger&&nj(),t.fieldTitle&&CB()}}function pY(e,t,n,r){var i,o=r.component.layoutSize.get("width"),a=r.component.layoutSize.get("height");if(void 0===t?t={type:"pad"}:Object(ne.H)(t)&&(t={type:t}),o&&a&&("fit"===(i=t.type)||"fit-x"===i||"fit-y"===i))if("step"===o&&"step"===a)rj(QL.droppingFit()),t.type="pad";else if("step"===o||"step"===a){var s="step"===o?"width":"height";rj(QL.droppingFit(vR(s)));var l="width"===s?"height":"width";t.type=function(e){return e?"fit-".concat(vR(e)):"fit"}(l)}return Object.assign(Object.assign(Object.assign({},1===kD(t).length&&t.type?"pad"===t.type?{}:{autosize:t.type}:{autosize:t}),VH(n)),VH(e))}function mY(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=e.config?oH(e.config):void 0,o=[].concat(e.assembleSelectionData([]),Mq(e.component.data,n)),a=e.assembleProjections(),s=e.assembleTitle(),l=e.assembleGroupStyle(),u=e.assembleGroupEncodeEntry(!0),c=e.assembleLayoutSignals();return c=c.filter((function(e){return"width"!==e.name&&"height"!==e.name||void 0===e.value||(t[e.name]=+e.value,!1)})),Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({$schema:"https://vega.github.io/schema/vega/v5.json"},e.description?{description:e.description}:{}),t),s?{title:s}:{}),l?{style:l}:{}),u?{encode:{update:u}}:{}),{data:o}),a.length>0?{projections:a}:{}),e.assembleGroup([].concat(Zg(c),Zg(e.assembleSelectionTopLevelSignals([]))))),i?{config:i}:{}),r?{usermeta:r}:{})}var vY=new(function(e){cH(n,e);var t=pH(n);function n(){return JT(this,n),t.apply(this,arguments)}return tS(n,[{key:"mapUnit",value:function(e,t){var n=t.config;if(e.encoding){var r=e.encoding,i=e.transform,o=oz(r,n),a=o.bins,s=o.timeUnits,l=o.aggregate,u=o.groupby,c=o.encoding,f=[].concat(Zg(i||[]),Zg(a),Zg(s),Zg(0===l.length?[]:[{aggregate:l,groupby:u}]));return Object.assign(Object.assign(Object.assign({},e),f.length>0?{transform:f}:{}),{encoding:c})}return e}}]),n}(mH));function gY(e,t){return vY.map(e,{config:t})}var yY=eD.version,bY=n(114),_Y=n.n(bY),xY=n(149),wY={background:"#333",title:{color:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}},EY={background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},path:{stroke:"#4572a7"},rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},symbol:{fill:"#4572a7",strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},TY={arc:{fill:"#30a2da"},area:{fill:"#30a2da"},axis:{domainColor:"#cbcbcb",grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},rect:{fill:"#30a2da"},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},bar:{binSpacing:2,fill:"#30a2da",stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},SY={group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},kY="Benton Gothic Bold, sans-serif",OY={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},CY={background:"#ffffff",title:{anchor:"start",color:"#000000",font:kY,fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,labelFontWeight:"normal",titleFont:kY,titleFontSize:13,titleFontWeight:"normal"},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,symbolType:"square",titleFont:kY,titleFontSize:13,titleFontWeight:"normal"},range:{category:OY["category-6"],diverging:OY["fireandice-6"],heatmap:OY["fire-7"],ordinal:OY["fire-7"],ramp:OY["fire-7"]}},AY={background:"#f9f9f9",arc:{fill:"#ab5787"},area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},MY={background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},PY={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},IY={background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:"Lato"},axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,labelFont:"Lato",labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:"Lato"},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:"Lato",labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:"Lato",titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:"Lato",symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:"Lato",orient:"right",offset:10},view:{stroke:"transparent"},range:{category:PY["six-groups-cat-1"],diverging:PY["diverging-colors"],heatmap:PY["diverging-colors"],ordinal:PY["six-groups-seq"],ramp:PY["shades-blue"]},area:{fill:"#1696d2"},rect:{fill:"#1696d2"},line:{color:"#1696d2",stroke:"#1696d2",strokeWidth:5},trail:{color:"#1696d2",stroke:"#1696d2",strokeWidth:0,size:1},path:{stroke:"#1696d2",strokeWidth:.5},point:{filled:!0},text:{font:"Lato",color:"#1696d2",fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:"#1696d2",stroke:null}},arc:{fill:"#1696d2"},shape:{stroke:"#1696d2"},symbol:{fill:"#1696d2",size:30}},DY={arc:{fill:"#3366CC"},area:{fill:"#3366CC"},path:{stroke:"#3366CC"},rect:{fill:"#3366CC"},shape:{stroke:"#3366CC"},symbol:{stroke:"#3366CC"},circle:{fill:"#3366CC"},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:"Arial, sans-serif",fontSize:12},"guide-title":{font:"Arial, sans-serif",fontSize:12},"group-title":{font:"Arial, sans-serif",fontSize:12}},title:{font:"Arial, sans-serif",fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},NY=xY.version,RY=n(150),LY="vg-tooltip-element",jY={offsetX:10,offsetY:10,id:LY,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")},maxDepth:2};var FY=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function BY(e,t){return JSON.stringify(e,function(e){var t=[];return function(n,r){if("object"!==typeof r||null===r)return r;var i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}(t))}var zY,HY=function(){function e(t){JT(this,e),this.options=Object.assign(Object.assign({},jY),t);var n=this.options.id;if(this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){var r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=function(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return"#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n".toString().replace(LY,e)}(n);var i=document.head;i.childNodes.length>0?i.insertBefore(r,i.childNodes[0]):i.appendChild(r)}this.el=document.getElementById(n),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",n),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el))}return tS(e,[{key:"tooltipHandler",value:function(e,t,n,r){if(null!=r&&""!==r){this.el.innerHTML=function(e,t,n){if(Object(ne.A)(e))return"[".concat(e.map((function(e){return t(Object(ne.H)(e)?e:BY(e,n))})).join(", "),"]");if(Object(ne.F)(e)){var r="",i=e,o=i.title,a=FY(i,["title"]);o&&(r+="<h2>".concat(t(o),"</h2>"));var s=Object.keys(a);if(s.length>0){r+="<table>";var l,u=ni(s);try{for(u.s();!(l=u.n()).done;){var c=l.value,f=a[c];void 0!==f&&(Object(ne.F)(f)&&(f=BY(f,n)),r+='<tr><td class="key">'.concat(t(c),':</td><td class="value">').concat(t(f),"</td></tr>"))}}catch(d){u.e(d)}finally{u.f()}r+="</table>"}return r||"{}"}return t(e)}(r,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible","".concat(this.options.theme,"-theme"));var i=function(e,t,n,r){var i=e.clientX+n;i+t.width>window.innerWidth&&(i=+e.clientX-n-t.width);var o=e.clientY+r;return o+t.height>window.innerHeight&&(o=+e.clientY-r-t.height),{x:i,y:o}}(t,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY),o=i.x,a=i.y;this.el.setAttribute("style","top: ".concat(a,"px; left: ").concat(o,"px"))}else this.el.classList.remove("visible","".concat(this.options.theme,"-theme"))}}]),e}(),UY=(RY.version,function(e,t,n){var r=e.open(t),i=new URL(t).origin,o=40;e.addEventListener("message",(function t(n){n.source===r&&(o=0,e.removeEventListener("message",t,!1))}),!1),setTimeout((function e(){o<=0||(r.postMessage(n,i),setTimeout(e,250),o-=1)}),250)}),VY='.vega-embed {\n  position: relative;\n  display: inline-block; }\n  .vega-embed.has-actions {\n    padding-right: 38px; }\n  .vega-embed details:not([open]) > :not(summary) {\n    display: none !important; }\n  .vega-embed summary {\n    list-style: none;\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 6px;\n    z-index: 1000;\n    background: white;\n    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n    color: #1b1e23;\n    border: 1px solid #aaa;\n    border-radius: 999px;\n    opacity: 0.2;\n    transition: opacity 0.4s ease-in;\n    outline: none;\n    cursor: pointer;\n    line-height: 0px; }\n    .vega-embed summary::-webkit-details-marker {\n      display: none; }\n    .vega-embed summary:active {\n      box-shadow: #aaa 0px 0px 0px 1px inset; }\n    .vega-embed summary svg {\n      width: 14px;\n      height: 14px; }\n  .vega-embed details[open] summary {\n    opacity: 0.7; }\n  .vega-embed:hover summary,\n  .vega-embed:focus summary {\n    opacity: 1 !important;\n    transition: opacity 0.2s ease; }\n  .vega-embed .vega-actions {\n    position: absolute;\n    z-index: 1001;\n    top: 35px;\n    right: -9px;\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 8px;\n    padding-top: 8px;\n    border-radius: 4px;\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n    border: 1px solid #d9d9d9;\n    background: white;\n    animation-duration: 0.15s;\n    animation-name: scale-in;\n    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n    text-align: left; }\n    .vega-embed .vega-actions a {\n      padding: 8px 16px;\n      font-family: sans-serif;\n      font-size: 14px;\n      font-weight: 600;\n      white-space: nowrap;\n      color: #434a56;\n      text-decoration: none; }\n      .vega-embed .vega-actions a:hover {\n        background-color: #f7f7f9;\n        color: black; }\n    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n      content: "";\n      display: inline-block;\n      position: absolute; }\n    .vega-embed .vega-actions::before {\n      left: auto;\n      right: 14px;\n      top: -16px;\n      border: 8px solid #0000;\n      border-bottom-color: #d9d9d9; }\n    .vega-embed .vega-actions::after {\n      left: auto;\n      right: 15px;\n      top: -14px;\n      border: 7px solid #0000;\n      border-bottom-color: #fff; }\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: scroll;\n  padding-right: 14px; }\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6); }\n  to {\n    opacity: 1;\n    transform: scale(1); } }\n';function GY(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];WY(e,a)}return e}function WY(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object(ne.jb)(e,i,t[i],!0)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e});var qY=v,YY=y,XY="undefined"!==typeof window?window:void 0;void 0===YY&&(null===(zY=null===XY||void 0===XY?void 0:XY.vl)||void 0===zY?void 0:zY.compile)&&(YY=XY.vl);var $Y={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},KY={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},ZY={vega:"Vega","vega-lite":"Vega-Lite"},QY={vega:qY.version,"vega-lite":YY?YY.version:"not available"},JY={vega:function(e){return e},"vega-lite":function(e,t){return YY.compile(e,{config:t}).spec}},eX='\n<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">\n  <circle r="2" cy="8" cx="2"></circle>\n  <circle r="2" cy="8" cx="8"></circle>\n  <circle r="2" cy="8" cx="14"></circle>\n</svg>';function tX(e){return"function"===typeof e}function nX(e,t,n,r){var i="<html><head>".concat(t,'</head><body><pre><code class="json">'),o="</code></pre>".concat(n,"</body></html>"),a=window.open("");a.document.write(i+e+o),a.document.title="".concat(ZY[r]," JSON Source")}function rX(e,t){var n;if(e.$schema){var r=_Y()(e.$schema);t&&t!==r.library&&console.warn("The given visualization spec is written in ".concat(ZY[r.library],", but mode argument sets ").concat(null!==(n=ZY[t])&&void 0!==n?n:t,"."));var i=r.library;return Object(te.satisfies)(QY[i],"^".concat(r.version.slice(1)))||console.warn("The input spec uses ".concat(ZY[i]," ").concat(r.version,", but the current version of ").concat(ZY[i]," is v").concat(QY[i],".")),i}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":null!==t&&void 0!==t?t:"vega"}function iX(e){return!(!e||!("load"in e))}function oX(e,t){var n,r,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return E(this,void 0,void 0,x.a.mark((function a(){var s,l,u,c,f;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s=iX(o.loader)?o.loader:qY.loader(o.loader),!Object(ne.H)(t)){a.next=9;break}return a.t1=JSON,a.next=5,s.load(t);case 5:a.t2=a.sent,a.t0=a.t1.parse.call(a.t1,a.t2),a.next=10;break;case 9:a.t0=t;case 10:return l=a.t0,a.next=13,aX(null!==(n=l.usermeta&&l.usermeta.embedOptions)&&void 0!==n?n:{},s);case 13:return u=a.sent,a.next=16,aX(o,s);case 16:return c=a.sent,f=Object.assign(Object.assign({},GY(c,u)),{config:Object(ne.N)(null!==(r=c.config)&&void 0!==r?r:{},null!==(i=u.config)&&void 0!==i?i:{})}),a.next=20,sX(e,l,f,s);case 20:return a.abrupt("return",a.sent);case 21:case"end":return a.stop()}}),a)})))}function aX(e,t){var n;return E(this,void 0,void 0,x.a.mark((function r(){var i,o;return x.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!Object(ne.H)(e.config)){r.next=8;break}return r.t1=JSON,r.next=4,t.load(e.config);case 4:r.t2=r.sent,r.t0=r.t1.parse.call(r.t1,r.t2),r.next=9;break;case 8:r.t0=null!==(n=e.config)&&void 0!==n?n:{};case 9:if(i=r.t0,!Object(ne.H)(e.patch)){r.next=18;break}return r.t4=JSON,r.next=14,t.load(e.patch);case 14:r.t5=r.sent,r.t3=r.t4.parse.call(r.t4,r.t5),r.next=19;break;case 18:r.t3=e.patch;case 19:return o=r.t3,r.abrupt("return",Object.assign(Object.assign(Object.assign({},e),o?{patch:o}:{}),i?{config:i}:{}));case 21:case"end":return r.stop()}}),r)})))}function sX(e,t){var n,r,i,o,a,s,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=arguments.length>3?arguments[3]:void 0;return E(this,void 0,void 0,x.a.mark((function c(){var f,d,h,p,m,v,g,y,_,w,T,S,k,O,C,A,M,P,I,D,N,R,L,j,F,B,H,U,V,G,W,q,Y;return x.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(Y=function(){N&&document.removeEventListener("click",N),C.finalize()},f=l.theme?Object(ne.N)(b[l.theme],null!==(n=l.config)&&void 0!==n?n:{}):l.config,d=Object(ne.B)(l.actions)?l.actions:GY({},$Y,null!==(r=l.actions)&&void 0!==r?r:{}),h=Object.assign(Object.assign({},KY),l.i18n),p=null!==(i=l.renderer)&&void 0!==i?i:"canvas",m=null!==(o=l.logLevel)&&void 0!==o?o:qY.Warn,v=null!==(a=l.downloadFileName)&&void 0!==a?a:"visualization",!1!==l.defaultStyle&&(g="vega-embed-style",document.getElementById(g)||((y=document.createElement("style")).id=g,y.innerText=void 0===l.defaultStyle||!0===l.defaultStyle?VY.toString():l.defaultStyle,document.head.appendChild(y))),_=rX(t,l.mode),w=JY[_](t,f),"vega-lite"===_&&w.$schema&&(T=_Y()(w.$schema),Object(te.satisfies)(QY.vega,"^".concat(T.version.slice(1)))||console.warn("The compiled spec uses Vega ".concat(T.version,", but current version is v").concat(QY.vega,"."))),S="string"===typeof e?document.querySelector(e):e){c.next=14;break}throw Error("".concat(e," does not exist"));case 14:return S.classList.add("vega-embed"),d&&S.classList.add("has-actions"),S.innerHTML="",(k=l.patch)&&(w=k instanceof Function?k(w):z(w,k,!0,!1).newDocument),l.formatLocale&&qY.formatLocale(l.formatLocale),l.timeFormatLocale&&qY.timeFormatLocale(l.timeFormatLocale),O=qY.parse(w,"vega-lite"===_?{}:f),C=new qY.View(O,{loader:u,logLevel:m,renderer:p}),!1!==l.tooltip&&(A=tX(l.tooltip)?l.tooltip:new HY(!0===l.tooltip?{}:l.tooltip).call,C.tooltip(A)),void 0===(M=l.hover)&&(M="vega"===_),M&&(I=(P="boolean"===typeof M?{}:M).hoverSet,D=P.updateSet,C.hover(I,D)),l&&(null!=l.width&&C.width(l.width),null!=l.height&&C.height(l.height),null!=l.padding&&C.padding(l.padding)),c.next=30,C.initialize(e).runAsync();case 30:if(!1!==d){if(R=S,!1!==l.defaultStyle&&((L=document.createElement("details")).title=h.CLICK_TO_VIEW_ACTIONS,S.append(L),R=L,(j=document.createElement("summary")).innerHTML=eX,L.append(j),N=function(e){L.contains(e.target)||L.removeAttribute("open")},document.addEventListener("click",N)),F=document.createElement("div"),R.append(F),F.classList.add("vega-actions"),!0===d||!1!==d.export)for(B=function(){var e=U[H];if(!0===d||!0===d.export||d.export[e]){var t=h["".concat(e.toUpperCase(),"_ACTION")],n=document.createElement("a");n.text=t,n.href="#",n.target="_blank",n.download="".concat(v,".").concat(e),n.addEventListener("mousedown",(function(t){return E(this,void 0,void 0,x.a.mark((function n(){var r;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),n.next=3,C.toImageURL(e,l.scaleFactor);case 3:r=n.sent,this.href=r;case 5:case"end":return n.stop()}}),n,this)})))})),F.append(n)}},H=0,U=["svg","png"];H<U.length;H++)B();!0!==d&&!1===d.source||((V=document.createElement("a")).text=h.SOURCE_ACTION,V.href="#",V.addEventListener("click",(function(e){var n,r;nX(ee()(t),null!==(n=l.sourceHeader)&&void 0!==n?n:"",null!==(r=l.sourceFooter)&&void 0!==r?r:"",_),e.preventDefault()})),F.append(V)),"vega-lite"!==_||!0!==d&&!1===d.compiled||((G=document.createElement("a")).text=h.COMPILED_ACTION,G.href="#",G.addEventListener("click",(function(e){var t,n;nX(ee()(w),null!==(t=l.sourceHeader)&&void 0!==t?t:"",null!==(n=l.sourceFooter)&&void 0!==n?n:"","vega"),e.preventDefault()})),F.append(G)),!0!==d&&!1===d.editor||(W=null!==(s=l.editorUrl)&&void 0!==s?s:"https://vega.github.io/editor/",(q=document.createElement("a")).text=h.EDITOR_ACTION,q.href="#",q.addEventListener("click",(function(e){UY(window,W,{config:f,mode:_,renderer:p,spec:ee()(t)}),e.preventDefault()})),F.append(q))}return c.abrupt("return",{view:C,spec:t,vgSpec:w,finalize:Y});case 32:case"end":return c.stop()}}),c)})))}},,,,,function(e,t,n){"use strict";var r=n(46),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,d=i?Symbol.for("react.forward_ref"):60112,h=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,v="function"===typeof Symbol&&Symbol.iterator;function g(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function _(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}function x(){}function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(g(85));this.updater.enqueueSetState(this,e,t,"setState")},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=_.prototype;var E=w.prototype=new x;E.constructor=w,r(E,_.prototype),E.isPureReactComponent=!0;var T={current:null},S=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function O(e,t,n){var r,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,r)&&!k.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:T.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===o}var A=/\/+/g,M=[];function P(e,t,n,r){if(M.length){var i=M.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function I(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>M.length&&M.push(e)}function D(e,t,n){return null==e?0:function e(t,n,r,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case o:case a:l=!0}}if(l)return r(i,t,""===n?"."+N(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var u=0;u<t.length;u++){var c=n+N(s=t[u],u);l+=e(s,c,r,i)}else if(null===t||"object"!==typeof t?c=null:c="function"===typeof(c=v&&t[v]||t["@@iterator"])?c:null,"function"===typeof c)for(t=c.call(t),u=0;!(s=t.next()).done;)l+=e(s=s.value,c=n+N(s,u++),r,i);else if("object"===s)throw r=""+t,Error(g(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return l}(e,"",t,n)}function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function R(e,t){e.func.call(e.context,t,e.count++)}function L(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?j(e,r,n,(function(e){return e})):null!=e&&(C(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(A,"$&/")+"/")+n)),r.push(e))}function j(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(A,"$&/")+"/"),D(e,L,t=P(t,o,r,i)),I(t)}var F={current:null};function B(){var e=F.current;if(null===e)throw Error(g(321));return e}var z={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:T,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return j(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;D(e,R,t=P(null,null,t,n)),I(t)},count:function(e){return D(e,(function(){return null}),null)},toArray:function(e){var t=[];return j(e,t,null,(function(e){return e})),t},only:function(e){if(!C(e))throw Error(g(143));return e}},t.Component=_,t.Fragment=s,t.Profiler=u,t.PureComponent=w,t.StrictMode=l,t.Suspense=h,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(g(267,e));var i=r({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=T.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)S.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){u=Array(c);for(var f=0;f<c;f++)u[f]=arguments[f+2];i.children=u}return{$$typeof:o,type:e.type,key:a,ref:s,props:i,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=O,t.createFactory=function(e){var t=O.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:d,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return B().useCallback(e,t)},t.useContext=function(e,t){return B().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return B().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return B().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return B().useLayoutEffect(e,t)},t.useMemo=function(e,t){return B().useMemo(e,t)},t.useReducer=function(e,t,n){return B().useReducer(e,t,n)},t.useRef=function(e){return B().useRef(e)},t.useState=function(e){return B().useState(e)},t.version="16.13.1"},function(e,t,n){"use strict";var r=n(2),i=n(46),o=n(115);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));function s(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var l=!1,u=null,c=!1,f=null,d={onError:function(e){l=!0,u=e}};function h(e,t,n,r,i,o,a,c,f){l=!1,u=null,s.apply(d,arguments)}var p=null,m=null,v=null;function g(e,t,n){var r=e.type||"unknown-event";e.currentTarget=v(n),function(e,t,n,r,i,o,s,d,p){if(h.apply(this,arguments),l){if(!l)throw Error(a(198));var m=u;l=!1,u=null,c||(c=!0,f=m)}}(r,t,void 0,e),e.currentTarget=null}var y=null,b={};function _(){if(y)for(var e in b){var t=b[e],n=y.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!w[n]){if(!t.extractEvents)throw Error(a(97,e));for(var r in w[n]=t,n=t.eventTypes){var i=void 0,o=n[r],s=t,l=r;if(E.hasOwnProperty(l))throw Error(a(99,l));E[l]=o;var u=o.phasedRegistrationNames;if(u){for(i in u)u.hasOwnProperty(i)&&x(u[i],s,l);i=!0}else o.registrationName?(x(o.registrationName,s,l),i=!0):i=!1;if(!i)throw Error(a(98,r,e))}}}}function x(e,t,n){if(T[e])throw Error(a(100,e));T[e]=t,S[e]=t.eventTypes[n].dependencies}var w=[],E={},T={},S={};function k(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!b.hasOwnProperty(t)||b[t]!==r){if(b[t])throw Error(a(102,t));b[t]=r,n=!0}}n&&_()}var O=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),C=null,A=null,M=null;function P(e){if(e=m(e)){if("function"!==typeof C)throw Error(a(280));var t=e.stateNode;t&&(t=p(t),C(e.stateNode,e.type,t))}}function I(e){A?M?M.push(e):M=[e]:A=e}function D(){if(A){var e=A,t=M;if(M=A=null,P(e),t)for(e=0;e<t.length;e++)P(t[e])}}function N(e,t){return e(t)}function R(e,t,n,r,i){return e(t,n,r,i)}function L(){}var j=N,F=!1,B=!1;function z(){null===A&&null===M||(L(),D())}function H(e,t,n){if(B)return e(t,n);B=!0;try{return j(e,t,n)}finally{B=!1,z()}}var U=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,V=Object.prototype.hasOwnProperty,G={},W={};function q(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var Y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){Y[e]=new q(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];Y[t]=new q(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){Y[e]=new q(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){Y[e]=new q(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){Y[e]=new q(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){Y[e]=new q(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){Y[e]=new q(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){Y[e]=new q(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){Y[e]=new q(e,5,!1,e.toLowerCase(),null,!1)}));var X=/[\-:]([a-z])/g;function $(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(X,$);Y[t]=new q(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(X,$);Y[t]=new q(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(X,$);Y[t]=new q(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){Y[e]=new q(e,1,!1,e.toLowerCase(),null,!1)})),Y.xlinkHref=new q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){Y[e]=new q(e,1,!1,e.toLowerCase(),null,!0)}));var K=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Z(e,t,n,r){var i=Y.hasOwnProperty(t)?Y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!V.call(W,e)||!V.call(G,e)&&(U.test(e)?W[e]=!0:(G[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}K.hasOwnProperty("ReactCurrentDispatcher")||(K.ReactCurrentDispatcher={current:null}),K.hasOwnProperty("ReactCurrentBatchConfig")||(K.ReactCurrentBatchConfig={suspense:null});var Q=/^(.*)[\\\/]/,J="function"===typeof Symbol&&Symbol.for,ee=J?Symbol.for("react.element"):60103,te=J?Symbol.for("react.portal"):60106,ne=J?Symbol.for("react.fragment"):60107,re=J?Symbol.for("react.strict_mode"):60108,ie=J?Symbol.for("react.profiler"):60114,oe=J?Symbol.for("react.provider"):60109,ae=J?Symbol.for("react.context"):60110,se=J?Symbol.for("react.concurrent_mode"):60111,le=J?Symbol.for("react.forward_ref"):60112,ue=J?Symbol.for("react.suspense"):60113,ce=J?Symbol.for("react.suspense_list"):60120,fe=J?Symbol.for("react.memo"):60115,de=J?Symbol.for("react.lazy"):60116,he=J?Symbol.for("react.block"):60121,pe="function"===typeof Symbol&&Symbol.iterator;function me(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=pe&&e[pe]||e["@@iterator"])?e:null}function ve(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case ie:return"Profiler";case re:return"StrictMode";case ue:return"Suspense";case ce:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case ae:return"Context.Consumer";case oe:return"Context.Provider";case le:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case fe:return ve(e.type);case he:return ve(e.render);case de:if(e=1===e._status?e._result:null)return ve(e)}return null}function ge(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=ve(e.type);n=null,r&&(n=ve(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(Q,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}function ye(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function _e(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function xe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=be(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function we(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ye(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Te(e,t){null!=(t=t.checked)&&Z(e,"checked",t,!1)}function Se(e,t){Te(e,t);var n=ye(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Oe(e,t.type,n):t.hasOwnProperty("defaultValue")&&Oe(e,t.type,ye(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ke(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Oe(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ce(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ye(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Me(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ye(n)}}function Ie(e,t){var n=ye(t.value),r=ye(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function De(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Ne="http://www.w3.org/1999/xhtml",Re="http://www.w3.org/2000/svg";function Le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function je(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Fe,Be=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==Re||"innerHTML"in e)e.innerHTML=t;else{for((Fe=Fe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function ze(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function He(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ue={animationend:He("Animation","AnimationEnd"),animationiteration:He("Animation","AnimationIteration"),animationstart:He("Animation","AnimationStart"),transitionend:He("Transition","TransitionEnd")},Ve={},Ge={};function We(e){if(Ve[e])return Ve[e];if(!Ue[e])return e;var t,n=Ue[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ge)return Ve[e]=n[t];return e}O&&(Ge=document.createElement("div").style,"AnimationEvent"in window||(delete Ue.animationend.animation,delete Ue.animationiteration.animation,delete Ue.animationstart.animation),"TransitionEvent"in window||delete Ue.transitionend.transition);var qe=We("animationend"),Ye=We("animationiteration"),Xe=We("animationstart"),$e=We("transitionend"),Ke="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ze=new("function"===typeof WeakMap?WeakMap:Map);function Qe(e){var t=Ze.get(e);return void 0===t&&(t=new Map,Ze.set(e,t)),t}function Je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if(Je(e)!==e)throw Error(a(188))}function nt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Je(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return tt(i),e;if(o===r)return tt(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function rt(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function it(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var ot=null;function at(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)g(e,t[r],n[r]);else t&&g(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function st(e){if(null!==e&&(ot=rt(ot,e)),e=ot,ot=null,e){if(it(e,at),ot)throw Error(a(95));if(c)throw e=f,c=!1,f=null,e}}function lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ut(e){if(!O)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var ct=[];function ft(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ct.length&&ct.push(e)}function dt(e,t,n,r){if(ct.length){var i=ct.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function ht(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=On(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=lt(e.nativeEvent);r=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var s=null,l=0;l<w.length;l++){var u=w[l];u&&(u=u.extractEvents(r,t,o,i,a))&&(s=rt(s,u))}st(s)}}function pt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Xt(t,"scroll",!0);break;case"focus":case"blur":Xt(t,"focus",!0),Xt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ut(e)&&Xt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ke.indexOf(e)&&Yt(e,t)}n.set(e,null)}}var mt,vt,gt,yt=!1,bt=[],_t=null,xt=null,wt=null,Et=new Map,Tt=new Map,St=[],kt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ot="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Ct(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function At(e,t){switch(e){case"focus":case"blur":_t=null;break;case"dragenter":case"dragleave":xt=null;break;case"mouseover":case"mouseout":wt=null;break;case"pointerover":case"pointerout":Et.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=Ct(t,n,r,i,o),null!==t&&(null!==(t=Cn(t))&&vt(t)),e):(e.eventSystemFlags|=r,e)}function Pt(e){var t=On(e.target);if(null!==t){var n=Je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=et(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){gt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function It(e){if(null!==e.blockedOn)return!1;var t=Qt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Cn(t);return null!==n&&vt(n),e.blockedOn=t,!1}return!0}function Dt(e,t,n){It(e)&&n.delete(t)}function Nt(){for(yt=!1;0<bt.length;){var e=bt[0];if(null!==e.blockedOn){null!==(e=Cn(e.blockedOn))&&mt(e);break}var t=Qt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:bt.shift()}null!==_t&&It(_t)&&(_t=null),null!==xt&&It(xt)&&(xt=null),null!==wt&&It(wt)&&(wt=null),Et.forEach(Dt),Tt.forEach(Dt)}function Rt(e,t){e.blockedOn===t&&(e.blockedOn=null,yt||(yt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Nt)))}function Lt(e){function t(t){return Rt(t,e)}if(0<bt.length){Rt(bt[0],e);for(var n=1;n<bt.length;n++){var r=bt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&Rt(_t,e),null!==xt&&Rt(xt,e),null!==wt&&Rt(wt,e),Et.forEach(t),Tt.forEach(t),n=0;n<St.length;n++)(r=St[n]).blockedOn===e&&(r.blockedOn=null);for(;0<St.length&&null===(n=St[0]).blockedOn;)Pt(n),null===n.blockedOn&&St.shift()}var jt={},Ft=new Map,Bt=new Map,zt=["abort","abort",qe,"animationEnd",Ye,"animationIteration",Xe,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",$e,"transitionEnd","waiting","waiting"];function Ht(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:t},Bt.set(r,t),Ft.set(r,o),jt[i]=o}}Ht("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ht("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ht(zt,2);for(var Ut="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Vt=0;Vt<Ut.length;Vt++)Bt.set(Ut[Vt],0);var Gt=o.unstable_UserBlockingPriority,Wt=o.unstable_runWithPriority,qt=!0;function Yt(e,t){Xt(t,e,!1)}function Xt(e,t,n){var r=Bt.get(t);switch(void 0===r?2:r){case 0:r=$t.bind(null,t,1,e);break;case 1:r=Kt.bind(null,t,1,e);break;default:r=Zt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function $t(e,t,n,r){F||L();var i=Zt,o=F;F=!0;try{R(i,e,t,n,r)}finally{(F=o)||z()}}function Kt(e,t,n,r){Wt(Gt,Zt.bind(null,e,t,n,r))}function Zt(e,t,n,r){if(qt)if(0<bt.length&&-1<kt.indexOf(e))e=Ct(null,e,t,n,r),bt.push(e);else{var i=Qt(e,t,n,r);if(null===i)At(e,r);else if(-1<kt.indexOf(e))e=Ct(i,e,t,n,r),bt.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return _t=Mt(_t,e,t,n,r,i),!0;case"dragenter":return xt=Mt(xt,e,t,n,r,i),!0;case"mouseover":return wt=Mt(wt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Et.set(o,Mt(Et.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Tt.set(o,Mt(Tt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){At(e,r),e=dt(e,r,null,t);try{H(ht,e)}finally{ft(e)}}}}function Qt(e,t,n,r){if(null!==(n=On(n=lt(r)))){var i=Je(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=et(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=dt(e,r,n,t);try{H(ht,e)}finally{ft(e)}return null}var Jt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];function tn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||Jt.hasOwnProperty(e)&&Jt[e]?(""+t).trim():t+"px"}function nn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=tn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(Jt).forEach((function(e){en.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Jt[t]=Jt[e]}))}));var rn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(rn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62,""))}}function an(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=Ne;function ln(e,t){var n=Qe(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=S[t];for(var r=0;r<t.length;r++)pt(t[r],e,n)}function un(){}function cn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function fn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var n,r=fn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fn(r)}}function hn(){for(var e=window,t=cn();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=cn((e=t.contentWindow).document)}return t}function pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mn=null,vn=null;function gn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function yn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var bn="function"===typeof setTimeout?setTimeout:void 0,_n="function"===typeof clearTimeout?clearTimeout:void 0;function xn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function wn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var En=Math.random().toString(36).slice(2),Tn="__reactInternalInstance$"+En,Sn="__reactEventHandlers$"+En,kn="__reactContainere$"+En;function On(e){var t=e[Tn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[kn]||n[Tn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=wn(e);null!==e;){if(n=e[Tn])return n;e=wn(e)}return t}n=(e=n).parentNode}return null}function Cn(e){return!(e=e[Tn]||e[kn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function An(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Mn(e){return e[Sn]||null}function Pn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function In(e,t){var n=e.stateNode;if(!n)return null;var r=p(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}function Dn(e,t,n){(t=In(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function Nn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Pn(t);for(t=n.length;0<t--;)Dn(n[t],"captured",e);for(t=0;t<n.length;t++)Dn(n[t],"bubbled",e)}}function Rn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=In(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function Ln(e){e&&e.dispatchConfig.registrationName&&Rn(e._targetInst,null,e)}function jn(e){it(e,Nn)}var Fn=null,Bn=null,zn=null;function Hn(){if(zn)return zn;var e,t,n=Bn,r=n.length,i="value"in Fn?Fn.value:Fn.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return zn=i.slice(e,1<t?1-t:void 0)}function Un(){return!0}function Vn(){return!1}function Gn(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Un:Vn,this.isPropagationStopped=Vn,this}function Wn(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function qn(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Yn(e){e.eventPool=[],e.getPooled=Wn,e.release=qn}i(Gn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Un)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Un)},persist:function(){this.isPersistent=Un},isPersistent:Vn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Vn,this._dispatchInstances=this._dispatchListeners=null}}),Gn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Gn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,Yn(n),n},Yn(Gn);var Xn=Gn.extend({data:null}),$n=Gn.extend({data:null}),Kn=[9,13,27,32],Zn=O&&"CompositionEvent"in window,Qn=null;O&&"documentMode"in document&&(Qn=document.documentMode);var Jn=O&&"TextEvent"in window&&!Qn,er=O&&(!Zn||Qn&&8<Qn&&11>=Qn),tr=String.fromCharCode(32),nr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rr=!1;function ir(e,t){switch(e){case"keyup":return-1!==Kn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function or(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var ar=!1;var sr={eventTypes:nr,extractEvents:function(e,t,n,r){var i;if(Zn)e:{switch(e){case"compositionstart":var o=nr.compositionStart;break e;case"compositionend":o=nr.compositionEnd;break e;case"compositionupdate":o=nr.compositionUpdate;break e}o=void 0}else ar?ir(e,n)&&(o=nr.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=nr.compositionStart);return o?(er&&"ko"!==n.locale&&(ar||o!==nr.compositionStart?o===nr.compositionEnd&&ar&&(i=Hn()):(Bn="value"in(Fn=r)?Fn.value:Fn.textContent,ar=!0)),o=Xn.getPooled(o,t,n,r),i?o.data=i:null!==(i=or(n))&&(o.data=i),jn(o),i=o):i=null,(e=Jn?function(e,t){switch(e){case"compositionend":return or(t);case"keypress":return 32!==t.which?null:(rr=!0,tr);case"textInput":return(e=t.data)===tr&&rr?null:e;default:return null}}(e,n):function(e,t){if(ar)return"compositionend"===e||!Zn&&ir(e,t)?(e=Hn(),zn=Bn=Fn=null,ar=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return er&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=$n.getPooled(nr.beforeInput,t,n,r)).data=e,jn(t)):t=null,null===i?t:null===t?i:[i,t]}},lr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ur(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!lr[e.type]:"textarea"===t}var cr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function fr(e,t,n){return(e=Gn.getPooled(cr.change,e,t,n)).type="change",I(n),jn(e),e}var dr=null,hr=null;function pr(e){st(e)}function mr(e){if(xe(An(e)))return e}function vr(e,t){if("change"===e)return t}var gr=!1;function yr(){dr&&(dr.detachEvent("onpropertychange",br),hr=dr=null)}function br(e){if("value"===e.propertyName&&mr(hr))if(e=fr(hr,e,lt(e)),F)st(e);else{F=!0;try{N(pr,e)}finally{F=!1,z()}}}function _r(e,t,n){"focus"===e?(yr(),hr=n,(dr=t).attachEvent("onpropertychange",br)):"blur"===e&&yr()}function xr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return mr(hr)}function wr(e,t){if("click"===e)return mr(t)}function Er(e,t){if("input"===e||"change"===e)return mr(t)}O&&(gr=ut("input")&&(!document.documentMode||9<document.documentMode));var Tr={eventTypes:cr,_isInputEventSupported:gr,extractEvents:function(e,t,n,r){var i=t?An(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=vr;else if(ur(i))if(gr)a=Er;else{a=xr;var s=_r}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=wr);if(a&&(a=a(e,t)))return fr(a,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Oe(i,"number",i.value)}},Sr=Gn.extend({view:null,detail:null}),kr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Or(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kr[e])&&!!t[e]}function Cr(){return Or}var Ar=0,Mr=0,Pr=!1,Ir=!1,Dr=Sr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Cr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Ar;return Ar=e.screenX,Pr?"mousemove"===e.type?e.screenX-t:0:(Pr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Mr;return Mr=e.screenY,Ir?"mousemove"===e.type?e.screenY-t:0:(Ir=!0,0)}}),Nr=Dr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Rr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Lr={eventTypes:Rr,extractEvents:function(e,t,n,r,i){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?On(t):null)&&(t!==Je(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var s=Dr,l=Rr.mouseLeave,u=Rr.mouseEnter,c="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Nr,l=Rr.pointerLeave,u=Rr.pointerEnter,c="pointer");if(e=null==a?o:An(a),o=null==t?o:An(t),(l=s.getPooled(l,a,n,r)).type=c+"leave",l.target=e,l.relatedTarget=o,(n=s.getPooled(u,t,n,r)).type=c+"enter",n.target=o,n.relatedTarget=e,c=t,(r=a)&&c)e:{for(u=c,a=0,e=s=r;e;e=Pn(e))a++;for(e=0,t=u;t;t=Pn(t))e++;for(;0<a-e;)s=Pn(s),a--;for(;0<e-a;)u=Pn(u),e--;for(;a--;){if(s===u||s===u.alternate)break e;s=Pn(s),u=Pn(u)}s=null}else s=null;for(u=s,s=[];r&&r!==u&&(null===(a=r.alternate)||a!==u);)s.push(r),r=Pn(r);for(r=[];c&&c!==u&&(null===(a=c.alternate)||a!==u);)r.push(c),c=Pn(c);for(c=0;c<s.length;c++)Rn(s[c],"bubbled",l);for(c=r.length;0<c--;)Rn(r[c],"captured",n);return 0===(64&i)?[l]:[l,n]}};var jr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Fr=Object.prototype.hasOwnProperty;function Br(e,t){if(jr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Fr.call(t,n[r])||!jr(e[n[r]],t[n[r]]))return!1;return!0}var zr=O&&"documentMode"in document&&11>=document.documentMode,Hr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Ur=null,Vr=null,Gr=null,Wr=!1;function qr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Wr||null==Ur||Ur!==cn(n)?null:("selectionStart"in(n=Ur)&&pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Gr&&Br(Gr,n)?null:(Gr=n,(e=Gn.getPooled(Hr.select,Vr,e,t)).type="select",e.target=Ur,jn(e),e))}var Yr={eventTypes:Hr,extractEvents:function(e,t,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=Qe(i),o=S.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?An(t):window,e){case"focus":(ur(i)||"true"===i.contentEditable)&&(Ur=i,Vr=t,Gr=null);break;case"blur":Gr=Vr=Ur=null;break;case"mousedown":Wr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Wr=!1,qr(n,r);case"selectionchange":if(zr)break;case"keydown":case"keyup":return qr(n,r)}return null}},Xr=Gn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),$r=Gn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Kr=Sr.extend({relatedTarget:null});function Zr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Qr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ei=Sr.extend({key:function(e){if(e.key){var t=Qr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Zr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Jr[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Cr,charCode:function(e){return"keypress"===e.type?Zr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Zr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ti=Dr.extend({dataTransfer:null}),ni=Sr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Cr}),ri=Gn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ii=Dr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),oi={eventTypes:jt,extractEvents:function(e,t,n,r){var i=Ft.get(e);if(!i)return null;switch(e){case"keypress":if(0===Zr(n))return null;case"keydown":case"keyup":e=ei;break;case"blur":case"focus":e=Kr;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Dr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ti;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ni;break;case qe:case Ye:case Xe:e=Xr;break;case $e:e=ri;break;case"scroll":e=Sr;break;case"wheel":e=ii;break;case"copy":case"cut":case"paste":e=$r;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Nr;break;default:e=Gn}return jn(t=e.getPooled(i,t,n,r)),t}};if(y)throw Error(a(101));y=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),_(),p=Mn,m=Cn,v=An,k({SimpleEventPlugin:oi,EnterLeaveEventPlugin:Lr,ChangeEventPlugin:Tr,SelectEventPlugin:Yr,BeforeInputEventPlugin:sr});var ai=[],si=-1;function li(e){0>si||(e.current=ai[si],ai[si]=null,si--)}function ui(e,t){si++,ai[si]=e.current,e.current=t}var ci={},fi={current:ci},di={current:!1},hi=ci;function pi(e,t){var n=e.type.contextTypes;if(!n)return ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function vi(){li(di),li(fi)}function gi(e,t,n){if(fi.current!==ci)throw Error(a(168));ui(fi,t),ui(di,n)}function yi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,ve(t)||"Unknown",o));return i({},n,{},r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ci,hi=fi.current,ui(fi,e),ui(di,di.current),!0}function _i(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=yi(e,t,hi),r.__reactInternalMemoizedMergedChildContext=e,li(di),li(fi),ui(fi,e)):li(di),ui(di,n)}var xi=o.unstable_runWithPriority,wi=o.unstable_scheduleCallback,Ei=o.unstable_cancelCallback,Ti=o.unstable_requestPaint,Si=o.unstable_now,ki=o.unstable_getCurrentPriorityLevel,Oi=o.unstable_ImmediatePriority,Ci=o.unstable_UserBlockingPriority,Ai=o.unstable_NormalPriority,Mi=o.unstable_LowPriority,Pi=o.unstable_IdlePriority,Ii={},Di=o.unstable_shouldYield,Ni=void 0!==Ti?Ti:function(){},Ri=null,Li=null,ji=!1,Fi=Si(),Bi=1e4>Fi?Si:function(){return Si()-Fi};function zi(){switch(ki()){case Oi:return 99;case Ci:return 98;case Ai:return 97;case Mi:return 96;case Pi:return 95;default:throw Error(a(332))}}function Hi(e){switch(e){case 99:return Oi;case 98:return Ci;case 97:return Ai;case 96:return Mi;case 95:return Pi;default:throw Error(a(332))}}function Ui(e,t){return e=Hi(e),xi(e,t)}function Vi(e,t,n){return e=Hi(e),wi(e,t,n)}function Gi(e){return null===Ri?(Ri=[e],Li=wi(Oi,qi)):Ri.push(e),Ii}function Wi(){if(null!==Li){var e=Li;Li=null,Ei(e)}qi()}function qi(){if(!ji&&null!==Ri){ji=!0;var e=0;try{var t=Ri;Ui(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ri=null}catch(n){throw null!==Ri&&(Ri=Ri.slice(e+1)),wi(Oi,Wi),n}finally{ji=!1}}}function Yi(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Xi(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var $i={current:null},Ki=null,Zi=null,Qi=null;function Ji(){Qi=Zi=Ki=null}function eo(e){var t=$i.current;li($i),e.type._context._currentValue=t}function to(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function no(e,t){Ki=e,Qi=Zi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Ma=!0),e.firstContext=null)}function ro(e,t){if(Qi!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Qi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Zi){if(null===Ki)throw Error(a(308));Zi=t,Ki.dependencies={expirationTime:0,firstContext:t,responders:null}}else Zi=Zi.next=t;return e._currentValue}var io=!1;function oo(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ao(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function so(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function lo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function uo(e,t){var n=e.alternate;null!==n&&ao(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function co(e,t,n,r){var o=e.updateQueue;io=!1;var a=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==a){var l=a.next;a.next=s.next,s.next=l}a=s,o.shared.pending=null,null!==(l=e.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=s))}if(null!==a){l=a.next;var u=o.baseState,c=0,f=null,d=null,h=null;if(null!==l)for(var p=l;;){if((s=p.expirationTime)<r){var m={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===h?(d=h=m,f=u):h=h.next=m,s>c&&(c=s)}else{null!==h&&(h=h.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),ol(s,p.suspenseConfig);e:{var v=e,g=p;switch(s=t,m=n,g.tag){case 1:if("function"===typeof(v=g.payload)){u=v.call(m,u,s);break e}u=v;break e;case 3:v.effectTag=-4097&v.effectTag|64;case 0:if(null===(s="function"===typeof(v=g.payload)?v.call(m,u,s):v)||void 0===s)break e;u=i({},u,s);break e;case 2:io=!0}}null!==p.callback&&(e.effectTag|=32,null===(s=o.effects)?o.effects=[p]:s.push(p))}if(null===(p=p.next)||p===l){if(null===(s=o.shared.pending))break;p=a.next=s.next,s.next=l,o.baseQueue=a=s,o.shared.pending=null}}null===h?f=u:h.next=d,o.baseState=f,o.baseQueue=h,al(c),e.expirationTime=c,e.memoizedState=u}}function fo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(a(191,r));r.call(i)}}}var ho=K.ReactCurrentBatchConfig,po=(new r.Component).refs;function mo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var vo={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=qs(),i=ho.suspense;(i=so(r=Ys(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),lo(e,i),Xs(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=qs(),i=ho.suspense;(i=so(r=Ys(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),lo(e,i),Xs(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=qs(),r=ho.suspense;(r=so(n=Ys(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),lo(e,r),Xs(e,n)}};function go(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Br(n,r)||!Br(i,o))}function yo(e,t,n){var r=!1,i=ci,o=t.contextType;return"object"===typeof o&&null!==o?o=ro(o):(i=mi(t)?hi:fi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?pi(e,i):ci),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=vo,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function bo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vo.enqueueReplaceState(t,t.state,null)}function _o(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=po,oo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ro(o):(o=mi(t)?hi:fi.current,i.context=pi(e,o)),co(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(mo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&vo.enqueueReplaceState(i,i.state,null),co(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var xo=Array.isArray;function wo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===po&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Eo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function To(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=kl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Al(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=wo(e,t,n),r.return=e,r):((r=Ol(n.type,n.key,n.props,null,e.mode,r)).ref=wo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ml(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Cl(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Al(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Ol(t.type,t.key,t.props,null,e.mode,n)).ref=wo(e,null,t),n.return=e,n;case te:return(t=Ml(t,e.mode,n)).return=e,t}if(xo(t)||me(t))return(t=Cl(t,e.mode,n,null)).return=e,t;Eo(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===i?n.type===ne?f(e,t,n.props.children,r,i):u(e,t,n,r):null;case te:return n.key===i?c(e,t,n,r):null}if(xo(n)||me(n))return null!==i?null:f(e,t,n,r,null);Eo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?f(t,e,r.props.children,i,r.key):u(t,e,r,i);case te:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xo(r)||me(r))return f(t,e=e.get(n)||null,r,i,null);Eo(t,r)}return null}function m(i,a,s,l){for(var u=null,c=null,f=a,m=a=0,v=null;null!==f&&m<s.length;m++){f.index>m?(v=f,f=null):v=f.sibling;var g=h(i,f,s[m],l);if(null===g){null===f&&(f=v);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,m),null===c?u=g:c.sibling=g,c=g,f=v}if(m===s.length)return n(i,f),u;if(null===f){for(;m<s.length;m++)null!==(f=d(i,s[m],l))&&(a=o(f,a,m),null===c?u=f:c.sibling=f,c=f);return u}for(f=r(i,f);m<s.length;m++)null!==(v=p(f,i,m,s[m],l))&&(e&&null!==v.alternate&&f.delete(null===v.key?m:v.key),a=o(v,a,m),null===c?u=v:c.sibling=v,c=v);return e&&f.forEach((function(e){return t(i,e)})),u}function v(i,s,l,u){var c=me(l);if("function"!==typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var f=c=null,m=s,v=s=0,g=null,y=l.next();null!==m&&!y.done;v++,y=l.next()){m.index>v?(g=m,m=null):g=m.sibling;var b=h(i,m,y.value,u);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,v),null===f?c=b:f.sibling=b,f=b,m=g}if(y.done)return n(i,m),c;if(null===m){for(;!y.done;v++,y=l.next())null!==(y=d(i,y.value,u))&&(s=o(y,s,v),null===f?c=y:f.sibling=y,f=y);return c}for(m=r(i,m);!y.done;v++,y=l.next())null!==(y=p(m,i,v,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=o(y,s,v),null===f?c=y:f.sibling=y,f=y);return e&&m.forEach((function(e){return t(i,e)})),c}return function(e,r,o,l){var u="object"===typeof o&&null!==o&&o.type===ne&&null===o.key;u&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case ee:e:{for(c=o.key,u=r;null!==u;){if(u.key===c){switch(u.tag){case 7:if(o.type===ne){n(e,u.sibling),(r=i(u,o.props.children)).return=e,e=r;break e}break;default:if(u.elementType===o.type){n(e,u.sibling),(r=i(u,o.props)).ref=wo(e,u,o),r.return=e,e=r;break e}}n(e,u);break}t(e,u),u=u.sibling}o.type===ne?((r=Cl(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=Ol(o.type,o.key,o.props,null,e.mode,l)).ref=wo(e,r,o),l.return=e,e=l)}return s(e);case te:e:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ml(o,e.mode,l)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Al(o,e.mode,l)).return=e,e=r),s(e);if(xo(o))return m(e,r,o,l);if(me(o))return v(e,r,o,l);if(c&&Eo(e,o),"undefined"===typeof o&&!u)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return n(e,r)}}var So=To(!0),ko=To(!1),Oo={},Co={current:Oo},Ao={current:Oo},Mo={current:Oo};function Po(e){if(e===Oo)throw Error(a(174));return e}function Io(e,t){switch(ui(Mo,t),ui(Ao,e),ui(Co,Oo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:je(null,"");break;default:t=je(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Co),ui(Co,t)}function Do(){li(Co),li(Ao),li(Mo)}function No(e){Po(Mo.current);var t=Po(Co.current),n=je(t,e.type);t!==n&&(ui(Ao,e),ui(Co,n))}function Ro(e){Ao.current===e&&(li(Co),li(Ao))}var Lo={current:0};function jo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Fo(e,t){return{responder:e,props:t}}var Bo=K.ReactCurrentDispatcher,zo=K.ReactCurrentBatchConfig,Ho=0,Uo=null,Vo=null,Go=null,Wo=!1;function qo(){throw Error(a(321))}function Yo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jr(e[n],t[n]))return!1;return!0}function Xo(e,t,n,r,i,o){if(Ho=o,Uo=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Bo.current=null===e||null===e.memoizedState?ga:ya,e=n(r,i),t.expirationTime===Ho){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(a(301));o+=1,Go=Vo=null,t.updateQueue=null,Bo.current=ba,e=n(r,i)}while(t.expirationTime===Ho)}if(Bo.current=va,t=null!==Vo&&null!==Vo.next,Ho=0,Go=Vo=Uo=null,Wo=!1,t)throw Error(a(300));return e}function $o(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Go?Uo.memoizedState=Go=e:Go=Go.next=e,Go}function Ko(){if(null===Vo){var e=Uo.alternate;e=null!==e?e.memoizedState:null}else e=Vo.next;var t=null===Go?Uo.memoizedState:Go.next;if(null!==t)Go=t,Vo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Vo=e).memoizedState,baseState:Vo.baseState,baseQueue:Vo.baseQueue,queue:Vo.queue,next:null},null===Go?Uo.memoizedState=Go=e:Go=Go.next=e}return Go}function Zo(e,t){return"function"===typeof t?t(e):t}function Qo(e){var t=Ko(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Vo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=s=o=null,u=i;do{var c=u.expirationTime;if(c<Ho){var f={expirationTime:u.expirationTime,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(s=l=f,o=r):l=l.next=f,c>Uo.expirationTime&&(Uo.expirationTime=c,al(c))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),ol(c,u.suspenseConfig),r=u.eagerReducer===e?u.eagerState:e(r,u.action);u=u.next}while(null!==u&&u!==i);null===l?o=r:l.next=s,jr(r,t.memoizedState)||(Ma=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Jo(e){var t=Ko(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);jr(o,t.memoizedState)||(Ma=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ea(e){var t=$o();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:e}).dispatch=ma.bind(null,Uo,e),[t.memoizedState,e]}function ta(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Uo.updateQueue)?(t={lastEffect:null},Uo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function na(){return Ko().memoizedState}function ra(e,t,n,r){var i=$o();Uo.effectTag|=e,i.memoizedState=ta(1|t,n,void 0,void 0===r?null:r)}function ia(e,t,n,r){var i=Ko();r=void 0===r?null:r;var o=void 0;if(null!==Vo){var a=Vo.memoizedState;if(o=a.destroy,null!==r&&Yo(r,a.deps))return void ta(t,n,o,r)}Uo.effectTag|=e,i.memoizedState=ta(1|t,n,o,r)}function oa(e,t){return ra(516,4,e,t)}function aa(e,t){return ia(516,4,e,t)}function sa(e,t){return ia(4,2,e,t)}function la(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ua(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ia(4,2,la.bind(null,t,e),n)}function ca(){}function fa(e,t){return $o().memoizedState=[e,void 0===t?null:t],e}function da(e,t){var n=Ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Yo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ha(e,t){var n=Ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Yo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function pa(e,t,n){var r=zi();Ui(98>r?98:r,(function(){e(!0)})),Ui(97<r?97:r,(function(){var r=zo.suspense;zo.suspense=void 0===t?null:t;try{e(!1),n()}finally{zo.suspense=r}}))}function ma(e,t,n){var r=qs(),i=ho.suspense;i={expirationTime:r=Ys(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===Uo||null!==o&&o===Uo)Wo=!0,i.expirationTime=Ho,Uo.expirationTime=Ho;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.eagerReducer=o,i.eagerState=s,jr(s,a))return}catch(l){}Xs(e,r)}}var va={readContext:ro,useCallback:qo,useContext:qo,useEffect:qo,useImperativeHandle:qo,useLayoutEffect:qo,useMemo:qo,useReducer:qo,useRef:qo,useState:qo,useDebugValue:qo,useResponder:qo,useDeferredValue:qo,useTransition:qo},ga={readContext:ro,useCallback:fa,useContext:ro,useEffect:oa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ra(4,2,la.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ra(4,2,e,t)},useMemo:function(e,t){var n=$o();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=$o();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ma.bind(null,Uo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},$o().memoizedState=e},useState:ea,useDebugValue:ca,useResponder:Fo,useDeferredValue:function(e,t){var n=ea(e),r=n[0],i=n[1];return oa((function(){var n=zo.suspense;zo.suspense=void 0===t?null:t;try{i(e)}finally{zo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ea(!1),n=t[0];return t=t[1],[fa(pa.bind(null,t,e),[t,e]),n]}},ya={readContext:ro,useCallback:da,useContext:ro,useEffect:aa,useImperativeHandle:ua,useLayoutEffect:sa,useMemo:ha,useReducer:Qo,useRef:na,useState:function(){return Qo(Zo)},useDebugValue:ca,useResponder:Fo,useDeferredValue:function(e,t){var n=Qo(Zo),r=n[0],i=n[1];return aa((function(){var n=zo.suspense;zo.suspense=void 0===t?null:t;try{i(e)}finally{zo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Qo(Zo),n=t[0];return t=t[1],[da(pa.bind(null,t,e),[t,e]),n]}},ba={readContext:ro,useCallback:da,useContext:ro,useEffect:aa,useImperativeHandle:ua,useLayoutEffect:sa,useMemo:ha,useReducer:Jo,useRef:na,useState:function(){return Jo(Zo)},useDebugValue:ca,useResponder:Fo,useDeferredValue:function(e,t){var n=Jo(Zo),r=n[0],i=n[1];return aa((function(){var n=zo.suspense;zo.suspense=void 0===t?null:t;try{i(e)}finally{zo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Jo(Zo),n=t[0];return t=t[1],[da(pa.bind(null,t,e),[t,e]),n]}},_a=null,xa=null,wa=!1;function Ea(e,t){var n=Tl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ta(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Sa(e){if(wa){var t=xa;if(t){var n=t;if(!Ta(e,t)){if(!(t=xn(n.nextSibling))||!Ta(e,t))return e.effectTag=-1025&e.effectTag|2,wa=!1,void(_a=e);Ea(_a,n)}_a=e,xa=xn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,wa=!1,_a=e}}function ka(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;_a=e}function Oa(e){if(e!==_a)return!1;if(!wa)return ka(e),wa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!yn(t,e.memoizedProps))for(t=xa;t;)Ea(e,t),t=xn(t.nextSibling);if(ka(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){xa=xn(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}xa=null}}else xa=_a?xn(e.stateNode.nextSibling):null;return!0}function Ca(){xa=_a=null,wa=!1}var Aa=K.ReactCurrentOwner,Ma=!1;function Pa(e,t,n,r){t.child=null===e?ko(t,null,n,r):So(t,e.child,n,r)}function Ia(e,t,n,r,i){n=n.render;var o=t.ref;return no(t,i),r=Xo(e,t,n,r,o,i),null===e||Ma?(t.effectTag|=1,Pa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Xa(e,t,i))}function Da(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Sl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ol(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Na(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:Br)(i,r)&&e.ref===t.ref)?Xa(e,t,o):(t.effectTag|=1,(e=kl(a,r)).ref=t.ref,e.return=t,t.child=e)}function Na(e,t,n,r,i,o){return null!==e&&Br(e.memoizedProps,r)&&e.ref===t.ref&&(Ma=!1,i<o)?(t.expirationTime=e.expirationTime,Xa(e,t,o)):La(e,t,n,r,o)}function Ra(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function La(e,t,n,r,i){var o=mi(n)?hi:fi.current;return o=pi(t,o),no(t,i),n=Xo(e,t,n,r,o,i),null===e||Ma?(t.effectTag|=1,Pa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Xa(e,t,i))}function ja(e,t,n,r,i){if(mi(n)){var o=!0;bi(t)}else o=!1;if(no(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),yo(t,n,r),_o(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=ro(u):u=pi(t,u=mi(n)?hi:fi.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==u)&&bo(t,a,r,u),io=!1;var d=t.memoizedState;a.state=d,co(t,r,a,i),l=t.memoizedState,s!==r||d!==l||di.current||io?("function"===typeof c&&(mo(t,n,c,r),l=t.memoizedState),(s=io||go(t,n,s,r,d,l,u))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.effectTag|=4)):("function"===typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"===typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,ao(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:Xi(t.type,s),l=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=ro(u):u=pi(t,u=mi(n)?hi:fi.current),(f="function"===typeof(c=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==u)&&bo(t,a,r,u),io=!1,l=t.memoizedState,a.state=l,co(t,r,a,i),d=t.memoizedState,s!==r||l!==d||di.current||io?("function"===typeof c&&(mo(t,n,c,r),d=t.memoizedState),(c=io||go(t,n,s,r,l,d,u))?(f||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,d,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,d,u)),"function"===typeof a.componentDidUpdate&&(t.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=d),a.props=r,a.state=d,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),r=!1);return Fa(e,t,n,r,o,i)}function Fa(e,t,n,r,i,o){Ra(e,t);var a=0!==(64&t.effectTag);if(!r&&!a)return i&&_i(t,n,!1),Xa(e,t,o);r=t.stateNode,Aa.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=So(t,e.child,null,o),t.child=So(t,null,s,o)):Pa(e,t,s,o),t.memoizedState=r.state,i&&_i(t,n,!0),t.child}function Ba(e){var t=e.stateNode;t.pendingContext?gi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&gi(0,t.context,!1),Io(e,t.containerInfo)}var za,Ha,Ua,Va={dehydrated:null,retryTime:0};function Ga(e,t,n){var r,i=t.mode,o=t.pendingProps,a=Lo.current,s=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&a)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),ui(Lo,1&a),null===e){if(void 0!==o.fallback&&Sa(t),s){if(s=o.fallback,(o=Cl(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Cl(s,i,n,null)).return=t,o.sibling=n,t.memoizedState=Va,t.child=o,n}return i=o.children,t.memoizedState=null,t.child=ko(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(o=o.fallback,(n=kl(e,e.pendingProps)).return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=kl(i,o)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=Va,t.child=n,i}return n=So(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=o.fallback,(o=Cl(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Cl(s,i,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=Va,t.child=o,n}return t.memoizedState=null,t.child=So(t,e,o.children,n)}function Wa(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),to(e.return,t)}function qa(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function Ya(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Pa(e,t,r.children,n),0!==(2&(r=Lo.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wa(e,n);else if(19===e.tag)Wa(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ui(Lo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===jo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qa(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===jo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qa(t,!0,n,null,o,t.lastEffect);break;case"together":qa(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Xa(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&al(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=kl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=kl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $a(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ka(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return mi(t.type)&&vi(),null;case 3:return Do(),li(di),li(fi),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Oa(t)||(t.effectTag|=4),null;case 5:Ro(t),n=Po(Mo.current);var o=t.type;if(null!==e&&null!=t.stateNode)Ha(e,t,o,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Po(Co.current),Oa(t)){r=t.stateNode,o=t.type;var s=t.memoizedProps;switch(r[Tn]=t,r[Sn]=s,o){case"iframe":case"object":case"embed":Yt("load",r);break;case"video":case"audio":for(e=0;e<Ke.length;e++)Yt(Ke[e],r);break;case"source":Yt("error",r);break;case"img":case"image":case"link":Yt("error",r),Yt("load",r);break;case"form":Yt("reset",r),Yt("submit",r);break;case"details":Yt("toggle",r);break;case"input":Ee(r,s),Yt("invalid",r),ln(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Yt("invalid",r),ln(n,"onChange");break;case"textarea":Pe(r,s),Yt("invalid",r),ln(n,"onChange")}for(var l in on(o,s),e=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"===typeof u?r.textContent!==u&&(e=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(e=["children",""+u]):T.hasOwnProperty(l)&&null!=u&&ln(n,l)}switch(o){case"input":_e(r),ke(r,s,!0);break;case"textarea":_e(r),De(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=un)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(l=9===n.nodeType?n:n.ownerDocument,e===sn&&(e=Le(o)),e===sn?"script"===o?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(o,{is:r.is}):(e=l.createElement(o),"select"===o&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,o),e[Tn]=t,e[Sn]=r,za(e,t),t.stateNode=e,l=an(o,r),o){case"iframe":case"object":case"embed":Yt("load",e),u=r;break;case"video":case"audio":for(u=0;u<Ke.length;u++)Yt(Ke[u],e);u=r;break;case"source":Yt("error",e),u=r;break;case"img":case"image":case"link":Yt("error",e),Yt("load",e),u=r;break;case"form":Yt("reset",e),Yt("submit",e),u=r;break;case"details":Yt("toggle",e),u=r;break;case"input":Ee(e,r),u=we(e,r),Yt("invalid",e),ln(n,"onChange");break;case"option":u=Ce(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},u=i({},r,{value:void 0}),Yt("invalid",e),ln(n,"onChange");break;case"textarea":Pe(e,r),u=Me(e,r),Yt("invalid",e),ln(n,"onChange");break;default:u=r}on(o,u);var c=u;for(s in c)if(c.hasOwnProperty(s)){var f=c[s];"style"===s?nn(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&Be(e,f):"children"===s?"string"===typeof f?("textarea"!==o||""!==f)&&ze(e,f):"number"===typeof f&&ze(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(T.hasOwnProperty(s)?null!=f&&ln(n,s):null!=f&&Z(e,s,f,l))}switch(o){case"input":_e(e),ke(e,r,!1);break;case"textarea":_e(e),De(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ye(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Ae(e,!!r.multiple,n,!1):null!=r.defaultValue&&Ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof u.onClick&&(e.onclick=un)}gn(o,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Ua(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=Po(Mo.current),Po(Co.current),Oa(t)?(n=t.stateNode,r=t.memoizedProps,n[Tn]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Tn]=t,t.stateNode=n)}return null;case 13:return li(Lo),r=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Oa(t):(r=null!==(o=e.memoizedState),n||null===o||null!==(o=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=o,o.nextEffect=s):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Lo.current)?Os===_s&&(Os=xs):(Os!==_s&&Os!==xs||(Os=ws),0!==Is&&null!==Ts&&(Dl(Ts,ks),Nl(Ts,Is)))),(n||r)&&(t.effectTag|=4),null);case 4:return Do(),null;case 10:return eo(t),null;case 17:return mi(t.type)&&vi(),null;case 19:if(li(Lo),null===(r=t.memoizedState))return null;if(o=0!==(64&t.effectTag),null===(s=r.rendering)){if(o)$a(r,!1);else if(Os!==_s||null!==e&&0!==(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=jo(s))){for(t.effectTag|=64,$a(r,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)s=n,(o=r).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,s=e.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return ui(Lo,1&Lo.current|2),t.child}s=s.sibling}}else{if(!o)if(null!==(e=jo(s))){if(t.effectTag|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),$a(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Bi()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,o=!0,$a(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=r.last)?n.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Bi()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Bi(),n.sibling=null,t=Lo.current,ui(Lo,o?1&t|2:1&t),n):null}throw Error(a(156,t.tag))}function Za(e){switch(e.tag){case 1:mi(e.type)&&vi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Do(),li(di),li(fi),0!==(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return Ro(e),null;case 13:return li(Lo),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return li(Lo),null;case 4:return Do(),null;case 10:return eo(e),null;default:return null}}function Qa(e,t){return{value:e,source:t,stack:ge(t)}}za=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ha=function(e,t,n,r,o){var a=e.memoizedProps;if(a!==r){var s,l,u=t.stateNode;switch(Po(Co.current),e=null,n){case"input":a=we(u,a),r=we(u,r),e=[];break;case"option":a=Ce(u,a),r=Ce(u,r),e=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":a=Me(u,a),r=Me(u,r),e=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(u.onclick=un)}for(s in on(n,r),n=null,a)if(!r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(l in u=a[s])u.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(T.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var c=r[s];if(u=null!=a?a[s]:void 0,r.hasOwnProperty(s)&&c!==u&&(null!=c||null!=u))if("style"===s)if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(e||(e=[]),e.push(s,n)),n=c;else"dangerouslySetInnerHTML"===s?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(e=e||[]).push(s,c)):"children"===s?u===c||"string"!==typeof c&&"number"!==typeof c||(e=e||[]).push(s,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(T.hasOwnProperty(s)?(null!=c&&ln(o,s),e||u===c||(e=[])):(e=e||[]).push(s,c))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&(t.effectTag|=4)}},Ua=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var Ja="function"===typeof WeakSet?WeakSet:Set;function es(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ge(n)),null!==n&&ve(n.type),t=t.value,null!==e&&1===e.tag&&ve(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function ts(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){yl(e,n)}else t.current=null}function ns(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function os(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void is(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&fo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}fo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&gn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Lt(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function as(e,t,n){switch("function"===typeof wl&&wl(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Ui(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(o){yl(i,o)}}e=e.next}while(e!==r)}))}break;case 1:ts(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){yl(e,n)}}(t,n);break;case 5:ts(t);break;case 4:cs(e,t,n)}}function ss(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ss(t)}function ls(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:{for(var t=e.return;null!==t;){if(ls(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(ze(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ls(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=un));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function cs(e,t,n){for(var r,i,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var l=e,u=o,c=n,f=u;;)if(as(l,f,c),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===u)break e;for(;null===f.sibling;){if(null===f.return||f.return===u)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(l=r,u=o.stateNode,8===l.nodeType?l.parentNode.removeChild(u):l.removeChild(u)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(as(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function fs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void rs(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Sn]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Te(n,r),an(e,i),t=an(e,r),i=0;i<o.length;i+=2){var s=o[i],l=o[i+1];"style"===s?nn(n,l):"dangerouslySetInnerHTML"===s?Be(n,l):"children"===s?ze(n,l):Z(n,s,l,t)}switch(e){case"input":Se(n,r);break;case"textarea":Ie(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Ae(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Ae(n,!!r.multiple,r.defaultValue,!0):Ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Lt(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Ns=Bi()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,r?"function"===typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,o.style.display=tn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void ds(t);case 19:return void ds(t);case 17:return}throw Error(a(163))}function ds(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ja),t.forEach((function(t){var r=_l.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=so(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ls||(Ls=!0,js=r),es(e,t)},n}function ms(e,t,n){(n=so(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return es(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Fs?Fs=new Set([this]):Fs.add(this),es(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var vs,gs=Math.ceil,ys=K.ReactCurrentDispatcher,bs=K.ReactCurrentOwner,_s=0,xs=3,ws=4,Es=0,Ts=null,Ss=null,ks=0,Os=_s,Cs=null,As=1073741823,Ms=1073741823,Ps=null,Is=0,Ds=!1,Ns=0,Rs=null,Ls=!1,js=null,Fs=null,Bs=!1,zs=null,Hs=90,Us=null,Vs=0,Gs=null,Ws=0;function qs(){return 0!==(48&Es)?1073741821-(Bi()/10|0):0!==Ws?Ws:Ws=1073741821-(Bi()/10|0)}function Ys(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=zi();if(0===(4&t))return 99===r?1073741823:1073741822;if(0!==(16&Es))return ks;if(null!==n)e=Yi(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Yi(e,150,100);break;case 97:case 96:e=Yi(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==Ts&&e===ks&&--e,e}function Xs(e,t){if(50<Vs)throw Vs=0,Gs=null,Error(a(185));if(null!==(e=$s(e,t))){var n=zi();1073741823===t?0!==(8&Es)&&0===(48&Es)?Js(e):(Zs(e),0===Es&&Wi()):Zs(e),0===(4&Es)||98!==n&&99!==n||(null===Us?Us=new Map([[e,t]]):(void 0===(n=Us.get(e))||n>t)&&Us.set(e,t))}}function $s(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Ts===i&&(al(t),Os===ws&&Dl(i,ks)),Nl(i,t)),i}function Ks(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Il(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function Zs(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Gi(Js.bind(null,e));else{var t=Ks(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=qs();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Ii&&Ei(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Gi(Js.bind(null,e)):Vi(r,Qs.bind(null,e),{timeout:10*(1073741821-t)-Bi()}),e.callbackNode=t}}}function Qs(e,t){if(Ws=0,t)return Rl(e,t=qs()),Zs(e),null;var n=Ks(e);if(0!==n){if(t=e.callbackNode,0!==(48&Es))throw Error(a(327));if(ml(),e===Ts&&n===ks||nl(e,n),null!==Ss){var r=Es;Es|=16;for(var i=il();;)try{ll();break}catch(l){rl(e,l)}if(Ji(),Es=r,ys.current=i,1===Os)throw t=Cs,nl(e,n),Dl(e,n),Zs(e),t;if(null===Ss)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=Os,Ts=null,r){case _s:case 1:throw Error(a(345));case 2:Rl(e,2<n?2:n);break;case xs:if(Dl(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=fl(i)),1073741823===As&&10<(i=Ns+500-Bi())){if(Ds){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,nl(e,n);break}}if(0!==(o=Ks(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=bn(dl.bind(null,e),i);break}dl(e);break;case ws:if(Dl(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=fl(i)),Ds&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,nl(e,n);break}if(0!==(i=Ks(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Ms?r=10*(1073741821-Ms)-Bi():1073741823===As?r=0:(r=10*(1073741821-As)-5e3,0>(r=(i=Bi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gs(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=bn(dl.bind(null,e),r);break}dl(e);break;case 5:if(1073741823!==As&&null!==Ps){o=As;var s=Ps;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(o=Bi()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=i?0:i+r-o),10<r){Dl(e,n),e.timeoutHandle=bn(dl.bind(null,e),r);break}}dl(e);break;default:throw Error(a(329))}if(Zs(e),e.callbackNode===t)return Qs.bind(null,e)}}return null}function Js(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!==(48&Es))throw Error(a(327));if(ml(),e===Ts&&t===ks||nl(e,t),null!==Ss){var n=Es;Es|=16;for(var r=il();;)try{sl();break}catch(i){rl(e,i)}if(Ji(),Es=n,ys.current=r,1===Os)throw n=Cs,nl(e,t),Dl(e,t),Zs(e),n;if(null!==Ss)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Ts=null,dl(e),Zs(e)}return null}function el(e,t){var n=Es;Es|=1;try{return e(t)}finally{0===(Es=n)&&Wi()}}function tl(e,t){var n=Es;Es&=-2,Es|=8;try{return e(t)}finally{0===(Es=n)&&Wi()}}function nl(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,_n(n)),null!==Ss)for(n=Ss.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&vi();break;case 3:Do(),li(di),li(fi);break;case 5:Ro(r);break;case 4:Do();break;case 13:case 19:li(Lo);break;case 10:eo(r)}n=n.return}Ts=e,Ss=kl(e.current,null),ks=t,Os=_s,Cs=null,Ms=As=1073741823,Ps=null,Is=0,Ds=!1}function rl(e,t){for(;;){try{if(Ji(),Bo.current=va,Wo)for(var n=Uo.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Ho=0,Go=Vo=Uo=null,Wo=!1,null===Ss||null===Ss.return)return Os=1,Cs=t,Ss=null;e:{var i=e,o=Ss.return,a=Ss,s=t;if(t=ks,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var l=s;if(0===(2&a.mode)){var u=a.alternate;u?(a.updateQueue=u.updateQueue,a.memoizedState=u.memoizedState,a.expirationTime=u.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var c=0!==(1&Lo.current),f=o;do{var d;if(d=13===f.tag){var h=f.memoizedState;if(null!==h)d=null!==h.dehydrated;else{var p=f.memoizedProps;d=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!c)}}if(d){var m=f.updateQueue;if(null===m){var v=new Set;v.add(l),f.updateQueue=v}else m.add(l);if(0===(2&f.mode)){if(f.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var g=so(1073741823,null);g.tag=2,lo(a,g)}a.expirationTime=1073741823;break e}s=void 0,a=t;var y=i.pingCache;if(null===y?(y=i.pingCache=new hs,s=new Set,y.set(l,s)):void 0===(s=y.get(l))&&(s=new Set,y.set(l,s)),!s.has(a)){s.add(a);var b=bl.bind(null,i,l,a);l.then(b,b)}f.effectTag|=4096,f.expirationTime=t;break e}f=f.return}while(null!==f);s=Error((ve(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ge(a))}5!==Os&&(Os=2),s=Qa(s,a),f=o;do{switch(f.tag){case 3:l=s,f.effectTag|=4096,f.expirationTime=t,uo(f,ps(f,l,t));break e;case 1:l=s;var _=f.type,x=f.stateNode;if(0===(64&f.effectTag)&&("function"===typeof _.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Fs||!Fs.has(x)))){f.effectTag|=4096,f.expirationTime=t,uo(f,ms(f,l,t));break e}}f=f.return}while(null!==f)}Ss=cl(Ss)}catch(w){t=w;continue}break}}function il(){var e=ys.current;return ys.current=va,null===e?va:e}function ol(e,t){e<As&&2<e&&(As=e),null!==t&&e<Ms&&2<e&&(Ms=e,Ps=t)}function al(e){e>Is&&(Is=e)}function sl(){for(;null!==Ss;)Ss=ul(Ss)}function ll(){for(;null!==Ss&&!Di();)Ss=ul(Ss)}function ul(e){var t=vs(e.alternate,e,ks);return e.memoizedProps=e.pendingProps,null===t&&(t=cl(e)),bs.current=null,t}function cl(e){Ss=e;do{var t=Ss.alternate;if(e=Ss.return,0===(2048&Ss.effectTag)){if(t=Ka(t,Ss,ks),1===ks||1!==Ss.childExpirationTime){for(var n=0,r=Ss.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}Ss.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Ss.firstEffect),null!==Ss.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Ss.firstEffect),e.lastEffect=Ss.lastEffect),1<Ss.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Ss:e.firstEffect=Ss,e.lastEffect=Ss))}else{if(null!==(t=Za(Ss)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Ss.sibling))return t;Ss=e}while(null!==Ss);return Os===_s&&(Os=5),null}function fl(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function dl(e){var t=zi();return Ui(99,hl.bind(null,e,t)),null}function hl(e,t){do{ml()}while(null!==zs);if(0!==(48&Es))throw Error(a(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=fl(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Ts&&(Ss=Ts=null,ks=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=Es;Es|=32,bs.current=null,mn=qt;var s=hn();if(pn(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{var u=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(u&&0!==u.rangeCount){l=u.anchorNode;var c=u.anchorOffset,f=u.focusNode;u=u.focusOffset;try{l.nodeType,f.nodeType}catch(k){l=null;break e}var d=0,h=-1,p=-1,m=0,v=0,g=s,y=null;t:for(;;){for(var b;g!==l||0!==c&&3!==g.nodeType||(h=d+c),g!==f||0!==u&&3!==g.nodeType||(p=d+u),3===g.nodeType&&(d+=g.nodeValue.length),null!==(b=g.firstChild);)y=g,g=b;for(;;){if(g===s)break t;if(y===l&&++m===c&&(h=d),y===f&&++v===u&&(p=d),null!==(b=g.nextSibling))break;y=(g=y).parentNode}g=b}l=-1===h||-1===p?null:{start:h,end:p}}else l=null}l=l||{start:0,end:0}}else l=null;vn={activeElementDetached:null,focusedElem:s,selectionRange:l},qt=!1,Rs=i;do{try{pl()}catch(k){if(null===Rs)throw Error(a(330));yl(Rs,k),Rs=Rs.nextEffect}}while(null!==Rs);Rs=i;do{try{for(s=e,l=t;null!==Rs;){var _=Rs.effectTag;if(16&_&&ze(Rs.stateNode,""),128&_){var x=Rs.alternate;if(null!==x){var w=x.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&_){case 2:us(Rs),Rs.effectTag&=-3;break;case 6:us(Rs),Rs.effectTag&=-3,fs(Rs.alternate,Rs);break;case 1024:Rs.effectTag&=-1025;break;case 1028:Rs.effectTag&=-1025,fs(Rs.alternate,Rs);break;case 4:fs(Rs.alternate,Rs);break;case 8:cs(s,c=Rs,l),ss(c)}Rs=Rs.nextEffect}}catch(k){if(null===Rs)throw Error(a(330));yl(Rs,k),Rs=Rs.nextEffect}}while(null!==Rs);if(w=vn,x=hn(),_=w.focusedElem,l=w.selectionRange,x!==_&&_&&_.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(_.ownerDocument.documentElement,_)){null!==l&&pn(_)&&(x=l.start,void 0===(w=l.end)&&(w=x),"selectionStart"in _?(_.selectionStart=x,_.selectionEnd=Math.min(w,_.value.length)):(w=(x=_.ownerDocument||document)&&x.defaultView||window).getSelection&&(w=w.getSelection(),c=_.textContent.length,s=Math.min(l.start,c),l=void 0===l.end?s:Math.min(l.end,c),!w.extend&&s>l&&(c=l,l=s,s=c),c=dn(_,s),f=dn(_,l),c&&f&&(1!==w.rangeCount||w.anchorNode!==c.node||w.anchorOffset!==c.offset||w.focusNode!==f.node||w.focusOffset!==f.offset)&&((x=x.createRange()).setStart(c.node,c.offset),w.removeAllRanges(),s>l?(w.addRange(x),w.extend(f.node,f.offset)):(x.setEnd(f.node,f.offset),w.addRange(x))))),x=[];for(w=_;w=w.parentNode;)1===w.nodeType&&x.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof _.focus&&_.focus(),_=0;_<x.length;_++)(w=x[_]).element.scrollLeft=w.left,w.element.scrollTop=w.top}qt=!!mn,vn=mn=null,e.current=n,Rs=i;do{try{for(_=e;null!==Rs;){var E=Rs.effectTag;if(36&E&&os(_,Rs.alternate,Rs),128&E){x=void 0;var T=Rs.ref;if(null!==T){var S=Rs.stateNode;switch(Rs.tag){case 5:x=S;break;default:x=S}"function"===typeof T?T(x):T.current=x}}Rs=Rs.nextEffect}}catch(k){if(null===Rs)throw Error(a(330));yl(Rs,k),Rs=Rs.nextEffect}}while(null!==Rs);Rs=null,Ni(),Es=o}else e.current=n;if(Bs)Bs=!1,zs=e,Hs=t;else for(Rs=i;null!==Rs;)t=Rs.nextEffect,Rs.nextEffect=null,Rs=t;if(0===(t=e.firstPendingTime)&&(Fs=null),1073741823===t?e===Gs?Vs++:(Vs=0,Gs=e):Vs=0,"function"===typeof xl&&xl(n.stateNode,r),Zs(e),Ls)throw Ls=!1,e=js,js=null,e;return 0!==(8&Es)||Wi(),null}function pl(){for(;null!==Rs;){var e=Rs.effectTag;0!==(256&e)&&ns(Rs.alternate,Rs),0===(512&e)||Bs||(Bs=!0,Vi(97,(function(){return ml(),null}))),Rs=Rs.nextEffect}}function ml(){if(90!==Hs){var e=97<Hs?97:Hs;return Hs=90,Ui(e,vl)}}function vl(){if(null===zs)return!1;var e=zs;if(zs=null,0!==(48&Es))throw Error(a(331));var t=Es;for(Es|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:rs(5,n),is(5,n)}}catch(r){if(null===e)throw Error(a(330));yl(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return Es=t,Wi(),!0}function gl(e,t,n){lo(e,t=ps(e,t=Qa(n,t),1073741823)),null!==(e=$s(e,1073741823))&&Zs(e)}function yl(e,t){if(3===e.tag)gl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){gl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Fs||!Fs.has(r))){lo(n,e=ms(n,e=Qa(t,e),1073741823)),null!==(n=$s(n,1073741823))&&Zs(n);break}}n=n.return}}function bl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Ts===e&&ks===n?Os===ws||Os===xs&&1073741823===As&&Bi()-Ns<500?nl(e,ks):Ds=!0:Il(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Zs(e)))}function _l(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=Ys(t=qs(),e,null)),null!==(e=$s(e,t))&&Zs(e)}vs=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||di.current)Ma=!0;else{if(r<n){switch(Ma=!1,t.tag){case 3:Ba(t),Ca();break;case 5:if(No(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:mi(t.type)&&bi(t);break;case 4:Io(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,ui($i,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Ga(e,t,n):(ui(Lo,1&Lo.current),null!==(t=Xa(e,t,n))?t.sibling:null);ui(Lo,1&Lo.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return Ya(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),ui(Lo,Lo.current),!r)return null}return Xa(e,t,n)}Ma=!1}}else Ma=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=pi(t,fi.current),no(t,n),i=Xo(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var o=!0;bi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,oo(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&mo(t,r,s,e),i.updater=vo,t.stateNode=i,i._reactInternalFiber=t,_o(t,r,e,n),t=Fa(null,t,r,!0,o,n)}else t.tag=0,Pa(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=function(e){if("function"===typeof e)return Sl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===le)return 11;if(e===fe)return 14}return 2}(i),e=Xi(i,e),o){case 0:t=La(null,t,i,e,n);break e;case 1:t=ja(null,t,i,e,n);break e;case 11:t=Ia(null,t,i,e,n);break e;case 14:t=Da(null,t,i,Xi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,La(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,ja(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Ba(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ao(e,t),co(t,r,null,n),(r=t.memoizedState.element)===i)Ca(),t=Xa(e,t,n);else{if((i=t.stateNode.hydrate)&&(xa=xn(t.stateNode.containerInfo.firstChild),_a=t,i=wa=!0),i)for(n=ko(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Pa(e,t,r,n),Ca();t=t.child}return t;case 5:return No(t),null===e&&Sa(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,yn(r,i)?s=null:null!==o&&yn(r,o)&&(t.effectTag|=16),Ra(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Pa(e,t,s,n),t=t.child),t;case 6:return null===e&&Sa(t),null;case 13:return Ga(e,t,n);case 4:return Io(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=So(t,null,r,n):Pa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ia(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return Pa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Pa(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var l=t.type._context;if(ui($i,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0===(o=jr(l,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(s.children===i.children&&!di.current){t=Xa(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&o)){1===l.tag&&((c=so(n,null)).tag=2,lo(l,c)),l.expirationTime<n&&(l.expirationTime=n),null!==(c=l.alternate)&&c.expirationTime<n&&(c.expirationTime=n),to(l.return,n),u.expirationTime<n&&(u.expirationTime=n);break}c=c.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Pa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,no(t,n),r=r(i=ro(i,o.unstable_observedBits)),t.effectTag|=1,Pa(e,t,r,n),t.child;case 14:return o=Xi(i=t.type,t.pendingProps),Da(e,t,i,o=Xi(i.type,o),r,n);case 15:return Na(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,mi(r)?(e=!0,bi(t)):e=!1,no(t,n),yo(t,r,i),_o(t,r,i,n),Fa(null,t,r,!0,e,n);case 19:return Ya(e,t,n)}throw Error(a(156,t.tag))};var xl=null,wl=null;function El(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Tl(e,t,n,r){return new El(e,t,n,r)}function Sl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function kl(e,t){var n=e.alternate;return null===n?((n=Tl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ol(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Sl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case ne:return Cl(n.children,i,o,t);case se:s=8,i|=7;break;case re:s=8,i|=1;break;case ie:return(e=Tl(12,n,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=o,e;case ue:return(e=Tl(13,n,t,i)).type=ue,e.elementType=ue,e.expirationTime=o,e;case ce:return(e=Tl(19,n,t,i)).elementType=ce,e.expirationTime=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case oe:s=10;break e;case ae:s=9;break e;case le:s=11;break e;case fe:s=14;break e;case de:s=16,r=null;break e;case he:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Tl(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function Cl(e,t,n,r){return(e=Tl(7,e,r,t)).expirationTime=n,e}function Al(e,t,n){return(e=Tl(6,e,null,t)).expirationTime=n,e}function Ml(e,t,n){return(t=Tl(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Pl(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Il(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Dl(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Nl(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Rl(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Ll(e,t,n,r){var i=t.current,o=qs(),s=ho.suspense;o=Ys(o,i,s);e:if(n){t:{if(Je(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(mi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var u=n.type;if(mi(u)){n=yi(n,u,l);break e}}n=l}else n=ci;return null===t.context?t.context=n:t.pendingContext=n,(t=so(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),lo(i,t),Xs(i,o),o}function jl(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Fl(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Bl(e,t){Fl(e,t),(e=e.alternate)&&Fl(e,t)}function zl(e,t,n){var r=new Pl(e,t,n=null!=n&&!0===n.hydrate),i=Tl(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,oo(i),e[kn]=r.current,n&&0!==t&&function(e,t){var n=Qe(t);kt.forEach((function(e){pt(e,t,n)})),Ot.forEach((function(e){pt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function Hl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ul(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=jl(a);s.call(e)}}Ll(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new zl(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var l=i;i=function(){var e=jl(a);l.call(e)}}tl((function(){Ll(t,a,e,i)}))}return jl(a)}function Vl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Gl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Hl(t))throw Error(a(200));return Vl(e,t,null,n)}zl.prototype.render=function(e){Ll(e,this._internalRoot,null,null)},zl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ll(null,e,null,(function(){t[kn]=null}))},mt=function(e){if(13===e.tag){var t=Yi(qs(),150,100);Xs(e,t),Bl(e,t)}},vt=function(e){13===e.tag&&(Xs(e,3),Bl(e,3))},gt=function(e){if(13===e.tag){var t=qs();Xs(e,t=Ys(t,e,null)),Bl(e,t)}},C=function(e,t,n){switch(t){case"input":if(Se(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Mn(r);if(!i)throw Error(a(90));xe(r),Se(r,i)}}}break;case"textarea":Ie(e,n);break;case"select":null!=(t=n.value)&&Ae(e,!!n.multiple,t,!1)}},N=el,R=function(e,t,n,r,i){var o=Es;Es|=4;try{return Ui(98,e.bind(null,t,n,r,i))}finally{0===(Es=o)&&Wi()}},L=function(){0===(49&Es)&&(function(){if(null!==Us){var e=Us;Us=null,e.forEach((function(e,t){Rl(t,e),Zs(t)})),Wi()}}(),ml())},j=function(e,t){var n=Es;Es|=2;try{return e(t)}finally{0===(Es=n)&&Wi()}};var Wl={Events:[Cn,An,Mn,k,E,jn,function(e){it(e,Ln)},I,D,Zt,st,ml,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);xl=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},wl=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:On,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wl,t.createPortal=Gl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!==(48&Es))throw Error(a(187));var n=Es;Es|=1;try{return Ui(99,e.bind(null,t))}finally{Es=n,Wi()}},t.hydrate=function(e,t,n){if(!Hl(t))throw Error(a(200));return Ul(null,e,t,!0,n)},t.render=function(e,t,n){if(!Hl(t))throw Error(a(200));return Ul(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Hl(e))throw Error(a(40));return!!e._reactRootContainer&&(tl((function(){Ul(null,null,e,!1,(function(){e._reactRootContainer=null,e[kn]=null}))})),!0)},t.unstable_batchedUpdates=el,t.unstable_createPortal=function(e,t){return Gl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Hl(n))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return Ul(e,t,n,!1,r)},t.version="16.13.1"},function(e,t,n){"use strict";var r,i,o,a,s;if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,u=null,c=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(e,0),r}},f=Date.now();t.unstable_now=function(){return Date.now()-f},r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(c,0))},i=function(e,t){u=setTimeout(e,t)},o=function(){clearTimeout(u)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var d=window.performance,h=window.Date,p=window.setTimeout,m=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof d&&"function"===typeof d.now)t.unstable_now=function(){return d.now()};else{var g=h.now();t.unstable_now=function(){return h.now()-g}}var y=!1,b=null,_=-1,x=5,w=0;a=function(){return t.unstable_now()>=w},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):x=0<e?Math.floor(1e3/e):5};var E=new MessageChannel,T=E.port2;E.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();w=e+x;try{b(!0,e)?T.postMessage(null):(y=!1,b=null)}catch(n){throw T.postMessage(null),n}}else y=!1},r=function(e){b=e,y||(y=!0,T.postMessage(null))},i=function(e,n){_=p((function(){e(t.unstable_now())}),n)},o=function(){m(_),_=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<C(i,t)))break e;e[r]=t,e[n]=i,n=r}}function k(e){return void 0===(e=e[0])?null:e}function O(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>C(a,n))void 0!==l&&0>C(l,a)?(e[r]=l,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==l&&0>C(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function C(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var A=[],M=[],P=1,I=null,D=3,N=!1,R=!1,L=!1;function j(e){for(var t=k(M);null!==t;){if(null===t.callback)O(M);else{if(!(t.startTime<=e))break;O(M),t.sortIndex=t.expirationTime,S(A,t)}t=k(M)}}function F(e){if(L=!1,j(e),!R)if(null!==k(A))R=!0,r(B);else{var t=k(M);null!==t&&i(F,t.startTime-e)}}function B(e,n){R=!1,L&&(L=!1,o()),N=!0;var r=D;try{for(j(n),I=k(A);null!==I&&(!(I.expirationTime>n)||e&&!a());){var s=I.callback;if(null!==s){I.callback=null,D=I.priorityLevel;var l=s(I.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?I.callback=l:I===k(A)&&O(A),j(n)}else O(A);I=k(A)}if(null!==I)var u=!0;else{var c=k(M);null!==c&&i(F,c.startTime-n),u=!1}return u}finally{I=null,D=r,N=!1}}function z(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var H=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||N||(R=!0,r(B))},t.unstable_getCurrentPriorityLevel=function(){return D},t.unstable_getFirstCallbackNode=function(){return k(A)},t.unstable_next=function(e){switch(D){case 1:case 2:case 3:var t=3;break;default:t=D}var n=D;D=t;try{return e()}finally{D=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=H,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=D;D=e;try{return t()}finally{D=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"===typeof a&&null!==a){var l=a.delay;l="number"===typeof l&&0<l?s+l:s,a="number"===typeof a.timeout?a.timeout:z(e)}else a=z(e),l=s;return e={id:P++,callback:n,priorityLevel:e,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>s?(e.sortIndex=l,S(M,e),null===k(A)&&e===k(M)&&(L?o():L=!0,i(F,l-s))):(e.sortIndex=a,S(A,e),R||N||(R=!0,r(B))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();j(e);var n=k(A);return n!==I&&null!==I&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<I.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=D;return function(){var n=D;D=t;try{return e.apply(this,arguments)}finally{D=n}}}},,,function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t,n){"use strict";var r=n(46),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,d=i?Symbol.for("react.forward_ref"):60112,h=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,v="function"===typeof Symbol&&Symbol.iterator;function g(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function _(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}function x(){}function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(g(85));this.updater.enqueueSetState(this,e,t,"setState")},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=_.prototype;var E=w.prototype=new x;E.constructor=w,r(E,_.prototype),E.isPureReactComponent=!0;var T={current:null},S=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function O(e,t,n){var r,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,r)&&!k.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:T.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===o}var A=/\/+/g,M=[];function P(e,t,n,r){if(M.length){var i=M.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function I(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>M.length&&M.push(e)}function D(e,t,n){return null==e?0:function e(t,n,r,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case o:case a:l=!0}}if(l)return r(i,t,""===n?"."+N(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var u=0;u<t.length;u++){var c=n+N(s=t[u],u);l+=e(s,c,r,i)}else if(null===t||"object"!==typeof t?c=null:c="function"===typeof(c=v&&t[v]||t["@@iterator"])?c:null,"function"===typeof c)for(t=c.call(t),u=0;!(s=t.next()).done;)l+=e(s=s.value,c=n+N(s,u++),r,i);else if("object"===s)throw r=""+t,Error(g(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return l}(e,"",t,n)}function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function R(e,t){e.func.call(e.context,t,e.count++)}function L(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?j(e,r,n,(function(e){return e})):null!=e&&(C(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(A,"$&/")+"/")+n)),r.push(e))}function j(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(A,"$&/")+"/"),D(e,L,t=P(t,o,r,i)),I(t)}var F={current:null};function B(){var e=F.current;if(null===e)throw Error(g(321));return e}var z={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:T,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return j(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;D(e,R,t=P(null,null,t,n)),I(t)},count:function(e){return D(e,(function(){return null}),null)},toArray:function(e){var t=[];return j(e,t,null,(function(e){return e})),t},only:function(e){if(!C(e))throw Error(g(143));return e}},t.Component=_,t.Fragment=s,t.Profiler=u,t.PureComponent=w,t.StrictMode=l,t.Suspense=h,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(g(267,e));var i=r({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=T.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)S.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){u=Array(c);for(var f=0;f<c;f++)u[f]=arguments[f+2];i.children=u}return{$$typeof:o,type:e.type,key:a,ref:s,props:i,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=O,t.createFactory=function(e){var t=O.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:d,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return B().useCallback(e,t)},t.useContext=function(e,t){return B().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return B().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return B().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return B().useLayoutEffect(e,t)},t.useMemo=function(e,t){return B().useMemo(e,t)},t.useReducer=function(e,t,n){return B().useReducer(e,t,n)},t.useRef=function(e){return B().useRef(e)},t.useState=function(e){return B().useState(e)},t.version="16.13.1"},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}}(),e.exports=n(166)},function(e,t,n){"use strict";var r=n(117),i=n(46),o=n(115);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));function s(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var l=!1,u=null,c=!1,f=null,d={onError:function(e){l=!0,u=e}};function h(e,t,n,r,i,o,a,c,f){l=!1,u=null,s.apply(d,arguments)}var p=null,m=null,v=null;function g(e,t,n){var r=e.type||"unknown-event";e.currentTarget=v(n),function(e,t,n,r,i,o,s,d,p){if(h.apply(this,arguments),l){if(!l)throw Error(a(198));var m=u;l=!1,u=null,c||(c=!0,f=m)}}(r,t,void 0,e),e.currentTarget=null}var y=null,b={};function _(){if(y)for(var e in b){var t=b[e],n=y.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!w[n]){if(!t.extractEvents)throw Error(a(97,e));for(var r in w[n]=t,n=t.eventTypes){var i=void 0,o=n[r],s=t,l=r;if(E.hasOwnProperty(l))throw Error(a(99,l));E[l]=o;var u=o.phasedRegistrationNames;if(u){for(i in u)u.hasOwnProperty(i)&&x(u[i],s,l);i=!0}else o.registrationName?(x(o.registrationName,s,l),i=!0):i=!1;if(!i)throw Error(a(98,r,e))}}}}function x(e,t,n){if(T[e])throw Error(a(100,e));T[e]=t,S[e]=t.eventTypes[n].dependencies}var w=[],E={},T={},S={};function k(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!b.hasOwnProperty(t)||b[t]!==r){if(b[t])throw Error(a(102,t));b[t]=r,n=!0}}n&&_()}var O=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),C=null,A=null,M=null;function P(e){if(e=m(e)){if("function"!==typeof C)throw Error(a(280));var t=e.stateNode;t&&(t=p(t),C(e.stateNode,e.type,t))}}function I(e){A?M?M.push(e):M=[e]:A=e}function D(){if(A){var e=A,t=M;if(M=A=null,P(e),t)for(e=0;e<t.length;e++)P(t[e])}}function N(e,t){return e(t)}function R(e,t,n,r,i){return e(t,n,r,i)}function L(){}var j=N,F=!1,B=!1;function z(){null===A&&null===M||(L(),D())}function H(e,t,n){if(B)return e(t,n);B=!0;try{return j(e,t,n)}finally{B=!1,z()}}var U=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,V=Object.prototype.hasOwnProperty,G={},W={};function q(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var Y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){Y[e]=new q(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];Y[t]=new q(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){Y[e]=new q(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){Y[e]=new q(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){Y[e]=new q(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){Y[e]=new q(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){Y[e]=new q(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){Y[e]=new q(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){Y[e]=new q(e,5,!1,e.toLowerCase(),null,!1)}));var X=/[\-:]([a-z])/g;function $(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(X,$);Y[t]=new q(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(X,$);Y[t]=new q(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(X,$);Y[t]=new q(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){Y[e]=new q(e,1,!1,e.toLowerCase(),null,!1)})),Y.xlinkHref=new q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){Y[e]=new q(e,1,!1,e.toLowerCase(),null,!0)}));var K=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Z(e,t,n,r){var i=Y.hasOwnProperty(t)?Y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!V.call(W,e)||!V.call(G,e)&&(U.test(e)?W[e]=!0:(G[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}K.hasOwnProperty("ReactCurrentDispatcher")||(K.ReactCurrentDispatcher={current:null}),K.hasOwnProperty("ReactCurrentBatchConfig")||(K.ReactCurrentBatchConfig={suspense:null});var Q=/^(.*)[\\\/]/,J="function"===typeof Symbol&&Symbol.for,ee=J?Symbol.for("react.element"):60103,te=J?Symbol.for("react.portal"):60106,ne=J?Symbol.for("react.fragment"):60107,re=J?Symbol.for("react.strict_mode"):60108,ie=J?Symbol.for("react.profiler"):60114,oe=J?Symbol.for("react.provider"):60109,ae=J?Symbol.for("react.context"):60110,se=J?Symbol.for("react.concurrent_mode"):60111,le=J?Symbol.for("react.forward_ref"):60112,ue=J?Symbol.for("react.suspense"):60113,ce=J?Symbol.for("react.suspense_list"):60120,fe=J?Symbol.for("react.memo"):60115,de=J?Symbol.for("react.lazy"):60116,he=J?Symbol.for("react.block"):60121,pe="function"===typeof Symbol&&Symbol.iterator;function me(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=pe&&e[pe]||e["@@iterator"])?e:null}function ve(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case ie:return"Profiler";case re:return"StrictMode";case ue:return"Suspense";case ce:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case ae:return"Context.Consumer";case oe:return"Context.Provider";case le:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case fe:return ve(e.type);case he:return ve(e.render);case de:if(e=1===e._status?e._result:null)return ve(e)}return null}function ge(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=ve(e.type);n=null,r&&(n=ve(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(Q,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}function ye(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function _e(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function xe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=be(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function we(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ye(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Te(e,t){null!=(t=t.checked)&&Z(e,"checked",t,!1)}function Se(e,t){Te(e,t);var n=ye(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Oe(e,t.type,n):t.hasOwnProperty("defaultValue")&&Oe(e,t.type,ye(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ke(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Oe(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ce(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ye(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Me(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ye(n)}}function Ie(e,t){var n=ye(t.value),r=ye(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function De(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Ne="http://www.w3.org/1999/xhtml",Re="http://www.w3.org/2000/svg";function Le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function je(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Fe,Be=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==Re||"innerHTML"in e)e.innerHTML=t;else{for((Fe=Fe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function ze(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function He(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ue={animationend:He("Animation","AnimationEnd"),animationiteration:He("Animation","AnimationIteration"),animationstart:He("Animation","AnimationStart"),transitionend:He("Transition","TransitionEnd")},Ve={},Ge={};function We(e){if(Ve[e])return Ve[e];if(!Ue[e])return e;var t,n=Ue[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ge)return Ve[e]=n[t];return e}O&&(Ge=document.createElement("div").style,"AnimationEvent"in window||(delete Ue.animationend.animation,delete Ue.animationiteration.animation,delete Ue.animationstart.animation),"TransitionEvent"in window||delete Ue.transitionend.transition);var qe=We("animationend"),Ye=We("animationiteration"),Xe=We("animationstart"),$e=We("transitionend"),Ke="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ze=new("function"===typeof WeakMap?WeakMap:Map);function Qe(e){var t=Ze.get(e);return void 0===t&&(t=new Map,Ze.set(e,t)),t}function Je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if(Je(e)!==e)throw Error(a(188))}function nt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Je(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return tt(i),e;if(o===r)return tt(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function rt(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function it(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var ot=null;function at(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)g(e,t[r],n[r]);else t&&g(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function st(e){if(null!==e&&(ot=rt(ot,e)),e=ot,ot=null,e){if(it(e,at),ot)throw Error(a(95));if(c)throw e=f,c=!1,f=null,e}}function lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ut(e){if(!O)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var ct=[];function ft(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ct.length&&ct.push(e)}function dt(e,t,n,r){if(ct.length){var i=ct.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function ht(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=On(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=lt(e.nativeEvent);r=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var s=null,l=0;l<w.length;l++){var u=w[l];u&&(u=u.extractEvents(r,t,o,i,a))&&(s=rt(s,u))}st(s)}}function pt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Xt(t,"scroll",!0);break;case"focus":case"blur":Xt(t,"focus",!0),Xt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ut(e)&&Xt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ke.indexOf(e)&&Yt(e,t)}n.set(e,null)}}var mt,vt,gt,yt=!1,bt=[],_t=null,xt=null,wt=null,Et=new Map,Tt=new Map,St=[],kt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ot="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Ct(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function At(e,t){switch(e){case"focus":case"blur":_t=null;break;case"dragenter":case"dragleave":xt=null;break;case"mouseover":case"mouseout":wt=null;break;case"pointerover":case"pointerout":Et.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=Ct(t,n,r,i,o),null!==t&&(null!==(t=Cn(t))&&vt(t)),e):(e.eventSystemFlags|=r,e)}function Pt(e){var t=On(e.target);if(null!==t){var n=Je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=et(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){gt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function It(e){if(null!==e.blockedOn)return!1;var t=Qt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Cn(t);return null!==n&&vt(n),e.blockedOn=t,!1}return!0}function Dt(e,t,n){It(e)&&n.delete(t)}function Nt(){for(yt=!1;0<bt.length;){var e=bt[0];if(null!==e.blockedOn){null!==(e=Cn(e.blockedOn))&&mt(e);break}var t=Qt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:bt.shift()}null!==_t&&It(_t)&&(_t=null),null!==xt&&It(xt)&&(xt=null),null!==wt&&It(wt)&&(wt=null),Et.forEach(Dt),Tt.forEach(Dt)}function Rt(e,t){e.blockedOn===t&&(e.blockedOn=null,yt||(yt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Nt)))}function Lt(e){function t(t){return Rt(t,e)}if(0<bt.length){Rt(bt[0],e);for(var n=1;n<bt.length;n++){var r=bt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&Rt(_t,e),null!==xt&&Rt(xt,e),null!==wt&&Rt(wt,e),Et.forEach(t),Tt.forEach(t),n=0;n<St.length;n++)(r=St[n]).blockedOn===e&&(r.blockedOn=null);for(;0<St.length&&null===(n=St[0]).blockedOn;)Pt(n),null===n.blockedOn&&St.shift()}var jt={},Ft=new Map,Bt=new Map,zt=["abort","abort",qe,"animationEnd",Ye,"animationIteration",Xe,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",$e,"transitionEnd","waiting","waiting"];function Ht(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:t},Bt.set(r,t),Ft.set(r,o),jt[i]=o}}Ht("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ht("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ht(zt,2);for(var Ut="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Vt=0;Vt<Ut.length;Vt++)Bt.set(Ut[Vt],0);var Gt=o.unstable_UserBlockingPriority,Wt=o.unstable_runWithPriority,qt=!0;function Yt(e,t){Xt(t,e,!1)}function Xt(e,t,n){var r=Bt.get(t);switch(void 0===r?2:r){case 0:r=$t.bind(null,t,1,e);break;case 1:r=Kt.bind(null,t,1,e);break;default:r=Zt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function $t(e,t,n,r){F||L();var i=Zt,o=F;F=!0;try{R(i,e,t,n,r)}finally{(F=o)||z()}}function Kt(e,t,n,r){Wt(Gt,Zt.bind(null,e,t,n,r))}function Zt(e,t,n,r){if(qt)if(0<bt.length&&-1<kt.indexOf(e))e=Ct(null,e,t,n,r),bt.push(e);else{var i=Qt(e,t,n,r);if(null===i)At(e,r);else if(-1<kt.indexOf(e))e=Ct(i,e,t,n,r),bt.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return _t=Mt(_t,e,t,n,r,i),!0;case"dragenter":return xt=Mt(xt,e,t,n,r,i),!0;case"mouseover":return wt=Mt(wt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Et.set(o,Mt(Et.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Tt.set(o,Mt(Tt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){At(e,r),e=dt(e,r,null,t);try{H(ht,e)}finally{ft(e)}}}}function Qt(e,t,n,r){if(null!==(n=On(n=lt(r)))){var i=Je(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=et(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=dt(e,r,n,t);try{H(ht,e)}finally{ft(e)}return null}var Jt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];function tn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||Jt.hasOwnProperty(e)&&Jt[e]?(""+t).trim():t+"px"}function nn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=tn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(Jt).forEach((function(e){en.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Jt[t]=Jt[e]}))}));var rn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(rn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62,""))}}function an(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=Ne;function ln(e,t){var n=Qe(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=S[t];for(var r=0;r<t.length;r++)pt(t[r],e,n)}function un(){}function cn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function fn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var n,r=fn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fn(r)}}function hn(){for(var e=window,t=cn();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=cn((e=t.contentWindow).document)}return t}function pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mn=null,vn=null;function gn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function yn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var bn="function"===typeof setTimeout?setTimeout:void 0,_n="function"===typeof clearTimeout?clearTimeout:void 0;function xn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function wn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var En=Math.random().toString(36).slice(2),Tn="__reactInternalInstance$"+En,Sn="__reactEventHandlers$"+En,kn="__reactContainere$"+En;function On(e){var t=e[Tn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[kn]||n[Tn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=wn(e);null!==e;){if(n=e[Tn])return n;e=wn(e)}return t}n=(e=n).parentNode}return null}function Cn(e){return!(e=e[Tn]||e[kn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function An(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Mn(e){return e[Sn]||null}function Pn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function In(e,t){var n=e.stateNode;if(!n)return null;var r=p(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}function Dn(e,t,n){(t=In(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function Nn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Pn(t);for(t=n.length;0<t--;)Dn(n[t],"captured",e);for(t=0;t<n.length;t++)Dn(n[t],"bubbled",e)}}function Rn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=In(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function Ln(e){e&&e.dispatchConfig.registrationName&&Rn(e._targetInst,null,e)}function jn(e){it(e,Nn)}var Fn=null,Bn=null,zn=null;function Hn(){if(zn)return zn;var e,t,n=Bn,r=n.length,i="value"in Fn?Fn.value:Fn.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return zn=i.slice(e,1<t?1-t:void 0)}function Un(){return!0}function Vn(){return!1}function Gn(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Un:Vn,this.isPropagationStopped=Vn,this}function Wn(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function qn(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Yn(e){e.eventPool=[],e.getPooled=Wn,e.release=qn}i(Gn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Un)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Un)},persist:function(){this.isPersistent=Un},isPersistent:Vn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Vn,this._dispatchInstances=this._dispatchListeners=null}}),Gn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Gn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,Yn(n),n},Yn(Gn);var Xn=Gn.extend({data:null}),$n=Gn.extend({data:null}),Kn=[9,13,27,32],Zn=O&&"CompositionEvent"in window,Qn=null;O&&"documentMode"in document&&(Qn=document.documentMode);var Jn=O&&"TextEvent"in window&&!Qn,er=O&&(!Zn||Qn&&8<Qn&&11>=Qn),tr=String.fromCharCode(32),nr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rr=!1;function ir(e,t){switch(e){case"keyup":return-1!==Kn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function or(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var ar=!1;var sr={eventTypes:nr,extractEvents:function(e,t,n,r){var i;if(Zn)e:{switch(e){case"compositionstart":var o=nr.compositionStart;break e;case"compositionend":o=nr.compositionEnd;break e;case"compositionupdate":o=nr.compositionUpdate;break e}o=void 0}else ar?ir(e,n)&&(o=nr.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=nr.compositionStart);return o?(er&&"ko"!==n.locale&&(ar||o!==nr.compositionStart?o===nr.compositionEnd&&ar&&(i=Hn()):(Bn="value"in(Fn=r)?Fn.value:Fn.textContent,ar=!0)),o=Xn.getPooled(o,t,n,r),i?o.data=i:null!==(i=or(n))&&(o.data=i),jn(o),i=o):i=null,(e=Jn?function(e,t){switch(e){case"compositionend":return or(t);case"keypress":return 32!==t.which?null:(rr=!0,tr);case"textInput":return(e=t.data)===tr&&rr?null:e;default:return null}}(e,n):function(e,t){if(ar)return"compositionend"===e||!Zn&&ir(e,t)?(e=Hn(),zn=Bn=Fn=null,ar=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return er&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=$n.getPooled(nr.beforeInput,t,n,r)).data=e,jn(t)):t=null,null===i?t:null===t?i:[i,t]}},lr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ur(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!lr[e.type]:"textarea"===t}var cr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function fr(e,t,n){return(e=Gn.getPooled(cr.change,e,t,n)).type="change",I(n),jn(e),e}var dr=null,hr=null;function pr(e){st(e)}function mr(e){if(xe(An(e)))return e}function vr(e,t){if("change"===e)return t}var gr=!1;function yr(){dr&&(dr.detachEvent("onpropertychange",br),hr=dr=null)}function br(e){if("value"===e.propertyName&&mr(hr))if(e=fr(hr,e,lt(e)),F)st(e);else{F=!0;try{N(pr,e)}finally{F=!1,z()}}}function _r(e,t,n){"focus"===e?(yr(),hr=n,(dr=t).attachEvent("onpropertychange",br)):"blur"===e&&yr()}function xr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return mr(hr)}function wr(e,t){if("click"===e)return mr(t)}function Er(e,t){if("input"===e||"change"===e)return mr(t)}O&&(gr=ut("input")&&(!document.documentMode||9<document.documentMode));var Tr={eventTypes:cr,_isInputEventSupported:gr,extractEvents:function(e,t,n,r){var i=t?An(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=vr;else if(ur(i))if(gr)a=Er;else{a=xr;var s=_r}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=wr);if(a&&(a=a(e,t)))return fr(a,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Oe(i,"number",i.value)}},Sr=Gn.extend({view:null,detail:null}),kr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Or(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kr[e])&&!!t[e]}function Cr(){return Or}var Ar=0,Mr=0,Pr=!1,Ir=!1,Dr=Sr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Cr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Ar;return Ar=e.screenX,Pr?"mousemove"===e.type?e.screenX-t:0:(Pr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Mr;return Mr=e.screenY,Ir?"mousemove"===e.type?e.screenY-t:0:(Ir=!0,0)}}),Nr=Dr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Rr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Lr={eventTypes:Rr,extractEvents:function(e,t,n,r,i){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?On(t):null)&&(t!==Je(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var s=Dr,l=Rr.mouseLeave,u=Rr.mouseEnter,c="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Nr,l=Rr.pointerLeave,u=Rr.pointerEnter,c="pointer");if(e=null==a?o:An(a),o=null==t?o:An(t),(l=s.getPooled(l,a,n,r)).type=c+"leave",l.target=e,l.relatedTarget=o,(n=s.getPooled(u,t,n,r)).type=c+"enter",n.target=o,n.relatedTarget=e,c=t,(r=a)&&c)e:{for(u=c,a=0,e=s=r;e;e=Pn(e))a++;for(e=0,t=u;t;t=Pn(t))e++;for(;0<a-e;)s=Pn(s),a--;for(;0<e-a;)u=Pn(u),e--;for(;a--;){if(s===u||s===u.alternate)break e;s=Pn(s),u=Pn(u)}s=null}else s=null;for(u=s,s=[];r&&r!==u&&(null===(a=r.alternate)||a!==u);)s.push(r),r=Pn(r);for(r=[];c&&c!==u&&(null===(a=c.alternate)||a!==u);)r.push(c),c=Pn(c);for(c=0;c<s.length;c++)Rn(s[c],"bubbled",l);for(c=r.length;0<c--;)Rn(r[c],"captured",n);return 0===(64&i)?[l]:[l,n]}};var jr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Fr=Object.prototype.hasOwnProperty;function Br(e,t){if(jr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Fr.call(t,n[r])||!jr(e[n[r]],t[n[r]]))return!1;return!0}var zr=O&&"documentMode"in document&&11>=document.documentMode,Hr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Ur=null,Vr=null,Gr=null,Wr=!1;function qr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Wr||null==Ur||Ur!==cn(n)?null:("selectionStart"in(n=Ur)&&pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Gr&&Br(Gr,n)?null:(Gr=n,(e=Gn.getPooled(Hr.select,Vr,e,t)).type="select",e.target=Ur,jn(e),e))}var Yr={eventTypes:Hr,extractEvents:function(e,t,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=Qe(i),o=S.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?An(t):window,e){case"focus":(ur(i)||"true"===i.contentEditable)&&(Ur=i,Vr=t,Gr=null);break;case"blur":Gr=Vr=Ur=null;break;case"mousedown":Wr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Wr=!1,qr(n,r);case"selectionchange":if(zr)break;case"keydown":case"keyup":return qr(n,r)}return null}},Xr=Gn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),$r=Gn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Kr=Sr.extend({relatedTarget:null});function Zr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Qr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ei=Sr.extend({key:function(e){if(e.key){var t=Qr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Zr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Jr[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Cr,charCode:function(e){return"keypress"===e.type?Zr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Zr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ti=Dr.extend({dataTransfer:null}),ni=Sr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Cr}),ri=Gn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ii=Dr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),oi={eventTypes:jt,extractEvents:function(e,t,n,r){var i=Ft.get(e);if(!i)return null;switch(e){case"keypress":if(0===Zr(n))return null;case"keydown":case"keyup":e=ei;break;case"blur":case"focus":e=Kr;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Dr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ti;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ni;break;case qe:case Ye:case Xe:e=Xr;break;case $e:e=ri;break;case"scroll":e=Sr;break;case"wheel":e=ii;break;case"copy":case"cut":case"paste":e=$r;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Nr;break;default:e=Gn}return jn(t=e.getPooled(i,t,n,r)),t}};if(y)throw Error(a(101));y=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),_(),p=Mn,m=Cn,v=An,k({SimpleEventPlugin:oi,EnterLeaveEventPlugin:Lr,ChangeEventPlugin:Tr,SelectEventPlugin:Yr,BeforeInputEventPlugin:sr});var ai=[],si=-1;function li(e){0>si||(e.current=ai[si],ai[si]=null,si--)}function ui(e,t){si++,ai[si]=e.current,e.current=t}var ci={},fi={current:ci},di={current:!1},hi=ci;function pi(e,t){var n=e.type.contextTypes;if(!n)return ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function vi(){li(di),li(fi)}function gi(e,t,n){if(fi.current!==ci)throw Error(a(168));ui(fi,t),ui(di,n)}function yi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,ve(t)||"Unknown",o));return i({},n,{},r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ci,hi=fi.current,ui(fi,e),ui(di,di.current),!0}function _i(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=yi(e,t,hi),r.__reactInternalMemoizedMergedChildContext=e,li(di),li(fi),ui(fi,e)):li(di),ui(di,n)}var xi=o.unstable_runWithPriority,wi=o.unstable_scheduleCallback,Ei=o.unstable_cancelCallback,Ti=o.unstable_requestPaint,Si=o.unstable_now,ki=o.unstable_getCurrentPriorityLevel,Oi=o.unstable_ImmediatePriority,Ci=o.unstable_UserBlockingPriority,Ai=o.unstable_NormalPriority,Mi=o.unstable_LowPriority,Pi=o.unstable_IdlePriority,Ii={},Di=o.unstable_shouldYield,Ni=void 0!==Ti?Ti:function(){},Ri=null,Li=null,ji=!1,Fi=Si(),Bi=1e4>Fi?Si:function(){return Si()-Fi};function zi(){switch(ki()){case Oi:return 99;case Ci:return 98;case Ai:return 97;case Mi:return 96;case Pi:return 95;default:throw Error(a(332))}}function Hi(e){switch(e){case 99:return Oi;case 98:return Ci;case 97:return Ai;case 96:return Mi;case 95:return Pi;default:throw Error(a(332))}}function Ui(e,t){return e=Hi(e),xi(e,t)}function Vi(e,t,n){return e=Hi(e),wi(e,t,n)}function Gi(e){return null===Ri?(Ri=[e],Li=wi(Oi,qi)):Ri.push(e),Ii}function Wi(){if(null!==Li){var e=Li;Li=null,Ei(e)}qi()}function qi(){if(!ji&&null!==Ri){ji=!0;var e=0;try{var t=Ri;Ui(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ri=null}catch(n){throw null!==Ri&&(Ri=Ri.slice(e+1)),wi(Oi,Wi),n}finally{ji=!1}}}function Yi(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Xi(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var $i={current:null},Ki=null,Zi=null,Qi=null;function Ji(){Qi=Zi=Ki=null}function eo(e){var t=$i.current;li($i),e.type._context._currentValue=t}function to(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function no(e,t){Ki=e,Qi=Zi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Ma=!0),e.firstContext=null)}function ro(e,t){if(Qi!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Qi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Zi){if(null===Ki)throw Error(a(308));Zi=t,Ki.dependencies={expirationTime:0,firstContext:t,responders:null}}else Zi=Zi.next=t;return e._currentValue}var io=!1;function oo(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ao(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function so(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function lo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function uo(e,t){var n=e.alternate;null!==n&&ao(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function co(e,t,n,r){var o=e.updateQueue;io=!1;var a=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==a){var l=a.next;a.next=s.next,s.next=l}a=s,o.shared.pending=null,null!==(l=e.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=s))}if(null!==a){l=a.next;var u=o.baseState,c=0,f=null,d=null,h=null;if(null!==l)for(var p=l;;){if((s=p.expirationTime)<r){var m={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===h?(d=h=m,f=u):h=h.next=m,s>c&&(c=s)}else{null!==h&&(h=h.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),ol(s,p.suspenseConfig);e:{var v=e,g=p;switch(s=t,m=n,g.tag){case 1:if("function"===typeof(v=g.payload)){u=v.call(m,u,s);break e}u=v;break e;case 3:v.effectTag=-4097&v.effectTag|64;case 0:if(null===(s="function"===typeof(v=g.payload)?v.call(m,u,s):v)||void 0===s)break e;u=i({},u,s);break e;case 2:io=!0}}null!==p.callback&&(e.effectTag|=32,null===(s=o.effects)?o.effects=[p]:s.push(p))}if(null===(p=p.next)||p===l){if(null===(s=o.shared.pending))break;p=a.next=s.next,s.next=l,o.baseQueue=a=s,o.shared.pending=null}}null===h?f=u:h.next=d,o.baseState=f,o.baseQueue=h,al(c),e.expirationTime=c,e.memoizedState=u}}function fo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(a(191,r));r.call(i)}}}var ho=K.ReactCurrentBatchConfig,po=(new r.Component).refs;function mo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var vo={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=qs(),i=ho.suspense;(i=so(r=Ys(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),lo(e,i),Xs(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=qs(),i=ho.suspense;(i=so(r=Ys(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),lo(e,i),Xs(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=qs(),r=ho.suspense;(r=so(n=Ys(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),lo(e,r),Xs(e,n)}};function go(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Br(n,r)||!Br(i,o))}function yo(e,t,n){var r=!1,i=ci,o=t.contextType;return"object"===typeof o&&null!==o?o=ro(o):(i=mi(t)?hi:fi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?pi(e,i):ci),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=vo,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function bo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vo.enqueueReplaceState(t,t.state,null)}function _o(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=po,oo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ro(o):(o=mi(t)?hi:fi.current,i.context=pi(e,o)),co(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(mo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&vo.enqueueReplaceState(i,i.state,null),co(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var xo=Array.isArray;function wo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===po&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Eo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function To(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=kl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Al(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=wo(e,t,n),r.return=e,r):((r=Ol(n.type,n.key,n.props,null,e.mode,r)).ref=wo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ml(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Cl(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Al(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Ol(t.type,t.key,t.props,null,e.mode,n)).ref=wo(e,null,t),n.return=e,n;case te:return(t=Ml(t,e.mode,n)).return=e,t}if(xo(t)||me(t))return(t=Cl(t,e.mode,n,null)).return=e,t;Eo(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===i?n.type===ne?f(e,t,n.props.children,r,i):u(e,t,n,r):null;case te:return n.key===i?c(e,t,n,r):null}if(xo(n)||me(n))return null!==i?null:f(e,t,n,r,null);Eo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?f(t,e,r.props.children,i,r.key):u(t,e,r,i);case te:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xo(r)||me(r))return f(t,e=e.get(n)||null,r,i,null);Eo(t,r)}return null}function m(i,a,s,l){for(var u=null,c=null,f=a,m=a=0,v=null;null!==f&&m<s.length;m++){f.index>m?(v=f,f=null):v=f.sibling;var g=h(i,f,s[m],l);if(null===g){null===f&&(f=v);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,m),null===c?u=g:c.sibling=g,c=g,f=v}if(m===s.length)return n(i,f),u;if(null===f){for(;m<s.length;m++)null!==(f=d(i,s[m],l))&&(a=o(f,a,m),null===c?u=f:c.sibling=f,c=f);return u}for(f=r(i,f);m<s.length;m++)null!==(v=p(f,i,m,s[m],l))&&(e&&null!==v.alternate&&f.delete(null===v.key?m:v.key),a=o(v,a,m),null===c?u=v:c.sibling=v,c=v);return e&&f.forEach((function(e){return t(i,e)})),u}function v(i,s,l,u){var c=me(l);if("function"!==typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var f=c=null,m=s,v=s=0,g=null,y=l.next();null!==m&&!y.done;v++,y=l.next()){m.index>v?(g=m,m=null):g=m.sibling;var b=h(i,m,y.value,u);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,v),null===f?c=b:f.sibling=b,f=b,m=g}if(y.done)return n(i,m),c;if(null===m){for(;!y.done;v++,y=l.next())null!==(y=d(i,y.value,u))&&(s=o(y,s,v),null===f?c=y:f.sibling=y,f=y);return c}for(m=r(i,m);!y.done;v++,y=l.next())null!==(y=p(m,i,v,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=o(y,s,v),null===f?c=y:f.sibling=y,f=y);return e&&m.forEach((function(e){return t(i,e)})),c}return function(e,r,o,l){var u="object"===typeof o&&null!==o&&o.type===ne&&null===o.key;u&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case ee:e:{for(c=o.key,u=r;null!==u;){if(u.key===c){switch(u.tag){case 7:if(o.type===ne){n(e,u.sibling),(r=i(u,o.props.children)).return=e,e=r;break e}break;default:if(u.elementType===o.type){n(e,u.sibling),(r=i(u,o.props)).ref=wo(e,u,o),r.return=e,e=r;break e}}n(e,u);break}t(e,u),u=u.sibling}o.type===ne?((r=Cl(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=Ol(o.type,o.key,o.props,null,e.mode,l)).ref=wo(e,r,o),l.return=e,e=l)}return s(e);case te:e:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ml(o,e.mode,l)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Al(o,e.mode,l)).return=e,e=r),s(e);if(xo(o))return m(e,r,o,l);if(me(o))return v(e,r,o,l);if(c&&Eo(e,o),"undefined"===typeof o&&!u)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return n(e,r)}}var So=To(!0),ko=To(!1),Oo={},Co={current:Oo},Ao={current:Oo},Mo={current:Oo};function Po(e){if(e===Oo)throw Error(a(174));return e}function Io(e,t){switch(ui(Mo,t),ui(Ao,e),ui(Co,Oo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:je(null,"");break;default:t=je(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Co),ui(Co,t)}function Do(){li(Co),li(Ao),li(Mo)}function No(e){Po(Mo.current);var t=Po(Co.current),n=je(t,e.type);t!==n&&(ui(Ao,e),ui(Co,n))}function Ro(e){Ao.current===e&&(li(Co),li(Ao))}var Lo={current:0};function jo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Fo(e,t){return{responder:e,props:t}}var Bo=K.ReactCurrentDispatcher,zo=K.ReactCurrentBatchConfig,Ho=0,Uo=null,Vo=null,Go=null,Wo=!1;function qo(){throw Error(a(321))}function Yo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jr(e[n],t[n]))return!1;return!0}function Xo(e,t,n,r,i,o){if(Ho=o,Uo=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Bo.current=null===e||null===e.memoizedState?ga:ya,e=n(r,i),t.expirationTime===Ho){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(a(301));o+=1,Go=Vo=null,t.updateQueue=null,Bo.current=ba,e=n(r,i)}while(t.expirationTime===Ho)}if(Bo.current=va,t=null!==Vo&&null!==Vo.next,Ho=0,Go=Vo=Uo=null,Wo=!1,t)throw Error(a(300));return e}function $o(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Go?Uo.memoizedState=Go=e:Go=Go.next=e,Go}function Ko(){if(null===Vo){var e=Uo.alternate;e=null!==e?e.memoizedState:null}else e=Vo.next;var t=null===Go?Uo.memoizedState:Go.next;if(null!==t)Go=t,Vo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Vo=e).memoizedState,baseState:Vo.baseState,baseQueue:Vo.baseQueue,queue:Vo.queue,next:null},null===Go?Uo.memoizedState=Go=e:Go=Go.next=e}return Go}function Zo(e,t){return"function"===typeof t?t(e):t}function Qo(e){var t=Ko(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Vo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=s=o=null,u=i;do{var c=u.expirationTime;if(c<Ho){var f={expirationTime:u.expirationTime,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(s=l=f,o=r):l=l.next=f,c>Uo.expirationTime&&(Uo.expirationTime=c,al(c))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),ol(c,u.suspenseConfig),r=u.eagerReducer===e?u.eagerState:e(r,u.action);u=u.next}while(null!==u&&u!==i);null===l?o=r:l.next=s,jr(r,t.memoizedState)||(Ma=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Jo(e){var t=Ko(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);jr(o,t.memoizedState)||(Ma=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ea(e){var t=$o();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:e}).dispatch=ma.bind(null,Uo,e),[t.memoizedState,e]}function ta(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Uo.updateQueue)?(t={lastEffect:null},Uo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function na(){return Ko().memoizedState}function ra(e,t,n,r){var i=$o();Uo.effectTag|=e,i.memoizedState=ta(1|t,n,void 0,void 0===r?null:r)}function ia(e,t,n,r){var i=Ko();r=void 0===r?null:r;var o=void 0;if(null!==Vo){var a=Vo.memoizedState;if(o=a.destroy,null!==r&&Yo(r,a.deps))return void ta(t,n,o,r)}Uo.effectTag|=e,i.memoizedState=ta(1|t,n,o,r)}function oa(e,t){return ra(516,4,e,t)}function aa(e,t){return ia(516,4,e,t)}function sa(e,t){return ia(4,2,e,t)}function la(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ua(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ia(4,2,la.bind(null,t,e),n)}function ca(){}function fa(e,t){return $o().memoizedState=[e,void 0===t?null:t],e}function da(e,t){var n=Ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Yo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ha(e,t){var n=Ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Yo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function pa(e,t,n){var r=zi();Ui(98>r?98:r,(function(){e(!0)})),Ui(97<r?97:r,(function(){var r=zo.suspense;zo.suspense=void 0===t?null:t;try{e(!1),n()}finally{zo.suspense=r}}))}function ma(e,t,n){var r=qs(),i=ho.suspense;i={expirationTime:r=Ys(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===Uo||null!==o&&o===Uo)Wo=!0,i.expirationTime=Ho,Uo.expirationTime=Ho;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.eagerReducer=o,i.eagerState=s,jr(s,a))return}catch(l){}Xs(e,r)}}var va={readContext:ro,useCallback:qo,useContext:qo,useEffect:qo,useImperativeHandle:qo,useLayoutEffect:qo,useMemo:qo,useReducer:qo,useRef:qo,useState:qo,useDebugValue:qo,useResponder:qo,useDeferredValue:qo,useTransition:qo},ga={readContext:ro,useCallback:fa,useContext:ro,useEffect:oa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ra(4,2,la.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ra(4,2,e,t)},useMemo:function(e,t){var n=$o();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=$o();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ma.bind(null,Uo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},$o().memoizedState=e},useState:ea,useDebugValue:ca,useResponder:Fo,useDeferredValue:function(e,t){var n=ea(e),r=n[0],i=n[1];return oa((function(){var n=zo.suspense;zo.suspense=void 0===t?null:t;try{i(e)}finally{zo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ea(!1),n=t[0];return t=t[1],[fa(pa.bind(null,t,e),[t,e]),n]}},ya={readContext:ro,useCallback:da,useContext:ro,useEffect:aa,useImperativeHandle:ua,useLayoutEffect:sa,useMemo:ha,useReducer:Qo,useRef:na,useState:function(){return Qo(Zo)},useDebugValue:ca,useResponder:Fo,useDeferredValue:function(e,t){var n=Qo(Zo),r=n[0],i=n[1];return aa((function(){var n=zo.suspense;zo.suspense=void 0===t?null:t;try{i(e)}finally{zo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Qo(Zo),n=t[0];return t=t[1],[da(pa.bind(null,t,e),[t,e]),n]}},ba={readContext:ro,useCallback:da,useContext:ro,useEffect:aa,useImperativeHandle:ua,useLayoutEffect:sa,useMemo:ha,useReducer:Jo,useRef:na,useState:function(){return Jo(Zo)},useDebugValue:ca,useResponder:Fo,useDeferredValue:function(e,t){var n=Jo(Zo),r=n[0],i=n[1];return aa((function(){var n=zo.suspense;zo.suspense=void 0===t?null:t;try{i(e)}finally{zo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Jo(Zo),n=t[0];return t=t[1],[da(pa.bind(null,t,e),[t,e]),n]}},_a=null,xa=null,wa=!1;function Ea(e,t){var n=Tl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ta(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Sa(e){if(wa){var t=xa;if(t){var n=t;if(!Ta(e,t)){if(!(t=xn(n.nextSibling))||!Ta(e,t))return e.effectTag=-1025&e.effectTag|2,wa=!1,void(_a=e);Ea(_a,n)}_a=e,xa=xn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,wa=!1,_a=e}}function ka(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;_a=e}function Oa(e){if(e!==_a)return!1;if(!wa)return ka(e),wa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!yn(t,e.memoizedProps))for(t=xa;t;)Ea(e,t),t=xn(t.nextSibling);if(ka(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){xa=xn(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}xa=null}}else xa=_a?xn(e.stateNode.nextSibling):null;return!0}function Ca(){xa=_a=null,wa=!1}var Aa=K.ReactCurrentOwner,Ma=!1;function Pa(e,t,n,r){t.child=null===e?ko(t,null,n,r):So(t,e.child,n,r)}function Ia(e,t,n,r,i){n=n.render;var o=t.ref;return no(t,i),r=Xo(e,t,n,r,o,i),null===e||Ma?(t.effectTag|=1,Pa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Xa(e,t,i))}function Da(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Sl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ol(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Na(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:Br)(i,r)&&e.ref===t.ref)?Xa(e,t,o):(t.effectTag|=1,(e=kl(a,r)).ref=t.ref,e.return=t,t.child=e)}function Na(e,t,n,r,i,o){return null!==e&&Br(e.memoizedProps,r)&&e.ref===t.ref&&(Ma=!1,i<o)?(t.expirationTime=e.expirationTime,Xa(e,t,o)):La(e,t,n,r,o)}function Ra(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function La(e,t,n,r,i){var o=mi(n)?hi:fi.current;return o=pi(t,o),no(t,i),n=Xo(e,t,n,r,o,i),null===e||Ma?(t.effectTag|=1,Pa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Xa(e,t,i))}function ja(e,t,n,r,i){if(mi(n)){var o=!0;bi(t)}else o=!1;if(no(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),yo(t,n,r),_o(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=ro(u):u=pi(t,u=mi(n)?hi:fi.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==u)&&bo(t,a,r,u),io=!1;var d=t.memoizedState;a.state=d,co(t,r,a,i),l=t.memoizedState,s!==r||d!==l||di.current||io?("function"===typeof c&&(mo(t,n,c,r),l=t.memoizedState),(s=io||go(t,n,s,r,d,l,u))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.effectTag|=4)):("function"===typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"===typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,ao(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:Xi(t.type,s),l=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=ro(u):u=pi(t,u=mi(n)?hi:fi.current),(f="function"===typeof(c=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==u)&&bo(t,a,r,u),io=!1,l=t.memoizedState,a.state=l,co(t,r,a,i),d=t.memoizedState,s!==r||l!==d||di.current||io?("function"===typeof c&&(mo(t,n,c,r),d=t.memoizedState),(c=io||go(t,n,s,r,l,d,u))?(f||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,d,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,d,u)),"function"===typeof a.componentDidUpdate&&(t.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=d),a.props=r,a.state=d,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),r=!1);return Fa(e,t,n,r,o,i)}function Fa(e,t,n,r,i,o){Ra(e,t);var a=0!==(64&t.effectTag);if(!r&&!a)return i&&_i(t,n,!1),Xa(e,t,o);r=t.stateNode,Aa.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=So(t,e.child,null,o),t.child=So(t,null,s,o)):Pa(e,t,s,o),t.memoizedState=r.state,i&&_i(t,n,!0),t.child}function Ba(e){var t=e.stateNode;t.pendingContext?gi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&gi(0,t.context,!1),Io(e,t.containerInfo)}var za,Ha,Ua,Va={dehydrated:null,retryTime:0};function Ga(e,t,n){var r,i=t.mode,o=t.pendingProps,a=Lo.current,s=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&a)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),ui(Lo,1&a),null===e){if(void 0!==o.fallback&&Sa(t),s){if(s=o.fallback,(o=Cl(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Cl(s,i,n,null)).return=t,o.sibling=n,t.memoizedState=Va,t.child=o,n}return i=o.children,t.memoizedState=null,t.child=ko(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(o=o.fallback,(n=kl(e,e.pendingProps)).return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=kl(i,o)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=Va,t.child=n,i}return n=So(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=o.fallback,(o=Cl(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Cl(s,i,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=Va,t.child=o,n}return t.memoizedState=null,t.child=So(t,e,o.children,n)}function Wa(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),to(e.return,t)}function qa(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function Ya(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Pa(e,t,r.children,n),0!==(2&(r=Lo.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wa(e,n);else if(19===e.tag)Wa(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ui(Lo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===jo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qa(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===jo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qa(t,!0,n,null,o,t.lastEffect);break;case"together":qa(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Xa(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&al(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=kl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=kl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $a(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ka(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return mi(t.type)&&vi(),null;case 3:return Do(),li(di),li(fi),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Oa(t)||(t.effectTag|=4),null;case 5:Ro(t),n=Po(Mo.current);var o=t.type;if(null!==e&&null!=t.stateNode)Ha(e,t,o,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Po(Co.current),Oa(t)){r=t.stateNode,o=t.type;var s=t.memoizedProps;switch(r[Tn]=t,r[Sn]=s,o){case"iframe":case"object":case"embed":Yt("load",r);break;case"video":case"audio":for(e=0;e<Ke.length;e++)Yt(Ke[e],r);break;case"source":Yt("error",r);break;case"img":case"image":case"link":Yt("error",r),Yt("load",r);break;case"form":Yt("reset",r),Yt("submit",r);break;case"details":Yt("toggle",r);break;case"input":Ee(r,s),Yt("invalid",r),ln(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Yt("invalid",r),ln(n,"onChange");break;case"textarea":Pe(r,s),Yt("invalid",r),ln(n,"onChange")}for(var l in on(o,s),e=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"===typeof u?r.textContent!==u&&(e=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(e=["children",""+u]):T.hasOwnProperty(l)&&null!=u&&ln(n,l)}switch(o){case"input":_e(r),ke(r,s,!0);break;case"textarea":_e(r),De(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=un)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(l=9===n.nodeType?n:n.ownerDocument,e===sn&&(e=Le(o)),e===sn?"script"===o?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(o,{is:r.is}):(e=l.createElement(o),"select"===o&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,o),e[Tn]=t,e[Sn]=r,za(e,t),t.stateNode=e,l=an(o,r),o){case"iframe":case"object":case"embed":Yt("load",e),u=r;break;case"video":case"audio":for(u=0;u<Ke.length;u++)Yt(Ke[u],e);u=r;break;case"source":Yt("error",e),u=r;break;case"img":case"image":case"link":Yt("error",e),Yt("load",e),u=r;break;case"form":Yt("reset",e),Yt("submit",e),u=r;break;case"details":Yt("toggle",e),u=r;break;case"input":Ee(e,r),u=we(e,r),Yt("invalid",e),ln(n,"onChange");break;case"option":u=Ce(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},u=i({},r,{value:void 0}),Yt("invalid",e),ln(n,"onChange");break;case"textarea":Pe(e,r),u=Me(e,r),Yt("invalid",e),ln(n,"onChange");break;default:u=r}on(o,u);var c=u;for(s in c)if(c.hasOwnProperty(s)){var f=c[s];"style"===s?nn(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&Be(e,f):"children"===s?"string"===typeof f?("textarea"!==o||""!==f)&&ze(e,f):"number"===typeof f&&ze(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(T.hasOwnProperty(s)?null!=f&&ln(n,s):null!=f&&Z(e,s,f,l))}switch(o){case"input":_e(e),ke(e,r,!1);break;case"textarea":_e(e),De(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ye(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Ae(e,!!r.multiple,n,!1):null!=r.defaultValue&&Ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof u.onClick&&(e.onclick=un)}gn(o,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Ua(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=Po(Mo.current),Po(Co.current),Oa(t)?(n=t.stateNode,r=t.memoizedProps,n[Tn]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Tn]=t,t.stateNode=n)}return null;case 13:return li(Lo),r=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Oa(t):(r=null!==(o=e.memoizedState),n||null===o||null!==(o=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=o,o.nextEffect=s):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Lo.current)?Os===_s&&(Os=xs):(Os!==_s&&Os!==xs||(Os=ws),0!==Is&&null!==Ts&&(Dl(Ts,ks),Nl(Ts,Is)))),(n||r)&&(t.effectTag|=4),null);case 4:return Do(),null;case 10:return eo(t),null;case 17:return mi(t.type)&&vi(),null;case 19:if(li(Lo),null===(r=t.memoizedState))return null;if(o=0!==(64&t.effectTag),null===(s=r.rendering)){if(o)$a(r,!1);else if(Os!==_s||null!==e&&0!==(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=jo(s))){for(t.effectTag|=64,$a(r,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)s=n,(o=r).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,s=e.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return ui(Lo,1&Lo.current|2),t.child}s=s.sibling}}else{if(!o)if(null!==(e=jo(s))){if(t.effectTag|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),$a(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Bi()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,o=!0,$a(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=r.last)?n.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Bi()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Bi(),n.sibling=null,t=Lo.current,ui(Lo,o?1&t|2:1&t),n):null}throw Error(a(156,t.tag))}function Za(e){switch(e.tag){case 1:mi(e.type)&&vi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Do(),li(di),li(fi),0!==(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return Ro(e),null;case 13:return li(Lo),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return li(Lo),null;case 4:return Do(),null;case 10:return eo(e),null;default:return null}}function Qa(e,t){return{value:e,source:t,stack:ge(t)}}za=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ha=function(e,t,n,r,o){var a=e.memoizedProps;if(a!==r){var s,l,u=t.stateNode;switch(Po(Co.current),e=null,n){case"input":a=we(u,a),r=we(u,r),e=[];break;case"option":a=Ce(u,a),r=Ce(u,r),e=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":a=Me(u,a),r=Me(u,r),e=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(u.onclick=un)}for(s in on(n,r),n=null,a)if(!r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(l in u=a[s])u.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(T.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var c=r[s];if(u=null!=a?a[s]:void 0,r.hasOwnProperty(s)&&c!==u&&(null!=c||null!=u))if("style"===s)if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(e||(e=[]),e.push(s,n)),n=c;else"dangerouslySetInnerHTML"===s?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(e=e||[]).push(s,c)):"children"===s?u===c||"string"!==typeof c&&"number"!==typeof c||(e=e||[]).push(s,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(T.hasOwnProperty(s)?(null!=c&&ln(o,s),e||u===c||(e=[])):(e=e||[]).push(s,c))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&(t.effectTag|=4)}},Ua=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var Ja="function"===typeof WeakSet?WeakSet:Set;function es(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ge(n)),null!==n&&ve(n.type),t=t.value,null!==e&&1===e.tag&&ve(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function ts(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){yl(e,n)}else t.current=null}function ns(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function os(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void is(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&fo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}fo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&gn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Lt(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function as(e,t,n){switch("function"===typeof wl&&wl(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Ui(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(o){yl(i,o)}}e=e.next}while(e!==r)}))}break;case 1:ts(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){yl(e,n)}}(t,n);break;case 5:ts(t);break;case 4:cs(e,t,n)}}function ss(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ss(t)}function ls(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:{for(var t=e.return;null!==t;){if(ls(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(ze(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ls(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=un));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function cs(e,t,n){for(var r,i,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var l=e,u=o,c=n,f=u;;)if(as(l,f,c),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===u)break e;for(;null===f.sibling;){if(null===f.return||f.return===u)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(l=r,u=o.stateNode,8===l.nodeType?l.parentNode.removeChild(u):l.removeChild(u)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(as(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function fs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void rs(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Sn]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Te(n,r),an(e,i),t=an(e,r),i=0;i<o.length;i+=2){var s=o[i],l=o[i+1];"style"===s?nn(n,l):"dangerouslySetInnerHTML"===s?Be(n,l):"children"===s?ze(n,l):Z(n,s,l,t)}switch(e){case"input":Se(n,r);break;case"textarea":Ie(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Ae(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Ae(n,!!r.multiple,r.defaultValue,!0):Ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Lt(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Ns=Bi()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,r?"function"===typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,o.style.display=tn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void ds(t);case 19:return void ds(t);case 17:return}throw Error(a(163))}function ds(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ja),t.forEach((function(t){var r=_l.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=so(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ls||(Ls=!0,js=r),es(e,t)},n}function ms(e,t,n){(n=so(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return es(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Fs?Fs=new Set([this]):Fs.add(this),es(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var vs,gs=Math.ceil,ys=K.ReactCurrentDispatcher,bs=K.ReactCurrentOwner,_s=0,xs=3,ws=4,Es=0,Ts=null,Ss=null,ks=0,Os=_s,Cs=null,As=1073741823,Ms=1073741823,Ps=null,Is=0,Ds=!1,Ns=0,Rs=null,Ls=!1,js=null,Fs=null,Bs=!1,zs=null,Hs=90,Us=null,Vs=0,Gs=null,Ws=0;function qs(){return 0!==(48&Es)?1073741821-(Bi()/10|0):0!==Ws?Ws:Ws=1073741821-(Bi()/10|0)}function Ys(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=zi();if(0===(4&t))return 99===r?1073741823:1073741822;if(0!==(16&Es))return ks;if(null!==n)e=Yi(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Yi(e,150,100);break;case 97:case 96:e=Yi(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==Ts&&e===ks&&--e,e}function Xs(e,t){if(50<Vs)throw Vs=0,Gs=null,Error(a(185));if(null!==(e=$s(e,t))){var n=zi();1073741823===t?0!==(8&Es)&&0===(48&Es)?Js(e):(Zs(e),0===Es&&Wi()):Zs(e),0===(4&Es)||98!==n&&99!==n||(null===Us?Us=new Map([[e,t]]):(void 0===(n=Us.get(e))||n>t)&&Us.set(e,t))}}function $s(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Ts===i&&(al(t),Os===ws&&Dl(i,ks)),Nl(i,t)),i}function Ks(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Il(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function Zs(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Gi(Js.bind(null,e));else{var t=Ks(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=qs();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Ii&&Ei(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Gi(Js.bind(null,e)):Vi(r,Qs.bind(null,e),{timeout:10*(1073741821-t)-Bi()}),e.callbackNode=t}}}function Qs(e,t){if(Ws=0,t)return Rl(e,t=qs()),Zs(e),null;var n=Ks(e);if(0!==n){if(t=e.callbackNode,0!==(48&Es))throw Error(a(327));if(ml(),e===Ts&&n===ks||nl(e,n),null!==Ss){var r=Es;Es|=16;for(var i=il();;)try{ll();break}catch(l){rl(e,l)}if(Ji(),Es=r,ys.current=i,1===Os)throw t=Cs,nl(e,n),Dl(e,n),Zs(e),t;if(null===Ss)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=Os,Ts=null,r){case _s:case 1:throw Error(a(345));case 2:Rl(e,2<n?2:n);break;case xs:if(Dl(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=fl(i)),1073741823===As&&10<(i=Ns+500-Bi())){if(Ds){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,nl(e,n);break}}if(0!==(o=Ks(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=bn(dl.bind(null,e),i);break}dl(e);break;case ws:if(Dl(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=fl(i)),Ds&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,nl(e,n);break}if(0!==(i=Ks(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Ms?r=10*(1073741821-Ms)-Bi():1073741823===As?r=0:(r=10*(1073741821-As)-5e3,0>(r=(i=Bi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gs(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=bn(dl.bind(null,e),r);break}dl(e);break;case 5:if(1073741823!==As&&null!==Ps){o=As;var s=Ps;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(o=Bi()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=i?0:i+r-o),10<r){Dl(e,n),e.timeoutHandle=bn(dl.bind(null,e),r);break}}dl(e);break;default:throw Error(a(329))}if(Zs(e),e.callbackNode===t)return Qs.bind(null,e)}}return null}function Js(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!==(48&Es))throw Error(a(327));if(ml(),e===Ts&&t===ks||nl(e,t),null!==Ss){var n=Es;Es|=16;for(var r=il();;)try{sl();break}catch(i){rl(e,i)}if(Ji(),Es=n,ys.current=r,1===Os)throw n=Cs,nl(e,t),Dl(e,t),Zs(e),n;if(null!==Ss)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Ts=null,dl(e),Zs(e)}return null}function el(e,t){var n=Es;Es|=1;try{return e(t)}finally{0===(Es=n)&&Wi()}}function tl(e,t){var n=Es;Es&=-2,Es|=8;try{return e(t)}finally{0===(Es=n)&&Wi()}}function nl(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,_n(n)),null!==Ss)for(n=Ss.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&vi();break;case 3:Do(),li(di),li(fi);break;case 5:Ro(r);break;case 4:Do();break;case 13:case 19:li(Lo);break;case 10:eo(r)}n=n.return}Ts=e,Ss=kl(e.current,null),ks=t,Os=_s,Cs=null,Ms=As=1073741823,Ps=null,Is=0,Ds=!1}function rl(e,t){for(;;){try{if(Ji(),Bo.current=va,Wo)for(var n=Uo.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Ho=0,Go=Vo=Uo=null,Wo=!1,null===Ss||null===Ss.return)return Os=1,Cs=t,Ss=null;e:{var i=e,o=Ss.return,a=Ss,s=t;if(t=ks,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var l=s;if(0===(2&a.mode)){var u=a.alternate;u?(a.updateQueue=u.updateQueue,a.memoizedState=u.memoizedState,a.expirationTime=u.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var c=0!==(1&Lo.current),f=o;do{var d;if(d=13===f.tag){var h=f.memoizedState;if(null!==h)d=null!==h.dehydrated;else{var p=f.memoizedProps;d=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!c)}}if(d){var m=f.updateQueue;if(null===m){var v=new Set;v.add(l),f.updateQueue=v}else m.add(l);if(0===(2&f.mode)){if(f.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var g=so(1073741823,null);g.tag=2,lo(a,g)}a.expirationTime=1073741823;break e}s=void 0,a=t;var y=i.pingCache;if(null===y?(y=i.pingCache=new hs,s=new Set,y.set(l,s)):void 0===(s=y.get(l))&&(s=new Set,y.set(l,s)),!s.has(a)){s.add(a);var b=bl.bind(null,i,l,a);l.then(b,b)}f.effectTag|=4096,f.expirationTime=t;break e}f=f.return}while(null!==f);s=Error((ve(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ge(a))}5!==Os&&(Os=2),s=Qa(s,a),f=o;do{switch(f.tag){case 3:l=s,f.effectTag|=4096,f.expirationTime=t,uo(f,ps(f,l,t));break e;case 1:l=s;var _=f.type,x=f.stateNode;if(0===(64&f.effectTag)&&("function"===typeof _.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Fs||!Fs.has(x)))){f.effectTag|=4096,f.expirationTime=t,uo(f,ms(f,l,t));break e}}f=f.return}while(null!==f)}Ss=cl(Ss)}catch(w){t=w;continue}break}}function il(){var e=ys.current;return ys.current=va,null===e?va:e}function ol(e,t){e<As&&2<e&&(As=e),null!==t&&e<Ms&&2<e&&(Ms=e,Ps=t)}function al(e){e>Is&&(Is=e)}function sl(){for(;null!==Ss;)Ss=ul(Ss)}function ll(){for(;null!==Ss&&!Di();)Ss=ul(Ss)}function ul(e){var t=vs(e.alternate,e,ks);return e.memoizedProps=e.pendingProps,null===t&&(t=cl(e)),bs.current=null,t}function cl(e){Ss=e;do{var t=Ss.alternate;if(e=Ss.return,0===(2048&Ss.effectTag)){if(t=Ka(t,Ss,ks),1===ks||1!==Ss.childExpirationTime){for(var n=0,r=Ss.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}Ss.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Ss.firstEffect),null!==Ss.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Ss.firstEffect),e.lastEffect=Ss.lastEffect),1<Ss.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Ss:e.firstEffect=Ss,e.lastEffect=Ss))}else{if(null!==(t=Za(Ss)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Ss.sibling))return t;Ss=e}while(null!==Ss);return Os===_s&&(Os=5),null}function fl(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function dl(e){var t=zi();return Ui(99,hl.bind(null,e,t)),null}function hl(e,t){do{ml()}while(null!==zs);if(0!==(48&Es))throw Error(a(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=fl(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Ts&&(Ss=Ts=null,ks=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=Es;Es|=32,bs.current=null,mn=qt;var s=hn();if(pn(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{var u=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(u&&0!==u.rangeCount){l=u.anchorNode;var c=u.anchorOffset,f=u.focusNode;u=u.focusOffset;try{l.nodeType,f.nodeType}catch(k){l=null;break e}var d=0,h=-1,p=-1,m=0,v=0,g=s,y=null;t:for(;;){for(var b;g!==l||0!==c&&3!==g.nodeType||(h=d+c),g!==f||0!==u&&3!==g.nodeType||(p=d+u),3===g.nodeType&&(d+=g.nodeValue.length),null!==(b=g.firstChild);)y=g,g=b;for(;;){if(g===s)break t;if(y===l&&++m===c&&(h=d),y===f&&++v===u&&(p=d),null!==(b=g.nextSibling))break;y=(g=y).parentNode}g=b}l=-1===h||-1===p?null:{start:h,end:p}}else l=null}l=l||{start:0,end:0}}else l=null;vn={activeElementDetached:null,focusedElem:s,selectionRange:l},qt=!1,Rs=i;do{try{pl()}catch(k){if(null===Rs)throw Error(a(330));yl(Rs,k),Rs=Rs.nextEffect}}while(null!==Rs);Rs=i;do{try{for(s=e,l=t;null!==Rs;){var _=Rs.effectTag;if(16&_&&ze(Rs.stateNode,""),128&_){var x=Rs.alternate;if(null!==x){var w=x.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&_){case 2:us(Rs),Rs.effectTag&=-3;break;case 6:us(Rs),Rs.effectTag&=-3,fs(Rs.alternate,Rs);break;case 1024:Rs.effectTag&=-1025;break;case 1028:Rs.effectTag&=-1025,fs(Rs.alternate,Rs);break;case 4:fs(Rs.alternate,Rs);break;case 8:cs(s,c=Rs,l),ss(c)}Rs=Rs.nextEffect}}catch(k){if(null===Rs)throw Error(a(330));yl(Rs,k),Rs=Rs.nextEffect}}while(null!==Rs);if(w=vn,x=hn(),_=w.focusedElem,l=w.selectionRange,x!==_&&_&&_.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(_.ownerDocument.documentElement,_)){null!==l&&pn(_)&&(x=l.start,void 0===(w=l.end)&&(w=x),"selectionStart"in _?(_.selectionStart=x,_.selectionEnd=Math.min(w,_.value.length)):(w=(x=_.ownerDocument||document)&&x.defaultView||window).getSelection&&(w=w.getSelection(),c=_.textContent.length,s=Math.min(l.start,c),l=void 0===l.end?s:Math.min(l.end,c),!w.extend&&s>l&&(c=l,l=s,s=c),c=dn(_,s),f=dn(_,l),c&&f&&(1!==w.rangeCount||w.anchorNode!==c.node||w.anchorOffset!==c.offset||w.focusNode!==f.node||w.focusOffset!==f.offset)&&((x=x.createRange()).setStart(c.node,c.offset),w.removeAllRanges(),s>l?(w.addRange(x),w.extend(f.node,f.offset)):(x.setEnd(f.node,f.offset),w.addRange(x))))),x=[];for(w=_;w=w.parentNode;)1===w.nodeType&&x.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof _.focus&&_.focus(),_=0;_<x.length;_++)(w=x[_]).element.scrollLeft=w.left,w.element.scrollTop=w.top}qt=!!mn,vn=mn=null,e.current=n,Rs=i;do{try{for(_=e;null!==Rs;){var E=Rs.effectTag;if(36&E&&os(_,Rs.alternate,Rs),128&E){x=void 0;var T=Rs.ref;if(null!==T){var S=Rs.stateNode;switch(Rs.tag){case 5:x=S;break;default:x=S}"function"===typeof T?T(x):T.current=x}}Rs=Rs.nextEffect}}catch(k){if(null===Rs)throw Error(a(330));yl(Rs,k),Rs=Rs.nextEffect}}while(null!==Rs);Rs=null,Ni(),Es=o}else e.current=n;if(Bs)Bs=!1,zs=e,Hs=t;else for(Rs=i;null!==Rs;)t=Rs.nextEffect,Rs.nextEffect=null,Rs=t;if(0===(t=e.firstPendingTime)&&(Fs=null),1073741823===t?e===Gs?Vs++:(Vs=0,Gs=e):Vs=0,"function"===typeof xl&&xl(n.stateNode,r),Zs(e),Ls)throw Ls=!1,e=js,js=null,e;return 0!==(8&Es)||Wi(),null}function pl(){for(;null!==Rs;){var e=Rs.effectTag;0!==(256&e)&&ns(Rs.alternate,Rs),0===(512&e)||Bs||(Bs=!0,Vi(97,(function(){return ml(),null}))),Rs=Rs.nextEffect}}function ml(){if(90!==Hs){var e=97<Hs?97:Hs;return Hs=90,Ui(e,vl)}}function vl(){if(null===zs)return!1;var e=zs;if(zs=null,0!==(48&Es))throw Error(a(331));var t=Es;for(Es|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:rs(5,n),is(5,n)}}catch(r){if(null===e)throw Error(a(330));yl(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return Es=t,Wi(),!0}function gl(e,t,n){lo(e,t=ps(e,t=Qa(n,t),1073741823)),null!==(e=$s(e,1073741823))&&Zs(e)}function yl(e,t){if(3===e.tag)gl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){gl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Fs||!Fs.has(r))){lo(n,e=ms(n,e=Qa(t,e),1073741823)),null!==(n=$s(n,1073741823))&&Zs(n);break}}n=n.return}}function bl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Ts===e&&ks===n?Os===ws||Os===xs&&1073741823===As&&Bi()-Ns<500?nl(e,ks):Ds=!0:Il(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Zs(e)))}function _l(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=Ys(t=qs(),e,null)),null!==(e=$s(e,t))&&Zs(e)}vs=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||di.current)Ma=!0;else{if(r<n){switch(Ma=!1,t.tag){case 3:Ba(t),Ca();break;case 5:if(No(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:mi(t.type)&&bi(t);break;case 4:Io(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,ui($i,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Ga(e,t,n):(ui(Lo,1&Lo.current),null!==(t=Xa(e,t,n))?t.sibling:null);ui(Lo,1&Lo.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return Ya(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),ui(Lo,Lo.current),!r)return null}return Xa(e,t,n)}Ma=!1}}else Ma=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=pi(t,fi.current),no(t,n),i=Xo(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var o=!0;bi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,oo(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&mo(t,r,s,e),i.updater=vo,t.stateNode=i,i._reactInternalFiber=t,_o(t,r,e,n),t=Fa(null,t,r,!0,o,n)}else t.tag=0,Pa(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=function(e){if("function"===typeof e)return Sl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===le)return 11;if(e===fe)return 14}return 2}(i),e=Xi(i,e),o){case 0:t=La(null,t,i,e,n);break e;case 1:t=ja(null,t,i,e,n);break e;case 11:t=Ia(null,t,i,e,n);break e;case 14:t=Da(null,t,i,Xi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,La(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,ja(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Ba(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ao(e,t),co(t,r,null,n),(r=t.memoizedState.element)===i)Ca(),t=Xa(e,t,n);else{if((i=t.stateNode.hydrate)&&(xa=xn(t.stateNode.containerInfo.firstChild),_a=t,i=wa=!0),i)for(n=ko(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Pa(e,t,r,n),Ca();t=t.child}return t;case 5:return No(t),null===e&&Sa(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,yn(r,i)?s=null:null!==o&&yn(r,o)&&(t.effectTag|=16),Ra(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Pa(e,t,s,n),t=t.child),t;case 6:return null===e&&Sa(t),null;case 13:return Ga(e,t,n);case 4:return Io(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=So(t,null,r,n):Pa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ia(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return Pa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Pa(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var l=t.type._context;if(ui($i,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0===(o=jr(l,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(s.children===i.children&&!di.current){t=Xa(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&o)){1===l.tag&&((c=so(n,null)).tag=2,lo(l,c)),l.expirationTime<n&&(l.expirationTime=n),null!==(c=l.alternate)&&c.expirationTime<n&&(c.expirationTime=n),to(l.return,n),u.expirationTime<n&&(u.expirationTime=n);break}c=c.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Pa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,no(t,n),r=r(i=ro(i,o.unstable_observedBits)),t.effectTag|=1,Pa(e,t,r,n),t.child;case 14:return o=Xi(i=t.type,t.pendingProps),Da(e,t,i,o=Xi(i.type,o),r,n);case 15:return Na(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,mi(r)?(e=!0,bi(t)):e=!1,no(t,n),yo(t,r,i),_o(t,r,i,n),Fa(null,t,r,!0,e,n);case 19:return Ya(e,t,n)}throw Error(a(156,t.tag))};var xl=null,wl=null;function El(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Tl(e,t,n,r){return new El(e,t,n,r)}function Sl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function kl(e,t){var n=e.alternate;return null===n?((n=Tl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ol(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Sl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case ne:return Cl(n.children,i,o,t);case se:s=8,i|=7;break;case re:s=8,i|=1;break;case ie:return(e=Tl(12,n,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=o,e;case ue:return(e=Tl(13,n,t,i)).type=ue,e.elementType=ue,e.expirationTime=o,e;case ce:return(e=Tl(19,n,t,i)).elementType=ce,e.expirationTime=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case oe:s=10;break e;case ae:s=9;break e;case le:s=11;break e;case fe:s=14;break e;case de:s=16,r=null;break e;case he:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Tl(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function Cl(e,t,n,r){return(e=Tl(7,e,r,t)).expirationTime=n,e}function Al(e,t,n){return(e=Tl(6,e,null,t)).expirationTime=n,e}function Ml(e,t,n){return(t=Tl(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Pl(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Il(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Dl(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Nl(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Rl(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Ll(e,t,n,r){var i=t.current,o=qs(),s=ho.suspense;o=Ys(o,i,s);e:if(n){t:{if(Je(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(mi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var u=n.type;if(mi(u)){n=yi(n,u,l);break e}}n=l}else n=ci;return null===t.context?t.context=n:t.pendingContext=n,(t=so(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),lo(i,t),Xs(i,o),o}function jl(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Fl(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Bl(e,t){Fl(e,t),(e=e.alternate)&&Fl(e,t)}function zl(e,t,n){var r=new Pl(e,t,n=null!=n&&!0===n.hydrate),i=Tl(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,oo(i),e[kn]=r.current,n&&0!==t&&function(e,t){var n=Qe(t);kt.forEach((function(e){pt(e,t,n)})),Ot.forEach((function(e){pt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function Hl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ul(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=jl(a);s.call(e)}}Ll(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new zl(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var l=i;i=function(){var e=jl(a);l.call(e)}}tl((function(){Ll(t,a,e,i)}))}return jl(a)}function Vl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Gl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Hl(t))throw Error(a(200));return Vl(e,t,null,n)}zl.prototype.render=function(e){Ll(e,this._internalRoot,null,null)},zl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ll(null,e,null,(function(){t[kn]=null}))},mt=function(e){if(13===e.tag){var t=Yi(qs(),150,100);Xs(e,t),Bl(e,t)}},vt=function(e){13===e.tag&&(Xs(e,3),Bl(e,3))},gt=function(e){if(13===e.tag){var t=qs();Xs(e,t=Ys(t,e,null)),Bl(e,t)}},C=function(e,t,n){switch(t){case"input":if(Se(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Mn(r);if(!i)throw Error(a(90));xe(r),Se(r,i)}}}break;case"textarea":Ie(e,n);break;case"select":null!=(t=n.value)&&Ae(e,!!n.multiple,t,!1)}},N=el,R=function(e,t,n,r,i){var o=Es;Es|=4;try{return Ui(98,e.bind(null,t,n,r,i))}finally{0===(Es=o)&&Wi()}},L=function(){0===(49&Es)&&(function(){if(null!==Us){var e=Us;Us=null,e.forEach((function(e,t){Rl(t,e),Zs(t)})),Wi()}}(),ml())},j=function(e,t){var n=Es;Es|=2;try{return e(t)}finally{0===(Es=n)&&Wi()}};var Wl={Events:[Cn,An,Mn,k,E,jn,function(e){it(e,Ln)},I,D,Zt,st,ml,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);xl=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},wl=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:On,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wl,t.createPortal=Gl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!==(48&Es))throw Error(a(187));var n=Es;Es|=1;try{return Ui(99,e.bind(null,t))}finally{Es=n,Wi()}},t.hydrate=function(e,t,n){if(!Hl(t))throw Error(a(200));return Ul(null,e,t,!0,n)},t.render=function(e,t,n){if(!Hl(t))throw Error(a(200));return Ul(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Hl(e))throw Error(a(40));return!!e._reactRootContainer&&(tl((function(){Ul(null,null,e,!1,(function(){e._reactRootContainer=null,e[kn]=null}))})),!0)},t.unstable_batchedUpdates=el,t.unstable_createPortal=function(e,t){return Gl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Hl(n))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return Ul(e,t,n,!1,r)},t.version="16.13.1"},function(e,t,n){"use strict";(function(e){var t=n(143),r=n(46),i=n.n(r);window.Promise||(window.Promise=t.Polyfill),Object.assign||(Object.assign=i.a);var o="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!o.performance||!o.performance.now){var a=Date.now();o.performance||(o.performance={}),o.performance.now=function(){return Date.now()-a}}for(var s=Date.now(),l=["ms","moz","webkit","o"],u=0;u<l.length&&!o.requestAnimationFrame;++u){var c=l[u];o.requestAnimationFrame=o[c+"RequestAnimationFrame"],o.cancelAnimationFrame=o[c+"CancelAnimationFrame"]||o[c+"CancelRequestAnimationFrame"]}o.requestAnimationFrame||(o.requestAnimationFrame=function(e){if("function"!==typeof e)throw new TypeError(e+"is not a function");var t=Date.now(),n=16+s-t;return n<0&&(n=0),s=t,setTimeout((function(){s=Date.now(),e(performance.now())}),n)}),o.cancelAnimationFrame||(o.cancelAnimationFrame=function(e){return clearTimeout(e)}),Math.sign||(Math.sign=function(e){return 0===(e=Number(e))||isNaN(e)?e:e>0?1:-1}),Number.isInteger||(Number.isInteger=function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e}),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array),window.Uint8Array||(window.Uint8Array=Array),window.Int32Array||(window.Int32Array=Array)}).call(this,n(39))},function(e,t,n){(function(e){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(169),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(39))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i=1,o={},a=!1,s=e.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(e);l=l&&l.setTimeout?l:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){c(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&c(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){c(e.data)},r=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;r=function(t){var n=s.createElement("script");n.onreadystatechange=function(){c(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(c,0,e)},l.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return o[i]=a,r(i),i++},l.clearImmediate=u}function u(e){delete o[e]}function c(e){if(a)setTimeout(c,0,e);else{var t=o[e];if(t){a=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{u(e),a=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n(39),n(118))},function(e,t,n){(function(e,r){var i;!function(o){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof r&&r;a.global!==a&&a.window!==a&&a.self;var s,l=2147483647,u=/^xn--/,c=/[^\x20-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=Math.floor,p=String.fromCharCode;function m(e){throw new RangeError(d[e])}function v(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function g(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+v((e=e.replace(f,".")).split("."),t).join(".")}function y(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function b(e){return v(e,(function(e){var t="";return e>65535&&(t+=p((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=p(e)})).join("")}function _(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function x(e,t,n){var r=0;for(e=n?h(e/700):e>>1,e+=h(e/t);e>455;r+=36)e=h(e/35);return h(r+36*e/(e+38))}function w(e){var t,n,r,i,o,a,s,u,c,f,d,p=[],v=e.length,g=0,y=128,_=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&m("not-basic"),p.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<v;){for(o=g,a=1,s=36;i>=v&&m("invalid-input"),((u=(d=e.charCodeAt(i++))-48<10?d-22:d-65<26?d-65:d-97<26?d-97:36)>=36||u>h((l-g)/a))&&m("overflow"),g+=u*a,!(u<(c=s<=_?1:s>=_+26?26:s-_));s+=36)a>h(l/(f=36-c))&&m("overflow"),a*=f;_=x(g-o,t=p.length+1,0==o),h(g/t)>l-y&&m("overflow"),y+=h(g/t),g%=t,p.splice(g++,0,y)}return b(p)}function E(e){var t,n,r,i,o,a,s,u,c,f,d,v,g,b,w,E=[];for(v=(e=y(e)).length,t=128,n=0,o=72,a=0;a<v;++a)(d=e[a])<128&&E.push(p(d));for(r=i=E.length,i&&E.push("-");r<v;){for(s=l,a=0;a<v;++a)(d=e[a])>=t&&d<s&&(s=d);for(s-t>h((l-n)/(g=r+1))&&m("overflow"),n+=(s-t)*g,t=s,a=0;a<v;++a)if((d=e[a])<t&&++n>l&&m("overflow"),d==t){for(u=n,c=36;!(u<(f=c<=o?1:c>=o+26?26:c-o));c+=36)w=u-f,b=36-f,E.push(p(_(f+w%b,0))),u=h(w/b);E.push(p(_(u,0))),o=x(n,g,r==i),n=0,++r}++n,++t}return E.join("")}s={version:"1.4.1",ucs2:{decode:y,encode:b},decode:w,encode:E,toASCII:function(e){return g(e,(function(e){return c.test(e)?"xn--"+E(e):e}))},toUnicode:function(e){return g(e,(function(e){return u.test(e)?w(e.slice(4).toLowerCase()):e}))}},void 0===(i=function(){return s}.call(t,n,t,e))||(e.exports=i)}()}).call(this,n(171)(e),n(39))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";e.exports={isString:function(e){return"string"===typeof e},isObject:function(e){return"object"===typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";t.decode=t.parse=n(174),t.encode=t.stringify=n(175)},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,o){t=t||"&",n=n||"=";var a={};if("string"!==typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var l=1e3;o&&"number"===typeof o.maxKeys&&(l=o.maxKeys);var u=e.length;l>0&&u>l&&(u=l);for(var c=0;c<u;++c){var f,d,h,p,m=e[c].replace(s,"%20"),v=m.indexOf(n);v>=0?(f=m.substr(0,v),d=m.substr(v+1)):(f=m,d=""),h=decodeURIComponent(f),p=decodeURIComponent(d),r(a,h)?i(a[h])?a[h].push(p):a[h]=[a[h],p]:a[h]=p}return a};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"===typeof e?o(a(e),(function(a){var s=encodeURIComponent(r(a))+n;return i(e[a])?o(e[a],(function(e){return s+encodeURIComponent(r(e))})).join(t):s+encodeURIComponent(r(e[a]))})).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){n(177),e.exports=n(19).Object.assign},function(e,t,n){var r=n(27);r(r.S+r.F,"Object",{assign:n(179)})},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){"use strict";var r=n(29),i=n(56),o=n(89),a=n(57),s=n(65),l=n(124),u=Object.assign;e.exports=!u||n(54)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r}))?function(e,t){for(var n=s(e),u=arguments.length,c=1,f=o.f,d=a.f;u>c;)for(var h,p=l(arguments[c++]),m=f?i(p).concat(f(p)):i(p),v=m.length,g=0;v>g;)h=m[g++],r&&!d.call(p,h)||(n[h]=p[h]);return n}:u},function(e,t,n){var r=n(35),i=n(125),o=n(181);e.exports=function(e){return function(t,n,a){var s,l=r(t),u=i(l.length),c=o(a,u);if(e&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){var r=n(85),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){e.exports={default:n(183),__esModule:!0}},function(e,t,n){n(126),n(189),e.exports=n(92).f("iterator")},function(e,t,n){var r=n(85),i=n(84);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),l=r(n),u=s.length;return l<0||l>=u?e?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):o:e?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(90),i=n(55),o=n(91),a={};n(40)(a,n(22)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(33),i=n(41),o=n(56);e.exports=n(29)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,l=0;s>l;)r.f(e,n=a[l++],t[n]);return e}},function(e,t,n){var r=n(28).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(34),i=n(65),o=n(86)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){n(190);for(var r=n(28),i=n(40),o=n(58),a=n(22)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var u=s[l],c=r[u],f=c&&c.prototype;f&&!f[a]&&i(f,a,u),o[u]=o.Array}},function(e,t,n){"use strict";var r=n(191),i=n(192),o=n(58),a=n(35);e.exports=n(127)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){e.exports={default:n(194),__esModule:!0}},function(e,t,n){n(195),n(200),n(201),n(202),e.exports=n(19).Symbol},function(e,t,n){"use strict";var r=n(28),i=n(34),o=n(29),a=n(27),s=n(128),l=n(196).KEY,u=n(54),c=n(87),f=n(91),d=n(64),h=n(22),p=n(92),m=n(93),v=n(197),g=n(198),y=n(41),b=n(42),_=n(65),x=n(35),w=n(82),E=n(55),T=n(90),S=n(199),k=n(130),O=n(89),C=n(33),A=n(56),M=k.f,P=C.f,I=S.f,D=r.Symbol,N=r.JSON,R=N&&N.stringify,L=h("_hidden"),j=h("toPrimitive"),F={}.propertyIsEnumerable,B=c("symbol-registry"),z=c("symbols"),H=c("op-symbols"),U=Object.prototype,V="function"==typeof D&&!!O.f,G=r.QObject,W=!G||!G.prototype||!G.prototype.findChild,q=o&&u((function(){return 7!=T(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=M(U,t);r&&delete U[t],P(e,t,n),r&&e!==U&&P(U,t,r)}:P,Y=function(e){var t=z[e]=T(D.prototype);return t._k=e,t},X=V&&"symbol"==typeof D.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof D},$=function(e,t,n){return e===U&&$(H,t,n),y(e),t=w(t,!0),y(n),i(z,t)?(n.enumerable?(i(e,L)&&e[L][t]&&(e[L][t]=!1),n=T(n,{enumerable:E(0,!1)})):(i(e,L)||P(e,L,E(1,{})),e[L][t]=!0),q(e,t,n)):P(e,t,n)},K=function(e,t){y(e);for(var n,r=v(t=x(t)),i=0,o=r.length;o>i;)$(e,n=r[i++],t[n]);return e},Z=function(e){var t=F.call(this,e=w(e,!0));return!(this===U&&i(z,e)&&!i(H,e))&&(!(t||!i(this,e)||!i(z,e)||i(this,L)&&this[L][e])||t)},Q=function(e,t){if(e=x(e),t=w(t,!0),e!==U||!i(z,t)||i(H,t)){var n=M(e,t);return!n||!i(z,t)||i(e,L)&&e[L][t]||(n.enumerable=!0),n}},J=function(e){for(var t,n=I(x(e)),r=[],o=0;n.length>o;)i(z,t=n[o++])||t==L||t==l||r.push(t);return r},ee=function(e){for(var t,n=e===U,r=I(n?H:x(e)),o=[],a=0;r.length>a;)!i(z,t=r[a++])||n&&!i(U,t)||o.push(z[t]);return o};V||(s((D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function t(n){this===U&&t.call(H,n),i(this,L)&&i(this[L],e)&&(this[L][e]=!1),q(this,e,E(1,n))};return o&&W&&q(U,e,{configurable:!0,set:t}),Y(e)}).prototype,"toString",(function(){return this._k})),k.f=Q,C.f=$,n(129).f=S.f=J,n(57).f=Z,O.f=ee,o&&!n(63)&&s(U,"propertyIsEnumerable",Z,!0),p.f=function(e){return Y(h(e))}),a(a.G+a.W+a.F*!V,{Symbol:D});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)h(te[ne++]);for(var re=A(h.store),ie=0;re.length>ie;)m(re[ie++]);a(a.S+a.F*!V,"Symbol",{for:function(e){return i(B,e+="")?B[e]:B[e]=D(e)},keyFor:function(e){if(!X(e))throw TypeError(e+" is not a symbol!");for(var t in B)if(B[t]===e)return t},useSetter:function(){W=!0},useSimple:function(){W=!1}}),a(a.S+a.F*!V,"Object",{create:function(e,t){return void 0===t?T(e):K(T(e),t)},defineProperty:$,defineProperties:K,getOwnPropertyDescriptor:Q,getOwnPropertyNames:J,getOwnPropertySymbols:ee});var oe=u((function(){O.f(1)}));a(a.S+a.F*oe,"Object",{getOwnPropertySymbols:function(e){return O.f(_(e))}}),N&&a(a.S+a.F*(!V||u((function(){var e=D();return"[null]"!=R([e])||"{}"!=R({a:e})||"{}"!=R(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(b(t)||void 0!==e)&&!X(e))return g(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!X(t))return t}),r[1]=t,R.apply(N,r)}}),D.prototype[j]||n(40)(D.prototype,j,D.prototype.valueOf),f(D,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e,t,n){var r=n(64)("meta"),i=n(42),o=n(34),a=n(33).f,s=0,l=Object.isExtensible||function(){return!0},u=!n(54)((function(){return l(Object.preventExtensions({}))})),c=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},f=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!l(e))return"F";if(!t)return"E";c(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!l(e))return!0;if(!t)return!1;c(e)}return e[r].w},onFreeze:function(e){return u&&f.NEED&&l(e)&&!o(e,r)&&c(e),e}}},function(e,t,n){var r=n(56),i=n(89),o=n(57);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),l=o.f,u=0;s.length>u;)l.call(e,a=s[u++])&&t.push(a);return t}},function(e,t,n){var r=n(83);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(35),i=n(129).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(t){return a.slice()}}(e):i(r(e))}},function(e,t){},function(e,t,n){n(93)("asyncIterator")},function(e,t,n){n(93)("observable")},function(e,t,n){e.exports={default:n(204),__esModule:!0}},function(e,t,n){n(205),e.exports=n(19).Object.setPrototypeOf},function(e,t,n){var r=n(27);r(r.S,"Object",{setPrototypeOf:n(206).set})},function(e,t,n){var r=n(42),i=n(41),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(81)(Function.call,n(130).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(i){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e,t,n){e.exports={default:n(208),__esModule:!0}},function(e,t,n){n(209);var r=n(19).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){var r=n(27);r(r.S,"Object",{create:n(90)})},function(e,t,n){"use strict";var r=n(211);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e,t){return function n(s,f){var d,h,p,m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],v=s.displayName||s.name||"Component",g=a.getType(s).propTypes,y=a.isReactComponent(s),b=Object.keys(f),_=["valueLink","checkedLink"].concat(b.map(a.defaultKey));p=a.uncontrolledPropTypes(f,g,v),(0,o.default)(y||!m.length,"[uncontrollable] stateless function components cannot pass through methods because they have no associated instances. Check component: "+v+", attempting to pass through methods: "+m.join(", ")),m=a.transform(m,(function(e,t){e[t]=function(){var e;return(e=this.refs.inner)[t].apply(e,arguments)}}),{});var x=(h=d=function(t){function n(){return l(this,n),u(this,t.apply(this,arguments))}return c(n,t),n.prototype.shouldComponentUpdate=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return!e.shouldComponentUpdate||e.shouldComponentUpdate.apply(this,n)},n.prototype.componentWillMount=function(){var e=this,t=this.props;this._values={},b.forEach((function(n){e._values[n]=t[a.defaultKey(n)]}))},n.prototype.componentWillReceiveProps=function(t){var n=this,r=this.props;e.componentWillReceiveProps&&e.componentWillReceiveProps.call(this,t),b.forEach((function(e){void 0===a.getValue(t,e)&&void 0!==a.getValue(r,e)&&(n._values[e]=t[a.defaultKey(e)])}))},n.prototype.componentWillUnmount=function(){this.unmounted=!0},n.prototype.getControlledInstance=function(){return this.refs.inner},n.prototype.render=function(){var e=this,t={},n=T(this.props);return a.each(f,(function(n,r){var i=a.getLinkName(r),o=e.props[r];i&&!E(e.props,r)&&E(e.props,i)&&(o=e.props[i].value),t[r]=void 0!==o?o:e._values[r],t[n]=w.bind(e,r)})),t=r({},n,t,{ref:y?"inner":null}),i.default.createElement(s,t)},n}(i.default.Component),d.displayName="Uncontrolled("+v+")",d.propTypes=p,h);return r(x.prototype,m),x.ControlledComponent=s,x.deferControlTo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments[2];return n(e,r({},f,t),i)},x;function w(e,n){var r=a.getLinkName(e),i=this.props[f[e]];r&&E(this.props,r)&&!i&&(i=this.props[r].requestChange);for(var o=arguments.length,s=Array(o>2?o-2:0),l=2;l<o;l++)s[l-2]=arguments[l];t(this,e,i,n,s)}function E(e,t){return void 0!==e[t]}function T(e){var t={};return a.each(e,(function(e,n){-1===_.indexOf(n)&&(t[n]=e)})),t}}};var i=s(n(2)),o=s(n(47)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(213));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.version=void 0,t.uncontrolledPropTypes=function(e,t,n){0;return{}},t.getType=function(e){return o[0]>=15||0===o[0]&&o[1]>=13?e:e.type},t.getValue=function(e,t){var n=s(t);return n&&!a(e,t)&&a(e,n)?e[n].value:e[t]},t.getLinkName=s,t.defaultKey=l,t.chain=function(e,t,n){return function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];t&&t.call.apply(t,[e].concat(i)),n&&n.call.apply(n,[e].concat(i))}},t.transform=function(e,t,n){return u(e,t.bind(null,n=n||(Array.isArray(e)?[]:{}))),n},t.each=u,t.has=c,t.isReactComponent=function(e){return!!(e&&e.prototype&&e.prototype.isReactComponent)};var r=i(n(2));i(n(47));function i(e){return e&&e.__esModule?e:{default:e}}var o=t.version=r.default.version.split(".").map(parseFloat);function a(e,t){return void 0!==e[t]}function s(e){return"value"===e?"valueLink":"checked"===e?"checkedLink":null}function l(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function u(e,t,n){if(Array.isArray(e))return e.forEach(t,n);for(var r in e)c(e,r)&&t.call(n,e[r],r,e)}function c(e,t){return!!e&&Object.prototype.hasOwnProperty.call(e,t)}},function(e,t,n){n(215),e.exports=n(19).Object.entries},function(e,t,n){var r=n(27),i=n(131)(!0);r(r.S,"Object",{entries:function(e){return i(e)}})},function(e,t,n){n(217),e.exports=n(19).Object.values},function(e,t,n){var r=n(27),i=n(131)(!1);r(r.S,"Object",{values:function(e){return i(e)}})},function(e,t,n){"use strict";e.exports=n(219)},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,_=r?Symbol.for("react.responder"):60118,x=r?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case d:case a:case l:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case v:case u:return e;default:return t}}case o:return t}}}function E(e){return w(e)===d}t.AsyncMode=f,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=u,t.Element=i,t.ForwardRef=h,t.Fragment=a,t.Lazy=g,t.Memo=v,t.Portal=o,t.Profiler=l,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return E(e)||w(e)===f},t.isConcurrentMode=E,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===o},t.isProfiler=function(e){return w(e)===l},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===d||e===l||e===s||e===p||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===b||e.$$typeof===_||e.$$typeof===x||e.$$typeof===y)},t.typeOf=w},function(e,t,n){"use strict";var r=n(13);t.__esModule=!0,t.default=void 0;var i=r(n(94)),o=r(n(37));function a(e,t,n){var r,o={target:e,currentTarget:e};function a(e){e.target===e.currentTarget&&(clearTimeout(r),e.target.removeEventListener(i.default.end,a),t.call(this))}i.default.end?null==n&&(n=l(e)||0):n=0,i.default.end?(e.addEventListener(i.default.end,a,!1),r=setTimeout((function(){return a(o)}),1.5*(n||100))):setTimeout(a.bind(null,o),0)}a._parseDuration=l;var s=a;function l(e){var t=(0,o.default)(e,i.default.duration),n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}t.default=s,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return e.replace(r,(function(e,t){return t.toUpperCase()}))};var r=/-(.)/g;e.exports=t.default},function(e,t,n){"use strict";var r=n(13);t.__esModule=!0,t.default=function(e){return(0,i.default)(e).replace(o,"-ms-")};var i=r(n(223)),o=/^ms-/;e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return e.replace(r,"-$1").toLowerCase()};var r=/([A-Z])/g;e.exports=t.default},function(e,t,n){"use strict";var r=n(13);t.__esModule=!0,t.default=function(e){if(!e)throw new TypeError("No Element passed to `getComputedStyle()`");var t=e.ownerDocument;return"defaultView"in t?t.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):window.getComputedStyle(e,null):{getPropertyValue:function(t){var n=e.style;"float"==(t=(0,i.default)(t))&&(t="styleFloat");var r=e.currentStyle[t]||null;if(null==r&&n&&n[t]&&(r=n[t]),a.test(r)&&!o.test(t)){var s=n.left,l=e.runtimeStyle,u=l&&l.left;u&&(l.left=e.currentStyle.left),n.left="fontSize"===t?"1em":r,r=n.pixelLeft+"px",n.left=s,u&&(l.left=u)}return r}}};var i=r(n(132)),o=/^(top|right|bottom|left)$/,a=/^([+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/i;e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return"removeProperty"in e.style?e.style.removeProperty(t):e.style.removeAttribute(t)},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return!(!e||!r.test(e))};var r=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;e.exports=t.default},function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function i(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function o(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,s=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?s="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var l=e.displayName||e.name,u="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+u+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=i),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var c=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;c.call(this,e,t,r)}}return e}n.r(t),n.d(t,"polyfill",(function(){return a})),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var r;(r=n(1))&&r.__esModule;t.timeoutsShape=null;t.classNamesShape=null},function(e,t,n){n(126),n(230),e.exports=n(19).Array.from},function(e,t,n){"use strict";var r=n(81),i=n(27),o=n(65),a=n(231),s=n(232),l=n(125),u=n(233),c=n(234);i(i.S+i.F*!n(236)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,i,f,d=o(e),h="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,v=void 0!==m,g=0,y=c(d);if(v&&(m=r(m,p>2?arguments[2]:void 0,2)),void 0==y||h==Array&&s(y))for(n=new h(t=l(d.length));t>g;g++)u(n,g,v?m(d[g],g):d[g]);else for(f=y.call(d),n=new h;!(i=f.next()).done;g++)u(n,g,v?a(f,m,[i.value,g],!0):i.value);return n.length=g,n}})},function(e,t,n){var r=n(41);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(a){var o=e.return;throw void 0!==o&&r(o.call(e)),a}}},function(e,t,n){var r=n(58),i=n(22)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){"use strict";var r=n(33),i=n(55);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){var r=n(235),i=n(22)("iterator"),o=n(58);e.exports=n(19).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var r=n(83),i=n(22)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){var r=n(22)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(a){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],s=o[r]();s.next=function(){return{done:n=!0}},o[r]=function(){return s},e(o)}catch(a){}return n}},function(e,t,n){"use strict";var r=n(13);t.__esModule=!0,t.default=function(e,t){return function(n){var r=n.currentTarget,a=n.target;(0,o.default)(r,e).some((function(e){return(0,i.default)(e,a)}))&&t.call(this,n)}};var i=r(n(30)),o=r(n(238));e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n,o="#"===t[0],a="."===t[0],s=o||a?t.slice(1):t;if(r.test(s))return o?(e=e.getElementById?e:document,(n=e.getElementById(s))?[n]:[]):e.getElementsByClassName&&a?i(e.getElementsByClassName(s)):i(e.getElementsByTagName(t));return i(e.querySelectorAll(t))};var r=/^[\w-]*$/,i=Function.prototype.bind.call(Function.prototype.call,[].slice);e.exports=t.default},function(e,t,n){"use strict";var r=n(13);t.__esModule=!0,t.default=void 0;var i=r(n(25)),o=r(n(95)),a=r(n(96)),s=function(){};i.default&&(s=function(e,t,n,r){return(0,o.default)(e,t,n,r),function(){(0,a.default)(e,t,n,r)}});var l=s;t.default=l,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r,i=n(241),o=(r=i)&&r.__esModule?r:{default:r};var a={};function s(e,t){return function(n,r,i,s,l){var u=i||"<<anonymous>>",c=l||r;if(null!=n[r]){var f=i+"."+r;(0,o.default)(a[f],"The "+s+" `"+c+"` of `"+u+"` is deprecated. "+t+"."),a[f]=!0}for(var d=arguments.length,h=Array(d>5?d-5:0),p=5;p<d;p++)h[p-5]=arguments[p];return e.apply(void 0,[n,r,i,s,l].concat(h))}}s._resetWarned=function(){a={}},e.exports=t.default},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";t.__esModule=!0;var r=l(n(243)),i=l(n(37)),o=l(n(76)),a=l(n(109)),s=n(246);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){return function(e,t){var n=-1;return e.some((function(e,r){if(t(e,r))return n=r,!0})),n}(e,(function(e){return-1!==e.modals.indexOf(t)}))}function f(e,t){var n={overflow:"hidden"};e.style={overflow:t.style.overflow,paddingRight:t.style.paddingRight},e.overflowing&&(n.paddingRight=parseInt((0,i.default)(t,"paddingRight")||0,10)+(0,o.default)()+"px"),(0,i.default)(t,n)}function d(e,t){var n=e.style;Object.keys(n).forEach((function(e){return t.style[e]=n[e]}))}t.default=function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.hideSiblingNodes,o=void 0===i||i,l=n.handleContainerOverflow,h=void 0===l||l;u(this,e),this.add=function(e,n,i){var o=t.modals.indexOf(e),l=t.containers.indexOf(n);if(-1!==o)return o;if(o=t.modals.length,t.modals.push(e),t.hideSiblingNodes&&(0,s.hideSiblings)(n,e.mountNode),-1!==l)return t.data[l].modals.push(e),o;var u={modals:[e],classes:i?i.split(/\s+/):[],overflowing:(0,a.default)(n)};return t.handleContainerOverflow&&f(u,n),u.classes.forEach(r.default.addClass.bind(null,n)),t.containers.push(n),t.data.push(u),o},this.remove=function(e){var n=t.modals.indexOf(e);if(-1!==n){var i=c(t.data,e),o=t.data[i],a=t.containers[i];o.modals.splice(o.modals.indexOf(e),1),t.modals.splice(n,1),0===o.modals.length?(o.classes.forEach(r.default.removeClass.bind(null,a)),t.handleContainerOverflow&&d(o,a),t.hideSiblingNodes&&(0,s.showSiblings)(a,e.mountNode),t.containers.splice(i,1),t.data.splice(i,1)):t.hideSiblingNodes&&(0,s.ariaHidden)(!1,o.modals[o.modals.length-1].mountNode)}},this.isTopModal=function(e){return!!t.modals.length&&t.modals[t.modals.length-1]===e},this.hideSiblingNodes=o,this.handleContainerOverflow=h,this.modals=[],this.containers=[],this.data=[]},e.exports=t.default},function(e,t,n){"use strict";var r=n(13);t.__esModule=!0,t.default=void 0;var i=r(n(244));t.addClass=i.default;var o=r(n(245));t.removeClass=o.default;var a=r(n(134));t.hasClass=a.default;var s={addClass:i.default,removeClass:o.default,hasClass:a.default};t.default=s},function(e,t,n){"use strict";var r=n(13);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,i.default)(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var i=r(n(134));e.exports=t.default},function(e,t,n){"use strict";function r(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=r(e.className,t):e.setAttribute("class",r(e.className&&e.className.baseVal||"",t))}},function(e,t,n){"use strict";t.__esModule=!0,t.ariaHidden=o,t.hideSiblings=function(e,t){i(e,t,(function(e){return o(!0,e)}))},t.showSiblings=function(e,t){i(e,t,(function(e){return o(!1,e)}))};var r=["template","script","style"],i=function(e,t,n){t=[].concat(t),[].forEach.call(e.children,(function(e){-1===t.indexOf(e)&&function(e){var t=e.nodeType,n=e.tagName;return 1===t&&-1===r.indexOf(n.toLowerCase())}(e)&&n(e)}))};function o(e,t){t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))}},function(e,t,n){"use strict";t.__esModule=!0;var r=u(n(1)),i=u(n(66)),o=u(n(2)),a=u(n(12)),s=u(n(68)),l=u(n(43));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var d=function(e){function t(){var n,r;c(this,t);for(var i=arguments.length,u=Array(i),d=0;d<i;d++)u[d]=arguments[d];return n=r=f(this,e.call.apply(e,[this].concat(u))),r._mountOverlayTarget=function(){r._overlayTarget||(r._overlayTarget=document.createElement("div"),r._portalContainerNode=(0,s.default)(r.props.container,(0,l.default)(r).body),r._portalContainerNode.appendChild(r._overlayTarget))},r._unmountOverlayTarget=function(){r._overlayTarget&&(r._portalContainerNode.removeChild(r._overlayTarget),r._overlayTarget=null),r._portalContainerNode=null},r._renderOverlay=function(){var e=r.props.children?o.default.Children.only(r.props.children):null;if(null!==e){r._mountOverlayTarget();var t=!r._overlayInstance;r._overlayInstance=a.default.unstable_renderSubtreeIntoContainer(r,e,r._overlayTarget,(function(){t&&r.props.onRendered&&r.props.onRendered()}))}else r._unrenderOverlay(),r._unmountOverlayTarget()},r._unrenderOverlay=function(){r._overlayTarget&&(a.default.unmountComponentAtNode(r._overlayTarget),r._overlayInstance=null)},r.getMountNode=function(){return r._overlayTarget},f(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this._isMounted=!0,this._renderOverlay()},t.prototype.componentDidUpdate=function(){this._renderOverlay()},t.prototype.componentWillReceiveProps=function(e){this._overlayTarget&&e.container!==this.props.container&&(this._portalContainerNode.removeChild(this._overlayTarget),this._portalContainerNode=(0,s.default)(e.container,(0,l.default)(this).body),this._portalContainerNode.appendChild(this._overlayTarget))},t.prototype.componentWillUnmount=function(){this._isMounted=!1,this._unrenderOverlay(),this._unmountOverlayTarget()},t.prototype.render=function(){return null},t}(o.default.Component);d.displayName="Portal",d.propTypes={container:r.default.oneOfType([i.default,r.default.func]),onRendered:r.default.func},t.default=d,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=o(n(1)),i=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var l={children:r.default.node},u=function(e){function t(){return a(this,t),s(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return this.props.children},t}(i.default.Component);u.propTypes=l,t.default=u,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=!document.addEventListener,n=void 0;t?(document.attachEvent("onfocusin",e),n=function(){return document.detachEvent("onfocusin",e)}):(document.addEventListener("focus",e,!0),n=function(){return document.removeEventListener("focus",e,!0)});return{remove:n}},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=h(n(8)),o=h(n(1)),a=h(n(66)),s=n(2),l=h(s),u=h(n(12)),c=h(n(251)),f=h(n(68)),d=h(n(43));function h(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var m=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n,r));return i.getTarget=function(){var e=i.props.target,t="function"===typeof e?e():e;return t&&u.default.findDOMNode(t)||null},i.maybeUpdatePosition=function(e){var t=i.getTarget();(i.props.shouldUpdatePosition||t!==i._lastTarget||e)&&i.updatePosition(t)},i.state={positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null},i._needsFlush=!1,i._lastTarget=null,i}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.updatePosition(this.getTarget())},t.prototype.componentWillReceiveProps=function(){this._needsFlush=!0},t.prototype.componentDidUpdate=function(e){this._needsFlush&&(this._needsFlush=!1,this.maybeUpdatePosition(this.props.placement!==e.placement))},t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,o=p(e,["children","className"]),a=this.state,u=a.positionLeft,c=a.positionTop,f=p(a,["positionLeft","positionTop"]);delete o.target,delete o.container,delete o.containerPadding,delete o.shouldUpdatePosition;var d=l.default.Children.only(t);return(0,s.cloneElement)(d,r({},o,f,{positionLeft:u,positionTop:c,className:(0,i.default)(n,d.props.className),style:r({},d.props.style,{left:u,top:c})}))},t.prototype.updatePosition=function(e){if(this._lastTarget=e,e){var t=u.default.findDOMNode(this),n=(0,f.default)(this.props.container,(0,d.default)(this).body);this.setState((0,c.default)(this.props.placement,t,e,n,this.props.containerPadding))}else this.setState({positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null})},t}(l.default.Component);m.propTypes={target:o.default.oneOfType([a.default,o.default.func]),container:o.default.oneOfType([a.default,o.default.func]),containerPadding:o.default.number,placement:o.default.oneOf(["top","right","bottom","left"]),shouldUpdatePosition:o.default.bool},m.displayName="Position",m.defaultProps={containerPadding:0,placement:"right",shouldUpdatePosition:!1},t.default=m,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n,o,a){var s="BODY"===o.tagName?(0,r.default)(n):(0,i.default)(n,o),u=(0,r.default)(t),c=u.height,f=u.width,d=void 0,h=void 0,p=void 0,m=void 0;if("left"===e||"right"===e){h=s.top+(s.height-c)/2,d="left"===e?s.left-f:s.left+s.width;var v=function(e,t,n,r){var i=l(n),o=i.scroll,a=i.height,s=e-r-o,u=e+r-o+t;return s<0?-s:u>a?a-u:0}(h,c,o,a);h+=v,m=50*(1-2*v/c)+"%",p=void 0}else{if("top"!==e&&"bottom"!==e)throw new Error('calcOverlayPosition(): No such placement of "'+e+'" found.');d=s.left+(s.width-f)/2,h="top"===e?s.top-c:s.top+s.height;var g=function(e,t,n,r){var i=l(n).width,o=e-r,a=e+r+t;if(o<0)return-o;if(a>i)return i-a;return 0}(d,f,o,a);d+=g,p=50*(1-2*g/f)+"%",m=void 0}return{positionLeft:d,positionTop:h,arrowOffsetLeft:p,arrowOffsetTop:m}};var r=s(n(136)),i=s(n(252)),o=s(n(137)),a=s(n(43));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=void 0,n=void 0,i=void 0;if("BODY"===e.tagName)t=window.innerWidth,n=window.innerHeight,i=(0,o.default)((0,a.default)(e).documentElement)||(0,o.default)(e);else{var s=(0,r.default)(e);t=s.width,n=s.height,i=(0,o.default)(e)}return{width:t,height:n,scroll:i}}e.exports=t.default},function(e,t,n){"use strict";var r=n(13);t.__esModule=!0,t.default=function(e,t){var n,r={top:0,left:0};"fixed"===(0,u.default)(e,"position")?n=e.getBoundingClientRect():(t=t||(0,a.default)(e),n=(0,o.default)(e),"html"!==function(e){return e.nodeName&&e.nodeName.toLowerCase()}(t)&&(r=(0,o.default)(t)),r.top+=parseInt((0,u.default)(t,"borderTopWidth"),10)-(0,s.default)(t)||0,r.left+=parseInt((0,u.default)(t,"borderLeftWidth"),10)-(0,l.default)(t)||0);return(0,i.default)({},n,{top:n.top-r.top-(parseInt((0,u.default)(e,"marginTop"),10)||0),left:n.left-r.left-(parseInt((0,u.default)(e,"marginLeft"),10)||0)})};var i=r(n(253)),o=r(n(136)),a=r(n(254)),s=r(n(137)),l=r(n(255)),u=r(n(37));e.exports=t.default},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){"use strict";var r=n(13);t.__esModule=!0,t.default=function(e){var t=(0,i.default)(e),n=e&&e.offsetParent;for(;n&&"html"!==a(e)&&"static"===(0,o.default)(n,"position");)n=n.offsetParent;return n||t.documentElement};var i=r(n(36)),o=r(n(37));function a(e){return e.nodeName&&e.nodeName.toLowerCase()}e.exports=t.default},function(e,t,n){"use strict";var r=n(13);t.__esModule=!0,t.default=function(e,t){var n=(0,i.default)(e);if(void 0===t)return n?"pageXOffset"in n?n.pageXOffset:n.document.documentElement.scrollLeft:e.scrollLeft;n?n.scrollTo(t,"pageYOffset"in n?n.pageYOffset:n.document.documentElement.scrollTop):e.scrollLeft=t};var i=r(n(67));e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){function t(t,n,r,i,o,a){var s=i||"<<anonymous>>",l=a||r;if(null==n[r])return t?new Error("Required "+o+" `"+l+"` was not specified in `"+s+"`."):null;for(var u=arguments.length,c=Array(u>6?u-6:0),f=6;f<u;f++)c[f-6]=arguments[f];return e.apply(void 0,[n,r,s,o,l].concat(c))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(e,t,n,r){var i=t&&t.prototype instanceof c?t:c,o=Object.create(i.prototype),a=new w(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return T()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,a),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=s;var u={};function c(){}function f(){}function d(){}var h={};h[i]=function(){return this};var p=Object.getPrototypeOf,m=p&&p(p(E([])));m&&m!==t&&n.call(m,i)&&(h=m);var v=d.prototype=c.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function y(e,t){var r;this._invoke=function(i,o){function a(){return new t((function(r,a){!function r(i,o,a,s){var u=l(e[i],e,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}(i,o,r,a)}))}return r=r?r.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return f.prototype=v.constructor=d,d.constructor=f,d[a]=f.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(y.prototype),y.prototype[o]=function(){return this},e.AsyncIterator=y,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new y(s(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(v),v[a]="Generator",v[i]=function(){return this},v.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=E,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}(e.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){var r=n(45);e.exports=function(e,t){var n=r(e,t);return n?n.version:null}},function(e,t,n){var r=n(45);e.exports=function(e,t){var n=r(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}},function(e,t,n){var r=n(14);e.exports=function(e,t,n,i){"string"===typeof n&&(i=n,n=void 0);try{return new r(e,n).inc(t,i).version}catch(o){return null}}},function(e,t,n){var r=n(45),i=n(100);e.exports=function(e,t){if(i(e,t))return null;var n=r(e),o=r(t),a=n.prerelease.length||o.prerelease.length,s=a?"pre":"",l=a?"prerelease":"";for(var u in n)if(("major"===u||"minor"===u||"patch"===u)&&n[u]!==o[u])return s+u;return l}},function(e,t,n){var r=n(14);e.exports=function(e,t){return new r(e,t).major}},function(e,t,n){var r=n(14);e.exports=function(e,t){return new r(e,t).minor}},function(e,t,n){var r=n(14);e.exports=function(e,t){return new r(e,t).patch}},function(e,t,n){var r=n(45);e.exports=function(e,t){var n=r(e,t);return n&&n.prerelease.length?n.prerelease:null}},function(e,t,n){var r=n(20);e.exports=function(e,t,n){return r(t,e,n)}},function(e,t,n){var r=n(20);e.exports=function(e,t){return r(e,t,!0)}},function(e,t,n){var r=n(101);e.exports=function(e,t){return e.sort((function(e,n){return r(e,n,t)}))}},function(e,t,n){var r=n(101);e.exports=function(e,t){return e.sort((function(e,n){return r(n,e,t)}))}},function(e,t,n){var r=n(14),i=n(45),o=n(44),a=o.re,s=o.t;e.exports=function(e,t){if(e instanceof r)return e;if("number"===typeof e&&(e=String(e)),"string"!==typeof e)return null;var n=null;if((t=t||{}).rtl){for(var o;(o=a[s.COERCERTL].exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&o.index+o[0].length===n.index+n[0].length||(n=o),a[s.COERCERTL].lastIndex=o.index+o[1].length+o[2].length;a[s.COERCERTL].lastIndex=-1}else n=e.match(a[s.COERCE]);return null===n?null:i("".concat(n[2],".").concat(n[3]||"0",".").concat(n[4]||"0"),t)}},function(e,t,n){var r=n(21);e.exports=function(e,t){return new r(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))}},function(e,t,n){var r=n(14),i=n(21);e.exports=function(e,t,n){var o=null,a=null,s=null;try{s=new i(t,n)}catch(l){return null}return e.forEach((function(e){s.test(e)&&(o&&-1!==a.compare(e)||(a=new r(o=e,n)))})),o}},function(e,t,n){var r=n(14),i=n(21);e.exports=function(e,t,n){var o=null,a=null,s=null;try{s=new i(t,n)}catch(l){return null}return e.forEach((function(e){s.test(e)&&(o&&1!==a.compare(e)||(a=new r(o=e,n)))})),o}},function(e,t,n){var r=n(14),i=n(21),o=n(71);e.exports=function(e,t){e=new i(e,t);var n=new r("0.0.0");if(e.test(n))return n;if(n=new r("0.0.0-0"),e.test(n))return n;n=null;for(var a=0;a<e.set.length;++a){e.set[a].forEach((function(e){var t=new r(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":n&&!o(n,t)||(n=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: ".concat(e.operator))}}))}return n&&e.test(n)?n:null}},function(e,t,n){var r=n(21);e.exports=function(e,t){try{return new r(e,t).range||"*"}catch(n){return null}}},function(e,t,n){var r=n(105);e.exports=function(e,t,n){return r(e,t,">",n)}},function(e,t,n){var r=n(105);e.exports=function(e,t,n){return r(e,t,"<",n)}},function(e,t,n){var r=n(21);e.exports=function(e,t,n){return e=new r(e,n),t=new r(t,n),e.intersects(t)}},function(e,t,n){var r=n(280),i=n(80),o=n(73),a=n(20);e.exports=function(e,t,n){var s,l=[],u=null,c=null,f=e.sort((function(e,t){return a(e,t,n)})),d=i(f);try{for(d.s();!(s=d.n()).done;){var h=s.value;o(h,t,n)?(c=h,u||(u=h)):(c&&l.push([u,c]),c=null,u=null)}}catch(w){d.e(w)}finally{d.f()}u&&l.push([u,null]);for(var p=[],m=0,v=l;m<v.length;m++){var g=r(v[m],2),y=g[0],b=g[1];y===b?p.push(y):b||y!==f[0]?b?y===f[0]?p.push("<=".concat(b)):p.push("".concat(y," - ").concat(b)):p.push(">=".concat(y)):p.push("*")}var _=p.join(" || "),x="string"===typeof t.raw?t.raw:String(t);return _.length<x.length?_:t}},function(e,t,n){var r=n(281),i=n(282),o=n(116),a=n(283);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){var r=n(80),i=n(21),o=n(72).ANY,a=n(73),s=n(20),l=function(e,t,n){if(1===e.length&&e[0].semver===o)return 1===t.length&&t[0].semver===o;var i,l,f,d,h=new Set,p=r(e);try{for(p.s();!(f=p.n()).done;){var m=f.value;">"===m.operator||">="===m.operator?i=u(i,m,n):"<"===m.operator||"<="===m.operator?l=c(l,m,n):h.add(m.semver)}}catch(O){p.e(O)}finally{p.f()}if(h.size>1)return null;if(i&&l){if((d=s(i.semver,l.semver,n))>0)return null;if(0===d&&(">="!==i.operator||"<="!==l.operator))return null}var v,g,y,b=r(h);try{for(b.s();!(v=b.n()).done;){var _=v.value;if(i&&!a(_,String(i),n))return null;if(l&&!a(_,String(l),n))return null;var x,w=r(t);try{for(w.s();!(x=w.n()).done;){var E=x.value;if(!a(_,String(E),n))return!1}}catch(O){w.e(O)}finally{w.f()}return!0}}catch(O){b.e(O)}finally{b.f()}var T,S=r(t);try{for(S.s();!(T=S.n()).done;){var k=T.value;if(y=y||">"===k.operator||">="===k.operator,g=g||"<"===k.operator||"<="===k.operator,i)if(">"===k.operator||">="===k.operator){if(u(i,k,n)===k)return!1}else if(">="===i.operator&&!a(i.semver,String(k),n))return!1;if(l)if("<"===k.operator||"<="===k.operator){if(c(l,k,n)===k)return!1}else if("<="===l.operator&&!a(l.semver,String(k),n))return!1;if(!k.operator&&(l||i)&&0!==d)return!1}}catch(O){S.e(O)}finally{S.f()}return!(i&&g&&!l&&0!==d)&&!(l&&y&&!i&&0!==d)},u=function(e,t,n){if(!e)return t;var r=s(e.semver,t.semver,n);return r>0?e:r<0||">"===t.operator&&">="===e.operator?t:e},c=function(e,t,n){if(!e)return t;var r=s(e.semver,t.semver,n);return r<0?e:r>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=function(e,t,n){e=new i(e,n),t=new i(t,n);var o,a=!1,s=r(e.set);try{e:for(s.s();!(o=s.n()).done;){var u,c=o.value,f=r(t.set);try{for(f.s();!(u=f.n()).done;){var d=u.value,h=l(c,d,n);if(a=a||null!==h,h)continue e}}catch(p){f.e(p)}finally{f.f()}if(a)return!1}}catch(p){s.e(p)}finally{s.f()}return!0}},function(e,t,n){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=u(e),a=r[0],s=r[1],l=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),c=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,l[c++]=255&t);1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t);return l},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(c(e,a,a+16383>s?s:a+16383));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,f=n?i-1:0,d=n?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-c)-1,h>>=-c,c+=s;c>0;o=256*o+e[t+f],f+=d,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+f],f+=d,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=u}return(h?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,f=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+f>=1?d/l:d*Math.pow(2,1-f))*l>=2&&(a++,l/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(t*l-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+h]=255&a,h+=p,a/=256,u-=8);e[n+h-p]|=128*m}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";n.r(t),n.d(t,"Accordion",(function(){return ie})),n.d(t,"Alert",(function(){return de})),n.d(t,"Badge",(function(){return me})),n.d(t,"Breadcrumb",(function(){return Oe})),n.d(t,"BreadcrumbItem",(function(){return Se})),n.d(t,"Button",(function(){return Me})),n.d(t,"ButtonGroup",(function(){return Re})),n.d(t,"ButtonToolbar",(function(){return je})),n.d(t,"Carousel",(function(){return et})),n.d(t,"CarouselItem",(function(){return Ye})),n.d(t,"Checkbox",(function(){return rt})),n.d(t,"Clearfix",(function(){return st})),n.d(t,"CloseButton",(function(){return ue})),n.d(t,"ControlLabel",(function(){return ft})),n.d(t,"Col",(function(){return mt})),n.d(t,"Collapse",(function(){return kt})),n.d(t,"Dropdown",(function(){return Zt})),n.d(t,"DropdownButton",(function(){return nn})),n.d(t,"Fade",(function(){return sn})),n.d(t,"Form",(function(){return cn})),n.d(t,"FormControl",(function(){return _n})),n.d(t,"FormGroup",(function(){return Tn})),n.d(t,"Glyphicon",(function(){return Ke})),n.d(t,"Grid",(function(){return On})),n.d(t,"HelpBlock",(function(){return An})),n.d(t,"Image",(function(){return In})),n.d(t,"InputGroup",(function(){return Fn})),n.d(t,"Jumbotron",(function(){return Hn})),n.d(t,"Label",(function(){return Vn})),n.d(t,"ListGroup",(function(){return $n})),n.d(t,"ListGroupItem",(function(){return qn})),n.d(t,"Media",(function(){return pr})),n.d(t,"MenuItem",(function(){return gr})),n.d(t,"Modal",(function(){return Qr})),n.d(t,"ModalBody",(function(){return Ir})),n.d(t,"ModalFooter",(function(){return Fr})),n.d(t,"ModalHeader",(function(){return Ur})),n.d(t,"ModalTitle",(function(){return Wr})),n.d(t,"Nav",(function(){return ni})),n.d(t,"Navbar",(function(){return xi})),n.d(t,"NavbarBrand",(function(){return oi})),n.d(t,"NavDropdown",(function(){return Ti})),n.d(t,"NavItem",(function(){return Oi})),n.d(t,"Overlay",(function(){return Di})),n.d(t,"OverlayTrigger",(function(){return Fi})),n.d(t,"PageHeader",(function(){return zi})),n.d(t,"PageItem",(function(){return Xi})),n.d(t,"Pager",(function(){return Zi})),n.d(t,"Pagination",(function(){return so})),n.d(t,"Panel",(function(){return Go})),n.d(t,"PanelGroup",(function(){return re})),n.d(t,"Popover",(function(){return Yo})),n.d(t,"ProgressBar",(function(){return Zo})),n.d(t,"Radio",(function(){return ea})),n.d(t,"ResponsiveEmbed",(function(){return ra})),n.d(t,"Row",(function(){return aa})),n.d(t,"SafeAnchor",(function(){return we})),n.d(t,"SplitButton",(function(){return fa})),n.d(t,"Tab",(function(){return Aa})),n.d(t,"TabContainer",(function(){return va})),n.d(t,"TabContent",(function(){return xa})),n.d(t,"Table",(function(){return Ia})),n.d(t,"TabPane",(function(){return ka})),n.d(t,"Tabs",(function(){return La})),n.d(t,"Thumbnail",(function(){return Ba})),n.d(t,"ToggleButton",(function(){return Ua})),n.d(t,"ToggleButtonGroup",(function(){return qa})),n.d(t,"Tooltip",(function(){return $a})),n.d(t,"Well",(function(){return Za})),n.d(t,"utils",(function(){return i}));var r={};n.r(r),n.d(r,"prefix",(function(){return F})),n.d(r,"bsClass",(function(){return B})),n.d(r,"bsStyles",(function(){return z})),n.d(r,"bsSizes",(function(){return H})),n.d(r,"getClassSet",(function(){return U})),n.d(r,"splitBsProps",(function(){return W})),n.d(r,"splitBsPropsAndOmit",(function(){return q})),n.d(r,"addStyle",(function(){return Y})),n.d(r,"_curry",(function(){return X}));var i={};n.r(i),n.d(i,"bootstrapUtils",(function(){return r})),n.d(i,"createChainedFunction",(function(){return ye})),n.d(i,"ValidComponentChildren",(function(){return $}));var o=n(3),a=n.n(o),s=n(5),l=n.n(s),u=n(4),c=n.n(u),f=n(6),d=n.n(f),h=n(2),p=n.n(h),m=n(7),v=n.n(m),g=n(8),y=n.n(g),b=n(1),_=n.n(b),x=n(15),w=n.n(x),E=n(59),T=n.n(E),S=n(47),k=n.n(S),O="large",C="small",A="xsmall",M={large:"lg",medium:"md",small:"sm",xsmall:"xs",lg:"lg",md:"md",sm:"sm",xs:"xs"},P=["lg","md","sm","xs"],I={SUCCESS:"success",WARNING:"warning",DANGER:"danger",INFO:"info"},D="default",N="primary",R="link",L="inverse";function j(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[n.length-1];return"function"===typeof i?e.apply(void 0,n):function(t){return e.apply(void 0,n.concat([t]))}}}function F(e,t){var n=(e.bsClass||"").trim();return null==n&&k()(!1),n+(t?"-"+t:"")}var B=j((function(e,t){var n=t.propTypes||(t.propTypes={}),r=t.defaultProps||(t.defaultProps={});return n.bsClass=_.a.string,r.bsClass=e,t})),z=j((function(e,t,n){"string"!==typeof t&&(n=t,t=void 0);var r=n.STYLES||[],i=n.propTypes||{};e.forEach((function(e){-1===r.indexOf(e)&&r.push(e)}));var o=_.a.oneOf(r);(n.STYLES=r,o._values=r,n.propTypes=a()({},i,{bsStyle:o}),void 0!==t)&&((n.defaultProps||(n.defaultProps={})).bsStyle=t);return n})),H=j((function(e,t,n){"string"!==typeof t&&(n=t,t=void 0);var r=n.SIZES||[],i=n.propTypes||{};e.forEach((function(e){-1===r.indexOf(e)&&r.push(e)}));var o=[];r.forEach((function(e){var t=M[e];t&&t!==e&&o.push(t),o.push(e)}));var s=_.a.oneOf(o);return s._values=o,n.SIZES=r,n.propTypes=a()({},i,{bsSize:s}),void 0!==t&&(n.defaultProps||(n.defaultProps={}),n.defaultProps.bsSize=t),n}));function U(e){var t,n=((t={})[F(e)]=!0,t);e.bsSize&&(n[F(e,M[e.bsSize]||e.bsSize)]=!0);return e.bsStyle&&(n[F(e,e.bsStyle)]=!0),n}function V(e){return{bsClass:e.bsClass,bsSize:e.bsSize,bsStyle:e.bsStyle,bsRole:e.bsRole}}function G(e){return"bsClass"===e||"bsSize"===e||"bsStyle"===e||"bsRole"===e}function W(e){var t={};return T()(e).forEach((function(e){var n=e[0],r=e[1];G(n)||(t[n]=r)})),[V(e),t]}function q(e,t){var n={};t.forEach((function(e){n[e]=!0}));var r={};return T()(e).forEach((function(e){var t=e[0],i=e[1];G(t)||n[t]||(r[t]=i)})),[V(e),r]}function Y(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];z(n,e)}var X=j;var $={map:function(e,t,n){var r=0;return p.a.Children.map(e,(function(e){return p.a.isValidElement(e)?t.call(n,e,r++):e}))},forEach:function(e,t,n){var r=0;p.a.Children.forEach(e,(function(e){p.a.isValidElement(e)&&t.call(n,e,r++)}))},count:function(e){var t=0;return p.a.Children.forEach(e,(function(e){p.a.isValidElement(e)&&++t})),t},find:function(e,t,n){var r=0,i=void 0;return p.a.Children.forEach(e,(function(e){i||p.a.isValidElement(e)&&t.call(n,e,r++)&&(i=e)})),i},filter:function(e,t,n){var r=0,i=[];return p.a.Children.forEach(e,(function(e){p.a.isValidElement(e)&&t.call(n,e,r++)&&i.push(e)})),i},every:function(e,t,n){var r=0,i=!0;return p.a.Children.forEach(e,(function(e){i&&p.a.isValidElement(e)&&(t.call(n,e,r++)||(i=!1))})),i},some:function(e,t,n){var r=0,i=!1;return p.a.Children.forEach(e,(function(e){i||p.a.isValidElement(e)&&t.call(n,e,r++)&&(i=!0)})),i},toArray:function(e){var t=[];return p.a.Children.forEach(e,(function(e){p.a.isValidElement(e)&&t.push(e)})),t}},K=n(48),Z=n.n(K),Q=_.a.oneOfType([_.a.string,_.a.number]);var J,ee={accordion:_.a.bool,activeKey:_.a.any,onSelect:_.a.func,role:_.a.string,generateChildId:_.a.func,id:(J="PanelGroup",function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=null;return e.generateChildId||(i=Q.apply(void 0,[e].concat(n)))||e.id||(i=new Error("In order to properly initialize the "+J+" in a way that is accessible to assistive technologies (such as screen readers) an `id` or a `generateChildId` prop to "+J+" is required")),i})},te={$bs_panelGroup:_.a.shape({getId:_.a.func,headerRole:_.a.string,panelRole:_.a.string,activeKey:_.a.any,onToggle:_.a.func})},ne=function(e){function t(){var n,r,i;l()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=c()(this,e.call.apply(e,[this].concat(a))),r.handleSelect=function(e,t,n){t?r.props.onSelect(e,n):r.props.activeKey===e&&r.props.onSelect(null,n)},i=n,c()(r,i)}return d()(t,e),t.prototype.getChildContext=function(){var e=this.props,t=e.activeKey,n=e.accordion,r=e.generateChildId,i=e.id,o=null;return n&&(o=r||function(e,t){return i?i+"-"+t+"-"+e:null}),{$bs_panelGroup:a()({getId:o,headerRole:"tab",panelRole:"tabpanel"},n&&{activeKey:t,onToggle:this.handleSelect})}},t.prototype.render=function(){var e=this.props,t=e.accordion,n=e.className,r=e.children,i=q(v()(e,["accordion","className","children"]),["onSelect","activeKey"]),o=i[0],s=i[1];t&&(s.role=s.role||"tablist");var l=U(o);return p.a.createElement("div",a()({},s,{className:y()(n,l)}),$.map(r,(function(e){return Object(h.cloneElement)(e,{bsStyle:e.props.bsStyle||o.bsStyle})})))},t}(p.a.Component);ne.propTypes=ee,ne.defaultProps={accordion:!1},ne.childContextTypes=te;var re=w()(B("panel-group",ne),{activeKey:"onSelect"}),ie=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){return p.a.createElement(re,a()({},this.props,{accordion:!0}),this.props.children)},t}(p.a.Component),oe=n(18),ae=n.n(oe),se={label:_.a.string.isRequired,onClick:_.a.func},le=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.label,n=e.onClick;return p.a.createElement("button",{type:"button",className:"close",onClick:n},p.a.createElement("span",{"aria-hidden":"true"},"\xd7"),p.a.createElement("span",{className:"sr-only"},t))},t}(p.a.Component);le.propTypes=se,le.defaultProps={label:"Close"};var ue=le,ce={onDismiss:_.a.func,closeLabel:_.a.string},fe=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e,t=this.props,n=t.onDismiss,r=t.closeLabel,i=t.className,o=t.children,s=W(v()(t,["onDismiss","closeLabel","className","children"])),l=s[0],u=s[1],c=!!n,f=a()({},U(l),((e={})[F(l,"dismissable")]=c,e));return p.a.createElement("div",a()({},u,{role:"alert",className:y()(i,f)}),c&&p.a.createElement(ue,{onClick:n,label:r}),o)},t}(p.a.Component);fe.propTypes=ce,fe.defaultProps={closeLabel:"Close alert"};var de=z(ae()(I),I.INFO,B("alert",fe)),he={pullRight:_.a.bool},pe=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.hasContent=function(e){var t=!1;return p.a.Children.forEach(e,(function(e){t||(e||0===e)&&(t=!0)})),t},t.prototype.render=function(){var e=this.props,t=e.pullRight,n=e.className,r=e.children,i=W(v()(e,["pullRight","className","children"])),o=i[0],s=i[1],l=a()({},U(o),{"pull-right":t,hidden:!this.hasContent(r)});return p.a.createElement("span",a()({},s,{className:y()(n,l)}),r)},t}(p.a.Component);pe.propTypes=he,pe.defaultProps={pullRight:!1};var me=B("badge",pe),ve=n(10),ge=n.n(ve);var ye=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)},be={href:_.a.string,onClick:_.a.func,onKeyDown:_.a.func,disabled:_.a.bool,role:_.a.string,tabIndex:_.a.oneOfType([_.a.number,_.a.string]),componentClass:ge.a};function _e(e){return!e||"#"===e.trim()}var xe=function(e){function t(n,r){l()(this,t);var i=c()(this,e.call(this,n,r));return i.handleClick=i.handleClick.bind(i),i.handleKeyDown=i.handleKeyDown.bind(i),i}return d()(t,e),t.prototype.handleClick=function(e){var t=this.props,n=t.disabled,r=t.href,i=t.onClick;(n||_e(r))&&e.preventDefault(),n?e.stopPropagation():i&&i(e)},t.prototype.handleKeyDown=function(e){" "===e.key&&(e.preventDefault(),this.handleClick(e))},t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.disabled,r=e.onKeyDown,i=v()(e,["componentClass","disabled","onKeyDown"]);return _e(i.href)&&(i.role=i.role||"button",i.href=i.href||"#"),n&&(i.tabIndex=-1,i.style=a()({pointerEvents:"none"},i.style)),p.a.createElement(t,a()({},i,{onClick:this.handleClick,onKeyDown:ye(this.handleKeyDown,r)}))},t}(p.a.Component);xe.propTypes=be,xe.defaultProps={componentClass:"a"};var we=xe,Ee={active:_.a.bool,href:_.a.string,title:_.a.node,target:_.a.string},Te=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.active,n=e.href,r=e.title,i=e.target,o=e.className,s=v()(e,["active","href","title","target","className"]),l={href:n,title:r,target:i};return p.a.createElement("li",{className:y()(o,{active:t})},t?p.a.createElement("span",s):p.a.createElement(we,a()({},s,l)))},t}(p.a.Component);Te.propTypes=Ee,Te.defaultProps={active:!1};var Se=Te,ke=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=W(v()(e,["className"])),r=n[0],i=n[1],o=U(r);return p.a.createElement("ol",a()({},i,{role:"navigation","aria-label":"breadcrumbs",className:y()(t,o)}))},t}(p.a.Component);ke.Item=Se;var Oe=B("breadcrumb",ke),Ce={active:_.a.bool,disabled:_.a.bool,block:_.a.bool,onClick:_.a.func,componentClass:ge.a,href:_.a.string,type:_.a.oneOf(["button","reset","submit"])},Ae=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.renderAnchor=function(e,t){return p.a.createElement(we,a()({},e,{className:y()(t,e.disabled&&"disabled")}))},t.prototype.renderButton=function(e,t){var n=e.componentClass,r=v()(e,["componentClass"]),i=n||"button";return p.a.createElement(i,a()({},r,{type:r.type||"button",className:t}))},t.prototype.render=function(){var e,t=this.props,n=t.active,r=t.block,i=t.className,o=W(v()(t,["active","block","className"])),s=o[0],l=o[1],u=a()({},U(s),((e={active:n})[F(s,"block")]=r,e)),c=y()(i,u);return l.href?this.renderAnchor(l,c):this.renderButton(l,c)},t}(p.a.Component);Ae.propTypes=Ce,Ae.defaultProps={active:!1,block:!1,disabled:!1};var Me=B("btn",H([O,C,A],z([].concat(ae()(I),[D,N,R]),D,Ae))),Pe=n(31),Ie=n.n(Pe),De={vertical:_.a.bool,justified:_.a.bool,block:Ie()(_.a.bool,(function(e){var t=e.block,n=e.vertical;return t&&!n?new Error("`block` requires `vertical` to be set to have any effect"):null}))},Ne=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e,t=this.props,n=t.block,r=t.justified,i=t.vertical,o=t.className,s=W(v()(t,["block","justified","vertical","className"])),l=s[0],u=s[1],c=a()({},U(l),((e={})[F(l)]=!i,e[F(l,"vertical")]=i,e[F(l,"justified")]=r,e[F(Me.defaultProps,"block")]=n,e));return p.a.createElement("div",a()({},u,{className:y()(o,c)}))},t}(p.a.Component);Ne.propTypes=De,Ne.defaultProps={block:!1,justified:!1,vertical:!1};var Re=B("btn-group",Ne),Le=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=W(v()(e,["className"])),r=n[0],i=n[1],o=U(r);return p.a.createElement("div",a()({},i,{role:"toolbar",className:y()(t,o)}))},t}(p.a.Component),je=B("btn-toolbar",Le),Fe={componentClass:ge.a},Be=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=W(v()(e,["componentClass","className"])),i=r[0],o=r[1],s=U(i);return p.a.createElement(t,a()({},o,{className:y()(n,s)}))},t}(p.a.Component);Be.propTypes=Fe,Be.defaultProps={componentClass:"div"};var ze=B("carousel-caption",Be),He=n(12),Ue=n.n(He),Ve=n(144),Ge=n.n(Ve),We={direction:_.a.oneOf(["prev","next"]),onAnimateOutEnd:_.a.func,active:_.a.bool,animateIn:_.a.bool,animateOut:_.a.bool,index:_.a.number},qe=function(e){function t(n,r){l()(this,t);var i=c()(this,e.call(this,n,r));return i.handleAnimateOutEnd=i.handleAnimateOutEnd.bind(i),i.state={direction:null},i.isUnmounted=!1,i}return d()(t,e),t.prototype.componentWillReceiveProps=function(e){this.props.active!==e.active&&this.setState({direction:null})},t.prototype.componentDidUpdate=function(e){var t=this,n=this.props.active,r=e.active;!n&&r&&Ge.a.end(Ue.a.findDOMNode(this),this.handleAnimateOutEnd),n!==r&&setTimeout((function(){return t.startAnimation()}),20)},t.prototype.componentWillUnmount=function(){this.isUnmounted=!0},t.prototype.handleAnimateOutEnd=function(){this.isUnmounted||this.props.onAnimateOutEnd&&this.props.onAnimateOutEnd(this.props.index)},t.prototype.startAnimation=function(){this.isUnmounted||this.setState({direction:"prev"===this.props.direction?"right":"left"})},t.prototype.render=function(){var e=this.props,t=e.direction,n=e.active,r=e.animateIn,i=e.animateOut,o=e.className,s=v()(e,["direction","active","animateIn","animateOut","className"]);delete s.onAnimateOutEnd,delete s.index;var l={item:!0,active:n&&!r||i};return t&&n&&r&&(l[t]=!0),this.state.direction&&(r||i)&&(l[this.state.direction]=!0),p.a.createElement("div",a()({},s,{className:y()(o,l)}))},t}(p.a.Component);qe.propTypes=We,qe.defaultProps={active:!1,animateIn:!1,animateOut:!1};var Ye=qe,Xe={glyph:_.a.string.isRequired},$e=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e,t=this.props,n=t.glyph,r=t.className,i=W(v()(t,["glyph","className"])),o=i[0],s=i[1],l=a()({},U(o),((e={})[F(o,n)]=!0,e));return p.a.createElement("span",a()({},s,{className:y()(r,l)}))},t}(p.a.Component);$e.propTypes=Xe;var Ke=B("glyphicon",$e),Ze={slide:_.a.bool,indicators:_.a.bool,interval:_.a.number,controls:_.a.bool,pauseOnHover:_.a.bool,wrap:_.a.bool,onSelect:_.a.func,onSlideEnd:_.a.func,activeIndex:_.a.number,defaultActiveIndex:_.a.number,direction:_.a.oneOf(["prev","next"]),prevIcon:_.a.node,prevLabel:_.a.string,nextIcon:_.a.node,nextLabel:_.a.string},Qe={slide:!0,interval:5e3,pauseOnHover:!0,wrap:!0,indicators:!0,controls:!0,prevIcon:p.a.createElement(Ke,{glyph:"chevron-left"}),prevLabel:"Previous",nextIcon:p.a.createElement(Ke,{glyph:"chevron-right"}),nextLabel:"Next"},Je=function(e){function t(n,r){l()(this,t);var i=c()(this,e.call(this,n,r));i.handleMouseOver=i.handleMouseOver.bind(i),i.handleMouseOut=i.handleMouseOut.bind(i),i.handlePrev=i.handlePrev.bind(i),i.handleNext=i.handleNext.bind(i),i.handleItemAnimateOutEnd=i.handleItemAnimateOutEnd.bind(i);var o=n.defaultActiveIndex;return i.state={activeIndex:null!=o?o:0,previousActiveIndex:null,direction:null},i.isUnmounted=!1,i}return d()(t,e),t.prototype.componentDidMount=function(){this.waitForNext()},t.prototype.componentWillReceiveProps=function(e){var t=this.getActiveIndex();null!=e.activeIndex&&e.activeIndex!==t&&(clearTimeout(this.timeout),this.setState({previousActiveIndex:t,direction:null!=e.direction?e.direction:this.getDirection(t,e.activeIndex)})),null==e.activeIndex&&this.state.activeIndex>=e.children.length&&this.setState({activeIndex:0,previousActiveIndex:null,direction:null})},t.prototype.componentWillUnmount=function(){clearTimeout(this.timeout),this.isUnmounted=!0},t.prototype.getActiveIndex=function(){var e=this.props.activeIndex;return null!=e?e:this.state.activeIndex},t.prototype.getDirection=function(e,t){return e===t?null:e>t?"prev":"next"},t.prototype.handleItemAnimateOutEnd=function(){var e=this;this.setState({previousActiveIndex:null,direction:null},(function(){e.waitForNext(),e.props.onSlideEnd&&e.props.onSlideEnd()}))},t.prototype.handleMouseOut=function(){this.isPaused&&this.play()},t.prototype.handleMouseOver=function(){this.props.pauseOnHover&&this.pause()},t.prototype.handleNext=function(e){var t=this.getActiveIndex()+1;if(t>$.count(this.props.children)-1){if(!this.props.wrap)return;t=0}this.select(t,e,"next")},t.prototype.handlePrev=function(e){var t=this.getActiveIndex()-1;if(t<0){if(!this.props.wrap)return;t=$.count(this.props.children)-1}this.select(t,e,"prev")},t.prototype.pause=function(){this.isPaused=!0,clearTimeout(this.timeout)},t.prototype.play=function(){this.isPaused=!1,this.waitForNext()},t.prototype.select=function(e,t,n){if(clearTimeout(this.timeout),!this.isUnmounted){var r=this.props.slide?this.getActiveIndex():null;n=n||this.getDirection(r,e);var i=this.props.onSelect;if(i&&(i.length>1?(t?(t.persist(),t.direction=n):t={direction:n},i(e,t)):i(e)),null==this.props.activeIndex&&e!==r){if(null!=this.state.previousActiveIndex)return;this.setState({activeIndex:e,previousActiveIndex:r,direction:n})}}},t.prototype.waitForNext=function(){var e=this.props,t=e.slide,n=e.interval,r=e.activeIndex;!this.isPaused&&t&&n&&null==r&&(this.timeout=setTimeout(this.handleNext,n))},t.prototype.renderControls=function(e){var t=e.wrap,n=e.children,r=e.activeIndex,i=e.prevIcon,o=e.nextIcon,a=e.bsProps,s=e.prevLabel,l=e.nextLabel,u=F(a,"control"),c=$.count(n);return[(t||0!==r)&&p.a.createElement(we,{key:"prev",className:y()(u,"left"),onClick:this.handlePrev},i,s&&p.a.createElement("span",{className:"sr-only"},s)),(t||r!==c-1)&&p.a.createElement(we,{key:"next",className:y()(u,"right"),onClick:this.handleNext},o,l&&p.a.createElement("span",{className:"sr-only"},l))]},t.prototype.renderIndicators=function(e,t,n){var r=this,i=[];return $.forEach(e,(function(e,n){i.push(p.a.createElement("li",{key:n,className:n===t?"active":null,onClick:function(e){return r.select(n,e)}})," ")})),p.a.createElement("ol",{className:F(n,"indicators")},i)},t.prototype.render=function(){var e=this,t=this.props,n=t.slide,r=t.indicators,i=t.controls,o=t.wrap,s=t.prevIcon,l=t.prevLabel,u=t.nextIcon,c=t.nextLabel,f=t.className,d=t.children,m=v()(t,["slide","indicators","controls","wrap","prevIcon","prevLabel","nextIcon","nextLabel","className","children"]),g=this.state,b=g.previousActiveIndex,_=g.direction,x=q(m,["interval","pauseOnHover","onSelect","onSlideEnd","activeIndex","defaultActiveIndex","direction"]),w=x[0],E=x[1],T=this.getActiveIndex(),S=a()({},U(w),{slide:n});return p.a.createElement("div",a()({},E,{className:y()(f,S),onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut}),r&&this.renderIndicators(d,T,w),p.a.createElement("div",{className:F(w,"inner")},$.map(d,(function(t,r){var i=r===T,o=n&&r===b;return Object(h.cloneElement)(t,{active:i,index:r,animateOut:o,animateIn:i&&null!=b&&n,direction:_,onAnimateOutEnd:o?e.handleItemAnimateOutEnd:null})}))),i&&this.renderControls({wrap:o,children:d,activeIndex:T,prevIcon:s,prevLabel:l,nextIcon:u,nextLabel:c,bsProps:w}))},t}(p.a.Component);Je.propTypes=Ze,Je.defaultProps=Qe,Je.Caption=ze,Je.Item=Ye;var et=B("carousel",Je),tt=(n(17),{inline:_.a.bool,disabled:_.a.bool,title:_.a.string,validationState:_.a.oneOf(["success","warning","error",null]),inputRef:_.a.func}),nt=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.inline,n=e.disabled,r=e.validationState,i=e.inputRef,o=e.className,s=e.style,l=e.title,u=e.children,c=W(v()(e,["inline","disabled","validationState","inputRef","className","style","title","children"])),f=c[0],d=c[1],h=p.a.createElement("input",a()({},d,{ref:i,type:"checkbox",disabled:n}));if(t){var m,g=((m={})[F(f,"inline")]=!0,m.disabled=n,m);return p.a.createElement("label",{className:y()(o,g),style:s,title:l},h,u)}var b=a()({},U(f),{disabled:n});return r&&(b["has-"+r]=!0),p.a.createElement("div",{className:y()(o,b),style:s},p.a.createElement("label",{title:l},h,u))},t}(p.a.Component);nt.propTypes=tt,nt.defaultProps={inline:!1,disabled:!1,title:""};var rt=B("checkbox",nt);function it(e){return""+e.charAt(0).toUpperCase()+e.slice(1)}var ot={componentClass:ge.a,visibleXsBlock:_.a.bool,visibleSmBlock:_.a.bool,visibleMdBlock:_.a.bool,visibleLgBlock:_.a.bool},at=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=W(v()(e,["componentClass","className"])),i=r[0],o=r[1],s=U(i);return P.forEach((function(e){var t="visible"+it(e)+"Block";o[t]&&(s["visible-"+e+"-block"]=!0),delete o[t]})),p.a.createElement(t,a()({},o,{className:y()(n,s)}))},t}(p.a.Component);at.propTypes=ot,at.defaultProps={componentClass:"div"};var st=B("clearfix",at),lt={htmlFor:_.a.string,srOnly:_.a.bool},ut={$bs_formGroup:_.a.object},ct=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.context.$bs_formGroup,t=e&&e.controlId,n=this.props,r=n.htmlFor,i=void 0===r?t:r,o=n.srOnly,s=n.className,l=W(v()(n,["htmlFor","srOnly","className"])),u=l[0],c=l[1],f=a()({},U(u),{"sr-only":o});return p.a.createElement("label",a()({},c,{htmlFor:i,className:y()(s,f)}))},t}(p.a.Component);ct.propTypes=lt,ct.defaultProps={srOnly:!1},ct.contextTypes=ut;var ft=B("control-label",ct),dt={componentClass:ge.a,xs:_.a.number,sm:_.a.number,md:_.a.number,lg:_.a.number,xsHidden:_.a.bool,smHidden:_.a.bool,mdHidden:_.a.bool,lgHidden:_.a.bool,xsOffset:_.a.number,smOffset:_.a.number,mdOffset:_.a.number,lgOffset:_.a.number,xsPush:_.a.number,smPush:_.a.number,mdPush:_.a.number,lgPush:_.a.number,xsPull:_.a.number,smPull:_.a.number,mdPull:_.a.number,lgPull:_.a.number},ht=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=W(v()(e,["componentClass","className"])),i=r[0],o=r[1],s=[];return P.forEach((function(e){function t(t,n){var r=""+e+t,a=o[r];null!=a&&s.push(F(i,""+e+n+"-"+a)),delete o[r]}t("",""),t("Offset","-offset"),t("Push","-push"),t("Pull","-pull");var n=e+"Hidden";o[n]&&s.push("hidden-"+e),delete o[n]})),p.a.createElement(t,a()({},o,{className:y()(n,s)}))},t}(p.a.Component);ht.propTypes=dt,ht.defaultProps={componentClass:"div"};var pt,mt=B("col",ht),vt=n(37),gt=n.n(vt),yt=n(23),bt=n.n(yt),_t={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function xt(e){e.offsetHeight}var wt=((pt={})[yt.EXITED]="collapse",pt[yt.EXITING]="collapsing",pt[yt.ENTERING]="collapsing",pt[yt.ENTERED]="collapse in",pt),Et={in:_.a.bool,mountOnEnter:_.a.bool,unmountOnExit:_.a.bool,appear:_.a.bool,timeout:_.a.number,onEnter:_.a.func,onEntering:_.a.func,onEntered:_.a.func,onExit:_.a.func,onExiting:_.a.func,onExited:_.a.func,dimension:_.a.oneOfType([_.a.oneOf(["height","width"]),_.a.func]),getDimensionValue:_.a.func,role:_.a.string},Tt={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,dimension:"height",getDimensionValue:function(e,t){var n=t["offset"+it(e)],r=_t[e];return n+parseInt(gt()(t,r[0]),10)+parseInt(gt()(t,r[1]),10)}},St=function(e){function t(){var n,r,i;l()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=c()(this,e.call.apply(e,[this].concat(a))),r.handleEnter=function(e){e.style[r.getDimension()]="0"},r.handleEntering=function(e){var t=r.getDimension();e.style[t]=r._getScrollDimensionValue(e,t)},r.handleEntered=function(e){e.style[r.getDimension()]=null},r.handleExit=function(e){var t=r.getDimension();e.style[t]=r.props.getDimensionValue(t,e)+"px",xt(e)},r.handleExiting=function(e){e.style[r.getDimension()]="0"},i=n,c()(r,i)}return d()(t,e),t.prototype.getDimension=function(){return"function"===typeof this.props.dimension?this.props.dimension():this.props.dimension},t.prototype._getScrollDimensionValue=function(e,t){return e["scroll"+it(t)]+"px"},t.prototype.render=function(){var e=this,t=this.props,n=t.onEnter,r=t.onEntering,i=t.onEntered,o=t.onExit,s=t.onExiting,l=t.className,u=t.children,c=v()(t,["onEnter","onEntering","onEntered","onExit","onExiting","className","children"]);delete c.dimension,delete c.getDimensionValue;var f=ye(this.handleEnter,n),d=ye(this.handleEntering,r),h=ye(this.handleEntered,i),m=ye(this.handleExit,o),g=ye(this.handleExiting,s);return p.a.createElement(bt.a,a()({},c,{"aria-expanded":c.role?c.in:null,onEnter:f,onEntering:d,onEntered:h,onExit:m,onExiting:g}),(function(t,n){return p.a.cloneElement(u,a()({},n,{className:y()(l,u.props.className,wt[t],"width"===e.getDimension()&&"width")}))}))},t}(p.a.Component);St.propTypes=Et,St.defaultProps=Tt;var kt=St,Ot=n(107),Ct=n.n(Ot),At=n(30),Mt=n.n(At),Pt=n(16),It=n.n(Pt),Dt=n(32),Nt=n.n(Dt),Rt=n(145),Lt=n.n(Rt),jt=n(108),Ft=n.n(jt),Bt={open:_.a.bool,pullRight:_.a.bool,onClose:_.a.func,labelledBy:_.a.oneOfType([_.a.string,_.a.number]),onSelect:_.a.func,rootCloseEvent:_.a.oneOf(["click","mousedown"])},zt=function(e){function t(n){l()(this,t);var r=c()(this,e.call(this,n));return r.handleRootClose=r.handleRootClose.bind(r),r.handleKeyDown=r.handleKeyDown.bind(r),r}return d()(t,e),t.prototype.getFocusableMenuItems=function(){var e=Ue.a.findDOMNode(this);return e?Lt()(e.querySelectorAll('[tabIndex="-1"]')):[]},t.prototype.getItemsAndActiveIndex=function(){var e=this.getFocusableMenuItems(),t=e.indexOf(document.activeElement);return{items:e,activeIndex:t}},t.prototype.focusNext=function(){var e=this.getItemsAndActiveIndex(),t=e.items,n=e.activeIndex;0!==t.length&&t[n===t.length-1?0:n+1].focus()},t.prototype.focusPrevious=function(){var e=this.getItemsAndActiveIndex(),t=e.items,n=e.activeIndex;0!==t.length&&t[0===n?t.length-1:n-1].focus()},t.prototype.handleKeyDown=function(e){switch(e.keyCode){case It.a.codes.down:this.focusNext(),e.preventDefault();break;case It.a.codes.up:this.focusPrevious(),e.preventDefault();break;case It.a.codes.esc:case It.a.codes.tab:this.props.onClose(e,{source:"keydown"})}},t.prototype.handleRootClose=function(e){this.props.onClose(e,{source:"rootClose"})},t.prototype.render=function(){var e,t=this,n=this.props,r=n.open,i=n.pullRight,o=n.labelledBy,s=n.onSelect,l=n.className,u=n.rootCloseEvent,c=n.children,f=q(v()(n,["open","pullRight","labelledBy","onSelect","className","rootCloseEvent","children"]),["onClose"]),d=f[0],h=f[1],m=a()({},U(d),((e={})[F(d,"right")]=i,e));return p.a.createElement(Ft.a,{disabled:!r,onRootClose:this.handleRootClose,event:u},p.a.createElement("ul",a()({},h,{role:"menu",className:y()(l,m),"aria-labelledby":o}),$.map(c,(function(e){return p.a.cloneElement(e,{onKeyDown:ye(e.props.onKeyDown,t.handleKeyDown),onSelect:ye(e.props.onSelect,s)})}))))},t}(p.a.Component);zt.propTypes=Bt,zt.defaultProps={bsRole:"menu",pullRight:!1};var Ht=B("dropdown-menu",zt),Ut={noCaret:_.a.bool,open:_.a.bool,title:_.a.string,useAnchor:_.a.bool},Vt=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.noCaret,n=e.open,r=e.useAnchor,i=e.bsClass,o=e.className,s=e.children,l=v()(e,["noCaret","open","useAnchor","bsClass","className","children"]);delete l.bsRole;var u=r?we:Me,c=!t;return p.a.createElement(u,a()({},l,{role:"button",className:y()(o,i),"aria-haspopup":!0,"aria-expanded":n}),s||l.title,c&&" ",c&&p.a.createElement("span",{className:"caret"}))},t}(p.a.Component);Vt.propTypes=Ut,Vt.defaultProps={open:!1,useAnchor:!1,bsRole:"toggle"};var Gt=B("dropdown-toggle",Vt),Wt=Gt.defaultProps.bsRole,qt=Ht.defaultProps.bsRole,Yt={dropup:_.a.bool,id:Nt()(_.a.oneOfType([_.a.string,_.a.number])),componentClass:ge.a,children:Ie()(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Z()((function(e,n,r){var i=void 0;return t.every((function(t){return!!$.some(e.children,(function(e){return e.props.bsRole===t}))||(i=t,!1)})),i?new Error("(children) "+r+" - Missing a required child with bsRole: "+i+". "+r+" must have at least one child of each of the following bsRoles: "+t.join(", ")):null}))}(Wt,qt),function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Z()((function(e,n,r){var i=void 0;return t.every((function(t){return!($.filter(e.children,(function(e){return e.props.bsRole===t})).length>1)||(i=t,!1)})),i?new Error("(children) "+r+" - Duplicate children detected of bsRole: "+i+". Only one child each allowed with the following bsRoles: "+t.join(", ")):null}))}(qt)),disabled:_.a.bool,pullRight:_.a.bool,open:_.a.bool,defaultOpen:_.a.bool,onToggle:_.a.func,onSelect:_.a.func,role:_.a.string,rootCloseEvent:_.a.oneOf(["click","mousedown"]),onMouseEnter:_.a.func,onMouseLeave:_.a.func},Xt={componentClass:Re},$t=function(e){function t(n,r){l()(this,t);var i=c()(this,e.call(this,n,r));return i.handleClick=i.handleClick.bind(i),i.handleKeyDown=i.handleKeyDown.bind(i),i.handleClose=i.handleClose.bind(i),i._focusInDropdown=!1,i.lastOpenEventType=null,i}return d()(t,e),t.prototype.componentDidMount=function(){this.focusNextOnOpen()},t.prototype.componentWillUpdate=function(e){!e.open&&this.props.open&&(this._focusInDropdown=Mt()(Ue.a.findDOMNode(this.menu),Ct()(document)))},t.prototype.componentDidUpdate=function(e){var t=this.props.open,n=e.open;t&&!n&&this.focusNextOnOpen(),!t&&n&&this._focusInDropdown&&(this._focusInDropdown=!1,this.focus())},t.prototype.focus=function(){var e=Ue.a.findDOMNode(this.toggle);e&&e.focus&&e.focus()},t.prototype.focusNextOnOpen=function(){var e=this.menu;e.focusNext&&("keydown"!==this.lastOpenEventType&&"menuitem"!==this.props.role||e.focusNext())},t.prototype.handleClick=function(e){this.props.disabled||this.toggleOpen(e,{source:"click"})},t.prototype.handleClose=function(e,t){this.props.open&&this.toggleOpen(e,t)},t.prototype.handleKeyDown=function(e){if(!this.props.disabled)switch(e.keyCode){case It.a.codes.down:this.props.open?this.menu.focusNext&&this.menu.focusNext():this.toggleOpen(e,{source:"keydown"}),e.preventDefault();break;case It.a.codes.esc:case It.a.codes.tab:this.handleClose(e,{source:"keydown"})}},t.prototype.toggleOpen=function(e,t){var n=!this.props.open;n&&(this.lastOpenEventType=t.source),this.props.onToggle&&this.props.onToggle(n,e,t)},t.prototype.renderMenu=function(e,t){var n=this,r=t.id,i=t.onSelect,o=t.rootCloseEvent,s=v()(t,["id","onSelect","rootCloseEvent"]),l=function(e){n.menu=e};return"string"===typeof e.ref||(l=ye(e.ref,l)),Object(h.cloneElement)(e,a()({},s,{ref:l,labelledBy:r,bsClass:F(s,"menu"),onClose:ye(e.props.onClose,this.handleClose),onSelect:ye(e.props.onSelect,i,(function(e,t){return n.handleClose(t,{source:"select"})})),rootCloseEvent:o}))},t.prototype.renderToggle=function(e,t){var n=this,r=function(e){n.toggle=e};return"string"===typeof e.ref||(r=ye(e.ref,r)),Object(h.cloneElement)(e,a()({},t,{ref:r,bsClass:F(t,"toggle"),onClick:ye(e.props.onClick,this.handleClick),onKeyDown:ye(e.props.onKeyDown,this.handleKeyDown)}))},t.prototype.render=function(){var e,t=this,n=this.props,r=n.componentClass,i=n.id,o=n.dropup,s=n.disabled,l=n.pullRight,u=n.open,c=n.onSelect,f=n.role,d=n.bsClass,h=n.className,m=n.rootCloseEvent,g=n.children,b=v()(n,["componentClass","id","dropup","disabled","pullRight","open","onSelect","role","bsClass","className","rootCloseEvent","children"]);delete b.onToggle;var _=((e={})[d]=!0,e.open=u,e.disabled=s,e);return o&&(_[d]=!1,_.dropup=!0),p.a.createElement(r,a()({},b,{className:y()(h,_)}),$.map(g,(function(e){switch(e.props.bsRole){case Wt:return t.renderToggle(e,{id:i,disabled:s,open:u,role:f,bsClass:d});case qt:return t.renderMenu(e,{id:i,open:u,pullRight:l,bsClass:d,onSelect:c,rootCloseEvent:m});default:return e}})))},t}(p.a.Component);$t.propTypes=Yt,$t.defaultProps=Xt,B("dropdown",$t);var Kt=w()($t,{open:"onToggle"});Kt.Toggle=Gt,Kt.Menu=Ht;var Zt=Kt;function Qt(e,t){var n=t.propTypes,r={},i={};return T()(e).forEach((function(e){var t=e[0],o=e[1];n[t]?r[t]=o:i[t]=o})),[r,i]}var Jt=a()({},Zt.propTypes,{bsStyle:_.a.string,bsSize:_.a.string,title:_.a.node.isRequired,noCaret:_.a.bool,children:_.a.node}),en=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.bsSize,n=e.bsStyle,r=e.title,i=e.children,o=Qt(v()(e,["bsSize","bsStyle","title","children"]),Zt.ControlledComponent),s=o[0],l=o[1];return p.a.createElement(Zt,a()({},s,{bsSize:t,bsStyle:n}),p.a.createElement(Zt.Toggle,a()({},l,{bsSize:t,bsStyle:n}),r),p.a.createElement(Zt.Menu,null,i))},t}(p.a.Component);en.propTypes=Jt;var tn,nn=en,rn={in:_.a.bool,mountOnEnter:_.a.bool,unmountOnExit:_.a.bool,appear:_.a.bool,timeout:_.a.number,onEnter:_.a.func,onEntering:_.a.func,onEntered:_.a.func,onExit:_.a.func,onExiting:_.a.func,onExited:_.a.func},on=((tn={})[yt.ENTERING]="in",tn[yt.ENTERED]="in",tn),an=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,r=v()(e,["className","children"]);return p.a.createElement(bt.a,r,(function(e,r){return p.a.cloneElement(n,a()({},r,{className:y()("fade",t,n.props.className,on[e])}))}))},t}(p.a.Component);an.propTypes=rn,an.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1};var sn=an,ln={horizontal:_.a.bool,inline:_.a.bool,componentClass:ge.a},un=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.horizontal,n=e.inline,r=e.componentClass,i=e.className,o=W(v()(e,["horizontal","inline","componentClass","className"])),s=o[0],l=o[1],u=[];return t&&u.push(F(s,"horizontal")),n&&u.push(F(s,"inline")),p.a.createElement(r,a()({},l,{className:y()(i,u)}))},t}(p.a.Component);un.propTypes=ln,un.defaultProps={horizontal:!1,inline:!1,componentClass:"form"};var cn=B("form",un),fn={$bs_formGroup:_.a.object},dn=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.getGlyph=function(e){switch(e){case"success":return"ok";case"warning":return"warning-sign";case"error":return"remove";default:return null}},t.prototype.renderDefaultFeedback=function(e,t,n,r){var i=this.getGlyph(e&&e.validationState);return i?p.a.createElement(Ke,a()({},r,{glyph:i,className:y()(t,n)})):null},t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,r=W(v()(e,["className","children"])),i=r[0],o=r[1],s=U(i);if(!n)return this.renderDefaultFeedback(this.context.$bs_formGroup,t,s,o);var l=p.a.Children.only(n);return p.a.cloneElement(l,a()({},o,{className:y()(l.props.className,t,s)}))},t}(p.a.Component);dn.defaultProps={bsRole:"feedback"},dn.contextTypes=fn;var hn=B("form-control-feedback",dn),pn={componentClass:ge.a},mn=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=W(v()(e,["componentClass","className"])),i=r[0],o=r[1],s=U(i);return p.a.createElement(t,a()({},o,{className:y()(n,s)}))},t}(p.a.Component);mn.propTypes=pn,mn.defaultProps={componentClass:"p"};var vn=B("form-control-static",mn),gn={componentClass:ge.a,type:_.a.string,id:_.a.string,inputRef:_.a.func},yn={$bs_formGroup:_.a.object},bn=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.context.$bs_formGroup,t=e&&e.controlId,n=this.props,r=n.componentClass,i=n.type,o=n.id,s=void 0===o?t:o,l=n.inputRef,u=n.className,c=n.bsSize,f=W(v()(n,["componentClass","type","id","inputRef","className","bsSize"])),d=f[0],h=f[1],m=void 0;("file"!==i&&(m=U(d)),c)&&(m[F({bsClass:"input"},M[c]||c)]=!0);return p.a.createElement(r,a()({},h,{type:i,id:s,ref:l,className:y()(u,m)}))},t}(p.a.Component);bn.propTypes=gn,bn.defaultProps={componentClass:"input"},bn.contextTypes=yn,bn.Feedback=hn,bn.Static=vn;var _n=B("form-control",H([C,O],bn)),xn={controlId:_.a.string,validationState:_.a.oneOf(["success","warning","error",null])},wn={$bs_formGroup:_.a.object.isRequired},En=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.getChildContext=function(){var e=this.props;return{$bs_formGroup:{controlId:e.controlId,validationState:e.validationState}}},t.prototype.hasFeedback=function(e){var t=this;return $.some(e,(function(e){return"feedback"===e.props.bsRole||e.props.children&&t.hasFeedback(e.props.children)}))},t.prototype.render=function(){var e=this.props,t=e.validationState,n=e.className,r=e.children,i=q(v()(e,["validationState","className","children"]),["controlId"]),o=i[0],s=i[1],l=a()({},U(o),{"has-feedback":this.hasFeedback(r)});return t&&(l["has-"+t]=!0),p.a.createElement("div",a()({},s,{className:y()(n,l)}),r)},t}(p.a.Component);En.propTypes=xn,En.childContextTypes=wn;var Tn=B("form-group",H([O,C],En)),Sn={fluid:_.a.bool,componentClass:ge.a},kn=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.fluid,n=e.componentClass,r=e.className,i=W(v()(e,["fluid","componentClass","className"])),o=i[0],s=i[1],l=F(o,t&&"fluid");return p.a.createElement(n,a()({},s,{className:y()(r,l)}))},t}(p.a.Component);kn.propTypes=Sn,kn.defaultProps={componentClass:"div",fluid:!1};var On=B("container",kn),Cn=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=W(v()(e,["className"])),r=n[0],i=n[1],o=U(r);return p.a.createElement("span",a()({},i,{className:y()(t,o)}))},t}(p.a.Component),An=B("help-block",Cn),Mn={responsive:_.a.bool,rounded:_.a.bool,circle:_.a.bool,thumbnail:_.a.bool},Pn=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e,t=this.props,n=t.responsive,r=t.rounded,i=t.circle,o=t.thumbnail,s=t.className,l=W(v()(t,["responsive","rounded","circle","thumbnail","className"])),u=l[0],c=l[1],f=((e={})[F(u,"responsive")]=n,e[F(u,"rounded")]=r,e[F(u,"circle")]=i,e[F(u,"thumbnail")]=o,e);return p.a.createElement("img",a()({},c,{className:y()(s,f)}))},t}(p.a.Component);Pn.propTypes=Mn,Pn.defaultProps={responsive:!1,rounded:!1,circle:!1,thumbnail:!1};var In=B("img",Pn),Dn=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=W(v()(e,["className"])),r=n[0],i=n[1],o=U(r);return p.a.createElement("span",a()({},i,{className:y()(t,o)}))},t}(p.a.Component),Nn=B("input-group-addon",Dn),Rn=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=W(v()(e,["className"])),r=n[0],i=n[1],o=U(r);return p.a.createElement("span",a()({},i,{className:y()(t,o)}))},t}(p.a.Component),Ln=B("input-group-btn",Rn),jn=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=W(v()(e,["className"])),r=n[0],i=n[1],o=U(r);return p.a.createElement("span",a()({},i,{className:y()(t,o)}))},t}(p.a.Component);jn.Addon=Nn,jn.Button=Ln;var Fn=B("input-group",H([O,C],jn)),Bn={componentClass:ge.a},zn=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=W(v()(e,["componentClass","className"])),i=r[0],o=r[1],s=U(i);return p.a.createElement(t,a()({},o,{className:y()(n,s)}))},t}(p.a.Component);zn.propTypes=Bn,zn.defaultProps={componentClass:"div"};var Hn=B("jumbotron",zn),Un=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.hasContent=function(e){var t=!1;return p.a.Children.forEach(e,(function(e){t||(e||0===e)&&(t=!0)})),t},t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,r=W(v()(e,["className","children"])),i=r[0],o=r[1],s=a()({},U(i),{hidden:!this.hasContent(n)});return p.a.createElement("span",a()({},o,{className:y()(t,s)}),n)},t}(p.a.Component),Vn=B("label",z([].concat(ae()(I),[D,N]),D,Un)),Gn={active:_.a.any,disabled:_.a.any,header:_.a.node,listItem:_.a.bool,onClick:_.a.func,href:_.a.string,type:_.a.string},Wn=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.renderHeader=function(e,t){return p.a.isValidElement(e)?Object(h.cloneElement)(e,{className:y()(e.props.className,t)}):p.a.createElement("h4",{className:t},e)},t.prototype.render=function(){var e=this.props,t=e.active,n=e.disabled,r=e.className,i=e.header,o=e.listItem,s=e.children,l=W(v()(e,["active","disabled","className","header","listItem","children"])),u=l[0],c=l[1],f=a()({},U(u),{active:t,disabled:n}),d=void 0;return c.href?d="a":c.onClick?(d="button",c.type=c.type||"button"):d=o?"li":"span",c.className=y()(r,f),i?p.a.createElement(d,c,this.renderHeader(i,F(u,"heading")),p.a.createElement("p",{className:F(u,"text")},s)):p.a.createElement(d,c,s)},t}(p.a.Component);Wn.propTypes=Gn,Wn.defaultProps={listItem:!1};var qn=B("list-group-item",z(ae()(I),Wn)),Yn={componentClass:ge.a};var Xn=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.componentClass,r=void 0===n?function(e){return e?$.some(e,(function(e){return e.type!==qn||e.props.href||e.props.onClick}))?"div":"ul":"div"}(t):n,i=e.className,o=W(v()(e,["children","componentClass","className"])),s=o[0],l=o[1],u=U(s),c="ul"===r&&$.every(t,(function(e){return e.type===qn}));return p.a.createElement(r,a()({},l,{className:y()(i,u)}),c?$.map(t,(function(e){return Object(h.cloneElement)(e,{listItem:!0})})):t)},t}(p.a.Component);Xn.propTypes=Yn;var $n=B("list-group",Xn),Kn={align:_.a.oneOf(["top","middle","bottom"]),componentClass:ge.a},Zn=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.align,r=e.className,i=W(v()(e,["componentClass","align","className"])),o=i[0],s=i[1],l=U(o);return n&&(l[F(pr.defaultProps,n)]=!0),p.a.createElement(t,a()({},s,{className:y()(r,l)}))},t}(p.a.Component);Zn.propTypes=Kn,Zn.defaultProps={componentClass:"div"};var Qn=B("media-body",Zn),Jn={componentClass:ge.a},er=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=W(v()(e,["componentClass","className"])),i=r[0],o=r[1],s=U(i);return p.a.createElement(t,a()({},o,{className:y()(n,s)}))},t}(p.a.Component);er.propTypes=Jn,er.defaultProps={componentClass:"h4"};var tr=B("media-heading",er),nr={align:_.a.oneOf(["top","middle","bottom"])},rr=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.align,n=e.className,r=W(v()(e,["align","className"])),i=r[0],o=r[1],s=U(i);return t&&(s[F(pr.defaultProps,t)]=!0),p.a.createElement("div",a()({},o,{className:y()(n,s)}))},t}(p.a.Component);rr.propTypes=nr;var ir=B("media-left",rr),or=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=W(v()(e,["className"])),r=n[0],i=n[1],o=U(r);return p.a.createElement("ul",a()({},i,{className:y()(t,o)}))},t}(p.a.Component),ar=B("media-list",or),sr=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=W(v()(e,["className"])),r=n[0],i=n[1],o=U(r);return p.a.createElement("li",a()({},i,{className:y()(t,o)}))},t}(p.a.Component),lr=B("media",sr),ur={align:_.a.oneOf(["top","middle","bottom"])},cr=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.align,n=e.className,r=W(v()(e,["align","className"])),i=r[0],o=r[1],s=U(i);return t&&(s[F(pr.defaultProps,t)]=!0),p.a.createElement("div",a()({},o,{className:y()(n,s)}))},t}(p.a.Component);cr.propTypes=ur;var fr=B("media-right",cr),dr={componentClass:ge.a},hr=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=W(v()(e,["componentClass","className"])),i=r[0],o=r[1],s=U(i);return p.a.createElement(t,a()({},o,{className:y()(n,s)}))},t}(p.a.Component);hr.propTypes=dr,hr.defaultProps={componentClass:"div"},hr.Heading=tr,hr.Body=Qn,hr.Left=ir,hr.Right=fr,hr.List=ar,hr.ListItem=lr;var pr=B("media",hr),mr={active:_.a.bool,disabled:_.a.bool,divider:Ie()(_.a.bool,(function(e){var t=e.divider,n=e.children;return t&&n?new Error("Children will not be rendered for dividers"):null})),eventKey:_.a.any,header:_.a.bool,href:_.a.string,onClick:_.a.func,onSelect:_.a.func},vr=function(e){function t(n,r){l()(this,t);var i=c()(this,e.call(this,n,r));return i.handleClick=i.handleClick.bind(i),i}return d()(t,e),t.prototype.handleClick=function(e){var t=this.props,n=t.href,r=t.disabled,i=t.onSelect,o=t.eventKey;n&&!r||e.preventDefault(),r||i&&i(o,e)},t.prototype.render=function(){var e=this.props,t=e.active,n=e.disabled,r=e.divider,i=e.header,o=e.onClick,s=e.className,l=e.style,u=q(v()(e,["active","disabled","divider","header","onClick","className","style"]),["eventKey","onSelect"]),c=u[0],f=u[1];return r?(f.children=void 0,p.a.createElement("li",a()({},f,{role:"separator",className:y()(s,"divider"),style:l}))):i?p.a.createElement("li",a()({},f,{role:"heading",className:y()(s,F(c,"header")),style:l})):p.a.createElement("li",{role:"presentation",className:y()(s,{active:t,disabled:n}),style:l},p.a.createElement(we,a()({},f,{role:"menuitem",tabIndex:"-1",onClick:ye(o,this.handleClick)})))},t}(p.a.Component);vr.propTypes=mr,vr.defaultProps={divider:!1,disabled:!1,header:!1};var gr=B("dropdown",vr),yr=n(111),br=n.n(yr),_r=n(36),xr=n.n(_r),wr=n(25),Er=n.n(wr),Tr=n(76),Sr=n.n(Tr),kr=n(50),Or=n.n(kr),Cr=n(109),Ar=n.n(Cr),Mr={componentClass:ge.a},Pr=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=W(v()(e,["componentClass","className"])),i=r[0],o=r[1],s=U(i);return p.a.createElement(t,a()({},o,{className:y()(n,s)}))},t}(p.a.Component);Pr.propTypes=Mr,Pr.defaultProps={componentClass:"div"};var Ir=B("modal-body",Pr),Dr={dialogClassName:_.a.string},Nr=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e,t=this.props,n=t.dialogClassName,r=t.className,i=t.style,o=t.children,s=W(v()(t,["dialogClassName","className","style","children"])),l=s[0],u=s[1],c=F(l),f=a()({display:"block"},i),d=a()({},U(l),((e={})[c]=!1,e[F(l,"dialog")]=!0,e));return p.a.createElement("div",a()({},u,{tabIndex:"-1",role:"dialog",style:f,className:y()(r,c)}),p.a.createElement("div",{className:y()(n,d)},p.a.createElement("div",{className:F(l,"content"),role:"document"},o)))},t}(p.a.Component);Nr.propTypes=Dr;var Rr=B("modal",H([O,C],Nr)),Lr={componentClass:ge.a},jr=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=W(v()(e,["componentClass","className"])),i=r[0],o=r[1],s=U(i);return p.a.createElement(t,a()({},o,{className:y()(n,s)}))},t}(p.a.Component);jr.propTypes=Lr,jr.defaultProps={componentClass:"div"};var Fr=B("modal-footer",jr),Br={closeLabel:_.a.string,closeButton:_.a.bool,onHide:_.a.func},zr={$bs_modal:_.a.shape({onHide:_.a.func})},Hr=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.closeLabel,n=e.closeButton,r=e.onHide,i=e.className,o=e.children,s=v()(e,["closeLabel","closeButton","onHide","className","children"]),l=this.context.$bs_modal,u=W(s),c=u[0],f=u[1],d=U(c);return p.a.createElement("div",a()({},f,{className:y()(i,d)}),n&&p.a.createElement(ue,{label:t,onClick:ye(l&&l.onHide,r)}),o)},t}(p.a.Component);Hr.propTypes=Br,Hr.defaultProps={closeLabel:"Close",closeButton:!1},Hr.contextTypes=zr;var Ur=B("modal-header",Hr),Vr={componentClass:ge.a},Gr=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=W(v()(e,["componentClass","className"])),i=r[0],o=r[1],s=U(i);return p.a.createElement(t,a()({},o,{className:y()(n,s)}))},t}(p.a.Component);Gr.propTypes=Vr,Gr.defaultProps={componentClass:"h4"};var Wr=B("modal-title",Gr),qr=a()({},Or.a.propTypes,Rr.propTypes,{backdrop:_.a.oneOf(["static",!0,!1]),backdropClassName:_.a.string,keyboard:_.a.bool,animation:_.a.bool,dialogComponentClass:ge.a,autoFocus:_.a.bool,enforceFocus:_.a.bool,restoreFocus:_.a.bool,show:_.a.bool,onHide:_.a.func,onEnter:_.a.func,onEntering:_.a.func,onEntered:_.a.func,onExit:_.a.func,onExiting:_.a.func,onExited:_.a.func,container:Or.a.propTypes.container}),Yr=a()({},Or.a.defaultProps,{animation:!0,dialogComponentClass:Rr}),Xr={$bs_modal:_.a.shape({onHide:_.a.func})};function $r(e){return p.a.createElement(sn,a()({},e,{timeout:Zr.TRANSITION_DURATION}))}function Kr(e){return p.a.createElement(sn,a()({},e,{timeout:Zr.BACKDROP_TRANSITION_DURATION}))}var Zr=function(e){function t(n,r){l()(this,t);var i=c()(this,e.call(this,n,r));return i.handleEntering=i.handleEntering.bind(i),i.handleExited=i.handleExited.bind(i),i.handleWindowResize=i.handleWindowResize.bind(i),i.handleDialogClick=i.handleDialogClick.bind(i),i.setModalRef=i.setModalRef.bind(i),i.state={style:{}},i}return d()(t,e),t.prototype.getChildContext=function(){return{$bs_modal:{onHide:this.props.onHide}}},t.prototype.componentWillUnmount=function(){this.handleExited()},t.prototype.setModalRef=function(e){this._modal=e},t.prototype.handleDialogClick=function(e){e.target===e.currentTarget&&this.props.onHide()},t.prototype.handleEntering=function(){br.a.on(window,"resize",this.handleWindowResize),this.updateStyle()},t.prototype.handleExited=function(){br.a.off(window,"resize",this.handleWindowResize)},t.prototype.handleWindowResize=function(){this.updateStyle()},t.prototype.updateStyle=function(){if(Er.a){var e=this._modal.getDialogElement(),t=e.scrollHeight,n=xr()(e),r=Ar()(Ue.a.findDOMNode(this.props.container||n.body)),i=t>n.documentElement.clientHeight;this.setState({style:{paddingRight:r&&!i?Sr()():void 0,paddingLeft:!r&&i?Sr()():void 0}})}},t.prototype.render=function(){var e=this.props,t=e.backdrop,n=e.backdropClassName,r=e.animation,i=e.show,o=e.dialogComponentClass,s=e.className,l=e.style,u=e.children,c=e.onEntering,f=e.onExited,d=v()(e,["backdrop","backdropClassName","animation","show","dialogComponentClass","className","style","children","onEntering","onExited"]),h=Qt(d,Or.a),m=h[0],g=h[1],b=i&&!r&&"in";return p.a.createElement(Or.a,a()({},m,{ref:this.setModalRef,show:i,containerClassName:F(d,"open"),transition:r?$r:void 0,backdrop:t,backdropTransition:r?Kr:void 0,backdropClassName:y()(F(d,"backdrop"),n,b),onEntering:ye(c,this.handleEntering),onExited:ye(f,this.handleExited)}),p.a.createElement(o,a()({},g,{style:a()({},this.state.style,l),className:y()(s,b),onClick:!0===t?this.handleDialogClick:null}),u))},t}(p.a.Component);Zr.propTypes=qr,Zr.defaultProps=Yr,Zr.childContextTypes=Xr,Zr.Body=Ir,Zr.Header=Ur,Zr.Title=Wr,Zr.Footer=Fr,Zr.Dialog=Rr,Zr.TRANSITION_DURATION=300,Zr.BACKDROP_TRANSITION_DURATION=150;var Qr=B("modal",H([O,C],Zr)),Jr={activeKey:_.a.any,activeHref:_.a.string,stacked:_.a.bool,justified:Ie()(_.a.bool,(function(e){var t=e.justified,n=e.navbar;return t&&n?Error("justified navbar `Nav`s are not supported"):null})),onSelect:_.a.func,role:_.a.string,navbar:_.a.bool,pullRight:_.a.bool,pullLeft:_.a.bool},ei={$bs_navbar:_.a.shape({bsClass:_.a.string,onSelect:_.a.func}),$bs_tabContainer:_.a.shape({activeKey:_.a.any,onSelect:_.a.func.isRequired,getTabId:_.a.func.isRequired,getPaneId:_.a.func.isRequired})},ti=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.componentDidUpdate=function(){var e=this;if(this._needsRefocus){this._needsRefocus=!1;var t=this.props.children,n=this.getActiveProps(),r=n.activeKey,i=n.activeHref,o=$.find(t,(function(t){return e.isActive(t,r,i)})),a=$.toArray(t).indexOf(o),s=Ue.a.findDOMNode(this).children,l=s&&s[a];l&&l.firstChild&&l.firstChild.focus()}},t.prototype.getActiveProps=function(){var e=this.context.$bs_tabContainer;return e||this.props},t.prototype.getNextActiveChild=function(e){var t=this,n=this.props.children,r=n.filter((function(e){return null!=e.props.eventKey&&!e.props.disabled})),i=this.getActiveProps(),o=i.activeKey,a=i.activeHref,s=$.find(n,(function(e){return t.isActive(e,o,a)})),l=r.indexOf(s);if(-1===l)return r[0];var u=l+e,c=r.length;return u>=c?u=0:u<0&&(u=c-1),r[u]},t.prototype.getTabProps=function(e,t,n,r,i){var o=this;if(!t&&"tablist"!==n)return null;var a=e.props,s=a.id,l=a["aria-controls"],u=a.eventKey,c=a.role,f=a.onKeyDown,d=a.tabIndex;return t&&(s=t.getTabId(u),l=t.getPaneId(u)),"tablist"===n&&(c=c||"tab",f=ye((function(e){return o.handleTabKeyDown(i,e)}),f),d=r?d:-1),{id:s,role:c,onKeyDown:f,"aria-controls":l,tabIndex:d}},t.prototype.handleTabKeyDown=function(e,t){var n=void 0;switch(t.keyCode){case It.a.codes.left:case It.a.codes.up:n=this.getNextActiveChild(-1);break;case It.a.codes.right:case It.a.codes.down:n=this.getNextActiveChild(1);break;default:return}t.preventDefault(),e&&n&&null!=n.props.eventKey&&e(n.props.eventKey),this._needsRefocus=!0},t.prototype.isActive=function(e,t,n){var r=e.props;return!!(r.active||null!=t&&r.eventKey===t||n&&r.href===n)||r.active},t.prototype.render=function(){var e,t=this,n=this.props,r=n.stacked,i=n.justified,o=n.onSelect,s=n.role,l=n.navbar,u=n.pullRight,c=n.pullLeft,f=n.className,d=n.children,m=v()(n,["stacked","justified","onSelect","role","navbar","pullRight","pullLeft","className","children"]),g=this.context.$bs_tabContainer,b=s||(g?"tablist":null),_=this.getActiveProps(),x=_.activeKey,w=_.activeHref;delete m.activeKey,delete m.activeHref;var E=W(m),T=E[0],S=E[1],k=a()({},U(T),((e={})[F(T,"stacked")]=r,e[F(T,"justified")]=i,e)),O=null!=l?l:this.context.$bs_navbar,C=void 0,A=void 0;if(O){var M=this.context.$bs_navbar||{bsClass:"navbar"};k[F(M,"nav")]=!0,A=F(M,"right"),C=F(M,"left")}else A="pull-right",C="pull-left";return k[A]=u,k[C]=c,p.a.createElement("ul",a()({},S,{role:b,className:y()(f,k)}),$.map(d,(function(e){var n=t.isActive(e,x,w),r=ye(e.props.onSelect,o,O&&O.onSelect,g&&g.onSelect);return Object(h.cloneElement)(e,a()({},t.getTabProps(e,g,b,n,r),{active:n,activeKey:x,activeHref:w,onSelect:r}))})))},t}(p.a.Component);ti.propTypes=Jr,ti.defaultProps={justified:!1,pullRight:!1,pullLeft:!1,stacked:!1},ti.contextTypes=ei;var ni=B("nav",z(["tabs","pills"],ti)),ri={$bs_navbar:_.a.shape({bsClass:_.a.string})},ii=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,r=v()(e,["className","children"]),i=F(this.context.$bs_navbar||{bsClass:"navbar"},"brand");return p.a.isValidElement(n)?p.a.cloneElement(n,{className:y()(n.props.className,t,i)}):p.a.createElement("span",a()({},r,{className:y()(t,i)}),n)},t}(p.a.Component);ii.contextTypes=ri;var oi=ii,ai={$bs_navbar:_.a.shape({bsClass:_.a.string,expanded:_.a.bool})},si=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=v()(e,["children"]),r=this.context.$bs_navbar||{bsClass:"navbar"},i=F(r,"collapse");return p.a.createElement(kt,a()({in:r.expanded},n),p.a.createElement("div",{className:i},t))},t}(p.a.Component);si.contextTypes=ai;var li=si,ui={$bs_navbar:_.a.shape({bsClass:_.a.string})},ci=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=v()(e,["className"]),r=F(this.context.$bs_navbar||{bsClass:"navbar"},"header");return p.a.createElement("div",a()({},n,{className:y()(t,r)}))},t}(p.a.Component);ci.contextTypes=ui;var fi=ci,di={onClick:_.a.func,children:_.a.node},hi={$bs_navbar:_.a.shape({bsClass:_.a.string,expanded:_.a.bool,onToggle:_.a.func.isRequired})},pi=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.onClick,n=e.className,r=e.children,i=v()(e,["onClick","className","children"]),o=this.context.$bs_navbar||{bsClass:"navbar"},s=a()({type:"button"},i,{onClick:ye(t,o.onToggle),className:y()(n,F(o,"toggle"),!o.expanded&&"collapsed")});return r?p.a.createElement("button",s,r):p.a.createElement("button",s,p.a.createElement("span",{className:"sr-only"},"Toggle navigation"),p.a.createElement("span",{className:"icon-bar"}),p.a.createElement("span",{className:"icon-bar"}),p.a.createElement("span",{className:"icon-bar"}))},t}(p.a.Component);pi.propTypes=di,pi.contextTypes=hi;var mi=pi,vi={fixedTop:_.a.bool,fixedBottom:_.a.bool,staticTop:_.a.bool,inverse:_.a.bool,fluid:_.a.bool,componentClass:ge.a,onToggle:_.a.func,onSelect:_.a.func,collapseOnSelect:_.a.bool,expanded:_.a.bool,role:_.a.string},gi={$bs_navbar:_.a.shape({bsClass:_.a.string,expanded:_.a.bool,onToggle:_.a.func.isRequired,onSelect:_.a.func})},yi=function(e){function t(n,r){l()(this,t);var i=c()(this,e.call(this,n,r));return i.handleToggle=i.handleToggle.bind(i),i.handleCollapse=i.handleCollapse.bind(i),i}return d()(t,e),t.prototype.getChildContext=function(){var e=this.props,t=e.bsClass,n=e.expanded,r=e.onSelect,i=e.collapseOnSelect;return{$bs_navbar:{bsClass:t,expanded:n,onToggle:this.handleToggle,onSelect:ye(r,i?this.handleCollapse:null)}}},t.prototype.handleCollapse=function(){var e=this.props,t=e.onToggle;e.expanded&&t(!1)},t.prototype.handleToggle=function(){var e=this.props;(0,e.onToggle)(!e.expanded)},t.prototype.render=function(){var e,t=this.props,n=t.componentClass,r=t.fixedTop,i=t.fixedBottom,o=t.staticTop,s=t.inverse,l=t.fluid,u=t.className,c=t.children,f=q(v()(t,["componentClass","fixedTop","fixedBottom","staticTop","inverse","fluid","className","children"]),["expanded","onToggle","onSelect","collapseOnSelect"]),d=f[0],h=f[1];void 0===h.role&&"nav"!==n&&(h.role="navigation"),s&&(d.bsStyle=L);var m=a()({},U(d),((e={})[F(d,"fixed-top")]=r,e[F(d,"fixed-bottom")]=i,e[F(d,"static-top")]=o,e));return p.a.createElement(n,a()({},h,{className:y()(u,m)}),p.a.createElement(On,{fluid:l},c))},t}(p.a.Component);yi.propTypes=vi,yi.defaultProps={componentClass:"nav",fixedTop:!1,fixedBottom:!1,staticTop:!1,inverse:!1,fluid:!1,collapseOnSelect:!1},yi.childContextTypes=gi,B("navbar",yi);var bi=w()(yi,{expanded:"onToggle"});function _i(e,t,n){var r=function(e,n){var r=n.$bs_navbar,i=void 0===r?{bsClass:"navbar"}:r,o=e.componentClass,s=e.className,l=e.pullRight,u=e.pullLeft,c=v()(e,["componentClass","className","pullRight","pullLeft"]);return p.a.createElement(o,a()({},c,{className:y()(s,F(i,t),l&&F(i,"right"),u&&F(i,"left"))}))};return r.displayName=n,r.propTypes={componentClass:ge.a,pullRight:_.a.bool,pullLeft:_.a.bool},r.defaultProps={componentClass:e,pullRight:!1,pullLeft:!1},r.contextTypes={$bs_navbar:_.a.shape({bsClass:_.a.string})},r}bi.Brand=oi,bi.Header=fi,bi.Toggle=mi,bi.Collapse=li,bi.Form=_i("div","form","NavbarForm"),bi.Text=_i("p","text","NavbarText"),bi.Link=_i("a","link","NavbarLink");var xi=z([D,L],D,bi),wi=a()({},Zt.propTypes,{title:_.a.node.isRequired,noCaret:_.a.bool,active:_.a.bool,activeKey:_.a.any,activeHref:_.a.string,children:_.a.node}),Ei=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.isActive=function(e,t,n){var r=e.props,i=this;return!!(r.active||null!=t&&r.eventKey===t||n&&r.href===n)||(!!$.some(r.children,(function(e){return i.isActive(e,t,n)}))||r.active)},t.prototype.render=function(){var e=this,t=this.props,n=t.title,r=t.activeKey,i=t.activeHref,o=t.className,s=t.style,l=t.children,u=v()(t,["title","activeKey","activeHref","className","style","children"]),c=this.isActive(this,r,i);delete u.active,delete u.eventKey;var f=Qt(u,Zt.ControlledComponent),d=f[0],h=f[1];return p.a.createElement(Zt,a()({},d,{componentClass:"li",className:y()(o,{active:c}),style:s}),p.a.createElement(Zt.Toggle,a()({},h,{useAnchor:!0}),n),p.a.createElement(Zt.Menu,null,$.map(l,(function(t){return p.a.cloneElement(t,{active:e.isActive(t,r,i)})}))))},t}(p.a.Component);Ei.propTypes=wi;var Ti=Ei,Si={active:_.a.bool,disabled:_.a.bool,role:_.a.string,href:_.a.string,onClick:_.a.func,onSelect:_.a.func,eventKey:_.a.any},ki=function(e){function t(n,r){l()(this,t);var i=c()(this,e.call(this,n,r));return i.handleClick=i.handleClick.bind(i),i}return d()(t,e),t.prototype.handleClick=function(e){this.props.disabled?e.preventDefault():this.props.onSelect&&this.props.onSelect(this.props.eventKey,e)},t.prototype.render=function(){var e=this.props,t=e.active,n=e.disabled,r=e.onClick,i=e.className,o=e.style,s=v()(e,["active","disabled","onClick","className","style"]);return delete s.onSelect,delete s.eventKey,delete s.activeKey,delete s.activeHref,s.role?"tab"===s.role&&(s["aria-selected"]=t):"#"===s.href&&(s.role="button"),p.a.createElement("li",{role:"presentation",className:y()(i,{active:t,disabled:n}),style:o},p.a.createElement(we,a()({},s,{disabled:n,onClick:ye(r,this.handleClick)})))},t}(p.a.Component);ki.propTypes=Si,ki.defaultProps={active:!1,disabled:!1};var Oi=ki,Ci=n(112),Ai=n.n(Ci),Mi=a()({},Ai.a.propTypes,{show:_.a.bool,rootClose:_.a.bool,onHide:_.a.func,animation:_.a.oneOfType([_.a.bool,ge.a]),onEnter:_.a.func,onEntering:_.a.func,onEntered:_.a.func,onExit:_.a.func,onExiting:_.a.func,onExited:_.a.func,placement:_.a.oneOf(["top","right","bottom","left"])}),Pi={animation:sn,rootClose:!1,show:!1,placement:"right"},Ii=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.animation,n=e.children,r=v()(e,["animation","children"]),i=!0===t?sn:t||null,o=void 0;return o=i?n:Object(h.cloneElement)(n,{className:y()(n.props.className,"in")}),p.a.createElement(Ai.a,a()({},r,{transition:i}),o)},t}(p.a.Component);Ii.propTypes=Mi,Ii.defaultProps=Pi;var Di=Ii;function Ni(e,t){return Array.isArray(t)?t.indexOf(e)>=0:e===t}var Ri=_.a.oneOf(["click","hover","focus"]),Li=a()({},Di.propTypes,{trigger:_.a.oneOfType([Ri,_.a.arrayOf(Ri)]),delay:_.a.number,delayShow:_.a.number,delayHide:_.a.number,defaultOverlayShown:_.a.bool,overlay:_.a.node.isRequired,onBlur:_.a.func,onClick:_.a.func,onFocus:_.a.func,onMouseOut:_.a.func,onMouseOver:_.a.func,target:_.a.oneOf([null]),onHide:_.a.oneOf([null]),show:_.a.oneOf([null])}),ji=function(e){function t(n,r){l()(this,t);var i=c()(this,e.call(this,n,r));return i.handleToggle=i.handleToggle.bind(i),i.handleDelayedShow=i.handleDelayedShow.bind(i),i.handleDelayedHide=i.handleDelayedHide.bind(i),i.handleHide=i.handleHide.bind(i),i.handleMouseOver=function(e){return i.handleMouseOverOut(i.handleDelayedShow,e,"fromElement")},i.handleMouseOut=function(e){return i.handleMouseOverOut(i.handleDelayedHide,e,"toElement")},i._mountNode=null,i.state={show:n.defaultOverlayShown},i}return d()(t,e),t.prototype.componentDidMount=function(){this._mountNode=document.createElement("div"),this.renderOverlay()},t.prototype.componentDidUpdate=function(){this.renderOverlay()},t.prototype.componentWillUnmount=function(){Ue.a.unmountComponentAtNode(this._mountNode),this._mountNode=null,clearTimeout(this._hoverShowDelay),clearTimeout(this._hoverHideDelay)},t.prototype.handleDelayedHide=function(){var e=this;if(null!=this._hoverShowDelay)return clearTimeout(this._hoverShowDelay),void(this._hoverShowDelay=null);if(this.state.show&&null==this._hoverHideDelay){var t=null!=this.props.delayHide?this.props.delayHide:this.props.delay;t?this._hoverHideDelay=setTimeout((function(){e._hoverHideDelay=null,e.hide()}),t):this.hide()}},t.prototype.handleDelayedShow=function(){var e=this;if(null!=this._hoverHideDelay)return clearTimeout(this._hoverHideDelay),void(this._hoverHideDelay=null);if(!this.state.show&&null==this._hoverShowDelay){var t=null!=this.props.delayShow?this.props.delayShow:this.props.delay;t?this._hoverShowDelay=setTimeout((function(){e._hoverShowDelay=null,e.show()}),t):this.show()}},t.prototype.handleHide=function(){this.hide()},t.prototype.handleMouseOverOut=function(e,t,n){var r=t.currentTarget,i=t.relatedTarget||t.nativeEvent[n];i&&i===r||Mt()(r,i)||e(t)},t.prototype.handleToggle=function(){this.state.show?this.hide():this.show()},t.prototype.hide=function(){this.setState({show:!1})},t.prototype.makeOverlay=function(e,t){return p.a.createElement(Di,a()({},t,{show:this.state.show,onHide:this.handleHide,target:this}),e)},t.prototype.show=function(){this.setState({show:!0})},t.prototype.renderOverlay=function(){Ue.a.unstable_renderSubtreeIntoContainer(this,this._overlay,this._mountNode)},t.prototype.render=function(){var e=this.props,t=e.trigger,n=e.overlay,r=e.children,i=e.onBlur,o=e.onClick,a=e.onFocus,s=e.onMouseOut,l=e.onMouseOver,u=v()(e,["trigger","overlay","children","onBlur","onClick","onFocus","onMouseOut","onMouseOver"]);delete u.delay,delete u.delayShow,delete u.delayHide,delete u.defaultOverlayShown;var c=p.a.Children.only(r),f=c.props,d={};return this.state.show&&(d["aria-describedby"]=n.props.id),d.onClick=ye(f.onClick,o),Ni("click",t)&&(d.onClick=ye(d.onClick,this.handleToggle)),Ni("hover",t)&&(d.onMouseOver=ye(f.onMouseOver,l,this.handleMouseOver),d.onMouseOut=ye(f.onMouseOut,s,this.handleMouseOut)),Ni("focus",t)&&(d.onFocus=ye(f.onFocus,a,this.handleDelayedShow),d.onBlur=ye(f.onBlur,i,this.handleDelayedHide)),this._overlay=this.makeOverlay(n,u),Object(h.cloneElement)(c,d)},t}(p.a.Component);ji.propTypes=Li,ji.defaultProps={defaultOverlayShown:!1,trigger:["hover","focus"]};var Fi=ji,Bi=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,r=W(v()(e,["className","children"])),i=r[0],o=r[1],s=U(i);return p.a.createElement("div",a()({},o,{className:y()(t,s)}),p.a.createElement("h1",null,n))},t}(p.a.Component),zi=B("page-header",Bi),Hi={disabled:_.a.bool,previous:_.a.bool,next:_.a.bool,onClick:_.a.func,onSelect:_.a.func,eventKey:_.a.any},Ui=function(e){function t(n,r){l()(this,t);var i=c()(this,e.call(this,n,r));return i.handleSelect=i.handleSelect.bind(i),i}return d()(t,e),t.prototype.handleSelect=function(e){var t=this.props,n=t.disabled,r=t.onSelect,i=t.eventKey;n?e.preventDefault():r&&r(i,e)},t.prototype.render=function(){var e=this.props,t=e.disabled,n=e.previous,r=e.next,i=e.onClick,o=e.className,s=e.style,l=v()(e,["disabled","previous","next","onClick","className","style"]);return delete l.onSelect,delete l.eventKey,p.a.createElement("li",{className:y()(o,{disabled:t,previous:n,next:r}),style:s},p.a.createElement(we,a()({},l,{disabled:t,onClick:ye(i,this.handleSelect)})))},t}(p.a.Component);Ui.propTypes=Hi,Ui.defaultProps={disabled:!1,previous:!1,next:!1};var Vi=Ui,Gi=n(75),Wi=n.n(Gi),qi={};function Yi(e,t,n){var r=void 0;"object"===("undefined"===typeof e?"undefined":Wi()(e))?r=e.message:(r=e+" is deprecated. Use "+t+" instead.",n&&(r+="\nYou can read more about it at "+n)),qi[r]||(qi[r]=!0)}Yi.wrapper=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.componentWillMount=function(){if(Yi.apply(void 0,n),e.prototype.componentWillMount){for(var t,r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];(t=e.prototype.componentWillMount).call.apply(t,[this].concat(i))}},t}(e)};var Xi=Yi.wrapper(Vi,"`<PageItem>`","`<Pager.Item>`"),$i={onSelect:_.a.func},Ki=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.onSelect,n=e.className,r=e.children,i=W(v()(e,["onSelect","className","children"])),o=i[0],s=i[1],l=U(o);return p.a.createElement("ul",a()({},s,{className:y()(n,l)}),$.map(r,(function(e){return Object(h.cloneElement)(e,{onSelect:ye(e.props.onSelect,t)})})))},t}(p.a.Component);Ki.propTypes=$i,Ki.Item=Vi;var Zi=B("pager",Ki),Qi={eventKey:_.a.any,className:_.a.string,onSelect:_.a.func,disabled:_.a.bool,active:_.a.bool,activeLabel:_.a.string.isRequired};function Ji(e){var t=e.active,n=e.disabled,r=e.className,i=e.style,o=e.activeLabel,s=e.children,l=v()(e,["active","disabled","className","style","activeLabel","children"]),u=t||n?"span":we;return p.a.createElement("li",{style:i,className:y()(r,{active:t,disabled:n})},p.a.createElement(u,a()({disabled:n},l),s,t&&p.a.createElement("span",{className:"sr-only"},o)))}function eo(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return r=n=function(e){function n(){return l()(this,n),c()(this,e.apply(this,arguments))}return d()(n,e),n.prototype.render=function(){var e=this.props,n=e.disabled,r=e.children,o=e.className,s=v()(e,["disabled","children","className"]),l=n?"span":we;return p.a.createElement("li",a()({"aria-label":i,className:y()(o,{disabled:n})},s),p.a.createElement(l,null,r||t))},n}(p.a.Component),n.displayName=e,n.propTypes={disabled:_.a.bool},r}Ji.propTypes=Qi,Ji.defaultProps={active:!1,disabled:!1,activeLabel:"(current)"};var to=eo("First","\xab"),no=eo("Prev","\u2039"),ro=eo("Ellipsis","\u2026","More"),io=eo("Next","\u203a"),oo=eo("Last","\xbb"),ao=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,r=W(v()(e,["className","children"])),i=r[0],o=r[1],s=U(i);return p.a.createElement("ul",a()({},o,{className:y()(t,s)}),n)},t}(p.a.Component);B("pagination",ao),ao.First=to,ao.Prev=no,ao.Ellipsis=ro,ao.Item=Ji,ao.Next=io,ao.Last=oo;var so=ao,lo=n(106),uo=n.n(lo),co={onEnter:_.a.func,onEntering:_.a.func,onEntered:_.a.func,onExit:_.a.func,onExiting:_.a.func,onExited:_.a.func},fo={$bs_panel:_.a.shape({headingId:_.a.string,bodyId:_.a.string,bsClass:_.a.string,expanded:_.a.bool})},ho=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props.children,t=this.context.$bs_panel||{},n=t.headingId,r=t.bodyId,i=t.bsClass,o=t.expanded,s=W(this.props),l=s[0],u=s[1];return l.bsClass=i||l.bsClass,n&&r&&(u.id=r,u.role=u.role||"tabpanel",u["aria-labelledby"]=n),p.a.createElement(kt,a()({in:o},u),p.a.createElement("div",{className:F(l,"collapse")},e))},t}(p.a.Component);ho.propTypes=co,ho.contextTypes=fo;var po=B("panel",ho),mo={collapsible:_.a.bool.isRequired},vo={$bs_panel:_.a.shape({bsClass:_.a.string})},go=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=e.collapsible,i=(this.context.$bs_panel||{}).bsClass,o=q(this.props,["collapsible"]),s=o[0],l=o[1];s.bsClass=i||s.bsClass;var u=p.a.createElement("div",a()({},l,{className:y()(n,F(s,"body"))}),t);return r&&(u=p.a.createElement(po,null,u)),u},t}(p.a.Component);go.propTypes=mo,go.defaultProps={collapsible:!1},go.contextTypes=vo;var yo=B("panel",go),bo=n(49),_o=n.n(bo),xo={componentClass:_o.a},wo={$bs_panel:_.a.shape({headingId:_.a.string,bsClass:_.a.string})},Eo=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=e.componentClass,i=v()(e,["children","className","componentClass"]),o=this.context.$bs_panel||{},s=o.headingId,l=o.bsClass,u=W(i),c=u[0],f=u[1];return c.bsClass=l||c.bsClass,s&&(f.role=f.role||"tab",f.id=s),p.a.createElement(r,a()({},f,{className:y()(n,F(c,"heading"))}),t)},t}(p.a.Component);Eo.propTypes=xo,Eo.defaultProps={componentClass:"div"},Eo.contextTypes=wo;var To=B("panel",Eo),So={onClick:_.a.func,componentClass:_o.a},ko={componentClass:we},Oo={$bs_panel:_.a.shape({bodyId:_.a.string,onToggle:_.a.func,expanded:_.a.bool})},Co=function(e){function t(){l()(this,t);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=c()(this,e.call.apply(e,[this].concat(r)));return o.handleToggle=o.handleToggle.bind(o),o}return d()(t,e),t.prototype.handleToggle=function(e){var t=(this.context.$bs_panel||{}).onToggle;t&&t(e)},t.prototype.render=function(){var e=this.props,t=e.onClick,n=e.className,r=e.componentClass,i=v()(e,["onClick","className","componentClass"]),o=this.context.$bs_panel||{},a=o.expanded,s=o.bodyId,l=r;return i.onClick=ye(t,this.handleToggle),i["aria-expanded"]=a,i.className=y()(n,!a&&"collapsed"),s&&(i["aria-controls"]=s),p.a.createElement(l,i)},t}(p.a.Component);Co.propTypes=So,Co.defaultProps=ko,Co.contextTypes=Oo;var Ao=Co,Mo={componentClass:_o.a,toggle:_.a.bool},Po={$bs_panel:_.a.shape({bsClass:_.a.string})},Io=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=e.toggle,i=e.componentClass,o=v()(e,["children","className","toggle","componentClass"]),s=(this.context.$bs_panel||{}).bsClass,l=W(o),u=l[0],c=l[1];return u.bsClass=s||u.bsClass,r&&(t=p.a.createElement(Ao,null,t)),p.a.createElement(i,a()({},c,{className:y()(n,F(u,"title"))}),t)},t}(p.a.Component);Io.propTypes=Mo,Io.defaultProps={componentClass:"div"},Io.contextTypes=Po;var Do=B("panel",Io),No={$bs_panel:_.a.shape({bsClass:_.a.string})},Ro=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=(this.context.$bs_panel||{}).bsClass,i=W(this.props),o=i[0],s=i[1];return o.bsClass=r||o.bsClass,p.a.createElement("div",a()({},s,{className:y()(n,F(o,"footer"))}),t)},t}(p.a.Component);Ro.contextTypes=No;var Lo=B("panel",Ro),jo=Object.prototype.hasOwnProperty,Fo=function(e,t){return e?e+"--"+t:null},Bo={expanded:_.a.bool,onToggle:_.a.func,eventKey:_.a.any,id:_.a.string},zo={$bs_panelGroup:_.a.shape({getId:_.a.func,activeKey:_.a.any,onToggle:_.a.func})},Ho={$bs_panel:_.a.shape({headingId:_.a.string,bodyId:_.a.string,bsClass:_.a.string,onToggle:_.a.func,expanded:_.a.bool})},Uo=function(e){function t(){var n,r,i;l()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=c()(this,e.call.apply(e,[this].concat(a))),r.handleToggle=function(e){var t=r.context.$bs_panelGroup,n=!r.getExpanded();t&&t.onToggle?t.onToggle(r.props.eventKey,n,e):r.props.onToggle(n,e)},i=n,c()(r,i)}return d()(t,e),t.prototype.getChildContext=function(){var e=this.props,t=e.eventKey,n=e.id,r=null==t?n:t,i=void 0;if(null!==r){var o=this.context.$bs_panelGroup,s=o&&o.getId||Fo;i={headingId:s(r,"heading"),bodyId:s(r,"body")}}return{$bs_panel:a()({},i,{bsClass:this.props.bsClass,expanded:this.getExpanded(),onToggle:this.handleToggle})}},t.prototype.getExpanded=function(){var e=this.context.$bs_panelGroup;return e&&jo.call(e,"activeKey")?e.activeKey===this.props.eventKey:!!this.props.expanded},t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,r=q(this.props,["onToggle","eventKey","expanded"]),i=r[0],o=r[1];return p.a.createElement("div",a()({},o,{className:y()(t,U(i))}),n)},t}(p.a.Component);Uo.propTypes=Bo,Uo.contextTypes=zo,Uo.childContextTypes=Ho;var Vo=w()(B("panel",z([].concat(ae()(I),[D,N]),D,Uo)),{expanded:"onToggle"});uo()(Vo,{Heading:To,Title:Do,Body:yo,Footer:Lo,Toggle:Ao,Collapse:po});var Go=Vo,Wo={id:Nt()(_.a.oneOfType([_.a.string,_.a.number])),placement:_.a.oneOf(["top","right","bottom","left"]),positionTop:_.a.oneOfType([_.a.number,_.a.string]),positionLeft:_.a.oneOfType([_.a.number,_.a.string]),arrowOffsetTop:_.a.oneOfType([_.a.number,_.a.string]),arrowOffsetLeft:_.a.oneOfType([_.a.number,_.a.string]),title:_.a.node},qo=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e,t=this.props,n=t.placement,r=t.positionTop,i=t.positionLeft,o=t.arrowOffsetTop,s=t.arrowOffsetLeft,l=t.title,u=t.className,c=t.style,f=t.children,d=W(v()(t,["placement","positionTop","positionLeft","arrowOffsetTop","arrowOffsetLeft","title","className","style","children"])),h=d[0],m=d[1],g=a()({},U(h),((e={})[n]=!0,e)),b=a()({display:"block",top:r,left:i},c),_={top:o,left:s};return p.a.createElement("div",a()({},m,{role:"tooltip",className:y()(u,g),style:b}),p.a.createElement("div",{className:"arrow",style:_}),l&&p.a.createElement("h3",{className:F(h,"title")},l),p.a.createElement("div",{className:F(h,"content")},f))},t}(p.a.Component);qo.propTypes=Wo,qo.defaultProps={placement:"right"};var Yo=B("popover",qo);var Xo={min:_.a.number,now:_.a.number,max:_.a.number,label:_.a.node,srOnly:_.a.bool,striped:_.a.bool,active:_.a.bool,children:function(e,t,n){var r=e[t];if(!r)return null;var i=null;return p.a.Children.forEach(r,(function(e){if(!i&&e.type!==Ko){var t=p.a.isValidElement(e)?e.type.displayName||e.type.name||e.type:e;i=new Error("Children of "+n+" can contain only ProgressBar components. Found "+t+".")}})),i},isChild:_.a.bool};function $o(e,t,n){var r=(e-t)/(n-t)*100;return Math.round(1e3*r)/1e3}var Ko=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.renderProgressBar=function(e){var t,n=e.min,r=e.now,i=e.max,o=e.label,s=e.srOnly,l=e.striped,u=e.active,c=e.className,f=e.style,d=W(v()(e,["min","now","max","label","srOnly","striped","active","className","style"])),h=d[0],m=d[1],g=a()({},U(h),((t={active:u})[F(h,"striped")]=u||l,t));return p.a.createElement("div",a()({},m,{role:"progressbar",className:y()(c,g),style:a()({width:$o(r,n,i)+"%"},f),"aria-valuenow":r,"aria-valuemin":n,"aria-valuemax":i}),s?p.a.createElement("span",{className:"sr-only"},o):o)},t.prototype.render=function(){var e=this.props,t=e.isChild,n=v()(e,["isChild"]);if(t)return this.renderProgressBar(n);var r=n.min,i=n.now,o=n.max,s=n.label,l=n.srOnly,u=n.striped,c=n.active,f=n.bsClass,d=n.bsStyle,m=n.className,g=n.children,b=v()(n,["min","now","max","label","srOnly","striped","active","bsClass","bsStyle","className","children"]);return p.a.createElement("div",a()({},b,{className:y()(m,"progress")}),g?$.map(g,(function(e){return Object(h.cloneElement)(e,{isChild:!0})})):this.renderProgressBar({min:r,now:i,max:o,label:s,srOnly:l,striped:u,active:c,bsClass:f,bsStyle:d}))},t}(p.a.Component);Ko.propTypes=Xo,Ko.defaultProps={min:0,max:100,active:!1,isChild:!1,srOnly:!1,striped:!1};var Zo=B("progress-bar",z(ae()(I),Ko)),Qo={inline:_.a.bool,disabled:_.a.bool,title:_.a.string,validationState:_.a.oneOf(["success","warning","error",null]),inputRef:_.a.func},Jo=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.inline,n=e.disabled,r=e.validationState,i=e.inputRef,o=e.className,s=e.style,l=e.title,u=e.children,c=W(v()(e,["inline","disabled","validationState","inputRef","className","style","title","children"])),f=c[0],d=c[1],h=p.a.createElement("input",a()({},d,{ref:i,type:"radio",disabled:n}));if(t){var m,g=((m={})[F(f,"inline")]=!0,m.disabled=n,m);return p.a.createElement("label",{className:y()(o,g),style:s,title:l},h,u)}var b=a()({},U(f),{disabled:n});return r&&(b["has-"+r]=!0),p.a.createElement("div",{className:y()(o,b),style:s},p.a.createElement("label",{title:l},h,u))},t}(p.a.Component);Jo.propTypes=Qo,Jo.defaultProps={inline:!1,disabled:!1,title:""};var ea=B("radio",Jo),ta={children:_.a.element.isRequired,a16by9:_.a.bool,a4by3:_.a.bool},na=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e,t=this.props,n=t.a16by9,r=t.a4by3,i=t.className,o=t.children,s=W(v()(t,["a16by9","a4by3","className","children"])),l=s[0],u=s[1],c=a()({},U(l),((e={})[F(l,"16by9")]=n,e[F(l,"4by3")]=r,e));return p.a.createElement("div",{className:y()(c)},Object(h.cloneElement)(o,a()({},u,{className:y()(i,F(l,"item"))})))},t}(p.a.Component);na.propTypes=ta,na.defaultProps={a16by9:!1,a4by3:!1};var ra=B("embed-responsive",na),ia={componentClass:ge.a},oa=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=W(v()(e,["componentClass","className"])),i=r[0],o=r[1],s=U(i);return p.a.createElement(t,a()({},o,{className:y()(n,s)}))},t}(p.a.Component);oa.propTypes=ia,oa.defaultProps={componentClass:"div"};var aa=B("row",oa),sa=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){return p.a.createElement(Gt,a()({},this.props,{useAnchor:!1,noCaret:!1}))},t}(p.a.Component);sa.defaultProps=Gt.defaultProps;var la=sa,ua=a()({},Zt.propTypes,{bsStyle:_.a.string,bsSize:_.a.string,href:_.a.string,onClick:_.a.func,title:_.a.node.isRequired,toggleLabel:_.a.string,children:_.a.node}),ca=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.bsSize,n=e.bsStyle,r=e.title,i=e.toggleLabel,o=e.children,s=v()(e,["bsSize","bsStyle","title","toggleLabel","children"]),l=Qt(s,Zt.ControlledComponent),u=l[0],c=l[1];return p.a.createElement(Zt,a()({},u,{bsSize:t,bsStyle:n}),p.a.createElement(Me,a()({},c,{disabled:s.disabled,bsSize:t,bsStyle:n}),r),p.a.createElement(la,{"aria-label":i||r,bsSize:t,bsStyle:n}),p.a.createElement(Zt.Menu,null,o))},t}(p.a.Component);ca.propTypes=ua,ca.Toggle=la;var fa=ca,da=_.a.oneOfType([_.a.string,_.a.number]),ha={id:function(e){var t=null;if(!e.generateChildId){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=da.apply(void 0,[e].concat(r)))||e.id||(t=new Error("In order to properly initialize Tabs in a way that is accessible to assistive technologies (such as screen readers) an `id` or a `generateChildId` prop to TabContainer is required"))}return t},generateChildId:_.a.func,onSelect:_.a.func,activeKey:_.a.any},pa={$bs_tabContainer:_.a.shape({activeKey:_.a.any,onSelect:_.a.func.isRequired,getTabId:_.a.func.isRequired,getPaneId:_.a.func.isRequired})},ma=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.getChildContext=function(){var e=this.props,t=e.activeKey,n=e.onSelect,r=e.generateChildId,i=e.id,o=r||function(e,t){return i?i+"-"+t+"-"+e:null};return{$bs_tabContainer:{activeKey:t,onSelect:n,getTabId:function(e){return o(e,"tab")},getPaneId:function(e){return o(e,"pane")}}}},t.prototype.render=function(){var e=this.props,t=e.children,n=v()(e,["children"]);return delete n.generateChildId,delete n.onSelect,delete n.activeKey,p.a.cloneElement(p.a.Children.only(t),n)},t}(p.a.Component);ma.propTypes=ha,ma.childContextTypes=pa;var va=w()(ma,{activeKey:"onSelect"}),ga={componentClass:ge.a,animation:_.a.oneOfType([_.a.bool,ge.a]),mountOnEnter:_.a.bool,unmountOnExit:_.a.bool},ya={$bs_tabContainer:_.a.shape({activeKey:_.a.any})},ba={$bs_tabContent:_.a.shape({bsClass:_.a.string,animation:_.a.oneOfType([_.a.bool,ge.a]),activeKey:_.a.any,mountOnEnter:_.a.bool,unmountOnExit:_.a.bool,onPaneEnter:_.a.func.isRequired,onPaneExited:_.a.func.isRequired,exiting:_.a.bool.isRequired})},_a=function(e){function t(n,r){l()(this,t);var i=c()(this,e.call(this,n,r));return i.handlePaneEnter=i.handlePaneEnter.bind(i),i.handlePaneExited=i.handlePaneExited.bind(i),i.state={activeKey:null,activeChild:null},i}return d()(t,e),t.prototype.getChildContext=function(){var e=this.props,t=e.bsClass,n=e.animation,r=e.mountOnEnter,i=e.unmountOnExit,o=this.state.activeKey,a=this.getContainerActiveKey(),s=null!=o&&o!==a;return{$bs_tabContent:{bsClass:t,animation:n,activeKey:null!=o?o:a,mountOnEnter:r,unmountOnExit:i,onPaneEnter:this.handlePaneEnter,onPaneExited:this.handlePaneExited,exiting:s}}},t.prototype.componentWillReceiveProps=function(e){!e.animation&&this.state.activeChild&&this.setState({activeKey:null,activeChild:null})},t.prototype.componentWillUnmount=function(){this.isUnmounted=!0},t.prototype.getContainerActiveKey=function(){var e=this.context.$bs_tabContainer;return e&&e.activeKey},t.prototype.handlePaneEnter=function(e,t){return!!this.props.animation&&(t===this.getContainerActiveKey()&&(this.setState({activeKey:t,activeChild:e}),!0))},t.prototype.handlePaneExited=function(e){this.isUnmounted||this.setState((function(t){return t.activeChild!==e?null:{activeKey:null,activeChild:null}}))},t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,r=q(v()(e,["componentClass","className"]),["animation","mountOnEnter","unmountOnExit"]),i=r[0],o=r[1];return p.a.createElement(t,a()({},o,{className:y()(n,F(i,"content"))}))},t}(p.a.Component);_a.propTypes=ga,_a.defaultProps={componentClass:"div",animation:!0,mountOnEnter:!1,unmountOnExit:!1},_a.contextTypes=ya,_a.childContextTypes=ba;var xa=B("tab",_a),wa={eventKey:_.a.any,animation:_.a.oneOfType([_.a.bool,ge.a]),id:_.a.string,"aria-labelledby":_.a.string,bsClass:_.a.string,onEnter:_.a.func,onEntering:_.a.func,onEntered:_.a.func,onExit:_.a.func,onExiting:_.a.func,onExited:_.a.func,mountOnEnter:_.a.bool,unmountOnExit:_.a.bool},Ea={$bs_tabContainer:_.a.shape({getTabId:_.a.func,getPaneId:_.a.func}),$bs_tabContent:_.a.shape({bsClass:_.a.string,animation:_.a.oneOfType([_.a.bool,ge.a]),activeKey:_.a.any,mountOnEnter:_.a.bool,unmountOnExit:_.a.bool,onPaneEnter:_.a.func.isRequired,onPaneExited:_.a.func.isRequired,exiting:_.a.bool.isRequired})},Ta={$bs_tabContainer:_.a.oneOf([null])},Sa=function(e){function t(n,r){l()(this,t);var i=c()(this,e.call(this,n,r));return i.handleEnter=i.handleEnter.bind(i),i.handleExited=i.handleExited.bind(i),i.in=!1,i}return d()(t,e),t.prototype.getChildContext=function(){return{$bs_tabContainer:null}},t.prototype.componentDidMount=function(){this.shouldBeIn()&&this.handleEnter()},t.prototype.componentDidUpdate=function(){this.in?this.shouldBeIn()||this.handleExited():this.shouldBeIn()&&this.handleEnter()},t.prototype.componentWillUnmount=function(){this.in&&this.handleExited()},t.prototype.getAnimation=function(){if(null!=this.props.animation)return this.props.animation;var e=this.context.$bs_tabContent;return e&&e.animation},t.prototype.handleEnter=function(){var e=this.context.$bs_tabContent;e&&(this.in=e.onPaneEnter(this,this.props.eventKey))},t.prototype.handleExited=function(){var e=this.context.$bs_tabContent;e&&(e.onPaneExited(this),this.in=!1)},t.prototype.isActive=function(){var e=this.context.$bs_tabContent,t=e&&e.activeKey;return this.props.eventKey===t},t.prototype.shouldBeIn=function(){return this.getAnimation()&&this.isActive()},t.prototype.render=function(){var e=this.props,t=e.eventKey,n=e.className,r=e.onEnter,i=e.onEntering,o=e.onEntered,s=e.onExit,l=e.onExiting,u=e.onExited,c=e.mountOnEnter,f=e.unmountOnExit,d=v()(e,["eventKey","className","onEnter","onEntering","onEntered","onExit","onExiting","onExited","mountOnEnter","unmountOnExit"]),h=this.context,m=h.$bs_tabContent,g=h.$bs_tabContainer,b=q(d,["animation"]),_=b[0],x=b[1],w=this.isActive(),E=this.getAnimation(),T=null!=c?c:m&&m.mountOnEnter,S=null!=f?f:m&&m.unmountOnExit;if(!w&&!E&&S)return null;var k=!0===E?sn:E||null;m&&(_.bsClass=F(m,"pane"));var O=a()({},U(_),{active:w});g&&(x.id=g.getPaneId(t),x["aria-labelledby"]=g.getTabId(t));var C=p.a.createElement("div",a()({},x,{role:"tabpanel","aria-hidden":!w,className:y()(n,O)}));if(k){var A=m&&m.exiting;return p.a.createElement(k,{in:w&&!A,onEnter:ye(this.handleEnter,r),onEntering:i,onEntered:o,onExit:s,onExiting:l,onExited:ye(this.handleExited,u),mountOnEnter:T,unmountOnExit:S},C)}return C},t}(p.a.Component);Sa.propTypes=wa,Sa.contextTypes=Ea,Sa.childContextTypes=Ta;var ka=B("tab-pane",Sa),Oa=a()({},ka.propTypes,{disabled:_.a.bool,title:_.a.node,tabClassName:_.a.string}),Ca=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=a()({},this.props);return delete e.title,delete e.disabled,delete e.tabClassName,p.a.createElement(ka,e)},t}(p.a.Component);Ca.propTypes=Oa,Ca.Container=va,Ca.Content=xa,Ca.Pane=ka;var Aa=Ca,Ma={striped:_.a.bool,bordered:_.a.bool,condensed:_.a.bool,hover:_.a.bool,responsive:_.a.bool},Pa=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e,t=this.props,n=t.striped,r=t.bordered,i=t.condensed,o=t.hover,s=t.responsive,l=t.className,u=W(v()(t,["striped","bordered","condensed","hover","responsive","className"])),c=u[0],f=u[1],d=a()({},U(c),((e={})[F(c,"striped")]=n,e[F(c,"bordered")]=r,e[F(c,"condensed")]=i,e[F(c,"hover")]=o,e)),h=p.a.createElement("table",a()({},f,{className:y()(l,d)}));return s?p.a.createElement("div",{className:F(c,"responsive")},h):h},t}(p.a.Component);Pa.propTypes=Ma,Pa.defaultProps={bordered:!1,condensed:!1,hover:!1,responsive:!1,striped:!1};var Ia=B("table",Pa),Da=va.ControlledComponent,Na={activeKey:_.a.any,bsStyle:_.a.oneOf(["tabs","pills"]),animation:_.a.bool,id:Nt()(_.a.oneOfType([_.a.string,_.a.number])),onSelect:_.a.func,mountOnEnter:_.a.bool,unmountOnExit:_.a.bool};var Ra=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.renderTab=function(e){var t=e.props,n=t.title,r=t.eventKey,i=t.disabled,o=t.tabClassName;return null==n?null:p.a.createElement(Oi,{eventKey:r,disabled:i,className:o},n)},t.prototype.render=function(){var e=this.props,t=e.id,n=e.onSelect,r=e.animation,i=e.mountOnEnter,o=e.unmountOnExit,s=e.bsClass,l=e.className,u=e.style,c=e.children,f=e.activeKey,d=void 0===f?function(e){var t=void 0;return $.forEach(e,(function(e){null==t&&(t=e.props.eventKey)})),t}(c):f,h=v()(e,["id","onSelect","animation","mountOnEnter","unmountOnExit","bsClass","className","style","children","activeKey"]);return p.a.createElement(Da,{id:t,activeKey:d,onSelect:n,className:l,style:u},p.a.createElement("div",null,p.a.createElement(ni,a()({},h,{role:"tablist"}),$.map(c,this.renderTab)),p.a.createElement(xa,{bsClass:s,animation:r,mountOnEnter:i,unmountOnExit:o},c)))},t}(p.a.Component);Ra.propTypes=Na,Ra.defaultProps={bsStyle:"tabs",animation:!0,mountOnEnter:!1,unmountOnExit:!1},B("tab",Ra);var La=w()(Ra,{activeKey:"onSelect"}),ja={src:_.a.string,alt:_.a.string,href:_.a.string,onError:_.a.func,onLoad:_.a.func},Fa=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.src,n=e.alt,r=e.onError,i=e.onLoad,o=e.className,s=e.children,l=W(v()(e,["src","alt","onError","onLoad","className","children"])),u=l[0],c=l[1],f=c.href?we:"div",d=U(u);return p.a.createElement(f,a()({},c,{className:y()(o,d)}),p.a.createElement("img",{src:t,alt:n,onError:r,onLoad:i}),s&&p.a.createElement("div",{className:"caption"},s))},t}(p.a.Component);Fa.propTypes=ja;var Ba=B("thumbnail",Fa),za={type:_.a.oneOf(["checkbox","radio"]),name:_.a.string,checked:_.a.bool,disabled:_.a.bool,onChange:_.a.func,value:_.a.any.isRequired},Ha=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.name,r=e.checked,i=e.type,o=e.onChange,s=e.value,l=v()(e,["children","name","checked","type","onChange","value"]),u=l.disabled;return p.a.createElement(Me,a()({},l,{active:!!r,componentClass:"label"}),p.a.createElement("input",{name:n,type:i,autoComplete:"off",value:s,checked:!!r,disabled:!!u,onChange:o}),t)},t}(p.a.Component);Ha.propTypes=za;var Ua=Ha,Va={name:_.a.string,value:_.a.any,onChange:_.a.func,type:_.a.oneOf(["checkbox","radio"]).isRequired},Ga=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.getValues=function(){var e=this.props.value;return null==e?[]:[].concat(e)},t.prototype.handleToggle=function(e){var t=this.props,n=t.type,r=t.onChange,i=this.getValues(),o=-1!==i.indexOf(e);"radio"!==n?r(o?i.filter((function(t){return t!==e})):[].concat(i,[e])):o||r(e)},t.prototype.render=function(){var e=this,t=this.props,n=t.children,r=t.type,i=t.name,o=v()(t,["children","type","name"]),s=this.getValues();return"radio"!==r||i||k()(!1),delete o.onChange,delete o.value,p.a.createElement(Re,a()({},o,{"data-toggle":"buttons"}),$.map(n,(function(t){var n=t.props,o=n.value,a=n.onChange;return p.a.cloneElement(t,{type:r,name:t.name||i,checked:-1!==s.indexOf(o),onChange:ye(a,(function(){return e.handleToggle(o)}))})})))},t}(p.a.Component);Ga.propTypes=Va,Ga.defaultProps={type:"radio"};var Wa=w()(Ga,{value:"onChange"});Wa.Button=Ua;var qa=Wa,Ya={id:Nt()(_.a.oneOfType([_.a.string,_.a.number])),placement:_.a.oneOf(["top","right","bottom","left"]),positionTop:_.a.oneOfType([_.a.number,_.a.string]),positionLeft:_.a.oneOfType([_.a.number,_.a.string]),arrowOffsetTop:_.a.oneOfType([_.a.number,_.a.string]),arrowOffsetLeft:_.a.oneOfType([_.a.number,_.a.string])},Xa=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e,t=this.props,n=t.placement,r=t.positionTop,i=t.positionLeft,o=t.arrowOffsetTop,s=t.arrowOffsetLeft,l=t.className,u=t.style,c=t.children,f=W(v()(t,["placement","positionTop","positionLeft","arrowOffsetTop","arrowOffsetLeft","className","style","children"])),d=f[0],h=f[1],m=a()({},U(d),((e={})[n]=!0,e)),g=a()({top:r,left:i},u),b={top:o,left:s};return p.a.createElement("div",a()({},h,{role:"tooltip",className:y()(l,m),style:g}),p.a.createElement("div",{className:F(d,"arrow"),style:b}),p.a.createElement("div",{className:F(d,"inner")},c))},t}(p.a.Component);Xa.propTypes=Ya,Xa.defaultProps={placement:"right"};var $a=B("tooltip",Xa),Ka=function(e){function t(){return l()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=W(v()(e,["className"])),r=n[0],i=n[1],o=U(r);return p.a.createElement("div",a()({},i,{className:y()(t,o)}))},t}(p.a.Component),Za=B("well",H([O,C],Ka))},function(e,t,n){"use strict";n.r(t),n.d(t,"accessibility",(function(){return i})),n.d(t,"interaction",(function(){return o})),n.d(t,"utils",(function(){return r})),n.d(t,"Application",(function(){return Cr})),n.d(t,"AbstractBatchRenderer",(function(){return _r})),n.d(t,"AbstractRenderer",(function(){return cr})),n.d(t,"Attribute",(function(){return Vt})),n.d(t,"BaseRenderTexture",(function(){return Lt})),n.d(t,"BaseTexture",(function(){return Tt})),n.d(t,"BatchDrawCall",(function(){return vr})),n.d(t,"BatchGeometry",(function(){return wr})),n.d(t,"BatchPluginFactory",(function(){return Sr})),n.d(t,"BatchRenderer",(function(){return Or})),n.d(t,"BatchShaderGenerator",(function(){return xr})),n.d(t,"BatchTextureArray",(function(){return gr})),n.d(t,"Buffer",(function(){return Wt})),n.d(t,"CubeTexture",(function(){return mr})),n.d(t,"Filter",(function(){return Un})),n.d(t,"Framebuffer",(function(){return Nt})),n.d(t,"GLProgram",(function(){return er})),n.d(t,"GLTexture",(function(){return ar})),n.d(t,"Geometry",(function(){return Zt})),n.d(t,"MaskData",(function(){return hn})),n.d(t,"ObjectRenderer",(function(){return on})),n.d(t,"Program",(function(){return Ln})),n.d(t,"Quad",(function(){return Qt})),n.d(t,"QuadUv",(function(){return Jt})),n.d(t,"RenderTexture",(function(){return Ht})),n.d(t,"RenderTexturePool",(function(){return Ut})),n.d(t,"Renderer",(function(){return fr})),n.d(t,"Shader",(function(){return Fn})),n.d(t,"SpriteMaskFilter",(function(){return qn})),n.d(t,"State",(function(){return zn})),n.d(t,"System",(function(){return It})),n.d(t,"Texture",(function(){return Bt})),n.d(t,"TextureMatrix",(function(){return Gn})),n.d(t,"TextureUvs",(function(){return jt})),n.d(t,"UniformGroup",(function(){return tn})),n.d(t,"ViewableBuffer",(function(){return yr})),n.d(t,"autoDetectRenderer",(function(){return dr})),n.d(t,"checkMaxIfStatementsInShader",(function(){return In})),n.d(t,"defaultFilterVertex",(function(){return pr})),n.d(t,"defaultVertex",(function(){return hr})),n.d(t,"resources",(function(){return Pt})),n.d(t,"systems",(function(){return lr})),n.d(t,"Extract",(function(){return Ir})),n.d(t,"AppLoaderPlugin",(function(){return ni})),n.d(t,"Loader",(function(){return ti})),n.d(t,"LoaderResource",(function(){return ri})),n.d(t,"TextureLoader",(function(){return ei})),n.d(t,"ParticleContainer",(function(){return ii})),n.d(t,"ParticleRenderer",(function(){return ai})),n.d(t,"BasePrepare",(function(){return $i})),n.d(t,"CountLimiter",(function(){return Xi})),n.d(t,"Prepare",(function(){return ro})),n.d(t,"TimeLimiter",(function(){return so})),n.d(t,"Spritesheet",(function(){return lo})),n.d(t,"SpritesheetLoader",(function(){return co})),n.d(t,"TilingSprite",(function(){return ho})),n.d(t,"TilingSpriteRenderer",(function(){return vo})),n.d(t,"BitmapFontLoader",(function(){return yo})),n.d(t,"BitmapText",(function(){return go})),n.d(t,"Ticker",(function(){return it})),n.d(t,"TickerPlugin",(function(){return ot})),n.d(t,"UPDATE_PRIORITY",(function(){return tt})),n.d(t,"ALPHA_MODES",(function(){return D})),n.d(t,"BLEND_MODES",(function(){return S})),n.d(t,"DRAW_MODES",(function(){return k})),n.d(t,"ENV",(function(){return E})),n.d(t,"FORMATS",(function(){return O})),n.d(t,"GC_MODES",(function(){return N})),n.d(t,"MASK_TYPES",(function(){return L})),n.d(t,"MIPMAP_MODES",(function(){return I})),n.d(t,"PRECISION",(function(){return R})),n.d(t,"RENDERER_TYPE",(function(){return T})),n.d(t,"SCALE_MODES",(function(){return M})),n.d(t,"TARGETS",(function(){return C})),n.d(t,"TYPES",(function(){return A})),n.d(t,"WRAP_MODES",(function(){return P})),n.d(t,"Bounds",(function(){return Ke})),n.d(t,"Container",(function(){return Je})),n.d(t,"DisplayObject",(function(){return Ze})),n.d(t,"FillStyle",(function(){return li})),n.d(t,"GRAPHICS_CURVES",(function(){return si})),n.d(t,"Graphics",(function(){return Ii})),n.d(t,"GraphicsData",(function(){return Si})),n.d(t,"GraphicsGeometry",(function(){return Ci})),n.d(t,"LineStyle",(function(){return Ai})),n.d(t,"graphicsUtils",(function(){return Ti})),n.d(t,"Circle",(function(){return qe})),n.d(t,"DEG_TO_RAD",(function(){return Ne})),n.d(t,"Ellipse",(function(){return Ye})),n.d(t,"Matrix",(function(){return Re})),n.d(t,"ObservablePoint",(function(){return Pe})),n.d(t,"PI_2",(function(){return Ie})),n.d(t,"Point",(function(){return Me})),n.d(t,"Polygon",(function(){return Xe})),n.d(t,"RAD_TO_DEG",(function(){return De})),n.d(t,"Rectangle",(function(){return We})),n.d(t,"RoundedRectangle",(function(){return $e})),n.d(t,"SHAPES",(function(){return Ae})),n.d(t,"Transform",(function(){return Ge})),n.d(t,"groupD8",(function(){return Ve})),n.d(t,"Mesh",(function(){return Do})),n.d(t,"MeshBatchUvs",(function(){return Mo})),n.d(t,"MeshGeometry",(function(){return Ro})),n.d(t,"MeshMaterial",(function(){return No})),n.d(t,"NineSlicePlane",(function(){return Ho})),n.d(t,"PlaneGeometry",(function(){return Lo})),n.d(t,"RopeGeometry",(function(){return jo})),n.d(t,"SimpleMesh",(function(){return zo})),n.d(t,"SimplePlane",(function(){return Bo})),n.d(t,"SimpleRope",(function(){return Fo})),n.d(t,"Runner",(function(){return mt})),n.d(t,"Sprite",(function(){return Ri})),n.d(t,"AnimatedSprite",(function(){return Uo})),n.d(t,"TEXT_GRADIENT",(function(){return Li})),n.d(t,"Text",(function(){return Yi})),n.d(t,"TextMetrics",(function(){return Gi})),n.d(t,"TextStyle",(function(){return Bi})),n.d(t,"isMobile",(function(){return w})),n.d(t,"settings",(function(){return j})),n.d(t,"VERSION",(function(){return Wo})),n.d(t,"filters",(function(){return qo})),n.d(t,"useDeprecated",(function(){return Go}));var r={};n.r(r),n.d(r,"isMobile",(function(){return w})),n.d(r,"EventEmitter",(function(){return B.a})),n.d(r,"earcut",(function(){return H.a})),n.d(r,"url",(function(){return V.a})),n.d(r,"BaseTextureCache",(function(){return be})),n.d(r,"CanvasRenderTarget",(function(){return we})),n.d(r,"DATA_URI",(function(){return Se})),n.d(r,"ProgramCache",(function(){return ge})),n.d(r,"TextureCache",(function(){return ye})),n.d(r,"clearTextureCache",(function(){return xe})),n.d(r,"correctBlendMode",(function(){return ee})),n.d(r,"createIndicesForQuads",(function(){return ie})),n.d(r,"decomposeDataUri",(function(){return ke})),n.d(r,"deprecation",(function(){return ve})),n.d(r,"destroyTextureCache",(function(){return _e})),n.d(r,"determineCrossOrigin",(function(){return Oe})),n.d(r,"getBufferType",(function(){return oe})),n.d(r,"getResolutionOfUrl",(function(){return Ce})),n.d(r,"hex2rgb",(function(){return $})),n.d(r,"hex2string",(function(){return K})),n.d(r,"interleaveTypedArrays",(function(){return se})),n.d(r,"isPow2",(function(){return ue})),n.d(r,"isWebGLSupported",(function(){return X})),n.d(r,"log2",(function(){return ce})),n.d(r,"nextPow2",(function(){return le})),n.d(r,"premultiplyBlendMode",(function(){return J})),n.d(r,"premultiplyRgba",(function(){return te})),n.d(r,"premultiplyTint",(function(){return ne})),n.d(r,"premultiplyTintToRgba",(function(){return re})),n.d(r,"removeItems",(function(){return fe})),n.d(r,"rgb2hex",(function(){return Q})),n.d(r,"sayHello",(function(){return Y})),n.d(r,"sign",(function(){return de})),n.d(r,"skipHello",(function(){return q})),n.d(r,"string2hex",(function(){return Z})),n.d(r,"trimCanvas",(function(){return Ee})),n.d(r,"uid",(function(){return pe}));var i={};n.r(i),n.d(i,"AccessibilityManager",(function(){return nt})),n.d(i,"accessibleTarget",(function(){return et}));var o={};n.r(o),n.d(o,"InteractionData",(function(){return at})),n.d(o,"InteractionEvent",(function(){return lt})),n.d(o,"InteractionManager",(function(){return pt})),n.d(o,"InteractionTrackingData",(function(){return ut})),n.d(o,"interactiveTarget",(function(){return dt}));n(167);var a=/iPhone/i,s=/iPod/i,l=/iPad/i,u=/\biOS-universal(?:.+)Mac\b/i,c=/\bAndroid(?:.+)Mobile\b/i,f=/Android/i,d=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,h=/Silk/i,p=/Windows Phone/i,m=/\bWindows(?:.+)ARM\b/i,v=/BlackBerry/i,g=/BB10/i,y=/Opera Mini/i,b=/\b(CriOS|Chrome)(?:.+)Mobile/i,_=/Mobile(?:.+)Firefox\b/i,x=function(e){return"undefined"!==typeof e&&"MacIntel"===e.platform&&"number"===typeof e.maxTouchPoints&&e.maxTouchPoints>1&&"undefined"===typeof MSStream};var w=function(e){var t={userAgent:"",platform:"",maxTouchPoints:0};e||"undefined"===typeof navigator?"string"===typeof e?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}):t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var n=t.userAgent,r=n.split("[FBAN");"undefined"!==typeof r[1]&&(n=r[0]),"undefined"!==typeof(r=n.split("Twitter"))[1]&&(n=r[0]);var i=function(e){return function(t){return t.test(e)}}(n),o={apple:{phone:i(a)&&!i(p),ipod:i(s),tablet:!i(a)&&(i(l)||x(t))&&!i(p),universal:i(u),device:(i(a)||i(s)||i(l)||i(u)||x(t))&&!i(p)},amazon:{phone:i(d),tablet:!i(d)&&i(h),device:i(d)||i(h)},android:{phone:!i(p)&&i(d)||!i(p)&&i(c),tablet:!i(p)&&!i(d)&&!i(c)&&(i(h)||i(f)),device:!i(p)&&(i(d)||i(h)||i(c)||i(f))||i(/\bokhttp\b/i)},windows:{phone:i(p),tablet:i(m),device:i(p)||i(m)},other:{blackberry:i(v),blackberry10:i(g),opera:i(y),firefox:i(_),chrome:i(b),device:i(v)||i(g)||i(y)||i(_)||i(b)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}(window.navigator);var E,T,S,k,O,C,A,M,P,I,D,N,R,L,j={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:function(e){var t=!0;if(w.tablet||w.phone){if(t=!1,w.apple.device){var n=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(n)parseInt(n[1],10)>=11&&(t=!0)}if(w.android.device){var r=navigator.userAgent.match(/Android\s([0-9.]*)/);if(r)parseInt(r[1],10)>=7&&(t=!0)}}return t?e:4}(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:w.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:!w.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},F=n(119),B=n.n(F),z=n(120),H=n.n(z),U=n(74),V=n.n(U);!function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"}(E||(E={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"}(T||(T={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"}(S||(S={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(k||(k={})),function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(O||(O={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(C||(C={})),function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.FLOAT=5126]="FLOAT",e[e.HALF_FLOAT=36193]="HALF_FLOAT"}(A||(A={})),function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"}(M||(M={})),function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(P||(P={})),function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON"}(I||(I={})),function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(D||(D={})),function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"}(N||(N={})),function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"}(R||(R={})),function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"}(L||(L={})),j.RETINA_PREFIX=/@([0-9\.]+)x/,j.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var G,W=!1;function q(){W=!0}function Y(e){var t;if(!W){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var n=["\n %c %c %c PixiJS 5.2.4 - \u2730 "+e+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(t=window.console).log.apply(t,n)}else window.console&&window.console.log("PixiJS 5.2.4 - "+e+" - http://www.pixijs.com/");W=!0}}function X(){return"undefined"===typeof G&&(G=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:j.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var t=document.createElement("canvas"),n=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),r=!(!n||!n.getContextAttributes().stencil);if(n){var i=n.getExtension("WEBGL_lose_context");i&&i.loseContext()}return n=null,r}catch(o){return!1}}()),G}function $(e,t){return(t=t||[])[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(255&e)/255,t}function K(e){var t=e.toString(16);return"#"+(t="000000".substr(0,6-t.length)+t)}function Z(e){return"string"===typeof e&&"#"===e[0]&&(e=e.substr(1)),parseInt(e,16)}function Q(e){return(255*e[0]<<16)+(255*e[1]<<8)+(255*e[2]|0)}var J=function(){for(var e=[],t=[],n=0;n<32;n++)e[n]=n,t[n]=n;e[S.NORMAL_NPM]=S.NORMAL,e[S.ADD_NPM]=S.ADD,e[S.SCREEN_NPM]=S.SCREEN,t[S.NORMAL]=S.NORMAL_NPM,t[S.ADD]=S.ADD_NPM,t[S.SCREEN]=S.SCREEN_NPM;var r=[];return r.push(t),r.push(e),r}();function ee(e,t){return J[t?1:0][e]}function te(e,t,n,r){return n=n||new Float32Array(4),r||void 0===r?(n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t):(n[0]=e[0],n[1]=e[1],n[2]=e[2]),n[3]=t,n}function ne(e,t){if(1===t)return(255*t<<24)+e;if(0===t)return 0;var n=e>>16&255,r=e>>8&255,i=255&e;return(255*t<<24)+((n=n*t+.5|0)<<16)+((r=r*t+.5|0)<<8)+(i=i*t+.5|0)}function re(e,t,n,r){return(n=n||new Float32Array(4))[0]=(e>>16&255)/255,n[1]=(e>>8&255)/255,n[2]=(255&e)/255,(r||void 0===r)&&(n[0]*=t,n[1]*=t,n[2]*=t),n[3]=t,n}function ie(e,t){void 0===t&&(t=null);var n=6*e;if((t=t||new Uint16Array(n)).length!==n)throw new Error("Out buffer length is incorrect, got "+t.length+" and expected "+n);for(var r=0,i=0;r<n;r+=6,i+=4)t[r+0]=i+0,t[r+1]=i+1,t[r+2]=i+2,t[r+3]=i+0,t[r+4]=i+2,t[r+5]=i+3;return t}function oe(e){if(4===e.BYTES_PER_ELEMENT)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===e.BYTES_PER_ELEMENT){if(e instanceof Uint16Array)return"Uint16Array"}else if(1===e.BYTES_PER_ELEMENT&&e instanceof Uint8Array)return"Uint8Array";return null}var ae={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};function se(e,t){for(var n=0,r=0,i={},o=0;o<e.length;o++)r+=t[o],n+=e[o].length;var a=new ArrayBuffer(4*n),s=null,l=0;for(o=0;o<e.length;o++){var u=t[o],c=e[o],f=oe(c);i[f]||(i[f]=new ae[f](a)),s=i[f];for(var d=0;d<c.length;d++){s[(d/u|0)*r+l+d%u]=c[d]}l+=u}return new Float32Array(a)}function le(e){return e+=0===e?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)+1}function ue(e){return!(e&e-1)&&!!e}function ce(e){var t=(e>65535?1:0)<<4,n=((e>>>=t)>255?1:0)<<3;return t|=n,t|=n=((e>>>=n)>15?1:0)<<2,(t|=n=((e>>>=n)>3?1:0)<<1)|(e>>>=n)>>1}function fe(e,t,n){var r,i=e.length;if(!(t>=i||0===n)){var o=i-(n=t+n>i?i-t:n);for(r=t;r<o;++r)e[r]=e[r+n];e.length=o}}function de(e){return 0===e?0:e<0?-1:1}var he=0;function pe(){return++he}var me={};function ve(e,t,n){if(void 0===n&&(n=3),!me[t]){var r=(new Error).stack;"undefined"===typeof r?console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+e):(r=r.split("\n").splice(n).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t+"\nDeprecated since v"+e),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+e),console.warn(r))),me[t]=!0}}var ge={},ye=Object.create(null),be=Object.create(null);function _e(){var e;for(e in ye)ye[e].destroy();for(e in be)be[e].destroy()}function xe(){var e;for(e in ye)delete ye[e];for(e in be)delete be[e]}var we=function(){function e(e,t,n){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||j.RESOLUTION,this.resize(e,t)}return e.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},e.prototype.resize=function(e,t){this.canvas.width=e*this.resolution,this.canvas.height=t*this.resolution},e.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.canvas.width},set:function(e){this.canvas.width=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.canvas.height},set:function(e){this.canvas.height=e},enumerable:!0,configurable:!0}),e}();function Ee(e){var t,n,r,i=e.width,o=e.height,a=e.getContext("2d"),s=a.getImageData(0,0,i,o).data,l=s.length,u={top:null,left:null,right:null,bottom:null},c=null;for(t=0;t<l;t+=4)0!==s[t+3]&&(n=t/4%i,r=~~(t/4/i),null===u.top&&(u.top=r),(null===u.left||n<u.left)&&(u.left=n),(null===u.right||u.right<n)&&(u.right=n+1),(null===u.bottom||u.bottom<r)&&(u.bottom=r));return null!==u.top&&(i=u.right-u.left,o=u.bottom-u.top+1,c=a.getImageData(u.left,u.top,i,o)),{height:o,width:i,data:c}}var Te,Se=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function ke(e){var t=Se.exec(e);if(t)return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,charset:t[3]?t[3].toLowerCase():void 0,encoding:t[4]?t[4].toLowerCase():void 0,data:t[5]}}function Oe(e,t){if(void 0===t&&(t=window.location),0===e.indexOf("data:"))return"";t=t||window.location,Te||(Te=document.createElement("a")),Te.href=e;var n=Object(U.parse)(Te.href),r=!n.port&&""===t.port||n.port===t.port;return n.hostname===t.hostname&&r&&n.protocol===t.protocol?"":"anonymous"}function Ce(e,t){var n=j.RETINA_PREFIX.exec(e);return n?parseFloat(n[1]):void 0!==t?t:1}var Ae,Me=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.x=e,this.y=t}return e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.copyFrom=function(e){return this.set(e.x,e.y),this},e.prototype.copyTo=function(e){return e.set(this.x,this.y),e},e.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},e.prototype.set=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.x=e,this.y=t,this},e}(),Pe=function(){function e(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=0),this._x=n,this._y=r,this.cb=e,this.scope=t}return e.prototype.clone=function(t,n){return void 0===t&&(t=this.cb),void 0===n&&(n=this.scope),new e(t,n,this._x,this._y)},e.prototype.set=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this._x===e&&this._y===t||(this._x=e,this._y=t,this.cb.call(this.scope)),this},e.prototype.copyFrom=function(e){return this._x===e.x&&this._y===e.y||(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this},e.prototype.copyTo=function(e){return e.set(this._x,this._y),e},e.prototype.equals=function(e){return e.x===this._x&&e.y===this._y},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))},enumerable:!0,configurable:!0}),e}(),Ie=2*Math.PI,De=180/Math.PI,Ne=Math.PI/180;!function(e){e[e.POLY=0]="POLY",e[e.RECT=1]="RECT",e[e.CIRC=2]="CIRC",e[e.ELIP=3]="ELIP",e[e.RREC=4]="RREC"}(Ae||(Ae={}));var Re=function(){function e(e,t,n,r,i,o){void 0===e&&(e=1),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=1),void 0===i&&(i=0),void 0===o&&(o=0),this.array=null,this.a=e,this.b=t,this.c=n,this.d=r,this.tx=i,this.ty=o}return e.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},e.prototype.set=function(e,t,n,r,i,o){return this.a=e,this.b=t,this.c=n,this.d=r,this.tx=i,this.ty=o,this},e.prototype.toArray=function(e,t){this.array||(this.array=new Float32Array(9));var n=t||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},e.prototype.apply=function(e,t){t=t||new Me;var n=e.x,r=e.y;return t.x=this.a*n+this.c*r+this.tx,t.y=this.b*n+this.d*r+this.ty,t},e.prototype.applyInverse=function(e,t){t=t||new Me;var n=1/(this.a*this.d+this.c*-this.b),r=e.x,i=e.y;return t.x=this.d*n*r+-this.c*n*i+(this.ty*this.c-this.tx*this.d)*n,t.y=this.a*n*i+-this.b*n*r+(-this.ty*this.a+this.tx*this.b)*n,t},e.prototype.translate=function(e,t){return this.tx+=e,this.ty+=t,this},e.prototype.scale=function(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this},e.prototype.rotate=function(e){var t=Math.cos(e),n=Math.sin(e),r=this.a,i=this.c,o=this.tx;return this.a=r*t-this.b*n,this.b=r*n+this.b*t,this.c=i*t-this.d*n,this.d=i*n+this.d*t,this.tx=o*t-this.ty*n,this.ty=o*n+this.ty*t,this},e.prototype.append=function(e){var t=this.a,n=this.b,r=this.c,i=this.d;return this.a=e.a*t+e.b*r,this.b=e.a*n+e.b*i,this.c=e.c*t+e.d*r,this.d=e.c*n+e.d*i,this.tx=e.tx*t+e.ty*r+this.tx,this.ty=e.tx*n+e.ty*i+this.ty,this},e.prototype.setTransform=function(e,t,n,r,i,o,a,s,l){return this.a=Math.cos(a+l)*i,this.b=Math.sin(a+l)*i,this.c=-Math.sin(a-s)*o,this.d=Math.cos(a-s)*o,this.tx=e-(n*this.a+r*this.c),this.ty=t-(n*this.b+r*this.d),this},e.prototype.prepend=function(e){var t=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){var n=this.a,r=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=r*e.a+this.d*e.c,this.d=r*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this},e.prototype.decompose=function(e){var t=this.a,n=this.b,r=this.c,i=this.d,o=-Math.atan2(-r,i),a=Math.atan2(n,t),s=Math.abs(o+a);return s<1e-5||Math.abs(Ie-s)<1e-5?(e.rotation=a,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=o,e.skew.y=a),e.scale.x=Math.sqrt(t*t+n*n),e.scale.y=Math.sqrt(r*r+i*i),e.position.x=this.tx,e.position.y=this.ty,e},e.prototype.invert=function(){var e=this.a,t=this.b,n=this.c,r=this.d,i=this.tx,o=e*r-t*n;return this.a=r/o,this.b=-t/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-r*i)/o,this.ty=-(e*this.ty-t*i)/o,this},e.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},e.prototype.clone=function(){var t=new e;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},e.prototype.copyTo=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},e.prototype.copyFrom=function(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this},Object.defineProperty(e,"IDENTITY",{get:function(){return new e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"TEMP_MATRIX",{get:function(){return new e},enumerable:!0,configurable:!0}),e}(),Le=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],je=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Fe=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Be=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],ze=[],He=[],Ue=Math.sign;!function(){for(var e=0;e<16;e++){var t=[];ze.push(t);for(var n=0;n<16;n++)for(var r=Ue(Le[e]*Le[n]+Fe[e]*je[n]),i=Ue(je[e]*Le[n]+Be[e]*je[n]),o=Ue(Le[e]*Fe[n]+Fe[e]*Be[n]),a=Ue(je[e]*Fe[n]+Be[e]*Be[n]),s=0;s<16;s++)if(Le[s]===r&&je[s]===i&&Fe[s]===o&&Be[s]===a){t.push(s);break}}for(e=0;e<16;e++){var l=new Re;l.set(Le[e],je[e],Fe[e],Be[e],0,0),He.push(l)}}();var Ve={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(e){return Le[e]},uY:function(e){return je[e]},vX:function(e){return Fe[e]},vY:function(e){return Be[e]},inv:function(e){return 8&e?15&e:7&-e},add:function(e,t){return ze[e][t]},sub:function(e,t){return ze[e][Ve.inv(t)]},rotate180:function(e){return 4^e},isVertical:function(e){return 2===(3&e)},byDirection:function(e,t){return 2*Math.abs(e)<=Math.abs(t)?t>=0?Ve.S:Ve.N:2*Math.abs(t)<=Math.abs(e)?e>0?Ve.E:Ve.W:t>0?e>0?Ve.SE:Ve.SW:e>0?Ve.NE:Ve.NW},matrixAppendRotationInv:function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var i=He[Ve.inv(t)];i.tx=n,i.ty=r,e.append(i)}},Ge=function(){function e(){this.worldTransform=new Re,this.localTransform=new Re,this.position=new Pe(this.onChange,this,0,0),this.scale=new Pe(this.onChange,this,1,1),this.pivot=new Pe(this.onChange,this,0,0),this.skew=new Pe(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},e.prototype.updateLocalTransform=function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(e){var t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var n=e.worldTransform,r=this.worldTransform;r.a=t.a*n.a+t.b*n.c,r.b=t.a*n.b+t.b*n.d,r.c=t.c*n.a+t.d*n.c,r.d=t.c*n.b+t.d*n.d,r.tx=t.tx*n.a+t.ty*n.c+n.tx,r.ty=t.tx*n.b+t.ty*n.d+n.ty,this._parentID=e._worldID,this._worldID++}},e.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())},enumerable:!0,configurable:!0}),e.IDENTITY=new e,e}(),We=function(){function e(e,t,n,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),this.x=Number(e),this.y=Number(t),this.width=Number(n),this.height=Number(r),this.type=Ae.RECT}return Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e,"EMPTY",{get:function(){return new e(0,0,0,0)},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},e.prototype.copyTo=function(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e},e.prototype.contains=function(e,t){return!(this.width<=0||this.height<=0)&&(e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height)},e.prototype.pad=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this},e.prototype.fit=function(e){var t=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),r=Math.max(this.y,e.y),i=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(n-t,0),this.y=r,this.height=Math.max(i-r,0),this},e.prototype.ceil=function(e,t){void 0===e&&(e=1),void 0===t&&(t=.001);var n=Math.ceil((this.x+this.width-t)*e)/e,r=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=n-this.x,this.height=r-this.y,this},e.prototype.enlarge=function(e){var t=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),r=Math.min(this.y,e.y),i=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=n-t,this.y=r,this.height=i-r,this},e}(),qe=function(){function e(e,t,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),this.x=e,this.y=t,this.radius=n,this.type=Ae.CIRC}return e.prototype.clone=function(){return new e(this.x,this.y,this.radius)},e.prototype.contains=function(e,t){if(this.radius<=0)return!1;var n=this.radius*this.radius,r=this.x-e,i=this.y-t;return(r*=r)+(i*=i)<=n},e.prototype.getBounds=function(){return new We(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},e}(),Ye=function(){function e(e,t,n,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),this.x=e,this.y=t,this.width=n,this.height=r,this.type=Ae.ELIP}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.contains=function(e,t){if(this.width<=0||this.height<=0)return!1;var n=(e-this.x)/this.width,r=(t-this.y)/this.height;return(n*=n)+(r*=r)<=1},e.prototype.getBounds=function(){return new We(this.x-this.width,this.y-this.height,this.width,this.height)},e}(),Xe=function(){function e(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];if(Array.isArray(t[0])&&(t=t[0]),t[0]instanceof Me){for(var r=[],i=0,o=(t=t).length;i<o;i++)r.push(t[i].x,t[i].y);t=r}this.points=t,this.type=Ae.POLY,this.closeStroke=!0}return e.prototype.clone=function(){var t=new e(this.points.slice());return t.closeStroke=this.closeStroke,t},e.prototype.contains=function(e,t){for(var n=!1,r=this.points.length/2,i=0,o=r-1;i<r;o=i++){var a=this.points[2*i],s=this.points[2*i+1],l=this.points[2*o],u=this.points[2*o+1];s>t!==u>t&&e<(t-s)/(u-s)*(l-a)+a&&(n=!n)}return n},e}(),$e=function(){function e(e,t,n,r,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=20),this.x=e,this.y=t,this.width=n,this.height=r,this.radius=i,this.type=Ae.RREC}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height,this.radius)},e.prototype.contains=function(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){if(t>=this.y+this.radius&&t<=this.y+this.height-this.radius||e>=this.x+this.radius&&e<=this.x+this.width-this.radius)return!0;var n=e-(this.x+this.radius),r=t-(this.y+this.radius),i=this.radius*this.radius;if(n*n+r*r<=i)return!0;if((n=e-(this.x+this.width-this.radius))*n+r*r<=i)return!0;if(n*n+(r=t-(this.y+this.height-this.radius))*r<=i)return!0;if((n=e-(this.x+this.radius))*n+r*r<=i)return!0}return!1},e}();j.SORTABLE_CHILDREN=!1;var Ke=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null};Ke.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},Ke.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},Ke.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?We.EMPTY:((e=e||new We(0,0,1,1)).x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},Ke.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},Ke.prototype.addQuad=function(e){var t=this.minX,n=this.minY,r=this.maxX,i=this.maxY,o=e[0],a=e[1];t=o<t?o:t,n=a<n?a:n,r=o>r?o:r,i=a>i?a:i,t=(o=e[2])<t?o:t,n=(a=e[3])<n?a:n,r=o>r?o:r,i=a>i?a:i,t=(o=e[4])<t?o:t,n=(a=e[5])<n?a:n,r=o>r?o:r,i=a>i?a:i,t=(o=e[6])<t?o:t,n=(a=e[7])<n?a:n,r=o>r?o:r,i=a>i?a:i,this.minX=t,this.minY=n,this.maxX=r,this.maxY=i},Ke.prototype.addFrame=function(e,t,n,r,i){this.addFrameMatrix(e.worldTransform,t,n,r,i)},Ke.prototype.addFrameMatrix=function(e,t,n,r,i){var o=e.a,a=e.b,s=e.c,l=e.d,u=e.tx,c=e.ty,f=this.minX,d=this.minY,h=this.maxX,p=this.maxY,m=o*t+s*n+u,v=a*t+l*n+c;f=m<f?m:f,d=v<d?v:d,h=m>h?m:h,p=v>p?v:p,f=(m=o*r+s*n+u)<f?m:f,d=(v=a*r+l*n+c)<d?v:d,h=m>h?m:h,p=v>p?v:p,f=(m=o*t+s*i+u)<f?m:f,d=(v=a*t+l*i+c)<d?v:d,h=m>h?m:h,p=v>p?v:p,f=(m=o*r+s*i+u)<f?m:f,d=(v=a*r+l*i+c)<d?v:d,h=m>h?m:h,p=v>p?v:p,this.minX=f,this.minY=d,this.maxX=h,this.maxY=p},Ke.prototype.addVertexData=function(e,t,n){for(var r=this.minX,i=this.minY,o=this.maxX,a=this.maxY,s=t;s<n;s+=2){var l=e[s],u=e[s+1];r=l<r?l:r,i=u<i?u:i,o=l>o?l:o,a=u>a?u:a}this.minX=r,this.minY=i,this.maxX=o,this.maxY=a},Ke.prototype.addVertices=function(e,t,n,r){this.addVerticesMatrix(e.worldTransform,t,n,r)},Ke.prototype.addVerticesMatrix=function(e,t,n,r,i,o){var a=e.a,s=e.b,l=e.c,u=e.d,c=e.tx,f=e.ty;i=i||0,o=o||0;for(var d=this.minX,h=this.minY,p=this.maxX,m=this.maxY,v=n;v<r;v+=2){var g=t[v],y=t[v+1],b=a*g+l*y+c,_=u*y+s*g+f;d=Math.min(d,b-i),p=Math.max(p,b+i),h=Math.min(h,_-o),m=Math.max(m,_+o)}this.minX=d,this.minY=h,this.maxX=p,this.maxY=m},Ke.prototype.addBounds=function(e){var t=this.minX,n=this.minY,r=this.maxX,i=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>r?e.maxX:r,this.maxY=e.maxY>i?e.maxY:i},Ke.prototype.addBoundsMask=function(e,t){var n=e.minX>t.minX?e.minX:t.minX,r=e.minY>t.minY?e.minY:t.minY,i=e.maxX<t.maxX?e.maxX:t.maxX,o=e.maxY<t.maxY?e.maxY:t.maxY;if(n<=i&&r<=o){var a=this.minX,s=this.minY,l=this.maxX,u=this.maxY;this.minX=n<a?n:a,this.minY=r<s?r:s,this.maxX=i>l?i:l,this.maxY=o>u?o:u}},Ke.prototype.addBoundsMatrix=function(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)},Ke.prototype.addBoundsArea=function(e,t){var n=e.minX>t.x?e.minX:t.x,r=e.minY>t.y?e.minY:t.y,i=e.maxX<t.x+t.width?e.maxX:t.x+t.width,o=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(n<=i&&r<=o){var a=this.minX,s=this.minY,l=this.maxX,u=this.maxY;this.minX=n<a?n:a,this.minY=r<s?r:s,this.maxX=i>l?i:l,this.maxY=o>u?o:u}},Ke.prototype.pad=function(e,t){e=e||0,t=t||(0!==t?e:0),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)},Ke.prototype.addFramePad=function(e,t,n,r,i,o){e-=i,t-=o,n+=i,r+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>r?this.maxY:r};var Ze=function(e){function t(){e.call(this),this.tempDisplayObjectParent=null,this.transform=new Ge,this.alpha=1,this.visible=!0,this.renderable=!0,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Ke,this._boundsID=0,this._lastBoundsID=-1,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={_tempDisplayObjectParent:{configurable:!0},x:{configurable:!0},y:{configurable:!0},worldTransform:{configurable:!0},localTransform:{configurable:!0},position:{configurable:!0},scale:{configurable:!0},pivot:{configurable:!0},skew:{configurable:!0},rotation:{configurable:!0},angle:{configurable:!0},zIndex:{configurable:!0},worldVisible:{configurable:!0},mask:{configurable:!0}};return t.mixin=function(e){for(var n=Object.keys(e),r=0;r<n.length;++r){var i=n[r];Object.defineProperty(t.prototype,i,Object.getOwnPropertyDescriptor(e,i))}},n._tempDisplayObjectParent.get=function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new t),this.tempDisplayObjectParent},t.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},t.prototype.calculateBounds=function(){},t.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},t.prototype.getBounds=function(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&(this.calculateBounds(),this._lastBoundsID=this._boundsID),t||(this._boundsRect||(this._boundsRect=new We),t=this._boundsRect),this._bounds.getRectangle(t)},t.prototype.getLocalBounds=function(e){var t=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,e||(this._localBoundsRect||(this._localBoundsRect=new We),e=this._localBoundsRect);var r=this.getBounds(!1,e);return this.parent=n,this.transform=t,r},t.prototype.toGlobal=function(e,t,n){return void 0===n&&(n=!1),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)},t.prototype.toLocal=function(e,t,n,r){return t&&(e=t.toGlobal(e,n,r)),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)},t.prototype.render=function(e){},t.prototype.setParent=function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e},t.prototype.setTransform=function(e,t,n,r,i,o,a,s,l){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===l&&(l=0),this.position.x=e,this.position.y=t,this.scale.x=n||1,this.scale.y=r||1,this.rotation=i,this.skew.x=o,this.skew.y=a,this.pivot.x=s,this.pivot.y=l,this},t.prototype.destroy=function(){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},n.x.get=function(){return this.position.x},n.x.set=function(e){this.transform.position.x=e},n.y.get=function(){return this.position.y},n.y.set=function(e){this.transform.position.y=e},n.worldTransform.get=function(){return this.transform.worldTransform},n.localTransform.get=function(){return this.transform.localTransform},n.position.get=function(){return this.transform.position},n.position.set=function(e){this.transform.position.copyFrom(e)},n.scale.get=function(){return this.transform.scale},n.scale.set=function(e){this.transform.scale.copyFrom(e)},n.pivot.get=function(){return this.transform.pivot},n.pivot.set=function(e){this.transform.pivot.copyFrom(e)},n.skew.get=function(){return this.transform.skew},n.skew.set=function(e){this.transform.skew.copyFrom(e)},n.rotation.get=function(){return this.transform.rotation},n.rotation.set=function(e){this.transform.rotation=e},n.angle.get=function(){return this.transform.rotation*De},n.angle.set=function(e){this.transform.rotation=e*Ne},n.zIndex.get=function(){return this._zIndex},n.zIndex.set=function(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)},n.worldVisible.get=function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0},n.mask.get=function(){return this._mask},n.mask.set=function(e){if(this._mask){var t=this._mask.maskObject||this._mask;t.renderable=!0,t.isMask=!1}if(this._mask=e,this._mask){var n=this._mask.maskObject||this._mask;n.renderable=!1,n.isMask=!0}},Object.defineProperties(t.prototype,n),t}(B.a);function Qe(e,t){return e.zIndex===t.zIndex?e._lastSortedIndex-t._lastSortedIndex:e.zIndex-t.zIndex}Ze.prototype.displayObjectUpdateTransform=Ze.prototype.updateTransform;var Je=function(e){function t(){e.call(this),this.children=[],this.sortableChildren=j.SORTABLE_CHILDREN,this.sortDirty=!1}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={width:{configurable:!0},height:{configurable:!0}};return t.prototype.onChildrenChange=function(){},t.prototype.addChild=function(e){var t=arguments,n=arguments.length;if(n>1)for(var r=0;r<n;r++)this.addChild(t[r]);else e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this);return e},t.prototype.addChildAt=function(e,t){if(t<0||t>this.children.length)throw new Error(e+"addChildAt: The index "+t+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),this.emit("childAdded",e,this,t),e},t.prototype.swapChildren=function(e,t){if(e!==t){var n=this.getChildIndex(e),r=this.getChildIndex(t);this.children[n]=t,this.children[r]=e,this.onChildrenChange(n<r?n:r)}},t.prototype.getChildIndex=function(e){var t=this.children.indexOf(e);if(-1===t)throw new Error("The supplied DisplayObject must be a child of the caller");return t},t.prototype.setChildIndex=function(e,t){if(t<0||t>=this.children.length)throw new Error("The index "+t+" supplied is out of bounds "+this.children.length);var n=this.getChildIndex(e);fe(this.children,n,1),this.children.splice(t,0,e),this.onChildrenChange(t)},t.prototype.getChildAt=function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]},t.prototype.removeChild=function(e){var t=arguments,n=arguments.length;if(n>1)for(var r=0;r<n;r++)this.removeChild(t[r]);else{var i=this.children.indexOf(e);if(-1===i)return null;e.parent=null,e.transform._parentID=-1,fe(this.children,i,1),this._boundsID++,this.onChildrenChange(i),e.emit("removed",this),this.emit("childRemoved",e,this,i)}return e},t.prototype.removeChildAt=function(e){var t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,fe(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e),t},t.prototype.removeChildren=function(e,t){void 0===e&&(e=0);var n,r=e,i="number"===typeof t?t:this.children.length,o=i-r;if(o>0&&o<=i){n=this.children.splice(r,o);for(var a=0;a<n.length;++a)n[a].parent=null,n[a].transform&&(n[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(var s=0;s<n.length;++s)n[s].emit("removed",this),this.emit("childRemoved",n[s],this,s);return n}if(0===o&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},t.prototype.sortChildren=function(){for(var e=!1,t=0,n=this.children.length;t<n;++t){var r=this.children[t];r._lastSortedIndex=t,e||0===r.zIndex||(e=!0)}e&&this.children.length>1&&this.children.sort(Qe),this.sortDirty=!1},t.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,t=this.children.length;e<t;++e){var n=this.children[e];n.visible&&n.updateTransform()}},t.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var t=this.children[e];if(t.visible&&t.renderable)if(t.calculateBounds(),t._mask){var n=t._mask.maskObject||t._mask;n.calculateBounds(),this._bounds.addBoundsMask(t._bounds,n._bounds)}else t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds)}this._lastBoundsID=this._boundsID},t.prototype._calculateBounds=function(){},t.prototype.render=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(e);else{this._render(e);for(var t=0,n=this.children.length;t<n;++t)this.children[t].render(e)}},t.prototype.renderAdvanced=function(e){e.batch.flush();var t=this.filters,n=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var r=0;r<t.length;r++)t[r].enabled&&this._enabledFilters.push(t[r]);this._enabledFilters.length&&e.filter.push(this,this._enabledFilters)}n&&e.mask.push(this,this._mask),this._render(e);for(var i=0,o=this.children.length;i<o;i++)this.children[i].render(e);e.batch.flush(),n&&e.mask.pop(this,this._mask),t&&this._enabledFilters&&this._enabledFilters.length&&e.filter.pop()},t.prototype._render=function(e){},t.prototype.destroy=function(t){e.prototype.destroy.call(this),this.sortDirty=!1;var n="boolean"===typeof t?t:t&&t.children,r=this.removeChildren(0,this.children.length);if(n)for(var i=0;i<r.length;++i)r[i].destroy(t)},n.width.get=function(){return this.scale.x*this.getLocalBounds().width},n.width.set=function(e){var t=this.getLocalBounds().width;this.scale.x=0!==t?e/t:1,this._width=e},n.height.get=function(){return this.scale.y*this.getLocalBounds().height},n.height.set=function(e){var t=this.getLocalBounds().height;this.scale.y=0!==t?e/t:1,this._height=e},Object.defineProperties(t.prototype,n),t}(Ze);Je.prototype.containerUpdateTransform=Je.prototype.updateTransform;var et={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0};Ze.mixin(et);var tt,nt=function(e){this._hookDiv=null,(w.tablet||w.phone)&&this.createTouchHook();var t=document.createElement("div");t.style.width="100px",t.style.height="100px",t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.zIndex=2,this.div=t,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=e,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessibility=!1,this.androidUpdateCount=0,this.androidUpdateFrequency=500,window.addEventListener("keydown",this._onKeyDown,!1)};nt.prototype.createTouchHook=function(){var e=this,t=document.createElement("button");t.style.width="1px",t.style.height="1px",t.style.position="absolute",t.style.top="-1000px",t.style.left="-1000px",t.style.zIndex=2,t.style.backgroundColor="#FF0000",t.title="select to enable accessability for this content",t.addEventListener("focus",(function(){e.isMobileAccessibility=!0,e.activate(),e.destroyTouchHook()})),document.body.appendChild(t),this._hookDiv=t},nt.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},nt.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},nt.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessibility&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},nt.prototype.updateAccessibleObjects=function(e){if(e.visible&&e.accessibleChildren){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);for(var t=e.children,n=0;n<t.length;n++)this.updateAccessibleObjects(t[n])}},nt.prototype.update=function(){var e=performance.now();if(!(w.android.device&&e<this.androidUpdateCount)&&(this.androidUpdateCount=e+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),n=this.renderer.resolution,r=t.width/this.renderer.width*n,i=t.height/this.renderer.height*n,o=this.div;o.style.left=t.left+"px",o.style.top=t.top+"px",o.style.width=this.renderer.width+"px",o.style.height=this.renderer.height+"px";for(var a=0;a<this.children.length;a++){var s=this.children[a];if(s.renderId!==this.renderId)s._accessibleActive=!1,fe(this.children,a,1),this.div.removeChild(s._accessibleDiv),this.pool.push(s._accessibleDiv),s._accessibleDiv=null,a--;else{o=s._accessibleDiv;var l=s.hitArea,u=s.worldTransform;s.hitArea?(o.style.left=(u.tx+l.x*u.a)*r+"px",o.style.top=(u.ty+l.y*u.d)*i+"px",o.style.width=l.width*u.a*r+"px",o.style.height=l.height*u.d*i+"px"):(l=s.getBounds(),this.capHitArea(l),o.style.left=l.x*r+"px",o.style.top=l.y*i+"px",o.style.width=l.width*r+"px",o.style.height=l.height*i+"px",o.title!==s.accessibleTitle&&null!==s.accessibleTitle&&(o.title=s.accessibleTitle),o.getAttribute("aria-label")!==s.accessibleHint&&null!==s.accessibleHint&&o.setAttribute("aria-label",s.accessibleHint)),s.accessibleTitle===o.title&&s.tabIndex===o.tabIndex||(o.title=s.accessibleTitle,o.tabIndex=s.tabIndex,this.debug&&this.updateDebugHTML(o))}}this.renderId++}},nt.prototype.updateDebugHTML=function(e){e.innerHTML="type: "+e.type+"</br> title : "+e.title+"</br> tabIndex: "+e.tabIndex},nt.prototype.capHitArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0),e.x+e.width>this.renderer.width&&(e.width=this.renderer.width-e.x),e.y+e.height>this.renderer.height&&(e.height=this.renderer.height-e.y)},nt.prototype.addChild=function(e){var t=this.pool.pop();t||((t=document.createElement("button")).style.width="100px",t.style.height="100px",t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=2,t.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&null!==e.accessibleTitle?t.title=e.accessibleTitle:e.accessibleHint&&null!==e.accessibleHint||(t.title="displayObject "+e.tabIndex),e.accessibleHint&&null!==e.accessibleHint&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},nt.prototype._onClick=function(e){var t=this.renderer.plugins.interaction;t.dispatchEvent(e.target.displayObject,"click",t.eventData),t.dispatchEvent(e.target.displayObject,"pointertap",t.eventData),t.dispatchEvent(e.target.displayObject,"tap",t.eventData)},nt.prototype._onFocus=function(e){e.target.getAttribute("aria-live","off")||e.target.setAttribute("aria-live","assertive");var t=this.renderer.plugins.interaction;t.dispatchEvent(e.target.displayObject,"mouseover",t.eventData)},nt.prototype._onFocusOut=function(e){e.target.getAttribute("aria-live","off")||e.target.setAttribute("aria-live","polite");var t=this.renderer.plugins.interaction;t.dispatchEvent(e.target.displayObject,"mouseout",t.eventData)},nt.prototype._onKeyDown=function(e){9===e.keyCode&&this.activate()},nt.prototype._onMouseMove=function(e){0===e.movementX&&0===e.movementY||this.deactivate()},nt.prototype.destroy=function(){this.destroyTouchHook(),this.div=null;for(var e=0;e<this.children.length;e++)this.children[e].div=null;window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},j.TARGET_FPMS=.06,function(e){e[e.INTERACTION=50]="INTERACTION",e[e.HIGH=25]="HIGH",e[e.NORMAL=0]="NORMAL",e[e.LOW=-25]="LOW",e[e.UTILITY=-50]="UTILITY"}(tt||(tt={}));var rt=function(){function e(e,t,n,r){void 0===t&&(t=null),void 0===n&&(n=0),void 0===r&&(r=!1),this.fn=e,this.context=t,this.priority=n,this.once=r,this.next=null,this.previous=null,this._destroyed=!1}return e.prototype.match=function(e,t){return void 0===t&&(t=null),this.fn===e&&this.context===t},e.prototype.emit=function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t},e.prototype.connect=function(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this},e.prototype.destroy=function(e){void 0===e&&(e=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var t=this.next;return this.next=e?null:t,this.previous=null,t},e}(),it=function(){function e(){var e=this;this._head=new rt(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/j.TARGET_FPMS,this.elapsedMS=1/j.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return e.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},e.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},e.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},e.prototype.add=function(e,t,n){return void 0===n&&(n=tt.NORMAL),this._addListener(new rt(e,t,n))},e.prototype.addOnce=function(e,t,n){return void 0===n&&(n=tt.NORMAL),this._addListener(new rt(e,t,n,!0))},e.prototype._addListener=function(e){var t=this._head.next,n=this._head;if(t){for(;t;){if(e.priority>t.priority){e.connect(n);break}n=t,t=t.next}e.previous||e.connect(n)}else e.connect(n);return this._startIfPossible(),this},e.prototype.remove=function(e,t){for(var n=this._head.next;n;)n=n.match(e,t)?n.destroy():n.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(e.prototype,"count",{get:function(){if(!this._head)return 0;for(var e=0,t=this._head;t=t.next;)e++;return e},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},e.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},e.prototype.destroy=function(){if(!this._protected){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}},e.prototype.update=function(e){var t;if(void 0===e&&(e=performance.now()),e>this.lastTime){if((t=this.elapsedMS=e-this.lastTime)>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){var n=e-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=e-n%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*j.TARGET_FPMS;for(var r=this._head,i=r.next;i;)i=i.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e},Object.defineProperty(e.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(e){var t=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,t)/1e3,j.TARGET_FPMS);this._maxElapsedMS=1/n},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(e){if(0===e)this._minElapsedMS=0;else{var t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"shared",{get:function(){if(!e._shared){var t=e._shared=new e;t.autoStart=!0,t._protected=!0}return e._shared},enumerable:!0,configurable:!0}),Object.defineProperty(e,"system",{get:function(){if(!e._system){var t=e._system=new e;t.autoStart=!0,t._protected=!0}return e._system},enumerable:!0,configurable:!0}),e}(),ot=function(){function e(){}return e.init=function(e){var t=this;e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set:function(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,tt.LOW)},get:function(){return this._ticker}}),this.stop=function(){t._ticker.stop()},this.start=function(){t._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?it.shared:new it,e.autoStart&&this.start()},e.destroy=function(){if(this._ticker){var e=this._ticker;this.ticker=null,e.destroy()}},e}(),at=function(){this.global=new Me,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0},st={pointerId:{configurable:!0}};st.pointerId.get=function(){return this.identifier},at.prototype.getLocalPosition=function(e,t,n){return e.worldTransform.applyInverse(n||this.global,t)},at.prototype.copyEvent=function(e){e.isPrimary&&(this.isPrimary=!0),this.button=e.button,this.buttons=Number.isInteger(e.buttons)?e.buttons:e.which,this.width=e.width,this.height=e.height,this.tiltX=e.tiltX,this.tiltY=e.tiltY,this.pointerType=e.pointerType,this.pressure=e.pressure,this.rotationAngle=e.rotationAngle,this.twist=e.twist||0,this.tangentialPressure=e.tangentialPressure||0},at.prototype.reset=function(){this.isPrimary=!1},Object.defineProperties(at.prototype,st);var lt=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null};lt.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},lt.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null};var ut=function e(t){this._pointerId=t,this._flags=e.FLAGS.NONE},ct={pointerId:{configurable:!0},flags:{configurable:!0},none:{configurable:!0},over:{configurable:!0},rightDown:{configurable:!0},leftDown:{configurable:!0}};ut.prototype._doSet=function(e,t){this._flags=t?this._flags|e:this._flags&~e},ct.pointerId.get=function(){return this._pointerId},ct.flags.get=function(){return this._flags},ct.flags.set=function(e){this._flags=e},ct.none.get=function(){return this._flags===this.constructor.FLAGS.NONE},ct.over.get=function(){return 0!==(this._flags&this.constructor.FLAGS.OVER)},ct.over.set=function(e){this._doSet(this.constructor.FLAGS.OVER,e)},ct.rightDown.get=function(){return 0!==(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},ct.rightDown.set=function(e){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,e)},ct.leftDown.get=function(){return 0!==(this._flags&this.constructor.FLAGS.LEFT_DOWN)},ct.leftDown.set=function(e){this._doSet(this.constructor.FLAGS.LEFT_DOWN,e)},Object.defineProperties(ut.prototype,ct),ut.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4});var ft=function(){this._tempPoint=new Me};ft.prototype.recursiveFindHit=function(e,t,n,r,i){if(!t||!t.visible)return!1;var o=e.data.global,a=!1,s=i=t.interactive||i,l=!0;if(t.hitArea?(r&&(t.worldTransform.applyInverse(o,this._tempPoint),t.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?a=!0:(r=!1,l=!1)),s=!1):t._mask&&r&&(t._mask.containsPoint&&t._mask.containsPoint(o)||(r=!1)),l&&t.interactiveChildren&&t.children)for(var u=t.children,c=u.length-1;c>=0;c--){var f=u[c],d=this.recursiveFindHit(e,f,n,r,s);if(d){if(!f.parent)continue;s=!1,d&&(e.target&&(r=!1),a=!0)}}return i&&(r&&!e.target&&!t.hitArea&&t.containsPoint&&t.containsPoint(o)&&(a=!0),t.interactive&&(a&&!e.target&&(e.target=t),n&&n(e,t,!!a))),a},ft.prototype.findHit=function(e,t,n,r){this.recursiveFindHit(e,t,n,r,!1)};var dt={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(e){e?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Ze.mixin(dt);var ht={target:null,data:{global:null}},pt=function(e){function t(t,n){e.call(this),n=n||{},this.renderer=t,this.autoPreventDefault=void 0===n.autoPreventDefault||n.autoPreventDefault,this.interactionFrequency=n.interactionFrequency||10,this.mouse=new at,this.mouse.identifier=1,this.mouse.global.set(-999999),this.activeInteractionData={},this.activeInteractionData[1]=this.mouse,this.interactionDataPool=[],this.eventData=new lt,this.interactionDOMElement=null,this.moveWhenInside=!1,this.eventsAdded=!1,this.tickerAdded=!1,this.mouseOverRenderer=!1,this.supportsTouchEvents="ontouchstart"in window,this.supportsPointerEvents=!!window.PointerEvent,this.onPointerUp=this.onPointerUp.bind(this),this.processPointerUp=this.processPointerUp.bind(this),this.onPointerCancel=this.onPointerCancel.bind(this),this.processPointerCancel=this.processPointerCancel.bind(this),this.onPointerDown=this.onPointerDown.bind(this),this.processPointerDown=this.processPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.processPointerMove=this.processPointerMove.bind(this),this.onPointerOut=this.onPointerOut.bind(this),this.processPointerOverOut=this.processPointerOverOut.bind(this),this.onPointerOver=this.onPointerOver.bind(this),this.cursorStyles={default:"inherit",pointer:"pointer"},this.currentCursorMode=null,this.cursor=null,this.resolution=1,this.delayedEvents=[],this.search=new ft,this._useSystemTicker=void 0===n.useSystemTicker||n.useSystemTicker,this.setTargetElement(this.renderer.view,this.renderer.resolution)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={useSystemTicker:{configurable:!0}};return n.useSystemTicker.get=function(){return this._useSystemTicker},n.useSystemTicker.set=function(e){this._useSystemTicker=e,e?this.addTickerListener():this.removeTickerListener()},t.prototype.hitTest=function(e,t){return ht.target=null,ht.data.global=e,t||(t=this.renderer._lastObjectRendered),this.processInteractive(ht,t,null,!0),ht.target},t.prototype.setTargetElement=function(e,t){void 0===t&&(t=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=e,this.resolution=t,this.addEvents(),this.addTickerListener()},t.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&(it.system.add(this.tickerUpdate,this,tt.INTERACTION),this.tickerAdded=!0)},t.prototype.removeTickerListener=function(){this.tickerAdded&&(it.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},t.prototype.addEvents=function(){!this.eventsAdded&&this.interactionDOMElement&&(window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},t.prototype.removeEvents=function(){this.eventsAdded&&this.interactionDOMElement&&(window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},t.prototype.tickerUpdate=function(e){this._deltaTime+=e,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())},t.prototype.update=function(){if(this.interactionDOMElement)if(this.didMove)this.didMove=!1;else{for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var t=this.activeInteractionData[e];if(t.originalEvent&&"touch"!==t.pointerType){var n=this.configureInteractionEventForDOMEvent(this.eventData,t.originalEvent,t);this.processInteractive(n,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},t.prototype.setCursorMode=function(e){if(e=e||"default",this.currentCursorMode!==e){this.currentCursorMode=e;var t=this.cursorStyles[e];if(t)switch(typeof t){case"string":this.interactionDOMElement.style.cursor=t;break;case"function":t(e);break;case"object":Object.assign(this.interactionDOMElement.style,t)}else"string"!==typeof e||Object.prototype.hasOwnProperty.call(this.cursorStyles,e)||(this.interactionDOMElement.style.cursor=e)}},t.prototype.dispatchEvent=function(e,t,n){n.stopPropagationHint&&e!==n.stopsPropagatingAt||(n.currentTarget=e,n.type=t,e.emit(t,n),e[t]&&e[t](n))},t.prototype.delayDispatchEvent=function(e,t,n){this.delayedEvents.push({displayObject:e,eventString:t,eventData:n})},t.prototype.mapPositionToPoint=function(e,t,n){var r;r=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var i=1/this.resolution;e.x=(t-r.left)*(this.interactionDOMElement.width/r.width)*i,e.y=(n-r.top)*(this.interactionDOMElement.height/r.height)*i},t.prototype.processInteractive=function(e,t,n,r){var i=this.search.findHit(e,t,n,r),o=this.delayedEvents;if(!o.length)return i;e.stopPropagationHint=!1;var a=o.length;this.delayedEvents=[];for(var s=0;s<a;s++){var l=o[s],u=l.displayObject,c=l.eventString,f=l.eventData;f.stopsPropagatingAt===u&&(f.stopPropagationHint=!0),this.dispatchEvent(u,c,f)}return i},t.prototype.onPointerDown=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e);if(this.autoPreventDefault&&t[0].isNormalized)(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(var n=t.length,r=0;r<n;r++){var i=t[r],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);if(a.data.originalEvent=e,this.processInteractive(a,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",a),"touch"===i.pointerType)this.emit("touchstart",a);else if("mouse"===i.pointerType||"pen"===i.pointerType){var s=2===i.button;this.emit(s?"rightdown":"mousedown",this.eventData)}}}},t.prototype.processPointerDown=function(e,t,n){var r=e.data,i=e.data.identifier;if(n)if(t.trackedPointers[i]||(t.trackedPointers[i]=new ut(i)),this.dispatchEvent(t,"pointerdown",e),"touch"===r.pointerType)this.dispatchEvent(t,"touchstart",e);else if("mouse"===r.pointerType||"pen"===r.pointerType){var o=2===r.button;o?t.trackedPointers[i].rightDown=!0:t.trackedPointers[i].leftDown=!0,this.dispatchEvent(t,o?"rightdown":"mousedown",e)}},t.prototype.onPointerComplete=function(e,t,n){for(var r=this.normalizeToPointerData(e),i=r.length,o=e.target!==this.interactionDOMElement?"outside":"",a=0;a<i;a++){var s=r[a],l=this.getInteractionDataForPointerId(s),u=this.configureInteractionEventForDOMEvent(this.eventData,s,l);if(u.data.originalEvent=e,this.processInteractive(u,this.renderer._lastObjectRendered,n,t||!o),this.emit(t?"pointercancel":"pointerup"+o,u),"mouse"===s.pointerType||"pen"===s.pointerType){var c=2===s.button;this.emit(c?"rightup"+o:"mouseup"+o,u)}else"touch"===s.pointerType&&(this.emit(t?"touchcancel":"touchend"+o,u),this.releaseInteractionDataForPointerId(s.pointerId,l))}},t.prototype.onPointerCancel=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!0,this.processPointerCancel)},t.prototype.processPointerCancel=function(e,t){var n=e.data,r=e.data.identifier;void 0!==t.trackedPointers[r]&&(delete t.trackedPointers[r],this.dispatchEvent(t,"pointercancel",e),"touch"===n.pointerType&&this.dispatchEvent(t,"touchcancel",e))},t.prototype.onPointerUp=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!1,this.processPointerUp)},t.prototype.processPointerUp=function(e,t,n){var r=e.data,i=e.data.identifier,o=t.trackedPointers[i],a="touch"===r.pointerType,s="mouse"===r.pointerType||"pen"===r.pointerType,l=!1;if(s){var u=2===r.button,c=ut.FLAGS,f=u?c.RIGHT_DOWN:c.LEFT_DOWN,d=void 0!==o&&o.flags&f;n?(this.dispatchEvent(t,u?"rightup":"mouseup",e),d&&(this.dispatchEvent(t,u?"rightclick":"click",e),l=!0)):d&&this.dispatchEvent(t,u?"rightupoutside":"mouseupoutside",e),o&&(u?o.rightDown=!1:o.leftDown=!1)}n?(this.dispatchEvent(t,"pointerup",e),a&&this.dispatchEvent(t,"touchend",e),o&&(s&&!l||this.dispatchEvent(t,"pointertap",e),a&&(this.dispatchEvent(t,"tap",e),o.over=!1))):o&&(this.dispatchEvent(t,"pointerupoutside",e),a&&this.dispatchEvent(t,"touchendoutside",e)),o&&o.none&&delete t.trackedPointers[i]},t.prototype.onPointerMove=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e);"mouse"!==t[0].pointerType&&"pen"!==t[0].pointerType||(this.didMove=!0,this.cursor=null);for(var n=t.length,r=0;r<n;r++){var i=t[r],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);a.data.originalEvent=e,this.processInteractive(a,this.renderer._lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",a),"touch"===i.pointerType&&this.emit("touchmove",a),"mouse"!==i.pointerType&&"pen"!==i.pointerType||this.emit("mousemove",a)}"mouse"===t[0].pointerType&&this.setCursorMode(this.cursor)}},t.prototype.processPointerMove=function(e,t,n){var r=e.data,i="touch"===r.pointerType,o="mouse"===r.pointerType||"pen"===r.pointerType;o&&this.processPointerOverOut(e,t,n),this.moveWhenInside&&!n||(this.dispatchEvent(t,"pointermove",e),i&&this.dispatchEvent(t,"touchmove",e),o&&this.dispatchEvent(t,"mousemove",e))},t.prototype.onPointerOut=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e)[0];"mouse"===t.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var n=this.getInteractionDataForPointerId(t),r=this.configureInteractionEventForDOMEvent(this.eventData,t,n);r.data.originalEvent=t,this.processInteractive(r,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",r),"mouse"===t.pointerType||"pen"===t.pointerType?this.emit("mouseout",r):this.releaseInteractionDataForPointerId(n.identifier)}},t.prototype.processPointerOverOut=function(e,t,n){var r=e.data,i=e.data.identifier,o="mouse"===r.pointerType||"pen"===r.pointerType,a=t.trackedPointers[i];n&&!a&&(a=t.trackedPointers[i]=new ut(i)),void 0!==a&&(n&&this.mouseOverRenderer?(a.over||(a.over=!0,this.delayDispatchEvent(t,"pointerover",e),o&&this.delayDispatchEvent(t,"mouseover",e)),o&&null===this.cursor&&(this.cursor=t.cursor)):a.over&&(a.over=!1,this.dispatchEvent(t,"pointerout",this.eventData),o&&this.dispatchEvent(t,"mouseout",e),a.none&&delete t.trackedPointers[i]))},t.prototype.onPointerOver=function(e){var t=this.normalizeToPointerData(e)[0],n=this.getInteractionDataForPointerId(t),r=this.configureInteractionEventForDOMEvent(this.eventData,t,n);r.data.originalEvent=t,"mouse"===t.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",r),"mouse"!==t.pointerType&&"pen"!==t.pointerType||this.emit("mouseover",r)},t.prototype.getInteractionDataForPointerId=function(e){var t,n=e.pointerId;return 1===n||"mouse"===e.pointerType?t=this.mouse:this.activeInteractionData[n]?t=this.activeInteractionData[n]:((t=this.interactionDataPool.pop()||new at).identifier=n,this.activeInteractionData[n]=t),t.copyEvent(e),t},t.prototype.releaseInteractionDataForPointerId=function(e){var t=this.activeInteractionData[e];t&&(delete this.activeInteractionData[e],t.reset(),this.interactionDataPool.push(t))},t.prototype.configureInteractionEventForDOMEvent=function(e,t,n){return e.data=n,this.mapPositionToPoint(n.global,t.clientX,t.clientY),"touch"===t.pointerType&&(t.globalX=n.global.x,t.globalY=n.global.y),n.originalEvent=t,e.reset(),e},t.prototype.normalizeToPointerData=function(e){var t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var n=0,r=e.changedTouches.length;n<r;n++){var i=e.changedTouches[n];"undefined"===typeof i.button&&(i.button=e.touches.length?1:0),"undefined"===typeof i.buttons&&(i.buttons=e.touches.length?1:0),"undefined"===typeof i.isPrimary&&(i.isPrimary=1===e.touches.length&&"touchstart"===e.type),"undefined"===typeof i.width&&(i.width=i.radiusX||1),"undefined"===typeof i.height&&(i.height=i.radiusY||1),"undefined"===typeof i.tiltX&&(i.tiltX=0),"undefined"===typeof i.tiltY&&(i.tiltY=0),"undefined"===typeof i.pointerType&&(i.pointerType="touch"),"undefined"===typeof i.pointerId&&(i.pointerId=i.identifier||0),"undefined"===typeof i.pressure&&(i.pressure=i.force||.5),"undefined"===typeof i.twist&&(i.twist=0),"undefined"===typeof i.tangentialPressure&&(i.tangentialPressure=0),"undefined"===typeof i.layerX&&(i.layerX=i.offsetX=i.clientX),"undefined"===typeof i.layerY&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,t.push(i)}else!(e instanceof MouseEvent)||this.supportsPointerEvents&&e instanceof window.PointerEvent||("undefined"===typeof e.isPrimary&&(e.isPrimary=!0),"undefined"===typeof e.width&&(e.width=1),"undefined"===typeof e.height&&(e.height=1),"undefined"===typeof e.tiltX&&(e.tiltX=0),"undefined"===typeof e.tiltY&&(e.tiltY=0),"undefined"===typeof e.pointerType&&(e.pointerType="mouse"),"undefined"===typeof e.pointerId&&(e.pointerId=1),"undefined"===typeof e.pressure&&(e.pressure=.5),"undefined"===typeof e.twist&&(e.twist=0),"undefined"===typeof e.tangentialPressure&&(e.tangentialPressure=0),e.isNormalized=!0),t.push(e);return t},t.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},Object.defineProperties(t.prototype,n),t}(B.a),mt=function(){function e(e){this.items=[],this._name=e,this._aliasCount=0}return e.prototype.emit=function(e,t,n,r,i,o,a,s){if(arguments.length>8)throw new Error("max arguments reached");var l=this,u=l.name,c=l.items;this._aliasCount++;for(var f=0,d=c.length;f<d;f++)c[f][u](e,t,n,r,i,o,a,s);return c===this.items&&this._aliasCount--,this},e.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},e.prototype.add=function(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this},e.prototype.remove=function(e){var t=this.items.indexOf(e);return-1!==t&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this},e.prototype.contains=function(e){return-1!==this.items.indexOf(e)},e.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},e.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),e}();Object.defineProperties(mt.prototype,{dispatch:{value:mt.prototype.emit},run:{value:mt.prototype.emit}});var vt=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new mt("setRealSize",2),this.onUpdate=new mt("update"),this.onError=new mt("onError",1)},gt={valid:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};vt.prototype.bind=function(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.run(this._width,this._height)},vt.prototype.unbind=function(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)},vt.prototype.resize=function(e,t){e===this._width&&t===this._height||(this._width=e,this._height=t,this.onResize.run(e,t))},gt.valid.get=function(){return!!this._width&&!!this._height},vt.prototype.update=function(){this.destroyed||this.onUpdate.run()},vt.prototype.load=function(){return Promise.resolve()},gt.width.get=function(){return this._width},gt.height.get=function(){return this._height},vt.prototype.upload=function(e,t,n){return!1},vt.prototype.style=function(e,t,n){return!1},vt.prototype.dispose=function(){},vt.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},Object.defineProperties(vt.prototype,gt);var yt=function(e){function t(t){var n=t.naturalWidth||t.videoWidth||t.width,r=t.naturalHeight||t.videoHeight||t.height;e.call(this,n,r),this.source=t,this.noSubImage=!1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.crossOrigin=function(e,t,n){void 0===n&&0!==t.indexOf("data:")?e.crossOrigin=Oe(t):!1!==n&&(e.crossOrigin="string"===typeof n?n:"anonymous")},t.prototype.upload=function(e,t,n,r){var i=e.gl,o=t.realWidth,a=t.realHeight;return r=r||this.source,i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===D.UNPACK),this.noSubImage||t.target!==i.TEXTURE_2D||n.width!==o||n.height!==a?(n.width=o,n.height=a,i.texImage2D(t.target,0,t.format,t.format,t.type,r)):i.texSubImage2D(i.TEXTURE_2D,0,0,0,t.format,t.type,r),!0},t.prototype.update=function(){if(!this.destroyed){var t=this.source.naturalWidth||this.source.videoWidth||this.source.width,n=this.source.naturalHeight||this.source.videoHeight||this.source.height;this.resize(t,n),e.prototype.update.call(this)}},t.prototype.dispose=function(){this.source=null},t}(vt),bt=function(e){function t(t,n){if(n=n||{},!(t instanceof HTMLImageElement)){var r=new Image;e.crossOrigin(r,t,n.crossorigin),r.src=t,t=r}e.call(this,t),!t.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=t.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(void 0!==n.createBitmap?n.createBitmap:j.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,this.alphaMode="number"===typeof n.alphaMode?n.alphaMode:null,void 0!==n.premultiplyAlpha&&(this.premultiplyAlpha=n.premultiplyAlpha),this.bitmap=null,this._load=null,!1!==n.autoLoad&&this.load()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(e){var t=this;return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise((function(e,n){t.url=t.source.src;var r=t.source,i=function(){t.destroyed||(r.onload=null,r.onerror=null,t.resize(r.width,r.height),t._load=null,t.createBitmap?e(t.process()):e(t))};r.complete&&r.src?i():(r.onload=i,r.onerror=function(e){n(e),t.onError.emit(e)})}))),this._load},t.prototype.process=function(){var e=this;return null!==this._process?this._process:null===this.bitmap&&window.createImageBitmap?(this._process=window.createImageBitmap(this.source,0,0,this.source.width,this.source.height,{premultiplyAlpha:this.premultiplyAlpha===D.UNPACK?"premultiply":"none"}).then((function(t){return e.destroyed?Promise.reject():(e.bitmap=t,e.update(),e._process=null,Promise.resolve(e))})),this._process):Promise.resolve(this)},t.prototype.upload=function(t,n,r){if("number"===typeof this.alphaMode&&(n.alphaMode=this.alphaMode),!this.createBitmap)return e.prototype.upload.call(this,t,n,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(e.prototype.upload.call(this,t,n,r,this.bitmap),!this.preserveBitmap){var i=!0;for(var o in n._glTextures){var a=n._glTextures[o];if(a!==r&&a.dirtyId!==n.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},t.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,e.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},t}(yt),_t=[];function xt(e,t){if(!e)return null;var n="";if("string"===typeof e){var r=/\.(\w{3,4})(?:$|\?|#)/i.exec(e);r&&(n=r[1].toLowerCase())}for(var i=_t.length-1;i>=0;--i){var o=_t[i];if(o.test&&o.test(e,n))return new o(e,t)}return new bt(e,t)}var wt=function(e){function t(t,n){var r=n||{},i=r.width,o=r.height;if(!i||!o)throw new Error("BufferResource width or height invalid");e.call(this,i,o),this.data=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.upload=function(e,t,n){var r=e.gl;return r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===D.UNPACK),n.width===t.width&&n.height===t.height?r.texSubImage2D(t.target,0,0,0,t.width,t.height,t.format,t.type,this.data):(n.width=t.width,n.height=t.height,r.texImage2D(t.target,0,n.internalFormat,t.width,t.height,0,t.format,n.type,this.data)),!0},t.prototype.dispose=function(){this.data=null},t.test=function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array},t}(vt),Et={scaleMode:M.NEAREST,format:O.RGBA,alphaMode:D.NPM},Tt=function(e){function t(t,n){void 0===t&&(t=null),void 0===n&&(n=null),e.call(this);var r=(n=n||{}).alphaMode,i=n.mipmap,o=n.anisotropicLevel,a=n.scaleMode,s=n.width,l=n.height,u=n.wrapMode,c=n.format,f=n.type,d=n.target,h=n.resolution,p=n.resourceOptions;!t||t instanceof vt||((t=xt(t,p)).internal=!0),this.width=s||0,this.height=l||0,this.resolution=h||j.RESOLUTION,this.mipmap=void 0!==i?i:j.MIPMAP_TEXTURES,this.anisotropicLevel=void 0!==o?o:j.ANISOTROPIC_LEVEL,this.wrapMode=u||j.WRAP_MODE,this.scaleMode=void 0!==a?a:j.SCALE_MODE,this.format=c||O.RGBA,this.type=f||A.UNSIGNED_BYTE,this.target=d||C.TEXTURE_2D,this.alphaMode=void 0!==r?r:D.UNPACK,void 0!==n.premultiplyAlpha&&(this.premultiplyAlpha=n.premultiplyAlpha),this.uid=pe(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=s>0&&l>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.setResource(t)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={realWidth:{configurable:!0},realHeight:{configurable:!0}};return n.realWidth.get=function(){return Math.ceil(this.width*this.resolution-1e-4)},n.realHeight.get=function(){return Math.ceil(this.height*this.resolution-1e-4)},t.prototype.setStyle=function(e,t){var n;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),void 0!==t&&t!==this.mipmap&&(this.mipmap=t,n=!0),n&&this.dirtyStyleId++,this},t.prototype.setSize=function(e,t,n){return this.resolution=n||this.resolution,this.width=e,this.height=t,this._refreshPOT(),this.update(),this},t.prototype.setRealSize=function(e,t,n){return this.resolution=n||this.resolution,this.width=e/this.resolution,this.height=t/this.resolution,this._refreshPOT(),this.update(),this},t.prototype._refreshPOT=function(){this.isPowerOfTwo=ue(this.realWidth)&&ue(this.realHeight)},t.prototype.setResolution=function(e){var t=this.resolution;return t===e||(this.resolution=e,this.valid&&(this.width=this.width*t/e,this.height=this.height*t/e,this.emit("update",this)),this._refreshPOT()),this},t.prototype.setResource=function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this},t.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},t.prototype.onError=function(e){this.emit("error",this,e)},t.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete be[this.cacheId],delete ye[this.cacheId],this.cacheId=null),this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},t.prototype.dispose=function(){this.emit("dispose",this)},t.from=function(e,n,r){void 0===r&&(r=j.STRICT_TEXTURE_CACHE);var i="string"===typeof e,o=null;i?o=e:(e._pixiId||(e._pixiId="pixiid_"+pe()),o=e._pixiId);var a=be[o];if(i&&r&&!a)throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.');return a||((a=new t(e,n)).cacheId=o,t.addToCache(a,o)),a},t.fromBuffer=function(e,n,r,i){e=e||new Float32Array(n*r*4);var o=new wt(e,{width:n,height:r}),a=e instanceof Float32Array?A.FLOAT:A.UNSIGNED_BYTE;return new t(o,Object.assign(Et,i||{width:n,height:r,type:a}))},t.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),be[t]&&console.warn("BaseTexture added to the cache with an id ["+t+"] that already had an entry"),be[t]=e)},t.removeFromCache=function(e){if("string"===typeof e){var t=be[e];if(t){var n=t.textureCacheIds.indexOf(e);return n>-1&&t.textureCacheIds.splice(n,1),delete be[e],t}}else if(e&&e.textureCacheIds){for(var r=0;r<e.textureCacheIds.length;++r)delete be[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null},Object.defineProperties(t.prototype,n),t}(B.a);Tt._globalBatch=0;var St=function(e){function t(t,n){var r;n=n||{};var i=t;Array.isArray(t)&&(r=t,i=t.length),e.call(this,n.width,n.height),this.items=[],this.itemDirtyIds=[];for(var o=0;o<i;o++){var a=new Tt;this.items.push(a),this.itemDirtyIds.push(-1)}if(this.length=i,this._load=null,r)for(var s=0;s<i;s++)this.addResourceAt(xt(r[s],n),s)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.dispose=function(){for(var e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(e,t){if(!this.items[t])throw new Error("Index "+t+" is out of bounds");return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this},t.prototype.bind=function(t){e.prototype.bind.call(this,t),t.target=C.TEXTURE_2D_ARRAY;for(var n=0;n<this.length;n++)this.items[n].on("update",t.update,t)},t.prototype.unbind=function(t){e.prototype.unbind.call(this,t);for(var n=0;n<this.length;n++)this.items[n].off("update",t.update,t)},t.prototype.load=function(){var e=this;if(this._load)return this._load;var t=this.items.map((function(e){return e.resource})),n=t.map((function(e){return e.load()}));return this._load=Promise.all(n).then((function(){var n=t[0],r=n.width,i=n.height;return e.resize(r,i),Promise.resolve(e)})),this._load},t.prototype.upload=function(e,t,n){var r=this.length,i=this.itemDirtyIds,o=this.items,a=e.gl;n.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,t.format,this._width,this._height,r,0,t.format,t.type,null);for(var s=0;s<r;s++){var l=o[s];i[s]<l.dirtyId&&(i[s]=l.dirtyId,l.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,s,l.resource.width,l.resource.height,1,t.format,t.type,l.resource.source))}return!0},t}(vt),kt=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.test=function(e){var t=window.OffscreenCanvas;return!!(t&&e instanceof t)||e instanceof HTMLCanvasElement},t}(yt),Ot=function(e){function t(n,r){if(r=r||{},e.call(this,n,r),this.length!==t.SIDES)throw new Error("Invalid length. Got "+this.length+", expected 6");for(var i=0;i<t.SIDES;i++)this.items[i].target=C.TEXTURE_CUBE_MAP_POSITIVE_X+i;!1!==r.autoLoad&&this.load()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.bind=function(t){e.prototype.bind.call(this,t),t.target=C.TEXTURE_CUBE_MAP},t.prototype.upload=function(e,n,r){for(var i=this.itemDirtyIds,o=0;o<t.SIDES;o++){var a=this.items[o];i[o]<a.dirtyId&&(i[o]=a.dirtyId,a.valid&&a.resource.upload(e,a,r))}return!0},t}(St);Ot.SIDES=6;var Ct=function(e){function t(t,n){n=n||{},e.call(this,document.createElement("canvas")),this._width=0,this._height=0,this.svg=t,this.scale=n.scale||1,this._overrideWidth=n.width,this._overrideHeight=n.height,this._resolve=null,this._crossorigin=n.crossorigin,this._load=null,!1!==n.autoLoad&&this.load()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(){var e=this;return this._load||(this._load=new Promise((function(t){if(e._resolve=function(){e.resize(e.source.width,e.source.height),t(e)},/^\<svg/.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()}))),this._load},t.prototype._loadSvg=function(){var t=this,n=new Image;e.crossOrigin(n,this.svg,this._crossorigin),n.src=this.svg,n.onerror=function(e){t._resolve&&(n.onerror=null,t.onError.run(e))},n.onload=function(){if(t._resolve){var e=n.width,r=n.height;if(!e||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var i=e*t.scale,o=r*t.scale;(t._overrideWidth||t._overrideHeight)&&(i=t._overrideWidth||t._overrideHeight/r*e,o=t._overrideHeight||t._overrideWidth/e*r),i=Math.round(i),o=Math.round(o);var a=t.source;a.width=i,a.height=o,a._pixiId="canvas_"+pe(),a.getContext("2d").drawImage(n,0,0,e,r,0,0,i,o),t._resolve(),t._resolve=null}}},t.getSize=function(e){var n=t.SVG_SIZE.exec(e),r={};return n&&(r[n[1]]=Math.round(parseFloat(n[3])),r[n[5]]=Math.round(parseFloat(n[7]))),r},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},t.test=function(e,t){return"svg"===t||"string"===typeof e&&0===e.indexOf("data:image/svg+xml;base64")||"string"===typeof e&&0===e.indexOf("<svg")},t}(yt);Ct.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;var At=function(e){function t(t,n){if(n=n||{},!(t instanceof HTMLVideoElement)){var r=document.createElement("video");r.setAttribute("preload","auto"),r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline",""),"string"===typeof t&&(t=[t]),e.crossOrigin(r,t[0].src||t[0],n.crossorigin);for(var i=0;i<t.length;++i){var o=document.createElement("source"),a=t[i],s=a.src,l=a.mime,u=(s=s||t[i]).split("?").shift().toLowerCase(),c=u.substr(u.lastIndexOf(".")+1);l=l||"video/"+c,o.src=s,o.type=l,r.appendChild(o)}t=r}e.call(this,t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=n.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=!1!==n.autoPlay,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),!1!==n.autoLoad&&this.load()}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={autoUpdate:{configurable:!0},updateFPS:{configurable:!0}};return t.prototype.update=function(t){if(void 0===t&&(t=0),!this.destroyed){var n=it.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-n),(!this._updateFPS||this._msToNextUpdate<=0)&&(e.prototype.update.call(this,t),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},t.prototype.load=function(){var e=this;if(this._load)return this._load;var t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise((function(n){e.valid?n(e):(e._resolve=n,t.load())})),this._load},t.prototype._onError=function(){this.source.removeEventListener("error",this._onError,!0),this.onError.run(event)},t.prototype._isSourcePlaying=function(){var e=this.source;return e.currentTime>0&&!1===e.paused&&!1===e.ended&&e.readyState>2},t.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},t.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(it.shared.add(this.update,this),this._isConnectedToTicker=!0)},t.prototype._onPlayStop=function(){this._isConnectedToTicker&&(it.shared.remove(this.update,this),this._isConnectedToTicker=!1)},t.prototype._onCanPlay=function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var t=this.valid;this.resize(e.videoWidth,e.videoHeight),!t&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()},t.prototype.dispose=function(){this._isConnectedToTicker&&it.shared.remove(this.update,this),this.source&&(this.source.removeEventListener("error",this._onError,!0),this.source.pause(),this.source.src="",this.source.load()),e.prototype.dispose.call(this)},n.autoUpdate.get=function(){return this._autoUpdate},n.autoUpdate.set=function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(it.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(it.shared.add(this.update,this),this._isConnectedToTicker=!0))},n.updateFPS.get=function(){return this._updateFPS},n.updateFPS.set=function(e){e!==this._updateFPS&&(this._updateFPS=e)},t.test=function(e,n){return e instanceof HTMLVideoElement||t.TYPES.indexOf(n)>-1},Object.defineProperties(t.prototype,n),t}(yt);At.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];var Mt=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.test=function(e){return!!window.createImageBitmap&&e instanceof ImageBitmap},t}(yt);_t.push(bt,Mt,kt,At,Ct,wt,Ot,St);var Pt={INSTALLED:_t,autoDetectResource:xt,ArrayResource:St,BufferResource:wt,CanvasResource:kt,CubeResource:Ot,ImageResource:bt,ImageBitmapResource:Mt,SVGResource:Ct,VideoResource:At,Resource:vt,BaseImageResource:yt},It=function(e){this.renderer=e};It.prototype.destroy=function(){this.renderer=null};var Dt=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.upload=function(e,t,n){var r=e.gl;return r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===D.UNPACK),n.width===t.width&&n.height===t.height?r.texSubImage2D(t.target,0,0,0,t.width,t.height,t.format,t.type,this.data):(n.width=t.width,n.height=t.height,r.texImage2D(t.target,0,1===e.context.webGLVersion?r.DEPTH_COMPONENT:r.DEPTH_COMPONENT16,t.width,t.height,0,t.format,t.type,this.data)),!0},t}(wt),Nt=function(e,t){this.width=Math.ceil(e||100),this.height=Math.ceil(t||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new mt("disposeFramebuffer",2)},Rt={colorTexture:{configurable:!0}};Rt.colorTexture.get=function(){return this.colorTextures[0]},Nt.prototype.addColorTexture=function(e,t){return void 0===e&&(e=0),this.colorTextures[e]=t||new Tt(null,{scaleMode:M.NEAREST,resolution:1,mipmap:!1,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},Nt.prototype.addDepthTexture=function(e){return this.depthTexture=e||new Tt(new Dt(null,{width:this.width,height:this.height}),{scaleMode:M.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:!1,format:O.DEPTH_COMPONENT,type:A.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},Nt.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},Nt.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},Nt.prototype.resize=function(e,t){if(e=Math.ceil(e),t=Math.ceil(t),e!==this.width||t!==this.height){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var r=this.colorTextures[n],i=r.resolution;r.setSize(e/i,t/i)}if(this.depthTexture){var o=this.depthTexture.resolution;this.depthTexture.setSize(e/o,t/o)}}},Nt.prototype.dispose=function(){this.disposeRunner.run(this,!1)},Object.defineProperties(Nt.prototype,Rt);var Lt=function(e){function t(t){if("number"===typeof t){var n=arguments[0],r=arguments[1],i=arguments[2],o=arguments[3];t={width:n,height:r,scaleMode:i,resolution:o}}e.call(this,null,t);var a=t||{},s=a.width,l=a.height;this.mipmap=!1,this.width=Math.ceil(s)||100,this.height=Math.ceil(l)||100,this.valid=!0,this._canvasRenderTarget=null,this.clearColor=[0,0,0,0],this.framebuffer=new Nt(this.width*this.resolution,this.height*this.resolution).addColorTexture(0,this),this.maskStack=[],this.filterStack=[{}]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.resize=function(e,t){e=Math.ceil(e),t=Math.ceil(t),this.framebuffer.resize(e*this.resolution,t*this.resolution)},t.prototype.dispose=function(){this.framebuffer.dispose(),e.prototype.dispose.call(this)},t.prototype.destroy=function(){e.prototype.destroy.call(this,!0),this.framebuffer=null},t}(Tt),jt=function(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)};jt.prototype.set=function(e,t,n){var r=t.width,i=t.height;if(n){var o=e.width/2/r,a=e.height/2/i,s=e.x/r+o,l=e.y/i+a;n=Ve.add(n,Ve.NW),this.x0=s+o*Ve.uX(n),this.y0=l+a*Ve.uY(n),n=Ve.add(n,2),this.x1=s+o*Ve.uX(n),this.y1=l+a*Ve.uY(n),n=Ve.add(n,2),this.x2=s+o*Ve.uX(n),this.y2=l+a*Ve.uY(n),n=Ve.add(n,2),this.x3=s+o*Ve.uX(n),this.y3=l+a*Ve.uY(n)}else this.x0=e.x/r,this.y0=e.y/i,this.x1=(e.x+e.width)/r,this.y1=e.y/i,this.x2=(e.x+e.width)/r,this.y2=(e.y+e.height)/i,this.x3=e.x/r,this.y3=(e.y+e.height)/i;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3};var Ft=new jt,Bt=function(e){function t(n,r,i,o,a,s){if(e.call(this),this.noFrame=!1,r||(this.noFrame=!0,r=new We(0,0,1,1)),n instanceof t&&(n=n.baseTexture),this.baseTexture=n,this._frame=r,this.trim=o,this.valid=!1,this.requiresUpdate=!1,this._uvs=Ft,this.uvMatrix=null,this.orig=i||r,this._rotate=Number(a||0),!0===a)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=s?new Me(s.x,s.y):new Me(0,0),this._updateID=0,this.textureCacheIds=[],n.valid?this.noFrame?n.valid&&this.onBaseTextureUpdated(n):this.frame=r:n.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&n.on("update",this.onBaseTextureUpdated,this)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={resolution:{configurable:!0},frame:{configurable:!0},rotate:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};return t.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},t.prototype.onBaseTextureUpdated=function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},t.prototype.destroy=function(e){if(this.baseTexture){if(e){var n=this.baseTexture.resource;n&&ye[n.url]&&t.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){return new t(this.baseTexture,this.frame.clone(),this.orig.clone(),this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor)},t.prototype.updateUvs=function(){this._uvs===Ft&&(this._uvs=new jt),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.from=function(e,n,r){void 0===n&&(n={}),void 0===r&&(r=j.STRICT_TEXTURE_CACHE);var i="string"===typeof e,o=null;i?o=e:(e._pixiId||(e._pixiId="pixiid_"+pe()),o=e._pixiId);var a=ye[o];if(i&&r&&!a)throw new Error('The cacheId "'+o+'" does not exist in TextureCache.');return a||(n.resolution||(n.resolution=Ce(e)),(a=new t(new Tt(e,n))).baseTexture.cacheId=o,Tt.addToCache(a.baseTexture,o),t.addToCache(a,o)),a},t.fromBuffer=function(e,n,r,i){return new t(Tt.fromBuffer(e,n,r,i))},t.fromLoader=function(e,n,r){var i=new bt(e);i.url=n;var o=new t(new Tt(i,{scaleMode:j.SCALE_MODE,resolution:Ce(n)}));return r||(r=n),Tt.addToCache(o.baseTexture,r),t.addToCache(o,r),r!==n&&(Tt.addToCache(o.baseTexture,n),t.addToCache(o,n)),o},t.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),ye[t]&&console.warn("Texture added to the cache with an id ["+t+"] that already had an entry"),ye[t]=e)},t.removeFromCache=function(e){if("string"===typeof e){var t=ye[e];if(t){var n=t.textureCacheIds.indexOf(e);return n>-1&&t.textureCacheIds.splice(n,1),delete ye[e],t}}else if(e&&e.textureCacheIds){for(var r=0;r<e.textureCacheIds.length;++r)ye[e.textureCacheIds[r]]===e&&delete ye[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null},n.resolution.get=function(){return this.baseTexture.resolution},n.frame.get=function(){return this._frame},n.frame.set=function(e){this._frame=e,this.noFrame=!1;var t=e.x,n=e.y,r=e.width,i=e.height,o=t+r>this.baseTexture.width,a=n+i>this.baseTexture.height;if(o||a){var s=o&&a?"and":"or",l="X: "+t+" + "+r+" = "+(t+r)+" > "+this.baseTexture.width,u="Y: "+n+" + "+i+" = "+(n+i)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+l+" "+s+" "+u)}this.valid=r&&i&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=e),this.valid&&this.updateUvs()},n.rotate.get=function(){return this._rotate},n.rotate.set=function(e){this._rotate=e,this.valid&&this.updateUvs()},n.width.get=function(){return this.orig.width},n.height.get=function(){return this.orig.height},Object.defineProperties(t.prototype,n),t}(B.a);function zt(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}Bt.EMPTY=new Bt(new Tt),zt(Bt.EMPTY),zt(Bt.EMPTY.baseTexture),Bt.WHITE=function(){var e=document.createElement("canvas");e.width=16,e.height=16;var t=e.getContext("2d");return t.fillStyle="white",t.fillRect(0,0,16,16),new Bt(new Tt(new kt(e)))}(),zt(Bt.WHITE),zt(Bt.WHITE.baseTexture);var Ht=function(e){function t(t,n){var r=null;if(!(t instanceof Lt)){var i=arguments[1],o=arguments[2],a=arguments[3],s=arguments[4];console.warn("Please use RenderTexture.create("+i+", "+o+") instead of the ctor directly."),r=arguments[0],n=null,t=new Lt({width:i,height:o,scaleMode:a,resolution:s})}e.call(this,t,n),this.legacyRenderer=r,this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.resize=function(e,t,n){void 0===n&&(n=!0),e=Math.ceil(e),t=Math.ceil(t),this.valid=e>0&&t>0,this._frame.width=this.orig.width=e,this._frame.height=this.orig.height=t,n&&this.baseTexture.resize(e,t),this.updateUvs()},t.prototype.setResolution=function(e){var t=this.baseTexture;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))},t.create=function(e){return"number"===typeof e&&(e={width:e,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new t(new Lt(e))},t}(Bt),Ut=function(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0};Ut.prototype.createTexture=function(e,t){var n=new Lt(Object.assign({width:e,height:t,resolution:1},this.textureOptions));return new Ht(n)},Ut.prototype.getOptimalTexture=function(e,t,n){void 0===n&&(n=1);var r=Ut.SCREEN_KEY;e*=n,t*=n,this.enableFullScreen&&e===this._pixelsWidth&&t===this._pixelsHeight||(r=(65535&(e=le(e)))<<16|65535&(t=le(t))),this.texturePool[r]||(this.texturePool[r]=[]);var i=this.texturePool[r].pop();return i||(i=this.createTexture(e,t)),i.filterPoolKey=r,i.setResolution(n),i},Ut.prototype.getFilterTexture=function(e,t){var n=this.getOptimalTexture(e.width,e.height,t||e.resolution);return n.filterFrame=e.filterFrame,n},Ut.prototype.returnTexture=function(e){var t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)},Ut.prototype.returnFilterTexture=function(e){this.returnTexture(e)},Ut.prototype.clear=function(e){if(e=!1!==e)for(var t in this.texturePool){var n=this.texturePool[t];if(n)for(var r=0;r<n.length;r++)n[r].destroy(!0)}this.texturePool={}},Ut.prototype.setScreenSize=function(e){if(e.width!==this._pixelsWidth||e.height!==this._pixelsHeight){var t=Ut.SCREEN_KEY,n=this.texturePool[t];if(this.enableFullScreen=e.width>0&&e.height>0,n)for(var r=0;r<n.length;r++)n[r].destroy(!0);this.texturePool[t]=[],this._pixelsWidth=e.width,this._pixelsHeight=e.height}},Ut.SCREEN_KEY="screen";var Vt=function(e,t,n,r,i,o,a){void 0===n&&(n=!1),void 0===r&&(r=5126),this.buffer=e,this.size=t,this.normalized=n,this.type=r,this.stride=i,this.start=o,this.instance=a};Vt.prototype.destroy=function(){this.buffer=null},Vt.from=function(e,t,n,r,i){return new Vt(e,t,n,r,i)};var Gt=0,Wt=function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=!1),this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=t,this.id=Gt++,this.disposeRunner=new mt("disposeBuffer",2)};function qt(e){if(4===e.BYTES_PER_ELEMENT)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===e.BYTES_PER_ELEMENT){if(e instanceof Uint16Array)return"Uint16Array"}else if(1===e.BYTES_PER_ELEMENT&&e instanceof Uint8Array)return"Uint8Array";return null}Wt.prototype.update=function(e){this.data=e||this.data,this._updateID++},Wt.prototype.dispose=function(){this.disposeRunner.run(this,!1)},Wt.prototype.destroy=function(){this.dispose(),this.data=null},Wt.from=function(e){return e instanceof Array&&(e=new Float32Array(e)),new Wt(e)};var Yt={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};var Xt={5126:4,5123:2,5121:1},$t=0,Kt={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},Zt=function(e,t){void 0===e&&(e=[]),void 0===t&&(t={}),this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=$t++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new mt("disposeGeometry",2),this.refCount=0};Zt.prototype.addAttribute=function(e,t,n,r,i,o,a,s){if(void 0===r&&(r=!1),void 0===s&&(s=!1),!t)throw new Error("You must pass a buffer when creating an attribute");t.data||(t instanceof Array&&(t=new Float32Array(t)),t=new Wt(t));var l=e.split("|");if(l.length>1){for(var u=0;u<l.length;u++)this.addAttribute(l[u],t,n,r,i);return this}var c=this.buffers.indexOf(t);return-1===c&&(this.buffers.push(t),c=this.buffers.length-1),this.attributes[e]=new Vt(c,n,r,i,o,a,s),this.instanced=this.instanced||s,this},Zt.prototype.getAttribute=function(e){return this.attributes[e]},Zt.prototype.getBuffer=function(e){return this.buffers[this.getAttribute(e).buffer]},Zt.prototype.addIndex=function(e){return e.data||(e instanceof Array&&(e=new Uint16Array(e)),e=new Wt(e)),e.index=!0,this.indexBuffer=e,-1===this.buffers.indexOf(e)&&this.buffers.push(e),this},Zt.prototype.getIndex=function(){return this.indexBuffer},Zt.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var e,t=[],n=[],r=new Wt;for(e in this.attributes){var i=this.attributes[e],o=this.buffers[i.buffer];t.push(o.data),n.push(i.size*Xt[i.type]/4),i.buffer=0}for(r.data=function(e,t){for(var n=0,r=0,i={},o=0;o<e.length;o++)r+=t[o],n+=e[o].length;for(var a=new ArrayBuffer(4*n),s=null,l=0,u=0;u<e.length;u++){var c=t[u],f=e[u],d=qt(f);i[d]||(i[d]=new Yt[d](a)),s=i[d];for(var h=0;h<f.length;h++){s[(h/c|0)*r+l+h%c]=f[h]}l+=c}return new Float32Array(a)}(t,n),e=0;e<this.buffers.length;e++)this.buffers[e]!==this.indexBuffer&&this.buffers[e].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},Zt.prototype.getSize=function(){for(var e in this.attributes){var t=this.attributes[e];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0},Zt.prototype.dispose=function(){this.disposeRunner.run(this,!1)},Zt.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},Zt.prototype.clone=function(){for(var e=new Zt,t=0;t<this.buffers.length;t++)e.buffers[t]=new Wt(this.buffers[t].data.slice());for(var n in this.attributes){var r=this.attributes[n];e.attributes[n]=new Vt(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.index=!0),e},Zt.merge=function(e){for(var t,n=new Zt,r=[],i=[],o=[],a=0;a<e.length;a++){t=e[a];for(var s=0;s<t.buffers.length;s++)i[s]=i[s]||0,i[s]+=t.buffers[s].data.length,o[s]=0}for(var l=0;l<t.buffers.length;l++)r[l]=new(Kt[qt(t.buffers[l].data)])(i[l]),n.buffers[l]=new Wt(r[l]);for(var u=0;u<e.length;u++){t=e[u];for(var c=0;c<t.buffers.length;c++)r[c].set(t.buffers[c].data,o[c]),o[c]+=t.buffers[c].data.length}if(n.attributes=t.attributes,t.indexBuffer){n.indexBuffer=n.buffers[t.buffers.indexOf(t.indexBuffer)],n.indexBuffer.index=!0;for(var f=0,d=0,h=0,p=0,m=0;m<t.buffers.length;m++)if(t.buffers[m]!==t.indexBuffer){p=m;break}for(var v in t.attributes){var g=t.attributes[v];(0|g.buffer)===p&&(d+=g.size*Xt[g.type]/4)}for(var y=0;y<e.length;y++){for(var b=e[y].indexBuffer.data,_=0;_<b.length;_++)n.indexBuffer.data[_+h]+=f;f+=t.buffers[p].data.length/d,h+=b.length}}return n};var Qt=function(e){function t(){e.call(this),this.addAttribute("aVertexPosition",[0,0,1,0,1,1,0,1]).addIndex([0,1,3,2])}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Zt),Jt=function(e){function t(){e.call(this),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new Wt(this.vertices),this.uvBuffer=new Wt(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(e,t){var n=0,r=0;return this.uvs[0]=n,this.uvs[1]=r,this.uvs[2]=n+t.width/e.width,this.uvs[3]=r,this.uvs[4]=n+t.width/e.width,this.uvs[5]=r+t.height/e.height,this.uvs[6]=n,this.uvs[7]=r+t.height/e.height,n=t.x,r=t.y,this.vertices[0]=n,this.vertices[1]=r,this.vertices[2]=n+t.width,this.vertices[3]=r,this.vertices[4]=n+t.width,this.vertices[5]=r+t.height,this.vertices[6]=n,this.vertices[7]=r+t.height,this.invalidate(),this},t.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},t}(Zt),en=0,tn=function(e,t){this.uniforms=e,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=en++,this.static=!!t};tn.prototype.update=function(){this.dirtyId++},tn.prototype.add=function(e,t,n){this.uniforms[e]=new tn(t,n)},tn.from=function(e,t){return new tn(e,t)};var nn=function(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new We,this.destinationFrame=new We,this.filters=[]};nn.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null};var rn=function(e){function t(t){e.call(this,t),this.defaultFilterStack=[{}],this.texturePool=new Ut,this.texturePool.setScreenSize(t.view),this.statePool=[],this.quad=new Qt,this.quadUv=new Jt,this.tempRect=new We,this.activeState={},this.globalUniforms=new tn({outputFrame:this.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.push=function(e,t){for(var n=this.renderer,r=this.defaultFilterStack,i=this.statePool.pop()||new nn,o=t[0].resolution,a=t[0].padding,s=t[0].autoFit,l=t[0].legacy,u=1;u<t.length;u++){var c=t[u];o=Math.min(o,c.resolution),a=this.useMaxPadding?Math.max(a,c.padding):a+c.padding,s=s||c.autoFit,l=l||c.legacy}1===r.length&&(this.defaultFilterStack[0].renderTexture=n.renderTexture.current),r.push(i),i.resolution=o,i.legacy=l,i.target=e,i.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),i.sourceFrame.pad(a),s&&i.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),i.sourceFrame.ceil(o),i.renderTexture=this.getOptimalFilterTexture(i.sourceFrame.width,i.sourceFrame.height,o),i.filters=t,i.destinationFrame.width=i.renderTexture.width,i.destinationFrame.height=i.renderTexture.height,i.renderTexture.filterFrame=i.sourceFrame,n.renderTexture.bind(i.renderTexture,i.sourceFrame),n.renderTexture.clear()},t.prototype.pop=function(){var e=this.defaultFilterStack,t=e.pop(),n=t.filters;this.activeState=t;var r=this.globalUniforms.uniforms;r.outputFrame=t.sourceFrame,r.resolution=t.resolution;var i=r.inputSize,o=r.inputPixel,a=r.inputClamp;if(i[0]=t.destinationFrame.width,i[1]=t.destinationFrame.height,i[2]=1/i[0],i[3]=1/i[1],o[0]=i[0]*t.resolution,o[1]=i[1]*t.resolution,o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=t.sourceFrame.width*i[2]-.5*o[2],a[3]=t.sourceFrame.height*i[3]-.5*o[3],t.legacy){var s=r.filterArea;s[0]=t.destinationFrame.width,s[1]=t.destinationFrame.height,s[2]=t.sourceFrame.x,s[3]=t.sourceFrame.y,r.filterClamp=r.inputClamp}this.globalUniforms.update();var l=e[e.length-1];if(1===n.length)n[0].apply(this,t.renderTexture,l.renderTexture,!1,t),this.returnFilterTexture(t.renderTexture);else{var u=t.renderTexture,c=this.getOptimalFilterTexture(u.width,u.height,t.resolution);c.filterFrame=u.filterFrame;var f=0;for(f=0;f<n.length-1;++f){n[f].apply(this,u,c,!0,t);var d=u;u=c,c=d}n[f].apply(this,u,l.renderTexture,!1,t),this.returnFilterTexture(u),this.returnFilterTexture(c)}t.clear(),this.statePool.push(t)},t.prototype.applyFilter=function(e,t,n,r){var i=this.renderer;i.renderTexture.bind(n,n?n.filterFrame:null),r&&i.renderTexture.clear(),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,i.state.set(e.state),i.shader.bind(e),e.legacy?(this.quadUv.map(t._frame,t.filterFrame),i.geometry.bind(this.quadUv),i.geometry.draw(k.TRIANGLES)):(i.geometry.bind(this.quad),i.geometry.draw(k.TRIANGLE_STRIP))},t.prototype.calculateSpriteMatrix=function(e,t){var n=this.activeState,r=n.sourceFrame,i=n.destinationFrame,o=t._texture.orig,a=e.set(i.width,0,0,i.height,r.x,r.y),s=t.worldTransform.copyTo(Re.TEMP_MATRIX);return s.invert(),a.prepend(s),a.scale(1/o.width,1/o.height),a.translate(t.anchor.x,t.anchor.y),a},t.prototype.destroy=function(){this.texturePool.clear(!1)},t.prototype.getOptimalFilterTexture=function(e,t,n){return void 0===n&&(n=1),this.texturePool.getOptimalTexture(e,t,n)},t.prototype.getFilterTexture=function(e,t){if("number"===typeof e){var n=e;e=t,t=n}e=e||this.activeState.renderTexture;var r=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution);return r.filterFrame=e.filterFrame,r},t.prototype.returnFilterTexture=function(e){this.texturePool.returnTexture(e)},t.prototype.emptyPool=function(){this.texturePool.clear(!0)},t.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},t}(It),on=function(e){this.renderer=e};on.prototype.flush=function(){},on.prototype.destroy=function(){this.renderer=null},on.prototype.start=function(){},on.prototype.stop=function(){this.flush()},on.prototype.render=function(e){};var an=function(e){function t(t){e.call(this,t),this.emptyRenderer=new on(t),this.currentRenderer=this.emptyRenderer}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.copyBoundTextures=function(e,t){for(var n=this.renderer.texture.boundTextures,r=t-1;r>=0;--r)e[r]=n[r]||null,e[r]&&(e[r]._batchLocation=r)},t.prototype.boundArray=function(e,t,n,r){for(var i=e.elements,o=e.ids,a=e.count,s=0,l=0;l<a;l++){var u=i[l],c=u._batchLocation;if(c>=0&&c<r&&t[c]===u)o[l]=c;else for(;s<r;){var f=t[s];if(!f||f._batchEnabled!==n||f._batchLocation!==s){o[l]=s,u._batchLocation=s,t[s]=u;break}s++}}},t}(It);j.PREFER_ENV=w.any?E.WEBGL:E.WEBGL2,j.STRICT_TEXTURE_CACHE=!1;var sn=0,ln=function(e){function t(t){e.call(this,t),this.webGLVersion=1,this.extensions={},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),t.view.addEventListener("webglcontextlost",this.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={isLost:{configurable:!0}};return n.isLost.get=function(){return!this.gl||this.gl.isContextLost()},t.prototype.contextChange=function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=sn++,e.isContextLost()&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").restoreContext()},t.prototype.initFromContext=function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=sn++,this.renderer.runners.contextChange.run(e)},t.prototype.initFromOptions=function(e){var t=this.createContext(this.renderer.view,e);this.initFromContext(t)},t.prototype.createContext=function(e,t){var n;if(j.PREFER_ENV>=E.WEBGL2&&(n=e.getContext("webgl2",t)),n)this.webGLVersion=2;else if(this.webGLVersion=1,!(n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),n},t.prototype.getExtensions=function(){var e=this.gl;1===this.webGLVersion?Object.assign(this.extensions,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),loseContext:e.getExtension("WEBGL_lose_context"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,{anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:e.getExtension("EXT_color_buffer_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear")})},t.prototype.handleContextLost=function(e){e.preventDefault()},t.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.run(this.gl)},t.prototype.destroy=function(){var e=this.renderer.view;e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},t.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},t.prototype.validateContext=function(e){e.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")},Object.defineProperties(t.prototype,n),t}(It),un=function(e){function t(t){e.call(this,t),this.managedFramebuffers=[],this.unknownFramebuffer=new Nt(10,10)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0}};return t.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new We,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var t=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;j.PREFER_ENV===E.WEBGL_LEGACY&&(t=null,n=null),t?e.drawBuffers=function(e){return t.drawBuffersWEBGL(e)}:(this.hasMRT=!1,e.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}},t.prototype.bind=function(e,t){var n=this.gl;if(e){var r=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,n.bindFramebuffer(n.FRAMEBUFFER,r.framebuffer)),r.dirtyId!==e.dirtyId&&(r.dirtyId=e.dirtyId,r.dirtyFormat!==e.dirtyFormat?(r.dirtyFormat=e.dirtyFormat,this.updateFramebuffer(e)):r.dirtySize!==e.dirtySize&&(r.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var i=0;i<e.colorTextures.length;i++)e.colorTextures[i].texturePart?this.renderer.texture.unbind(e.colorTextures[i].texture):this.renderer.texture.unbind(e.colorTextures[i]);e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,e.width,e.height)}else this.current&&(this.current=null,n.bindFramebuffer(n.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},t.prototype.setViewport=function(e,t,n,r){var i=this.viewport;i.width===n&&i.height===r&&i.x===e&&i.y===t||(i.x=e,i.y=t,i.width=n,i.height=r,this.gl.viewport(e,t,n,r))},n.size.get=function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},t.prototype.clear=function(e,t,n,r){var i=this.gl;i.clearColor(e,t,n,r),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)},t.prototype.initFramebuffer=function(e){var t={framebuffer:this.gl.createFramebuffer(),stencil:null,dirtyId:0,dirtyFormat:0,dirtySize:0};return e.glFramebuffers[this.CONTEXT_UID]=t,this.managedFramebuffers.push(e),e.disposeRunner.add(this),t},t.prototype.resizeFramebuffer=function(e){var t=this.gl,n=e.glFramebuffers[this.CONTEXT_UID];n.stencil&&(t.bindRenderbuffer(t.RENDERBUFFER,n.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,e.width,e.height));for(var r=e.colorTextures,i=0;i<r.length;i++)this.renderer.texture.bind(r[i],0);e.depthTexture&&this.renderer.texture.bind(e.depthTexture,0)},t.prototype.updateFramebuffer=function(e){var t=this.gl,n=e.glFramebuffers[this.CONTEXT_UID],r=e.colorTextures.length;t.drawBuffers||(r=Math.min(r,1));for(var i=[],o=0;o<r;o++){var a=e.colorTextures[o];a.texturePart?(this.renderer.texture.bind(a.texture,0),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+o,t.TEXTURE_CUBE_MAP_NEGATIVE_X+a.side,a.texture._glTextures[this.CONTEXT_UID].texture,0)):(this.renderer.texture.bind(a,0),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+o,t.TEXTURE_2D,a._glTextures[this.CONTEXT_UID].texture,0)),i.push(t.COLOR_ATTACHMENT0+o)}if((i.length>1&&t.drawBuffers(i),e.depthTexture)&&this.writeDepthTexture){var s=e.depthTexture;this.renderer.texture.bind(s,0),t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,s._glTextures[this.CONTEXT_UID].texture,0)}n.stencil||!e.stencil&&!e.depth||(n.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,n.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,e.width,e.height),e.depthTexture||t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,n.stencil))},t.prototype.disposeFramebuffer=function(e,t){var n=e.glFramebuffers[this.CONTEXT_UID],r=this.gl;if(n){delete e.glFramebuffers[this.CONTEXT_UID];var i=this.managedFramebuffers.indexOf(e);i>=0&&this.managedFramebuffers.splice(i,1),e.disposeRunner.remove(this),t||(r.deleteFramebuffer(n.framebuffer),n.stencil&&r.deleteRenderbuffer(n.stencil))}},t.prototype.disposeAll=function(e){var t=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<t.length;n++)this.disposeFramebuffer(t[n],e)},t.prototype.forceStencil=function(){var e=this.current;if(e){var t=e.glFramebuffers[this.CONTEXT_UID];if(t&&!t.stencil){e.enableStencil();var n=e.width,r=e.height,i=this.gl,o=i.createRenderbuffer();i.bindRenderbuffer(i.RENDERBUFFER,o),i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,n,r),t.stencil=o,i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,o)}}},t.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new We},Object.defineProperties(t.prototype,n),t}(It),cn=function(e){this.buffer=e,this.updateID=-1,this.byteLength=-1,this.refCount=0},fn={5126:4,5123:2,5121:1},dn=function(e){function t(t){e.call(this,t),this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.boundBuffers={},this.managedGeometries={},this.managedBuffers={}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,!e.createVertexArray){var n=this.renderer.context.extensions.vertexArrayObject;j.PREFER_ENV===E.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=function(){return n.createVertexArrayOES()},e.bindVertexArray=function(e){return n.bindVertexArrayOES(e)},e.deleteVertexArray=function(e){return n.deleteVertexArrayOES(e)}):(this.hasVao=!1,e.createVertexArray=function(){},e.bindVertexArray=function(){},e.deleteVertexArray=function(){})}if(!e.vertexAttribDivisor){var r=e.getExtension("ANGLE_instanced_arrays");r?(e.vertexAttribDivisor=function(e,t){return r.vertexAttribDivisorANGLE(e,t)},e.drawElementsInstanced=function(e,t,n,i,o){return r.drawElementsInstancedANGLE(e,t,n,i,o)},e.drawArraysInstanced=function(e,t,n,i){return r.drawArraysInstancedANGLE(e,t,n,i)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===t.webGLVersion||!!t.extensions.uint32ElementIndex},t.prototype.bind=function(e,t){t=t||this.renderer.shader.shader;var n=this.gl,r=e.glVertexArrayObjects[this.CONTEXT_UID];r||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=r={});var i=r[t.program.id]||this.initGeometryVao(e,t.program);this._activeGeometry=e,this._activeVao!==i&&(this._activeVao=i,this.hasVao?n.bindVertexArray(i):this.activateVao(e,t.program)),this.updateBuffers()},t.prototype.reset=function(){this.unbind()},t.prototype.updateBuffers=function(){for(var e=this._activeGeometry,t=this.gl,n=0;n<e.buffers.length;n++){var r=e.buffers[n],i=r._glBuffers[this.CONTEXT_UID];if(r._updateID!==i.updateID){i.updateID=r._updateID;var o=r.index?t.ELEMENT_ARRAY_BUFFER:t.ARRAY_BUFFER;if(t.bindBuffer(o,i.buffer),this._boundBuffer=i,i.byteLength>=r.data.byteLength)t.bufferSubData(o,0,r.data);else{var a=r.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;i.byteLength=r.data.byteLength,t.bufferData(o,r.data,a)}}}},t.prototype.checkCompatibility=function(e,t){var n=e.attributes,r=t.attributeData;for(var i in r)if(!n[i])throw new Error('shader and geometry incompatible, geometry missing the "'+i+'" attribute')},t.prototype.getSignature=function(e,t){var n=e.attributes,r=t.attributeData,i=["g",e.id];for(var o in n)r[o]&&i.push(o);return i.join("-")},t.prototype.initGeometryVao=function(e,t){this.checkCompatibility(e,t);var n=this.gl,r=this.CONTEXT_UID,i=this.getSignature(e,t),o=e.glVertexArrayObjects[this.CONTEXT_UID],a=o[i];if(a)return o[t.id]=a,a;var s=e.buffers,l=e.attributes,u={},c={};for(var f in s)u[f]=0,c[f]=0;for(var d in l)!l[d].size&&t.attributeData[d]?l[d].size=t.attributeData[d].size:l[d].size||console.warn("PIXI Geometry attribute '"+d+"' size cannot be determined (likely the bound shader does not have the attribute)"),u[l[d].buffer]+=l[d].size*fn[l[d].type];for(var h in l){var p=l[h],m=p.size;void 0===p.stride&&(u[p.buffer]===m*fn[p.type]?p.stride=0:p.stride=u[p.buffer]),void 0===p.start&&(p.start=c[p.buffer],c[p.buffer]+=m*fn[p.type])}a=n.createVertexArray(),n.bindVertexArray(a);for(var v=0;v<s.length;v++){var g=s[v];g._glBuffers[r]||(g._glBuffers[r]=new cn(n.createBuffer()),this.managedBuffers[g.id]=g,g.disposeRunner.add(this)),g._glBuffers[r].refCount++}return this.activateVao(e,t),this._activeVao=a,o[t.id]=a,o[i]=a,a},t.prototype.disposeBuffer=function(e,t){if(this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var n=e._glBuffers[this.CONTEXT_UID],r=this.gl;e.disposeRunner.remove(this),n&&(t||r.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}},t.prototype.disposeGeometry=function(e,t){if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var n=e.glVertexArrayObjects[this.CONTEXT_UID],r=this.gl,i=e.buffers;if(e.disposeRunner.remove(this),n){for(var o=0;o<i.length;o++){var a=i[o]._glBuffers[this.CONTEXT_UID];a.refCount--,0!==a.refCount||t||this.disposeBuffer(i[o],t)}if(!t)for(var s in n)if("g"===s[0]){var l=n[s];this._activeVao===l&&this.unbind(),r.deleteVertexArray(l)}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}},t.prototype.disposeAll=function(e){for(var t=Object.keys(this.managedGeometries),n=0;n<t.length;n++)this.disposeGeometry(this.managedGeometries[t[n]],e);t=Object.keys(this.managedBuffers);for(var r=0;r<t.length;r++)this.disposeBuffer(this.managedBuffers[t[r]],e)},t.prototype.activateVao=function(e,t){var n=this.gl,r=this.CONTEXT_UID,i=e.buffers,o=e.attributes;e.indexBuffer&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.indexBuffer._glBuffers[r].buffer);var a=null;for(var s in o){var l=o[s],u=i[l.buffer]._glBuffers[r];if(t.attributeData[s]){a!==u&&(n.bindBuffer(n.ARRAY_BUFFER,u.buffer),a=u);var c=t.attributeData[s].location;if(n.enableVertexAttribArray(c),n.vertexAttribPointer(c,l.size,l.type||n.FLOAT,l.normalized,l.stride,l.start),l.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");n.vertexAttribDivisor(c,1)}}}},t.prototype.draw=function(e,t,n,r){var i=this.gl,o=this._activeGeometry;if(o.indexBuffer){var a=o.indexBuffer.data.BYTES_PER_ELEMENT,s=2===a?i.UNSIGNED_SHORT:i.UNSIGNED_INT;2===a||4===a&&this.canUseUInt32ElementIndex?o.instanced?i.drawElementsInstanced(e,t||o.indexBuffer.data.length,s,(n||0)*a,r||1):i.drawElements(e,t||o.indexBuffer.data.length,s,(n||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?i.drawArraysInstanced(e,n,t||o.getSize(),r||1):i.drawArrays(e,n,t||o.getSize());return this},t.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},t}(It),hn=function(e){this.type=L.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null};function pn(e,t,n,r){var i=mn(e,e.VERTEX_SHADER,t),o=mn(e,e.FRAGMENT_SHADER,n),a=e.createProgram();if(e.attachShader(a,i),e.attachShader(a,o),r)for(var s in r)e.bindAttribLocation(a,r[s],s);return e.linkProgram(a),e.getProgramParameter(a,e.LINK_STATUS)||(e.getShaderParameter(i,e.COMPILE_STATUS)||(console.warn(t),console.error(e.getShaderInfoLog(i))),e.getShaderParameter(o,e.COMPILE_STATUS)||(console.warn(n),console.error(e.getShaderInfoLog(o))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",e.getProgramParameter(a,e.VALIDATE_STATUS)),console.error("gl.getError()",e.getError()),""!==e.getProgramInfoLog(a)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(a)),e.deleteProgram(a),a=null),e.deleteShader(i),e.deleteShader(o),a}function mn(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}function vn(e,t){switch(e){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"bool":return!1;case"bvec2":return gn(2*t);case"bvec3":return gn(3*t);case"bvec4":return gn(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}function gn(e){for(var t=new Array(e),n=0;n<t.length;n++)t[n]=!1;return t}hn.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=L.NONE,this.autoDetect=!0),this._target=null},hn.prototype.copyCountersOrReset=function(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)};var yn,bn={},_n=bn;function xn(){if(_n===bn||_n&&_n.isContextLost()){var e,t=document.createElement("canvas");j.PREFER_ENV>=E.WEBGL2&&(e=t.getContext("webgl2",{})),e||((e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}))?e.getExtension("WEBGL_draw_buffers"):e=null),_n=e}return _n}function wn(e,t,n){if("precision"!==e.substring(0,9)){var r=t;return t===R.HIGH&&n!==R.HIGH&&(r=R.MEDIUM),"precision "+r+" float;\n"+e}return n!==R.HIGH&&"precision highp"===e.substring(0,15)?e.replace("precision highp","precision mediump"):e}var En={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Tn(e){return En[e]}var Sn=null,kn={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray"};function On(e,t){if(!Sn){var n=Object.keys(kn);Sn={};for(var r=0;r<n.length;++r){var i=n[r];Sn[e[i]]=kn[i]}}return Sn[t]}var Cn={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},An={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};var Mn,Pn=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function In(e,t){if(0===e)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var n=t.createShader(t.FRAGMENT_SHADER);;){var r=Pn.replace(/%forloop%/gi,Dn(e));if(t.shaderSource(n,r),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS))break;e=e/2|0}return e}function Dn(e){for(var t="",n=0;n<e;++n)n>0&&(t+="\nelse "),n<e-1&&(t+="if(test == "+n+".0){}");return t}var Nn=0,Rn={},Ln=function e(t,n,r){void 0===r&&(r="pixi-shader"),this.id=Nn++,this.vertexSrc=t||e.defaultVertexSrc,this.fragmentSrc=n||e.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(r=r.replace(/\s+/g,"-"),Rn[r]?(Rn[r]++,r+="-"+Rn[r]):Rn[r]=1,this.vertexSrc="#define SHADER_NAME "+r+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+r+"\n"+this.fragmentSrc,this.vertexSrc=wn(this.vertexSrc,j.PRECISION_VERTEX,R.HIGH),this.fragmentSrc=wn(this.fragmentSrc,j.PRECISION_FRAGMENT,function(){if(!yn){yn=R.MEDIUM;var e=xn();if(e&&e.getShaderPrecisionFormat){var t=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);yn=t.precision?R.HIGH:R.MEDIUM}}return yn}())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null},jn={defaultVertexSrc:{configurable:!0},defaultFragmentSrc:{configurable:!0}};Ln.prototype.extractData=function(e,t){var n=xn();if(n){var r=pn(n,e,t);this.attributeData=this.getAttributeData(r,n),this.uniformData=this.getUniformData(r,n),n.deleteProgram(r)}else this.uniformData={},this.attributeData={}},Ln.prototype.getAttributeData=function(e,t){for(var n={},r=[],i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),o=0;o<i;o++){var a=t.getActiveAttrib(e,o),s=On(t,a.type),l={type:s,name:a.name,size:Tn(s),location:0};n[a.name]=l,r.push(l)}r.sort((function(e,t){return e.name>t.name?1:-1}));for(var u=0;u<r.length;u++)r[u].location=u;return n},Ln.prototype.getUniformData=function(e,t){for(var n={},r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i=0;i<r;i++){var o=t.getActiveUniform(e,i),a=o.name.replace(/\[.*?\]/,""),s=o.name.match(/\[.*?\]/,""),l=On(t,o.type);n[a]={type:l,size:o.size,isArray:s,value:vn(l,o.size)}}return n},jn.defaultVertexSrc.get=function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},jn.defaultFragmentSrc.get=function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},Ln.from=function(e,t,n){var r=e+t,i=ge[r];return i||(ge[r]=i=new Ln(e,t,n)),i},Object.defineProperties(Ln,jn);var Fn=function(e,t){for(var n in this.program=e,this.uniformGroup=t?t instanceof tn?t:new tn(t):new tn({}),e.uniformData)this.uniformGroup.uniforms[n]instanceof Array&&(this.uniformGroup.uniforms[n]=new Float32Array(this.uniformGroup.uniforms[n]))},Bn={uniforms:{configurable:!0}};Fn.prototype.checkUniformExists=function(e,t){if(t.uniforms[e])return!0;for(var n in t.uniforms){var r=t.uniforms[n];if(r.group&&this.checkUniformExists(e,r))return!0}return!1},Fn.prototype.destroy=function(){this.uniformGroup=null},Bn.uniforms.get=function(){return this.uniformGroup.uniforms},Fn.from=function(e,t,n){var r=Ln.from(e,t);return new Fn(r,n)},Object.defineProperties(Fn.prototype,Bn);var zn=function(){this.data=0,this.blendMode=S.NORMAL,this.polygonOffset=0,this.blend=!0},Hn={blend:{configurable:!0},offsets:{configurable:!0},culling:{configurable:!0},depthTest:{configurable:!0},clockwiseFrontFace:{configurable:!0},blendMode:{configurable:!0},polygonOffset:{configurable:!0}};Hn.blend.get=function(){return!!(1&this.data)},Hn.blend.set=function(e){!!(1&this.data)!==e&&(this.data^=1)},Hn.offsets.get=function(){return!!(2&this.data)},Hn.offsets.set=function(e){!!(2&this.data)!==e&&(this.data^=2)},Hn.culling.get=function(){return!!(4&this.data)},Hn.culling.set=function(e){!!(4&this.data)!==e&&(this.data^=4)},Hn.depthTest.get=function(){return!!(8&this.data)},Hn.depthTest.set=function(e){!!(8&this.data)!==e&&(this.data^=8)},Hn.clockwiseFrontFace.get=function(){return!!(16&this.data)},Hn.clockwiseFrontFace.set=function(e){!!(16&this.data)!==e&&(this.data^=16)},Hn.blendMode.get=function(){return this._blendMode},Hn.blendMode.set=function(e){this.blend=e!==S.NONE,this._blendMode=e},Hn.polygonOffset.get=function(){return this._polygonOffset},Hn.polygonOffset.set=function(e){this.offsets=!!e,this._polygonOffset=e},zn.for2d=function(){var e=new zn;return e.depthTest=!1,e.blend=!0,e},Object.defineProperties(zn.prototype,Hn);var Un=function(e){function t(n,r,i){var o=Ln.from(n||t.defaultVertexSrc,r||t.defaultFragmentSrc);e.call(this,o,i),this.padding=0,this.resolution=j.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0,this.legacy=!!this.program.attributeData.aTextureCoord,this.state=new zn}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={blendMode:{configurable:!0}},r={defaultVertexSrc:{configurable:!0},defaultFragmentSrc:{configurable:!0}};return t.prototype.apply=function(e,t,n,r,i){e.applyFilter(this,t,n,r,i)},n.blendMode.get=function(){return this.state.blendMode},n.blendMode.set=function(e){this.state.blendMode=e},r.defaultVertexSrc.get=function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},r.defaultFragmentSrc.get=function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},Object.defineProperties(t.prototype,n),Object.defineProperties(t,r),t}(Fn);Un.SOURCE_KEY_MAP={};var Vn=new Re,Gn=function(e,t){this._texture=e,this.mapCoord=new Re,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._updateID=-1,this.clampOffset=0,this.clampMargin="undefined"===typeof t?.5:t,this.isSimple=!1},Wn={texture:{configurable:!0}};Wn.texture.get=function(){return this._texture},Wn.texture.set=function(e){this._texture=e,this._updateID=-1},Gn.prototype.multiplyUvs=function(e,t){void 0===t&&(t=e);for(var n=this.mapCoord,r=0;r<e.length;r+=2){var i=e[r],o=e[r+1];t[r]=i*n.a+o*n.c+n.tx,t[r+1]=i*n.b+o*n.d+n.ty}return t},Gn.prototype.update=function(e){var t=this._texture;if(!t||!t.valid)return!1;if(!e&&this._updateID===t._updateID)return!1;this._updateID=t._updateID;var n=t._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var r=t.orig,i=t.trim;i&&(Vn.set(r.width/i.width,0,0,r.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(Vn));var o=t.baseTexture,a=this.uClampFrame,s=this.clampMargin/o.resolution,l=this.clampOffset;return a[0]=(t._frame.x+s+l)/o.width,a[1]=(t._frame.y+s+l)/o.height,a[2]=(t._frame.x+t._frame.width-s+l)/o.width,a[3]=(t._frame.y+t._frame.height-s+l)/o.height,this.uClampOffset[0]=l/o.realWidth,this.uClampOffset[1]=l/o.realHeight,this.isSimple=t._frame.width===o.width&&t._frame.height===o.height&&0===t.rotate,!0},Object.defineProperties(Gn.prototype,Wn);var qn=function(e){function t(t){var n=new Re;e.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n"),t.renderable=!1,this.maskSprite=t,this.maskMatrix=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e,t,n,r){var i=this.maskSprite,o=this.maskSprite.texture;o.valid&&(o.transform||(o.transform=new Gn(o,0)),o.transform.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,i).prepend(o.transform.mapCoord),this.uniforms.alpha=i.worldAlpha,this.uniforms.maskClamp=o.transform.uClampFrame,e.applyFilter(this,t,n,r))},t}(Un),Yn=function(e){function t(t){e.call(this,t),this.scissorRenderTarget=null,this.enableScissor=!1,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setMaskStack=function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)},t.prototype.push=function(e,t){if(!t.isMaskData){var n=this.maskDataPool.pop()||new hn;n.pooled=!0,n.maskObject=t,t=n}switch(t.autoDetect&&this.detect(t),t.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),t._target=e,t.type){case L.SCISSOR:this.maskStack.push(t),this.renderer.scissor.push(t);break;case L.STENCIL:this.maskStack.push(t),this.renderer.stencil.push(t);break;case L.SPRITE:t.copyCountersOrReset(null),this.pushSpriteMask(t),this.maskStack.push(t)}},t.prototype.pop=function(e){var t=this.maskStack.pop();if(t&&t._target===e){switch(t.type){case L.SCISSOR:this.renderer.scissor.pop();break;case L.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case L.SPRITE:this.popSpriteMask()}t.reset(),t.pooled&&this.maskDataPool.push(t)}},t.prototype.detect=function(e){var t=e.maskObject;if(t.isSprite)e.type=L.SPRITE;else if(e.type=L.STENCIL,this.enableScissor&&t.isFastRect&&t.isFastRect()){var n=t.worldTransform,r=Math.atan2(n.b,n.a),i=Math.atan2(n.d,n.c);r=Math.round(r*(180/Math.PI)*100),i=((i=Math.round(i*(180/Math.PI)*100)-r)%18e3+18e3)%18e3,0===(r=(r%9e3+9e3)%9e3)&&9e3===i&&(e.type=L.SCISSOR)}},t.prototype.pushSpriteMask=function(e){var t=e.maskObject,n=e._target,r=this.alphaMaskPool[this.alphaMaskIndex];r||(r=this.alphaMaskPool[this.alphaMaskIndex]=[new qn(t)]),r[0].resolution=this.renderer.resolution,r[0].maskSprite=t;var i=n.filterArea;n.filterArea=t.getBounds(!0),this.renderer.filter.push(n,r),n.filterArea=i,this.alphaMaskIndex++},t.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},t}(It),Xn=function(e){function t(t){e.call(this,t),this.maskStack=[],this.glConst=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getStackLength=function(){return this.maskStack.length},t.prototype.setMaskStack=function(e){var t=this.renderer.gl,n=this.getStackLength();this.maskStack=e;var r=this.getStackLength();r!==n&&(0===r?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))},t.prototype._useCurrent=function(){},t.prototype.destroy=function(){e.prototype.destroy.call(this,this),this.maskStack=null},t}(It),$n=function(e){function t(t){e.call(this,t),this.glConst=WebGLRenderingContext.SCISSOR_TEST}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0},t.prototype.push=function(e){var t=e.maskObject;t.renderable=!0;var n=e._scissorRect,r=t.getBounds(!0),i=this.renderer.gl;t.renderable=!1,n?r.fit(n):i.enable(i.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=r,this._useCurrent()},t.prototype.pop=function(){var e=this.renderer.gl;this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)},t.prototype._useCurrent=function(){var e=this.maskStack[this.maskStack.length-1]._scissorRect,t=this.renderer.renderTexture.current,n=this.renderer.projection,r=n.transform,i=n.sourceFrame,o=n.destinationFrame,a=t?t.resolution:this.renderer.resolution,s=(e.x-i.x)*a+o.x,l=(e.y-i.y)*a+o.y,u=e.width*a,c=e.height*a;r&&(s+=r.tx*a,l+=r.ty*a),t||(l=this.renderer.height-c-l),this.renderer.gl.scissor(s,l,u,c)},t}(Xn),Kn=function(e){function t(t){e.call(this,t),this.glConst=WebGLRenderingContext.STENCIL_TEST}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0},t.prototype.push=function(e){var t=e.maskObject,n=this.renderer.gl,r=e._stencilCounter;0===r&&(this.renderer.framebuffer.forceStencil(),n.enable(n.STENCIL_TEST)),e._stencilCounter++,n.colorMask(!1,!1,!1,!1),n.stencilFunc(n.EQUAL,r,this._getBitwiseMask()),n.stencilOp(n.KEEP,n.KEEP,n.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent()},t.prototype.pop=function(e){var t=this.renderer.gl;0===this.getStackLength()?(t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0)):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent())},t.prototype._useCurrent=function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.getStackLength(),this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},t.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},t}(Xn),Zn=function(e){function t(t){e.call(this,t),this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Re,this.transform=null}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.update=function(e,t,n,r){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,r),this.transform&&this.projectionMatrix.append(this.transform);var i=this.renderer;i.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,i.globalUniforms.update(),i.shader.shader&&i.shader.syncUniformGroup(i.shader.shader.uniforms.globals)},t.prototype.calculateProjection=function(e,t,n,r){var i=this.projectionMatrix;r?(i.a=1/e.width*2*n,i.d=-1/e.height*2*n,i.tx=-1-t.x*i.a,i.ty=1-t.y*i.d):(i.a=1/e.width*2*n,i.d=1/e.height*2*n,i.tx=-1-t.x*i.a,i.ty=-1-t.y*i.d)},t.prototype.setTransform=function(){},t}(It),Qn=new We,Jn=function(e){function t(t){e.call(this,t),this.clearColor=t._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new We,this.destinationFrame=new We}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.bind=function(e,t,n){void 0===e&&(e=null),this.current=e;var r,i=this.renderer;if(e){var o=e.baseTexture;r=o.resolution,n||(Qn.width=o.realWidth,Qn.height=o.realHeight,n=Qn),t||(t=n),this.renderer.framebuffer.bind(o.framebuffer,n),this.renderer.projection.update(n,t,r,!1),this.renderer.mask.setMaskStack(o.maskStack)}else r=this.renderer.resolution,n||(Qn.width=i.width,Qn.height=i.height,n=Qn),t||(t=n),i.framebuffer.bind(null,n),this.renderer.projection.update(n,t,r,!0),this.renderer.mask.setMaskStack(this.defaultMaskStack);this.sourceFrame.copyFrom(t),this.destinationFrame.x=n.x/r,this.destinationFrame.y=n.y/r,this.destinationFrame.width=n.width/r,this.destinationFrame.height=n.height/r,t===n&&this.sourceFrame.copyFrom(this.destinationFrame)},t.prototype.clear=function(e){e=this.current?e||this.current.baseTexture.clearColor:e||this.clearColor,this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3])},t.prototype.resize=function(){this.bind(null)},t.prototype.reset=function(){this.bind(null)},t}(It),er=function(e,t){this.program=e,this.uniformData=t,this.uniformGroups={}};er.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null};var tr=0,nr={textureCount:0},rr=function(e){function t(t){e.call(this,t),this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this.id=tr++}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.systemCheck=function(){if(!function(){if("boolean"===typeof Mn)return Mn;try{var e=new Function("param1","param2","param3","return param1[param2] === param3;");Mn=!0===e({a:"b"},"a","b")}catch(t){Mn=!1}return Mn}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},t.prototype.contextChange=function(e){this.gl=e,this.reset()},t.prototype.bind=function(e,t){e.uniforms.globals=this.renderer.globalUniforms;var n=e.program,r=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(r.program)),t||(nr.textureCount=0,this.syncUniformGroup(e.uniformGroup,nr)),r},t.prototype.setUniforms=function(e){var t=this.shader.program,n=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(n.uniformData,e,this.renderer)},t.prototype.syncUniformGroup=function(e,t){var n=this.getglProgram();e.static&&e.dirtyId===n.uniformGroups[e.id]||(n.uniformGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,t))},t.prototype.syncUniforms=function(e,t,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,n)},t.prototype.createSyncGroups=function(e){var t=this.getSignature(e,this.shader.program.uniformData);return this.cache[t]||(this.cache[t]=function(e,t){var n="var v = null;\n    var cv = null\n    var t = 0;\n    var gl = renderer.gl\n    ";for(var r in e.uniforms){var i=t[r];if(i)if("float"===i.type&&1===i.size)n+="\n            if(uv."+r+" !== ud."+r+".value)\n            {\n                ud."+r+".value = uv."+r+"\n                gl.uniform1f(ud."+r+".location, uv."+r+")\n            }\n";else if("sampler2D"!==i.type&&"samplerCube"!==i.type&&"sampler2DArray"!==i.type||1!==i.size||i.isArray)if("mat3"===i.type&&1===i.size)void 0!==e.uniforms[r].a?n+="\n                gl.uniformMatrix3fv(ud."+r+".location, false, uv."+r+".toArray(true));\n                \n":n+="\n                gl.uniformMatrix3fv(ud."+r+".location, false, uv."+r+");\n                \n";else if("vec2"===i.type&&1===i.size)void 0!==e.uniforms[r].x?n+="\n                cv = ud."+r+".value;\n                v = uv."+r+";\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud."+r+".location, v.x, v.y);\n                }\n":n+="\n                cv = ud."+r+".value;\n                v = uv."+r+";\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud."+r+".location, v[0], v[1]);\n                }\n                \n";else if("vec4"===i.type&&1===i.size)void 0!==e.uniforms[r].width?n+="\n                cv = ud."+r+".value;\n                v = uv."+r+";\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud."+r+".location, v.x, v.y, v.width, v.height)\n                }\n":n+="\n                cv = ud."+r+".value;\n                v = uv."+r+";\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud."+r+".location, v[0], v[1], v[2], v[3])\n                }\n                \n";else{n+="\n            cv = ud."+r+".value;\n            v = uv."+r+";\n            "+(1===i.size?Cn:An)[i.type].replace("location","ud."+r+".location")+";\n"}else n+="\n\n            t = syncData.textureCount++;\n\n            renderer.texture.bind(uv."+r+", t);\n            \n            if(ud."+r+".value !== t)\n            {\n                ud."+r+".value = t;\n                gl.uniform1i(ud."+r+".location, t);\n; // eslint-disable-line max-len\n            }\n";else e.uniforms[r].group&&(n+="\n                    renderer.shader.syncUniformGroup(uv."+r+", syncData);\n                ")}return new Function("ud","uv","renderer","syncData",n)}(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]},t.prototype.getSignature=function(e,t){var n=e.uniforms,r=[];for(var i in n)r.push(i),t[i]&&r.push(t[i].type);return r.join("-")},t.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},t.prototype.generateShader=function(e){var t=this.gl,n=e.program,r={};for(var i in n.attributeData)r[i]=n.attributeData[i].location;var o=pn(t,n.vertexSrc,n.fragmentSrc,r),a={};for(var s in n.uniformData){var l=n.uniformData[s];a[s]={location:t.getUniformLocation(o,s),value:vn(l.type,l.size)}}var u=new er(o,a);return n.glPrograms[this.renderer.CONTEXT_UID]=u,u},t.prototype.reset=function(){this.program=null,this.shader=null},t.prototype.destroy=function(){this.destroyed=!0},t}(It);var ir=function(e){function t(t){e.call(this,t),this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=S.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.checks=[],this.defaultState=new zn,this.defaultState.blend=!0,this.defaultState.depth=!0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.contextChange=function(e){this.gl=e,this.blendModes=function(e,t){return void 0===t&&(t=[]),t[S.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[S.ADD]=[e.ONE,e.ONE],t[S.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[S.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[S.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[S.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[S.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[S.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[S.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[S.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[S.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[S.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[S.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[S.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[S.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[S.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[S.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[S.NONE]=[0,0],t[S.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[S.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[S.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[S.SRC_IN]=[e.DST_ALPHA,e.ZERO],t[S.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],t[S.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[S.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],t[S.DST_IN]=[e.ZERO,e.SRC_ALPHA],t[S.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],t[S.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],t[S.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[S.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],t}(e),this.set(this.defaultState),this.reset()},t.prototype.set=function(e){if(e=e||this.defaultState,this.stateId!==e.data){for(var t=this.stateId^e.data,n=0;t;)1&t&&this.map[n].call(this,!!(e.data&1<<n)),t>>=1,n++;this.stateId=e.data}for(var r=0;r<this.checks.length;r++)this.checks[r](this,e)},t.prototype.forceState=function(e){e=e||this.defaultState;for(var t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(var n=0;n<this.checks.length;n++)this.checks[n](this,e);this.stateId=e.data},t.prototype.setBlend=function(e){this.updateCheck(t.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)},t.prototype.setOffset=function(e){this.updateCheck(t.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},t.prototype.setDepthTest=function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)},t.prototype.setCullFace=function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)},t.prototype.setFrontFace=function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])},t.prototype.setBlendMode=function(e){if(e!==this.blendMode){this.blendMode=e;var t=this.blendModes[e],n=this.gl;2===t.length?n.blendFunc(t[0],t[1]):n.blendFuncSeparate(t[0],t[1],t[2],t[3]),6===t.length?(this._blendEq=!0,n.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}},t.prototype.setPolygonOffset=function(e,t){this.gl.polygonOffset(e,t)},t.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(0),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},t.prototype.updateCheck=function(e,t){var n=this.checks.indexOf(e);t&&-1===n?this.checks.push(e):t||-1===n||this.checks.splice(n,1)},t.checkBlendMode=function(e,t){e.setBlendMode(t.blendMode)},t.checkPolygonOffset=function(e,t){e.setPolygonOffset(t.polygonOffset,0)},t}(It),or=function(e){function t(t){e.call(this,t),this.count=0,this.checkCount=0,this.maxIdle=j.GC_MAX_IDLE,this.checkCountMax=j.GC_MAX_CHECK_COUNT,this.mode=j.GC_MODE}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==N.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},t.prototype.run=function(){for(var e=this.renderer.texture,t=e.managedTextures,n=!1,r=0;r<t.length;r++){var i=t[r];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(e.destroyTexture(i,!0),t[r]=null,n=!0)}if(n){for(var o=0,a=0;a<t.length;a++)null!==t[a]&&(t[o++]=t[a]);t.length=o}},t.prototype.unload=function(e){var t=this.renderer.textureSystem;e._texture&&e._texture._glRenderTargets&&t.destroyTexture(e._texture);for(var n=e.children.length-1;n>=0;n--)this.unload(e.children[n])},t}(It),ar=function(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121},sr=function(e){function t(t){e.call(this,t),this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Tt}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(var n=0;n<t;n++)this.boundTextures[n]=null;this.emptyTextures={};var r=new ar(e.createTexture());e.bindTexture(e.TEXTURE_2D,r.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=r,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new ar(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(var i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(var o=0;o<this.boundTextures.length;o++)this.bind(null,o)},t.prototype.bind=function(e,t){void 0===t&&(t=0);var n=this.gl;if(e){if((e=e.baseTexture||e).valid){e.touched=this.renderer.textureGC.count;var r=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,n.activeTexture(n.TEXTURE0+t)),n.bindTexture(e.target,r.texture)),r.dirtyId!==e.dirtyId&&(this.currentLocation!==t&&(this.currentLocation=t,n.activeTexture(n.TEXTURE0+t)),this.updateTexture(e)),this.boundTextures[t]=e}}else this.currentLocation!==t&&(this.currentLocation=t,n.activeTexture(n.TEXTURE0+t)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[t]=null},t.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture},t.prototype.unbind=function(e){var t=this.gl,n=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var r=0;r<n.length;r++)n[r]===this.unknownTexture&&this.bind(null,r)}for(var i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(t.activeTexture(t.TEXTURE0+i),this.currentLocation=i),t.bindTexture(t.TEXTURE_2D,this.emptyTextures[e.target].texture),n[i]=null)},t.prototype.initTexture=function(e){var t=new ar(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t},t.prototype.initTextureType=function(e,t){if(t.internalFormat=e.format,t.type=e.type,2===this.webGLVersion){var n=this.renderer.gl;e.type===n.FLOAT&&e.format===n.RGBA&&(t.internalFormat=n.RGBA32F),e.type===A.HALF_FLOAT&&(t.type=n.HALF_FLOAT),t.type===n.HALF_FLOAT&&e.format===n.RGBA&&(t.internalFormat=n.RGBA16F)}},t.prototype.updateTexture=function(e){var t=e._glTextures[this.CONTEXT_UID];if(t){var n=this.renderer;if(this.initTextureType(e,t),e.resource&&e.resource.upload(n,e,t));else{var r=e.realWidth,i=e.realHeight,o=n.gl;(t.width!==r||t.height!==i||t.dirtyId<0)&&(t.width=r,t.height=i,o.texImage2D(e.target,0,t.internalFormat,r,i,0,e.format,t.type,null))}e.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(e),t.dirtyId=e.dirtyId}},t.prototype.destroyTexture=function(e,t){var n=this.gl;if((e=e.baseTexture||e)._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){var r=this.managedTextures.indexOf(e);-1!==r&&fe(this.managedTextures,r,1)}},t.prototype.updateTextureStyle=function(e){var t=e._glTextures[this.CONTEXT_UID];t&&(e.mipmap!==I.POW2&&2===this.webGLVersion||e.isPowerOfTwo?t.mipmap=e.mipmap>=1:t.mipmap=0,2===this.webGLVersion||e.isPowerOfTwo?t.wrapMode=e.wrapMode:t.wrapMode=P.CLAMP,e.resource&&e.resource.style(this.renderer,e,t)||this.setStyle(e,t),t.dirtyStyleId=e.dirtyStyleId)},t.prototype.setStyle=function(e,t){var n=this.gl;if(t.mipmap&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,t.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===M.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);var r=this.renderer.context.extensions.anisotropicFiltering;if(r&&e.anisotropicLevel>0&&e.scaleMode===M.LINEAR){var i=Math.min(e.anisotropicLevel,n.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,r.TEXTURE_MAX_ANISOTROPY_EXT,i)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===M.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===M.LINEAR?n.LINEAR:n.NEAREST)},t}(It),lr={FilterSystem:rn,BatchSystem:an,ContextSystem:ln,FramebufferSystem:un,GeometrySystem:dn,MaskSystem:Yn,ScissorSystem:$n,StencilSystem:Kn,ProjectionSystem:Zn,RenderTextureSystem:Jn,ShaderSystem:rr,StateSystem:ir,TextureGCSystem:or,TextureSystem:sr},ur=new Re,cr=function(e){function t(t,n){e.call(this),(n=Object.assign({},j.RENDER_OPTIONS,n)).roundPixels&&(j.ROUND_PIXELS=n.roundPixels,ve("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),this.options=n,this.type=T.UNKNOWN,this.screen=new We(0,0,n.width,n.height),this.view=n.view||document.createElement("canvas"),this.resolution=n.resolution||j.RESOLUTION,this.transparent=n.transparent,this.autoDensity=n.autoDensity||n.autoResize||!1,this.preserveDrawingBuffer=n.preserveDrawingBuffer,this.clearBeforeRender=n.clearBeforeRender,this._backgroundColor=0,this._backgroundColorRgba=[0,0,0,0],this._backgroundColorString="#000000",this.backgroundColor=n.backgroundColor||this._backgroundColor,this._tempDisplayObjectParent=new Je,this._lastObjectRendered=this._tempDisplayObjectParent,this.plugins={}}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={width:{configurable:!0},height:{configurable:!0},backgroundColor:{configurable:!0}};return t.prototype.initPlugins=function(e){for(var t in e)this.plugins[t]=new e[t](this)},n.width.get=function(){return this.view.width},n.height.get=function(){return this.view.height},t.prototype.resize=function(e,t){this.screen.width=e,this.screen.height=t,this.view.width=e*this.resolution,this.view.height=t*this.resolution,this.autoDensity&&(this.view.style.width=e+"px",this.view.style.height=t+"px")},t.prototype.generateTexture=function(e,t,n,r){0===(r=r||e.getLocalBounds()).width&&(r.width=1),0===r.height&&(r.height=1);var i=Ht.create({width:0|r.width,height:0|r.height,scaleMode:t,resolution:n});return ur.tx=-r.x,ur.ty=-r.y,this.render(e,i,!1,ur,!!e.parent),i},t.prototype.destroy=function(e){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.plugins=null,this.type=T.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoDensity=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},n.backgroundColor.get=function(){return this._backgroundColor},n.backgroundColor.set=function(e){this._backgroundColor=e,this._backgroundColorString=K(e),$(e,this._backgroundColorRgba)},Object.defineProperties(t.prototype,n),t}(B.a),fr=function(e){function t(n){void 0===n&&(n={}),e.call(this,"WebGL",n),n=this.options,this.type=T.WEBGL,this.gl=null,this.CONTEXT_UID=0,this.runners={destroy:new mt("destroy"),contextChange:new mt("contextChange",1),reset:new mt("reset"),update:new mt("update"),postrender:new mt("postrender"),prerender:new mt("prerender"),resize:new mt("resize",2)},this.globalUniforms=new tn({projectionMatrix:new Re},!0),this.addSystem(Yn,"mask").addSystem(ln,"context").addSystem(ir,"state").addSystem(rr,"shader").addSystem(sr,"texture").addSystem(dn,"geometry").addSystem(un,"framebuffer").addSystem($n,"scissor").addSystem(Kn,"stencil").addSystem(Zn,"projection").addSystem(or,"textureGC").addSystem(rn,"filter").addSystem(Jn,"renderTexture").addSystem(an,"batch"),this.initPlugins(t.__plugins),n.context?this.context.initFromContext(n.context):this.context.initFromOptions({alpha:this.transparent,antialias:n.antialias,premultipliedAlpha:this.transparent&&"notMultiplied"!==this.transparent,stencil:!0,preserveDrawingBuffer:n.preserveDrawingBuffer,powerPreference:this.options.powerPreference}),this.renderingToScreen=!0,Y(2===this.context.webGLVersion?"WebGL 2":"WebGL 1"),this.resize(this.options.width,this.options.height)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.create=function(e){if(X())return new t(e);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},t.prototype.addSystem=function(e,t){t||(t=e.name);var n=new e(this);if(this[t])throw new Error('Whoops! The name "'+t+'" is already in use');for(var r in this[t]=n,this.runners)this.runners[r].add(n);return this},t.prototype.render=function(e,t,n,r,i){if(this.renderingToScreen=!t,this.runners.prerender.run(),this.emit("prerender"),this.projection.transform=r,!this.context.isLost){if(t||(this._lastObjectRendered=e),!i){var o=e.parent;e.parent=this._tempDisplayObjectParent,e.updateTransform(),e.parent=o}this.renderTexture.bind(t),this.batch.currentRenderer.start(),(void 0!==n?n:this.clearBeforeRender)&&this.renderTexture.clear(),e.render(this),this.batch.currentRenderer.flush(),t&&t.baseTexture.update(),this.runners.postrender.run(),this.projection.transform=null,this.emit("postrender")}},t.prototype.resize=function(t,n){e.prototype.resize.call(this,t,n),this.runners.resize.run(t,n)},t.prototype.reset=function(){return this.runners.reset.run(),this},t.prototype.clear=function(){this.framebuffer.bind(),this.framebuffer.clear()},t.prototype.destroy=function(t){for(var n in this.runners.destroy.run(),this.runners)this.runners[n].destroy();e.prototype.destroy.call(this,t),this.gl=null},t.registerPlugin=function(e,n){t.__plugins=t.__plugins||{},t.__plugins[e]=n},t}(cr);function dr(e){return fr.create(e)}var hr="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",pr="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",mr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.from=function(e,n){return new t(new Ot(e,n))},t}(Tt),vr=function(){this.texArray=null,this.blend=0,this.type=k.TRIANGLES,this.start=0,this.size=0,this.data=null},gr=function(){this.elements=[],this.ids=[],this.count=0};gr.prototype.clear=function(){for(var e=0;e<this.count;e++)this.elements[e]=null;this.count=0};var yr=function(e){this.rawBinaryData=new ArrayBuffer(e),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)},br={int8View:{configurable:!0},uint8View:{configurable:!0},int16View:{configurable:!0},uint16View:{configurable:!0},int32View:{configurable:!0}};br.int8View.get=function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},br.uint8View.get=function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},br.int16View.get=function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},br.uint16View.get=function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},br.int32View.get=function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},yr.prototype.view=function(e){return this[e+"View"]},yr.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},yr.sizeOf=function(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(e+" isn't a valid view type")}},Object.defineProperties(yr.prototype,br);var _r=function(e){function t(t){e.call(this,t),this.shaderGenerator=null,this.geometryClass=null,this.vertexSize=null,this.state=zn.for2d(),this.size=4*j.SPRITE_BATCH_SIZE,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.MAX_TEXTURES=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.contextChange=function(){var e=this.renderer.gl;j.PREFER_ENV===E.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),j.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=In(this.MAX_TEXTURES,e)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]=new this.geometryClass;this.initFlushBuffers()},t.prototype.initFlushBuffers=function(){for(var e=t._drawCallPool,n=t._textureArrayPool,r=this.size/4,i=Math.floor(r/this.MAX_TEXTURES)+1;e.length<r;)e.push(new vr);for(;n.length<i;)n.push(new gr);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},t.prototype.onPrerender=function(){this._flushId=0},t.prototype.render=function(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)},t.prototype.buildTexturesAndDrawCalls=function(){var e=this._bufferedTextures,n=this.MAX_TEXTURES,r=t._textureArrayPool,i=this.renderer.batch,o=this._tempBoundTextures,a=this.renderer.textureGC.count,s=++Tt._globalBatch,l=0,u=r[0],c=0;i.copyBoundTextures(o,n);for(var f=0;f<this._bufferSize;++f){var d=e[f];e[f]=null,d._batchEnabled!==s&&(u.count>=n&&(i.boundArray(u,o,s,n),this.buildDrawCalls(u,c,f),c=f,u=r[++l],++s),d._batchEnabled=s,d.touched=a,u.elements[u.count++]=d)}u.count>0&&(i.boundArray(u,o,s,n),this.buildDrawCalls(u,c,this._bufferSize),++l,++s);for(var h=0;h<o.length;h++)o[h]=null;Tt._globalBatch=s},t.prototype.buildDrawCalls=function(e,n,r){var i=this._bufferedElements,o=this._attributeBuffer,a=this._indexBuffer,s=this.vertexSize,l=t._drawCallPool,u=this._dcIndex,c=this._aIndex,f=this._iIndex,d=l[u];d.start=this._iIndex,d.texArray=e;for(var h=n;h<r;++h){var p=i[h],m=p._texture.baseTexture,v=J[m.alphaMode?1:0][p.blendMode];i[h]=null,n<h&&d.blend!==v&&(d.size=f-d.start,n=h,(d=l[++u]).texArray=e,d.start=f),this.packInterleavedGeometry(p,o,a,c,f),c+=p.vertexData.length/2*s,f+=p.indices.length,d.blend=v}n<r&&(d.size=f-d.start,++u),this._dcIndex=u,this._aIndex=c,this._iIndex=f},t.prototype.bindAndClearTexArray=function(e){for(var t=this.renderer.texture,n=0;n<e.count;n++)t.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0},t.prototype.updateGeometry=function(){var e=this._packedGeometries,t=this._attributeBuffer,n=this._indexBuffer;j.CAN_UPLOAD_SAME_BUFFER?(e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},t.prototype.drawBatches=function(){for(var e=this._dcIndex,n=this.renderer,r=n.gl,i=n.state,o=t._drawCallPool,a=null,s=0;s<e;s++){var l=o[s],u=l.texArray,c=l.type,f=l.size,d=l.start,h=l.blend;a!==u&&(a=u,this.bindAndClearTexArray(u)),this.state.blendMode=h,i.set(this.state),r.drawElements(c,f,r.UNSIGNED_SHORT,2*d)}},t.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},t.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),j.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),e.prototype.destroy.call(this)},t.prototype.getAttributeBuffer=function(e){var t=le(Math.ceil(e/8)),n=ce(t),r=8*t;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);var i=this._aBuffers[r];return i||(this._aBuffers[r]=i=new yr(r*this.vertexSize*4)),i},t.prototype.getIndexBuffer=function(e){var t=le(Math.ceil(e/12)),n=ce(t),r=12*t;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);var i=this._iBuffers[n];return i||(this._iBuffers[n]=i=new Uint16Array(r)),i},t.prototype.packInterleavedGeometry=function(e,t,n,r,i){for(var o=t.uint32View,a=t.float32View,s=r/this.vertexSize,l=e.uvs,u=e.indices,c=e.vertexData,f=e._texture.baseTexture._batchLocation,d=Math.min(e.worldAlpha,1),h=d<1&&e._texture.baseTexture.alphaMode?ne(e._tintRGB,d):e._tintRGB+(255*d<<24),p=0;p<c.length;p+=2)a[r++]=c[p],a[r++]=c[p+1],a[r++]=l[p],a[r++]=l[p+1],o[r++]=h,a[r++]=f;for(var m=0;m<u.length;m++)n[i++]=s+u[m]},t}(on);_r._drawCallPool=[],_r._textureArrayPool=[];var xr=function(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},t.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(t.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')};xr.prototype.generateShader=function(e){if(!this.programCache[e]){for(var t=new Int32Array(e),n=0;n<e;n++)t[n]=n;this.defaultGroupCache[e]=tn.from({uSamplers:t},!0);var r=this.fragTemplate;r=(r=r.replace(/%count%/gi,""+e)).replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Ln(this.vertexSrc,r)}var i={tint:new Float32Array([1,1,1,1]),translationMatrix:new Re,default:this.defaultGroupCache[e]};return new Fn(this.programCache[e],i)},xr.prototype.generateSampleSrc=function(e){var t="";t+="\n",t+="\n";for(var n=0;n<e;n++)n>0&&(t+="\nelse "),n<e-1&&(t+="if(vTextureId < "+n+".5)"),t+="\n{",t+="\n\tcolor = texture2D(uSamplers["+n+"], vTextureCoord);",t+="\n}";return t+="\n",t+="\n"};var wr=function(e){function t(t){void 0===t&&(t=!1),e.call(this),this._buffer=new Wt(null,t,!1),this._indexBuffer=new Wt(null,t,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,A.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,A.FLOAT).addAttribute("aColor",this._buffer,4,!0,A.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,A.FLOAT).addIndex(this._indexBuffer)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Zt),Er="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",Tr="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",Sr=function(){},kr={defaultVertexSrc:{configurable:!0},defaultFragmentTemplate:{configurable:!0}};Sr.create=function(e){var t=Object.assign({vertex:Er,fragment:Tr,geometryClass:wr,vertexSize:6},e),n=t.vertex,r=t.fragment,i=t.vertexSize,o=t.geometryClass;return function(e){function t(t){e.call(this,t),this.shaderGenerator=new xr(n,r),this.geometryClass=o,this.vertexSize=i}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(_r)},kr.defaultVertexSrc.get=function(){return Er},kr.defaultFragmentTemplate.get=function(){return Tr},Object.defineProperties(Sr,kr);var Or=Sr.create(),Cr=function e(t){var n=this;t=Object.assign({forceCanvas:!1},t),this.renderer=dr(t),this.stage=new Je,e._plugins.forEach((function(e){e.init.call(n,t)}))},Ar={view:{configurable:!0},screen:{configurable:!0}};Cr.registerPlugin=function(e){Cr._plugins.push(e)},Cr.prototype.render=function(){this.renderer.render(this.stage)},Ar.view.get=function(){return this.renderer.view},Ar.screen.get=function(){return this.renderer.screen},Cr.prototype.destroy=function(e,t){var n=this,r=Cr._plugins.slice(0);r.reverse(),r.forEach((function(e){e.destroy.call(n)})),this.stage.destroy(t),this.stage=null,this.renderer.destroy(e),this.renderer=null,this._options=null},Object.defineProperties(Cr.prototype,Ar),Cr._plugins=[];var Mr=function(){};Mr.init=function(e){var t=this;Object.defineProperty(this,"resizeTo",{set:function(e){window.removeEventListener("resize",this.resize),this._resizeTo=e,e&&(window.addEventListener("resize",this.resize),this.resize())},get:function(){return this._resizeTo}}),this.resize=function(){t._resizeTo&&(t._resizeTo===window?t.renderer.resize(window.innerWidth,window.innerHeight):t.renderer.resize(t._resizeTo.clientWidth,t._resizeTo.clientHeight))},this._resizeTo=null,this.resizeTo=e.resizeTo||null},Mr.destroy=function(){this.resizeTo=null,this.resize=null},Cr.registerPlugin(Mr);var Pr=new We,Ir=function(e){this.renderer=e,e.extract=this};Ir.prototype.image=function(e,t,n){var r=new Image;return r.src=this.base64(e,t,n),r},Ir.prototype.base64=function(e,t,n){return this.canvas(e).toDataURL(t,n)},Ir.prototype.canvas=function(e){var t,n,r,i=this.renderer,o=!1,a=!1;e&&(e instanceof Ht?r=e:(r=this.renderer.generateTexture(e),a=!0)),r?(t=r.baseTexture.resolution,n=r.frame,o=!1,i.renderTexture.bind(r)):(t=this.renderer.resolution,o=!0,(n=Pr).width=this.renderer.width,n.height=this.renderer.height,i.renderTexture.bind(null));var s=Math.floor(n.width*t+1e-4),l=Math.floor(n.height*t+1e-4),u=new we(s,l,1),c=new Uint8Array(4*s*l),f=i.gl;f.readPixels(n.x*t,n.y*t,s,l,f.RGBA,f.UNSIGNED_BYTE,c);var d=u.context.getImageData(0,0,s,l);if(Ir.arrayPostDivide(c,d.data),u.context.putImageData(d,0,0),o){var h=new we(u.width,u.height,1);h.context.scale(1,-1),h.context.drawImage(u.canvas,0,-l),u.destroy(),u=h}return a&&r.destroy(!0),u.canvas},Ir.prototype.pixels=function(e){var t,n,r,i=this.renderer,o=!1;e&&(e instanceof Ht?r=e:(r=this.renderer.generateTexture(e),o=!0)),r?(t=r.baseTexture.resolution,n=r.frame,i.renderTexture.bind(r)):(t=i.resolution,(n=Pr).width=i.width,n.height=i.height,i.renderTexture.bind(null));var a=n.width*t,s=n.height*t,l=new Uint8Array(4*a*s),u=i.gl;return u.readPixels(n.x*t,n.y*t,a,s,u.RGBA,u.UNSIGNED_BYTE,l),o&&r.destroy(!0),Ir.arrayPostDivide(l,l),l},Ir.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},Ir.arrayPostDivide=function(e,t){for(var n=0;n<e.length;n+=4){var r=t[n+3]=e[n+3];0!==r?(t[n]=Math.round(Math.min(255*e[n]/r,255)),t[n+1]=Math.round(Math.min(255*e[n+1]/r,255)),t[n+2]=Math.round(Math.min(255*e[n+2]/r,255))):(t[n]=e[n],t[n+1]=e[n+1],t[n+2]=e[n+2])}};var Dr=n(110),Nr=n.n(Dr),Rr=n(24),Lr=n.n(Rr);function jr(){}function Fr(e,t,n,r){var i=0,o=e.length;!function a(s){s||i===o?n&&n(s):r?setTimeout((function(){t(e[i++],a)}),1):t(e[i++],a)}()}function Br(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}function zr(e,t){if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var n=0,r={_tasks:[],concurrency:t,saturated:jr,unsaturated:jr,buffer:t/4,empty:jr,drain:jr,error:jr,started:!1,paused:!1,push:function(e,t){i(e,!1,t)},kill:function(){n=0,r.drain=jr,r.started=!1,r._tasks=[]},unshift:function(e,t){i(e,!0,t)},process:function(){for(;!r.paused&&n<r.concurrency&&r._tasks.length;){var t=r._tasks.shift();0===r._tasks.length&&r.empty(),(n+=1)===r.concurrency&&r.saturated(),e(t.data,Br(o(t)))}},length:function(){return r._tasks.length},running:function(){return n},idle:function(){return r._tasks.length+n===0},pause:function(){!0!==r.paused&&(r.paused=!0)},resume:function(){if(!1!==r.paused){r.paused=!1;for(var e=1;e<=r.concurrency;e++)r.process()}}};function i(e,t,n){if(null!=n&&"function"!==typeof n)throw new Error("task callback must be a function");if(r.started=!0,null==e&&r.idle())setTimeout((function(){return r.drain()}),1);else{var i={data:e,callback:"function"===typeof n?n:jr};t?r._tasks.unshift(i):r._tasks.push(i),setTimeout((function(){return r.process()}),1)}}function o(e){return function(){n-=1,e.callback.apply(e,arguments),null!=arguments[0]&&r.error(arguments[0],e.data),n<=r.concurrency-r.buffer&&r.unsaturated(),r.idle()&&r.drain(),r.process()}}return r}var Hr={};function Ur(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vr(e,t,n){return t&&Ur(e.prototype,t),n&&Ur(e,n),e}var Gr=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),Wr=null;function qr(){}var Yr=function(){function e(t,n,r){if("string"!==typeof t||"string"!==typeof n)throw new Error("Both name and url are required for constructing a resource.");r=r||{},this._flags=0,this._setFlag(e.STATUS_FLAGS.DATA_URL,0===n.indexOf("data:")),this.name=t,this.url=n,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===r.crossOrigin?"anonymous":r.crossOrigin,this.timeout=r.timeout||0,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.metadata=r.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=e.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=qr,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new Lr.a,this.onProgress=new Lr.a,this.onComplete=new Lr.a,this.onAfterMiddleware=new Lr.a}e.setExtensionLoadType=function(t,n){Xr(e._loadTypeMap,t,n)},e.setExtensionXhrType=function(t,n){Xr(e._xhrTypeMap,t,n)};var t=e.prototype;return t.complete=function(){this._clearEvents(),this._finish()},t.abort=function(t){if(!this.error){if(this.error=new Error(t),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=e.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.load=function(t){var n=this;if(!this.isLoading)if(this.isComplete)t&&setTimeout((function(){return t(n)}),1);else switch(t&&this.onComplete.once(t),this._setFlag(e.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"===typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case e.LOAD_TYPE.IMAGE:this.type=e.TYPE.IMAGE,this._loadElement("image");break;case e.LOAD_TYPE.AUDIO:this.type=e.TYPE.AUDIO,this._loadSourceElement("audio");break;case e.LOAD_TYPE.VIDEO:this.type=e.TYPE.VIDEO,this._loadSourceElement("video");break;case e.LOAD_TYPE.XHR:default:Gr&&this.crossOrigin?this._loadXdr():this._loadXhr()}},t._hasFlag=function(e){return 0!==(this._flags&e)},t._setFlag=function(e,t){this._flags=t?this._flags|e:this._flags&~e},t._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(e.STATUS_FLAGS.COMPLETE,!0),this._setFlag(e.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t._loadElement=function(e){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===e&&"undefined"!==typeof window.Image?this.data=new Image:this.data=document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t._loadSourceElement=function(e){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===e&&"undefined"!==typeof window.Audio?this.data=new Audio:this.data=document.createElement(e),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var t=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(e,this.url[n],Array.isArray(t)?t[n]:t));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+e)},t._loadXhr=function(){"string"!==typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),t.timeout=this.timeout,this.xhrType===e.XHR_RESPONSE_TYPE.JSON||this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=e.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("timeout",this._boundXhrOnTimeout,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},t._loadXdr=function(){"string"!==typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XDomainRequest;e.timeout=this.timeout||5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXhrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout((function(){return e.send()}),1)},t._createSource=function(e,t,n){n||(n=e+"/"+this._getExtension(t));var r=document.createElement("source");return r.src=t,r.type=n,r},t._onError=function(e){this.abort("Failed to load element using: "+e.target.nodeName)},t._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},t._onTimeout=function(){this.abort("Load timed out.")},t._xhrOnError=function(){var e=this.xhr;this.abort($r(e)+" Request failed. Status: "+e.status+', text: "'+e.statusText+'"')},t._xhrOnTimeout=function(){var e=this.xhr;this.abort($r(e)+" Request timed out.")},t._xhrOnAbort=function(){var e=this.xhr;this.abort($r(e)+" Request was aborted by the user.")},t._xhrOnLoad=function(){var t=this.xhr,n="",r="undefined"===typeof t.status?200:t.status;if(""!==t.responseType&&"text"!==t.responseType&&"undefined"!==typeof t.responseType||(n=t.responseText),0===r&&(n.length>0||t.responseType===e.XHR_RESPONSE_TYPE.BUFFER)?r=200:1223===r&&(r=204),2===(r/100|0)){if(this.xhrType===e.XHR_RESPONSE_TYPE.TEXT)this.data=n,this.type=e.TYPE.TEXT;else if(this.xhrType===e.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(n),this.type=e.TYPE.JSON}catch(a){return void this.abort("Error trying to parse loaded json: "+a)}else if(this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var i=new DOMParser;this.data=i.parseFromString(n,"text/xml")}else{var o=document.createElement("div");o.innerHTML=n,this.data=o}this.type=e.TYPE.XML}catch(a){return void this.abort("Error trying to parse loaded xml: "+a)}else this.data=t.response||n;this.complete()}else this.abort("["+t.status+"] "+t.statusText+": "+t.responseURL)},t._determineCrossOrigin=function(e,t){if(0===e.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";t=t||window.location,Wr||(Wr=document.createElement("a")),Wr.href=e;var n=!(e=Nr()(Wr.href,{strictMode:!0})).port&&""===t.port||e.port===t.port,r=e.protocol?e.protocol+":":"";return e.host===t.hostname&&n&&r===t.protocol?"":"anonymous"},t._determineXhrType=function(){return e._xhrTypeMap[this.extension]||e.XHR_RESPONSE_TYPE.TEXT},t._determineLoadType=function(){return e._loadTypeMap[this.extension]||e.LOAD_TYPE.XHR},t._getExtension=function(){var e=this.url,t="";if(this.isDataUrl){var n=e.indexOf("/");t=e.substring(n+1,e.indexOf(";",n))}else{var r=e.indexOf("?"),i=e.indexOf("#"),o=Math.min(r>-1?r:e.length,i>-1?i:e.length);t=(e=e.substring(0,o)).substring(e.lastIndexOf(".")+1)}return t.toLowerCase()},t._getMimeFromXhrType=function(t){switch(t){case e.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case e.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case e.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case e.XHR_RESPONSE_TYPE.JSON:return"application/json";case e.XHR_RESPONSE_TYPE.DEFAULT:case e.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},Vr(e,[{key:"isDataUrl",get:function(){return this._hasFlag(e.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(e.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(e.STATUS_FLAGS.LOADING)}}]),e}();function Xr(e,t,n){t&&0===t.indexOf(".")&&(t=t.substring(1)),t&&(e[t]=n)}function $r(e){return e.toString().replace("object ","")}Yr.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},Yr.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},Yr.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},Yr.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},Yr._loadTypeMap={gif:Yr.LOAD_TYPE.IMAGE,png:Yr.LOAD_TYPE.IMAGE,bmp:Yr.LOAD_TYPE.IMAGE,jpg:Yr.LOAD_TYPE.IMAGE,jpeg:Yr.LOAD_TYPE.IMAGE,tif:Yr.LOAD_TYPE.IMAGE,tiff:Yr.LOAD_TYPE.IMAGE,webp:Yr.LOAD_TYPE.IMAGE,tga:Yr.LOAD_TYPE.IMAGE,svg:Yr.LOAD_TYPE.IMAGE,"svg+xml":Yr.LOAD_TYPE.IMAGE,mp3:Yr.LOAD_TYPE.AUDIO,ogg:Yr.LOAD_TYPE.AUDIO,wav:Yr.LOAD_TYPE.AUDIO,mp4:Yr.LOAD_TYPE.VIDEO,webm:Yr.LOAD_TYPE.VIDEO},Yr._xhrTypeMap={xhtml:Yr.XHR_RESPONSE_TYPE.DOCUMENT,html:Yr.XHR_RESPONSE_TYPE.DOCUMENT,htm:Yr.XHR_RESPONSE_TYPE.DOCUMENT,xml:Yr.XHR_RESPONSE_TYPE.DOCUMENT,tmx:Yr.XHR_RESPONSE_TYPE.DOCUMENT,svg:Yr.XHR_RESPONSE_TYPE.DOCUMENT,tsx:Yr.XHR_RESPONSE_TYPE.DOCUMENT,gif:Yr.XHR_RESPONSE_TYPE.BLOB,png:Yr.XHR_RESPONSE_TYPE.BLOB,bmp:Yr.XHR_RESPONSE_TYPE.BLOB,jpg:Yr.XHR_RESPONSE_TYPE.BLOB,jpeg:Yr.XHR_RESPONSE_TYPE.BLOB,tif:Yr.XHR_RESPONSE_TYPE.BLOB,tiff:Yr.XHR_RESPONSE_TYPE.BLOB,webp:Yr.XHR_RESPONSE_TYPE.BLOB,tga:Yr.XHR_RESPONSE_TYPE.BLOB,json:Yr.XHR_RESPONSE_TYPE.JSON,text:Yr.XHR_RESPONSE_TYPE.TEXT,txt:Yr.XHR_RESPONSE_TYPE.TEXT,ttf:Yr.XHR_RESPONSE_TYPE.BUFFER,otf:Yr.XHR_RESPONSE_TYPE.BUFFER},Yr.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var Kr=window.URL||window.webkitURL;var Zr={caching:function(e,t){var n=this;Hr[e.url]?(e.data=Hr[e.url],e.complete()):e.onComplete.once((function(){return Hr[n.url]=n.data})),t()},parsing:function(e,t){if(e.data){if(e.xhr&&e.xhrType===Yr.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!==typeof e.data){if(0===e.data.type.indexOf("image")){var n=Kr.createObjectURL(e.data);return e.blob=e.data,e.data=new Image,e.data.src=n,e.type=Yr.TYPE.IMAGE,void(e.data.onload=function(){Kr.revokeObjectURL(n),e.data.onload=null,t()})}}else{var r=e.xhr.getResponseHeader("content-type");if(r&&0===r.indexOf("image"))return e.data=new Image,e.data.src="data:"+r+";base64,"+function(e){for(var t="",n=0;n<e.length;){for(var r=[0,0,0],i=[0,0,0,0],o=0;o<r.length;++o)n<e.length?r[o]=255&e.charCodeAt(n++):r[o]=0;switch(i[0]=r[0]>>2,i[1]=(3&r[0])<<4|r[1]>>4,i[2]=(15&r[1])<<2|r[2]>>6,i[3]=63&r[2],n-(e.length-1)){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64}for(var a=0;a<i.length;++a)t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(i[a])}return t}(e.xhr.responseText),e.type=Yr.TYPE.IMAGE,void(e.data.onload=function(){e.data.onload=null,t()})}t()}else t()}},Qr=/(#[\w-]+)?$/,Jr=function(){function e(t,n){var r=this;void 0===t&&(t=""),void 0===n&&(n=10),this.baseUrl=t,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(e,t){return r._loadResource(e,t)},this._queue=zr(this._boundLoadResource,n),this._queue.pause(),this.resources={},this.onProgress=new Lr.a,this.onError=new Lr.a,this.onLoad=new Lr.a,this.onStart=new Lr.a,this.onComplete=new Lr.a;for(var i=0;i<e._defaultBeforeMiddleware.length;++i)this.pre(e._defaultBeforeMiddleware[i]);for(var o=0;o<e._defaultAfterMiddleware.length;++o)this.use(e._defaultAfterMiddleware[o])}var t=e.prototype;return t.add=function(e,t,n,r){if(Array.isArray(e)){for(var i=0;i<e.length;++i)this.add(e[i]);return this}if("object"===typeof e&&(r=t||e.callback||e.onComplete,n=e,t=e.url,e=e.name||e.key||e.url),"string"!==typeof t&&(r=n,n=t,t=e),"string"!==typeof t)throw new Error("No url passed to add resource to loader.");if("function"===typeof n&&(r=n,n=null),this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[e])throw new Error('Resource named "'+e+'" already exists.');if(t=this._prepareUrl(t),this.resources[e]=new Yr(e,t,n),"function"===typeof r&&this.resources[e].onAfterMiddleware.once(r),this.loading){for(var o=n.parentResource,a=[],s=0;s<o.children.length;++s)o.children[s].isComplete||a.push(o.children[s]);var l=o.progressChunk*(a.length+1)/(a.length+2);o.children.push(this.resources[e]),o.progressChunk=l;for(var u=0;u<a.length;++u)a[u].progressChunk=l;this.resources[e].progressChunk=l}return this._queue.push(this.resources[e]),this},t.pre=function(e){return this._beforeMiddleware.push(e),this},t.use=function(e){return this._afterMiddleware.push(e),this},t.reset=function(){for(var e in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var t=this.resources[e];t._onLoadBinding&&t._onLoadBinding.detach(),t.isLoading&&t.abort()}return this.resources={},this},t.load=function(e){if("function"===typeof e&&this.onComplete.once(e),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var t=100/this._queue._tasks.length,n=0;n<this._queue._tasks.length;++n)this._queue._tasks[n].data.progressChunk=t;this._onStart(),this._queue.resume()}return this},t._prepareUrl=function(e){var t,n=Nr()(e,{strictMode:!0});if(t=n.protocol||!n.path||0===e.indexOf("//")?e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==e.charAt(0)?this.baseUrl+"/"+e:this.baseUrl+e,this.defaultQueryString){var r=Qr.exec(t)[0];-1!==(t=t.substr(0,t.length-r.length)).indexOf("?")?t+="&"+this.defaultQueryString:t+="?"+this.defaultQueryString,t+=r}return t},t._loadResource=function(e,t){var n=this;e._dequeue=t,Fr(this._beforeMiddleware,(function(t,r){t.call(n,e,(function(){r(e.isComplete?{}:null)}))}),(function(){e.isComplete?n._onLoad(e):(e._onLoadBinding=e.onComplete.once(n._onLoad,n),e.load())}),!0)},t._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t._onLoad=function(e){var t=this;e._onLoadBinding=null,this._resourcesParsing.push(e),e._dequeue(),Fr(this._afterMiddleware,(function(n,r){n.call(t,e,r)}),(function(){e.onAfterMiddleware.dispatch(e),t.progress=Math.min(100,t.progress+e.progressChunk),t.onProgress.dispatch(t,e),e.error?t.onError.dispatch(e.error,t,e):t.onLoad.dispatch(t,e),t._resourcesParsing.splice(t._resourcesParsing.indexOf(e),1),t._queue.idle()&&0===t._resourcesParsing.length&&t._onComplete()}),!0)},Vr(e,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(e){this._queue.concurrency=e}}]),e}();Jr._defaultBeforeMiddleware=[],Jr._defaultAfterMiddleware=[],Jr.pre=function(e){return Jr._defaultBeforeMiddleware.push(e),Jr},Jr.use=function(e){return Jr._defaultAfterMiddleware.push(e),Jr};var ei=function(){};ei.use=function(e,t){e.data&&e.type===Yr.TYPE.IMAGE&&(e.texture=Bt.fromLoader(e.data,e.url,e.name)),t()};var ti=function(e){function t(n,r){var i=this;e.call(this,n,r),B.a.call(this);for(var o=0;o<t._plugins.length;++o){var a=t._plugins[o],s=a.pre,l=a.use;s&&this.pre(s),l&&this.use(l)}this.onStart.add((function(e){return i.emit("start",e)})),this.onProgress.add((function(e,t){return i.emit("progress",e,t)})),this.onError.add((function(e,t,n){return i.emit("error",e,t,n)})),this.onLoad.add((function(e,t){return i.emit("load",e,t)})),this.onComplete.add((function(e,t){return i.emit("complete",e,t)})),this._protected=!1}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={shared:{configurable:!0}};return t.prototype.destroy=function(){this._protected||(this.removeAllListeners(),this.reset())},n.shared.get=function(){var e=t._shared;return e||((e=new t)._protected=!0,t._shared=e),e},Object.defineProperties(t,n),t}(Jr);Object.assign(ti.prototype,B.a.prototype),ti._plugins=[],ti.registerPlugin=function(e){return ti._plugins.push(e),e.add&&e.add(),ti},ti.registerPlugin({use:Zr.parsing}),ti.registerPlugin(ei);var ni=function(){};ni.init=function(e){e=Object.assign({sharedLoader:!1},e),this.loader=e.sharedLoader?ti.shared:new ti},ni.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)};var ri=Yr,ii=function(e){function t(t,n,r,i){void 0===t&&(t=1500),void 0===r&&(r=16384),void 0===i&&(i=!1),e.call(this);r>16384&&(r=16384),this._properties=[!1,!0,!1,!1,!1],this._maxSize=t,this._batchSize=r,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=S.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(n),this._tint=0,this.tintRgb=new Float32Array(4),this.tint=16777215}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={tint:{configurable:!0}};return t.prototype.setProperties=function(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])},t.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},n.tint.get=function(){return this._tint},n.tint.set=function(e){this._tint=e,$(e,this.tintRgb)},t.prototype.render=function(e){var t=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",(function(){return t.onChildrenChange(0)}))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},t.prototype.onChildrenChange=function(e){for(var t=Math.floor(e/this._batchSize);this._bufferUpdateIDs.length<t;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[t]=++this._updateID},t.prototype.dispose=function(){if(this._buffers){for(var e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},Object.defineProperties(t.prototype,n),t}(Je),oi=function(e,t,n){this.geometry=new Zt,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var r=0;r<e.length;++r){var i=e[r];i={attributeName:i.attributeName,size:i.size,uploadFunction:i.uploadFunction,type:i.type||A.FLOAT,offset:i.offset},t[r]?this.dynamicProperties.push(i):this.staticProperties.push(i)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()};oi.prototype.initBuffers=function(){var e=this.geometry,t=0;this.indexBuffer=new Wt(ie(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var r=this.dynamicProperties[n];r.offset=t,t+=r.size,this.dynamicStride+=r.size}var i=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(i),this.dynamicDataUint32=new Uint32Array(i),this.dynamicBuffer=new Wt(this.dynamicData,!1,!1);var o=0;this.staticStride=0;for(var a=0;a<this.staticProperties.length;++a){var s=this.staticProperties[a];s.offset=o,o+=s.size,this.staticStride+=s.size}var l=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(l),this.staticDataUint32=new Uint32Array(l),this.staticBuffer=new Wt(this.staticData,!0,!1);for(var u=0;u<this.dynamicProperties.length;++u){var c=this.dynamicProperties[u];e.addAttribute(c.attributeName,this.dynamicBuffer,0,c.type===A.UNSIGNED_BYTE,c.type,4*this.dynamicStride,4*c.offset)}for(var f=0;f<this.staticProperties.length;++f){var d=this.staticProperties[f];e.addAttribute(d.attributeName,this.staticBuffer,0,d.type===A.UNSIGNED_BYTE,d.type,4*this.staticStride,4*d.offset)}},oi.prototype.uploadDynamic=function(e,t,n){for(var r=0;r<this.dynamicProperties.length;r++){var i=this.dynamicProperties[r];i.uploadFunction(e,t,n,i.type===A.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer._updateID++},oi.prototype.uploadStatic=function(e,t,n){for(var r=0;r<this.staticProperties.length;r++){var i=this.staticProperties[r];i.uploadFunction(e,t,n,i.type===A.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,i.offset)}this.staticBuffer._updateID++},oi.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()};var ai=function(e){function t(t){e.call(this,t),this.shader=null,this.properties=null,this.tempMatrix=new Re,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:A.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Fn.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),this.state=zn.for2d()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(e){var t=e.children,n=e._maxSize,r=e._batchSize,i=this.renderer,o=t.length;if(0!==o){o>n&&!e.autoResize&&(o=n);var a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));var s=t[0]._texture.baseTexture;this.state.blendMode=ee(e.blendMode,s.alphaMode),i.state.set(this.state);var l=i.gl,u=e.worldTransform.copyTo(this.tempMatrix);u.prepend(i.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=u.toArray(!0),this.shader.uniforms.uColor=te(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,s.alphaMode),this.shader.uniforms.uSampler=s,this.renderer.shader.bind(this.shader);for(var c=!1,f=0,d=0;f<o;f+=r,d+=1){var h=o-f;h>r&&(h=r),d>=a.length&&a.push(this._generateOneMoreBuffer(e));var p=a[d];p.uploadDynamic(t,f,h);var m=e._bufferUpdateIDs[d]||0;(c=c||p._updateID<m)&&(p._updateID=e._updateID,p.uploadStatic(t,f,h)),i.geometry.bind(p.geometry),l.drawElements(l.TRIANGLES,6*h,l.UNSIGNED_SHORT,0)}}},t.prototype.generateBuffers=function(e){for(var t=[],n=e._maxSize,r=e._batchSize,i=e._properties,o=0;o<n;o+=r)t.push(new oi(this.properties,i,r));return t},t.prototype._generateOneMoreBuffer=function(e){var t=e._batchSize,n=e._properties;return new oi(this.properties,n,t)},t.prototype.uploadVertices=function(e,t,n,r,i,o){for(var a=0,s=0,l=0,u=0,c=0;c<n;++c){var f=e[t+c],d=f._texture,h=f.scale.x,p=f.scale.y,m=d.trim,v=d.orig;m?(a=(s=m.x-f.anchor.x*v.width)+m.width,l=(u=m.y-f.anchor.y*v.height)+m.height):(a=v.width*(1-f.anchor.x),s=v.width*-f.anchor.x,l=v.height*(1-f.anchor.y),u=v.height*-f.anchor.y),r[o]=s*h,r[o+1]=u*p,r[o+i]=a*h,r[o+i+1]=u*p,r[o+2*i]=a*h,r[o+2*i+1]=l*p,r[o+3*i]=s*h,r[o+3*i+1]=l*p,o+=4*i}},t.prototype.uploadPosition=function(e,t,n,r,i,o){for(var a=0;a<n;a++){var s=e[t+a].position;r[o]=s.x,r[o+1]=s.y,r[o+i]=s.x,r[o+i+1]=s.y,r[o+2*i]=s.x,r[o+2*i+1]=s.y,r[o+3*i]=s.x,r[o+3*i+1]=s.y,o+=4*i}},t.prototype.uploadRotation=function(e,t,n,r,i,o){for(var a=0;a<n;a++){var s=e[t+a].rotation;r[o]=s,r[o+i]=s,r[o+2*i]=s,r[o+3*i]=s,o+=4*i}},t.prototype.uploadUvs=function(e,t,n,r,i,o){for(var a=0;a<n;++a){var s=e[t+a]._texture._uvs;s?(r[o]=s.x0,r[o+1]=s.y0,r[o+i]=s.x1,r[o+i+1]=s.y1,r[o+2*i]=s.x2,r[o+2*i+1]=s.y2,r[o+3*i]=s.x3,r[o+3*i+1]=s.y3,o+=4*i):(r[o]=0,r[o+1]=0,r[o+i]=0,r[o+i+1]=0,r[o+2*i]=0,r[o+2*i+1]=0,r[o+3*i]=0,r[o+3*i+1]=0,o+=4*i)}},t.prototype.uploadTint=function(e,t,n,r,i,o){for(var a=0;a<n;++a){var s=e[t+a],l=s._texture.baseTexture.alphaMode>0,u=s.alpha,c=u<1&&l?ne(s._tintRGB,u):s._tintRGB+(255*u<<24);r[o]=c,r[o+i]=c,r[o+2*i]=c,r[o+3*i]=c,o+=4*i}},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},t}(on),si={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,_segmentsCount:function(e,t){if(void 0===t&&(t=20),!this.adaptive||!e||isNaN(e))return t;var n=Math.ceil(e/this.maxLength);return n<this.minSegments?n=this.minSegments:n>this.maxSegments&&(n=this.maxSegments),n}},li=function(){this.reset()};li.prototype.clone=function(){var e=new li;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},li.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Bt.WHITE,this.matrix=null,this.visible=!1},li.prototype.destroy=function(){this.texture=null,this.matrix=null};var ui={build:function(e){e.points=e.shape.points.slice()},triangulate:function(e,t){var n=e.points,r=e.holes,i=t.points,o=t.indices;if(n.length>=6){for(var a=[],s=0;s<r.length;s++){var l=r[s];a.push(n.length/2),n=n.concat(l.points)}var u=H()(n,a,2);if(!u)return;for(var c=i.length/2,f=0;f<u.length;f+=3)o.push(u[f]+c),o.push(u[f+1]+c),o.push(u[f+2]+c);for(var d=0;d<n.length;d++)i.push(n[d])}}},ci={build:function(e){var t,n,r=e.shape,i=e.points,o=r.x,a=r.y;if(i.length=0,e.type===Ae.CIRC?(t=r.radius,n=r.radius):(t=r.width,n=r.height),0!==t&&0!==n){var s=Math.floor(30*Math.sqrt(r.radius))||Math.floor(15*Math.sqrt(r.width+r.height));s/=2.3;for(var l=2*Math.PI/s,u=0;u<s-.5;u++)i.push(o+Math.sin(-l*u)*t,a+Math.cos(-l*u)*n);i.push(i[0],i[1])}},triangulate:function(e,t){var n=e.points,r=t.points,i=t.indices,o=r.length/2,a=o,s=e.shape,l=e.matrix,u=s.x,c=s.y;r.push(e.matrix?l.a*u+l.c*c+l.tx:u,e.matrix?l.b*u+l.d*c+l.ty:c);for(var f=0;f<n.length;f+=2)r.push(n[f],n[f+1]),i.push(o++,a,o)}},fi={build:function(e){var t=e.shape,n=t.x,r=t.y,i=t.width,o=t.height,a=e.points;a.length=0,a.push(n,r,n+i,r,n+i,r+o,n,r+o)},triangulate:function(e,t){var n=e.points,r=t.points,i=r.length/2;r.push(n[0],n[1],n[2],n[3],n[6],n[7],n[4],n[5]),t.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},di={build:function(e){var t=e.shape,n=e.points,r=t.x,i=t.y,o=t.width,a=t.height,s=Math.max(0,Math.min(t.radius,Math.min(o,a)/2));n.length=0,s?(pi(r,i+s,r,i,r+s,i,n),pi(r+o-s,i,r+o,i,r+o,i+s,n),pi(r+o,i+a-s,r+o,i+a,r+o-s,i+a,n),pi(r+s,i+a,r,i+a,r,i+a-s,n)):n.push(r,i,r+o,i,r+o,i+a,r,i+a)},triangulate:function(e,t){for(var n=e.points,r=t.points,i=t.indices,o=r.length/2,a=H()(n,null,2),s=0,l=a.length;s<l;s+=3)i.push(a[s]+o),i.push(a[s+1]+o),i.push(a[s+2]+o);for(var u=0,c=n.length;u<c;u++)r.push(n[u],n[++u])}};function hi(e,t,n){return e+(t-e)*n}function pi(e,t,n,r,i,o,a){void 0===a&&(a=[]);for(var s=a,l=0,u=0,c=0,f=0,d=0,h=0,p=0,m=0;p<=20;++p)l=hi(e,n,m=p/20),u=hi(t,r,m),c=hi(n,i,m),f=hi(r,o,m),d=hi(l,c,m),h=hi(u,f,m),s.push(d,h);return s}function mi(e,t){e.lineStyle.native?function(e,t){var n=0,r=e.shape,i=e.points||r.points,o=r.type!==Ae.POLY||r.closeStroke;if(0===i.length)return;var a=t.points,s=t.indices,l=i.length/2,u=a.length/2,c=u;for(a.push(i[0],i[1]),n=1;n<l;n++)a.push(i[2*n],i[2*n+1]),s.push(c,c+1),c++;o&&s.push(c,u)}(e,t):function(e,t){var n=e.shape,r=e.points||n.points.slice(),i=t.closePointEps;if(0===r.length)return;var o=e.lineStyle,a=new Me(r[0],r[1]),s=new Me(r[r.length-2],r[r.length-1]),l=n.type!==Ae.POLY||n.closeStroke,u=Math.abs(a.x-s.x)<i&&Math.abs(a.y-s.y)<i;if(l){r=r.slice(),u&&(r.pop(),r.pop(),s.set(r[r.length-2],r[r.length-1]));var c=s.x+.5*(a.x-s.x),f=s.y+.5*(a.y-s.y);r.unshift(c,f),r.push(c,f)}var d=t.points,h=r.length/2,p=r.length,m=d.length/2,v=o.width/2,g=r[0],y=r[1],b=r[2],_=r[3],x=0,w=0,E=-(y-_),T=g-b,S=0,k=0,O=0,C=0,A=Math.sqrt(E*E+T*T);E/=A,T/=A,E*=v,T*=v;var M=o.alignment,P=2*(1-M),I=2*M;d.push(g-E*P,y-T*P),d.push(g+E*I,y+T*I);for(var D=1;D<h-1;++D){g=r[2*(D-1)],y=r[2*(D-1)+1],b=r[2*D],_=r[2*D+1],x=r[2*(D+1)],w=r[2*(D+1)+1],E=-(y-_),T=g-b,A=Math.sqrt(E*E+T*T),E/=A,T/=A,E*=v,T*=v,S=-(_-w),k=b-x,A=Math.sqrt(S*S+k*k),S/=A,k/=A;var N=-T+y-(-T+_),R=-E+b-(-E+g),L=(-E+g)*(-T+_)-(-E+b)*(-T+y),j=-(k*=v)+w-(-k+_),F=-(S*=v)+b-(-S+x),B=(-S+x)*(-k+_)-(-S+b)*(-k+w),z=N*F-j*R;if(Math.abs(z)<.1)z+=10.1,d.push(b-E*P,_-T*P),d.push(b+E*I,_+T*I);else{var H=(R*B-F*L)/z,U=(j*L-N*B)/z;(H-b)*(H-b)+(U-_)*(U-_)>196*v*v?(O=E-S,C=T-k,A=Math.sqrt(O*O+C*C),O/=A,C/=A,O*=v,C*=v,d.push(b-O*P,_-C*P),d.push(b+O*I,_+C*I),d.push(b-O*I*P,_-C*P),p++):(d.push(b+(H-b)*P,_+(U-_)*P),d.push(b-(H-b)*I,_-(U-_)*I))}}g=r[2*(h-2)],y=r[2*(h-2)+1],b=r[2*(h-1)],_=r[2*(h-1)+1],E=-(y-_),T=g-b,A=Math.sqrt(E*E+T*T),E/=A,T/=A,E*=v,T*=v,d.push(b-E*P,_-T*P),d.push(b+E*I,_+T*I);for(var V=t.indices,G=0;G<p-2;++G)V.push(m,m+1,m+2),m++}(e,t)}var vi=function(e){function t(t,n,r,i,o,a){o=o||i/2;for(var s=-1*Math.PI/2+a,l=2*r,u=Ie/l,c=[],f=0;f<l;f++){var d=f%2?o:i,h=f*u+s;c.push(t+d*Math.cos(h),n+d*Math.sin(h))}e.call(this,c)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Xe),gi=function(){};gi.curveTo=function(e,t,n,r,i,o){var a=o[o.length-2],s=o[o.length-1]-t,l=a-e,u=r-t,c=n-e,f=Math.abs(s*c-l*u);if(f<1e-8||0===i)return o[o.length-2]===e&&o[o.length-1]===t||o.push(e,t),null;var d=s*s+l*l,h=u*u+c*c,p=s*u+l*c,m=i*Math.sqrt(d)/f,v=i*Math.sqrt(h)/f,g=m*p/d,y=v*p/h,b=m*c+v*l,_=m*u+v*s,x=l*(v+g),w=s*(v+g),E=c*(m+y),T=u*(m+y);return{cx:b+e,cy:_+t,radius:i,startAngle:Math.atan2(w-_,x-b),endAngle:Math.atan2(T-_,E-b),anticlockwise:l*u>c*s}},gi.arc=function(e,t,n,r,i,o,a,s,l){for(var u=a-o,c=si._segmentsCount(Math.abs(u)*i,40*Math.ceil(Math.abs(u)/Ie)),f=u/(2*c),d=2*f,h=Math.cos(f),p=Math.sin(f),m=c-1,v=m%1/m,g=0;g<=m;++g){var y=f+o+d*(g+v*g),b=Math.cos(y),_=-Math.sin(y);l.push((h*b+p*_)*i+n,(h*-_+p*b)*i+r)}};var yi=function(){};yi.curveLength=function(e,t,n,r,i,o,a,s){for(var l=0,u=0,c=0,f=0,d=0,h=0,p=0,m=0,v=0,g=0,y=0,b=e,_=t,x=1;x<=10;++x)g=b-(m=(p=(h=(d=1-(u=x/10))*d)*d)*e+3*h*u*n+3*d*(c=u*u)*i+(f=c*u)*a),y=_-(v=p*t+3*h*u*r+3*d*c*o+f*s),b=m,_=v,l+=Math.sqrt(g*g+y*y);return l},yi.curveTo=function(e,t,n,r,i,o,a){var s=a[a.length-2],l=a[a.length-1];a.length-=2;var u=si._segmentsCount(yi.curveLength(s,l,e,t,n,r,i,o)),c=0,f=0,d=0,h=0,p=0;a.push(s,l);for(var m=1,v=0;m<=u;++m)d=(f=(c=1-(v=m/u))*c)*c,p=(h=v*v)*v,a.push(d*s+3*f*v*e+3*c*h*n+p*i,d*l+3*f*v*t+3*c*h*r+p*o)};var bi=function(){};bi.curveLength=function(e,t,n,r,i,o){var a=e-2*n+i,s=t-2*r+o,l=2*n-2*e,u=2*r-2*t,c=4*(a*a+s*s),f=4*(a*l+s*u),d=l*l+u*u,h=2*Math.sqrt(c+f+d),p=Math.sqrt(c),m=2*c*p,v=2*Math.sqrt(d),g=f/p;return(m*h+p*f*(h-v)+(4*d*c-f*f)*Math.log((2*p+g+h)/(g+v)))/(4*m)},bi.curveTo=function(e,t,n,r,i){for(var o=i[i.length-2],a=i[i.length-1],s=si._segmentsCount(bi.curveLength(o,a,e,t,n,r)),l=0,u=0,c=1;c<=s;++c){var f=c/s;l=o+(e-o)*f,u=a+(t-a)*f,i.push(l+(e+(n-e)*f-l)*f,u+(t+(r-t)*f-u)*f)}};var _i=function(){this.reset()};_i.prototype.begin=function(e,t,n){this.reset(),this.style=e,this.start=t,this.attribStart=n},_i.prototype.end=function(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start},_i.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0};var xi={};xi[Ae.POLY]=ui,xi[Ae.CIRC]=ci,xi[Ae.ELIP]=ci,xi[Ae.RECT]=fi,xi[Ae.RREC]=di;var wi=[],Ei=[],Ti={buildPoly:ui,buildCircle:ci,buildRectangle:fi,buildRoundedRectangle:di,FILL_COMMANDS:xi,BATCH_POOL:wi,DRAW_CALL_POOL:Ei,buildLine:mi,buildComplexPoly:function(e,t){var n=e.points.slice();if(!(n.length<6)){var r=t.indices;t.points=n,t.alpha=e.fillAlpha,t.color=$(e.fillColor);for(var i=1/0,o=-1/0,a=1/0,s=-1/0,l=0,u=0,c=0;c<n.length;c+=2)i=(l=n[c])<i?l:i,o=l>o?l:o,a=(u=n[c+1])<a?u:a,s=u>s?u:s;n.push(i,a,o,a,o,s,i,s);for(var f=n.length/2,d=0;d<f;d++)r.push(d)}},bezierCurveTo:function(e,t,n,r,i,o,a,s,l,u){void 0===u&&(u=[]);var c=0,f=0,d=0,h=0,p=0;u.push(e,t);for(var m=1,v=0;m<=l;++m)d=(f=(c=1-(v=m/l))*c)*c,p=(h=v*v)*v,u.push(d*e+3*f*v*n+3*c*h*i+p*a,d*t+3*f*v*r+3*c*h*o+p*s);return u},Star:vi,ArcUtils:gi,BezierUtils:yi,QuadraticUtils:bi,BatchPart:_i},Si=function(e,t,n,r){void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=null),this.shape=e,this.lineStyle=n,this.fillStyle=t,this.matrix=r,this.type=e.type,this.points=[],this.holes=[]};Si.prototype.clone=function(){return new Si(this.shape,this.fillStyle,this.lineStyle,this.matrix)},Si.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null};var ki=new Me,Oi=new Ke,Ci=function(e){function t(){e.call(this),this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.dirty=0,this.batchDirty=-1,this.cacheDirty=-1,this.clearDirty=0,this.drawCalls=[],this.batches=[],this.shapeIndex=0,this._bounds=new Ke,this.boundsDirty=-1,this.boundsPadding=0,this.batchable=!1,this.indicesUint16=null,this.uvsFloat32=null,this.closePointEps=1e-4}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={bounds:{configurable:!0}};return n.bounds.get=function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},t.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var e=0;e<this.drawCalls.length;e++)this.drawCalls[e].textures.length=0,Ei.push(this.drawCalls[e]);this.drawCalls.length=0;for(var t=0;t<this.batches.length;t++){var n=this.batches[t];n.reset(),wi.push(n)}this.batches.length=0},t.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},t.prototype.drawShape=function(e,t,n,r){var i=new Si(e,t,n,r);return this.graphicsData.push(i),this.dirty++,this},t.prototype.drawHole=function(e,t){if(!this.graphicsData.length)return null;var n=new Si(e,null,null,t),r=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=r.lineStyle,r.holes.push(n),this.dirty++,this},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t);for(var n=0;n<this.graphicsData.length;++n)this.graphicsData[n].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},t.prototype.containsPoint=function(e){for(var t=this.graphicsData,n=0;n<t.length;++n){var r=t[n];if(r.fillStyle.visible&&(r.shape&&(r.matrix?r.matrix.applyInverse(e,ki):ki.copyFrom(e),r.shape.contains(ki.x,ki.y)))){var i=!1;if(r.holes)for(var o=0;o<r.holes.length;o++){if(r.holes[o].shape.contains(ki.x,ki.y)){i=!0;break}}if(!i)return!0}}return!1},t.prototype.updateBatches=function(){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var e=this.uvs,t=this.graphicsData,n=null,r=null;this.batches.length>0&&(r=(n=this.batches[this.batches.length-1]).style);for(var i=this.shapeIndex;i<t.length;i++){this.shapeIndex++;var o=t[i],a=o.fillStyle,s=o.lineStyle;xi[o.type].build(o),o.matrix&&this.transformPoints(o.points,o.matrix);for(var l=0;l<2;l++){var u=0===l?a:s;if(u.visible){var c=u.texture.baseTexture,f=this.indices.length,d=this.points.length/2;c.wrapMode=P.REPEAT,0===l?this.processFill(o):this.processLine(o);var h=this.points.length/2-d;0!==h&&(n&&!this._compareStyles(r,u)&&(n.end(f,d),n=null),n||((n=wi.pop()||new _i).begin(u,f,d),this.batches.push(n),r=u),this.addUvs(this.points,e,u.texture,d,h,u.matrix))}}}if(n){var p=this.indices.length,m=this.points.length/2;n.end(p,m)}0!==this.batches.length?(this.indicesUint16=new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()):this.batchable=!0}}else this.batchable=!0},t.prototype._compareStyles=function(e,t){return!(!e||!t)&&(e.texture.baseTexture===t.texture.baseTexture&&(e.color+e.alpha===t.color+t.alpha&&!!e.native===!!t.native))},t.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var e=0,t=this.graphicsData.length;e<t;e++){var n=this.graphicsData[e],r=n.fillStyle,i=n.lineStyle;if(r&&!r.texture.baseTexture.valid)return!1;if(i&&!i.texture.baseTexture.valid)return!1}return!0},t.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var e=this.batches,t=0,n=e.length;t<n;t++)for(var r=e[t],i=0;i<r.size;i++){var o=r.start+i;this.indicesUint16[o]=this.indicesUint16[o]-r.attribStart}},t.prototype.isBatchable=function(){for(var e=this.batches,n=0;n<e.length;n++)if(e[n].style.native)return!1;return this.points.length<2*t.BATCHABLE_SIZE},t.prototype.buildDrawCalls=function(){for(var e=++Tt._globalBatch,t=0;t<this.drawCalls.length;t++)this.drawCalls[t].textures.length=0,Ei.push(this.drawCalls[t]);this.drawCalls.length=0;var n=this.colors,r=this.textureIds,i=Ei.pop();i||((i=new vr).textures=new gr),i.textures.count=0,i.start=0,i.size=0,i.type=k.TRIANGLES;var o=0,a=null,s=0,l=!1,u=k.TRIANGLES,c=0;this.drawCalls.push(i);for(var f=0;f<this.batches.length;f++){var d=this.batches[f],h=d.style,p=h.texture.baseTexture;l!==!!h.native&&(u=(l=!!h.native)?k.LINES:k.TRIANGLES,a=null,o=8,e++),a!==p&&(a=p,p._batchEnabled!==e&&(8===o&&(e++,o=0,i.size>0&&((i=Ei.pop())||((i=new vr).textures=new gr),this.drawCalls.push(i)),i.start=c,i.size=0,i.textures.count=0,i.type=u),p.touched=1,p._batchEnabled=e,p._batchLocation=o,p.wrapMode=10497,i.textures.elements[i.textures.count++]=p,o++)),i.size+=d.size,c+=d.size,s=p._batchLocation,this.addColors(n,h.color,h.alpha,d.attribSize),this.addTextureIds(r,s,d.attribSize)}Tt._globalBatch=e,this.packAttributes()},t.prototype.packAttributes=function(){for(var e=this.points,t=this.uvs,n=this.colors,r=this.textureIds,i=new ArrayBuffer(3*e.length*4),o=new Float32Array(i),a=new Uint32Array(i),s=0,l=0;l<e.length/2;l++)o[s++]=e[2*l],o[s++]=e[2*l+1],o[s++]=t[2*l],o[s++]=t[2*l+1],a[s++]=n[l],o[s++]=r[l];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)},t.prototype.processFill=function(e){e.holes.length?(this.processHoles(e.holes),ui.triangulate(e,this)):xi[e.type].triangulate(e,this)},t.prototype.processLine=function(e){mi(e,this);for(var t=0;t<e.holes.length;t++)mi(e.holes[t],this)},t.prototype.processHoles=function(e){for(var t=0;t<e.length;t++){var n=e[t];xi[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}},t.prototype.calculateBounds=function(){var e=this._bounds,t=Oi,n=Re.IDENTITY;this._bounds.clear(),t.clear();for(var r=0;r<this.graphicsData.length;r++){var i=this.graphicsData[r],o=i.shape,a=i.type,s=i.lineStyle,l=i.matrix||Re.IDENTITY,u=0;if(s&&s.visible){var c=s.alignment;u=s.width,a===Ae.POLY?u*=.5+Math.abs(.5-c):u*=Math.max(0,c)}n!==l&&(t.isEmpty()||(e.addBoundsMatrix(t,n),t.clear()),n=l),a===Ae.RECT||a===Ae.RREC?t.addFramePad(o.x,o.y,o.x+o.width,o.y+o.height,u,u):a===Ae.CIRC?t.addFramePad(o.x,o.y,o.x,o.y,o.radius+u,o.radius+u):a===Ae.ELIP?t.addFramePad(o.x,o.y,o.x,o.y,o.width+u,o.height+u):e.addVerticesMatrix(n,o.points,0,o.points.length,u,u)}t.isEmpty()||e.addBoundsMatrix(t,n),e.pad(this.boundsPadding,this.boundsPadding)},t.prototype.transformPoints=function(e,t){for(var n=0;n<e.length/2;n++){var r=e[2*n],i=e[2*n+1];e[2*n]=t.a*r+t.c*i+t.tx,e[2*n+1]=t.b*r+t.d*i+t.ty}},t.prototype.addColors=function(e,t,n,r){for(var i=ne((t>>16)+(65280&t)+((255&t)<<16),n);r-- >0;)e.push(i)},t.prototype.addTextureIds=function(e,t,n){for(;n-- >0;)e.push(t)},t.prototype.addUvs=function(e,t,n,r,i,o){for(var a=0,s=t.length,l=n.frame;a<i;){var u=e[2*(r+a)],c=e[2*(r+a)+1];if(o){var f=o.a*u+o.c*c+o.tx;c=o.b*u+o.d*c+o.ty,u=f}a++,t.push(u/l.width,c/l.height)}var d=n.baseTexture;(l.width<d.width||l.height<d.height)&&this.adjustUvs(t,n,s,i)},t.prototype.adjustUvs=function(e,t,n,r){for(var i=t.baseTexture,o=1e-6,a=n+2*r,s=t.frame,l=s.width/i.width,u=s.height/i.height,c=s.x/s.width,f=s.y/s.height,d=Math.floor(e[n]+o),h=Math.floor(e[n+1]+o),p=n+2;p<a;p+=2)d=Math.min(d,Math.floor(e[p]+o)),h=Math.min(h,Math.floor(e[p+1]+o));c-=d,f-=h;for(var m=n;m<a;m+=2)e[m]=(e[m]+c)*l,e[m+1]=(e[m+1]+f)*u},Object.defineProperties(t.prototype,n),t}(wr);Ci.BATCHABLE_SIZE=100;var Ai=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e},t.prototype.reset=function(){e.prototype.reset.call(this),this.color=0,this.width=0,this.alignment=.5,this.native=!1},t}(li),Mi=new Float32Array(3),Pi={},Ii=function(e){function t(t){void 0===t&&(t=null),e.call(this),this.geometry=t||new Ci,this.geometry.refCount++,this.shader=null,this.state=zn.for2d(),this._fillStyle=new li,this._lineStyle=new Ai,this._matrix=null,this._holeMode=!1,this.currentPath=null,this.batches=[],this.batchTint=-1,this.vertexData=null,this._transformID=-1,this.batchDirty=-1,this.pluginName="batch",this.tint=16777215,this.blendMode=S.NORMAL}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={blendMode:{configurable:!0},tint:{configurable:!0},fill:{configurable:!0},line:{configurable:!0}};return t.prototype.clone=function(){return this.finishPoly(),new t(this.geometry)},n.blendMode.set=function(e){this.state.blendMode=e},n.blendMode.get=function(){return this.state.blendMode},n.tint.get=function(){return this._tint},n.tint.set=function(e){this._tint=e},n.fill.get=function(){return this._fillStyle},n.line.get=function(){return this._lineStyle},t.prototype.lineStyle=function(e){if("number"===typeof e){var t=arguments;e={width:t[0]||0,color:t[1]||0,alpha:void 0!==t[2]?t[2]:1,alignment:void 0!==t[3]?t[3]:.5,native:!!t[4]}}return this.lineTextureStyle(e)},t.prototype.lineTextureStyle=function(e){if("number"===typeof e){ve("v5.2.0","Please use object-based options for Graphics#lineTextureStyle");var t=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3],o=arguments[4],a=arguments[5],s=arguments[6];e={width:t,texture:n,color:r,alpha:i,matrix:o,alignment:a,native:s},Object.keys(e).forEach((function(t){return void 0===e[t]&&delete e[t]}))}e=Object.assign({width:0,texture:Bt.WHITE,color:e&&e.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1},e),this.currentPath&&this.startPoly();var l=e.width>0&&e.alpha>0;return l?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:l},e)):this._lineStyle.reset(),this},t.prototype.startPoly=function(){if(this.currentPath){var e=this.currentPath.points,t=this.currentPath.points.length;t>2&&(this.drawShape(this.currentPath),this.currentPath=new Xe,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))}else this.currentPath=new Xe,this.currentPath.closeStroke=!1},t.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},t.prototype.moveTo=function(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this},t.prototype.lineTo=function(e,t){this.currentPath||this.moveTo(0,0);var n=this.currentPath.points,r=n[n.length-2],i=n[n.length-1];return r===e&&i===t||n.push(e,t),this},t.prototype._initCurve=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[e,t]):this.moveTo(e,t)},t.prototype.quadraticCurveTo=function(e,t,n,r){this._initCurve();var i=this.currentPath.points;return 0===i.length&&this.moveTo(0,0),bi.curveTo(e,t,n,r,i),this},t.prototype.bezierCurveTo=function(e,t,n,r,i,o){return this._initCurve(),yi.curveTo(e,t,n,r,i,o,this.currentPath.points),this},t.prototype.arcTo=function(e,t,n,r,i){this._initCurve(e,t);var o=this.currentPath.points,a=gi.curveTo(e,t,n,r,i,o);if(a){var s=a.cx,l=a.cy,u=a.radius,c=a.startAngle,f=a.endAngle,d=a.anticlockwise;this.arc(s,l,u,c,f,d)}return this},t.prototype.arc=function(e,t,n,r,i,o){if(void 0===o&&(o=!1),r===i)return this;if(!o&&i<=r?i+=Ie:o&&r<=i&&(r+=Ie),0===i-r)return this;var a=e+Math.cos(r)*n,s=t+Math.sin(r)*n,l=this.geometry.closePointEps,u=this.currentPath?this.currentPath.points:null;if(u){var c=Math.abs(u[u.length-2]-a),f=Math.abs(u[u.length-1]-s);c<l&&f<l||u.push(a,s)}else this.moveTo(a,s),u=this.currentPath.points;return gi.arc(a,s,e,t,n,r,i,o,u),this},t.prototype.beginFill=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=1),this.beginTextureFill({texture:Bt.WHITE,color:e,alpha:t})},t.prototype.beginTextureFill=function(e){if(e instanceof Bt){ve("v5.2.0","Please use object-based options for Graphics#beginTextureFill");var t=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3];e={texture:t,color:n,alpha:r,matrix:i},Object.keys(e).forEach((function(t){return void 0===e[t]&&delete e[t]}))}e=Object.assign({texture:Bt.WHITE,color:16777215,alpha:1,matrix:null},e),this.currentPath&&this.startPoly();var o=e.alpha>0;return o?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:o},e)):this._fillStyle.reset(),this},t.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},t.prototype.drawRect=function(e,t,n,r){return this.drawShape(new We(e,t,n,r))},t.prototype.drawRoundedRect=function(e,t,n,r,i){return this.drawShape(new $e(e,t,n,r,i))},t.prototype.drawCircle=function(e,t,n){return this.drawShape(new qe(e,t,n))},t.prototype.drawEllipse=function(e,t,n,r){return this.drawShape(new Ye(e,t,n,r))},t.prototype.drawPolygon=function(e){var t=arguments,n=e,r=!0;if(n.points&&(r=n.closeStroke,n=n.points),!Array.isArray(n)){n=new Array(arguments.length);for(var i=0;i<n.length;++i)n[i]=t[i]}var o=new Xe(n);return o.closeStroke=r,this.drawShape(o),this},t.prototype.drawShape=function(e){return this._holeMode?this.geometry.drawHole(e,this._matrix):this.geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},t.prototype.drawStar=function(e,t,n,r,i,o){return void 0===o&&(o=0),this.drawPolygon(new vi(e,t,n,r,i,o))},t.prototype.clear=function(){return this.geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._matrix=null,this._holeMode=!1,this.currentPath=null,this},t.prototype.isFastRect=function(){return 1===this.geometry.graphicsData.length&&this.geometry.graphicsData[0].shape.type===Ae.RECT&&!this.geometry.graphicsData[0].lineWidth},t.prototype._render=function(e){this.finishPoly();var t=this.geometry;t.updateBatches(),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))},t.prototype._populateBatches=function(){var e=this.geometry,t=this.blendMode;this.batches=[],this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.vertexData=new Float32Array(e.points);for(var n=0,r=e.batches.length;n<r;n++){var i=e.batches[n],o=i.style.color,a=new Float32Array(this.vertexData.buffer,4*i.attribStart*2,2*i.attribSize),s=new Float32Array(e.uvsFloat32.buffer,4*i.attribStart*2,2*i.attribSize),l={vertexData:a,blendMode:t,indices:new Uint16Array(e.indicesUint16.buffer,2*i.start,i.size),uvs:s,_batchRGB:$(o),_tintRGB:o,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[n]=l}},t.prototype._renderBatched=function(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var t=0,n=this.batches.length;t<n;t++){var r=this.batches[t];r.worldAlpha=this.worldAlpha*r.alpha,e.plugins[this.pluginName].render(r)}}},t.prototype._renderDirect=function(e){var t=this._resolveDirectShader(e),n=this.geometry,r=this.tint,i=this.worldAlpha,o=t.uniforms,a=n.drawCalls;o.translationMatrix=this.transform.worldTransform,o.tint[0]=(r>>16&255)/255*i,o.tint[1]=(r>>8&255)/255*i,o.tint[2]=(255&r)/255*i,o.tint[3]=i,e.shader.bind(t),e.geometry.bind(n,t),e.state.set(this.state);for(var s=0,l=a.length;s<l;s++)this._renderDrawCallDirect(e,n.drawCalls[s])},t.prototype._renderDrawCallDirect=function(e,t){for(var n=t.textures,r=t.type,i=t.size,o=t.start,a=n.count,s=0;s<a;s++)e.texture.bind(n.elements[s],s);e.geometry.draw(r,i,o)},t.prototype._resolveDirectShader=function(e){var t=this.shader,n=this.pluginName;if(!t){if(!Pi[n]){for(var r=new Int32Array(16),i=0;i<16;i++)r[i]=i;var o={tint:new Float32Array([1,1,1,1]),translationMatrix:new Re,default:tn.from({uSamplers:r},!0)},a=e.plugins[n]._shader.program;Pi[n]=new Fn(a,o)}t=Pi[n]}return t},t.prototype._calculateBounds=function(){this.finishPoly();var e=this.geometry;if(e.graphicsData.length){var t=e.bounds,n=t.minX,r=t.minY,i=t.maxX,o=t.maxY;this._bounds.addFrame(this.transform,n,r,i,o)}},t.prototype.containsPoint=function(e){return this.worldTransform.applyInverse(e,t._TEMP_POINT),this.geometry.containsPoint(t._TEMP_POINT)},t.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var e=$(this.tint,Mi),t=0;t<this.batches.length;t++){var n=this.batches[t],r=n._batchRGB,i=(e[0]*r[0]*255<<16)+(e[1]*r[1]*255<<8)+(0|e[2]*r[2]*255);n._tintRGB=(i>>16)+(65280&i)+((255&i)<<16)}}},t.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID;for(var e=this.transform.worldTransform,t=e.a,n=e.b,r=e.c,i=e.d,o=e.tx,a=e.ty,s=this.geometry.points,l=this.vertexData,u=0,c=0;c<s.length;c+=2){var f=s[c],d=s[c+1];l[u++]=t*f+r*d+o,l[u++]=i*d+n*f+a}}},t.prototype.closePath=function(){var e=this.currentPath;return e&&(e.closeStroke=!0),this},t.prototype.setMatrix=function(e){return this._matrix=e,this},t.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},t.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this.geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,e.prototype.destroy.call(this,t)},Object.defineProperties(t.prototype,n),t}(Je);Ii._TEMP_POINT=new Me;var Di=new Me,Ni=new Uint16Array([0,1,2,0,2,3]),Ri=function(e){function t(t){e.call(this),this._anchor=new Pe(this._onAnchorUpdate,this,t?t.defaultAnchor.x:0,t?t.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tint=null,this._tintRGB=null,this.tint=16777215,this.blendMode=S.NORMAL,this.shader=null,this._cachedTint=16777215,this.uvs=null,this.texture=t||Bt.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=Ni,this.pluginName="batch",this.isSprite=!0,this._roundPixels=j.ROUND_PIXELS}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={roundPixels:{configurable:!0},width:{configurable:!0},height:{configurable:!0},anchor:{configurable:!0},tint:{configurable:!0},texture:{configurable:!0}};return t.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=de(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=de(this.scale.y)*this._height/this._texture.orig.height)},t.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},t.prototype.calculateVertices=function(){var e=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==e._updateID){this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;var t=this.transform.worldTransform,n=t.a,r=t.b,i=t.c,o=t.d,a=t.tx,s=t.ty,l=this.vertexData,u=e.trim,c=e.orig,f=this._anchor,d=0,h=0,p=0,m=0;if(u?(d=(h=u.x-f._x*c.width)+u.width,p=(m=u.y-f._y*c.height)+u.height):(d=(h=-f._x*c.width)+c.width,p=(m=-f._y*c.height)+c.height),l[0]=n*h+i*m+a,l[1]=o*m+r*h+s,l[2]=n*d+i*m+a,l[3]=o*m+r*d+s,l[4]=n*d+i*p+a,l[5]=o*p+r*d+s,l[6]=n*h+i*p+a,l[7]=o*p+r*h+s,this._roundPixels)for(var v=j.RESOLUTION,g=0;g<l.length;++g)l[g]=Math.round((l[g]*v|0)/v)}},t.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var e=this._texture,t=this.vertexTrimmedData,n=e.orig,r=this._anchor,i=this.transform.worldTransform,o=i.a,a=i.b,s=i.c,l=i.d,u=i.tx,c=i.ty,f=-r._x*n.width,d=f+n.width,h=-r._y*n.height,p=h+n.height;t[0]=o*f+s*h+u,t[1]=l*h+a*f+c,t[2]=o*d+s*h+u,t[3]=l*h+a*d+c,t[4]=o*d+s*p+u,t[5]=l*p+a*d+c,t[6]=o*f+s*p+u,t[7]=l*p+a*f+c},t.prototype._render=function(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},t.prototype._calculateBounds=function(){var e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},t.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new We),t=this._localBoundsRect),this._bounds.getRectangle(t)):e.prototype.getLocalBounds.call(this,t)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,Di);var t=this._texture.orig.width,n=this._texture.orig.height,r=-t*this.anchor.x,i=0;return Di.x>=r&&Di.x<r+t&&(i=-n*this.anchor.y,Di.y>=i&&Di.y<i+n)},t.prototype.destroy=function(t){if(e.prototype.destroy.call(this,t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"===typeof t?t:t&&t.texture){var n="boolean"===typeof t?t:t&&t.baseTexture;this._texture.destroy(!!n)}this._texture=null,this.shader=null},t.from=function(e,n){return new t(e instanceof Bt?e:Bt.from(e,n))},n.roundPixels.set=function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},n.roundPixels.get=function(){return this._roundPixels},n.width.get=function(){return Math.abs(this.scale.x)*this._texture.orig.width},n.width.set=function(e){var t=de(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e},n.height.get=function(){return Math.abs(this.scale.y)*this._texture.orig.height},n.height.set=function(e){var t=de(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e},n.anchor.get=function(){return this._anchor},n.anchor.set=function(e){this._anchor.copyFrom(e)},n.tint.get=function(){return this._tint},n.tint.set=function(e){this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16)},n.texture.get=function(){return this._texture},n.texture.set=function(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||Bt.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))},Object.defineProperties(t.prototype,n),t}(Je),Li={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},ji={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Li.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},Fi=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Bi=function(e){this.styleID=0,this.reset(),Vi(this,e,e)},zi={align:{configurable:!0},breakWords:{configurable:!0},dropShadow:{configurable:!0},dropShadowAlpha:{configurable:!0},dropShadowAngle:{configurable:!0},dropShadowBlur:{configurable:!0},dropShadowColor:{configurable:!0},dropShadowDistance:{configurable:!0},fill:{configurable:!0},fillGradientType:{configurable:!0},fillGradientStops:{configurable:!0},fontFamily:{configurable:!0},fontSize:{configurable:!0},fontStyle:{configurable:!0},fontVariant:{configurable:!0},fontWeight:{configurable:!0},letterSpacing:{configurable:!0},lineHeight:{configurable:!0},leading:{configurable:!0},lineJoin:{configurable:!0},miterLimit:{configurable:!0},padding:{configurable:!0},stroke:{configurable:!0},strokeThickness:{configurable:!0},textBaseline:{configurable:!0},trim:{configurable:!0},whiteSpace:{configurable:!0},wordWrap:{configurable:!0},wordWrapWidth:{configurable:!0}};function Hi(e){return"number"===typeof e?K(e):("string"===typeof e&&0===e.indexOf("0x")&&(e=e.replace("0x","#")),e)}function Ui(e){if(Array.isArray(e)){for(var t=0;t<e.length;++t)e[t]=Hi(e[t]);return e}return Hi(e)}function Vi(e,t,n){for(var r in n)Array.isArray(t[r])?e[r]=t[r].slice():e[r]=t[r]}Bi.prototype.clone=function(){var e={};return Vi(e,this,ji),new Bi(e)},Bi.prototype.reset=function(){Vi(this,ji,ji)},zi.align.get=function(){return this._align},zi.align.set=function(e){this._align!==e&&(this._align=e,this.styleID++)},zi.breakWords.get=function(){return this._breakWords},zi.breakWords.set=function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)},zi.dropShadow.get=function(){return this._dropShadow},zi.dropShadow.set=function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)},zi.dropShadowAlpha.get=function(){return this._dropShadowAlpha},zi.dropShadowAlpha.set=function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)},zi.dropShadowAngle.get=function(){return this._dropShadowAngle},zi.dropShadowAngle.set=function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)},zi.dropShadowBlur.get=function(){return this._dropShadowBlur},zi.dropShadowBlur.set=function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)},zi.dropShadowColor.get=function(){return this._dropShadowColor},zi.dropShadowColor.set=function(e){var t=Ui(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)},zi.dropShadowDistance.get=function(){return this._dropShadowDistance},zi.dropShadowDistance.set=function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)},zi.fill.get=function(){return this._fill},zi.fill.set=function(e){var t=Ui(e);this._fill!==t&&(this._fill=t,this.styleID++)},zi.fillGradientType.get=function(){return this._fillGradientType},zi.fillGradientType.set=function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)},zi.fillGradientStops.get=function(){return this._fillGradientStops},zi.fillGradientStops.set=function(e){(function(e,t){if(!Array.isArray(e)||!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0})(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)},zi.fontFamily.get=function(){return this._fontFamily},zi.fontFamily.set=function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)},zi.fontSize.get=function(){return this._fontSize},zi.fontSize.set=function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)},zi.fontStyle.get=function(){return this._fontStyle},zi.fontStyle.set=function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)},zi.fontVariant.get=function(){return this._fontVariant},zi.fontVariant.set=function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)},zi.fontWeight.get=function(){return this._fontWeight},zi.fontWeight.set=function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)},zi.letterSpacing.get=function(){return this._letterSpacing},zi.letterSpacing.set=function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)},zi.lineHeight.get=function(){return this._lineHeight},zi.lineHeight.set=function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)},zi.leading.get=function(){return this._leading},zi.leading.set=function(e){this._leading!==e&&(this._leading=e,this.styleID++)},zi.lineJoin.get=function(){return this._lineJoin},zi.lineJoin.set=function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)},zi.miterLimit.get=function(){return this._miterLimit},zi.miterLimit.set=function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)},zi.padding.get=function(){return this._padding},zi.padding.set=function(e){this._padding!==e&&(this._padding=e,this.styleID++)},zi.stroke.get=function(){return this._stroke},zi.stroke.set=function(e){var t=Ui(e);this._stroke!==t&&(this._stroke=t,this.styleID++)},zi.strokeThickness.get=function(){return this._strokeThickness},zi.strokeThickness.set=function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)},zi.textBaseline.get=function(){return this._textBaseline},zi.textBaseline.set=function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)},zi.trim.get=function(){return this._trim},zi.trim.set=function(e){this._trim!==e&&(this._trim=e,this.styleID++)},zi.whiteSpace.get=function(){return this._whiteSpace},zi.whiteSpace.set=function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)},zi.wordWrap.get=function(){return this._wordWrap},zi.wordWrap.set=function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)},zi.wordWrapWidth.get=function(){return this._wordWrapWidth},zi.wordWrapWidth.set=function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)},Bi.prototype.toFontString=function(){var e="number"===typeof this.fontSize?this.fontSize+"px":this.fontSize,t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(var n=t.length-1;n>=0;n--){var r=t[n].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&Fi.indexOf(r)<0&&(r='"'+r+'"'),t[n]=r}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+e+" "+t.join(",")},Object.defineProperties(Bi.prototype,zi);var Gi=function(e,t,n,r,i,o,a,s,l){this.text=e,this.style=t,this.width=n,this.height=r,this.lines=i,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=s,this.fontProperties=l};Gi.measureText=function(e,t,n,r){void 0===r&&(r=Gi._canvas),n=void 0===n||null===n?t.wordWrap:n;var i=t.toFontString(),o=Gi.measureFont(i);0===o.fontSize&&(o.fontSize=t.fontSize,o.ascent=t.fontSize);var a=r.getContext("2d");a.font=i;for(var s=(n?Gi.wordWrap(e,t,r):e).split(/(?:\r\n|\r|\n)/),l=new Array(s.length),u=0,c=0;c<s.length;c++){var f=a.measureText(s[c]).width+(s[c].length-1)*t.letterSpacing;l[c]=f,u=Math.max(u,f)}var d=u+t.strokeThickness;t.dropShadow&&(d+=t.dropShadowDistance);var h=t.lineHeight||o.fontSize+t.strokeThickness,p=Math.max(h,o.fontSize+t.strokeThickness)+(s.length-1)*(h+t.leading);return t.dropShadow&&(p+=t.dropShadowDistance),new Gi(e,t,d,p,s,l,h+t.leading,u,o)},Gi.wordWrap=function(e,t,n){void 0===n&&(n=Gi._canvas);for(var r=n.getContext("2d"),i=0,o="",a="",s={},l=t.letterSpacing,u=t.whiteSpace,c=Gi.collapseSpaces(u),f=Gi.collapseNewlines(u),d=!c,h=t.wordWrapWidth+l,p=Gi.tokenize(e),m=0;m<p.length;m++){var v=p[m];if(Gi.isNewline(v)){if(!f){a+=Gi.addLine(o),d=!c,o="",i=0;continue}v=" "}if(c){var g=Gi.isBreakingSpace(v),y=Gi.isBreakingSpace(o[o.length-1]);if(g&&y)continue}var b=Gi.getFromCache(v,l,s,r);if(b>h)if(""!==o&&(a+=Gi.addLine(o),o="",i=0),Gi.canBreakWords(v,t.breakWords))for(var _=Gi.wordWrapSplit(v),x=0;x<_.length;x++){for(var w=_[x],E=1;_[x+E];){var T=_[x+E],S=w[w.length-1];if(Gi.canBreakChars(S,T,v,x,t.breakWords))break;w+=T,E++}x+=w.length-1;var k=Gi.getFromCache(w,l,s,r);k+i>h&&(a+=Gi.addLine(o),d=!1,o="",i=0),o+=w,i+=k}else{o.length>0&&(a+=Gi.addLine(o),o="",i=0);var O=m===p.length-1;a+=Gi.addLine(v,!O),d=!1,o="",i=0}else b+i>h&&(d=!1,a+=Gi.addLine(o),o="",i=0),(o.length>0||!Gi.isBreakingSpace(v)||d)&&(o+=v,i+=b)}return a+=Gi.addLine(o,!1)},Gi.addLine=function(e,t){return void 0===t&&(t=!0),e=Gi.trimRight(e),e=t?e+"\n":e},Gi.getFromCache=function(e,t,n,r){var i=n[e];if(void 0===i){var o=e.length*t;i=r.measureText(e).width+o,n[e]=i}return i},Gi.collapseSpaces=function(e){return"normal"===e||"pre-line"===e},Gi.collapseNewlines=function(e){return"normal"===e},Gi.trimRight=function(e){if("string"!==typeof e)return"";for(var t=e.length-1;t>=0;t--){var n=e[t];if(!Gi.isBreakingSpace(n))break;e=e.slice(0,-1)}return e},Gi.isNewline=function(e){return"string"===typeof e&&Gi._newlines.indexOf(e.charCodeAt(0))>=0},Gi.isBreakingSpace=function(e){return"string"===typeof e&&Gi._breakingSpaces.indexOf(e.charCodeAt(0))>=0},Gi.tokenize=function(e){var t=[],n="";if("string"!==typeof e)return t;for(var r=0;r<e.length;r++){var i=e[r];Gi.isBreakingSpace(i)||Gi.isNewline(i)?(""!==n&&(t.push(n),n=""),t.push(i)):n+=i}return""!==n&&t.push(n),t},Gi.canBreakWords=function(e,t){return t},Gi.canBreakChars=function(e,t,n,r,i){return!0},Gi.wordWrapSplit=function(e){return e.split("")},Gi.measureFont=function(e){if(Gi._fonts[e])return Gi._fonts[e];var t={},n=Gi._canvas,r=Gi._context;r.font=e;var i=Gi.METRICS_STRING+Gi.BASELINE_SYMBOL,o=Math.ceil(r.measureText(i).width),a=Math.ceil(r.measureText(Gi.BASELINE_SYMBOL).width),s=2*a;a=a*Gi.BASELINE_MULTIPLIER|0,n.width=o,n.height=s,r.fillStyle="#f00",r.fillRect(0,0,o,s),r.font=e,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(i,0,a);var l=r.getImageData(0,0,o,s).data,u=l.length,c=4*o,f=0,d=0,h=!1;for(f=0;f<a;++f){for(var p=0;p<c;p+=4)if(255!==l[d+p]){h=!0;break}if(h)break;d+=c}for(t.ascent=a-f,d=u-c,h=!1,f=s;f>a;--f){for(var m=0;m<c;m+=4)if(255!==l[d+m]){h=!0;break}if(h)break;d-=c}return t.descent=f-a,t.fontSize=t.ascent+t.descent,Gi._fonts[e]=t,t},Gi.clearMetrics=function(e){void 0===e&&(e=""),e?delete Gi._fonts[e]:Gi._fonts={}};var Wi=function(){try{var e=new OffscreenCanvas(0,0),t=e.getContext("2d");return t&&t.measureText?e:document.createElement("canvas")}catch(n){return document.createElement("canvas")}}();Wi.width=Wi.height=10,Gi._canvas=Wi,Gi._context=Wi.getContext("2d"),Gi._fonts={},Gi.METRICS_STRING="|\xc9q\xc5",Gi.BASELINE_SYMBOL="M",Gi.BASELINE_MULTIPLIER=1.4,Gi._newlines=[10,13],Gi._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var qi={texture:!0,children:!1,baseTexture:!0},Yi=function(e){function t(t,n,r){var i=!1;r||(r=document.createElement("canvas"),i=!0),r.width=3,r.height=3;var o=Bt.from(r);o.orig=new We,o.trim=new We,e.call(this,o),this._ownCanvas=i,this.canvas=r,this.context=this.canvas.getContext("2d"),this._resolution=j.RESOLUTION,this._autoResolution=!0,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=n,this.localStyleID=-1}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={width:{configurable:!0},height:{configurable:!0},style:{configurable:!0},text:{configurable:!0},resolution:{configurable:!0}};return t.prototype.updateText=function(e){var t=this._style;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),this.dirty||!e){this._font=this._style.toFontString();var n,r,i=this.context,o=Gi.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),a=o.width,s=o.height,l=o.lines,u=o.lineHeight,c=o.lineWidths,f=o.maxLineWidth,d=o.fontProperties;this.canvas.width=Math.ceil((Math.max(1,a)+2*t.padding)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,s)+2*t.padding)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=t.strokeThickness,i.textBaseline=t.textBaseline,i.lineJoin=t.lineJoin,i.miterLimit=t.miterLimit;for(var h=t.dropShadow?2:1,p=0;p<h;++p){var m=t.dropShadow&&0===p,v=m?2*s:0,g=v*this.resolution;if(m){i.fillStyle="black",i.strokeStyle="black";var y=t.dropShadowColor,b=$("number"===typeof y?y:Z(y));i.shadowColor="rgba("+255*b[0]+","+255*b[1]+","+255*b[2]+","+t.dropShadowAlpha+")",i.shadowBlur=t.dropShadowBlur,i.shadowOffsetX=Math.cos(t.dropShadowAngle)*t.dropShadowDistance,i.shadowOffsetY=Math.sin(t.dropShadowAngle)*t.dropShadowDistance+g}else i.fillStyle=this._generateFillStyle(t,l,o),i.strokeStyle=t.stroke,i.shadowColor=0,i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;for(var _=0;_<l.length;_++)n=t.strokeThickness/2,r=t.strokeThickness/2+_*u+d.ascent,"right"===t.align?n+=f-c[_]:"center"===t.align&&(n+=(f-c[_])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(l[_],n+t.padding,r+t.padding-v,!0),t.fill&&this.drawLetterSpacing(l[_],n+t.padding,r+t.padding-v)}this.updateTexture()}},t.prototype.drawLetterSpacing=function(e,t,n,r){void 0===r&&(r=!1);var i=this._style.letterSpacing;if(0!==i)for(var o=t,a=Array.from?Array.from(e):e.split(""),s=this.context.measureText(e).width,l=0,u=0;u<a.length;++u){var c=a[u];r?this.context.strokeText(c,o,n):this.context.fillText(c,o,n),o+=s-(l=this.context.measureText(e.substring(u+1)).width)+i,s=l}else r?this.context.strokeText(e,t,n):this.context.fillText(e,t,n)},t.prototype.updateTexture=function(){var e=this.canvas;if(this._style.trim){var t=Ee(e);t.data&&(e.width=t.width,e.height=t.height,this.context.putImageData(t.data,0,0))}var n=this._texture,r=this._style,i=r.trim?0:r.padding,o=n.baseTexture;n.trim.width=n._frame.width=Math.ceil(e.width/this._resolution),n.trim.height=n._frame.height=Math.ceil(e.height/this._resolution),n.trim.x=-i,n.trim.y=-i,n.orig.width=n._frame.width-2*i,n.orig.height=n._frame.height-2*i,this._onTextureUpdate(),o.setRealSize(e.width,e.height,this._resolution),this.dirty=!1},t.prototype._render=function(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),e.prototype._render.call(this,t)},t.prototype.getLocalBounds=function(t){return this.updateText(!0),e.prototype.getLocalBounds.call(this,t)},t.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},t.prototype._onStyleChange=function(){this.dirty=!0},t.prototype._generateFillStyle=function(e,t,n){if(!Array.isArray(e.fill))return e.fill;if(1===e.fill.length)return e.fill[0];var r,i=e.dropShadow?e.dropShadowDistance:0,o=e.padding||0,a=Math.ceil(this.canvas.width/this._resolution)-i-2*o,s=Math.ceil(this.canvas.height/this._resolution)-i-2*o,l=e.fill.slice(),u=e.fillGradientStops.slice();if(!u.length)for(var c=l.length+1,f=1;f<c;++f)u.push(f/c);if(l.unshift(e.fill[0]),u.unshift(0),l.push(e.fill[e.fill.length-1]),u.push(1),e.fillGradientType===Li.LINEAR_VERTICAL){r=this.context.createLinearGradient(a/2,o,a/2,s+o);for(var d=0,h=(n.fontProperties.fontSize+e.strokeThickness)/s,p=0;p<t.length;p++)for(var m=n.lineHeight*p,v=0;v<l.length;v++){var g=m/s+("number"===typeof u[v]?u[v]:v/l.length)*h,y=Math.max(d,g);y=Math.min(y,1),r.addColorStop(y,l[v]),d=y}}else{r=this.context.createLinearGradient(o,s/2,a+o,s/2);for(var b=l.length+1,_=1,x=0;x<l.length;x++){var w=void 0;w="number"===typeof u[x]?u[x]:_/b,r.addColorStop(w,l[x]),_++}}return r},t.prototype.destroy=function(t){"boolean"===typeof t&&(t={children:t}),t=Object.assign({},qi,t),e.prototype.destroy.call(this,t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},n.width.get=function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},n.width.set=function(e){this.updateText(!0);var t=de(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e},n.height.get=function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},n.height.set=function(e){this.updateText(!0);var t=de(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e},n.style.get=function(){return this._style},n.style.set=function(e){e=e||{},this._style=e instanceof Bi?e:new Bi(e),this.localStyleID=-1,this.dirty=!0},n.text.get=function(){return this._text},n.text.set=function(e){e=String(null===e||void 0===e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},n.resolution.get=function(){return this._resolution},n.resolution.set=function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)},Object.defineProperties(t.prototype,n),t}(Ri);j.UPLOADS_PER_FRAME=4;var Xi=function(e){this.maxItemsPerFrame=e,this.itemsLeft=0};Xi.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},Xi.prototype.allowedToUpload=function(){return this.itemsLeft-- >0};var $i=function(e){var t=this;this.limiter=new Xi(j.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){t.queue&&t.prepareItems()},this.registerFindHook(to),this.registerFindHook(no),this.registerFindHook(Ki),this.registerFindHook(Zi),this.registerFindHook(Qi),this.registerUploadHook(Ji),this.registerUploadHook(eo)};function Ki(e,t){var n=!1;if(e&&e._textures&&e._textures.length)for(var r=0;r<e._textures.length;r++)if(e._textures[r]instanceof Bt){var i=e._textures[r].baseTexture;-1===t.indexOf(i)&&(t.push(i),n=!0)}return n}function Zi(e,t){if(e.baseTexture instanceof Tt){var n=e.baseTexture;return-1===t.indexOf(n)&&t.push(n),!0}return!1}function Qi(e,t){if(e._texture&&e._texture instanceof Bt){var n=e._texture.baseTexture;return-1===t.indexOf(n)&&t.push(n),!0}return!1}function Ji(e,t){return t instanceof Yi&&(t.updateText(!0),!0)}function eo(e,t){if(t instanceof Bi){var n=t.toFontString();return Gi.measureFont(n),!0}return!1}function to(e,t){if(e instanceof Yi){-1===t.indexOf(e.style)&&t.push(e.style),-1===t.indexOf(e)&&t.push(e);var n=e._texture.baseTexture;return-1===t.indexOf(n)&&t.push(n),!0}return!1}function no(e,t){return e instanceof Bi&&(-1===t.indexOf(e)&&t.push(e),!0)}$i.prototype.upload=function(e,t){"function"===typeof e&&(t=e,e=null),e&&this.add(e),this.queue.length?(t&&this.completes.push(t),this.ticking||(this.ticking=!0,it.system.addOnce(this.tick,this,tt.UTILITY))):t&&t()},$i.prototype.tick=function(){setTimeout(this.delayedTick,0)},$i.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],t=!1;if(e&&!e._destroyed)for(var n=0,r=this.uploadHooks.length;n<r;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}t||this.queue.shift()}if(this.queue.length)it.system.addOnce(this.tick,this,tt.UTILITY);else{this.ticking=!1;var i=this.completes.slice(0);this.completes.length=0;for(var o=0,a=i.length;o<a;o++)i[o]()}},$i.prototype.registerFindHook=function(e){return e&&this.addHooks.push(e),this},$i.prototype.registerUploadHook=function(e){return e&&this.uploadHooks.push(e),this},$i.prototype.add=function(e){for(var t=0,n=this.addHooks.length;t<n&&!this.addHooks[t](e,this.queue);t++);if(e instanceof Je)for(var r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this},$i.prototype.destroy=function(){this.ticking&&it.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null};var ro=function(e){function t(t){e.call(this,t),this.uploadHookHelper=this.renderer,this.registerFindHook(ao),this.registerUploadHook(io),this.registerUploadHook(oo)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}($i);function io(e,t){return t instanceof Tt&&(t._glTextures[e.CONTEXT_UID]||e.texture.bind(t),!0)}function oo(e,t){if(!(t instanceof Ii))return!1;var n=t.geometry;t.finishPoly(),n.updateBatches();for(var r=n.batches,i=0;i<r.length;i++){var o=r[i].style.texture;o&&io(e,o.baseTexture)}return n.batchable||e.geometry.bind(n,t._resolveDirectShader(e)),!0}function ao(e,t){return e instanceof Ii&&(t.push(e),!0)}var so=function(e){this.maxMilliseconds=e,this.frameStart=0};so.prototype.beginFrame=function(){this.frameStart=Date.now()},so.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds};var lo=function(e,t,n){void 0===n&&(n=null),this._texture=e instanceof Bt?e:null,this.baseTexture=e instanceof Tt?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=t,this.resolution=this._updateResolution(n||(this.baseTexture.resource?this.baseTexture.resource.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null},uo={BATCH_SIZE:{configurable:!0}};uo.BATCH_SIZE.get=function(){return 1e3},lo.prototype._updateResolution=function(e){var t=this.data.meta.scale,n=Ce(e,null);return null===n&&(n=void 0!==t?parseFloat(t):1),1!==n&&this.baseTexture.setResolution(n),n},lo.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=lo.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},lo.prototype._processFrames=function(e){for(var t=e,n=lo.BATCH_SIZE;t-e<n&&t<this._frameKeys.length;){var r=this._frameKeys[t],i=this._frames[r],o=i.frame;if(o){var a=null,s=null,l=!1!==i.trimmed&&i.sourceSize?i.sourceSize:i.frame,u=new We(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);a=i.rotated?new We(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):new We(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),!1!==i.trimmed&&i.spriteSourceSize&&(s=new We(Math.floor(i.spriteSourceSize.x)/this.resolution,Math.floor(i.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[r]=new Bt(this.baseTexture,a,u,s,i.rotated?2:0,i.anchor),Bt.addToCache(this.textures[r],r)}t++}},lo.prototype._processAnimations=function(){var e=this.data.animations||{};for(var t in e){this.animations[t]=[];for(var n=0;n<e[t].length;n++){var r=e[t][n];this.animations[t].push(this.textures[r])}}},lo.prototype._parseComplete=function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},lo.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*lo.BATCH_SIZE),this._batchIndex++,setTimeout((function(){e._batchIndex*lo.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())}),0)},lo.prototype.destroy=function(e){for(var t in void 0===e&&(e=!1),this.textures)this.textures[t].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&(this._texture&&this._texture.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},Object.defineProperties(lo,uo);var co=function(){};co.use=function(e,t){var n=e.name+"_image";if(e.data&&e.type===ri.TYPE.JSON&&e.data.frames&&!this.resources[n]){var r={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},i=co.getResourcePath(e,this.baseUrl);this.add(n,i,r,(function(n){if(n.error)t(n.error);else{var r=new lo(n.texture,e.data,e.url);r.parse((function(){e.spritesheet=r,e.textures=r.textures,t()}))}}))}else t()},co.getResourcePath=function(e,t){return e.isDataUrl?e.data.meta.image:V.a.resolve(e.url.replace(t,""),e.data.meta.image)};var fo=new Me,ho=function(e){function t(t,n,r){void 0===n&&(n=100),void 0===r&&(r=100),e.call(this,t),this.tileTransform=new Ge,this._width=n,this._height=r,this._canvasPattern=null,this.uvMatrix=t.uvMatrix||new Gn(t),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={clampMargin:{configurable:!0},tileScale:{configurable:!0},tilePosition:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};return n.clampMargin.get=function(){return this.uvMatrix.clampMargin},n.clampMargin.set=function(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)},n.tileScale.get=function(){return this.tileTransform.scale},n.tileScale.set=function(e){this.tileTransform.scale.copyFrom(e)},n.tilePosition.get=function(){return this.tileTransform.position},n.tilePosition.set=function(e){this.tileTransform.position.copyFrom(e)},t.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},t.prototype._render=function(e){var t=this._texture;t&&t.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))},t.prototype._calculateBounds=function(){var e=this._width*-this._anchor._x,t=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),r=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,t,n,r)},t.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new We),t=this._localBoundsRect),this._bounds.getRectangle(t)):e.prototype.getLocalBounds.call(this,t)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,fo);var t=this._width,n=this._height,r=-t*this.anchor._x;if(fo.x>=r&&fo.x<r+t){var i=-n*this.anchor._y;if(fo.y>=i&&fo.y<i+n)return!0}return!1},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.tileTransform=null,this.uvMatrix=null},t.from=function(e,n,r){return new t(Bt.from(e),n,r)},t.fromFrame=function(e,n,r){var i=ye[e];if(!i)throw new Error('The frameId "'+e+'" does not exist in the texture cache '+this);return new t(i,n,r)},t.fromImage=function(e,n,r,i){return i&&"object"!==typeof i&&(i={scaleMode:arguments[4],resourceOptions:{crossorigin:arguments[3]}}),new t(Bt.from(e,i),n,r)},n.width.get=function(){return this._width},n.width.set=function(e){this._width=e},n.height.get=function(){return this._height},n.height.set=function(e){this._height=e},Object.defineProperties(t.prototype,n),t}(Ri),po="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",mo=new Re,vo=function(e){function t(t){e.call(this,t);var n={globals:this.renderer.globalUniforms};this.shader=Fn.from(po,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord - floor(vTextureCoord - uClampOffset);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture2D(uSampler, coord);\n    gl_FragColor = texSample * uColor;\n}\n",n),this.simpleShader=Fn.from(po,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n",n),this.quad=new Jt,this.state=zn.for2d()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(e){var t=this.renderer,n=this.quad,r=n.vertices;r[0]=r[6]=e._width*-e.anchor.x,r[1]=r[3]=e._height*-e.anchor.y,r[2]=r[4]=e._width*(1-e.anchor.x),r[5]=r[7]=e._height*(1-e.anchor.y),e.uvRespectAnchor&&((r=n.uvs)[0]=r[6]=-e.anchor.x,r[1]=r[3]=-e.anchor.y,r[2]=r[4]=1-e.anchor.x,r[5]=r[7]=1-e.anchor.y),n.invalidate();var i=e._texture,o=i.baseTexture,a=e.tileTransform.localTransform,s=e.uvMatrix,l=o.isPowerOfTwo&&i.frame.width===o.width&&i.frame.height===o.height;l&&(o._glTextures[t.CONTEXT_UID]?l=o.wrapMode!==P.CLAMP:o.wrapMode===P.CLAMP&&(o.wrapMode=P.REPEAT));var u=l?this.simpleShader:this.shader,c=i.width,f=i.height,d=e._width,h=e._height;mo.set(a.a*c/d,a.b*c/h,a.c*f/d,a.d*f/h,a.tx/d,a.ty/h),mo.invert(),l?mo.prepend(s.mapCoord):(u.uniforms.uMapCoord=s.mapCoord.toArray(!0),u.uniforms.uClampFrame=s.uClampFrame,u.uniforms.uClampOffset=s.uClampOffset),u.uniforms.uTransform=mo.toArray(!0),u.uniforms.uColor=re(e.tint,e.worldAlpha,u.uniforms.uColor,o.alphaMode),u.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),u.uniforms.uSampler=i,t.shader.bind(u),t.geometry.bind(n),this.state.blendMode=ee(e.blendMode,o.alphaMode),t.state.set(this.state),t.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},t}(on),go=function(e){function t(t,n){var r=this;void 0===n&&(n={}),e.call(this),this._textWidth=0,this._textHeight=0,this._glyphs=[],this._font={tint:void 0!==n.tint?n.tint:16777215,align:n.align||"left",name:null,size:0},this.font=n.font,this._text=t,this._maxWidth=0,this._maxLineHeight=0,this._letterSpacing=0,this._anchor=new Pe((function(){r.dirty=!0}),this,0,0),this.dirty=!1,this.roundPixels=j.ROUND_PIXELS,this.updateText()}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={tint:{configurable:!0},align:{configurable:!0},anchor:{configurable:!0},font:{configurable:!0},text:{configurable:!0},maxWidth:{configurable:!0},maxLineHeight:{configurable:!0},textWidth:{configurable:!0},letterSpacing:{configurable:!0},textHeight:{configurable:!0}};return t.prototype.updateText=function(){for(var e=t.fonts[this._font.name],n=this._font.size/e.size,r=new Me,i=[],o=[],a=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",s=a.length,l=this._maxWidth*e.size/this._font.size,u=null,c=0,f=0,d=0,h=-1,p=0,m=0,v=0,g=0;g<s;g++){var y=a.charCodeAt(g),b=a.charAt(g);if(/(?:\s)/.test(b)&&(h=g,p=c),"\r"!==b&&"\n"!==b){var _=e.chars[y];_&&(u&&_.kerning[u]&&(r.x+=_.kerning[u]),i.push({texture:_.texture,line:d,charCode:y,position:new Me(r.x+_.xOffset+this._letterSpacing/2,r.y+_.yOffset)}),r.x+=_.xAdvance+this._letterSpacing,c=r.x,v=Math.max(v,_.yOffset+_.texture.height),u=y,-1!==h&&l>0&&r.x>l&&(fe(i,1+h-++m,1+g-h),g=h,h=-1,o.push(p),f=Math.max(f,p),d++,r.x=0,r.y+=e.lineHeight,u=null))}else o.push(c),f=Math.max(f,c),++d,++m,r.x=0,r.y+=e.lineHeight,u=null}var x=a.charAt(a.length-1);"\r"!==x&&"\n"!==x&&(/(?:\s)/.test(x)&&(c=p),o.push(c),f=Math.max(f,c));for(var w=[],E=0;E<=d;E++){var T=0;"right"===this._font.align?T=f-o[E]:"center"===this._font.align&&(T=(f-o[E])/2),w.push(T)}for(var S=i.length,k=this.tint,O=0;O<S;O++){var C=this._glyphs[O];C?C.texture=i[O].texture:((C=new Ri(i[O].texture)).roundPixels=this.roundPixels,this._glyphs.push(C)),C.position.x=(i[O].position.x+w[i[O].line])*n,C.position.y=i[O].position.y*n,C.scale.x=C.scale.y=n,C.tint=k,C.parent||this.addChild(C)}for(var A=S;A<this._glyphs.length;++A)this.removeChild(this._glyphs[A]);if(this._textWidth=f*n,this._textHeight=(r.y+e.lineHeight)*n,0!==this.anchor.x||0!==this.anchor.y)for(var M=0;M<S;M++)this._glyphs[M].x-=this._textWidth*this.anchor.x,this._glyphs[M].y-=this._textHeight*this.anchor.y;this._maxLineHeight=v*n},t.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},t.prototype.getLocalBounds=function(){return this.validate(),e.prototype.getLocalBounds.call(this)},t.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},n.tint.get=function(){return this._font.tint},n.tint.set=function(e){this._font.tint="number"===typeof e&&e>=0?e:16777215,this.dirty=!0},n.align.get=function(){return this._font.align},n.align.set=function(e){this._font.align=e||"left",this.dirty=!0},n.anchor.get=function(){return this._anchor},n.anchor.set=function(e){"number"===typeof e?this._anchor.set(e):this._anchor.copyFrom(e)},n.font.get=function(){return this._font},n.font.set=function(e){e&&("string"===typeof e?(e=e.split(" "),this._font.name=1===e.length?e[0]:e.slice(1).join(" "),this._font.size=e.length>=2?parseInt(e[0],10):t.fonts[this._font.name].size):(this._font.name=e.name,this._font.size="number"===typeof e.size?e.size:parseInt(e.size,10)),this.dirty=!0)},n.text.get=function(){return this._text},n.text.set=function(e){e=String(null===e||void 0===e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},n.maxWidth.get=function(){return this._maxWidth},n.maxWidth.set=function(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)},n.maxLineHeight.get=function(){return this.validate(),this._maxLineHeight},n.textWidth.get=function(){return this.validate(),this._textWidth},n.letterSpacing.get=function(){return this._letterSpacing},n.letterSpacing.set=function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)},n.textHeight.get=function(){return this.validate(),this._textHeight},t.registerFont=function(e,n){var r={},i=e.getElementsByTagName("info")[0],o=e.getElementsByTagName("common")[0],a=e.getElementsByTagName("page"),s=Ce(a[0].getAttribute("file")),l={};r.font=i.getAttribute("face"),r.size=parseInt(i.getAttribute("size"),10),r.lineHeight=parseInt(o.getAttribute("lineHeight"),10)/s,r.chars={},n instanceof Bt&&(n=[n]);for(var u=0;u<a.length;u++){var c=a[u].getAttribute("id"),f=a[u].getAttribute("file");l[c]=n instanceof Array?n[u]:n[f]}for(var d=e.getElementsByTagName("char"),h=0;h<d.length;h++){var p=d[h],m=parseInt(p.getAttribute("id"),10),v=p.getAttribute("page")||0,g=new We(parseInt(p.getAttribute("x"),10)/s+l[v].frame.x/s,parseInt(p.getAttribute("y"),10)/s+l[v].frame.y/s,parseInt(p.getAttribute("width"),10)/s,parseInt(p.getAttribute("height"),10)/s);r.chars[m]={xOffset:parseInt(p.getAttribute("xoffset"),10)/s,yOffset:parseInt(p.getAttribute("yoffset"),10)/s,xAdvance:parseInt(p.getAttribute("xadvance"),10)/s,kerning:{},texture:new Bt(l[v].baseTexture,g),page:v}}for(var y=e.getElementsByTagName("kerning"),b=0;b<y.length;b++){var _=y[b],x=parseInt(_.getAttribute("first"),10)/s,w=parseInt(_.getAttribute("second"),10)/s,E=parseInt(_.getAttribute("amount"),10)/s;r.chars[w]&&(r.chars[w].kerning[x]=E)}return t.fonts[r.font]=r,r},Object.defineProperties(t.prototype,n),t}(Je);go.fonts={};var yo=function(){};yo.parse=function(e,t){e.bitmapFont=go.registerFont(e.data,t)},yo.add=function(){ri.setExtensionXhrType("fnt",ri.XHR_RESPONSE_TYPE.DOCUMENT)},yo.dirname=function(e){var t=e.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return t===e?".":""===t?"/":t},yo.use=function(e,t){if(e.data&&e.type===ri.TYPE.XML)if(0!==e.data.getElementsByTagName("page").length&&0!==e.data.getElementsByTagName("info").length&&null!==e.data.getElementsByTagName("info")[0].getAttribute("face")){var n=e.isDataUrl?"":yo.dirname(e.url);e.isDataUrl&&("."===n&&(n=""),this.baseUrl&&n&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(n+="/")),(n=n.replace(this.baseUrl,""))&&"/"!==n.charAt(n.length-1)&&(n+="/");for(var r=e.data.getElementsByTagName("page"),i={},o=function(n){i[n.metadata.pageFile]=n.texture,Object.keys(i).length===r.length&&(yo.parse(e,i),t())},a=0;a<r.length;++a){var s=r[a].getAttribute("file"),l=n+s,u=!1;for(var c in this.resources){var f=this.resources[c];if(f.url===l){f.metadata.pageFile=s,f.texture?o(f):f.onAfterMiddleware.add(o),u=!0;break}}if(!u){var d={crossOrigin:e.crossOrigin,loadType:ri.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:s},e.metadata.imageMetadata),parentResource:e};this.add(l,d,o)}}}else t();else t()};var bo=function(e){function t(t){void 0===t&&(t=1),e.call(this,hr,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1}),this.alpha=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={alpha:{configurable:!0}};return n.alpha.get=function(){return this.uniforms.uAlpha},n.alpha.set=function(e){this.uniforms.uAlpha=e},Object.defineProperties(t.prototype,n),t}(Un);var _o={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},xo=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");var wo=function(e){function t(t,n,r,i,o){var a=function(e,t){var n,r=Math.ceil(e/2),i="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",o="";n=t?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<e;a++){var s=n.replace("%index%",a);o+=s=s.replace("%sampleIndex%",a-(r-1)+".0"),o+="\n"}return i=(i=i.replace("%blur%",o)).replace("%size%",e)}(o=o||5,t),s=function(e){for(var t,n=_o[e],r=n.length,i=xo,o="",a=0;a<e;a++){var s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",a);t=a,a>=r&&(t=e-a-1),o+=s=s.replace("%value%",n[t]),o+="\n"}return i=(i=i.replace("%blur%",o)).replace("%size%",e)}(o);e.call(this,a,s),this.horizontal=t,this.resolution=i||j.RESOLUTION,this._quality=0,this.quality=r||4,this.blur=n||8}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={blur:{configurable:!0},quality:{configurable:!0}};return t.prototype.apply=function(e,t,n,r){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/t.width):this.uniforms.strength=1/n.height*(n.height/t.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/t.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/t.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,n,r);else{var i=e.getFilterTexture(),o=e.renderer,a=t,s=i;this.state.blend=!1,e.applyFilter(this,a,s,!0);for(var l=1;l<this.passes-1;l++){o.renderTexture.bind(a,a.filterFrame),this.uniforms.uSampler=s;var u=s;s=a,a=u,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,s,n,r),e.returnFilterTexture(i)}},n.blur.get=function(){return this.strength},n.blur.set=function(e){this.padding=1+2*Math.abs(e),this.strength=e},n.quality.get=function(){return this._quality},n.quality.set=function(e){this._quality=e,this.passes=e},Object.defineProperties(t.prototype,n),t}(Un),Eo=function(e){function t(t,n,r,i){e.call(this),this.blurXFilter=new wo(!0,t,n,r,i),this.blurYFilter=new wo(!1,t,n,r,i),this.resolution=r||j.RESOLUTION,this.quality=n||4,this.blur=t||8,this.repeatEdgePixels=!1}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={blur:{configurable:!0},quality:{configurable:!0},blurX:{configurable:!0},blurY:{configurable:!0},blendMode:{configurable:!0},repeatEdgePixels:{configurable:!0}};return t.prototype.apply=function(e,t,n,r){var i=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(i&&o){var a=e.getFilterTexture();this.blurXFilter.apply(e,t,a,!0),this.blurYFilter.apply(e,a,n,r),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,t,n,r):this.blurXFilter.apply(e,t,n,r)},t.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},n.blur.get=function(){return this.blurXFilter.blur},n.blur.set=function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()},n.quality.get=function(){return this.blurXFilter.quality},n.quality.set=function(e){this.blurXFilter.quality=this.blurYFilter.quality=e},n.blurX.get=function(){return this.blurXFilter.blur},n.blurX.set=function(e){this.blurXFilter.blur=e,this.updatePadding()},n.blurY.get=function(){return this.blurYFilter.blur},n.blurY.set=function(e){this.blurYFilter.blur=e,this.updatePadding()},n.blendMode.get=function(){return this.blurYFilter.blendMode},n.blendMode.set=function(e){this.blurYFilter.blendMode=e},n.repeatEdgePixels.get=function(){return this._repeatEdgePixels},n.repeatEdgePixels.set=function(e){this._repeatEdgePixels=e,this.updatePadding()},Object.defineProperties(t.prototype,n),t}(Un),To=function(e){function t(){var t={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};e.call(this,pr,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",t),this.alpha=1}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={matrix:{configurable:!0},alpha:{configurable:!0}};return t.prototype._loadMatrix=function(e,t){void 0===t&&(t=!1);var n=e;t&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n},t.prototype._multiply=function(e,t,n){return e[0]=t[0]*n[0]+t[1]*n[5]+t[2]*n[10]+t[3]*n[15],e[1]=t[0]*n[1]+t[1]*n[6]+t[2]*n[11]+t[3]*n[16],e[2]=t[0]*n[2]+t[1]*n[7]+t[2]*n[12]+t[3]*n[17],e[3]=t[0]*n[3]+t[1]*n[8]+t[2]*n[13]+t[3]*n[18],e[4]=t[0]*n[4]+t[1]*n[9]+t[2]*n[14]+t[3]*n[19]+t[4],e[5]=t[5]*n[0]+t[6]*n[5]+t[7]*n[10]+t[8]*n[15],e[6]=t[5]*n[1]+t[6]*n[6]+t[7]*n[11]+t[8]*n[16],e[7]=t[5]*n[2]+t[6]*n[7]+t[7]*n[12]+t[8]*n[17],e[8]=t[5]*n[3]+t[6]*n[8]+t[7]*n[13]+t[8]*n[18],e[9]=t[5]*n[4]+t[6]*n[9]+t[7]*n[14]+t[8]*n[19]+t[9],e[10]=t[10]*n[0]+t[11]*n[5]+t[12]*n[10]+t[13]*n[15],e[11]=t[10]*n[1]+t[11]*n[6]+t[12]*n[11]+t[13]*n[16],e[12]=t[10]*n[2]+t[11]*n[7]+t[12]*n[12]+t[13]*n[17],e[13]=t[10]*n[3]+t[11]*n[8]+t[12]*n[13]+t[13]*n[18],e[14]=t[10]*n[4]+t[11]*n[9]+t[12]*n[14]+t[13]*n[19]+t[14],e[15]=t[15]*n[0]+t[16]*n[5]+t[17]*n[10]+t[18]*n[15],e[16]=t[15]*n[1]+t[16]*n[6]+t[17]*n[11]+t[18]*n[16],e[17]=t[15]*n[2]+t[16]*n[7]+t[17]*n[12]+t[18]*n[17],e[18]=t[15]*n[3]+t[16]*n[8]+t[17]*n[13]+t[18]*n[18],e[19]=t[15]*n[4]+t[16]*n[9]+t[17]*n[14]+t[18]*n[19]+t[19],e},t.prototype._colorMatrix=function(e){var t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t},t.prototype.brightness=function(e,t){var n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,t)},t.prototype.greyscale=function(e,t){var n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,t)},t.prototype.blackAndWhite=function(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)},t.prototype.hue=function(e,t){e=(e||0)/180*Math.PI;var n=Math.cos(e),r=Math.sin(e),i=1/3,o=(0,Math.sqrt)(i),a=[n+(1-n)*i,i*(1-n)-o*r,i*(1-n)+o*r,0,0,i*(1-n)+o*r,n+i*(1-n),i*(1-n)-o*r,0,0,i*(1-n)-o*r,i*(1-n)+o*r,n+i*(1-n),0,0,0,0,0,1,0];this._loadMatrix(a,t)},t.prototype.contrast=function(e,t){var n=(e||0)+1,r=-.5*(n-1),i=[n,0,0,0,r,0,n,0,0,r,0,0,n,0,r,0,0,0,1,0];this._loadMatrix(i,t)},t.prototype.saturate=function(e,t){void 0===e&&(e=0);var n=2*e/3+1,r=-.5*(n-1),i=[n,r,r,0,0,r,n,r,0,0,r,r,n,0,0,0,0,0,1,0];this._loadMatrix(i,t)},t.prototype.desaturate=function(){this.saturate(-1)},t.prototype.negative=function(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)},t.prototype.sepia=function(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)},t.prototype.technicolor=function(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)},t.prototype.polaroid=function(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)},t.prototype.toBGR=function(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)},t.prototype.kodachrome=function(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)},t.prototype.browni=function(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)},t.prototype.vintage=function(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)},t.prototype.colorTone=function(e,t,n,r,i){var o=((n=n||16770432)>>16&255)/255,a=(n>>8&255)/255,s=(255&n)/255,l=((r=r||3375104)>>16&255)/255,u=(r>>8&255)/255,c=(255&r)/255,f=[.3,.59,.11,0,0,o,a,s,e=e||.2,0,l,u,c,t=t||.15,0,o-l,a-u,s-c,0,0];this._loadMatrix(f,i)},t.prototype.night=function(e,t){var n=[-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0];this._loadMatrix(n,t)},t.prototype.predator=function(e,t){var n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,t)},t.prototype.lsd=function(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)},t.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},n.matrix.get=function(){return this.uniforms.m},n.matrix.set=function(e){this.uniforms.m=e},n.alpha.get=function(){return this.uniforms.uAlpha},n.alpha.set=function(e){this.uniforms.uAlpha=e},Object.defineProperties(t.prototype,n),t}(Un);To.prototype.grayscale=To.prototype.greyscale;var So=function(e){function t(t,n){var r=new Re;t.renderable=!1,e.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:t._texture,filterMatrix:r,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=t,this.maskMatrix=r,null!==n&&void 0!==n||(n=20),this.scale=new Me(n,n)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={map:{configurable:!0}};return t.prototype.apply=function(e,t,n,r){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var i=this.maskSprite.transform.worldTransform,o=Math.sqrt(i.a*i.a+i.b*i.b),a=Math.sqrt(i.c*i.c+i.d*i.d);0!==o&&0!==a&&(this.uniforms.rotation[0]=i.a/o,this.uniforms.rotation[1]=i.b/o,this.uniforms.rotation[2]=i.c/a,this.uniforms.rotation[3]=i.d/a),e.applyFilter(this,t,n,r)},n.map.get=function(){return this.uniforms.mapSampler},n.map.set=function(e){this.uniforms.mapSampler=e},Object.defineProperties(t.prototype,n),t}(Un),ko=function(e){function t(){e.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Un),Oo=function(e){function t(t,n){void 0===t&&(t=.5),void 0===n&&(n=Math.random()),e.call(this,pr,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0}),this.noise=t,this.seed=n}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={noise:{configurable:!0},seed:{configurable:!0}};return n.noise.get=function(){return this.uniforms.uNoise},n.noise.set=function(e){this.uniforms.uNoise=e},n.seed.get=function(){return this.uniforms.uSeed},n.seed.set=function(e){this.uniforms.uSeed=e},Object.defineProperties(t.prototype,n),t}(Un),Co=new Re;Ze.prototype._cacheAsBitmap=!1,Ze.prototype._cacheData=!1;var Ao=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(Ze.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(e){var t;this._cacheAsBitmap!==e&&(this._cacheAsBitmap=e,e?(this._cacheData||(this._cacheData=new Ao),(t=this._cacheData).originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((t=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea))}}}),Ze.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))},Ze.prototype._initCachedDisplayObject=function(e){if(!this._cacheData||!this._cacheData.sprite){var t=this.alpha;this.alpha=1,e.batch.flush();var n=this.getLocalBounds().clone();if(this.filters){var r=this.filters[0].padding;n.pad(r)}n.ceil(j.RESOLUTION);var i=e.renderTexture.current,o=e.renderTexture.sourceFrame.clone(),a=e.projection.transform,s=Ht.create(n.width,n.height),l="cacheAsBitmap_"+pe();this._cacheData.textureCacheId=l,Tt.addToCache(s.baseTexture,l),Bt.addToCache(s,l);var u=Co;u.tx=-n.x,u.ty=-n.y,this.transform.worldTransform.identity(),this.render=this._cacheData.originalRender,e.render(this,s,!0,u,!0),e.projection.transform=a,e.renderTexture.bind(i,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var c=new Ri(s);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-n.x/n.width,c.anchor.y=-n.y/n.height,c.alpha=t,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=c.containsPoint.bind(c)}},Ze.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))},Ze.prototype._initCachedDisplayObjectCanvas=function(e){if(!this._cacheData||!this._cacheData.sprite){var t=this.getLocalBounds(),n=this.alpha;this.alpha=1;var r=e.context,i=e._projTransform;t.ceil(j.RESOLUTION);var o=Ht.create(t.width,t.height),a="cacheAsBitmap_"+pe();this._cacheData.textureCacheId=a,Tt.addToCache(o.baseTexture,a),Bt.addToCache(o,a);var s=Co;this.transform.localTransform.copyTo(s),s.invert(),s.tx-=t.x,s.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,o,!0,s,!1),e.context=r,e._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var l=new Ri(o);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-t.x/t.width,l.anchor.y=-t.y/t.height,l.alpha=n,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=l.containsPoint.bind(l)}},Ze.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._lastBoundsID=this._boundsID},Ze.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},Ze.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Tt.removeFromCache(this._cacheData.textureCacheId),Bt.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},Ze.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)},Ze.prototype.name=null,Je.prototype.getChildByName=function(e){for(var t=0;t<this.children.length;t++)if(this.children[t].name===e)return this.children[t];return null},Ze.prototype.getGlobalPosition=function(e,t){return void 0===e&&(e=new Me),void 0===t&&(t=!1),this.parent?this.parent.toGlobal(this.position,e,t):(e.x=this.position.x,e.y=this.position.y),e};var Mo=function(e,t){this.uvBuffer=e,this.uvMatrix=t,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0};Mo.prototype.update=function(e){if(e||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var t=this.uvBuffer.data;this.data&&this.data.length===t.length||(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}};var Po=new Me,Io=new Xe,Do=function(e){function t(t,n,r,i){void 0===i&&(i=k.TRIANGLES),e.call(this),this.geometry=t,t.refCount++,this.shader=n,this.state=r||zn.for2d(),this.drawMode=i,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=0,this._transformID=-1,this.tint=16777215,this.blendMode=S.NORMAL,this._roundPixels=j.ROUND_PIXELS,this.batchUvs=null}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={uvBuffer:{configurable:!0},verticesBuffer:{configurable:!0},material:{configurable:!0},blendMode:{configurable:!0},roundPixels:{configurable:!0},tint:{configurable:!0},texture:{configurable:!0}};return n.uvBuffer.get=function(){return this.geometry.buffers[1]},n.verticesBuffer.get=function(){return this.geometry.buffers[0]},n.material.set=function(e){this.shader=e},n.material.get=function(){return this.shader},n.blendMode.set=function(e){this.state.blendMode=e},n.blendMode.get=function(){return this.state.blendMode},n.roundPixels.set=function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},n.roundPixels.get=function(){return this._roundPixels},n.tint.get=function(){return this.shader.tint},n.tint.set=function(e){this.shader.tint=e},n.texture.get=function(){return this.shader.texture},n.texture.set=function(e){this.shader.texture=e},t.prototype._render=function(e){var n=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===k.TRIANGLES&&n.length<2*t.BATCHABLE_SIZE?this._renderToBatch(e):this._renderDefault(e)},t.prototype._renderDefault=function(e){var t=this.shader;t.alpha=this.worldAlpha,t.update&&t.update(),e.batch.flush(),t.program.uniformData.translationMatrix&&(t.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),e.shader.bind(t),e.state.set(this.state),e.geometry.bind(this.geometry,t),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},t.prototype._renderToBatch=function(e){var t=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=t.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var n=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[n]),e.plugins[n].render(this)},t.prototype.calculateVertices=function(){var e=this.geometry,t=e.buffers[0].data;if(e.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));for(var n=this.transform.worldTransform,r=n.a,i=n.b,o=n.c,a=n.d,s=n.tx,l=n.ty,u=this.vertexData,c=0;c<u.length/2;c++){var f=t[2*c],d=t[2*c+1];u[2*c]=r*f+o*d+s,u[2*c+1]=i*f+a*d+l}if(this._roundPixels)for(var h=j.RESOLUTION,p=0;p<u.length;++p)u[p]=Math.round((u[p]*h|0)/h);this.vertexDirty=e.vertexDirtyId}},t.prototype.calculateUvs=function(){var e=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new Mo(e,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},t.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},t.prototype.containsPoint=function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,Po);for(var t=this.geometry.getBuffer("aVertexPosition").data,n=Io.points,r=this.geometry.getIndex().data,i=r.length,o=4===this.drawMode?3:1,a=0;a+2<i;a+=o){var s=2*r[a],l=2*r[a+1],u=2*r[a+2];if(n[0]=t[s],n[1]=t[s+1],n[2]=t[l],n[3]=t[l+1],n[4]=t[u],n[5]=t[u+1],Io.contains(Po.x,Po.y))return!0}return!1},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},Object.defineProperties(t.prototype,n),t}(Je);Do.BATCHABLE_SIZE=100;var No=function(e){function t(t,n){var r={uSampler:t,alpha:1,uTextureMatrix:Re.IDENTITY,uColor:new Float32Array([1,1,1,1])};(n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n)).uniforms&&Object.assign(r,n.uniforms),e.call(this,n.program||Ln.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),r),this._colorDirty=!1,this.uvMatrix=new Gn(t),this.batchable=void 0===n.program,this.pluginName=n.pluginName,this.tint=n.tint,this.alpha=n.alpha}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={texture:{configurable:!0},alpha:{configurable:!0},tint:{configurable:!0}};return n.texture.get=function(){return this.uniforms.uSampler},n.texture.set=function(e){this.uniforms.uSampler!==e&&(this.uniforms.uSampler=e,this.uvMatrix.texture=e)},n.alpha.set=function(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)},n.alpha.get=function(){return this._alpha},n.tint.set=function(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16),this._colorDirty=!0)},n.tint.get=function(){return this._tint},t.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var e=this.texture.baseTexture;re(this._tint,this._alpha,this.uniforms.uColor,e.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},Object.defineProperties(t.prototype,n),t}(Fn),Ro=function(e){function t(t,n,r){e.call(this);var i=new Wt(t),o=new Wt(n,!0),a=new Wt(r,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,A.FLOAT).addAttribute("aTextureCoord",o,2,!1,A.FLOAT).addIndex(a),this._updateId=-1}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={vertexDirtyId:{configurable:!0}};return n.vertexDirtyId.get=function(){return this.buffers[0]._updateID},Object.defineProperties(t.prototype,n),t}(Zt),Lo=function(e){function t(t,n,r,i){void 0===t&&(t=100),void 0===n&&(n=100),void 0===r&&(r=10),void 0===i&&(i=10),e.call(this),this.segWidth=r,this.segHeight=i,this.width=t,this.height=n,this.build()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.build=function(){for(var e=this.segWidth*this.segHeight,t=[],n=[],r=[],i=this.segWidth-1,o=this.segHeight-1,a=this.width/i,s=this.height/o,l=0;l<e;l++){var u=l%this.segWidth,c=l/this.segWidth|0;t.push(u*a,c*s),n.push(u/i,c/o)}for(var f=i*o,d=0;d<f;d++){var h=d%i,p=d/i|0,m=p*this.segWidth+h,v=p*this.segWidth+h+1,g=(p+1)*this.segWidth+h,y=(p+1)*this.segWidth+h+1;r.push(m,v,g,v,y,g)}this.buffers[0].data=new Float32Array(t),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(r),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},t}(Ro),jo=function(e){function t(t,n,r){void 0===t&&(t=200),void 0===r&&(r=0),e.call(this,new Float32Array(4*n.length),new Float32Array(4*n.length),new Uint16Array(6*(n.length-1))),this.points=n,this.width=t,this.textureScale=r,this.build()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.build=function(){var e=this.points;if(e){var t=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),r=this.getIndex();if(!(e.length<1)){t.data.length/4!==e.length&&(t.data=new Float32Array(4*e.length),n.data=new Float32Array(4*e.length),r.data=new Uint16Array(6*(e.length-1)));var i=n.data,o=r.data;i[0]=0,i[1]=0,i[2]=0,i[3]=1;for(var a=0,s=e[0],l=this.width*this.textureScale,u=e.length,c=0;c<u;c++){var f=4*c;if(this.textureScale>0){var d=s.x-e[c].x,h=s.y-e[c].y,p=Math.sqrt(d*d+h*h);s=e[c],a+=p/l}else a=c/(u-1);i[f]=a,i[f+1]=0,i[f+2]=a,i[f+3]=1}for(var m=0,v=0;v<u-1;v++){var g=2*v;o[m++]=g,o[m++]=g+1,o[m++]=g+2,o[m++]=g+2,o[m++]=g+1,o[m++]=g+3}n.update(),r.update(),this.updateVertices()}}},t.prototype.updateVertices=function(){var e=this.points;if(!(e.length<1)){for(var t,n=e[0],r=0,i=0,o=this.buffers[0].data,a=e.length,s=0;s<a;s++){var l=e[s],u=4*s;i=-((t=s<e.length-1?e[s+1]:l).x-n.x),r=t.y-n.y;var c=Math.sqrt(r*r+i*i),f=this.textureScale>0?this.textureScale*this.width/2:this.width/2;r/=c,i/=c,r*=f,i*=f,o[u]=l.x+r,o[u+1]=l.y+i,o[u+2]=l.x-r,o[u+3]=l.y-i,n=l}this.buffers[0].update()}},t.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},t}(Ro),Fo=function(e){function t(t,n,r){void 0===r&&(r=0);var i=new jo(t.height,n,r),o=new No(t);r>0&&(t.baseTexture.wrapMode=P.REPEAT),e.call(this,i,o),this.autoUpdate=!0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._render=function(t){(this.autoUpdate||this.geometry.width!==this.shader.texture.height)&&(this.geometry.width=this.shader.texture.height,this.geometry.update()),e.prototype._render.call(this,t)},t}(Do),Bo=function(e){function t(t,n,r){var i=new Lo(t.width,t.height,n,r),o=new No(Bt.WHITE);e.call(this,i,o),this.texture=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={texture:{configurable:!0}};return t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this.geometry.width=this.shader.texture.width,this.geometry.height=this.shader.texture.height,this.geometry.build()},n.texture.set=function(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))},n.texture.get=function(){return this.shader.texture},t.prototype._render=function(t){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),e.prototype._render.call(this,t)},Object.defineProperties(t.prototype,n),t}(Do),zo=function(e){function t(t,n,r,i,o){void 0===t&&(t=Bt.EMPTY);var a=new Ro(n,r,i);a.getBuffer("aVertexPosition").static=!1;var s=new No(t);e.call(this,a,s,null,o),this.autoUpdate=!0}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={vertices:{configurable:!0}};return n.vertices.get=function(){return this.geometry.getBuffer("aVertexPosition").data},n.vertices.set=function(e){this.geometry.getBuffer("aVertexPosition").data=e},t.prototype._render=function(t){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),e.prototype._render.call(this,t)},Object.defineProperties(t.prototype,n),t}(Do),Ho=function(e){function t(t,n,r,i,o){e.call(this,Bt.WHITE,4,4),this._origWidth=t.orig.width,this._origHeight=t.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth="undefined"!==typeof n?n:10,this._rightWidth="undefined"!==typeof i?i:10,this._topHeight="undefined"!==typeof r?r:10,this._bottomHeight="undefined"!==typeof o?o:10,this.texture=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={vertices:{configurable:!0},width:{configurable:!0},height:{configurable:!0},leftWidth:{configurable:!0},rightWidth:{configurable:!0},topHeight:{configurable:!0},bottomHeight:{configurable:!0}};return t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},n.vertices.get=function(){return this.geometry.getBuffer("aVertexPosition").data},n.vertices.set=function(e){this.geometry.getBuffer("aVertexPosition").data=e},t.prototype.updateHorizontalVertices=function(){var e=this.vertices,t=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*t,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*t,e[25]=e[27]=e[29]=e[31]=this._height},t.prototype.updateVerticalVertices=function(){var e=this.vertices,t=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*t,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*t,e[6]=e[14]=e[22]=e[30]=this._width},t.prototype._getMinScale=function(){var e=this._leftWidth+this._rightWidth,t=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,r=this._height>n?1:this._height/n;return Math.min(t,r)},n.width.get=function(){return this._width},n.width.set=function(e){this._width=e,this._refresh()},n.height.get=function(){return this._height},n.height.set=function(e){this._height=e,this._refresh()},n.leftWidth.get=function(){return this._leftWidth},n.leftWidth.set=function(e){this._leftWidth=e,this._refresh()},n.rightWidth.get=function(){return this._rightWidth},n.rightWidth.set=function(e){this._rightWidth=e,this._refresh()},n.topHeight.get=function(){return this._topHeight},n.topHeight.set=function(e){this._topHeight=e,this._refresh()},n.bottomHeight.get=function(){return this._bottomHeight},n.bottomHeight.set=function(e){this._bottomHeight=e,this._refresh()},t.prototype._refresh=function(){var e=this.texture,t=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;var n=1/this._origWidth,r=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=n*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-n*this._rightWidth,t[9]=t[11]=t[13]=t[15]=r*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-r*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},Object.defineProperties(t.prototype,n),t}(Bo),Uo=function(e){function t(t,n){e.call(this,t[0]instanceof Bt?t[0]:t[0].texture),this._textures=null,this._durations=null,this._autoUpdate=!1!==n,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={totalFrames:{configurable:!0},textures:{configurable:!0},currentFrame:{configurable:!0},playing:{configurable:!0},autoUpdate:{configurable:!0}};return t.prototype.stop=function(){this.playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(it.shared.remove(this.update,this),this._isConnectedToTicker=!1))},t.prototype.play=function(){this.playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(it.shared.add(this.update,this,tt.HIGH),this._isConnectedToTicker=!0))},t.prototype.gotoAndStop=function(e){this.stop();var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()},t.prototype.gotoAndPlay=function(e){var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture(),this.play()},t.prototype.update=function(e){var t=this.animationSpeed*e,n=this.currentFrame;if(null!==this._durations){var r=this._currentTime%1*this._durations[this.currentFrame];for(r+=t/60*1e3;r<0;)this._currentTime--,r+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);r>=this._durations[this.currentFrame];)r-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=r/this._durations[this.currentFrame]}else this._currentTime+=t;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())},t.prototype.updateTexture=function(){var e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},t.prototype.destroy=function(t){this.stop(),e.prototype.destroy.call(this,t),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},t.fromFrames=function(e){for(var n=[],r=0;r<e.length;++r)n.push(Bt.from(e[r]));return new t(n)},t.fromImages=function(e){for(var n=[],r=0;r<e.length;++r)n.push(Bt.from(e[r]));return new t(n)},n.totalFrames.get=function(){return this._textures.length},n.textures.get=function(){return this._textures},n.textures.set=function(e){if(e[0]instanceof Bt)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},n.currentFrame.get=function(){var e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e},n.playing.get=function(){return this._playing},n.autoUpdate.get=function(){return this._autoUpdate},n.autoUpdate.set=function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(it.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(it.shared.add(this.update,this),this._isConnectedToTicker=!0))},Object.defineProperties(t.prototype,n),t}(Ri),Vo="5.0.0";function Go(){var e=this;Object.defineProperties(e,{SVG_SIZE:{get:function(){return ve(Vo,"PIXI.utils.SVG_SIZE property has moved to PIXI.resources.SVGResource.SVG_SIZE"),e.SVGResource.SVG_SIZE}},TransformStatic:{get:function(){return ve(Vo,"PIXI.TransformStatic class has been removed, use PIXI.Transform"),e.Transform}},TransformBase:{get:function(){return ve(Vo,"PIXI.TransformBase class has been removed, use PIXI.Transform"),e.Transform}},TRANSFORM_MODE:{get:function(){return ve(Vo,"PIXI.TRANSFORM_MODE property has been removed"),{STATIC:0,DYNAMIC:1}}},WebGLRenderer:{get:function(){return ve(Vo,"PIXI.WebGLRenderer class has moved to PIXI.Renderer"),e.Renderer}},CanvasRenderTarget:{get:function(){return ve(Vo,"PIXI.CanvasRenderTarget class has moved to PIXI.utils.CanvasRenderTarget"),e.utils.CanvasRenderTarget}},loader:{get:function(){return ve(Vo,"PIXI.loader instance has moved to PIXI.Loader.shared"),e.Loader.shared}},FilterManager:{get:function(){return ve(Vo,"PIXI.FilterManager class has moved to PIXI.systems.FilterSystem"),e.systems.FilterSystem}},CanvasTinter:{get:function(){return ve("5.2.0","PIXI.CanvasTinter namespace has moved to PIXI.canvasUtils"),e.canvasUtils}},GroupD8:{get:function(){return ve("5.2.0","PIXI.GroupD8 namespace has moved to PIXI.groupD8"),e.groupD8}}}),e.prepare={},Object.defineProperties(e.prepare,{BasePrepare:{get:function(){return ve("5.2.1","PIXI.prepare.BasePrepare moved to PIXI.BasePrepare"),e.BasePrepare}},Prepare:{get:function(){return ve("5.2.1","PIXI.prepare.Prepare moved to PIXI.Prepare"),e.Prepare}},CanvasPrepare:{get:function(){return ve("5.2.1","PIXI.prepare.CanvasPrepare moved to PIXI.CanvasPrepare"),e.CanvasPrepare}}}),e.extract={},Object.defineProperties(e.extract,{Extract:{get:function(){return ve("5.2.1","PIXI.extract.Extract moved to PIXI.Extract"),e.Extract}},CanvasExtract:{get:function(){return ve("5.2.1","PIXI.extract.CanvasExtract moved to PIXI.CanvasExtract"),e.CanvasExtract}}}),e.extras={},Object.defineProperties(e.extras,{TilingSprite:{get:function(){return ve(Vo,"PIXI.extras.TilingSprite class has moved to PIXI.TilingSprite"),e.TilingSprite}},TilingSpriteRenderer:{get:function(){return ve(Vo,"PIXI.extras.TilingSpriteRenderer class has moved to PIXI.TilingSpriteRenderer"),e.TilingSpriteRenderer}},AnimatedSprite:{get:function(){return ve(Vo,"PIXI.extras.AnimatedSprite class has moved to PIXI.AnimatedSprite"),e.AnimatedSprite}},BitmapText:{get:function(){return ve(Vo,"PIXI.extras.BitmapText class has moved to PIXI.BitmapText"),e.BitmapText}}}),Object.defineProperties(e.utils,{getSvgSize:{get:function(){return ve(Vo,"PIXI.utils.getSvgSize function has moved to PIXI.resources.SVGResource.getSize"),e.SVGResource.getSize}}}),e.mesh={},Object.defineProperties(e.mesh,{Mesh:{get:function(){return ve(Vo,"PIXI.mesh.Mesh class has moved to PIXI.SimpleMesh"),e.SimpleMesh}},NineSlicePlane:{get:function(){return ve(Vo,"PIXI.mesh.NineSlicePlane class has moved to PIXI.NineSlicePlane"),e.NineSlicePlane}},Plane:{get:function(){return ve(Vo,"PIXI.mesh.Plane class has moved to PIXI.SimplePlane"),e.SimplePlane}},Rope:{get:function(){return ve(Vo,"PIXI.mesh.Rope class has moved to PIXI.SimpleRope"),e.SimpleRope}},RawMesh:{get:function(){return ve(Vo,"PIXI.mesh.RawMesh class has moved to PIXI.Mesh"),e.Mesh}},CanvasMeshRenderer:{get:function(){return ve(Vo,"PIXI.mesh.CanvasMeshRenderer class has moved to PIXI.CanvasMeshRenderer"),e.CanvasMeshRenderer}},MeshRenderer:{get:function(){return ve(Vo,"PIXI.mesh.MeshRenderer class has moved to PIXI.MeshRenderer"),e.MeshRenderer}}}),e.particles={},Object.defineProperties(e.particles,{ParticleContainer:{get:function(){return ve(Vo,"PIXI.particles.ParticleContainer class has moved to PIXI.ParticleContainer"),e.ParticleContainer}},ParticleRenderer:{get:function(){return ve(Vo,"PIXI.particles.ParticleRenderer class has moved to PIXI.ParticleRenderer"),e.ParticleRenderer}}}),e.ticker={},Object.defineProperties(e.ticker,{Ticker:{get:function(){return ve(Vo,"PIXI.ticker.Ticker class has moved to PIXI.Ticker"),e.Ticker}},shared:{get:function(){return ve(Vo,"PIXI.ticker.shared instance has moved to PIXI.Ticker.shared"),e.Ticker.shared}}}),e.loaders={},Object.defineProperties(e.loaders,{Loader:{get:function(){return ve(Vo,"PIXI.loaders.Loader class has moved to PIXI.Loader"),e.Loader}},Resource:{get:function(){return ve(Vo,"PIXI.loaders.Resource class has moved to PIXI.LoaderResource"),e.LoaderResource}},bitmapFontParser:{get:function(){return ve(Vo,"PIXI.loaders.bitmapFontParser function has moved to PIXI.BitmapFontLoader.use"),e.BitmapFontLoader.use}},parseBitmapFontData:{get:function(){return ve(Vo,"PIXI.loaders.parseBitmapFontData function has moved to PIXI.BitmapFontLoader.parse"),e.BitmapFontLoader.parse}},spritesheetParser:{get:function(){return ve(Vo,"PIXI.loaders.spritesheetParser function has moved to PIXI.SpritesheetLoader.use"),e.SpritesheetLoader.use}},getResourcePath:{get:function(){return ve(Vo,"PIXI.loaders.getResourcePath property has moved to PIXI.SpritesheetLoader.getResourcePath"),e.SpritesheetLoader.getResourcePath}}}),e.Loader.addPixiMiddleware=function(t){return ve(Vo,"PIXI.loaders.Loader.addPixiMiddleware function is deprecated, use PIXI.loaders.Loader.registerPlugin"),e.loaders.Loader.registerPlugin({use:t()})},Object.defineProperty(e.extract,"WebGLExtract",{get:function(){return ve(Vo,"PIXI.extract.WebGLExtract method has moved to PIXI.Extract"),e.Extract}}),Object.defineProperty(e.prepare,"WebGLPrepare",{get:function(){return ve(Vo,"PIXI.prepare.WebGLPrepare class has moved to PIXI.Prepare"),e.Prepare}}),e.Container.prototype._renderWebGL=function(e){ve(Vo,"PIXI.Container._renderWebGL method has moved to PIXI.Container._render"),this._render(e)},e.Container.prototype.renderWebGL=function(e){ve(Vo,"PIXI.Container.renderWebGL method has moved to PIXI.Container.render"),this.render(e)},e.DisplayObject.prototype.renderWebGL=function(e){ve(Vo,"PIXI.DisplayObject.renderWebGL method has moved to PIXI.DisplayObject.render"),this.render(e)},e.Container.prototype.renderAdvancedWebGL=function(e){ve(Vo,"PIXI.Container.renderAdvancedWebGL method has moved to PIXI.Container.renderAdvanced"),this.renderAdvanced(e)},Object.defineProperties(e.settings,{TRANSFORM_MODE:{get:function(){return ve(Vo,"PIXI.settings.TRANSFORM_MODE property has been removed"),0},set:function(){ve(Vo,"PIXI.settings.TRANSFORM_MODE property has been removed")}}});var t=e.BaseTexture;t.prototype.loadSource=function(t){ve(Vo,"PIXI.BaseTexture.loadSource method has been deprecated");var n=e.resources.autoDetectResource(t);n.internal=!0,this.setResource(n),this.update()};var n=!1;Object.defineProperties(t.prototype,{hasLoaded:{get:function(){return ve(Vo,"PIXI.BaseTexture.hasLoaded property has been removed, use PIXI.BaseTexture.valid"),this.valid}},imageUrl:{get:function(){return ve(Vo,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),this.resource&&this.resource.url},set:function(e){ve(Vo,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),this.resource&&(this.resource.url=e)}},source:{get:function(){return ve(Vo,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source`"),this.resource&&this.resource.source},set:function(e){ve(Vo,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source` if you want to set HTMLCanvasElement. Otherwise, create new BaseTexture."),this.resource&&(this.resource.source=e)}},premultiplyAlpha:{get:function(){return ve("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),0!==this.alphaMode},set:function(e){ve("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(e)}},_id:{get:function(){return n||(ve("5.2.0","PIXI.BaseTexture._id batch local field has been changed to `_batchLocation`"),n=!0),this._batchLocation},set:function(e){this._batchLocation=e}}}),t.fromImage=function(e,n,r,i){ve(Vo,"PIXI.BaseTexture.fromImage method has been replaced with PIXI.BaseTexture.from");var o={scale:i,crossorigin:n};return t.from(e,{scaleMode:r,resourceOptions:o})},t.fromCanvas=function(e,n){return ve(Vo,"PIXI.BaseTexture.fromCanvas method has been replaced with PIXI.BaseTexture.from"),t.from(e,{scaleMode:n})},t.fromSVG=function(e,n,r,i){ve(Vo,"PIXI.BaseTexture.fromSVG method has been replaced with PIXI.BaseTexture.from");var o={scale:i,crossorigin:n};return t.from(e,{scaleMode:r,resourceOptions:o})},Object.defineProperties(e.resources.ImageResource.prototype,{premultiplyAlpha:{get:function(){return ve("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),0!==this.alphaMode},set:function(e){ve("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(e)}}}),e.Point.prototype.copy=function(e){return ve(Vo,"PIXI.Point.copy method has been replaced with PIXI.Point.copyFrom"),this.copyFrom(e)},e.ObservablePoint.prototype.copy=function(e){return ve(Vo,"PIXI.ObservablePoint.copy method has been replaced with PIXI.ObservablePoint.copyFrom"),this.copyFrom(e)},e.Rectangle.prototype.copy=function(e){return ve(Vo,"PIXI.Rectangle.copy method has been replaced with PIXI.Rectangle.copyFrom"),this.copyFrom(e)},e.Matrix.prototype.copy=function(e){return ve(Vo,"PIXI.Matrix.copy method has been replaced with PIXI.Matrix.copyTo"),this.copyTo(e)},e.systems.StateSystem.prototype.setState=function(e){return ve("v5.1.0","StateSystem.setState has been renamed to StateSystem.set"),this.set(e)},Object.assign(e.systems.FilterSystem.prototype,{getRenderTarget:function(e,t){return ve(Vo,"PIXI.FilterManager.getRenderTarget method has been replaced with PIXI.systems.FilterSystem#getFilterTexture"),this.getFilterTexture(t)},returnRenderTarget:function(e){ve(Vo,"PIXI.FilterManager.returnRenderTarget method has been replaced with PIXI.systems.FilterSystem.returnFilterTexture"),this.returnFilterTexture(e)},calculateScreenSpaceMatrix:function(e){ve(Vo,"PIXI.systems.FilterSystem.calculateScreenSpaceMatrix method is removed, use `(vTextureCoord * inputSize.xy) + outputFrame.xy` instead");var t=e.identity(),n=this.activeState,r=n.sourceFrame,i=n.destinationFrame;return t.translate(r.x/i.width,r.y/i.height),t.scale(i.width,i.height),t},calculateNormalizedScreenSpaceMatrix:function(e){ve(Vo,"PIXI.systems.FilterManager.calculateNormalizedScreenSpaceMatrix method is removed, use `((vTextureCoord * inputSize.xy) + outputFrame.xy) / outputFrame.zw` instead.");var t=this.activeState,n=t.sourceFrame,r=t.destinationFrame,i=e.identity();i.translate(n.x/r.width,n.y/r.height);var o=r.width/n.width,a=r.height/n.height;return i.scale(o,a),i}}),Object.defineProperties(e.RenderTexture.prototype,{sourceFrame:{get:function(){return ve(Vo,"PIXI.RenderTexture.sourceFrame property has been removed"),this.filterFrame}},size:{get:function(){return ve(Vo,"PIXI.RenderTexture.size property has been removed"),this._frame}}});var r=function(e){function t(t,n,r,i){ve(Vo,"PIXI.filters.BlurXFilter class is deprecated, use PIXI.filters.BlurFilterPass"),e.call(this,!0,t,n,r,i)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(e.filters.BlurFilterPass),i=function(e){function t(t,n,r,i){ve(Vo,"PIXI.filters.BlurYFilter class is deprecated, use PIXI.filters.BlurFilterPass"),e.call(this,!1,t,n,r,i)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(e.filters.BlurFilterPass);Object.assign(e.filters,{BlurXFilter:r,BlurYFilter:i});var o=e.Sprite,a=e.Texture,s=e.Graphics;function l(e,t,n,r){return ve(Vo,"PIXI.Sprite."+e+" method is deprecated, use PIXI.Sprite.from"),o.from(t,{resourceOptions:{scale:r,crossorigin:n}})}function u(e,t,n,r){return ve(Vo,"PIXI.Texture."+e+" method is deprecated, use PIXI.Texture.from"),a.from(t,{resourceOptions:{scale:r,crossorigin:n}})}s.prototype.generateCanvasTexture||(s.prototype.generateCanvasTexture=function(){ve(Vo,'PIXI.Graphics.generateCanvasTexture method is only available in "pixi.js-legacy"')}),Object.defineProperty(e.Graphics.prototype,"graphicsData",{get:function(){return ve(Vo,"PIXI.Graphics.graphicsData property is deprecated, use PIXI.Graphics.geometry.graphicsData"),this.geometry.graphicsData}}),Object.defineProperty(e.SimpleRope.prototype,"points",{get:function(){return ve(Vo,"PIXI.SimpleRope.points property is deprecated, use PIXI.SimpleRope.geometry.points"),this.geometry.points},set:function(e){ve(Vo,"PIXI.SimpleRope.points property is deprecated, use PIXI.SimpleRope.geometry.points"),this.geometry.points=e}}),o.fromImage=l.bind(null,"fromImage"),o.fromSVG=l.bind(null,"fromSVG"),o.fromCanvas=l.bind(null,"fromCanvas"),o.fromVideo=l.bind(null,"fromVideo"),o.fromFrame=l.bind(null,"fromFrame"),a.fromImage=u.bind(null,"fromImage"),a.fromSVG=u.bind(null,"fromSVG"),a.fromCanvas=u.bind(null,"fromCanvas"),a.fromVideo=u.bind(null,"fromVideo"),a.fromFrame=u.bind(null,"fromFrame"),Object.defineProperty(e.AbstractRenderer.prototype,"autoResize",{get:function(){return ve(Vo,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity},set:function(e){ve(Vo,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity=e}}),Object.defineProperty(e.Renderer.prototype,"textureManager",{get:function(){return ve(Vo,"PIXI.Renderer.textureManager property is deprecated, use PIXI.Renderer.texture"),this.texture}}),e.utils.mixins={mixin:function(){ve(Vo,"PIXI.utils.mixins.mixin function is no longer available")},delayMixin:function(){ve(Vo,"PIXI.utils.mixins.delayMixin function is no longer available")},performMixins:function(){ve(Vo,"PIXI.utils.mixins.performMixins function is no longer available")}}}fr.registerPlugin("accessibility",nt),fr.registerPlugin("extract",Ir),fr.registerPlugin("interaction",pt),fr.registerPlugin("particle",ai),fr.registerPlugin("prepare",ro),fr.registerPlugin("batch",Or),fr.registerPlugin("tilingSprite",vo),ti.registerPlugin(yo),ti.registerPlugin(co),Cr.registerPlugin(ot),Cr.registerPlugin(ni);var Wo="5.2.4",qo={AlphaFilter:bo,BlurFilter:Eo,BlurFilterPass:wo,ColorMatrixFilter:To,DisplacementFilter:So,FXAAFilter:ko,NoiseFilter:Oo}}]]);
//# sourceMappingURL=2.f6d1a86a.chunk.js.map